import * as ___react___ from 'react';
import * as ___react_dom___ from 'react-dom'; 

function require(mod) {
  if (mod === 'react') return ___react___;
  if (mod === 'react-dom') return ___react_dom___;
  throw new Error(`Unknown module ${mod}`);
}
import{t as Ji}from"../chunk-A6CVKSUD.js";import{a as Lx,b as rt,c as Mx,d as Cn,e as l}from"../chunk-GDQBQ7MK.js";var Yv=rt(Kv=>{"use strict";l();Object.defineProperty(Kv,"__esModule",{value:!0});Kv.default=h$;var Hm,m$=new Uint8Array(16);function h$(){if(!Hm&&(Hm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hm(m$)}});var pM=rt(Um=>{"use strict";l();Object.defineProperty(Um,"__esModule",{value:!0});Um.default=void 0;var g$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Um.default=g$});var kc=rt(zm=>{"use strict";l();Object.defineProperty(zm,"__esModule",{value:!0});zm.default=void 0;var y$=x$(pM());function x$(e){return e&&e.__esModule?e:{default:e}}function v$(e){return typeof e=="string"&&y$.default.test(e)}var w$=v$;zm.default=w$});var Nc=rt(Oc=>{"use strict";l();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.default=void 0;Oc.unsafeStringify=mM;var C$=S$(kc());function S$(e){return e&&e.__esModule?e:{default:e}}var go=[];for(let e=0;e<256;++e)go.push((e+256).toString(16).slice(1));function mM(e,t=0){return go[e[t+0]]+go[e[t+1]]+go[e[t+2]]+go[e[t+3]]+"-"+go[e[t+4]]+go[e[t+5]]+"-"+go[e[t+6]]+go[e[t+7]]+"-"+go[e[t+8]]+go[e[t+9]]+"-"+go[e[t+10]]+go[e[t+11]]+go[e[t+12]]+go[e[t+13]]+go[e[t+14]]+go[e[t+15]]}function b$(e,t=0){let o=mM(e,t);if(!(0,C$.default)(o))throw TypeError("Stringified UUID is invalid");return o}var I$=b$;Oc.default=I$});var gM=rt(qm=>{"use strict";l();Object.defineProperty(qm,"__esModule",{value:!0});qm.default=void 0;var R$=L$(Yv()),P$=Nc();function L$(e){return e&&e.__esModule?e:{default:e}}var hM,Xv,Qv=0,Zv=0;function M$(e,t,o){let r=t&&o||0,n=t||new Array(16);e=e||{};let a=e.node||hM,s=e.clockseq!==void 0?e.clockseq:Xv;if(a==null||s==null){let p=e.random||(e.rng||R$.default)();a==null&&(a=hM=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=Xv=(p[6]<<8|p[7])&16383)}let i=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:Zv+1,c=i-Qv+(u-Zv)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||i>Qv)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qv=i,Zv=u,Xv=s,i+=122192928e5;let d=((i&268435455)*1e4+u)%4294967296;n[r++]=d>>>24&255,n[r++]=d>>>16&255,n[r++]=d>>>8&255,n[r++]=d&255;let f=i/4294967296*1e4&268435455;n[r++]=f>>>8&255,n[r++]=f&255,n[r++]=f>>>24&15|16,n[r++]=f>>>16&255,n[r++]=s>>>8|128,n[r++]=s&255;for(let p=0;p<6;++p)n[r+p]=a[p];return t||(0,P$.unsafeStringify)(n)}var E$=M$;qm.default=E$});var Jv=rt(Wm=>{"use strict";l();Object.defineProperty(Wm,"__esModule",{value:!0});Wm.default=void 0;var T$=D$(kc());function D$(e){return e&&e.__esModule?e:{default:e}}function A$(e){if(!(0,T$.default)(e))throw TypeError("Invalid UUID");let t,o=new Uint8Array(16);return o[0]=(t=parseInt(e.slice(0,8),16))>>>24,o[1]=t>>>16&255,o[2]=t>>>8&255,o[3]=t&255,o[4]=(t=parseInt(e.slice(9,13),16))>>>8,o[5]=t&255,o[6]=(t=parseInt(e.slice(14,18),16))>>>8,o[7]=t&255,o[8]=(t=parseInt(e.slice(19,23),16))>>>8,o[9]=t&255,o[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,o[11]=t/4294967296&255,o[12]=t>>>24&255,o[13]=t>>>16&255,o[14]=t>>>8&255,o[15]=t&255,o}var k$=A$;Wm.default=k$});var ew=rt(Ys=>{"use strict";l();Object.defineProperty(Ys,"__esModule",{value:!0});Ys.URL=Ys.DNS=void 0;Ys.default=B$;var O$=Nc(),N$=_$(Jv());function _$(e){return e&&e.__esModule?e:{default:e}}function F$(e){e=unescape(encodeURIComponent(e));let t=[];for(let o=0;o<e.length;++o)t.push(e.charCodeAt(o));return t}var yM="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ys.DNS=yM;var xM="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ys.URL=xM;function B$(e,t,o){function r(n,a,s,i){var u;if(typeof n=="string"&&(n=F$(n)),typeof a=="string"&&(a=(0,N$.default)(a)),((u=a)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+n.length);if(c.set(a),c.set(n,a.length),c=o(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){i=i||0;for(let d=0;d<16;++d)s[i+d]=c[d];return s}return(0,O$.unsafeStringify)(c)}try{r.name=e}catch{}return r.DNS=yM,r.URL=xM,r}});var wM=rt(Gm=>{"use strict";l();Object.defineProperty(Gm,"__esModule",{value:!0});Gm.default=void 0;function V$(e){if(typeof e=="string"){let t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let o=0;o<t.length;++o)e[o]=t.charCodeAt(o)}return H$(U$(z$(e),e.length*8))}function H$(e){let t=[],o=e.length*32,r="0123456789abcdef";for(let n=0;n<o;n+=8){let a=e[n>>5]>>>n%32&255,s=parseInt(r.charAt(a>>>4&15)+r.charAt(a&15),16);t.push(s)}return t}function vM(e){return(e+64>>>9<<4)+14+1}function U$(e,t){e[t>>5]|=128<<t%32,e[vM(t)-1]=t;let o=1732584193,r=-271733879,n=-1732584194,a=271733878;for(let s=0;s<e.length;s+=16){let i=o,u=r,c=n,d=a;o=Lo(o,r,n,a,e[s],7,-680876936),a=Lo(a,o,r,n,e[s+1],12,-389564586),n=Lo(n,a,o,r,e[s+2],17,606105819),r=Lo(r,n,a,o,e[s+3],22,-1044525330),o=Lo(o,r,n,a,e[s+4],7,-176418897),a=Lo(a,o,r,n,e[s+5],12,1200080426),n=Lo(n,a,o,r,e[s+6],17,-1473231341),r=Lo(r,n,a,o,e[s+7],22,-45705983),o=Lo(o,r,n,a,e[s+8],7,1770035416),a=Lo(a,o,r,n,e[s+9],12,-1958414417),n=Lo(n,a,o,r,e[s+10],17,-42063),r=Lo(r,n,a,o,e[s+11],22,-1990404162),o=Lo(o,r,n,a,e[s+12],7,1804603682),a=Lo(a,o,r,n,e[s+13],12,-40341101),n=Lo(n,a,o,r,e[s+14],17,-1502002290),r=Lo(r,n,a,o,e[s+15],22,1236535329),o=Mo(o,r,n,a,e[s+1],5,-165796510),a=Mo(a,o,r,n,e[s+6],9,-1069501632),n=Mo(n,a,o,r,e[s+11],14,643717713),r=Mo(r,n,a,o,e[s],20,-373897302),o=Mo(o,r,n,a,e[s+5],5,-701558691),a=Mo(a,o,r,n,e[s+10],9,38016083),n=Mo(n,a,o,r,e[s+15],14,-660478335),r=Mo(r,n,a,o,e[s+4],20,-405537848),o=Mo(o,r,n,a,e[s+9],5,568446438),a=Mo(a,o,r,n,e[s+14],9,-1019803690),n=Mo(n,a,o,r,e[s+3],14,-187363961),r=Mo(r,n,a,o,e[s+8],20,1163531501),o=Mo(o,r,n,a,e[s+13],5,-1444681467),a=Mo(a,o,r,n,e[s+2],9,-51403784),n=Mo(n,a,o,r,e[s+7],14,1735328473),r=Mo(r,n,a,o,e[s+12],20,-1926607734),o=Eo(o,r,n,a,e[s+5],4,-378558),a=Eo(a,o,r,n,e[s+8],11,-2022574463),n=Eo(n,a,o,r,e[s+11],16,1839030562),r=Eo(r,n,a,o,e[s+14],23,-35309556),o=Eo(o,r,n,a,e[s+1],4,-1530992060),a=Eo(a,o,r,n,e[s+4],11,1272893353),n=Eo(n,a,o,r,e[s+7],16,-155497632),r=Eo(r,n,a,o,e[s+10],23,-1094730640),o=Eo(o,r,n,a,e[s+13],4,681279174),a=Eo(a,o,r,n,e[s],11,-358537222),n=Eo(n,a,o,r,e[s+3],16,-722521979),r=Eo(r,n,a,o,e[s+6],23,76029189),o=Eo(o,r,n,a,e[s+9],4,-640364487),a=Eo(a,o,r,n,e[s+12],11,-421815835),n=Eo(n,a,o,r,e[s+15],16,530742520),r=Eo(r,n,a,o,e[s+2],23,-995338651),o=To(o,r,n,a,e[s],6,-198630844),a=To(a,o,r,n,e[s+7],10,1126891415),n=To(n,a,o,r,e[s+14],15,-1416354905),r=To(r,n,a,o,e[s+5],21,-57434055),o=To(o,r,n,a,e[s+12],6,1700485571),a=To(a,o,r,n,e[s+3],10,-1894986606),n=To(n,a,o,r,e[s+10],15,-1051523),r=To(r,n,a,o,e[s+1],21,-2054922799),o=To(o,r,n,a,e[s+8],6,1873313359),a=To(a,o,r,n,e[s+15],10,-30611744),n=To(n,a,o,r,e[s+6],15,-1560198380),r=To(r,n,a,o,e[s+13],21,1309151649),o=To(o,r,n,a,e[s+4],6,-145523070),a=To(a,o,r,n,e[s+11],10,-1120210379),n=To(n,a,o,r,e[s+2],15,718787259),r=To(r,n,a,o,e[s+9],21,-343485551),o=ja(o,i),r=ja(r,u),n=ja(n,c),a=ja(a,d)}return[o,r,n,a]}function z$(e){if(e.length===0)return[];let t=e.length*8,o=new Uint32Array(vM(t));for(let r=0;r<t;r+=8)o[r>>5]|=(e[r/8]&255)<<r%32;return o}function ja(e,t){let o=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(o>>16)<<16|o&65535}function q$(e,t){return e<<t|e>>>32-t}function $m(e,t,o,r,n,a){return ja(q$(ja(ja(t,e),ja(r,a)),n),o)}function Lo(e,t,o,r,n,a,s){return $m(t&o|~t&r,e,t,n,a,s)}function Mo(e,t,o,r,n,a,s){return $m(t&r|o&~r,e,t,n,a,s)}function Eo(e,t,o,r,n,a,s){return $m(t^o^r,e,t,n,a,s)}function To(e,t,o,r,n,a,s){return $m(o^(t|~r),e,t,n,a,s)}var W$=V$;Gm.default=W$});var SM=rt(jm=>{"use strict";l();Object.defineProperty(jm,"__esModule",{value:!0});jm.default=void 0;var $$=CM(ew()),G$=CM(wM());function CM(e){return e&&e.__esModule?e:{default:e}}var j$=(0,$$.default)("v3",48,G$.default),K$=j$;jm.default=K$});var bM=rt(Km=>{"use strict";l();Object.defineProperty(Km,"__esModule",{value:!0});Km.default=void 0;var Y$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),X$={randomUUID:Y$};Km.default=X$});var PM=rt(Ym=>{"use strict";l();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.default=void 0;var IM=RM(bM()),Q$=RM(Yv()),Z$=Nc();function RM(e){return e&&e.__esModule?e:{default:e}}function J$(e,t,o){if(IM.default.randomUUID&&!t&&!e)return IM.default.randomUUID();e=e||{};let r=e.random||(e.rng||Q$.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){o=o||0;for(let n=0;n<16;++n)t[o+n]=r[n];return t}return(0,Z$.unsafeStringify)(r)}var e3=J$;Ym.default=e3});var LM=rt(Xm=>{"use strict";l();Object.defineProperty(Xm,"__esModule",{value:!0});Xm.default=void 0;function t3(e,t,o,r){switch(e){case 0:return t&o^~t&r;case 1:return t^o^r;case 2:return t&o^t&r^o&r;case 3:return t^o^r}}function tw(e,t){return e<<t|e>>>32-t}function o3(e){let t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let s=unescape(encodeURIComponent(e));e=[];for(let i=0;i<s.length;++i)e.push(s.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let r=e.length/4+2,n=Math.ceil(r/16),a=new Array(n);for(let s=0;s<n;++s){let i=new Uint32Array(16);for(let u=0;u<16;++u)i[u]=e[s*64+u*4]<<24|e[s*64+u*4+1]<<16|e[s*64+u*4+2]<<8|e[s*64+u*4+3];a[s]=i}a[n-1][14]=(e.length-1)*8/Math.pow(2,32),a[n-1][14]=Math.floor(a[n-1][14]),a[n-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<n;++s){let i=new Uint32Array(80);for(let m=0;m<16;++m)i[m]=a[s][m];for(let m=16;m<80;++m)i[m]=tw(i[m-3]^i[m-8]^i[m-14]^i[m-16],1);let u=o[0],c=o[1],d=o[2],f=o[3],p=o[4];for(let m=0;m<80;++m){let y=Math.floor(m/20),g=tw(u,5)+t3(y,c,d,f)+p+t[y]+i[m]>>>0;p=f,f=d,d=tw(c,30)>>>0,c=u,u=g}o[0]=o[0]+u>>>0,o[1]=o[1]+c>>>0,o[2]=o[2]+d>>>0,o[3]=o[3]+f>>>0,o[4]=o[4]+p>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var r3=o3;Xm.default=r3});var EM=rt(Qm=>{"use strict";l();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.default=void 0;var n3=MM(ew()),a3=MM(LM());function MM(e){return e&&e.__esModule?e:{default:e}}var s3=(0,n3.default)("v5",80,a3.default),i3=s3;Qm.default=i3});var TM=rt(Zm=>{"use strict";l();Object.defineProperty(Zm,"__esModule",{value:!0});Zm.default=void 0;var l3="00000000-0000-0000-0000-000000000000";Zm.default=l3});var DM=rt(Jm=>{"use strict";l();Object.defineProperty(Jm,"__esModule",{value:!0});Jm.default=void 0;var u3=c3(kc());function c3(e){return e&&e.__esModule?e:{default:e}}function d3(e){if(!(0,u3.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var f3=d3;Jm.default=f3});var AM=rt(tn=>{"use strict";l();Object.defineProperty(tn,"__esModule",{value:!0});Object.defineProperty(tn,"NIL",{enumerable:!0,get:function(){return y3.default}});Object.defineProperty(tn,"parse",{enumerable:!0,get:function(){return C3.default}});Object.defineProperty(tn,"stringify",{enumerable:!0,get:function(){return w3.default}});Object.defineProperty(tn,"v1",{enumerable:!0,get:function(){return p3.default}});Object.defineProperty(tn,"v3",{enumerable:!0,get:function(){return m3.default}});Object.defineProperty(tn,"v4",{enumerable:!0,get:function(){return h3.default}});Object.defineProperty(tn,"v5",{enumerable:!0,get:function(){return g3.default}});Object.defineProperty(tn,"validate",{enumerable:!0,get:function(){return v3.default}});Object.defineProperty(tn,"version",{enumerable:!0,get:function(){return x3.default}});var p3=ia(gM()),m3=ia(SM()),h3=ia(PM()),g3=ia(EM()),y3=ia(TM()),x3=ia(DM()),v3=ia(kc()),w3=ia(Nc()),C3=ia(Jv());function ia(e){return e&&e.__esModule?e:{default:e}}});var OM=rt((EEe,kM)=>{"use strict";l();function ow(e,t){if(!e||!t||!e.length||!t.length)throw new Error("Bad alphabet");this.srcAlphabet=e,this.dstAlphabet=t}ow.prototype.convert=function(e){var t,o,r,n={},a=this.srcAlphabet.length,s=this.dstAlphabet.length,i=e.length,u=typeof e=="string"?"":[];if(!this.isValid(e))throw new Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return e;for(t=0;t<i;t++)n[t]=this.srcAlphabet.indexOf(e[t]);do{for(o=0,r=0,t=0;t<i;t++)o=o*a+n[t],o>=s?(n[r++]=parseInt(o/s,10),o=o%s):r>0&&(n[r++]=0);i=r,u=this.dstAlphabet.slice(o,o+1).concat(u)}while(r!==0);return u};ow.prototype.isValid=function(e){for(var t=0;t<e.length;++t)if(this.srcAlphabet.indexOf(e[t])===-1)return!1;return!0};kM.exports=ow});var _M=rt((DEe,NM)=>{"use strict";l();var S3=OM();function _c(e,t){var o=new S3(e,t);return function(r){return o.convert(r)}}_c.BIN="01";_c.OCT="01234567";_c.DEC="0123456789";_c.HEX="0123456789abcdef";NM.exports=_c});var Fc=rt((kEe,VM)=>{"use strict";l();var{v4:rw,validate:b3}=AM(),eh=_M(),nw={cookieBase90:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~",flickrBase58:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",uuid25Base36:"0123456789abcdefghijklmnopqrstuvwxyz"},I3={consistentLength:!0},aw,FM=(e,t,o)=>{let r=t(e.toLowerCase().replace(/-/g,""));return!o||!o.consistentLength?r:r.padStart(o.shortIdLength,o.paddingChar)},BM=(e,t)=>{let r=t(e).padStart(32,"0").match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/);return[r[1],r[2],r[3],r[4],r[5]].join("-")},R3=e=>Math.ceil(Math.log(2**128)/Math.log(e));VM.exports=(()=>{let e=(t,o)=>{let r=t||nw.flickrBase58,n={...I3,...o};if([...new Set(Array.from(r))].length!==r.length)throw new Error("The provided Alphabet has duplicate characters resulting in unreliable results");let a=R3(r.length),s={shortIdLength:a,consistentLength:n.consistentLength,paddingChar:r[0]},i=eh(eh.HEX,r),u=eh(r,eh.HEX),c=()=>FM(rw(),i,s),f={alphabet:r,fromUUID:p=>FM(p,i,s),maxLength:a,generate:c,new:c,toUUID:p=>BM(p,u),uuid:rw,validate:(p,m=!1)=>{if(!p||typeof p!="string")return!1;let y=n.consistentLength?p.length===a:p.length<=a,g=p.split("").every(v=>r.includes(v));return m===!1?y&&g:y&&g&&b3(BM(p,u))}};return Object.freeze(f),f};return e.constants=nw,e.uuid=rw,e.generate=()=>(aw||(aw=e(nw.flickrBase58).generate),aw()),e})()});var gA=rt(hA=>{"use strict";l();(function(){"use strict";typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=Lx("react"),t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function o(C){{for(var S=arguments.length,b=new Array(S>1?S-1:0),R=1;R<S;R++)b[R-1]=arguments[R];r("error",C,b)}}function r(C,S,b){{var R=t.ReactDebugCurrentFrame,P=R.getStackAddendum();P!==""&&(S+="%s",b=b.concat([P]));var M=b.map(function(T){return String(T)});M.unshift("Warning: "+S),Function.prototype.apply.call(console[C],console,M)}}function n(C,S){return C===S&&(C!==0||1/C===1/S)||C!==C&&S!==S}var a=typeof Object.is=="function"?Object.is:n,s=e.useState,i=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue,d=!1,f=!1;function p(C,S,b){d||e.startTransition!==void 0&&(d=!0,o("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var R=S();if(!f){var P=S();a(R,P)||(o("The result of getSnapshot should be cached to avoid an infinite loop"),f=!0)}var M=s({inst:{value:R,getSnapshot:S}}),T=M[0].inst,_=M[1];return u(function(){T.value=R,T.getSnapshot=S,m(T)&&_({inst:T})},[C,R,S]),i(function(){m(T)&&_({inst:T});var F=function(){m(T)&&_({inst:T})};return C(F)},[C]),c(R),R}function m(C){var S=C.getSnapshot,b=C.value;try{var R=S();return!a(b,R)}catch{return!0}}function y(C,S,b){return S()}var g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v=!g,x=v?y:p,w=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x;hA.useSyncExternalStore=w,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()});var xA=rt((z2e,yA)=>{"use strict";l();yA.exports=gA()});var wA=rt(vA=>{"use strict";l();(function(){"use strict";typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=Lx("react"),t=xA();function o(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:o,n=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,i=e.useMemo,u=e.useDebugValue;function c(d,f,p,m,y){var g=a(null),v;g.current===null?(v={hasValue:!1,value:null},g.current=v):v=g.current;var x=i(function(){var b=!1,R,P,M=function(k){if(!b){b=!0,R=k;var N=m(k);if(y!==void 0&&v.hasValue){var I=v.value;if(y(I,N))return P=I,I}return P=N,N}var A=R,L=P;if(r(A,k))return L;var D=m(k);return y!==void 0&&y(L,D)?L:(R=k,P=D,D)},T=p===void 0?null:p,_=function(){return M(f())},F=T===null?void 0:function(){return M(T())};return[_,F]},[f,p,m,y]),w=x[0],C=x[1],S=n(d,w,C);return s(function(){v.hasValue=!0,v.value=S},[S]),u(S),S}vA.useSyncExternalStoreWithSelector=c,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()});var SA=rt((G2e,CA)=>{"use strict";l();CA.exports=wA()});var ox=rt((p0,m0)=>{"use strict";l();(function(e,t){typeof p0=="object"&&typeof m0<"u"?m0.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(p0,function(){"use strict";var e=1e3,t=6e4,o=36e5,r="millisecond",n="second",a="minute",s="hour",i="day",u="week",c="month",d="quarter",f="year",p="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var N=["th","st","nd","rd"],I=k%100;return"["+k+(N[(I-20)%10]||N[I]||N[0])+"]"}},x=function(k,N,I){var A=String(k);return!A||A.length>=N?k:""+Array(N+1-A.length).join(I)+k},w={s:x,z:function(k){var N=-k.utcOffset(),I=Math.abs(N),A=Math.floor(I/60),L=I%60;return(N<=0?"+":"-")+x(A,2,"0")+":"+x(L,2,"0")},m:function k(N,I){if(N.date()<I.date())return-k(I,N);var A=12*(I.year()-N.year())+(I.month()-N.month()),L=N.clone().add(A,c),D=I-L<0,O=N.clone().add(A+(D?-1:1),c);return+(-(A+(I-L)/(D?L-O:O-L))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:c,y:f,w:u,d:i,D:p,h:s,m:a,s:n,ms:r,Q:d}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},C="en",S={};S[C]=v;var b="$isDayjsObject",R=function(k){return k instanceof _||!(!k||!k[b])},P=function k(N,I,A){var L;if(!N)return C;if(typeof N=="string"){var D=N.toLowerCase();S[D]&&(L=D),I&&(S[D]=I,L=D);var O=N.split("-");if(!L&&O.length>1)return k(O[0])}else{var E=N.name;S[E]=N,L=E}return!A&&L&&(C=L),L||!A&&C},M=function(k,N){if(R(k))return k.clone();var I=typeof N=="object"?N:{};return I.date=k,I.args=arguments,new _(I)},T=w;T.l=P,T.i=R,T.w=function(k,N){return M(k,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var _=function(){function k(I){this.$L=P(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[b]=!0}var N=k.prototype;return N.parse=function(I){this.$d=function(A){var L=A.date,D=A.utc;if(L===null)return new Date(NaN);if(T.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var O=L.match(y);if(O){var E=O[2]-1||0,V=(O[7]||"0").substring(0,3);return D?new Date(Date.UTC(O[1],E,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)):new Date(O[1],E,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)}}return new Date(L)}(I),this.init()},N.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},N.$utils=function(){return T},N.isValid=function(){return this.$d.toString()!==m},N.isSame=function(I,A){var L=M(I);return this.startOf(A)<=L&&L<=this.endOf(A)},N.isAfter=function(I,A){return M(I)<this.startOf(A)},N.isBefore=function(I,A){return this.endOf(A)<M(I)},N.$g=function(I,A,L){return T.u(I)?this[A]:this.set(L,I)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(I,A){var L=this,D=!!T.u(A)||A,O=T.p(I),E=function(z,j){var X=T.w(L.$u?Date.UTC(L.$y,j,z):new Date(L.$y,j,z),L);return D?X:X.endOf(i)},V=function(z,j){return T.w(L.toDate()[z].apply(L.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(j)),L)},B=this.$W,U=this.$M,$=this.$D,G="set"+(this.$u?"UTC":"");switch(O){case f:return D?E(1,0):E(31,11);case c:return D?E(1,U):E(0,U+1);case u:var H=this.$locale().weekStart||0,q=(B<H?B+7:B)-H;return E(D?$-q:$+(6-q),U);case i:case p:return V(G+"Hours",0);case s:return V(G+"Minutes",1);case a:return V(G+"Seconds",2);case n:return V(G+"Milliseconds",3);default:return this.clone()}},N.endOf=function(I){return this.startOf(I,!1)},N.$set=function(I,A){var L,D=T.p(I),O="set"+(this.$u?"UTC":""),E=(L={},L[i]=O+"Date",L[p]=O+"Date",L[c]=O+"Month",L[f]=O+"FullYear",L[s]=O+"Hours",L[a]=O+"Minutes",L[n]=O+"Seconds",L[r]=O+"Milliseconds",L)[D],V=D===i?this.$D+(A-this.$W):A;if(D===c||D===f){var B=this.clone().set(p,1);B.$d[E](V),B.init(),this.$d=B.set(p,Math.min(this.$D,B.daysInMonth())).$d}else E&&this.$d[E](V);return this.init(),this},N.set=function(I,A){return this.clone().$set(I,A)},N.get=function(I){return this[T.p(I)]()},N.add=function(I,A){var L,D=this;I=Number(I);var O=T.p(A),E=function(U){var $=M(D);return T.w($.date($.date()+Math.round(U*I)),D)};if(O===c)return this.set(c,this.$M+I);if(O===f)return this.set(f,this.$y+I);if(O===i)return E(1);if(O===u)return E(7);var V=(L={},L[a]=t,L[s]=o,L[n]=e,L)[O]||1,B=this.$d.getTime()+I*V;return T.w(B,this)},N.subtract=function(I,A){return this.add(-1*I,A)},N.format=function(I){var A=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var D=I||"YYYY-MM-DDTHH:mm:ssZ",O=T.z(this),E=this.$H,V=this.$m,B=this.$M,U=L.weekdays,$=L.months,G=L.meridiem,H=function(j,X,K,re){return j&&(j[X]||j(A,D))||K[X].slice(0,re)},q=function(j){return T.s(E%12||12,j,"0")},z=G||function(j,X,K){var re=j<12?"AM":"PM";return K?re.toLowerCase():re};return D.replace(g,function(j,X){return X||function(K){switch(K){case"YY":return String(A.$y).slice(-2);case"YYYY":return T.s(A.$y,4,"0");case"M":return B+1;case"MM":return T.s(B+1,2,"0");case"MMM":return H(L.monthsShort,B,$,3);case"MMMM":return H($,B);case"D":return A.$D;case"DD":return T.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return H(L.weekdaysMin,A.$W,U,2);case"ddd":return H(L.weekdaysShort,A.$W,U,3);case"dddd":return U[A.$W];case"H":return String(E);case"HH":return T.s(E,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return z(E,V,!0);case"A":return z(E,V,!1);case"m":return String(V);case"mm":return T.s(V,2,"0");case"s":return String(A.$s);case"ss":return T.s(A.$s,2,"0");case"SSS":return T.s(A.$ms,3,"0");case"Z":return O}return null}(j)||O.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(I,A,L){var D,O=this,E=T.p(A),V=M(I),B=(V.utcOffset()-this.utcOffset())*t,U=this-V,$=function(){return T.m(O,V)};switch(E){case f:D=$()/12;break;case c:D=$();break;case d:D=$()/3;break;case u:D=(U-B)/6048e5;break;case i:D=(U-B)/864e5;break;case s:D=U/o;break;case a:D=U/t;break;case n:D=U/e;break;default:D=U}return L?D:T.a(D)},N.daysInMonth=function(){return this.endOf(c).$D},N.$locale=function(){return S[this.$L]},N.locale=function(I,A){if(!I)return this.$L;var L=this.clone(),D=P(I,A,!0);return D&&(L.$L=D),L},N.clone=function(){return T.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},k}(),F=_.prototype;return M.prototype=F,[["$ms",r],["$s",n],["$m",a],["$H",s],["$W",i],["$M",c],["$y",f],["$D",p]].forEach(function(k){F[k[1]]=function(N){return this.$g(N,k[0],k[1])}}),M.extend=function(k,N){return k.$i||(k(N,_,M),k.$i=!0),M},M.locale=P,M.isDayjs=R,M.unix=function(k){return M(1e3*k)},M.en=S[C],M.Ls=S,M.p={},M})});var y0=rt((h0,g0)=>{"use strict";l();(function(e,t){typeof h0=="object"&&typeof g0<"u"?g0.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_localizedFormat=t()})(h0,function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,o,r){var n=o.prototype,a=n.format;r.en.formats=e,n.format=function(s){s===void 0&&(s="YYYY-MM-DDTHH:mm:ssZ");var i=this.$locale().formats,u=function(c,d){return c.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,p,m){var y=m&&m.toUpperCase();return p||d[m]||e[m]||d[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,v,x){return v||x.slice(1)})})}(s,i===void 0?{}:i);return a.call(this,u)}}})});l();l();l();l();import{jsx as rI,Fragment as DU}from"react/jsx-runtime";import{useMemo as AU,useRef as nI,useState as aI,useContext as kU}from"react";l();import{createContext as pU}from"react";var Kn=pU({});l();import{useRef as mU}from"react";function Ea(e){let t=mU(null);return t.current===null&&(t.current=e()),t.current}l();import{useLayoutEffect as hU,useEffect as gU}from"react";l();var el=typeof window<"u";var tl=el?hU:gU;l();import{jsx as Z0}from"react/jsx-runtime";import*as eI from"react";import{useId as bU,useMemo as J0}from"react";l();import{createContext as yU}from"react";var Yn=yU(null);l();import{jsx as vU}from"react/jsx-runtime";import*as Zf from"react";import{useId as wU,useRef as X0,useContext as CU,useInsertionEffect as SU}from"react";l();import{createContext as xU}from"react";var er=xU({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});var Ex=class extends Zf.Component{getSnapshotBeforeUpdate(t){let o=this.props.childRef.current;if(o&&t.isPresent&&!this.props.isPresent){let r=o.offsetParent,n=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=o.offsetHeight||0,a.width=o.offsetWidth||0,a.top=o.offsetTop,a.left=o.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}};function Q0({children:e,isPresent:t,anchorX:o}){let r=wU(),n=X0(null),a=X0({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=CU(er);return SU(()=>{let{width:i,height:u,top:c,left:d,right:f}=a.current;if(t||!n.current||!i||!u)return;let p=o==="left"?`left: ${d}`:`right: ${f}`;n.current.dataset.motionPopId=r;let m=document.createElement("style");return s&&(m.nonce=s),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[t]),vU(Ex,{isPresent:t,childRef:n,sizeRef:a,children:Zf.cloneElement(e,{ref:n})})}var tI=({children:e,initial:t,isPresent:o,onExitComplete:r,custom:n,presenceAffectsLayout:a,mode:s,anchorX:i})=>{let u=Ea(IU),c=bU(),d=!0,f=J0(()=>(d=!1,{id:c,initial:t,isPresent:o,custom:n,onExitComplete:p=>{u.set(p,!0);for(let m of u.values())if(!m)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[o,u,r]);return a&&d&&(f={...f}),J0(()=>{u.forEach((p,m)=>u.set(m,!1))},[o]),eI.useEffect(()=>{!o&&!u.size&&r&&r()},[o]),s==="popLayout"&&(e=Z0(Q0,{isPresent:o,anchorX:i,children:e})),Z0(Yn.Provider,{value:f,children:e})};function IU(){return new Map}l();import{useContext as oI,useId as RU,useEffect as PU,useCallback as LU}from"react";function oc(e=!0){let t=oI(Yn);if(t===null)return[!0,null];let{isPresent:o,onExitComplete:r,register:n}=t,a=RU();PU(()=>{if(e)return n(a)},[e]);let s=LU(()=>e&&r&&r(a),[a,r,e]);return!o&&r?[!1,s]:[!0]}function rc(){return MU(oI(Yn))}function MU(e){return e===null?!0:e.isPresent}l();import{Children as EU,isValidElement as TU}from"react";var nc=e=>e.key||"";function Tx(e){let t=[];return EU.forEach(e,o=>{TU(o)&&t.push(o)}),t}var Zr=({children:e,custom:t,initial:o=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:a="sync",propagate:s=!1,anchorX:i="left"})=>{let[u,c]=oc(s),d=AU(()=>Tx(e),[e]),f=s&&!u?[]:d.map(nc),p=nI(!0),m=nI(d),y=Ea(()=>new Map),[g,v]=aI(d),[x,w]=aI(d);tl(()=>{p.current=!1,m.current=d;for(let b=0;b<x.length;b++){let R=nc(x[b]);f.includes(R)?y.delete(R):y.get(R)!==!0&&y.set(R,!1)}},[x,f.length,f.join("-")]);let C=[];if(d!==g){let b=[...d];for(let R=0;R<x.length;R++){let P=x[R],M=nc(P);f.includes(M)||(b.splice(R,0,P),C.push(P))}return a==="wait"&&C.length&&(b=C),w(Tx(b)),v(d),null}a==="wait"&&x.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`);let{forceRender:S}=kU(Kn);return rI(DU,{children:x.map(b=>{let R=nc(b),P=s&&!u?!1:d===x||f.includes(R),M=()=>{if(y.has(R))y.set(R,!0);else return;let T=!0;y.forEach(_=>{_||(T=!1)}),T&&(S?.(),w(m.current),s&&c?.(),r&&r())};return rI(tI,{isPresent:P,initial:!p.current||o?void 0:!1,custom:t,presenceAffectsLayout:n,mode:a,onExitComplete:P?void 0:M,anchorX:i,children:b},R)})})};l();import{jsx as VU}from"react/jsx-runtime";import{useContext as dI,useRef as HU,useMemo as UU}from"react";l();import{createContext as OU}from"react";var sI=OU(null);l();import{useState as FU,useCallback as uI}from"react";l();import{useRef as NU}from"react";function iI(){let e=NU(!1);return tl(()=>(e.current=!0,()=>{e.current=!1}),[]),e}l();l();l();var ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];l();l();var vr={value:null,addProjectionMetrics:null};function lI(e,t){let o=new Set,r=new Set,n=!1,a=!1,s=new WeakSet,i={delta:0,timestamp:0,isProcessing:!1},u=0;function c(f){s.has(f)&&(d.schedule(f),e()),u++,f(i)}let d={schedule:(f,p=!1,m=!1)=>{let g=m&&n?o:r;return p&&s.add(f),g.has(f)||g.add(f),f},cancel:f=>{r.delete(f),s.delete(f)},process:f=>{if(i=f,n){a=!0;return}n=!0,[o,r]=[r,o],o.forEach(c),t&&vr.value&&vr.value.frameloop[t].push(u),u=0,o.clear(),n=!1,a&&(a=!1,d.process(f))}};return d}l();var Uo={};var _U=40;function Jf(e,t){let o=!1,r=!0,n={delta:0,timestamp:0,isProcessing:!1},a=()=>o=!0,s=ac.reduce((C,S)=>(C[S]=lI(a,t?S:void 0),C),{}),{setup:i,read:u,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:m,postRender:y}=s,g=()=>{let C=Uo.useManualTiming?n.timestamp:performance.now();o=!1,Uo.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(C-n.timestamp,_U),1)),n.timestamp=C,n.isProcessing=!0,i.process(n),u.process(n),c.process(n),d.process(n),f.process(n),p.process(n),m.process(n),y.process(n),n.isProcessing=!1,o&&t&&(r=!1,e(g))},v=()=>{o=!0,r=!0,n.isProcessing||e(g)};return{schedule:ac.reduce((C,S)=>{let b=s[S];return C[S]=(R,P=!1,M=!1)=>(o||v(),b.schedule(R,P,M)),C},{}),cancel:C=>{for(let S=0;S<ac.length;S++)s[ac[S]].cancel(C)},state:n,steps:s}}l();var bt=e=>e;var{schedule:be,cancel:wr,state:Et,steps:ep}=Jf(typeof requestAnimationFrame<"u"?requestAnimationFrame:bt,!0);function cI(){let e=iI(),[t,o]=FU(0),r=uI(()=>{e.current&&o(t+1)},[t]);return[uI(()=>be.postRender(r),[r]),t]}l();var BU=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Dx(){let e=new Set,t=new WeakMap,o=()=>e.forEach(BU);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",o))},remove:r=>{e.delete(r);let n=t.get(r);n&&(n(),t.delete(r)),o()},dirty:o}}var fI=e=>e===!0,zU=e=>fI(e===!0)||e==="id",Ax=({children:e,id:t,inherit:o=!0})=>{let r=dI(Kn),n=dI(sI),[a,s]=cI(),i=HU(null),u=r.id||n;i.current===null&&(zU(o)&&u&&(t=t?u+"-"+t:u),i.current={id:t,group:fI(o)?r.group||Dx():Dx()});let c=UU(()=>({...i.current,forceRender:a}),[s]);return VU(Kn.Provider,{value:c,children:e})};l();import{createContext as qU}from"react";var tp=qU({strict:!1});l();l();var pI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xn={};for(let e in pI)Xn[e]={isEnabled:t=>pI[e].some(o=>!!t[o])};function mI(e){for(let t in e)Xn[t]={...Xn[t],...e[t]}}l();import{jsx as $U}from"react/jsx-runtime";import{useContext as GU,useMemo as jU}from"react";l();l();var WU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WU.has(e)}var hI=e=>!sc(e);function kx(e){e&&(hI=t=>t.startsWith("on")?!sc(t):e(t))}try{kx(Lx("@emotion/is-prop-valid").default)}catch{}function gI(e,t,o){let r={};for(let n in e)n==="values"&&typeof e.values=="object"||(hI(n)||o===!0&&sc(n)||!t&&!sc(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}function Ox({children:e,isValidProp:t,...o}){t&&kx(t),o={...GU(er),...o},o.isStatic=Ea(()=>o.isStatic);let r=jU(()=>o,[JSON.stringify(o.transition),o.transformPagePoint,o.reducedMotion]);return $U(er.Provider,{value:r,children:e})}l();l();var yI=new Set;function ol(e,t,o){e||yI.has(t)||(console.warn(t),o&&console.warn(o),yI.add(t))}function xI(e){if(typeof Proxy>"u")return e;let t=new Map,o=(...r)=>(ol(!1,"motion() is deprecated. Use motion.create() instead."),e(...r));return new Proxy(o,{get:(r,n)=>n==="create"?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}l();l();import{jsxs as rz,jsx as nz}from"react/jsx-runtime";import{forwardRef as az,useContext as _x}from"react";l();import{createContext as KU}from"react";var Ta=KU({});l();import{useContext as YU,useMemo as XU}from"react";l();l();l();function Da(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}l();function Qn(e){return typeof e=="string"||Array.isArray(e)}l();var op=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ic=["initial",...op];function ks(e){return Da(e.animate)||ic.some(t=>Qn(e[t]))}function rp(e){return!!(ks(e)||e.variants)}function vI(e,t){if(ks(e)){let{initial:o,animate:r}=e;return{initial:o===!1||Qn(o)?o:void 0,animate:Qn(r)?r:void 0}}return e.inherit!==!1?t:{}}function CI(e){let{initial:t,animate:o}=vI(e,YU(Ta));return XU(()=>({initial:t,animate:o}),[wI(t),wI(o)])}function wI(e){return Array.isArray(e)?e.join(" "):e}l();var SI=Symbol.for("motionComponentSymbol");l();import{useCallback as QU}from"react";l();function Zn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bI(e,t,o){return QU(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),o&&(typeof o=="function"?o(r):Zn(o)&&(o.current=r))},[t])}l();import{useContext as lc,useRef as Nx,useInsertionEffect as ez,useEffect as tz}from"react";l();l();var rl=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase();var ZU="framerAppearId",np="data-"+rl(ZU);l();import{createContext as JU}from"react";var ap=JU({});l();var{schedule:nl,cancel:mie}=Jf(queueMicrotask,!1);function II(e,t,o,r,n){let{visualElement:a}=lc(Ta),s=lc(tp),i=lc(Yn),u=lc(er).reducedMotion,c=Nx(null);r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:o,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:u}));let d=c.current,f=lc(ap);d&&!d.projection&&n&&(d.type==="html"||d.type==="svg")&&oz(c.current,o,n,f);let p=Nx(!1);ez(()=>{d&&p.current&&d.update(o,i)});let m=o[np],y=Nx(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return tl(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),nl.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),tz(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1))}),d}function oz(e,t,o,r){let{layoutId:n,layout:a,drag:s,dragConstraints:i,layoutScroll:u,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new o(e.latestValues,t["data-framer-portal-id"]?void 0:RI(e.parent)),e.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!s||i&&Zn(i),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:u,layoutRoot:c})}function RI(e){if(e)return e.options.allowProjection!==!1?e.projection:RI(e.parent)}l();var Jr=()=>{},Ot=()=>{};Jr=(e,t)=>{!e&&typeof console<"u"&&console.warn(t)},Ot=(e,t)=>{if(!e)throw new Error(t)};function PI({preloadedFeatures:e,createVisualElement:t,useRender:o,useVisualState:r,Component:n}){e&&mI(e);function a(i,u){let c,d={..._x(er),...i,layoutId:sz(i)},{isStatic:f}=d,p=CI(i),m=r(i,f);if(!f&&el){iz(d,e);let y=lz(d);c=y.MeasureLayout,p.visualElement=II(n,m,d,t,y.ProjectionNode)}return rz(Ta.Provider,{value:p,children:[c&&p.visualElement?nz(c,{visualElement:p.visualElement,...d}):null,o(n,i,bI(m,p.visualElement,u),m,f,p.visualElement)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;let s=az(a);return s[SI]=n,s}function sz({layoutId:e}){let t=_x(Kn).id;return t&&e!==void 0?t+"-"+e:e}function iz(e,t){let o=_x(tp).strict;if(t&&o){let r="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";e.ignoreStrict?Jr(!1,r):Ot(!1,r)}}function lz(e){let{drag:t,layout:o}=Xn;if(!t&&!o)return{};let r={...t,...o};return{MeasureLayout:t?.isEnabled(e)||o?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}l();import{Fragment as vz,useMemo as wz,createElement as Cz}from"react";l();import{useMemo as pz}from"react";l();l();l();var LI=e=>t=>typeof t=="string"&&t.startsWith(e),al=LI("--"),uz=LI("var(--"),sl=e=>uz(e)?cz.test(e.split("/*")[0].trim()):!1,cz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;var Os={};function uc(e){for(let t in e)Os[t]=e[t],al(t)&&(Os[t].isCSSVariable=!0)}l();var Sn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_r=new Set(Sn);function sp(e,{layout:t,layoutId:o}){return _r.has(e)||e.startsWith("origin")||(t||o!==void 0)&&(!!Os[e]||e==="opacity")}l();var ze=e=>!!(e&&e.getVelocity);l();l();l();var ip=(e,t)=>t&&typeof e=="number"?t.transform(e):e;l();l();l();l();var ho=(e,t,o)=>o>t?t:o<e?e:o;var bn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jn={...bn,transform:e=>ho(0,1,e)},cc={...bn,default:1};var Fx={...bn,transform:Math.round};l();var dc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),In=dc("deg"),zo=dc("%"),ue=dc("px"),MI=dc("vh"),EI=dc("vw"),Bx={...zo,parse:e=>zo.parse(e)/100,transform:e=>zo.transform(e*100)};l();var TI={rotate:In,rotateX:In,rotateY:In,rotateZ:In,scale:cc,scaleX:cc,scaleY:cc,scaleZ:cc,skew:In,skewX:In,skewY:In,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Jn,originX:Bx,originY:Bx,originZ:ue};var il={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...TI,zIndex:Fx,fillOpacity:Jn,strokeOpacity:Jn,numOctaves:Fx};var dz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fz=Sn.length;function DI(e,t,o){let r="",n=!0;for(let a=0;a<fz;a++){let s=Sn[a],i=e[s];if(i===void 0)continue;let u=!0;if(typeof i=="number"?u=i===(s.startsWith("scale")?1:0):u=parseFloat(i)===0,!u||o){let c=ip(i,il[s]);if(!u){n=!1;let d=dz[s]||s;r+=`${d}(${c}) `}o&&(t[s]=c)}}return r=r.trim(),o?r=o(t,n?"":r):n&&(r="none"),r}function ll(e,t,o){let{style:r,vars:n,transformOrigin:a}=e,s=!1,i=!1;for(let u in t){let c=t[u];if(_r.has(u)){s=!0;continue}else if(al(u)){n[u]=c;continue}else{let d=ip(c,il[u]);u.startsWith("origin")?(i=!0,a[u]=d):r[u]=d}}if(t.transform||(s||o?r.transform=DI(t,e.transform,o):r.transform&&(r.transform="none")),i){let{originX:u="50%",originY:c="50%",originZ:d=0}=a;r.transformOrigin=`${u} ${c} ${d}`}}l();var ul=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vx(e,t,o){for(let r in t)!ze(t[r])&&!sp(r,o)&&(e[r]=t[r])}function mz({transformTemplate:e},t){return pz(()=>{let o=ul();return ll(o,t,e),Object.assign({},o.vars,o.style)},[t])}function hz(e,t){let o=e.style||{},r={};return Vx(r,o,e),Object.assign(r,mz(e,t)),r}function AI(e,t){let o={},r=hz(e,t);return e.drag&&e.dragListener!==!1&&(o.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(o.tabIndex=0),o.style=r,o}l();l();var kI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cl(e){return typeof e!="string"||e.includes("-")?!1:!!(kI.indexOf(e)>-1||/[A-Z]/u.test(e))}l();import{useMemo as xz}from"react";l();l();var gz={offset:"stroke-dashoffset",array:"stroke-dasharray"},yz={offset:"strokeDashoffset",array:"strokeDasharray"};function OI(e,t,o=1,r=0,n=!0){e.pathLength=1;let a=n?gz:yz;e[a.offset]=ue.transform(-r);let s=ue.transform(t),i=ue.transform(o);e[a.array]=`${s} ${i}`}function lp(e,{attrX:t,attrY:o,attrScale:r,pathLength:n,pathSpacing:a=1,pathOffset:s=0,...i},u,c){if(ll(e,i,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox="fill-box",delete d.transformBox),t!==void 0&&(d.x=t),o!==void 0&&(d.y=o),r!==void 0&&(d.scale=r),n!==void 0&&OI(d,n,a,s,!1)}l();var up=()=>({...ul(),attrs:{}});l();var cp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NI(e,t,o,r){let n=xz(()=>{let a=up();return lp(a,t,cp(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){let a={};Vx(a,e.style,e),n.style={...a,...n.style}}return n}function _I(e=!1){return(o,r,n,{latestValues:a},s)=>{let u=(cl(o)?NI:AI)(r,a,s,o),c=gI(r,typeof o=="string",e),d=o!==vz?{...c,...u,ref:n}:{},{children:f}=r,p=wz(()=>ze(f)?f.get():f,[f]);return Cz(o,{...d,children:p})}}l();l();import{useContext as BI}from"react";l();function FI(e){let t=[{},{}];return e?.values.forEach((o,r)=>{t[0][r]=o.get(),t[1][r]=o.getVelocity()}),t}function dl(e,t,o,r){if(typeof t=="function"){let[n,a]=FI(r);t=t(o!==void 0?o:e.custom,n,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){let[n,a]=FI(r);t=t(o!==void 0?o:e.custom,n,a)}return t}l();function fl(e){return ze(e)?e.get():e}function Sz({scrapeMotionValuesFromProps:e,createRenderState:t},o,r,n){return{latestValues:bz(o,r,n,e),renderState:t()}}var dp=e=>(t,o)=>{let r=BI(Ta),n=BI(Yn),a=()=>Sz(e,t,r,n);return o?a():Ea(a)};function bz(e,t,o,r){let n={},a=r(e,{});for(let p in a)n[p]=fl(a[p]);let{initial:s,animate:i}=e,u=ks(e),c=rp(e);t&&c&&!u&&e.inherit!==!1&&(s===void 0&&(s=t.initial),i===void 0&&(i=t.animate));let d=o?o.initial===!1:!1;d=d||s===!1;let f=d?i:s;if(f&&typeof f!="boolean"&&!Da(f)){let p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){let y=dl(e,p[m]);if(y){let{transitionEnd:g,transition:v,...x}=y;for(let w in x){let C=x[w];if(Array.isArray(C)){let S=d?C.length-1:0;C=C[S]}C!==null&&(n[w]=C)}for(let w in g)n[w]=g[w]}}}return n}l();function pl(e,t,o){let{style:r}=e,n={};for(let a in r)(ze(r[a])||t.style&&ze(t.style[a])||sp(a,e)||o?.getValue(a)?.liveStyle!==void 0)&&(n[a]=r[a]);return n}var VI={useVisualState:dp({scrapeMotionValuesFromProps:pl,createRenderState:ul})};l();l();function fp(e,t,o){let r=pl(e,t,o);for(let n in e)if(ze(e[n])||ze(t[n])){let a=Sn.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}var HI={useVisualState:dp({scrapeMotionValuesFromProps:fp,createRenderState:up})};function UI(e,t){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){let s={...cl(r)?HI:VI,preloadedFeatures:e,useRender:_I(n),createVisualElement:t,Component:r};return PI(s)}}l();l();l();l();l();l();l();function ea(e,t,o){let r=e.getProps();return dl(r,t,o!==void 0?o:r.custom,e)}l();l();l();var fc=e=>Array.isArray(e);l();l();var pp;function Iz(){pp=void 0}var Tt={now:()=>(pp===void 0&&Tt.set(Et.isProcessing||Uo.useManualTiming?Et.timestamp:performance.now()),pp),set:e=>{pp=e,queueMicrotask(Iz)}};l();l();function ml(e,t){e.indexOf(t)===-1&&e.push(t)}function Aa(e,t){let o=e.indexOf(t);o>-1&&e.splice(o,1)}var ka=class{constructor(){this.subscriptions=[]}add(t){return ml(this.subscriptions,t),()=>Aa(this.subscriptions,t)}notify(t,o,r){let n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,o,r);else for(let a=0;a<n;a++){let s=this.subscriptions[a];s&&s(t,o,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};l();function mp(e,t){return t?e*(1e3/t):0}var zI=30,Rz=e=>!isNaN(parseFloat(e)),qI={current:void 0},Hx=class{constructor(t,o={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{let a=Tt.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change?.notify(this.current),n&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=o.owner}setCurrent(t){this.current=t,this.updatedAt=Tt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Rz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return ol(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",t)}on(t,o){this.events[t]||(this.events[t]=new ka);let r=this.events[t].add(o);return t==="change"?()=>{r(),be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,o){this.passiveEffect=t,this.stopPassiveEffect=o}set(t,o=!0){!o||!this.passiveEffect?this.updateAndNotify(t,o):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,o,r){this.set(o),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,o=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return qI.current&&qI.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let t=Tt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zI)return 0;let o=Math.min(this.updatedAt-this.prevUpdatedAt,zI);return mp(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(t){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=t(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function ta(e,t){return new Hx(e,t)}function Pz(e,t,o){e.hasValue(t)?e.getValue(t).set(o):e.addValue(t,ta(o))}function Lz(e){return fc(e)?e[e.length-1]||0:e}function WI(e,t){let o=ea(e,t),{transitionEnd:r={},transition:n={},...a}=o||{};a={...a,...r};for(let s in a){let i=Lz(a[s]);Pz(e,s,i)}}l();l();function $I(e){return!!(ze(e)&&e.add)}function pc(e,t){let o=e.getValue("willChange");if($I(o))return o.add(t);if(!o&&Uo.WillChange){let r=new Uo.WillChange("auto");e.addValue("willChange",r),r.add(t)}}l();function hp(e){return e.props[np]}l();l();var Mz=e=>e!==null;function GI(e,{repeat:t,repeatType:o="loop"},r){let n=e.filter(Mz),a=t&&o!=="loop"&&t%2===1?0:n.length-1;return!a||r===void 0?n[a]:r}l();var Ez={type:"spring",stiffness:500,damping:25,restSpeed:10},Tz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Dz={type:"keyframes",duration:.8},Az={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jI=(e,{keyframes:t})=>t.length>2?Dz:_r.has(e)?e.startsWith("scale")?Tz(t[1]):Ez:Az;l();function KI({when:e,delay:t,delayChildren:o,staggerChildren:r,staggerDirection:n,repeat:a,repeatType:s,repeatDelay:i,from:u,elapsed:c,...d}){return!!Object.keys(d).length}l();function hl(e,t){return e?.[t]??e?.default??e}l();var Nt=e=>e*1e3,Ro=e=>e/1e3;l();l();l();var Rn={layout:0,mainThread:0,waapi:0};l();l();l();l();l();l();var Oa=e=>Math.round(e*1e5)/1e5;l();l();var gl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;l();function YI(e){return e==null}l();var XI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;var yl=(e,t)=>o=>!!(typeof o=="string"&&XI.test(o)&&o.startsWith(e)||t&&!YI(o)&&Object.prototype.hasOwnProperty.call(o,t)),gp=(e,t,o)=>r=>{if(typeof r!="string")return r;let[n,a,s,i]=r.match(gl);return{[e]:parseFloat(n),[t]:parseFloat(a),[o]:parseFloat(s),alpha:i!==void 0?parseFloat(i):1}};var kz=e=>ho(0,255,e),Ux={...bn,transform:e=>Math.round(kz(e))},Pn={test:yl("rgb","red"),parse:gp("red","green","blue"),transform:({red:e,green:t,blue:o,alpha:r=1})=>"rgba("+Ux.transform(e)+", "+Ux.transform(t)+", "+Ux.transform(o)+", "+Oa(Jn.transform(r))+")"};function Oz(e){let t="",o="",r="",n="";return e.length>5?(t=e.substring(1,3),o=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),o=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,o+=o,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(o,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}var mc={test:yl("#"),parse:Oz,transform:Pn.transform};l();var Na={test:yl("hsl","hue"),parse:gp("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:o,alpha:r=1})=>"hsla("+Math.round(e)+", "+zo.transform(Oa(t))+", "+zo.transform(Oa(o))+", "+Oa(Jn.transform(r))+")"};var _t={test:e=>Pn.test(e)||mc.test(e)||Na.test(e),parse:e=>Pn.test(e)?Pn.parse(e):Na.test(e)?Na.parse(e):mc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pn.transform(e):Na.transform(e)};l();l();var QI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Nz(e){return isNaN(e)&&typeof e=="string"&&(e.match(gl)?.length||0)+(e.match(QI)?.length||0)>0}var JI="number",eR="color",_z="var",Fz="var(",ZI="${}",Bz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ns(e){let t=e.toString(),o=[],r={color:[],number:[],var:[]},n=[],a=0,i=t.replace(Bz,u=>(_t.test(u)?(r.color.push(a),n.push(eR),o.push(_t.parse(u))):u.startsWith(Fz)?(r.var.push(a),n.push(_z),o.push(u)):(r.number.push(a),n.push(JI),o.push(parseFloat(u))),++a,ZI)).split(ZI);return{values:o,split:i,indexes:r,types:n}}function tR(e){return Ns(e).values}function oR(e){let{split:t,types:o}=Ns(e),r=t.length;return n=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],n[s]!==void 0){let i=o[s];i===JI?a+=Oa(n[s]):i===eR?a+=_t.transform(n[s]):a+=n[s]}return a}}var Vz=e=>typeof e=="number"?0:e;function Hz(e){let t=tR(e);return oR(e)(t.map(Vz))}var qo={test:Nz,parse:tR,createTransformer:oR,getAnimatableNone:Hz};l();l();function zx(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+(t-e)*6*o:o<1/2?t:o<2/3?e+(t-e)*(2/3-o)*6:e}function rR({hue:e,saturation:t,lightness:o,alpha:r}){e/=360,t/=100,o/=100;let n=0,a=0,s=0;if(!t)n=a=s=o;else{let i=o<.5?o*(1+t):o+t-o*t,u=2*o-i;n=zx(u,i,e+1/3),a=zx(u,i,e),s=zx(u,i,e-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}l();function xl(e,t){return o=>o>0?t:e}l();var Pe=(e,t,o)=>e+(t-e)*o;var qx=(e,t,o)=>{let r=e*e,n=o*(t*t-r)+r;return n<0?0:Math.sqrt(n)},Uz=[mc,Pn,Na],zz=e=>Uz.find(t=>t.test(e));function nR(e){let t=zz(e);if(Jr(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let o=t.parse(e);return t===Na&&(o=rR(o)),o}var Wx=(e,t)=>{let o=nR(e),r=nR(t);if(!o||!r)return xl(e,t);let n={...o};return a=>(n.red=qx(o.red,r.red,a),n.green=qx(o.green,r.green,a),n.blue=qx(o.blue,r.blue,a),n.alpha=Pe(o.alpha,r.alpha,a),Pn.transform(n))};l();var yp=new Set(["none","hidden"]);function aR(e,t){return yp.has(e)?o=>o<=0?e:t:o=>o>=1?t:e}l();var qz=(e,t)=>o=>t(e(o)),Ln=(...e)=>e.reduce(qz);function Wz(e,t){return o=>Pe(e,t,o)}function xp(e){return typeof e=="number"?Wz:typeof e=="string"?sl(e)?xl:_t.test(e)?Wx:jz:Array.isArray(e)?sR:typeof e=="object"?_t.test(e)?Wx:$z:xl}function sR(e,t){let o=[...e],r=o.length,n=e.map((a,s)=>xp(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)o[s]=n[s](a);return o}}function $z(e,t){let o={...e,...t},r={};for(let n in o)e[n]!==void 0&&t[n]!==void 0&&(r[n]=xp(e[n])(e[n],t[n]));return n=>{for(let a in r)o[a]=r[a](n);return o}}function Gz(e,t){let o=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){let a=t.types[n],s=e.indexes[a][r[a]],i=e.values[s]??0;o[n]=i,r[a]++}return o}var jz=(e,t)=>{let o=qo.createTransformer(t),r=Ns(e),n=Ns(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?yp.has(e)&&!n.values.length||yp.has(t)&&!r.values.length?aR(e,t):Ln(sR(Gz(r,n),n.values),o):(Jr(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),xl(e,t))};function vp(e,t,o){return typeof e=="number"&&typeof t=="number"&&typeof o=="number"?Pe(e,t,o):xp(e)(e,t)}l();var iR=e=>{let t=({timestamp:o})=>e(o);return{start:()=>be.update(t,!0),stop:()=>wr(t),now:()=>Et.isProcessing?Et.timestamp:Tt.now()}};l();l();l();var wp=(e,t,o=10)=>{let r="",n=Math.max(Math.round(t/o),2);for(let a=0;a<n;a++)r+=e(a/(n-1))+", ";return`linear(${r.substring(0,r.length-2)})`};l();function vl(e){let t=0,o=50,r=e.next(t);for(;!r.done&&t<2e4;)t+=o,r=e.next(t);return t>=2e4?1/0:t}l();function Cp(e,t=100,o){let r=o({...e,keyframes:[0,t]}),n=Math.min(vl(r),2e4);return{type:"keyframes",ease:a=>r.next(n*a).value/t,duration:Ro(n)}}l();var Kz=5;function Sp(e,t,o){let r=Math.max(t-Kz,0);return mp(o-e(r),t-r)}l();var nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};l();var Gx=.001;function lR({duration:e=nt.duration,bounce:t=nt.bounce,velocity:o=nt.velocity,mass:r=nt.mass}){let n,a;Jr(e<=Nt(nt.maxDuration),"Spring duration must be 10 seconds or less");let s=1-t;s=ho(nt.minDamping,nt.maxDamping,s),e=ho(nt.minDuration,nt.maxDuration,Ro(e)),s<1?(n=c=>{let d=c*s,f=d*e,p=d-o,m=bp(c,s),y=Math.exp(-f);return Gx-p/m*y},a=c=>{let f=c*s*e,p=f*o+o,m=Math.pow(s,2)*Math.pow(c,2)*e,y=Math.exp(-f),g=bp(Math.pow(c,2),s);return(-n(c)+Gx>0?-1:1)*((p-m)*y)/g}):(n=c=>{let d=Math.exp(-c*e),f=(c-o)*e+1;return-Gx+d*f},a=c=>{let d=Math.exp(-c*e),f=(o-c)*(e*e);return d*f});let i=5/e,u=Xz(n,a,i);if(e=Nt(e),isNaN(u))return{stiffness:nt.stiffness,damping:nt.damping,duration:e};{let c=Math.pow(u,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}var Yz=12;function Xz(e,t,o){let r=o;for(let n=1;n<Yz;n++)r=r-e(r)/t(r);return r}function bp(e,t){return e*Math.sqrt(1-t*t)}var Qz=["duration","bounce"],Zz=["stiffness","damping","mass"];function uR(e,t){return t.some(o=>e[o]!==void 0)}function Jz(e){let t={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...e};if(!uR(e,Zz)&&uR(e,Qz))if(e.visualDuration){let o=e.visualDuration,r=2*Math.PI/(o*1.2),n=r*r,a=2*ho(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:nt.mass,stiffness:n,damping:a}}else{let o=lR(e);t={...t,...o,mass:nt.mass},t.isResolvedFromDuration=!0}return t}function _a(e=nt.visualDuration,t=nt.bounce){let o=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:n}=o,a=o.keyframes[0],s=o.keyframes[o.keyframes.length-1],i={done:!1,value:a},{stiffness:u,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=Jz({...o,velocity:-Ro(o.velocity||0)}),y=p||0,g=c/(2*Math.sqrt(u*d)),v=s-a,x=Ro(Math.sqrt(u/d)),w=Math.abs(v)<5;r||(r=w?nt.restSpeed.granular:nt.restSpeed.default),n||(n=w?nt.restDelta.granular:nt.restDelta.default);let C;if(g<1){let b=bp(x,g);C=R=>{let P=Math.exp(-g*x*R);return s-P*((y+g*x*v)/b*Math.sin(b*R)+v*Math.cos(b*R))}}else if(g===1)C=b=>s-Math.exp(-x*b)*(v+(y+x*v)*b);else{let b=x*Math.sqrt(g*g-1);C=R=>{let P=Math.exp(-g*x*R),M=Math.min(b*R,300);return s-P*((y+g*x*v)*Math.sinh(M)+b*v*Math.cosh(M))/b}}let S={calculatedDuration:m&&f||null,next:b=>{let R=C(b);if(m)i.done=b>=f;else{let P=b===0?y:0;g<1&&(P=b===0?Nt(y):Sp(C,b,R));let M=Math.abs(P)<=r,T=Math.abs(s-R)<=n;i.done=M&&T}return i.value=i.done?s:R,i},toString:()=>{let b=Math.min(vl(S),2e4),R=wp(P=>S.next(b*P).value,b,30);return b+"ms "+R},toTransition:()=>{}};return S}_a.applyToOptions=e=>{let t=Cp(e,100,_a);return e.ease=t.ease,e.duration=Nt(t.duration),e.type="keyframes",e};function hc({keyframes:e,velocity:t=0,power:o=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:s,min:i,max:u,restDelta:c=.5,restSpeed:d}){let f=e[0],p={done:!1,value:f},m=M=>i!==void 0&&M<i||u!==void 0&&M>u,y=M=>i===void 0?u:u===void 0||Math.abs(i-M)<Math.abs(u-M)?i:u,g=o*t,v=f+g,x=s===void 0?v:s(v);x!==v&&(g=x-f);let w=M=>-g*Math.exp(-M/r),C=M=>x+w(M),S=M=>{let T=w(M),_=C(M);p.done=Math.abs(T)<=c,p.value=p.done?x:_},b,R,P=M=>{m(p.value)&&(b=M,R=_a({keyframes:[p.value,y(p.value)],velocity:Sp(C,M,p.value),damping:n,stiffness:a,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:M=>{let T=!1;return!R&&b===void 0&&(T=!0,S(M),P(M)),b!==void 0&&M>=b?R.next(M-b):(!T&&S(M),p)}}}l();l();l();var en=(e,t,o)=>{let r=t-e;return r===0?1:(o-e)/r};function eq(e,t,o){let r=[],n=o||Uo.mix||vp,a=e.length-1;for(let s=0;s<a;s++){let i=n(e[s],e[s+1]);if(t){let u=Array.isArray(t)?t[s]||bt:t;i=Ln(u,i)}r.push(i)}return r}function cR(e,t,{clamp:o=!0,ease:r,mixer:n}={}){let a=e.length;if(Ot(a===t.length,"Both input and output ranges must be the same length"),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let i=eq(t,r,n),u=i.length,c=d=>{if(s&&d<e[0])return t[0];let f=0;if(u>1)for(;f<e.length-2&&!(d<e[f+1]);f++);let p=en(e[f],e[f+1],d);return i[f](p)};return o?d=>c(ho(e[0],e[a-1],d)):c}l();l();function Ip(e,t){let o=e[e.length-1];for(let r=1;r<=t;r++){let n=en(0,t,r);e.push(Pe(o,1,n))}}function Rp(e){let t=[0];return Ip(t,e.length-1),t}l();function dR(e,t){return e.map(o=>o*t)}l();l();var fR=(e,t,o)=>(((1-3*o+3*t)*e+(3*o-6*t))*e+3*t)*e,tq=1e-7,oq=12;function rq(e,t,o,r,n){let a,s,i=0;do s=t+(o-t)/2,a=fR(s,r,n)-e,a>0?o=s:t=s;while(Math.abs(a)>tq&&++i<oq);return s}function Fa(e,t,o,r){if(e===t&&o===r)return bt;let n=a=>rq(a,0,1,e,o);return a=>a===0||a===1?a:fR(n(a),t,r)}var jx=Fa(.42,0,1,1),gc=Fa(0,0,.58,1),yc=Fa(.42,0,.58,1);l();var Pp=e=>Array.isArray(e)&&typeof e[0]!="number";l();l();l();l();var Lp=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2;l();var Mp=e=>t=>1-e(1-t);var Kx=Fa(.33,1.53,.69,.99),xc=Mp(Kx),Ep=Lp(xc);var Tp=e=>(e*=2)<1?.5*xc(e):.5*(2-Math.pow(2,-10*(e-1)));l();var Dp=e=>1-Math.sin(Math.acos(e)),Ap=Mp(Dp),kp=Lp(Dp);l();var Op=e=>Array.isArray(e)&&typeof e[0]=="number";var pR={linear:bt,easeIn:jx,easeInOut:yc,easeOut:gc,circIn:Dp,circInOut:kp,circOut:Ap,backIn:xc,backInOut:Ep,backOut:Kx,anticipate:Tp},nq=e=>typeof e=="string",Yx=e=>{if(Op(e)){Ot(e.length===4,"Cubic bezier arrays must contain four numerical values.");let[t,o,r,n]=e;return Fa(t,o,r,n)}else if(nq(e))return Ot(pR[e]!==void 0,`Invalid easing type '${e}'`),pR[e];return e};function aq(e,t){return e.map(()=>t||yc).splice(0,e.length-1)}function Ba({duration:e=300,keyframes:t,times:o,ease:r="easeInOut"}){let n=Pp(r)?r.map(Yx):Yx(r),a={done:!1,value:t[0]},s=dR(o&&o.length===t.length?o:Rp(t),e),i=cR(s,t,{ease:Array.isArray(n)?n:aq(t,n)});return{calculatedDuration:e,next:u=>(a.value=i(u),a.done=u>=e,a)}}l();var sq=e=>e!==null;function wl(e,{repeat:t,repeatType:o="loop"},r,n=1){let a=e.filter(sq),i=n<0||t&&o!=="loop"&&t%2===1?0:a.length-1;return!i||r===void 0?a[i]:r}l();var iq={decay:hc,inertia:hc,tween:Ba,keyframes:Ba,spring:_a};function Np(e){typeof e.type=="string"&&(e.type=iq[e.type])}l();var Va=class{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,o){return this.finished.then(t,o)}};var lq=e=>e/100,Cl=class extends Va{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:o}=this.options;if(o&&o.updatedAt!==Tt.now()&&this.tick(Tt.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();let{onStop:r}=this.options;r&&r()},Rn.mainThread++,this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){let{options:t}=this;Np(t);let{type:o=Ba,repeat:r=0,repeatDelay:n=0,repeatType:a,velocity:s=0}=t,{keyframes:i}=t,u=o||Ba;u!==Ba&&Ot(i.length<=2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${i}`),u!==Ba&&typeof i[0]!="number"&&(this.mixKeyframes=Ln(lq,vp(i[0],i[1])),i=[0,100]);let c=u({...t,keyframes:i});a==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...i].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=vl(c));let{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=c}updateTime(t){let o=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=o}tick(t,o=!1){let{generator:r,totalDuration:n,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:i,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);let{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:m,type:y,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),o?this.currentTime=t:this.updateTime(t);let x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>n;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let C=this.currentTime,S=r;if(f){let M=Math.min(this.currentTime,n)/i,T=Math.floor(M),_=M%1;!_&&M>=1&&(_=1),_===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(p==="reverse"?(_=1-_,m&&(_-=m/i)):p==="mirror"&&(S=s)),C=ho(0,1,_)*i}let b=w?{done:!1,value:d[0]}:S.next(C);a&&(b.value=a(b.value));let{done:R}=b;!w&&u!==null&&(R=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);let P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return P&&y!==hc&&(b.value=wl(d,this.options,v,this.speed)),g&&g(b.value),P&&this.finish(),b}then(t,o){return this.finished.then(t,o)}get duration(){return Ro(this.calculatedDuration)}get time(){return Ro(this.currentTime)}set time(t){t=Nt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tt.now());let o=this.playbackSpeed!==t;this.playbackSpeed=t,o&&(this.time=Ro(this.currentTime))}play(){if(this.isStopped)return;let{driver:t=iR,onPlay:o,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),o&&o();let n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Rn.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}};l();l();function mR(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}l();l();var _s=e=>e*180/Math.PI,Xx=e=>{let t=_s(Math.atan2(e[1],e[0]));return Qx(t)},uq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xx,rotateZ:Xx,skewX:e=>_s(Math.atan(e[1])),skewY:e=>_s(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Qx=e=>(e=e%360,e<0&&(e+=360),e),hR=Xx,gR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),yR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gR,scaleY:yR,scale:e=>(gR(e)+yR(e))/2,rotateX:e=>Qx(_s(Math.atan2(e[6],e[5]))),rotateY:e=>Qx(_s(Math.atan2(-e[2],e[0]))),rotateZ:hR,rotate:hR,skewX:e=>_s(Math.atan(e[4])),skewY:e=>_s(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xR(e){return e.includes("scale")?1:0}function _p(e,t){if(!e||e==="none")return xR(t);let o=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,n;if(o)r=cq,n=o;else{let i=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uq,n=i}if(!n)return xR(t);let a=r[t],s=n[1].split(",").map(dq);return typeof a=="function"?a(s):s[a]}var vR=(e,t)=>{let{transform:o="none"}=getComputedStyle(e);return _p(o,t)};function dq(e){return parseFloat(e.trim())}var Zx=e=>e===bn||e===ue,fq=new Set(["x","y","z"]),pq=Sn.filter(e=>!fq.has(e));function wR(e){let t=[];return pq.forEach(o=>{let r=e.getValue(o);r!==void 0&&(t.push([o,r.get()]),r.set(o.startsWith("scale")?1:0))}),t}var Fs={width:({x:e},{paddingLeft:t="0",paddingRight:o="0"})=>e.max-e.min-parseFloat(t)-parseFloat(o),height:({y:e},{paddingTop:t="0",paddingBottom:o="0"})=>e.max-e.min-parseFloat(t)-parseFloat(o),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_p(t,"x"),y:(e,{transform:t})=>_p(t,"y")};Fs.translateX=Fs.x;Fs.translateY=Fs.y;var Bs=new Set,Jx=!1,ev=!1,tv=!1;function CR(){if(ev){let e=Array.from(Bs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),o=new Map;t.forEach(r=>{let n=wR(r);n.length&&(o.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();let n=o.get(r);n&&n.forEach(([a,s])=>{r.getValue(a)?.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ev=!1,Jx=!1,Bs.forEach(e=>e.complete(tv)),Bs.clear()}function SR(){Bs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ev=!0)})}function bR(){tv=!0,SR(),CR(),tv=!1}var Ha=class{constructor(t,o,r,n,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=o,this.name=r,this.motionValue=n,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bs.add(this),Jx||(Jx=!0,be.read(SR),be.resolveKeyframes(CR))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:o,element:r,motionValue:n}=this;if(t[0]===null){let a=n?.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&o){let i=r.readValue(o,s);i!=null&&(t[0]=i)}t[0]===void 0&&(t[0]=s),n&&a===void 0&&n.set(t[0])}mR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Bs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};l();l();l();l();var IR=e=>e.startsWith("--");function RR(e,t,o){IR(t)?e.style.setProperty(t,o):e.style[t]=o}l();l();function Sl(e){let t;return()=>(t===void 0&&(t=e()),t)}var PR=Sl(()=>window.ScrollTimeline!==void 0);l();l();l();l();l();var LR={};function MR(e,t){let o=Sl(e);return()=>LR[t]??o()}var Fp=MR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");l();var Vs=([e,t,o,r])=>`cubic-bezier(${e}, ${t}, ${o}, ${r})`;l();var ov={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vs([0,.65,.55,1]),circOut:Vs([.55,0,1,.45]),backIn:Vs([.31,.01,.66,-.59]),backOut:Vs([.33,1.53,.69,.99])};function rv(e,t){if(e)return typeof e=="function"?Fp()?wp(e,t):"ease-out":Op(e)?Vs(e):Array.isArray(e)?e.map(o=>rv(o,t)||ov.easeOut):ov[e]}function ER(e,t,o,{delay:r=0,duration:n=300,repeat:a=0,repeatType:s="loop",ease:i="easeOut",times:u}={},c=void 0){let d={[t]:o};u&&(d.offset=u);let f=rv(i,n);Array.isArray(f)&&(d.easing=f),vr.value&&Rn.waapi++;let p={delay:r,duration:n,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};c&&(p.pseudoElement=c);let m=e.animate(d,p);return vr.value&&m.finished.finally(()=>{Rn.waapi--}),m}l();l();function bl(e){return typeof e=="function"&&"applyToOptions"in e}function TR({type:e,...t}){return bl(e)&&Fp()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}var Bp=class extends Va{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;let{element:o,name:r,keyframes:n,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:i,onComplete:u}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,Ot(typeof t.type!="string",`animateMini doesn't support "type" as a string. Did you mean to import { spring } from "motion"?`);let c=TR(t);this.animation=ER(o,r,n,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){let d=wl(n,this.options,i,this.speed);this.updateMotionValue?this.updateMotionValue(d):RR(o,r,d),this.animation.cancel()}u?.(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){let t=this.animation.effect?.getComputedTiming?.().duration||0;return Ro(Number(t))}get time(){return Ro(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Nt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:o}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&PR()?(this.animation.timeline=t,bt):o(this)}};l();var DR={anticipate:Tp,backInOut:Ep,circInOut:kp};function mq(e){return e in DR}function AR(e){typeof e.ease=="string"&&mq(e.ease)&&(e.ease=DR[e.ease])}var kR=10,Vp=class extends Bp{constructor(t){AR(t),Np(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){let{motionValue:o,onUpdate:r,onComplete:n,element:a,...s}=this.options;if(!o)return;if(t!==void 0){o.set(t);return}let i=new Cl({...s,autoplay:!1}),u=Nt(this.finishedTime??this.time);o.setWithVelocity(i.sample(u-kR).value,i.sample(u).value,kR),i.stop()}};l();l();var nv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qo.test(e)||e==="0")&&!e.startsWith("url("));function hq(e){let t=e[0];if(e.length===1)return!0;for(let o=0;o<e.length;o++)if(e[o]!==t)return!0}function OR(e,t,o,r){let n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;let a=e[e.length-1],s=nv(n,t),i=nv(a,t);return Jr(s===i,`You are trying to animate ${t} from "${n}" to "${a}". ${n} is not an animatable value - to enable this animation set ${n} to a value animatable to ${a} via the \`style\` property.`),!s||!i?!1:hq(e)||(o==="spring"||bl(o))&&r}l();var gq=new Set(["opacity","clipPath","filter","transform"]),yq=Sl(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NR(e){let{motionValue:t,name:o,repeatDelay:r,repeatType:n,damping:a,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:i,transformTemplate:u}=t.owner.getProps();return yq()&&o&&gq.has(o)&&(o!=="transform"||!u)&&!i&&!r&&n!=="mirror"&&a!==0&&s!=="inertia"}var xq=40,Hp=class extends Va{constructor({autoplay:t=!0,delay:o=0,type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:s="loop",keyframes:i,name:u,motionValue:c,element:d,...f}){super(),this.stop=()=>{this._animation?(this._animation.stop(),this.stopTimeline?.()):this.keyframeResolver?.cancel()},this.createdAt=Tt.now();let p={autoplay:t,delay:o,type:r,repeat:n,repeatDelay:a,repeatType:s,name:u,motionValue:c,element:d,...f},m=d?.KeyframeResolver||Ha;this.keyframeResolver=new m(i,(y,g,v)=>this.onKeyframesResolved(y,g,p,!v),u,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,o,r,n){this.keyframeResolver=void 0;let{name:a,type:s,velocity:i,delay:u,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Tt.now(),OR(t,a,s,i)||((Uo.instantAnimations||!u)&&d?.(wl(t,r,o)),t[0]=t[t.length-1],r.duration=0,r.repeat=0);let p={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>xq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:o,...r,keyframes:t},m=!c&&NR(p)?new Vp({...p,element:p.motionValue.owner.current}):new Cl(p);m.finished.then(()=>this.notifyFinished()).catch(bt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,o){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||bR(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}};var Il=(e,t,o,r={},n,a)=>s=>{let i=hl(r,e)||{},u=i.delay||r.delay||0,{elapsed:c=0}=r;c=c-Nt(u);let d={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:t.getVelocity(),...i,delay:-c,onUpdate:p=>{t.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{s(),i.onComplete&&i.onComplete()},name:e,motionValue:t,element:a?void 0:n};KI(i)||Object.assign(d,jI(e,d)),d.duration&&(d.duration=Nt(d.duration)),d.repeatDelay&&(d.repeatDelay=Nt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(Uo.instantAnimations||Uo.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!i.type&&!i.ease,f&&!a&&t.get()!==void 0){let p=GI(d.keyframes,i);if(p!==void 0){be.update(()=>{d.onUpdate(p),d.onComplete()});return}}return new Hp(d)};l();var Up=new Set(["width","height","top","left","right","bottom",...Sn]);function vq({protectedKeys:e,needsAnimating:t},o){let r=e.hasOwnProperty(o)&&t[o]!==!0;return t[o]=!1,r}function Rl(e,t,{delay:o=0,transitionOverride:r,type:n}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...i}=t;r&&(a=r);let u=[],c=n&&e.animationState&&e.animationState.getState()[n];for(let d in i){let f=e.getValue(d,e.latestValues[d]??null),p=i[d];if(p===void 0||c&&vq(c,d))continue;let m={delay:o,...hl(a||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===y&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){let x=hp(e);if(x){let w=window.MotionHandoffAnimation(x,d,be);w!==null&&(m.startTime=w,g=!0)}}pc(e,d),f.start(Il(d,f,p,e.shouldReduceMotion&&Up.has(d)?{type:!1}:m,e,g));let v=f.animation;v&&u.push(v)}return s&&Promise.all(u).then(()=>{be.update(()=>{s&&WI(e,s)})}),u}l();function zp(e,t,o={}){let r=ea(e,t,o.type==="exit"?e.presenceContext?.custom:void 0),{transition:n=e.getDefaultTransition()||{}}=r||{};o.transitionOverride&&(n=o.transitionOverride);let a=r?()=>Promise.all(Rl(e,r,o)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{let{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=n;return wq(e,t,c+u,d,f,o)}:()=>Promise.resolve(),{when:i}=n;if(i){let[u,c]=i==="beforeChildren"?[a,s]:[s,a];return u().then(()=>c())}else return Promise.all([a(),s(o.delay)])}function wq(e,t,o=0,r=0,n=1,a){let s=[],i=(e.variantChildren.size-1)*r,u=n===1?(c=0)=>c*r:(c=0)=>i-c*r;return Array.from(e.variantChildren).sort(Cq).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(zp(c,t,{...a,delay:o+u(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Cq(e,t){return e.sortNodePosition(t)}function _R(e,t,o={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){let n=t.map(a=>zp(e,a,o));r=Promise.all(n)}else if(typeof t=="string")r=zp(e,t,o);else{let n=typeof t=="function"?ea(e,t,o.custom):t;r=Promise.all(Rl(e,n,o))}return r.then(()=>{e.notify("AnimationComplete",t)})}l();function av(e,t){if(!Array.isArray(t))return!1;let o=t.length;if(o!==e.length)return!1;for(let r=0;r<o;r++)if(t[r]!==e[r])return!1;return!0}l();var Sq=ic.length;function sv(e){if(!e)return;if(!e.isControllingVariants){let o=e.parent?sv(e.parent)||{}:{};return e.props.initial!==void 0&&(o.initial=e.props.initial),o}let t={};for(let o=0;o<Sq;o++){let r=ic[o],n=e.props[r];(Qn(n)||n===!1)&&(t[r]=n)}return t}var bq=[...op].reverse(),Iq=op.length;function Rq(e){return t=>Promise.all(t.map(({animation:o,options:r})=>_R(e,o,r)))}function BR(e){let t=Rq(e),o=FR(),r=!0,n=u=>(c,d)=>{let f=ea(e,d,u==="exit"?e.presenceContext?.custom:void 0);if(f){let{transition:p,transitionEnd:m,...y}=f;c={...c,...y,...m}}return c};function a(u){t=u(e)}function s(u){let{props:c}=e,d=sv(e.parent)||{},f=[],p=new Set,m={},y=1/0;for(let v=0;v<Iq;v++){let x=bq[v],w=o[x],C=c[x]!==void 0?c[x]:d[x],S=Qn(C),b=x===u?w.isActive:null;b===!1&&(y=v);let R=C===d[x]&&C!==c[x]&&S;if(R&&r&&e.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...m},!w.isActive&&b===null||!C&&!w.prevProp||Da(C)||typeof C=="boolean")continue;let P=Pq(w.prevProp,C),M=P||x===u&&w.isActive&&!R&&S||v>y&&S,T=!1,_=Array.isArray(C)?C:[C],F=_.reduce(n(x),{});b===!1&&(F={});let{prevResolvedValues:k={}}=w,N={...k,...F},I=D=>{M=!0,p.has(D)&&(T=!0,p.delete(D)),w.needsAnimating[D]=!0;let O=e.getValue(D);O&&(O.liveStyle=!1)};for(let D in N){let O=F[D],E=k[D];if(m.hasOwnProperty(D))continue;let V=!1;fc(O)&&fc(E)?V=!av(O,E):V=O!==E,V?O!=null?I(D):p.add(D):O!==void 0&&p.has(D)?I(D):w.protectedKeys[D]=!0}w.prevProp=C,w.prevResolvedValues=F,w.isActive&&(m={...m,...F}),r&&e.blockInitialAnimation&&(M=!1),M&&(!(R&&P)||T)&&f.push(..._.map(D=>({animation:D,options:{type:x}})))}if(p.size){let v={};if(typeof c.initial!="boolean"){let x=ea(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(v.transition=x.transition)}p.forEach(x=>{let w=e.getBaseTarget(x),C=e.getValue(x);C&&(C.liveStyle=!0),v[x]=w??null}),f.push({animation:v})}let g=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function i(u,c){if(o[u].isActive===c)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(u,c)),o[u].isActive=c;let d=s(u);for(let f in o)o[f].protectedKeys={};return d}return{animateChanges:s,setActive:i,setAnimateFunction:a,getState:()=>o,reset:()=>{o=FR(),r=!0}}}function Pq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!av(t,e):!1}function Hs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FR(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}l();var no=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};var qp=class extends no{constructor(t){super(t),t.animationState||(t.animationState=BR(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();Da(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:o}=this.node.prevProps||{};t!==o&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}};l();var Lq=0,Wp=class extends no{constructor(){super(...arguments),this.id=Lq++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:o}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;let n=this.node.animationState.setActive("exit",!t);o&&!t&&n.then(()=>{o(this.id)})}mount(){let{register:t,onExitComplete:o}=this.node.presenceContext||{};o&&o(this.id),t&&(this.unmount=t(this.id))}unmount(){}};var VR={animation:{Feature:qp},exit:{Feature:Wp}};l();l();l();l();function oa(e,t,o,r={passive:!0}){return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o)}l();l();l();var Pl=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ra(e){return{point:{x:e.pageX,y:e.pageY}}}var HR=e=>t=>Pl(t)&&e(t,ra(t));function Ua(e,t,o,r){return oa(e,t,HR(o),r)}l();function $p({top:e,left:t,right:o,bottom:r}){return{x:{min:t,max:o},y:{min:e,max:r}}}function UR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zR(e,t){if(!t)return e;let o=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:o.y,left:o.x,bottom:r.y,right:r.x}}l();var GR=1e-4,Mq=1-GR,Eq=1+GR,jR=.01,Tq=0-jR,Dq=0+jR;function qt(e){return e.max-e.min}function KR(e,t,o){return Math.abs(e-t)<=o}function qR(e,t,o,r=.5){e.origin=r,e.originPoint=Pe(t.min,t.max,e.origin),e.scale=qt(o)/qt(t),e.translate=Pe(o.min,o.max,e.origin)-e.originPoint,(e.scale>=Mq&&e.scale<=Eq||isNaN(e.scale))&&(e.scale=1),(e.translate>=Tq&&e.translate<=Dq||isNaN(e.translate))&&(e.translate=0)}function Ll(e,t,o,r){qR(e.x,t.x,o.x,r?r.originX:void 0),qR(e.y,t.y,o.y,r?r.originY:void 0)}function WR(e,t,o){e.min=o.min+t.min,e.max=e.min+qt(t)}function YR(e,t,o){WR(e.x,t.x,o.x),WR(e.y,t.y,o.y)}function $R(e,t,o){e.min=t.min-o.min,e.max=e.min+qt(t)}function Ml(e,t,o){$R(e.x,t.x,o.x),$R(e.y,t.y,o.y)}l();var XR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Us=()=>({x:XR(),y:XR()}),QR=()=>({min:0,max:0}),Qe=()=>({x:QR(),y:QR()});l();function tr(e){return[e("x"),e("y")]}l();l();l();function iv(e){return e===void 0||e===1}function Gp({scale:e,scaleX:t,scaleY:o}){return!iv(e)||!iv(t)||!iv(o)}function na(e){return Gp(e)||lv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lv(e){return ZR(e.x)||ZR(e.y)}function ZR(e){return e&&e!=="0%"}function vc(e,t,o){let r=e-o,n=t*r;return o+n}function JR(e,t,o,r,n){return n!==void 0&&(e=vc(e,n,r)),vc(e,o,r)+t}function uv(e,t=0,o=1,r,n){e.min=JR(e.min,t,o,r,n),e.max=JR(e.max,t,o,r,n)}function cv(e,{x:t,y:o}){uv(e.x,t.translate,t.scale,t.originPoint),uv(e.y,o.translate,o.scale,o.originPoint)}var eP=.999999999999,tP=1.0000000000001;function rP(e,t,o,r=!1){let n=o.length;if(!n)return;t.x=t.y=1;let a,s;for(let i=0;i<n;i++){a=o[i],s=a.projectionDelta;let{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&zs(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,cv(e,s)),r&&na(a.latestValues)&&zs(e,a.latestValues))}t.x<tP&&t.x>eP&&(t.x=1),t.y<tP&&t.y>eP&&(t.y=1)}function za(e,t){e.min=e.min+t,e.max=e.max+t}function oP(e,t,o,r,n=.5){let a=Pe(e.min,e.max,n);uv(e,t,o,a,r)}function zs(e,t){oP(e.x,t.x,t.scaleX,t.scale,t.originX),oP(e.y,t.y,t.scaleY,t.scale,t.originY)}function dv(e,t){return $p(zR(e.getBoundingClientRect(),t))}function nP(e,t,o){let r=dv(e,o),{scroll:n}=t;return n&&(za(r.x,n.offset.x),za(r.y,n.offset.y)),r}l();var jp=({current:e})=>e?e.ownerDocument.defaultView:null;l();l();var aP=(e,t)=>Math.abs(e-t);function sP(e,t){let o=aP(e.x,t.x),r=aP(e.y,t.y);return Math.sqrt(o**2+r**2)}var El=class{constructor(t,o,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=pv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=sP(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;let{point:y}=f,{timestamp:g}=Et;this.history.push({...y,timestamp:g});let{onStart:v,onMove:x}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=fv(p,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();let{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let v=pv(f.type==="pointercancel"?this.lastMoveEventInfo:fv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),y&&y(f,v)},!Pl(t))return;this.dragSnapToOrigin=a,this.handlers=o,this.transformPagePoint=r,this.contextWindow=n||window;let s=ra(t),i=fv(s,this.transformPagePoint),{point:u}=i,{timestamp:c}=Et;this.history=[{...u,timestamp:c}];let{onSessionStart:d}=o;d&&d(t,pv(i,this.history)),this.removeListeners=Ln(Ua(this.contextWindow,"pointermove",this.handlePointerMove),Ua(this.contextWindow,"pointerup",this.handlePointerUp),Ua(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wr(this.updatePoint)}};function fv(e,t){return t?{point:t(e.point)}:e}function iP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pv({point:e},t){return{point:e,delta:iP(e,lP(t)),offset:iP(e,Aq(t)),velocity:kq(t,.1)}}function Aq(e){return e[0]}function lP(e){return e[e.length-1]}function kq(e,t){if(e.length<2)return{x:0,y:0};let o=e.length-1,r=null,n=lP(e);for(;o>=0&&(r=e[o],!(n.timestamp-r.timestamp>Nt(t)));)o--;if(!r)return{x:0,y:0};let a=Ro(n.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let s={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}l();function pP(e,{min:t,max:o},r){return t!==void 0&&e<t?e=r?Pe(t,e,r.min):Math.max(e,t):o!==void 0&&e>o&&(e=r?Pe(o,e,r.max):Math.min(e,o)),e}function uP(e,t,o){return{min:t!==void 0?e.min+t:void 0,max:o!==void 0?e.max+o-(e.max-e.min):void 0}}function mP(e,{top:t,left:o,bottom:r,right:n}){return{x:uP(e.x,o,n),y:uP(e.y,t,r)}}function cP(e,t){let o=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([o,r]=[r,o]),{min:o,max:r}}function hP(e,t){return{x:cP(e.x,t.x),y:cP(e.y,t.y)}}function gP(e,t){let o=.5,r=qt(e),n=qt(t);return n>r?o=en(t.min,t.max-r,e.min):r>n&&(o=en(e.min,e.max-n,t.min)),ho(0,1,o)}function yP(e,t){let o={};return t.min!==void 0&&(o.min=t.min-e.min),t.max!==void 0&&(o.max=t.max-e.min),o}var Kp=.35;function xP(e=Kp){return e===!1?e=0:e===!0&&(e=Kp),{x:dP(e,"left","right"),y:dP(e,"top","bottom")}}function dP(e,t,o){return{min:fP(e,t),max:fP(e,o)}}function fP(e,t){return typeof e=="number"?e:e[t]||0}l();l();var Fr={x:!1,y:!1};function Yp(){return Fr.x||Fr.y}function vP(e){return e==="x"||e==="y"?Fr[e]?null:(Fr[e]=!0,()=>{Fr[e]=!1}):Fr.x||Fr.y?null:(Fr.x=Fr.y=!0,()=>{Fr.x=Fr.y=!1})}var Oq=new WeakMap,Qp=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=t}start(t,{snapToCursor:o=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let n=d=>{let{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(ra(d).point)},a=(d,f)=>{let{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vP(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tr(v=>{let x=this.getAxisMotionValue(v).get()||0;if(zo.test(x)){let{projection:w}=this.visualElement;if(w&&w.layout){let C=w.layout.layoutBox[v];C&&(x=qt(C)*(parseFloat(x)/100))}}this.originPoint[v]=x}),y&&be.postRender(()=>y(d,f)),pc(this.visualElement,"transform");let{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{let{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;let{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=Nq(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(d,f)},i=(d,f)=>this.stop(d,f),u=()=>tr(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new El(t,{onSessionStart:n,onStart:a,onMove:s,onSessionEnd:i,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:jp(this.visualElement)})}stop(t,o){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:n}=o;this.startAnimation(n);let{onDragEnd:a}=this.getProps();a&&be.postRender(()=>a(t,o))}cancel(){this.isDragging=!1;let{projection:t,animationState:o}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(t,o,r){let{drag:n}=this.getProps();if(!r||!Xp(t,n,this.currentDirection))return;let a=this.getAxisMotionValue(t),s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=pP(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){let{dragConstraints:t,dragElastic:o}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&Zn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=mP(r.layoutBox,t):this.constraints=!1,this.elastic=xP(o),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&tr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=yP(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){let{dragConstraints:t,onMeasureDragConstraints:o}=this.getProps();if(!t||!Zn(t))return!1;let r=t.current;Ot(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let a=nP(r,n.root,this.visualElement.getTransformPagePoint()),s=hP(n.layout.layoutBox,a);if(o){let i=o(UR(s));this.hasMutatedConstraints=!!i,i&&(s=$p(i))}return s}startAnimation(t){let{drag:o,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:i}=this.getProps(),u=this.constraints||{},c=tr(d=>{if(!Xp(d,o,this.currentDirection))return;let f=u&&u[d]||{};s&&(f={min:0,max:0});let p=n?200:1e6,m=n?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(i)}startAxisValueAnimation(t,o){let r=this.getAxisMotionValue(t);return pc(this.visualElement,t),r.start(Il(t,r,0,o,this.visualElement,!1))}stopAnimation(){tr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){tr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){let o=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[o];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){tr(o=>{let{drag:r}=this.getProps();if(!Xp(o,r,this.currentDirection))return;let{projection:n}=this.visualElement,a=this.getAxisMotionValue(o);if(n&&n.layout){let{min:s,max:i}=n.layout.layoutBox[o];a.set(t[o]-Pe(s,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:o}=this.getProps(),{projection:r}=this.visualElement;if(!Zn(o)||!r||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};tr(s=>{let i=this.getAxisMotionValue(s);if(i&&this.constraints!==!1){let u=i.get();n[s]=gP({min:u,max:u},this.constraints[s])}});let{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tr(s=>{if(!Xp(s,t,null))return;let i=this.getAxisMotionValue(s),{min:u,max:c}=this.constraints[s];i.set(Pe(u,c,n[s]))})}addListeners(){if(!this.visualElement.current)return;Oq.set(this.visualElement,this);let t=this.visualElement.current,o=Ua(t,"pointerdown",u=>{let{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),r=()=>{let{dragConstraints:u}=this.getProps();Zn(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),be.read(r);let s=oa(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(tr(d=>{let f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())});return()=>{s(),o(),a(),i&&i()}}getProps(){let t=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:s=Kp,dragMomentum:i=!0}=t;return{...t,drag:o,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:s,dragMomentum:i}}};function Xp(e,t,o){return(t===!0||t===e)&&(o===null||o===e)}function Nq(e,t=10){let o=null;return Math.abs(e.y)>t?o="y":Math.abs(e.x)>t&&(o="x"),o}var Zp=class extends no{constructor(t){super(t),this.removeGroupControls=bt,this.removeListeners=bt,this.controls=new Qp(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bt}unmount(){this.removeGroupControls(),this.removeListeners()}};l();var wP=e=>(t,o)=>{e&&be.postRender(()=>e(t,o))},Jp=class extends no{constructor(){super(...arguments),this.removePointerDownListener=bt}onPointerDown(t){this.session=new El(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jp(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:o,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:wP(t),onStart:wP(o),onMove:r,onEnd:(a,s)=>{delete this.session,n&&be.postRender(()=>n(a,s))}}}mount(){this.removePointerDownListener=Ua(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};l();import{jsx as _q}from"react/jsx-runtime";import{useContext as bP,Component as Fq}from"react";l();var Tl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};l();function CP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Dl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;let o=CP(e,t.target.x),r=CP(e,t.target.y);return`${o}% ${r}%`}};l();var SP={correct:(e,{treeScale:t,projectionDelta:o})=>{let r=e,n=qo.parse(e);if(n.length>5)return r;let a=qo.createTransformer(e),s=typeof n[0]!="number"?1:0,i=o.x.scale*t.x,u=o.y.scale*t.y;n[0+s]/=i,n[1+s]/=u;let c=Pe(i,u,.5);return typeof n[2+s]=="number"&&(n[2+s]/=c),typeof n[3+s]=="number"&&(n[3+s]/=c),a(n)}};var mv=class extends Fq{componentDidMount(){let{visualElement:t,layoutGroup:o,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=t;uc(Bq),a&&(o.group&&o.group.add(a),r&&r.register&&n&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Tl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:o,visualElement:r,drag:n,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,n||t.layoutDependency!==o||o===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||be.postRender(()=>{let i=s.getStack();(!i||!i.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nl.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:o,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}};function em(e){let[t,o]=oc(),r=bP(Kn);return _q(mv,{...e,layoutGroup:r,switchLayoutGroup:bP(ap),isPresent:t,safeToRemove:o})}var Bq={borderRadius:{...Dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dl,borderTopRightRadius:Dl,borderBottomLeftRadius:Dl,borderBottomRightRadius:Dl,boxShadow:SP};l();l();l();function tm(e,t,o){let r=ze(e)?e:ta(e);return r.start(Il("",r,t,o)),r.animation}l();function om(e){return e instanceof SVGElement&&e.tagName!=="svg"}l();l();var IP=(e,t)=>e.depth-t.depth;var rm=class{constructor(){this.children=[],this.isDirty=!1}add(t){ml(this.children,t),this.isDirty=!0}remove(t){Aa(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IP),this.isDirty=!1,this.children.forEach(t)}};l();function RP(e,t){let o=Tt.now(),r=({timestamp:n})=>{let a=n-o;a>=t&&(wr(r),e(a-t))};return be.setup(r,!0),()=>wr(r)}l();var EP=["TopLeft","TopRight","BottomLeft","BottomRight"],Vq=EP.length,PP=e=>typeof e=="string"?parseFloat(e):e,LP=e=>typeof e=="number"||ue.test(e);function TP(e,t,o,r,n,a){n?(e.opacity=Pe(0,o.opacity??1,Hq(r)),e.opacityExit=Pe(t.opacity??1,0,Uq(r))):a&&(e.opacity=Pe(t.opacity??1,o.opacity??1,r));for(let s=0;s<Vq;s++){let i=`border${EP[s]}Radius`,u=MP(t,i),c=MP(o,i);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||LP(u)===LP(c)?(e[i]=Math.max(Pe(PP(u),PP(c),r),0),(zo.test(c)||zo.test(u))&&(e[i]+="%")):e[i]=c}(t.rotate||o.rotate)&&(e.rotate=Pe(t.rotate||0,o.rotate||0,r))}function MP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}var Hq=DP(0,.5,Ap),Uq=DP(.5,.95,bt);function DP(e,t,o){return r=>r<e?0:r>t?1:o(en(e,t,r))}l();function AP(e,t){e.min=t.min,e.max=t.max}function Cr(e,t){AP(e.x,t.x),AP(e.y,t.y)}function hv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}l();function kP(e,t,o,r,n){return e-=t,e=vc(e,1/o,r),n!==void 0&&(e=vc(e,1/n,r)),e}function zq(e,t=0,o=1,r=.5,n,a=e,s=e){if(zo.test(t)&&(t=parseFloat(t),t=Pe(s.min,s.max,t/100)-s.min),typeof t!="number")return;let i=Pe(a.min,a.max,r);e===a&&(i-=t),e.min=kP(e.min,t,o,i,n),e.max=kP(e.max,t,o,i,n)}function OP(e,t,[o,r,n],a,s){zq(e,t[o],t[r],t[n],t.scale,a,s)}var qq=["x","scaleX","originX"],Wq=["y","scaleY","originY"];function gv(e,t,o,r){OP(e.x,t,qq,o?o.x:void 0,r?r.x:void 0),OP(e.y,t,Wq,o?o.y:void 0,r?r.y:void 0)}l();function NP(e){return e.translate===0&&e.scale===1}function yv(e){return NP(e.x)&&NP(e.y)}function _P(e,t){return e.min===t.min&&e.max===t.max}function BP(e,t){return _P(e.x,t.x)&&_P(e.y,t.y)}function FP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xv(e,t){return FP(e.x,t.x)&&FP(e.y,t.y)}function vv(e){return qt(e.x)/qt(e.y)}function wv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}l();var nm=class{constructor(){this.members=[]}add(t){ml(this.members,t),t.scheduleRender()}remove(t){if(Aa(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(t){let o=this.members.findIndex(n=>t===n);if(o===0)return!1;let r;for(let n=o;n>=0;n--){let a=this.members[n];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,o){let r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,o&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:o,resumingFrom:r}=t;o.onExitComplete&&o.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};l();function VP(e,t,o){let r="",n=e.x.translate/t.x,a=e.y.translate/t.y,s=o?.z||0;if((n||a||s)&&(r=`translate3d(${n}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),o){let{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:y}=o;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}let i=e.x.scale*t.x,u=e.y.scale*t.y;return(i!==1||u!==1)&&(r+=`scale(${i}, ${u})`),r||"none"}var qs={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Cv=["","X","Y","Z"],$q={visibility:"hidden"},HP=1e3,Gq=0;function Sv(e,t,o,r){let{latestValues:n}=t;n[e]&&(o[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function KP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let o=hp(t);if(window.MotionHasOptimisedAnimation(o,"transform")){let{layout:n,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(o,"transform",be,!(n||a))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&KP(r)}function am({attachResizeListener:e,defaultParent:t,measureScroll:o,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(s={},i=t?.()){this.id=Gq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vr.value&&(qs.nodes=qs.calculatedTargetDeltas=qs.calculatedProjections=0),this.nodes.forEach(Yq),this.nodes.forEach(eW),this.nodes.forEach(tW),this.nodes.forEach(Xq),vr.addProjectionMetrics&&vr.addProjectionMetrics(qs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new rm)}addEventListener(s,i){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new ka),this.eventHandlers.get(s).add(i)}notifyListeners(s,...i){let u=this.eventHandlers.get(s);u&&u.notify(...i)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=om(s),this.instance=s;let{layoutId:u,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(c||u)&&(this.isLayoutDirty=!0),e){let f,p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=RP(p,250),Tl.hasAnimatedSinceResize&&(Tl.hasAnimatedSinceResize=!1,this.nodes.forEach(zP))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let g=this.options.transition||d.getDefaultTransition()||sW,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!xv(this.targetLayout,y),C=!p&&m;if(this.options.layoutRoot||this.resumeFrom||C||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,C);let S={...hl(g,"layout"),onPlay:v,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||zP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oW),this.animationId++)}getTransformTemplate(){let{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){let f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}let{layoutId:i,layout:u}=this.options;if(i===void 0&&!u)return;let c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UP);return}this.isUpdating||this.nodes.forEach(Zq),this.isUpdating=!1,this.nodes.forEach(Jq),this.nodes.forEach(jq),this.nodes.forEach(Kq),this.clearAllSnapshots();let i=Tt.now();Et.delta=ho(0,1e3/60,i-Et.timestamp),Et.timestamp=i,Et.isProcessing=!0,ep.update.process(Et),ep.preRender.process(Et),ep.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qq),this.sharedNodes.forEach(rW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qt(this.snapshot.measuredBox.x)&&!qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();let s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:i}=this.options;i&&i.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let i=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(i=!1),i){let u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!n)return;let s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,i=this.projectionDelta&&!yv(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(i||na(this.latestValues)||d)&&(n(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){let i=this.measurePageBox(),u=this.removeElementScroll(i);return s&&(u=this.removeTransform(u)),iW(u),{animationId:this.root.animationId,measuredBox:i,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:s}=this.options;if(!s)return Qe();let i=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lW))){let{scroll:c}=this.root;c&&(za(i.x,c.offset.x),za(i.y,c.offset.y))}return i}removeElementScroll(s){let i=Qe();if(Cr(i,s),this.scroll?.wasRoot)return i;for(let u=0;u<this.path.length;u++){let c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Cr(i,s),za(i.x,d.offset.x),za(i.y,d.offset.y))}return i}applyTransform(s,i=!1){let u=Qe();Cr(u,s);for(let c=0;c<this.path.length;c++){let d=this.path[c];!i&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zs(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),na(d.latestValues)&&zs(u,d.latestValues)}return na(this.latestValues)&&zs(u,this.latestValues),u}removeTransform(s){let i=Qe();Cr(i,s);for(let u=0;u<this.path.length;u++){let c=this.path[u];if(!c.instance||!na(c.latestValues))continue;Gp(c.latestValues)&&c.updateSnapshot();let d=Qe(),f=c.measurePageBox();Cr(d,f),gv(i,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return na(this.latestValues)&&gv(i,this.latestValues),i}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){let i=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=i.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=i.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=i.isSharedProjectionDirty);let u=!!this.resumingFrom||this!==i;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){let p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Ml(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),cv(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Ml(this.relativeTargetOrigin,this.target,p.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vr.value&&qs.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gp(this.parent.latestValues)||lv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let s=this.getLead(),i=!!this.resumingFrom||this!==s,u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(u=!1),u)return;let{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Cr(this.layoutCorrected,this.layout.layoutBox);let f=this.treeScale.x,p=this.treeScale.y;rP(this.layoutCorrected,this.treeScale,this.path,i),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Qe());let{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hv(this.prevProjectionDelta.x,this.projectionDelta.x),hv(this.prevProjectionDelta.y,this.projectionDelta.y)),Ll(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!wv(this.projectionDelta.x,this.prevProjectionDelta.x)||!wv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),vr.value&&qs.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){let i=this.getStack();i&&i.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Us(),this.projectionDelta=Us(),this.projectionDeltaWithTransform=Us()}setAnimationOrigin(s,i=!1){let u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},f=Us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!i;let p=Qe(),m=u?u.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,v=this.getStack(),x=!v||v.members.length<=1,w=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(aW));this.animationProgress=0;let C;this.mixTargetDelta=S=>{let b=S/1e3;qP(f.x,s.x,b),qP(f.y,s.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nW(this.relativeTarget,this.relativeTargetOrigin,p,b),C&&BP(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Qe()),Cr(C,this.relativeTarget)),g&&(this.animationValues=d,TP(d,c,this.latestValues,b,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{Tl.hasAnimatedSinceResize=!0,Rn.layout++,this.currentAnimation=tm(0,HP,{...s,onUpdate:i=>{this.mixTargetDelta(i),s.onUpdate&&s.onUpdate(i)},onStop:()=>{Rn.layout--},onComplete:()=>{Rn.layout--,s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let s=this.getLead(),{targetWithTransforms:i,target:u,layout:c,latestValues:d}=s;if(!(!i||!u||!c)){if(this!==s&&this.layout&&c&&YP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Qe();let f=qt(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+f;let p=qt(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+p}Cr(i,u),zs(i,d),Ll(this.projectionDeltaWithTransform,this.layoutCorrected,i,d)}}registerSharedNode(s,i){this.sharedNodes.has(s)||this.sharedNodes.set(s,new nm),this.sharedNodes.get(s).add(i);let c=i.options.initialPromotionConfig;i.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(i):void 0})}isLead(){let s=this.getStack();return s?s.lead===this:!0}getLead(){let{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){let{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:i,preserveFollowOpacity:u}={}){let c=this.getStack();c&&c.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),i&&this.setOptions({transition:i})}relegate(){let s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){let{visualElement:s}=this.options;if(!s)return;let i=!1,{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(i=!0),!i)return;let c={};u.z&&Sv("z",s,c,this.animationValues);for(let d=0;d<Cv.length;d++)Sv(`rotate${Cv[d]}`,s,c,this.animationValues),Sv(`skew${Cv[d]}`,s,c,this.animationValues);s.render();for(let d in c)s.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return $q;let i={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=fl(s?.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none",i;let c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){let m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=fl(s?.pointerEvents)||""),this.hasProjected&&!na(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}let d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),i.transform=VP(this.projectionDeltaWithTransform,this.treeScale,d),u&&(i.transform=u(d,i.transform));let{x:f,y:p}=this.projectionDelta;i.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?i.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(let m in Os){if(d[m]===void 0)continue;let{correct:y,applyTo:g,isCSSVariable:v}=Os[m],x=i.transform==="none"?d[m]:y(d[m],c);if(g){let w=g.length;for(let C=0;C<w;C++)i[g[C]]=x}else v?this.options.visualElement.renderState.vars[m]=x:i[m]=x}return this.options.layoutId&&(i.pointerEvents=c===this?fl(s?.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(UP),this.root.sharedNodes.clear()}}}function jq(e){e.updateLayout()}function Kq(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:o,measuredBox:r}=e.layout,{animationType:n}=e.options,a=t.source!==e.layout.source;n==="size"?tr(d=>{let f=a?t.measuredBox[d]:t.layoutBox[d],p=qt(f);f.min=o[d].min,f.max=f.min+p}):YP(n,t.layoutBox,o)&&tr(d=>{let f=a?t.measuredBox[d]:t.layoutBox[d],p=qt(o[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});let s=Us();Ll(s,o,t.layoutBox);let i=Us();a?Ll(i,e.applyTransform(r,!0),t.measuredBox):Ll(i,o,t.layoutBox);let u=!yv(s),c=!1;if(!e.resumeFrom){let d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){let{snapshot:f,layout:p}=d;if(f&&p){let m=Qe();Ml(m,t.layoutBox,f.layoutBox);let y=Qe();Ml(y,o,p.layoutBox),xv(m,y)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:t,delta:i,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){let{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function Yq(e){vr.value&&qs.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Xq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Qq(e){e.clearSnapshot()}function UP(e){e.clearMeasurements()}function Zq(e){e.isLayoutDirty=!1}function Jq(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eW(e){e.resolveTargetDelta()}function tW(e){e.calcProjection()}function oW(e){e.resetSkewAndRotation()}function rW(e){e.removeLeadSnapshot()}function qP(e,t,o){e.translate=Pe(t.translate,0,o),e.scale=Pe(t.scale,1,o),e.origin=t.origin,e.originPoint=t.originPoint}function WP(e,t,o,r){e.min=Pe(t.min,o.min,r),e.max=Pe(t.max,o.max,r)}function nW(e,t,o,r){WP(e.x,t.x,o.x,r),WP(e.y,t.y,o.y,r)}function aW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var sW={duration:.45,ease:[.4,0,.1,1]},$P=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),GP=$P("applewebkit/")&&!$P("chrome/")?Math.round:bt;function jP(e){e.min=GP(e.min),e.max=GP(e.max)}function iW(e){jP(e.x),jP(e.y)}function YP(e,t,o){return e==="position"||e==="preserve-aspect"&&!KR(vv(t),vv(o),.2)}function lW(e){return e!==e.root&&e.scroll?.wasRoot}l();var XP=am({attachResizeListener:(e,t)=>oa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0});var bv={current:void 0},sm=am({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bv.current){let e=new XP({});e.mount(window),e.setOptions({layoutScroll:!0}),bv.current=e}return bv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"});var QP={pan:{Feature:Jp},drag:{Feature:Zp,ProjectionNode:sm,MeasureLayout:em}};l();l();l();l();l();function im(e,t,o){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);let n=o?.[e]??r.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}function lm(e,t){let o=im(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[o,n,()=>r.abort()]}function ZP(e){return!(e.pointerType==="touch"||Yp())}function JP(e,t,o={}){let[r,n,a]=lm(e,o),s=i=>{if(!ZP(i))return;let{target:u}=i,c=t(u,i);if(typeof c!="function"||!u)return;let d=f=>{ZP(f)&&(c(f),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,n)};return r.forEach(i=>{i.addEventListener("pointerenter",s,n)}),a}function eL(e,t,o){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",o==="Start");let n="onHover"+o,a=r[n];a&&be.postRender(()=>a(t,ra(t)))}var um=class extends no{mount(){let{current:t}=this.node;t&&(this.unmount=JP(t,(o,r)=>(eL(this.node,r,"Start"),n=>eL(this.node,n,"End"))))}unmount(){}};l();var cm=class extends no{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ln(oa(this.node.current,"focus",()=>this.onFocus()),oa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};l();l();l();var Iv=(e,t)=>t?e===t?!0:Iv(e,t.parentElement):!1;l();var uW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tL(e){return uW.has(e.tagName)||e.tabIndex!==-1}l();l();var Ws=new WeakSet;function oL(e){return t=>{t.key==="Enter"&&e(t)}}function Rv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}var rL=(e,t)=>{let o=e.currentTarget;if(!o)return;let r=oL(()=>{if(Ws.has(o))return;Rv(o,"down");let n=oL(()=>{Rv(o,"up")}),a=()=>Rv(o,"cancel");o.addEventListener("keyup",n,t),o.addEventListener("blur",a,t)});o.addEventListener("keydown",r,t),o.addEventListener("blur",()=>o.removeEventListener("keydown",r),t)};function nL(e){return Pl(e)&&!Yp()}function aL(e,t,o={}){let[r,n,a]=lm(e,o),s=i=>{let u=i.currentTarget;if(!nL(i)||Ws.has(u))return;Ws.add(u);let c=t(u,i),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!nL(m)||!Ws.has(u))&&(Ws.delete(u),typeof c=="function"&&c(m,{success:y}))},f=m=>{d(m,u===window||u===document||o.useGlobalTarget||Iv(u,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",p,n)};return r.forEach(i=>{(o.useGlobalTarget?window:i).addEventListener("pointerdown",s,n),i instanceof HTMLElement&&(i.addEventListener("focus",c=>rL(c,n)),!tL(i)&&!i.hasAttribute("tabindex")&&(i.tabIndex=0))}),a}function sL(e,t,o){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",o==="Start");let n="onTap"+(o==="End"?"":o),a=r[n];a&&be.postRender(()=>a(t,ra(t)))}var dm=class extends no{mount(){let{current:t}=this.node;t&&(this.unmount=aL(t,(o,r)=>(sL(this.node,r,"Start"),(n,{success:a})=>sL(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};l();l();var Lv=new WeakMap,Pv=new WeakMap,cW=e=>{let t=Lv.get(e.target);t&&t(e)},dW=e=>{e.forEach(cW)};function fW({root:e,...t}){let o=e||document;Pv.has(o)||Pv.set(o,{});let r=Pv.get(o),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(dW,{root:e,...t})),r[n]}function iL(e,t,o){let r=fW(t);return Lv.set(e,o),r.observe(e),()=>{Lv.delete(e),r.unobserve(e)}}var pW={some:0,all:1},fm=class extends no{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:o,margin:r,amount:n="some",once:a}=t,s={root:o?o.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:pW[n]},i=u=>{let{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);let{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(u)};return iL(this.node.current,s,i)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;let{props:t,prevProps:o}=this.node;["amount","margin","root"].some(mW(t,o))&&this.startObserver()}unmount(){}};function mW({viewport:e={}},{viewport:t={}}={}){return o=>e[o]!==t[o]}var lL={inView:{Feature:fm},tap:{Feature:dm},focus:{Feature:cm},hover:{Feature:um}};l();var uL={layout:{ProjectionNode:sm,MeasureLayout:em}};l();import{Fragment as RW}from"react";l();l();l();l();l();var wc={current:null},pm={current:!1};function cL(){if(pm.current=!0,!!el)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wc.current=e.matches;e.addListener(t),t()}else wc.current=!1}l();var qa=new WeakMap;l();function dL(e,t,o){for(let r in t){let n=t[r],a=o[r];if(ze(n))e.addValue(r,n);else if(ze(a))e.addValue(r,ta(n,{owner:e}));else if(a!==n)if(e.hasValue(r)){let s=e.getValue(r);s.liveStyle===!0?s.jump(n):s.hasAnimated||s.set(n)}else{let s=e.getStaticValue(r);e.addValue(r,ta(s!==void 0?s:n,{owner:e}))}}for(let r in o)t[r]===void 0&&e.removeValue(r);return t}l();var mm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);l();var hm=e=>/^0[^.\s]+$/u.test(e);l();l();l();var fL={test:e=>e==="auto",parse:e=>e};l();var gm=e=>t=>t.test(e);var Mv=[bn,ue,zo,In,EI,MI,fL],Ev=e=>Mv.find(gm(e));var hW=[...Mv,_t,qo],pL=e=>hW.find(gm(e));l();l();var gW=new Set(["brightness","contrast","saturate","opacity"]);function yW(e){let[t,o]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;let[r]=o.match(gl)||[];if(!r)return e;let n=o.replace(r,""),a=gW.has(t)?1:0;return r!==o&&(a*=100),t+"("+a+n+")"}var xW=/\b([a-z-]*)\(.*?\)/gu,Cc={...qo,getAnimatableNone:e=>{let t=e.match(xW);return t?t.map(yW).join(" "):e}};l();var vW={...il,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:Cc,WebkitFilter:Cc},ym=e=>vW[e];function xm(e,t){let o=ym(e);return o!==Cc&&(o=qo),o.getAnimatableNone?o.getAnimatableNone(t):void 0}var mL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Al=class{scrapeMotionValuesFromProps(t,o,r){return{}}constructor({parent:t,props:o,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:a,visualState:s},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ha,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let p=Tt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,be.render(this.render,!1,!0))};let{latestValues:u,renderState:c}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=o.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=o,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.blockInitialAnimation=!!a,this.isControllingVariants=ks(o),this.isVariantNode=rp(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:d,...f}=this.scrapeMotionValuesFromProps(o,{},this);for(let p in f){let m=f[p];u[p]!==void 0&&ze(m)&&m.set(u[p],!1)}}mount(t){this.current=t,qa.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,r)=>this.bindToMotionValue(r,o)),pm.current||cL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wc.current,ol(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(let t in this.events)this.events[t].clear();for(let t in this.features){let o=this.features[t];o&&(o.unmount(),o.isMounted=!1)}this.current=null}bindToMotionValue(t,o){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let r=_r.has(t);r&&this.onBindTransform&&this.onBindTransform();let n=o.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=o.on("renderRequest",this.scheduleRender),s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,o)),this.valueSubscriptions.set(t,()=>{n(),a(),s&&s(),o.owner&&o.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xn){let o=Xn[t];if(!o)continue;let{isEnabled:r,Feature:n}=o;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){let a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,o){this.latestValues[t]=o}update(t,o){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let r=0;r<mL.length;r++){let n=mL[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let a="on"+n,s=t[a];s&&(this.propEventSubscriptions[n]=this.on(n,s))}this.prevMotionValues=dL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(t),()=>o.variantChildren.delete(t)}addValue(t,o){let r=this.values.get(t);o!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,o),this.values.set(t,o),this.latestValues[t]=o.get())}removeValue(t){this.values.delete(t);let o=this.valueSubscriptions.get(t);o&&(o(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,o){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&o!==void 0&&(r=ta(o===null?void 0:o,{owner:this}),this.addValue(t,r)),r}readValue(t,o){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mm(r)||hm(r))?r=parseFloat(r):!pL(r)&&qo.test(o)&&(r=xm(t,o)),this.setBaseTarget(t,ze(r)?r.get():r)),ze(r)?r.get():r}setBaseTarget(t,o){this.baseTarget[t]=o}getBaseTarget(t){let{initial:o}=this.props,r;if(typeof o=="string"||typeof o=="object"){let a=dl(this.props,o,this.presenceContext?.custom);a&&(r=a[t])}if(o&&r!==void 0)return r;let n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!ze(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,o){return this.events[t]||(this.events[t]=new ka),this.events[t].add(o)}notify(t,...o){this.events[t]&&this.events[t].notify(...o)}};l();l();var wW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CW(e){let t=wW.exec(e);if(!t)return[,];let[,o,r,n]=t;return[`--${o??r}`,n]}var SW=4;function Tv(e,t,o=1){Ot(o<=SW,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[r,n]=CW(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let s=a.trim();return mm(s)?parseFloat(s):s}return sl(n)?Tv(n,t,o+1):n}l();function hL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hm(e):!0}l();var bW=new Set(["auto","none","0"]);function gL(e,t,o){let r=0,n;for(;r<e.length&&!n;){let a=e[r];typeof a=="string"&&!bW.has(a)&&Ns(a).values.length&&(n=e[r]),r++}if(n&&o)for(let a of t)e[a]=xm(o,n)}var vm=class extends Ha{constructor(t,o,r,n,a){super(t,o,r,n,a,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:o,name:r}=this;if(!o||!o.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let c=t[u];if(typeof c=="string"&&(c=c.trim(),sl(c))){let d=Tv(c,o.current);d!==void 0&&(t[u]=d),u===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Up.has(r)||t.length!==2)return;let[n,a]=t,s=Ev(n),i=Ev(a);if(s!==i)if(Zx(s)&&Zx(i))for(let u=0;u<t.length;u++){let c=t[u];typeof c=="string"&&(t[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:o}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||hL(t[n]))&&r.push(n);r.length&&gL(t,r,o)}measureInitialState(){let{element:t,unresolvedKeyframes:o,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o[0]=this.measuredOrigin;let n=o[o.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){let{element:t,name:o,unresolvedKeyframes:r}=this;if(!t||!t.current)return;let n=t.getValue(o);n&&n.jump(this.measuredOrigin,!1);let a=r.length-1,s=r[a];r[a]=Fs[o](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([i,u])=>{t.getValue(i).set(u)}),this.resolveNoneKeyframes()}};var kl=class extends Al{constructor(){super(...arguments),this.KeyframeResolver=vm}sortInstanceNodePosition(t,o){return t.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(t,o){return t.style?t.style[o]:void 0}removeValueFromRenderState(t,{vars:o,style:r}){delete o[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;ze(t)&&(this.childSubscription=t.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}};l();function wm(e,{style:t,vars:o},r,n){Object.assign(e.style,t,n&&n.getProjectionStyles(r));for(let a in o)e.style.setProperty(a,o[a])}function IW(e){return window.getComputedStyle(e)}var Ol=class extends kl{constructor(){super(...arguments),this.type="html",this.renderInstance=wm}readValueFromInstance(t,o){if(_r.has(o))return vR(t,o);{let r=IW(t),n=(al(o)?r.getPropertyValue(o):r[o])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:o}){return dv(t,o)}build(t,o,r){ll(t,o,r.transformTemplate)}scrapeMotionValuesFromProps(t,o,r){return pl(t,o,r)}};l();l();var Cm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);l();function yL(e,t,o,r){wm(e,t,void 0,r);for(let n in t.attrs)e.setAttribute(Cm.has(n)?n:rl(n),t.attrs[n])}var Nl=class extends kl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(t,o){return t[o]}readValueFromInstance(t,o){if(_r.has(o)){let r=ym(o);return r&&r.default||0}return o=Cm.has(o)?o:rl(o),t.getAttribute(o)}scrapeMotionValuesFromProps(t,o,r){return fp(t,o,r)}build(t,o,r){lp(t,o,this.isSVGTag,r.transformTemplate)}renderInstance(t,o,r,n){yL(t,o,r,n)}mount(t){this.isSVGTag=cp(t.tagName),super.mount(t)}};var xL=(e,t)=>cl(e)?new Nl(t):new Ol(t,{allowProjection:e!==RW});var vL=UI({...VR,...lL,...QP,...uL},xL);var qe=xI(vL);l();l();l();l();l();function Sc(e){return typeof e=="object"&&!Array.isArray(e)}function Sm(e,t,o,r){return typeof e=="string"&&Sc(t)?im(e,o,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}l();function wL(e,t,o){return e*(t+1)}l();function Dv(e,t,o,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?o:r.get(t)??e}l();l();l();var CL=(e,t,o)=>{let r=t-e;return((o-e)%r+r)%r+e};function bm(e,t){return Pp(e)?e[CL(0,e.length,t)]:e}function PW(e,t,o){for(let r=0;r<e.length;r++){let n=e[r];n.at>t&&n.at<o&&(Aa(e,n),r--)}}function SL(e,t,o,r,n,a){PW(e,n,a);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Pe(n,a,r[s]),easing:bm(o,s)})}l();function bL(e,t){for(let o=0;o<e.length;o++)e[o]=e[o]/(t+1)}l();function IL(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}var LW="easeInOut",MW=20;function LL(e,{defaultTransition:t={},...o}={},r,n){let a=t.duration||.3,s=new Map,i=new Map,u={},c=new Map,d=0,f=0,p=0;for(let m=0;m<e.length;m++){let y=e[m];if(typeof y=="string"){c.set(y,f);continue}else if(!Array.isArray(y)){c.set(y.name,Dv(f,y.at,d,c));continue}let[g,v,x={}]=y;x.at!==void 0&&(f=Dv(f,x.at,d,c));let w=0,C=(S,b,R,P=0,M=0)=>{let T=EW(S),{delay:_=0,times:F=Rp(T),type:k="keyframes",repeat:N,repeatType:I,repeatDelay:A=0,...L}=b,{ease:D=t.ease||"easeOut",duration:O}=b,E=typeof _=="function"?_(P,M):_,V=T.length,B=bl(k)?k:n?.[k];if(V<=2&&B){let H=100;if(V===2&&AW(T)){let j=T[1]-T[0];H=Math.abs(j)}let q={...L};O!==void 0&&(q.duration=Nt(O));let z=Cp(q,H,B);D=z.ease,O=z.duration}O??(O=a);let U=f+E;F.length===1&&F[0]===0&&(F[1]=1);let $=F.length-T.length;if($>0&&Ip(F,$),T.length===1&&T.unshift(null),N){Ot(N<MW,"Repeat count too high, must be less than 20"),O=wL(O,N);let H=[...T],q=[...F];D=Array.isArray(D)?[...D]:[D];let z=[...D];for(let j=0;j<N;j++){T.push(...H);for(let X=0;X<H.length;X++)F.push(q[X]+(j+1)),D.push(X===0?"linear":bm(z,X-1))}bL(F,N)}let G=U+O;SL(R,T,D,F,U,G),w=Math.max(E+O,w),p=Math.max(G,p)};if(ze(g)){let S=RL(g,i);C(v,x,PL("default",S))}else{let S=Sm(g,v,r,u),b=S.length;for(let R=0;R<b;R++){v=v,x=x;let P=S[R],M=RL(P,i);for(let T in v)C(v[T],TW(x,T),PL(T,M),R,b)}}d=f,f+=w}return i.forEach((m,y)=>{for(let g in m){let v=m[g];v.sort(IL);let x=[],w=[],C=[];for(let b=0;b<v.length;b++){let{at:R,value:P,easing:M}=v[b];x.push(P),w.push(en(0,p,R)),C.push(M||"easeOut")}w[0]!==0&&(w.unshift(0),x.unshift(x[0]),C.unshift(LW)),w[w.length-1]!==1&&(w.push(1),x.push(null)),s.has(y)||s.set(y,{keyframes:{},transition:{}});let S=s.get(y);S.keyframes[g]=x,S.transition[g]={...t,duration:p,ease:C,times:w,...o}}}),s}function RL(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function PL(e,t){return t[e]||(t[e]=[]),t[e]}function EW(e){return Array.isArray(e)?e:[e]}function TW(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}var DW=e=>typeof e=="number",AW=e=>e.every(DW);l();l();l();function kW(e,t){return e in t}var Im=class extends Al{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,o){if(kW(o,t)){let r=t[o];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,o){delete o.output[t]}measureInstanceViewportBox(){return Qe()}build(t,o){Object.assign(t.output,o)}renderInstance(t,{output:o}){Object.assign(t,o)}sortInstanceNodePosition(){return 0}};function ML(e){let t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},o=om(e)?new Nl(t):new Ol(t);o.mount(e),qa.set(e,o)}function EL(e){let t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},o=new Im(t);o.mount(e),qa.set(e,o)}function OW(e,t){return ze(e)||typeof e=="number"||typeof e=="string"&&!Sc(t)}function Rm(e,t,o,r){let n=[];if(OW(e,t))n.push(tm(e,Sc(t)&&t.default||t,o&&(o.default||o)));else{let a=Sm(e,t,r),s=a.length;Ot(!!s,"No valid elements provided.");for(let i=0;i<s;i++){let u=a[i],c=u instanceof Element?ML:EL;qa.has(u)||c(u);let d=qa.get(u),f={...o};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(i,s)),n.push(...Rl(d,{...t,transition:f},{}))}}return n}function TL(e,t,o){let r=[];return LL(e,t,o,{spring:_a}).forEach(({keyframes:a,transition:s},i)=>{r.push(...Rm(i,a,s))}),r}l();l();var Pm=class{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,o){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=o}attachTimeline(t){let o=this.animations.map(r=>r.attachTimeline(t));return()=>{o.forEach((r,n)=>{r&&r(),this.animations[n].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let o=0;o<this.animations.length;o++)t=Math.max(t,this.animations[o].duration);return t}runAll(t){this.animations.forEach(o=>o[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}};var Lm=class extends Pm{then(t,o){return this.finished.finally(t).then(()=>{})}};function NW(e){return Array.isArray(e)&&e.some(Array.isArray)}function DL(e){function t(o,r,n){let a=[];NW(o)?a=TL(o,r,e):a=Rm(o,r,n,e);let s=new Lm(a);return e&&e.animations.push(s),s}return t}var Av=DL();l();import{createContext as $5,useContext as G5,useMemo as wE}from"react";l();l();l();var Mm=Object.create(null),bc=e=>globalThis.process?.env||import.meta.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?Mm:globalThis),Wa=new Proxy(Mm,{get(e,t){return bc()[t]??Mm[t]},has(e,t){let o=bc();return t in o||t in Mm},set(e,t,o){let r=bc(!0);return r[t]=o,!0},deleteProperty(e,t){if(!t)return!1;let o=bc(!0);return delete o[t],!0},ownKeys(){let e=bc(!0);return Object.keys(e)}}),_W=typeof process<"u"&&process.env&&"true"||"",FW=[["APPVEYOR"],["AWS_AMPLIFY","AWS_APP_ID",{ci:!0}],["AZURE_PIPELINES","SYSTEM_TEAMFOUNDATIONCOLLECTIONURI"],["AZURE_STATIC","INPUT_AZURE_STATIC_WEB_APPS_API_TOKEN"],["APPCIRCLE","AC_APPCIRCLE"],["BAMBOO","bamboo_planKey"],["BITBUCKET","BITBUCKET_COMMIT"],["BITRISE","BITRISE_IO"],["BUDDY","BUDDY_WORKSPACE_ID"],["BUILDKITE"],["CIRCLE","CIRCLECI"],["CIRRUS","CIRRUS_CI"],["CLOUDFLARE_PAGES","CF_PAGES",{ci:!0}],["CLOUDFLARE_WORKERS","WORKERS_CI",{ci:!0}],["CODEBUILD","CODEBUILD_BUILD_ARN"],["CODEFRESH","CF_BUILD_ID"],["DRONE"],["DRONE","DRONE_BUILD_EVENT"],["DSARI"],["GITHUB_ACTIONS"],["GITLAB","GITLAB_CI"],["GITLAB","CI_MERGE_REQUEST_ID"],["GOCD","GO_PIPELINE_LABEL"],["LAYERCI"],["HUDSON","HUDSON_URL"],["JENKINS","JENKINS_URL"],["MAGNUM"],["NETLIFY"],["NETLIFY","NETLIFY_LOCAL",{ci:!1}],["NEVERCODE"],["RENDER"],["SAIL","SAILCI"],["SEMAPHORE"],["SCREWDRIVER"],["SHIPPABLE"],["SOLANO","TDDIUM"],["STRIDER"],["TEAMCITY","TEAMCITY_VERSION"],["TRAVIS"],["VERCEL","NOW_BUILDER"],["VERCEL","VERCEL",{ci:!1}],["VERCEL","VERCEL_ENV",{ci:!1}],["APPCENTER","APPCENTER_BUILD_ID"],["CODESANDBOX","CODESANDBOX_SSE",{ci:!1}],["CODESANDBOX","CODESANDBOX_HOST",{ci:!1}],["STACKBLITZ"],["STORMKIT"],["CLEAVR"],["ZEABUR"],["CODESPHERE","CODESPHERE_APP_ID",{ci:!0}],["RAILWAY","RAILWAY_PROJECT_ID"],["RAILWAY","RAILWAY_SERVICE_ID"],["DENO-DEPLOY","DENO_DEPLOYMENT_ID"],["FIREBASE_APP_HOSTING","FIREBASE_APP_HOSTING",{ci:!0}]];function BW(){if(globalThis.process?.env)for(let e of FW){let t=e[1]||e[0];if(globalThis.process?.env[t])return{name:e[0].toLowerCase(),...e[2]}}return globalThis.process?.env?.SHELL==="/bin/jsh"&&globalThis.process?.versions?.webcontainer?{name:"stackblitz",ci:!1}:{name:"",ci:!1}}var kL=BW(),OL=kL.name;function $s(e){return e?e!=="false":!1}var Ic=globalThis.process?.platform||"",Em=$s(Wa.CI)||kL.ci!==!1,NL=$s(globalThis.process?.stdout&&globalThis.process?.stdout.isTTY);var oPe=$s(Wa.DEBUG),VW=_W==="test"||$s(Wa.TEST);var rPe=$s(Wa.MINIMAL)||Em||VW||!NL,HW=/^win/i.test(Ic),nPe=/^linux/i.test(Ic),aPe=/^darwin/i.test(Ic),sPe=!$s(Wa.NO_COLOR)&&($s(Wa.FORCE_COLOR)||(NL||HW)&&Wa.TERM!=="dumb"||Em),kv=(globalThis.process?.versions?.node||"").replace(/^v/,"")||null,iPe=Number(kv?.split(".")[0])||null,UW=globalThis.process||Object.create(null),AL={versions:{}},_L=new Proxy(UW,{get(e,t){if(t==="env")return Wa;if(t in e)return e[t];if(t in AL)return AL[t]}}),zW=globalThis.process?.release?.name==="node",qW=!!globalThis.Bun||!!globalThis.process?.versions?.bun,WW=!!globalThis.Deno,$W=!!globalThis.fastly,GW=!!globalThis.Netlify,jW=!!globalThis.EdgeRuntime,KW=globalThis.navigator?.userAgent==="Cloudflare-Workers",YW=[[GW,"netlify"],[jW,"edge-light"],[KW,"workerd"],[$W,"fastly"],[WW,"deno"],[qW,"bun"],[zW,"node"]];function XW(){let e=YW.find(t=>t[0]);if(e)return{name:e[1]}}var QW=XW(),lPe=QW?.name||"";l();function FL(e=new Date){return`${ZW(e)}T${JW(e)}${e$(e)}`}function ZW(e){return[e.getFullYear(),Gs(e.getMonth()+1),Gs(e.getDate())].join("-")}function JW(e){return[Gs(e.getHours()),Gs(e.getMinutes()),Gs(e.getSeconds())].join(":")}function e$(e){let t=e.getTimezoneOffset();if(!t)return"Z";let o=Math.abs(t),r=Math.floor(o/60),n=o%60;return`${t>0?"-":"+"}${Gs(r)}:${Gs(n)}`}function Gs(e){return String(e).padStart(2,"0")}var t$="https://checkpoint.prisma.io/v1";var o$="check/:product";async function BL(e){let t=new URL(o$,e.baseURL||t$);t.pathname=t.pathname.replace(":product",e.product);let{additionalData:o}=e;t.search=new URLSearchParams([...Object.entries({arch:e.architecture||_L.arch||"unknown",check_if_update_available:`${e.skipUpdateCheck!==!0}`,ci:`${Em}`,ci_name:OL,cli_install_type:e.cliInstallType||"",cli_path_hash:e.cliPathHash||"",client_event_id:e.eventId||"",command:e.command||"",information:typeof o=="string"?o:o?JSON.stringify(o):"",local_timestamp:FL(e.timestamp),node_version:kv||"0.0.0",os:e.platform||Ic||"unknown",previous_client_event_id:e.previousEventId||"",project_hash:e.projectHash||"",signature:e.signature,version:e.version}),...Ov("schema_generators_providers",e.ormGeneratorProviders),...Ov("schema_preview_features",e.ormPreviewFeatures),...Ov("schema_providers",[e.ormDatasourceProvider])]).toString(),e.debug&&console.debug("Sending request to:",t.toString());let r=await fetch(t,{headers:{Accept:"application/json","User-Agent":"prisma/js-checkpoint"},method:"GET"});if(!r.ok)throw new Error(`checkpoint response error: ${r.status} ${r.statusText}`);return await r.json()}function Ov(e,t){return t?.filter(Boolean).map(o=>[e,o])||[]}l();l();l();l();l();var Br=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};l();var or=typeof window>"u"||"Deno"in globalThis;function Po(){}function UL(e,t){return typeof e=="function"?e(t):e}function Rc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Tm(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $a(e,t){return typeof e=="function"?e(t):e}function Sr(e,t){return typeof e=="function"?e(t):e}function Dm(e,t){let{type:o="all",exact:r,fetchStatus:n,predicate:a,queryKey:s,stale:i}=e;if(s){if(r){if(t.queryHash!==Pc(s,t.options))return!1}else if(!Fl(t.queryKey,s))return!1}if(o!=="all"){let u=t.isActive();if(o==="active"&&!u||o==="inactive"&&u)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||n&&n!==t.state.fetchStatus||a&&!a(t))}function Am(e,t){let{exact:o,status:r,predicate:n,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(o){if(Mn(t.options.mutationKey)!==Mn(a))return!1}else if(!Fl(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function Pc(e,t){return(t?.queryKeyHashFn||Mn)(e)}function Mn(e){return JSON.stringify(e,(t,o)=>Nv(o)?Object.keys(o).sort().reduce((r,n)=>(r[n]=o[n],r),{}):o)}function Fl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(o=>Fl(e[o],t[o])):!1}function _l(e,t){if(e===t)return e;let o=VL(e)&&VL(t);if(o||Nv(e)&&Nv(t)){let r=o?e:Object.keys(e),n=r.length,a=o?t:Object.keys(t),s=a.length,i=o?[]:{},u=0;for(let c=0;c<s;c++){let d=o?c:a[c];(!o&&r.includes(d)||o)&&e[d]===void 0&&t[d]===void 0?(i[d]=void 0,u++):(i[d]=_l(e[d],t[d]),i[d]===e[d]&&e[d]!==void 0&&u++)}return n===s&&u===n?e:i}return t}function Bl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(e[o]!==t[o])return!1;return!0}function VL(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nv(e){if(!HL(e))return!1;let t=e.constructor;if(t===void 0)return!0;let o=t.prototype;return!(!HL(o)||!o.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function HL(e){return Object.prototype.toString.call(e)==="[object Object]"}function zL(e){return new Promise(t=>{setTimeout(t,e)})}function Lc(e,t,o){if(typeof o.structuralSharing=="function")return o.structuralSharing(e,t);if(o.structuralSharing!==!1){try{return _l(e,t)}catch(r){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${o.queryHash}]: ${r}`),r}return _l(e,t)}return t}function qL(e,t,o=0){let r=[...e,t];return o&&r.length>o?r.slice(1):r}function WL(e,t,o=0){let r=[t,...e];return o&&r.length>o?r.slice(0,-1):r}var js=Symbol();function km(e,t){return e.queryFn===js&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${e.queryHash}'`),!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===js?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var r$=class extends Br{#t;#e;#o;constructor(){super(),this.#o=e=>{if(!or&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#o)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#o=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Vl=new r$;l();var n$=class extends Br{#t=!0;#e;#o;constructor(){super(),this.#o=e=>{if(!or&&window.addEventListener){let t=()=>e(!0),o=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",o)}}}}onSubscribe(){this.#e||this.setEventListener(this.#o)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#o=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(o=>{o(e)}))}isOnline(){return this.#t}},Hl=new n$;l();function Mc(){let e,t,o=new Promise((n,a)=>{e=n,t=a});o.status="pending",o.catch(()=>{});function r(n){Object.assign(o,n),delete o.resolve,delete o.reject}return o.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},o.reject=n=>{r({status:"rejected",reason:n}),t(n)},o}function a$(e){return Math.min(1e3*2**e,3e4)}function _v(e){return(e??"online")==="online"?Hl.isOnline():!0}var $L=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Om(e){return e instanceof $L}function Nm(e){let t=!1,o=0,r=!1,n,a=Mc(),s=g=>{r||(p(new $L(g)),e.abort?.())},i=()=>{t=!0},u=()=>{t=!1},c=()=>Vl.isFocused()&&(e.networkMode==="always"||Hl.isOnline())&&e.canRun(),d=()=>_v(e.networkMode)&&e.canRun(),f=g=>{r||(r=!0,e.onSuccess?.(g),n?.(),a.resolve(g))},p=g=>{r||(r=!0,e.onError?.(g),n?.(),a.reject(g))},m=()=>new Promise(g=>{n=v=>{(r||c())&&g(v)},e.onPause?.()}).then(()=>{n=void 0,r||e.onContinue?.()}),y=()=>{if(r)return;let g,v=o===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{if(r)return;let w=e.retry??(or?0:3),C=e.retryDelay??a$,S=typeof C=="function"?C(o,x):C,b=w===!0||typeof w=="number"&&o<w||typeof w=="function"&&w(o,x);if(t||!b){p(x);return}o++,e.onFail?.(o,x),zL(S).then(()=>c()?void 0:m()).then(()=>{t?p(x):y()})})};return{promise:a,cancel:s,continue:()=>(n?.(),a),cancelRetry:i,continueRetry:u,canStart:d,start:()=>(d()?y():m().then(y),a)}}l();l();l();var GL=e=>setTimeout(e,0);function s$(){let e=[],t=0,o=i=>{i()},r=i=>{i()},n=GL,a=i=>{t?e.push(i):n(()=>{o(i)})},s=()=>{let i=e;e=[],i.length&&n(()=>{r(()=>{i.forEach(u=>{o(u)})})})};return{batch:i=>{let u;t++;try{u=i()}finally{t--,t||s()}return u},batchCalls:i=>(...u)=>{a(()=>{i(...u)})},schedule:a,setNotifyFunction:i=>{o=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{n=i}}}var He=s$();l();var _m=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rc(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(or?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}};var jL=class extends _m{#t;#e;#o;#r;#n;#s;#i;constructor(e){super(),this.#i=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#o=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=i$(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#o.remove(this)}setData(e,t){let o=Lc(this.state.data,e,this.options);return this.#a({data:o,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),o}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Po).catch(Po):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Sr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===js||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Tm(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){let i=this.observers.find(u=>u.options.queryFn);i&&this.setOptions(i.options)}Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']");let o=new AbortController,r=i=>{Object.defineProperty(i,"signal",{enumerable:!0,get:()=>(this.#i=!0,o.signal)})},n=()=>{let i=km(this.options,t),u={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(u),this.#i=!1,this.options.persister?this.options.persister(i,u,this):i(u)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:n};r(a),this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta});let s=i=>{Om(i)&&i.silent||this.#a({type:"error",error:i}),Om(i)||(this.#o.config.onError?.(i,this),this.#o.config.onSettled?.(this.state.data,i,this)),this.scheduleGc()};return this.#n=Nm({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:o.abort.bind(o),onSuccess:i=>{if(i===void 0){console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(i)}catch(u){s(u);return}this.#o.config.onSuccess?.(i,this),this.#o.config.onSettled?.(i,this.state.error,this),this.scheduleGc()},onError:s,onFail:(i,u)=>{this.#a({type:"failed",failureCount:i,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#a(e){let t=o=>{switch(e.type){case"failed":return{...o,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...Fv(o.data,this.options),fetchMeta:e.meta??null};case"success":return{...o,data:e.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;return Om(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...o,error:r,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...e.state}}};this.state=t(this.state),He.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),this.#o.notify({query:this,type:"updated",action:e})})}};function Fv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_v(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function i$(e){let t=typeof e.initialData=="function"?e.initialData():e.initialData,o=t!==void 0,r=o?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:o?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"pending",fetchStatus:"idle"}}var KL=class extends Br{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,o){let r=t.queryKey,n=t.queryHash??Pc(r,t),a=this.get(n);return a||(a=new jL({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:o,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){He.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(o=>Dm(t,o))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(o=>Dm(e,o)):t}notify(e){He.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){He.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){He.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}};l();l();l();var YL=class extends _m{#t;#e;#o;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||Bv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#o?.continue()??this.execute(this.state.variables)}async execute(e){this.#o=Nm({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,n)=>{this.#r({type:"failed",failureCount:r,error:n})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});let t=this.state.status==="pending",o=!this.#o.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:o}),await this.#e.config.onMutate?.(e,this);let n=await this.options.onMutate?.(e);n!==this.state.context&&this.#r({type:"pending",context:n,variables:e,isPaused:o})}let r=await this.#o.start();return await this.#e.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#e.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#e.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#e.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#e.runNext(this)}}#r(e){let t=o=>{switch(e.type){case"failed":return{...o,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...o,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:e.error,failureCount:o.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),He.batch(()=>{this.#t.forEach(o=>{o.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function Bv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var XL=class extends Br{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#o=0}#t;#e;#o;build(e,t,o){let r=new YL({mutationCache:this,mutationId:++this.#o,options:e.defaultMutationOptions(t),state:o});return this.add(r),r}add(e){this.#t.add(e);let t=Fm(e);if(typeof t=="string"){let o=this.#e.get(t);o?o.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){let t=Fm(e);if(typeof t=="string"){let o=this.#e.get(t);if(o)if(o.length>1){let r=o.indexOf(e);r!==-1&&o.splice(r,1)}else o[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=Fm(e);if(typeof t=="string"){let r=this.#e.get(t)?.find(n=>n.state.status==="pending");return!r||r===e}else return!0}runNext(e){let t=Fm(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){He.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){let t={exact:!0,...e};return this.getAll().find(o=>Am(t,o))}findAll(e={}){return this.getAll().filter(t=>Am(e,t))}notify(e){He.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(t=>t.state.isPaused);return He.batch(()=>Promise.all(e.map(t=>t.continue().catch(Po))))}};function Fm(e){return e.options.scope?.id}l();function Vv(e){return{onFetch:(t,o)=>{let r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],s=t.state.data?.pageParams||[],i={pages:[],pageParams:[]},u=0,c=async()=>{let d=!1,f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},p=km(t.options,t.fetchOptions),m=async(y,g,v)=>{if(d)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);let x={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};f(x);let w=await p(x),{maxPages:C}=t.options,S=v?WL:qL;return{pages:S(y.pages,w,C),pageParams:S(y.pageParams,g,C)}};if(n&&a.length){let y=n==="backward",g=y?l$:QL,v={pages:a,pageParams:s},x=g(r,v);i=await m(v,x,y)}else{let y=e??a.length;do{let g=u===0?s[0]??r.initialPageParam:QL(r,i);if(u>0&&g==null)break;i=await m(i,g),u++}while(u<y)}return i};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},o):t.fetchFn=c}}}function QL(e,{pages:t,pageParams:o}){let r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,o[r],o):void 0}function l$(e,{pages:t,pageParams:o}){return t.length>0?e.getPreviousPageParam?.(t[0],t,o[0],o):void 0}var Hv=class{#t;#e;#o;#r;#n;#s;#i;#a;constructor(e={}){this.#t=e.queryCache||new KL,this.#e=e.mutationCache||new XL,this.#o=e.defaultOptions||{},this.#r=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=Vl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Hl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),o=this.#t.build(this,t),r=o.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&o.isStaleByTime($a(t.staleTime,o))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:o})=>{let r=o.data;return[t,r]})}setQueryData(e,t,o){let r=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(r.queryHash)?.state.data,s=UL(t,a);if(s!==void 0)return this.#t.build(this,r).setData(s,{...o,manual:!0})}setQueriesData(e,t,o){return He.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,o)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){let t=this.#t;He.batch(()=>{t.findAll(e).forEach(o=>{t.remove(o)})})}resetQueries(e,t){let o=this.#t;return He.batch(()=>(o.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let o={revert:!0,...t},r=He.batch(()=>this.#t.findAll(e).map(n=>n.cancel(o)));return Promise.all(r).then(Po).catch(Po)}invalidateQueries(e,t={}){return He.batch(()=>(this.#t.findAll(e).forEach(o=>{o.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){let o={...t,cancelRefetch:t.cancelRefetch??!0},r=He.batch(()=>this.#t.findAll(e).filter(n=>!n.isDisabled()).map(n=>{let a=n.fetch(void 0,o);return o.throwOnError||(a=a.catch(Po)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Po)}fetchQuery(e){let t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);let o=this.#t.build(this,t);return o.isStaleByTime($a(t.staleTime,o))?o.fetch(t):Promise.resolve(o.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Po).catch(Po)}fetchInfiniteQuery(e){return e.behavior=Vv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Po).catch(Po)}ensureInfiniteQueryData(e){return e.behavior=Vv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hl.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#o}setDefaultOptions(e){this.#o=e}setQueryDefaults(e,t){this.#r.set(Mn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#r.values()],o={};return t.forEach(r=>{Fl(e,r.queryKey)&&Object.assign(o,r.defaultOptions)}),o}setMutationDefaults(e,t){this.#n.set(Mn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#n.values()],o={};return t.forEach(r=>{Fl(e,r.mutationKey)&&Object.assign(o,r.defaultOptions)}),o}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#o.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Pc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===js&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#o.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}};l();var zv=class extends Br{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#i=Mc(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#o=void 0;#r=void 0;#n;#s;#i;#a;#h;#f;#p;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),ZL(this.#e,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uv(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uv(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#C(),this.#e.removeObserver(this)}setOptions(e){let t=this.options,o=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),t._defaulted&&!Bl(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let r=this.hasListeners();r&&JL(this.#e,o,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==o||Sr(this.options.enabled,this.#e)!==Sr(t.enabled,this.#e)||$a(this.options.staleTime,this.#e)!==$a(t.staleTime,this.#e))&&this.#g();let n=this.#y();r&&(this.#e!==o||Sr(this.options.enabled,this.#e)!==Sr(t.enabled,this.#e)||n!==this.#l)&&this.#x(n)}getOptimisticResult(e){let t=this.#t.getQueryCache().build(this.#t,e),o=this.createResult(t,e);return c$(this,o)&&(this.#r=o,this.#s=this.options,this.#n=this.#e.state),o}getCurrentResult(){return this.#r}trackResult(e,t){let o={};return Object.keys(e).forEach(r=>{Object.defineProperty(o,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),o}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#t.defaultQueryOptions(e),o=this.#t.getQueryCache().build(this.#t,t);return o.fetch().then(()=>this.createResult(o,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#S();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Po)),t}#g(){this.#w();let e=$a(this.options.staleTime,this.#e);if(or||this.#r.isStale||!Rc(e))return;let o=Tm(this.#r.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},o)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#x(e){this.#C(),this.#l=e,!(or||Sr(this.options.enabled,this.#e)===!1||!Rc(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||Vl.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#w(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#C(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){let o=this.#e,r=this.options,n=this.#r,a=this.#n,s=this.#s,u=e!==o?e.state:this.#o,{state:c}=e,d={...c},f=!1,p;if(t._optimisticResults){let P=this.hasListeners(),M=!P&&ZL(e,t),T=P&&JL(e,o,t,r);(M||T)&&(d={...d,...Fv(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:g}=d;if(t.select&&d.data!==void 0)if(n&&d.data===a?.data&&t.select===this.#h)p=this.#f;else try{this.#h=t.select,p=t.select(d.data),p=Lc(n?.data,p,t),this.#f=p,this.#a=null}catch(P){this.#a=P}else p=d.data;if(t.placeholderData!==void 0&&p===void 0&&g==="pending"){let P;if(n?.isPlaceholderData&&t.placeholderData===s?.placeholderData)P=n.data;else if(P=typeof t.placeholderData=="function"?t.placeholderData(this.#p?.state.data,this.#p):t.placeholderData,t.select&&P!==void 0)try{P=t.select(P),this.#a=null}catch(M){this.#a=M}P!==void 0&&(g="success",p=Lc(n?.data,P,t),f=!0)}this.#a&&(m=this.#a,p=this.#f,y=Date.now(),g="error");let v=d.fetchStatus==="fetching",x=g==="pending",w=g==="error",C=x&&v,S=p!==void 0,R={status:g,fetchStatus:d.fetchStatus,isPending:x,isSuccess:g==="success",isError:w,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&S,isStale:qv(e,t),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){let P=_=>{R.status==="error"?_.reject(R.error):R.data!==void 0&&_.resolve(R.data)},M=()=>{let _=this.#i=R.promise=Mc();P(_)},T=this.#i;switch(T.status){case"pending":e.queryHash===o.queryHash&&P(T);break;case"fulfilled":(R.status==="error"||R.data!==T.value)&&M();break;case"rejected":(R.status!=="error"||R.error!==T.reason)&&M();break}}return R}updateResult(){let e=this.#r,t=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#s=this.options,this.#n.data!==void 0&&(this.#p=this.#e),Bl(t,e))return;this.#r=t;let o=()=>{if(!e)return!0;let{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#m.size)return!0;let a=new Set(n??this.#m);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(s=>{let i=s;return this.#r[i]!==e[i]&&a.has(i)})};this.#b({listeners:o()})}#S(){let e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;let t=this.#e;this.#e=e,this.#o=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#b(e){He.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function u$(e,t){return Sr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ZL(e,t){return u$(e,t)||e.state.data!==void 0&&Uv(e,t,t.refetchOnMount)}function Uv(e,t,o){if(Sr(t.enabled,e)!==!1){let r=typeof o=="function"?o(e):o;return r==="always"||r!==!1&&qv(e,t)}return!1}function JL(e,t,o,r){return(e!==t||Sr(r.enabled,e)===!1)&&(!o.suspense||e.state.status!=="error")&&qv(e,o)}function qv(e,t){return Sr(t.enabled,e)!==!1&&e.isStaleByTime($a(t.staleTime,e))}function c$(e,t){return!Bl(e.getCurrentResult(),t)}l();var Wv=class extends Br{#t;#e=void 0;#o;#r;constructor(e,t){super(),this.#t=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#t.defaultMutationOptions(e),Bl(this.options,t)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#o,observer:this}),t?.mutationKey&&this.options.mutationKey&&Mn(t.mutationKey)!==Mn(this.options.mutationKey)?this.reset():this.#o?.state.status==="pending"&&this.#o.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#o?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#s(e)}getCurrentResult(){return this.#e}reset(){this.#o?.removeObserver(this),this.#o=void 0,this.#n(),this.#s()}mutate(e,t){return this.#r=t,this.#o?.removeObserver(this),this.#o=this.#t.getMutationCache().build(this.#t,this.options),this.#o.addObserver(this),this.#o.execute(e)}#n(){let e=this.#o?.state??Bv();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){He.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#e.variables,o=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,o),this.#r.onSettled?.(e.data,null,t,o)):e?.type==="error"&&(this.#r.onError?.(e.error,t,o),this.#r.onSettled?.(void 0,e.error,t,o))}this.listeners.forEach(t=>{t(this.#e)})})}};l();import*as Ul from"react";import{jsx as d$}from"react/jsx-runtime";var $v=Ul.createContext(void 0),rr=e=>{let t=Ul.useContext($v);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Gv=({client:e,children:t})=>(Ul.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d$($v.Provider,{value:e,children:t}));l();import*as Bm from"react";var eM=Bm.createContext(!1),tM=()=>Bm.useContext(eM),iMe=eM.Provider;l();import*as Ec from"react";import{jsx as dMe}from"react/jsx-runtime";function f$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var p$=Ec.createContext(f$()),oM=()=>Ec.useContext(p$);l();import*as rM from"react";l();function Vm(e,t){return typeof e=="function"?e(...t):!!e}function Tc(){}var nM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},aM=e=>{rM.useEffect(()=>{e.clearReset()},[e])},sM=({result:e,errorResetBoundary:t,throwOnError:o,query:r,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(n&&e.data===void 0||Vm(o,[e.error,r]));l();var iM=e=>{let t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...o)=>Math.max(t(...o),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},lM=(e,t)=>e.isLoading&&e.isFetching&&!t,uM=(e,t)=>e?.suspense&&t.isPending,jv=(e,t,o)=>t.fetchOptimistic(e).catch(()=>{o.clearReset()});l();l();import*as Ga from"react";function cM(e,t,o){if(typeof e!="object"||Array.isArray(e))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let r=rr(o),n=tM(),a=oM(),s=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s.queryFn||console.error(`[${s.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`),s._optimisticResults=n?"isRestoring":"optimistic",iM(s),nM(s,a),aM(a);let i=!r.getQueryCache().get(s.queryHash),[u]=Ga.useState(()=>new t(r,s)),c=u.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(Ga.useSyncExternalStore(Ga.useCallback(f=>{let p=d?u.subscribe(He.batchCalls(f)):Tc;return u.updateResult(),p},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),Ga.useEffect(()=>{u.setOptions(s)},[s,u]),uM(s,c))throw jv(s,u,a);if(sM({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(s,c),s.experimental_prefetchInRender&&!or&&lM(c,n)&&(i?jv(s,u,a):r.getQueryCache().get(s.queryHash)?.promise)?.catch(Tc).finally(()=>{u.updateResult()}),s.notifyOnChangeProps?c:u.trackResult(c)}function Dc(e,t){return cM(e,zv,t)}l();import*as aa from"react";function Ac(e,t){let o=rr(t);return fM({filters:{...e,status:"pending"}},o).length}function dM(e,t){return e.findAll(t.filters).map(o=>t.select?t.select(o):o.state)}function fM(e={},t){let o=rr(t).getMutationCache(),r=aa.useRef(e),n=aa.useRef(null);return n.current||(n.current=dM(o,e)),aa.useEffect(()=>{r.current=e}),aa.useSyncExternalStore(aa.useCallback(a=>o.subscribe(()=>{let s=_l(n.current,dM(o,r.current));n.current!==s&&(n.current=s,He.schedule(a))}),[o]),()=>n.current,()=>n.current)}l();import*as sa from"react";function Ks(e,t){let o=rr(t),[r]=sa.useState(()=>new Wv(o,e));sa.useEffect(()=>{r.setOptions(e)},[r,e]);let n=sa.useSyncExternalStore(sa.useCallback(s=>r.subscribe(He.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=sa.useCallback((s,i)=>{r.mutate(s,i).catch(Tc)},[r]);if(n.error&&Vm(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}var fw=Cn(Fc(),1);import{createContext as E5,useContext as T5,useEffect as dw,useState as Uc}from"react";l();import Q from"react";import L3 from"react-dom";function P3(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}var M3=e=>{switch(e){case"success":return D3;case"info":return k3;case"warning":return A3;case"error":return O3;default:return null}},E3=Array(12).fill(0),T3=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},E3.map((o,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),D3=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),A3=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),k3=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O3=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),N3=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_3=()=>{let[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{let o=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),e},sw=1,iw=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let o=this.subscribers.indexOf(t);this.subscribers.splice(o,1)}),this.publish=t=>{this.subscribers.forEach(o=>o(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var o;let{message:r,...n}=t,a=typeof t?.id=="number"||((o=t.id)==null?void 0:o.length)>0?t.id:sw++,s=this.toasts.find(u=>u.id===a),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...t,id:a,title:r}),{...u,...t,id:a,dismissible:i,title:r}):u):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(o=>o({id:t,dismiss:!0})))):this.toasts.forEach(o=>{this.subscribers.forEach(r=>r({id:o.id,dismiss:!0}))}),t),this.message=(t,o)=>this.create({...o,message:t}),this.error=(t,o)=>this.create({...o,message:t,type:"error"}),this.success=(t,o)=>this.create({...o,type:"success",message:t}),this.info=(t,o)=>this.create({...o,type:"info",message:t}),this.warning=(t,o)=>this.create({...o,type:"warning",message:t}),this.loading=(t,o)=>this.create({...o,type:"loading",message:t}),this.promise=(t,o)=>{if(!o)return;let r;o.loading!==void 0&&(r=this.create({...o,promise:t,type:"loading",message:o.loading,description:typeof o.description!="function"?o.description:void 0}));let n=Promise.resolve(t instanceof Function?t():t),a=r!==void 0,s,i=n.then(async c=>{if(s=["resolve",c],Q.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(B3(c)&&!c.ok){a=!1;let f=typeof o.error=="function"?await o.error(`HTTP error! status: ${c.status}`):o.error,p=typeof o.description=="function"?await o.description(`HTTP error! status: ${c.status}`):o.description,y=typeof f=="object"&&!Q.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...y})}else if(c instanceof Error){a=!1;let f=typeof o.error=="function"?await o.error(c):o.error,p=typeof o.description=="function"?await o.description(c):o.description,y=typeof f=="object"&&!Q.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...y})}else if(o.success!==void 0){a=!1;let f=typeof o.success=="function"?await o.success(c):o.success,p=typeof o.description=="function"?await o.description(c):o.description,y=typeof f=="object"&&!Q.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...y})}}).catch(async c=>{if(s=["reject",c],o.error!==void 0){a=!1;let d=typeof o.error=="function"?await o.error(c):o.error,f=typeof o.description=="function"?await o.description(c):o.description,m=typeof d=="object"&&!Q.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...m})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),o.finally==null||o.finally.call(o)}),u=()=>new Promise((c,d)=>i.then(()=>s[0]==="reject"?d(s[1]):c(s[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,o)=>{let r=o?.id||sw++;return this.create({jsx:t(r),id:r,...o}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},nr=new iw,F3=(e,t)=>{let o=t?.id||sw++;return nr.addToast({title:e,...t,id:o}),o},B3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",V3=F3,H3=()=>nr.toasts,U3=()=>nr.getActiveToasts(),zl=Object.assign(V3,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:H3,getToasts:U3});P3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function th(e){return e.label!==void 0}var z3=3,q3="24px",W3="16px",HM=4e3,$3=356,G3=14,j3=45,K3=200;function En(...e){return e.filter(Boolean).join(" ")}function Y3(e){let[t,o]=e.split("-"),r=[];return t&&r.push(t),o&&r.push(o),r}var X3=e=>{var t,o,r,n,a,s,i,u,c;let{invert:d,toast:f,unstyled:p,interacting:m,setHeights:y,visibleToasts:g,heights:v,index:x,toasts:w,expanded:C,removeToast:S,defaultRichColors:b,closeButton:R,style:P,cancelButtonStyle:M,actionButtonStyle:T,className:_="",descriptionClassName:F="",duration:k,position:N,gap:I,expandByDefault:A,classNames:L,icons:D,closeButtonAriaLabel:O="Close toast"}=e,[E,V]=Q.useState(null),[B,U]=Q.useState(null),[$,G]=Q.useState(!1),[H,q]=Q.useState(!1),[z,j]=Q.useState(!1),[X,K]=Q.useState(!1),[re,ne]=Q.useState(!1),[me,Ce]=Q.useState(0),[Me,We]=Q.useState(0),ye=Q.useRef(f.duration||k||HM),oe=Q.useRef(null),Fe=Q.useRef(null),Ct=x===0,Jo=x+1<=g,Xe=f.type,eo=f.dismissible!==!1,bo=f.className||"",Nr=f.descriptionClassName||"",Io=Q.useMemo(()=>v.findIndex(ae=>ae.toastId===f.id)||0,[v,f.id]),to=Q.useMemo(()=>{var ae;return(ae=f.closeButton)!=null?ae:R},[f.closeButton,R]),oo=Q.useMemo(()=>f.duration||k||HM,[f.duration,k]),ro=Q.useRef(0),po=Q.useRef(0),Be=Q.useRef(0),St=Q.useRef(null),[de,Ae]=N.split("-"),Se=Q.useMemo(()=>v.reduce((ae,ke,Te)=>Te>=Io?ae:ae+ke.height,0),[v,Io]),ot=_3(),dt=f.invert||d,Bo=Xe==="loading";po.current=Q.useMemo(()=>Io*I+Se,[Io,Se]),Q.useEffect(()=>{ye.current=oo},[oo]),Q.useEffect(()=>{G(!0)},[]),Q.useEffect(()=>{let ae=Fe.current;if(ae){let ke=ae.getBoundingClientRect().height;return We(ke),y(Te=>[{toastId:f.id,height:ke,position:f.position},...Te]),()=>y(Te=>Te.filter($e=>$e.toastId!==f.id))}},[y,f.id]),Q.useLayoutEffect(()=>{if(!$)return;let ae=Fe.current,ke=ae.style.height;ae.style.height="auto";let Te=ae.getBoundingClientRect().height;ae.style.height=ke,We(Te),y($e=>$e.find(et=>et.toastId===f.id)?$e.map(et=>et.toastId===f.id?{...et,height:Te}:et):[{toastId:f.id,height:Te,position:f.position},...$e])},[$,f.title,f.description,y,f.id]);let Ve=Q.useCallback(()=>{q(!0),Ce(po.current),y(ae=>ae.filter(ke=>ke.toastId!==f.id)),setTimeout(()=>{S(f)},K3)},[f,S,y,po]);Q.useEffect(()=>{if(f.promise&&Xe==="loading"||f.duration===1/0||f.type==="loading")return;let ae;return C||m||ot?(()=>{if(Be.current<ro.current){let $e=new Date().getTime()-ro.current;ye.current=ye.current-$e}Be.current=new Date().getTime()})():(()=>{ye.current!==1/0&&(ro.current=new Date().getTime(),ae=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Ve()},ye.current))})(),()=>clearTimeout(ae)},[C,m,f,Xe,ot,Ve]),Q.useEffect(()=>{f.delete&&Ve()},[Ve,f.delete]);function kt(){var ae;if(D?.loading){var ke;return Q.createElement("div",{className:En(L?.loader,f==null||(ke=f.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":Xe==="loading"},D.loading)}return Q.createElement(T3,{className:En(L?.loader,f==null||(ae=f.classNames)==null?void 0:ae.loader),visible:Xe==="loading"})}let Re=f.icon||D?.[Xe]||M3(Xe);var it,Je;return Q.createElement("li",{tabIndex:0,ref:Fe,className:En(_,bo,L?.toast,f==null||(t=f.classNames)==null?void 0:t.toast,L?.default,L?.[Xe],f==null||(o=f.classNames)==null?void 0:o[Xe]),"data-sonner-toast":"","data-rich-colors":(it=f.richColors)!=null?it:b,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":$,"data-promise":!!f.promise,"data-swiped":re,"data-removed":H,"data-visible":Jo,"data-y-position":de,"data-x-position":Ae,"data-index":x,"data-front":Ct,"data-swiping":z,"data-dismissible":eo,"data-type":Xe,"data-invert":dt,"data-swipe-out":X,"data-swipe-direction":B,"data-expanded":!!(C||A&&$),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${H?me:po.current}px`,"--initial-height":A?"auto":`${Me}px`,...P,...f.style},onDragEnd:()=>{j(!1),V(null),St.current=null},onPointerDown:ae=>{Bo||!eo||(oe.current=new Date,Ce(po.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(j(!0),St.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,ke,Te;if(X||!eo)return;St.current=null;let $e=Number(((ae=Fe.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mo=Number(((ke=Fe.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),et=new Date().getTime()-((Te=oe.current)==null?void 0:Te.getTime()),Ne=E==="x"?$e:mo,Vo=Math.abs(Ne)/et;if(Math.abs(Ne)>=j3||Vo>.11){Ce(po.current),f.onDismiss==null||f.onDismiss.call(f,f),U(E==="x"?$e>0?"right":"left":mo>0?"down":"up"),Ve(),K(!0);return}else{var lt,ft;(lt=Fe.current)==null||lt.style.setProperty("--swipe-amount-x","0px"),(ft=Fe.current)==null||ft.style.setProperty("--swipe-amount-y","0px")}ne(!1),j(!1),V(null)},onPointerMove:ae=>{var ke,Te,$e;if(!St.current||!eo||((ke=window.getSelection())==null?void 0:ke.toString().length)>0)return;let et=ae.clientY-St.current.y,Ne=ae.clientX-St.current.x;var Vo;let lt=(Vo=e.swipeDirections)!=null?Vo:Y3(N);!E&&(Math.abs(Ne)>1||Math.abs(et)>1)&&V(Math.abs(Ne)>Math.abs(et)?"x":"y");let ft={x:0,y:0},wn=Ho=>1/(1.5+Math.abs(Ho)/20);if(E==="y"){if(lt.includes("top")||lt.includes("bottom"))if(lt.includes("top")&&et<0||lt.includes("bottom")&&et>0)ft.y=et;else{let Ho=et*wn(et);ft.y=Math.abs(Ho)<Math.abs(et)?Ho:et}}else if(E==="x"&&(lt.includes("left")||lt.includes("right")))if(lt.includes("left")&&Ne<0||lt.includes("right")&&Ne>0)ft.x=Ne;else{let Ho=Ne*wn(Ne);ft.x=Math.abs(Ho)<Math.abs(Ne)?Ho:Ne}(Math.abs(ft.x)>0||Math.abs(ft.y)>0)&&ne(!0),(Te=Fe.current)==null||Te.style.setProperty("--swipe-amount-x",`${ft.x}px`),($e=Fe.current)==null||$e.style.setProperty("--swipe-amount-y",`${ft.y}px`)}},to&&!f.jsx&&Xe!=="loading"?Q.createElement("button",{"aria-label":O,"data-disabled":Bo,"data-close-button":!0,onClick:Bo||!eo?()=>{}:()=>{Ve(),f.onDismiss==null||f.onDismiss.call(f,f)},className:En(L?.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(Je=D?.close)!=null?Je:N3):null,(Xe||f.icon||f.promise)&&f.icon!==null&&(D?.[Xe]!==null||f.icon)?Q.createElement("div",{"data-icon":"",className:En(L?.icon,f==null||(n=f.classNames)==null?void 0:n.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||kt():null,f.type!=="loading"?Re:null):null,Q.createElement("div",{"data-content":"",className:En(L?.content,f==null||(a=f.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:En(L?.title,f==null||(s=f.classNames)==null?void 0:s.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?Q.createElement("div",{"data-description":"",className:En(F,Nr,L?.description,f==null||(i=f.classNames)==null?void 0:i.description)},typeof f.description=="function"?f.description():f.description):null),Q.isValidElement(f.cancel)?f.cancel:f.cancel&&th(f.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||M,onClick:ae=>{th(f.cancel)&&eo&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,ae),Ve())},className:En(L?.cancelButton,f==null||(u=f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Q.isValidElement(f.action)?f.action:f.action&&th(f.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:ae=>{th(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,ae),!ae.defaultPrevented&&Ve())},className:En(L?.actionButton,f==null||(c=f.classNames)==null?void 0:c.actionButton)},f.action.label):null)};function UM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Q3(e,t){let o={};return[e,t].forEach((r,n)=>{let a=n===1,s=a?"--mobile-offset":"--offset",i=a?W3:q3;function u(c){["top","right","bottom","left"].forEach(d=>{o[`${s}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?o[`${s}-${c}`]=i:o[`${s}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(i)}),o}var zM=Q.forwardRef(function(t,o){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:i,className:u,offset:c,mobileOffset:d,theme:f="light",richColors:p,duration:m,style:y,visibleToasts:g=z3,toastOptions:v,dir:x=UM(),gap:w=G3,icons:C,containerAriaLabel:S="Notifications"}=t,[b,R]=Q.useState([]),P=Q.useMemo(()=>Array.from(new Set([n].concat(b.filter(B=>B.position).map(B=>B.position)))),[b,n]),[M,T]=Q.useState([]),[_,F]=Q.useState(!1),[k,N]=Q.useState(!1),[I,A]=Q.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=Q.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=Q.useRef(null),E=Q.useRef(!1),V=Q.useCallback(B=>{R(U=>{var $;return($=U.find(G=>G.id===B.id))!=null&&$.delete||nr.dismiss(B.id),U.filter(({id:G})=>G!==B.id)})},[]);return Q.useEffect(()=>nr.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{R(U=>U.map($=>$.id===B.id?{...$,delete:!0}:$))});return}setTimeout(()=>{L3.flushSync(()=>{R(U=>{let $=U.findIndex(G=>G.id===B.id);return $!==-1?[...U.slice(0,$),{...U[$],...B},...U.slice($+1)]:[B,...U]})})})}),[b]),Q.useEffect(()=>{if(f!=="system"){A(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:U})=>{A(U?"dark":"light")})}catch{B.addListener(({matches:$})=>{try{A($?"dark":"light")}catch(G){console.error(G)}})}},[f]),Q.useEffect(()=>{b.length<=1&&F(!1)},[b]),Q.useEffect(()=>{let B=U=>{var $;if(a.every(q=>U[q]||U.code===q)){var H;F(!0),(H=L.current)==null||H.focus()}U.code==="Escape"&&(document.activeElement===L.current||($=L.current)!=null&&$.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[a]),Q.useEffect(()=>{if(L.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,E.current=!1)}},[L.current]),Q.createElement("section",{ref:o,"aria-label":`${S} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((B,U)=>{var $;let[G,H]=B.split("-");return b.length?Q.createElement("ol",{key:B,dir:x==="auto"?UM():x,tabIndex:-1,ref:L,className:u,"data-sonner-toaster":!0,"data-sonner-theme":I,"data-y-position":G,"data-lifted":_&&b.length>1&&!s,"data-x-position":H,style:{"--front-toast-height":`${(($=M[0])==null?void 0:$.height)||0}px`,"--width":`${$3}px`,"--gap":`${w}px`,...y,...Q3(c,d)},onBlur:q=>{E.current&&!q.currentTarget.contains(q.relatedTarget)&&(E.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||E.current||(E.current=!0,O.current=q.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{k||F(!1)},onDragEnd:()=>F(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},b.filter(q=>!q.position&&U===0||q.position===B).map((q,z)=>{var j,X;return Q.createElement(X3,{key:q.id,icons:C,index:z,toast:q,defaultRichColors:p,duration:(j=v?.duration)!=null?j:m,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:r,visibleToasts:g,closeButton:(X=v?.closeButton)!=null?X:i,interacting:k,position:B,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,closeButtonAriaLabel:v?.closeButtonAriaLabel,removeToast:V,toasts:b.filter(K=>K.position==q.position),heights:M.filter(K=>K.position==q.position),setHeights:T,expandByDefault:s,gap:w,expanded:_,swipeDirections:t.swipeDirections})})):null}))});l();var oh=Object.create(null),Bc=e=>globalThis.process?.env||import.meta.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?oh:globalThis),Ka=new Proxy(oh,{get(e,t){return Bc()[t]??oh[t]},has(e,t){let o=Bc();return t in o||t in oh},set(e,t,o){let r=Bc(!0);return r[t]=o,!0},deleteProperty(e,t){if(!t)return!1;let o=Bc(!0);return delete o[t],!0},ownKeys(){let e=Bc(!0);return Object.keys(e)}}),Z3=typeof process<"u"&&process.env&&"true"||"",J3=[["APPVEYOR"],["AWS_AMPLIFY","AWS_APP_ID",{ci:!0}],["AZURE_PIPELINES","SYSTEM_TEAMFOUNDATIONCOLLECTIONURI"],["AZURE_STATIC","INPUT_AZURE_STATIC_WEB_APPS_API_TOKEN"],["APPCIRCLE","AC_APPCIRCLE"],["BAMBOO","bamboo_planKey"],["BITBUCKET","BITBUCKET_COMMIT"],["BITRISE","BITRISE_IO"],["BUDDY","BUDDY_WORKSPACE_ID"],["BUILDKITE"],["CIRCLE","CIRCLECI"],["CIRRUS","CIRRUS_CI"],["CLOUDFLARE_PAGES","CF_PAGES",{ci:!0}],["CODEBUILD","CODEBUILD_BUILD_ARN"],["CODEFRESH","CF_BUILD_ID"],["DRONE"],["DRONE","DRONE_BUILD_EVENT"],["DSARI"],["GITHUB_ACTIONS"],["GITLAB","GITLAB_CI"],["GITLAB","CI_MERGE_REQUEST_ID"],["GOCD","GO_PIPELINE_LABEL"],["LAYERCI"],["HUDSON","HUDSON_URL"],["JENKINS","JENKINS_URL"],["MAGNUM"],["NETLIFY"],["NETLIFY","NETLIFY_LOCAL",{ci:!1}],["NEVERCODE"],["RENDER"],["SAIL","SAILCI"],["SEMAPHORE"],["SCREWDRIVER"],["SHIPPABLE"],["SOLANO","TDDIUM"],["STRIDER"],["TEAMCITY","TEAMCITY_VERSION"],["TRAVIS"],["VERCEL","NOW_BUILDER"],["VERCEL","VERCEL",{ci:!1}],["VERCEL","VERCEL_ENV",{ci:!1}],["APPCENTER","APPCENTER_BUILD_ID"],["CODESANDBOX","CODESANDBOX_SSE",{ci:!1}],["CODESANDBOX","CODESANDBOX_HOST",{ci:!1}],["STACKBLITZ"],["STORMKIT"],["CLEAVR"],["ZEABUR"],["CODESPHERE","CODESPHERE_APP_ID",{ci:!0}],["RAILWAY","RAILWAY_PROJECT_ID"],["RAILWAY","RAILWAY_SERVICE_ID"],["DENO-DEPLOY","DENO_DEPLOYMENT_ID"],["FIREBASE_APP_HOSTING","FIREBASE_APP_HOSTING",{ci:!0}]];function e5(){if(globalThis.process?.env)for(let e of J3){let t=e[1]||e[0];if(globalThis.process?.env[t])return{name:e[0].toLowerCase(),...e[2]}}return globalThis.process?.env?.SHELL==="/bin/jsh"&&globalThis.process?.versions?.webcontainer?{name:"stackblitz",ci:!1}:{name:"",ci:!1}}var WM=e5(),VEe=WM.name;function Xs(e){return e?e!=="false":!1}var lw=globalThis.process?.platform||"",rh=Xs(Ka.CI)||WM.ci!==!1,$M=Xs(globalThis.process?.stdout&&globalThis.process?.stdout.isTTY),nh=typeof window<"u",HEe=Xs(Ka.DEBUG),t5=Z3==="test"||Xs(Ka.TEST);var UEe=Xs(Ka.MINIMAL)||rh||t5||!$M,o5=/^win/i.test(lw),zEe=/^linux/i.test(lw),qEe=/^darwin/i.test(lw),WEe=!Xs(Ka.NO_COLOR)&&(Xs(Ka.FORCE_COLOR)||($M||o5)&&Ka.TERM!=="dumb"||rh),r5=(globalThis.process?.versions?.node||"").replace(/^v/,"")||null,$Ee=Number(r5?.split(".")[0])||null,n5=globalThis.process||Object.create(null),qM={versions:{}},GEe=new Proxy(n5,{get(e,t){if(t==="env")return Ka;if(t in e)return e[t];if(t in qM)return qM[t]}}),a5=globalThis.process?.release?.name==="node",s5=!!globalThis.Bun||!!globalThis.process?.versions?.bun,i5=!!globalThis.Deno,l5=!!globalThis.fastly,u5=!!globalThis.Netlify,c5=!!globalThis.EdgeRuntime,d5=globalThis.navigator?.userAgent==="Cloudflare-Workers",f5=[[u5,"netlify"],[c5,"edge-light"],[d5,"workerd"],[l5,"fastly"],[i5,"deno"],[s5,"bun"],[a5,"node"]];function p5(){let e=f5.find(t=>t[0]);if(e)return{name:e[1]}}var m5=p5(),jEe=m5?.name||"";l();import{jsx as h5}from"react/jsx-runtime";var GM=({...e})=>h5(zM,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e});l();import{useEffect as jM,useMemo as KM}from"react";function XM(e){try{let t={light:{},dark:{}},o=e.replace(/@layer\s+base\s*\{|\}$/g,"").trim(),r=o.match(/:root\s*\{([^}]+)\}/),n=o.match(/\.dark\s*\{([^}]+)\}/);return r&&r[1]&&(t.light=YM(r[1])),n&&n[1]&&(t.dark=YM(n[1])),Object.keys(t.light).length===0&&Object.keys(t.dark).length===0?null:t}catch{return null}}function YM(e){let t={},o=/--([\w-]+):\s*([^;]+);?/g,r;for(;(r=o.exec(e))!==null;){let[,n,a]=r;n&&a&&(t[`--${n}`]=a.trim())}return t}function g5(e){let t=document.documentElement;Object.entries(e).forEach(([o,r])=>{t.style.setProperty(o,r)})}function y5(e){let t=document.querySelector(".ps");t&&(e?t.classList.add("dark"):t.classList.remove("dark"))}function QM(e,t){let o=KM(()=>e?typeof e=="string"?XM(e):e:null,[e]),r=KM(()=>o?o[t?"dark":"light"]||{}:null,[o,t]);return jM(()=>{r&&g5(r)},[r]),jM(()=>{y5(t??!1)},[t]),{parsedTheme:o,currentThemeVariables:r,hasCustomTheme:!!o}}l();l();l();import{createContext as x5,createElement as v5,useContext as w5}from"react";var C5={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function Hc(e){return`[nuqs] ${C5[e]}
  See https://err.47ng.com/NUQS-${e}`}var uw=b5();function on(e,...t){if(!uw)return;let o=S5(e,...t);performance.mark(o);try{console.log(e,...t)}catch{console.log(o)}}function ZM(e,...t){uw&&console.warn(e,...t)}function S5(e,...t){return e.replace(/%[sfdO]/g,o=>{let r=t.shift();return o==="%O"&&r?JSON.stringify(r).replace(/"([^"]+)":/g,"$1:"):String(r)})}function b5(){try{if(typeof localStorage>"u")return!1;let t="nuqs-localStorage-test";localStorage.setItem(t,t);let o=localStorage.getItem(t)===t;if(localStorage.removeItem(t),!o)return!1}catch(t){return console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",t),!1}return(localStorage.getItem("debug")??"").includes("nuqs")}var Vc=x5({useAdapter(){throw new Error(Hc(404))}});Vc.displayName="NuqsAdapterContext";uw&&typeof window<"u"&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==Vc&&console.error(Hc(303)),window.__NuqsAdapterContext=Vc);function cw(e){return({children:t,...o})=>v5(Vc.Provider,{...o,value:{useAdapter:e}},t)}function JM(){let e=w5(Vc);if(!("useAdapter"in e))throw new Error(Hc(404));return e.useAdapter()}import{useEffect as R5,useState as P5}from"react";function L5(e,t){let o;return(...r)=>{o&&clearTimeout(o),o=setTimeout(()=>e(...r),t)}}function M5(){let e=typeof window<"u"?window.location.hash.slice(1):"",[t,o]=P5(new URLSearchParams(e));function r(a,{history:s}){let{pathname:i,search:u}=window.location,c=a.toString(),d=`${i}${u}#${c}`;s==="push"?window.history.pushState(null,"",d):window.history.replaceState(null,"",d),o(a)}function n(){if(typeof window>"u")return new URLSearchParams;let a=window.location.hash.slice(1);return new URLSearchParams(a)}return R5(()=>{let a=L5(()=>{let s=window.location.hash.slice(1);o(new URLSearchParams(s))},50);return window.addEventListener("hashchange",a),()=>window.removeEventListener("hashchange",a)},[]),{searchParams:t,updateUrl:r,getSearchParamsSnapshot:n}}var eE=cw(M5);import{jsx as ah,jsxs as O5}from"react/jsx-runtime";var tE=new Hv,oE=E5(void 0);function rE(e){let{children:t,onEvent:o,adapter:r,theme:n}=e,[a,s]=Uc(!1),[i,u]=Uc(!0),[c,d]=Uc([]),[f,p]=Uc(()=>typeof document<"u"?document.documentElement.classList.contains("dark"):!1);dw(()=>{p(document.documentElement.classList.contains("dark"))},[]);let[m]=Uc(fw.default.generate()),{hasCustomTheme:y}=QM(n,f);dw(()=>{tE.resetQueries({exact:!1,queryKey:[]})},[r]),dw(()=>{let w=new MutationObserver(C=>{C.forEach(S=>{if(S.type==="attributes"&&S.attributeName==="class"){let b=document.documentElement.classList.contains("dark");p(b)}})});return w.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>w.disconnect()},[]);let g=w=>{let{name:C,payload:S}=w;if(C==="studio_operation_error"){if(S.error.name==="AbortError")return;zl.error(`"${S.operation}" operation failed`,{action:{label:"Console",onClick:()=>{window.location.hash=pw({viewParam:"console"})}}})}let b=fw.default.generate(),R=new Date().toISOString(),P={...w,eventId:b,timestamp:R};(P.name==="studio_operation_success"||P.name==="studio_operation_error")&&d(M=>{let T=[...M,P];return T.length>100?T.slice(0,100):T}),o?.(P),C==="studio_launched"&&nh&&!rh&&!D5()&&!k5()&&BL({additionalData:{eventPayload:S,variant:"free"},command:C,eventId:b,product:"prisma-studio-embedded",signature:m,skipUpdateCheck:!0,timestamp:new Date(R),version:"0.8.2"}).catch(M=>{console.error(M)})},v=()=>s(w=>!w),x=()=>u(w=>!w);return O5(Gv,{client:tE,children:[ah(GM,{}),ah(eE,{children:ah(oE.Provider,{value:{adapter:r,isFullscreen:a,onEvent:g,operationEvents:c,toggleFullscreen:v,isNavigationOpen:i,toggleNavigation:x,isDarkMode:f,hasCustomTheme:y},children:ah(nE,{children:t})})})]})}function ao(){let e=T5(oE);if(!e)throw new Error("`useStudio` must be used within a `StudioContext.Provider`");return e}function D5(){return A5()&&"__PVCE__"in window&&window.__PVCE__===!0}function A5(){return nh&&"acquireVsCodeApi"in window&&typeof window.acquireVsCodeApi=="function"}function k5(){if(!nh)return!1;let{hostname:e}=window.location;return"__PDPCP__"in window&&window.__PDPCP__===!0||e.includes("console.prisma.io")||e.includes("datacdn.workers.dev")}l();l();l();function sh(e,t,o){try{return e(t)}catch(r){return ZM("[nuqs] Error while parsing value `%s`: %O"+(o?" (for key `%s`)":""),t,r,o),null}}function N5(){if(typeof window>"u"||!!!window.GestureEvent)return 50;try{let t=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(t[1])>=17?120:320}catch{return 320}}var ql=N5(),qc=new Map,br={history:"replace",scroll:!1,shallow:!0,throttleMs:ql},mw=new Set,aE=0,zc=null;function sE(e){return qc.get(e)}function _5(){qc.clear(),mw.clear(),br.history="replace",br.scroll=!1,br.shallow=!0,br.throttleMs=ql}function iE(e,t,o,r){let n=t===null?null:o(t);return on("[nuqs queue] Enqueueing %s=%s %O",e,n,r),qc.set(e,n),r.history==="push"&&(br.history="push"),r.scroll&&(br.scroll=!0),r.shallow===!1&&(br.shallow=!1),r.startTransition&&mw.add(r.startTransition),br.throttleMs=Math.max(r.throttleMs??ql,Number.isFinite(br.throttleMs)?br.throttleMs:0),n}function F5(){return new URLSearchParams(location.search)}function lE({getSearchParamsSnapshot:e=F5,updateUrl:t,rateLimitFactor:o=1}){return zc===null&&(zc=new Promise((r,n)=>{if(!Number.isFinite(br.throttleMs)){on("[nuqs queue] Skipping flush due to throttleMs=Infinity"),r(e()),setTimeout(()=>{zc=null},0);return}function a(){aE=performance.now();let[i,u]=B5({updateUrl:t,getSearchParamsSnapshot:e});u===null?r(i):n(i),zc=null}function s(){let u=performance.now()-aE,c=br.throttleMs,d=o*Math.max(0,Math.min(c,c-u));on("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",d,c),d===0?a():setTimeout(a,d)}setTimeout(s,0)})),zc}function B5({updateUrl:e,getSearchParamsSnapshot:t}){let o=t();if(qc.size===0)return[o,null];let r=Array.from(qc.entries()),n={...br},a=Array.from(mw);_5(),on("[nuqs queue] Flushing queue %O with options %O",r,n);for(let[s,i]of r)i===null?o.delete(s):o.set(s,i);try{return V5(a,()=>{e(o,{history:n.history,scroll:n.scroll,shallow:n.shallow})}),[o,null]}catch(s){return console.error(Hc(429),r.map(([i])=>i).join(),s),[o,s]}}function V5(e,t){let o=r=>{if(r===e.length)return t();let n=e[r];if(!n)throw new Error("Invalid transition function");n(()=>o(r+1))};o(0)}import{useRef as cE,useState as H5,useEffect as dE,useCallback as U5,useMemo as _Te}from"react";l();function uE(e){return{all:e=e||new Map,on:function(t,o){var r=e.get(t);r?r.push(o):e.set(t,[o])},off:function(t,o){var r=e.get(t);r&&(o?r.splice(r.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var r=e.get(t);r&&r.slice().map(function(n){n(o)}),(r=e.get("*"))&&r.slice().map(function(n){n(t,o)})}}}function la(e){function t(o){if(typeof o>"u")return null;let r="";if(Array.isArray(o)){if(o[0]===void 0)return null;r=o[0]}return typeof o=="string"&&(r=o),sh(e.parse,r)}return{eq:(o,r)=>o===r,...e,parseServerSide:t,withDefault(o){return{...this,defaultValue:o,parseServerSide(r){return t(r)??o}}},withOptions(o){return{...this,...o}}}}var BTe=la({parse:e=>e,serialize:e=>`${e}`}),fE=la({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()}),VTe=la({parse:e=>{let t=fE.parse(e);return t===null?null:t-1},serialize:e=>fE.serialize(e+1)}),HTe=la({parse:e=>{let t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{let t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}}),UTe=la({parse:e=>{let t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()}),zTe=la({parse:e=>e==="true",serialize:e=>e?"true":"false"});function gw(e,t){return e.valueOf()===t.valueOf()}var qTe=la({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString(),eq:gw}),WTe=la({parse:e=>{let t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString(),eq:gw}),$Te=la({parse:e=>{let t=new Date(e.slice(0,10));return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString().slice(0,10),eq:gw});var hw=uE();function pE(e,{history:t="replace",shallow:o=!0,scroll:r=!1,throttleMs:n=ql,parse:a=f=>f,serialize:s=String,eq:i=(f,p)=>f===p,defaultValue:u=void 0,clearOnDefault:c=!0,startTransition:d}={history:"replace",scroll:!1,shallow:!0,throttleMs:ql,parse:f=>f,serialize:String,eq:(f,p)=>f===p,clearOnDefault:!0,defaultValue:void 0}){let f=JM(),p=f.searchParams,m=cE(p?.get(e)??null),[y,g]=H5(()=>{let w=sE(e),C=w===void 0?p?.get(e)??null:w;return C===null?null:sh(a,C,e)}),v=cE(y);on("[nuqs `%s`] render - state: %O, iSP: %s",e,y,p?.get(e)??null),dE(()=>{let w=p?.get(e)??null;if(w===m.current)return;let C=w===null?null:sh(a,w,e);on("[nuqs `%s`] syncFromUseSearchParams %O",e,C),v.current=C,m.current=w,g(C)},[p?.get(e),e]),dE(()=>{function w({state:C,query:S}){on("[nuqs `%s`] updateInternalState %O",e,C),v.current=C,m.current=S,g(C)}return on("[nuqs `%s`] subscribing to sync",e),hw.on(e,w),()=>{on("[nuqs `%s`] unsubscribing from sync",e),hw.off(e,w)}},[e]);let x=U5((w,C={})=>{let S=z5(w)?w(v.current??u??null):w;(C.clearOnDefault??c)&&S!==null&&u!==void 0&&i(S,u)&&(S=null);let b=iE(e,S,s,{history:C.history??t,shallow:C.shallow??o,scroll:C.scroll??r,throttleMs:C.throttleMs??n,startTransition:C.startTransition??d});return hw.emit(e,{state:S,query:b}),lE(f)},[e,t,o,r,n,d,f.updateUrl,f.getSearchParamsSnapshot,f.rateLimitFactor]);return[y??u??null,x]}function z5(e){return typeof e=="function"}var XTe=Symbol("BRAND_SYMBOL");function Ya(e,t){return pE(e,t)}l();var hE=Cn(Fc(),1);import{useEffect as q5,useMemo as mE,useState as W5}from"react";var gE={kind:"FilterGroup",filters:[],after:"and",id:hE.default.generate()},yE=e=>{let t=0;for(let o of e.filters)o.kind==="ColumnFilter"?o.column.trim()&&t++:o.kind==="FilterGroup"&&(t+=yE(o));return t};function xE(){let{filterParam:e,setFilterParam:t}=Ge(),o=mE(()=>JSON.parse(e),[e]),r=i=>void t(JSON.stringify(i)),[n,a]=W5(o);q5(()=>{a(o)},[o]);let s=mE(()=>yE(n),[n]);return{appliedFilter:o,setAppliedFilter:r,editingFilter:n,setEditingFilter:a,totalEditingFilters:s}}l();var vE=-1;function Tn(){let{adapter:e,onEvent:t}=ao();return Dc({initialData:{schemas:{[e.defaultSchema||"db"]:{name:e.defaultSchema||"db",tables:{}}},timezone:"UTC",filterOperators:[],query:{parameters:[],sql:""}},initialDataUpdatedAt:vE,queryFn:async({signal:o})=>{let[r,n]=await e.introspect({abortSignal:o});if(r)throw t({name:"studio_operation_error",payload:{operation:"introspect",query:r.query,error:r}}),r;t({name:"studio_operation_success",payload:{operation:"introspect",query:n.query,error:void 0}});let a=Object.values(n.schemas).reduce((s,i)=>s+Object.keys(i.tables).length,0);return t({name:"studio_launched",payload:{tableCount:a}}),n},queryKey:["introspection"],staleTime:o=>o.state.dataUpdatedAt===vE?0:1/0})}import{jsx as Y5}from"react/jsx-runtime";function pw(e){return`#${Object.entries(e).map(([o,r])=>{let n=o.endsWith("Param")?o.slice(0,-5):o;return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`}).join("&")}`}function j5(e){let{adapter:t,introspection:o}=e,{schemas:r}=o,{defaultSchema:n}=t,a=n??Object.keys(r)[0]??"public",s=Object.keys(r[a]?.tables??{})[0]??"",i=JSON.stringify(gE);return{schema:a,table:s,filter:i,pageIndex:"0",pageSize:"25",view:"table"}}function K5(){let{adapter:e}=ao(),{data:t,isFetching:o}=Tn(),{schemas:r}=t,n=wE(()=>j5({adapter:e,introspection:t}),[e,t]),[a,s]=Ya("filter",{defaultValue:n.filter}),[i,u]=Ya("pageIndex",{defaultValue:n.pageIndex}),[c,d]=Ya("pageSize",{defaultValue:n.pageSize}),[f,p]=Ya("schema",{defaultValue:n.schema}),[m,y]=Ya("sort"),[g,v]=Ya("table",{defaultValue:n.table}),[x,w]=Ya("view",{defaultValue:n.view}),C=f?r[f]:void 0,S=C?C.tables:void 0,b=S&&g?S[g]:void 0;return{metadata:wE(()=>({activeSchema:C,activeTables:S,activeTable:b,isFetching:o}),[C,S,b,o]),createUrl:pw,filterParam:a,pageIndexParam:i,pageSizeParam:c,schemaParam:f,sortParam:m,tableParam:g,viewParam:x,setFilterParam:s,setPageIndexParam:u,setPageSizeParam:d,setSchemaParam:p,setSortParam:y,setTableParam:v,setViewParam:w}}var CE=$5(void 0);function nE({children:e}){let t=K5();return Y5(CE.Provider,{value:t,children:e})}function Ge(){let e=G5(CE);if(e===void 0)throw new Error("useNavigationContext must be used within a NavigationContextProvider");return e}l();l();function SE(e){var t,o,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(o=SE(e[t]))&&(r&&(r+=" "),r+=o)}else for(o in e)e[o]&&(r&&(r+=" "),r+=o);return r}function bE(){for(var e,t,o=0,r="",n=arguments.length;o<n;o++)(e=arguments[o])&&(t=SE(e))&&(r&&(r+=" "),r+=t);return r}l();var vw="-",X5=e=>{let t=Z5(e),{conflictingClassGroups:o,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{let i=s.split(vw);return i[0]===""&&i.length!==1&&i.shift(),ME(i,t)||Q5(s)},getConflictingClassGroupIds:(s,i)=>{let u=o[s]||[];return i&&r[s]?[...u,...r[s]]:u}}},ME=(e,t)=>{if(e.length===0)return t.classGroupId;let o=e[0],r=t.nextPart.get(o),n=r?ME(e.slice(1),r):void 0;if(n)return n;if(t.validators.length===0)return;let a=e.join(vw);return t.validators.find(({validator:s})=>s(a))?.classGroupId},IE=/^\[(.+)\]$/,Q5=e=>{if(IE.test(e)){let t=IE.exec(e)[1],o=t?.substring(0,t.indexOf(":"));if(o)return"arbitrary.."+o}},Z5=e=>{let{theme:t,prefix:o}=e,r={nextPart:new Map,validators:[]};return eG(Object.entries(e.classGroups),o).forEach(([a,s])=>{xw(s,r,a,t)}),r},xw=(e,t,o,r)=>{e.forEach(n=>{if(typeof n=="string"){let a=n===""?t:RE(t,n);a.classGroupId=o;return}if(typeof n=="function"){if(J5(n)){xw(n(r),t,o,r);return}t.validators.push({validator:n,classGroupId:o});return}Object.entries(n).forEach(([a,s])=>{xw(s,RE(t,a),o,r)})})},RE=(e,t)=>{let o=e;return t.split(vw).forEach(r=>{o.nextPart.has(r)||o.nextPart.set(r,{nextPart:new Map,validators:[]}),o=o.nextPart.get(r)}),o},J5=e=>e.isThemeGetter,eG=(e,t)=>t?e.map(([o,r])=>{let n=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,i])=>[t+s,i])):a);return[o,n]}):e,tG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,o=new Map,r=new Map,n=(a,s)=>{o.set(a,s),t++,t>e&&(t=0,r=o,o=new Map)};return{get(a){let s=o.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return n(a,s),s},set(a,s){o.has(a)?o.set(a,s):n(a,s)}}},EE="!",oG=e=>{let{separator:t,experimentalParseClassName:o}=e,r=t.length===1,n=t[0],a=t.length,s=i=>{let u=[],c=0,d=0,f;for(let v=0;v<i.length;v++){let x=i[v];if(c===0){if(x===n&&(r||i.slice(v,v+a)===t)){u.push(i.slice(d,v)),d=v+a;continue}if(x==="/"){f=v;continue}}x==="["?c++:x==="]"&&c--}let p=u.length===0?i:i.substring(d),m=p.startsWith(EE),y=m?p.substring(1):p,g=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return o?i=>o({className:i,parseClassName:s}):s},rG=e=>{if(e.length<=1)return e;let t=[],o=[];return e.forEach(r=>{r[0]==="["?(t.push(...o.sort(),r),o=[]):o.push(r)}),t.push(...o.sort()),t},nG=e=>({cache:tG(e.cacheSize),parseClassName:oG(e),...X5(e)}),aG=/\s+/,sG=(e,t)=>{let{parseClassName:o,getClassGroupId:r,getConflictingClassGroupIds:n}=t,a=[],s=e.trim().split(aG),i="";for(let u=s.length-1;u>=0;u-=1){let c=s[u],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=o(c),y=!!m,g=r(y?p.substring(0,m):p);if(!g){if(!y){i=c+(i.length>0?" "+i:i);continue}if(g=r(p),!g){i=c+(i.length>0?" "+i:i);continue}y=!1}let v=rG(d).join(":"),x=f?v+EE:v,w=x+g;if(a.includes(w))continue;a.push(w);let C=n(g,y);for(let S=0;S<C.length;++S){let b=C[S];a.push(x+b)}i=c+(i.length>0?" "+i:i)}return i};function iG(){let e=0,t,o,r="";for(;e<arguments.length;)(t=arguments[e++])&&(o=TE(t))&&(r&&(r+=" "),r+=o);return r}var TE=e=>{if(typeof e=="string")return e;let t,o="";for(let r=0;r<e.length;r++)e[r]&&(t=TE(e[r]))&&(o&&(o+=" "),o+=t);return o};function PE(e,...t){let o,r,n,a=s;function s(u){let c=t.reduce((d,f)=>f(d),e());return o=nG(c),r=o.cache.get,n=o.cache.set,a=i,i(u)}function i(u){let c=r(u);if(c)return c;let d=sG(u,o);return n(u,d),d}return function(){return a(iG.apply(null,arguments))}}var at=e=>{let t=o=>o[e]||[];return t.isThemeGetter=!0,t},DE=/^\[(?:([a-z-]+):)?(.+)\]$/i,lG=/^\d+\/\d+$/,uG=new Set(["px","full","screen"]),cG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ua=e=>Wl(e)||uG.has(e)||lG.test(e),Xa=e=>$l(e,"length",SG),Wl=e=>!!e&&!Number.isNaN(Number(e)),yw=e=>$l(e,"number",Wl),Wc=e=>!!e&&Number.isInteger(Number(e)),hG=e=>e.endsWith("%")&&Wl(e.slice(0,-1)),we=e=>DE.test(e),Qa=e=>cG.test(e),gG=new Set(["length","size","percentage"]),yG=e=>$l(e,gG,AE),xG=e=>$l(e,"position",AE),vG=new Set(["image","url"]),wG=e=>$l(e,vG,IG),CG=e=>$l(e,"",bG),$c=()=>!0,$l=(e,t,o)=>{let r=DE.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):o(r[2]):!1},SG=e=>dG.test(e)&&!fG.test(e),AE=()=>!1,bG=e=>pG.test(e),IG=e=>mG.test(e);var LE=()=>{let e=at("colors"),t=at("spacing"),o=at("blur"),r=at("brightness"),n=at("borderColor"),a=at("borderRadius"),s=at("borderSpacing"),i=at("borderWidth"),u=at("contrast"),c=at("grayscale"),d=at("hueRotate"),f=at("invert"),p=at("gap"),m=at("gradientColorStops"),y=at("gradientColorStopPositions"),g=at("inset"),v=at("margin"),x=at("opacity"),w=at("padding"),C=at("saturate"),S=at("scale"),b=at("sepia"),R=at("skew"),P=at("space"),M=at("translate"),T=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",we,t],k=()=>[we,t],N=()=>["",ua,Xa],I=()=>["auto",Wl,we],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",we],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Wl,we];return{cacheSize:500,separator:":",theme:{colors:[$c],spacing:[ua,Xa],blur:["none","",Qa,we],brightness:B(),borderColor:[e],borderRadius:["none","","full",Qa,we],borderSpacing:k(),borderWidth:N(),contrast:B(),grayscale:E(),hueRotate:B(),invert:E(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[hG,Xa],inset:F(),margin:F(),opacity:B(),padding:k(),saturate:B(),scale:B(),sepia:E(),skew:B(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[Qa]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),we]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wc,we]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Wc,we]}],"grid-cols":[{"grid-cols":[$c]}],"col-start-end":[{col:["auto",{span:["full",Wc,we]},we]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[$c]}],"row-start-end":[{row:["auto",{span:[Wc,we]},we]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[Qa]},Qa]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qa,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yw]}],"font-family":[{font:[$c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",Wl,yw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ua,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ua,Xa]}],"underline-offset":[{"underline-offset":["auto",ua,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),xG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wG]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:L()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[ua,we]}],"outline-w":[{outline:[ua,Xa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ua,Xa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qa,CG]}],"shadow-color":[{shadow:[$c]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Qa,we]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Wc,we]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ua,Xa,yw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RG=(e,{cacheSize:t,prefix:o,separator:r,experimentalParseClassName:n,extend:a={},override:s={}})=>{Gc(e,"cacheSize",t),Gc(e,"prefix",o),Gc(e,"separator",r),Gc(e,"experimentalParseClassName",n);for(let i in s)PG(e[i],s[i]);for(let i in a)LG(e[i],a[i]);return e},Gc=(e,t,o)=>{o!==void 0&&(e[t]=o)},PG=(e,t)=>{if(t)for(let o in t)Gc(e,o,t[o])},LG=(e,t)=>{if(t)for(let o in t){let r=t[o];r!==void 0&&(e[o]=(e[o]||[]).concat(r))}},kE=(e,...t)=>typeof e=="function"?PE(LE,e,...t):PE(()=>RG(LE(),e),...t);var MG=kE({});function W(...e){return MG(bE(e))}l();l();import*as Wt from"react";l();import*as NE from"react";function OE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qs(...e){return t=>{let o=!1,r=e.map(n=>{let a=OE(n,t);return!o&&typeof a=="function"&&(o=!0),a});if(o)return()=>{for(let n=0;n<r.length;n++){let a=r[n];typeof a=="function"?a():OE(e[n],null)}}}}function Le(...e){return NE.useCallback(Qs(...e),e)}import{Fragment as EG,jsx as ww}from"react/jsx-runtime";var Do=Wt.forwardRef((e,t)=>{let{children:o,...r}=e,n=Wt.Children.toArray(o),a=n.find(DG);if(a){let s=a.props.children,i=n.map(u=>u===a?Wt.Children.count(s)>1?Wt.Children.only(null):Wt.isValidElement(s)?s.props.children:null:u);return ww(Cw,{...r,ref:t,children:Wt.isValidElement(s)?Wt.cloneElement(s,void 0,i):null})}return ww(Cw,{...r,ref:t,children:o})});Do.displayName="Slot";var Cw=Wt.forwardRef((e,t)=>{let{children:o,...r}=e;if(Wt.isValidElement(o)){let n=kG(o),a=AG(r,o.props);return o.type!==Wt.Fragment&&(a.ref=t?Qs(t,n):n),Wt.cloneElement(o,a)}return Wt.Children.count(o)>1?Wt.Children.only(null):null});Cw.displayName="SlotClone";var TG=({children:e})=>ww(EG,{children:e});function DG(e){return Wt.isValidElement(e)&&e.type===TG}function AG(e,t){let o={...t};for(let r in t){let n=e[r],a=t[r];/^on[A-Z]/.test(r)?n&&a?o[r]=(...i)=>{a(...i),n(...i)}:n&&(o[r]=n):r==="style"?o[r]={...n,...a}:r==="className"&&(o[r]=[n,a].filter(Boolean).join(" "))}return{...e,...o}}function kG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}l();l();import{forwardRef as NG,createElement as _G}from"react";l();var _E=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ih=(...e)=>e.filter((t,o,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===o).join(" ").trim();l();import{forwardRef as OG,createElement as BE}from"react";l();var FE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var VE=OG(({color:e="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:s,...i},u)=>BE("svg",{ref:u,...FE,width:t,height:t,stroke:e,strokeWidth:r?Number(o)*24/Number(t):o,className:ih("lucide",n),...i},[...s.map(([c,d])=>BE(c,d)),...Array.isArray(a)?a:[a]]));var te=(e,t)=>{let o=NG(({className:r,...n},a)=>_G(VE,{ref:a,iconNode:t,className:ih(`lucide-${_E(e)}`,r),...n}));return o.displayName=`${e}`,o};l();var Za=te("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);l();var jc=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);l();var Kc=te("ArrowUpWideNarrow",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h4",key:"1krc32"}]]);l();var rn=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);l();var Vr=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);l();var Yc=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);l();var Ir=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);l();var Xc=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);l();var Qc=te("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);l();var Zc=te("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);l();var Dn=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);l();var Ja=te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);l();var es=te("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);l();var Zs=te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);l();var Js=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);l();var Jc=te("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);l();var ed=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);l();var td=te("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);l();var od=te("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);l();var ca=te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);l();var rd=te("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);l();var nd=te("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);l();var ad=te("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);l();var sd=te("MoveUp",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);l();var ts=te("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);l();var os=te("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);l();var id=te("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);l();var ld=te("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);l();var ud=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);l();var rs=te("SquareArrowRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);l();var cd=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);l();var dd=te("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);l();var ns=te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);l();var as=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var HE='data:image/svg+xml,  <svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">%0A    <path%0A      fill-rule="evenodd"%0A      clip-rule="evenodd"%0A      d="M0.396923 8.8719C0.25789 9.09869 0.260041 9.38484 0.402469 9.60951L2.98037 13.6761C3.14768 13.94 3.47018 14.0603 3.76949 13.9705L11.2087 11.7388C11.6147 11.617 11.8189 11.1641 11.6415 10.7792L6.8592 0.405309C6.62598 -0.100601 5.92291 -0.142128 5.63176 0.332808L0.396923 8.8719ZM6.73214 2.77688C6.6305 2.54169 6.2863 2.57792 6.23585 2.82912L4.3947 11.9965C4.35588 12.1898 4.53686 12.3549 4.72578 12.2985L9.86568 10.7642C10.0157 10.7194 10.093 10.5537 10.0309 10.41L6.73214 2.77688Z"%0A      fill="currentColor"%0A    />%0A  </svg>';l();l();import*as J from"react";import*as nC from"react-dom";l();function Sw(e,[t,o]){return Math.min(o,Math.max(t,e))}l();function ee(e,t,{checkForDefaultPrevented:o=!0}={}){return function(n){if(e?.(n),o===!1||!n.defaultPrevented)return t?.(n)}}l();import ei from"react";l();import*as da from"react";import{jsx as BG}from"react/jsx-runtime";function so(e,t=[]){let o=[];function r(a,s){let i=da.createContext(s),u=o.length;o=[...o,s];let c=f=>{let{scope:p,children:m,...y}=f,g=p?.[e]?.[u]||i,v=da.useMemo(()=>y,Object.values(y));return BG(g.Provider,{value:v,children:m})};c.displayName=a+"Provider";function d(f,p){let m=p?.[e]?.[u]||i,y=da.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}let n=()=>{let a=o.map(s=>da.createContext(s));return function(i){let u=i?.[e]||a;return da.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return n.scopeName=e,[r,VG(n,...t)]}function VG(...e){let t=e[0];if(e.length===1)return t;let o=()=>{let r=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(a){let s=r.reduce((i,{useScope:u,scopeName:c})=>{let f=u(a)[`__scope${c}`];return{...i,...f}},{});return da.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return o.scopeName=t.scopeName,o}import{jsx as bw}from"react/jsx-runtime";function Gl(e){let t=e+"CollectionProvider",[o,r]=so(t),[n,a]=o(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{let{scope:y,children:g}=m,v=ei.useRef(null),x=ei.useRef(new Map).current;return bw(n,{scope:y,itemMap:x,collectionRef:v,children:g})};s.displayName=t;let i=e+"CollectionSlot",u=ei.forwardRef((m,y)=>{let{scope:g,children:v}=m,x=a(i,g),w=Le(y,x.collectionRef);return bw(Do,{ref:w,children:v})});u.displayName=i;let c=e+"CollectionItemSlot",d="data-radix-collection-item",f=ei.forwardRef((m,y)=>{let{scope:g,children:v,...x}=m,w=ei.useRef(null),C=Le(y,w),S=a(c,g);return ei.useEffect(()=>(S.itemMap.set(w,{ref:w,...x}),()=>void S.itemMap.delete(w))),bw(Do,{[d]:"",ref:C,children:v})});f.displayName=c;function p(m){let y=a(e+"CollectionConsumer",m);return ei.useCallback(()=>{let v=y.collectionRef.current;if(!v)return[];let x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((S,b)=>x.indexOf(S.ref.current)-x.indexOf(b.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:u,ItemSlot:f},p,r]}l();import*as lh from"react";import{jsx as Fke}from"react/jsx-runtime";var HG=lh.createContext(void 0);function jl(e){let t=lh.useContext(HG);return e||t||"ltr"}l();import*as mt from"react";l();import*as UE from"react";import*as zE from"react-dom";import{jsx as UG}from"react/jsx-runtime";var zG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=zG.reduce((e,t)=>{let o=UE.forwardRef((r,n)=>{let{asChild:a,...s}=r,i=a?Do:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),UG(i,{...s,ref:n})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function uh(e,t){e&&zE.flushSync(()=>e.dispatchEvent(t))}l();import*as Kl from"react";function pt(e){let t=Kl.useRef(e);return Kl.useEffect(()=>{t.current=e}),Kl.useMemo(()=>(...o)=>t.current?.(...o),[])}l();import*as qE from"react";function WE(e,t=globalThis?.document){let o=pt(e);qE.useEffect(()=>{let r=n=>{n.key==="Escape"&&o(n)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[o,t])}import{jsx as jE}from"react/jsx-runtime";var qG="DismissableLayer",Iw="dismissableLayer.update",WG="dismissableLayer.pointerDownOutside",$G="dismissableLayer.focusOutside",$E,KE=mt.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ti=mt.forwardRef((e,t)=>{let{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:a,onInteractOutside:s,onDismiss:i,...u}=e,c=mt.useContext(KE),[d,f]=mt.useState(null),p=d?.ownerDocument??globalThis?.document,[,m]=mt.useState({}),y=Le(t,P=>f(P)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=x,b=KG(P=>{let M=P.target,T=[...c.branches].some(_=>_.contains(M));!S||T||(n?.(P),s?.(P),P.defaultPrevented||i?.())},p),R=YG(P=>{let M=P.target;[...c.branches].some(_=>_.contains(M))||(a?.(P),s?.(P),P.defaultPrevented||i?.())},p);return WE(P=>{w===c.layers.size-1&&(r?.(P),!P.defaultPrevented&&i&&(P.preventDefault(),i()))},p),mt.useEffect(()=>{if(d)return o&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($E=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),GE(),()=>{o&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=$E)}},[d,p,o,c]),mt.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),GE())},[d,c]),mt.useEffect(()=>{let P=()=>m({});return document.addEventListener(Iw,P),()=>document.removeEventListener(Iw,P)},[]),jE(he.div,{...u,ref:y,style:{pointerEvents:C?S?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,R.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,b.onPointerDownCapture)})});ti.displayName=qG;var GG="DismissableLayerBranch",jG=mt.forwardRef((e,t)=>{let o=mt.useContext(KE),r=mt.useRef(null),n=Le(t,r);return mt.useEffect(()=>{let a=r.current;if(a)return o.branches.add(a),()=>{o.branches.delete(a)}},[o.branches]),jE(he.div,{...e,ref:n})});jG.displayName=GG;function KG(e,t=globalThis?.document){let o=pt(e),r=mt.useRef(!1),n=mt.useRef(()=>{});return mt.useEffect(()=>{let a=i=>{if(i.target&&!r.current){let c=function(){YE(WG,o,d,{discrete:!0})};var u=c;let d={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=c,t.addEventListener("click",n.current,{once:!0})):c()}else t.removeEventListener("click",n.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",n.current)}},[t,o]),{onPointerDownCapture:()=>r.current=!0}}function YG(e,t=globalThis?.document){let o=pt(e),r=mt.useRef(!1);return mt.useEffect(()=>{let n=a=>{a.target&&!r.current&&YE($G,o,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,o]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function GE(){let e=new CustomEvent(Iw);document.dispatchEvent(e)}function YE(e,t,o,{discrete:r}){let n=o.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:o});t&&n.addEventListener(e,t,{once:!0}),r?uh(n,a):n.dispatchEvent(a)}l();import*as QE from"react";var Rw=0;function Yl(){QE.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XE()),document.body.insertAdjacentElement("beforeend",e[1]??XE()),Rw++,()=>{Rw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rw--}},[])}function XE(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}l();import*as Hr from"react";import{jsx as XG}from"react/jsx-runtime";var Pw="focusScope.autoFocusOnMount",Lw="focusScope.autoFocusOnUnmount",ZE={bubbles:!1,cancelable:!0},QG="FocusScope",oi=Hr.forwardRef((e,t)=>{let{loop:o=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:a,...s}=e,[i,u]=Hr.useState(null),c=pt(n),d=pt(a),f=Hr.useRef(null),p=Le(t,g=>u(g)),m=Hr.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Hr.useEffect(()=>{if(r){let w=function(R){if(m.paused||!i)return;let P=R.target;i.contains(P)?f.current=P:ss(f.current,{select:!0})},C=function(R){if(m.paused||!i)return;let P=R.relatedTarget;P!==null&&(i.contains(P)||ss(f.current,{select:!0}))},S=function(R){if(document.activeElement===document.body)for(let M of R)M.removedNodes.length>0&&ss(i)};var g=w,v=C,x=S;document.addEventListener("focusin",w),document.addEventListener("focusout",C);let b=new MutationObserver(S);return i&&b.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),b.disconnect()}}},[r,i,m.paused]),Hr.useEffect(()=>{if(i){eT.add(m);let g=document.activeElement;if(!i.contains(g)){let x=new CustomEvent(Pw,ZE);i.addEventListener(Pw,c),i.dispatchEvent(x),x.defaultPrevented||(ZG(r4(oT(i)),{select:!0}),document.activeElement===g&&ss(i))}return()=>{i.removeEventListener(Pw,c),setTimeout(()=>{let x=new CustomEvent(Lw,ZE);i.addEventListener(Lw,d),i.dispatchEvent(x),x.defaultPrevented||ss(g??document.body,{select:!0}),i.removeEventListener(Lw,d),eT.remove(m)},0)}}},[i,c,d,m]);let y=Hr.useCallback(g=>{if(!o&&!r||m.paused)return;let v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){let w=g.currentTarget,[C,S]=JG(w);C&&S?!g.shiftKey&&x===S?(g.preventDefault(),o&&ss(C,{select:!0})):g.shiftKey&&x===C&&(g.preventDefault(),o&&ss(S,{select:!0})):x===w&&g.preventDefault()}},[o,r,m.paused]);return XG(he.div,{tabIndex:-1,...s,ref:p,onKeyDown:y})});oi.displayName=QG;function ZG(e,{select:t=!1}={}){let o=document.activeElement;for(let r of e)if(ss(r,{select:t}),document.activeElement!==o)return}function JG(e){let t=oT(e),o=JE(t,e),r=JE(t.reverse(),e);return[o,r]}function oT(e){let t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{let n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function JE(e,t){for(let o of e)if(!e4(o,{upTo:t}))return o}function e4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function t4(e){return e instanceof HTMLInputElement&&"select"in e}function ss(e,{select:t=!1}={}){if(e&&e.focus){let o=document.activeElement;e.focus({preventScroll:!0}),e!==o&&t4(e)&&t&&e.select()}}var eT=o4();function o4(){let e=[];return{add(t){let o=e[0];t!==o&&o?.pause(),e=tT(e,t),e.unshift(t)},remove(t){e=tT(e,t),e[0]?.resume()}}}function tT(e,t){let o=[...e],r=o.indexOf(t);return r!==-1&&o.splice(r,1),o}function r4(e){return e.filter(t=>t.tagName!=="A")}l();import*as ch from"react";l();import*as rT from"react";var Dt=globalThis?.document?rT.useLayoutEffect:()=>{};var n4=ch.useId||(()=>{}),a4=0;function ar(e){let[t,o]=ch.useState(n4());return Dt(()=>{e||o(r=>r??String(a4++))},[e]),e||(t?`radix-${t}`:"")}l();import*as Rr from"react";l();l();l();l();var nT=["top","right","bottom","left"];var An=Math.min,Wo=Math.max,pd=Math.round,md=Math.floor,nn=e=>({x:e,y:e}),s4={left:"right",right:"left",bottom:"top",top:"bottom"},i4={start:"end",end:"start"};function fh(e,t,o){return Wo(e,An(t,o))}function kn(e,t){return typeof e=="function"?e(t):e}function On(e){return e.split("-")[0]}function ri(e){return e.split("-")[1]}function ph(e){return e==="x"?"y":"x"}function mh(e){return e==="y"?"height":"width"}function fa(e){return["top","bottom"].includes(On(e))?"y":"x"}function hh(e){return ph(fa(e))}function aT(e,t,o){o===void 0&&(o=!1);let r=ri(e),n=hh(e),a=mh(n),s=n==="x"?r===(o?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=fd(s)),[s,fd(s)]}function sT(e){let t=fd(e);return[dh(e),t,dh(t)]}function dh(e){return e.replace(/start|end/g,t=>i4[t])}function l4(e,t,o){let r=["left","right"],n=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return o?t?n:r:t?r:n;case"left":case"right":return t?a:s;default:return[]}}function iT(e,t,o,r){let n=ri(e),a=l4(On(e),o==="start",r);return n&&(a=a.map(s=>s+"-"+n),t&&(a=a.concat(a.map(dh)))),a}function fd(e){return e.replace(/left|right|bottom|top/g,t=>s4[t])}function u4(e){return{top:0,right:0,bottom:0,left:0,...e}}function Mw(e){return typeof e!="number"?u4(e):{top:e,right:e,bottom:e,left:e}}function ni(e){let{x:t,y:o,width:r,height:n}=e;return{width:r,height:n,top:o,left:t,right:t+r,bottom:o+n,x:t,y:o}}function lT(e,t,o){let{reference:r,floating:n}=e,a=fa(t),s=hh(t),i=mh(s),u=On(t),c=a==="y",d=r.x+r.width/2-n.width/2,f=r.y+r.height/2-n.height/2,p=r[i]/2-n[i]/2,m;switch(u){case"top":m={x:d,y:r.y-n.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-n.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ri(t)){case"start":m[s]-=p*(o&&c?-1:1);break;case"end":m[s]+=p*(o&&c?-1:1);break}return m}var dT=async(e,t,o)=>{let{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s}=o,i=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t)),c=await s.getElementRects({reference:e,floating:t,strategy:n}),{x:d,y:f}=lT(c,r,u),p=r,m={},y=0;for(let g=0;g<i.length;g++){let{name:v,fn:x}=i[g],{x:w,y:C,data:S,reset:b}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:n,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});d=w??d,f=C??f,m={...m,[v]:{...m[v],...S}},b&&y<=50&&(y++,typeof b=="object"&&(b.placement&&(p=b.placement),b.rects&&(c=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:n}):b.rects),{x:d,y:f}=lT(c,p,u)),g=-1)}return{x:d,y:f,placement:p,strategy:n,middlewareData:m}};async function Xl(e,t){var o;t===void 0&&(t={});let{x:r,y:n,platform:a,rects:s,elements:i,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=kn(t,e),y=Mw(m),v=i[p?f==="floating"?"reference":"floating":f],x=ni(await a.getClippingRect({element:(o=await(a.isElement==null?void 0:a.isElement(v)))==null||o?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:u})),w=f==="floating"?{x:r,y:n,width:s.floating.width,height:s.floating.height}:s.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),S=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},b=ni(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:w,offsetParent:C,strategy:u}):w);return{top:(x.top-b.top+y.top)/S.y,bottom:(b.bottom-x.bottom+y.bottom)/S.y,left:(x.left-b.left+y.left)/S.x,right:(b.right-x.right+y.right)/S.x}}var fT=e=>({name:"arrow",options:e,async fn(t){let{x:o,y:r,placement:n,rects:a,platform:s,elements:i,middlewareData:u}=t,{element:c,padding:d=0}=kn(e,t)||{};if(c==null)return{};let f=Mw(d),p={x:o,y:r},m=hh(n),y=mh(m),g=await s.getDimensions(c),v=m==="y",x=v?"top":"left",w=v?"bottom":"right",C=v?"clientHeight":"clientWidth",S=a.reference[y]+a.reference[m]-p[m]-a.floating[y],b=p[m]-a.reference[m],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c)),P=R?R[C]:0;(!P||!await(s.isElement==null?void 0:s.isElement(R)))&&(P=i.floating[C]||a.floating[y]);let M=S/2-b/2,T=P/2-g[y]/2-1,_=An(f[x],T),F=An(f[w],T),k=_,N=P-g[y]-F,I=P/2-g[y]/2+M,A=fh(k,I,N),L=!u.arrow&&ri(n)!=null&&I!==A&&a.reference[y]/2-(I<k?_:F)-g[y]/2<0,D=L?I<k?I-k:I-N:0;return{[m]:p[m]+D,data:{[m]:A,centerOffset:I-A-D,...L&&{alignmentOffset:D}},reset:L}}});var pT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,r;let{placement:n,middlewareData:a,rects:s,initialPlacement:i,platform:u,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=kn(e,t);if((o=a.arrow)!=null&&o.alignmentOffset)return{};let x=On(n),w=fa(i),C=On(i)===i,S=await(u.isRTL==null?void 0:u.isRTL(c.floating)),b=p||(C||!g?[fd(i)]:sT(i)),R=y!=="none";!p&&R&&b.push(...iT(i,g,y,S));let P=[i,...b],M=await Xl(t,v),T=[],_=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(M[x]),f){let I=aT(n,s,S);T.push(M[I[0]],M[I[1]])}if(_=[..._,{placement:n,overflows:T}],!T.every(I=>I<=0)){var F,k;let I=(((F=a.flip)==null?void 0:F.index)||0)+1,A=P[I];if(A)return{data:{index:I,overflows:_},reset:{placement:A}};let L=(k=_.filter(D=>D.overflows[0]<=0).sort((D,O)=>D.overflows[1]-O.overflows[1])[0])==null?void 0:k.placement;if(!L)switch(m){case"bestFit":{var N;let D=(N=_.filter(O=>{if(R){let E=fa(O.placement);return E===w||E==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(E=>E>0).reduce((E,V)=>E+V,0)]).sort((O,E)=>O[1]-E[1])[0])==null?void 0:N[0];D&&(L=D);break}case"initialPlacement":L=i;break}if(n!==L)return{reset:{placement:L}}}return{}}}};function uT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cT(e){return nT.some(t=>e[t]>=0)}var mT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){let{rects:o}=t,{strategy:r="referenceHidden",...n}=kn(e,t);switch(r){case"referenceHidden":{let a=await Xl(t,{...n,elementContext:"reference"}),s=uT(a,o.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:cT(s)}}}case"escaped":{let a=await Xl(t,{...n,altBoundary:!0}),s=uT(a,o.floating);return{data:{escapedOffsets:s,escaped:cT(s)}}}default:return{}}}}};async function c4(e,t){let{placement:o,platform:r,elements:n}=e,a=await(r.isRTL==null?void 0:r.isRTL(n.floating)),s=On(o),i=ri(o),u=fa(o)==="y",c=["left","top"].includes(s)?-1:1,d=a&&u?-1:1,f=kn(t,e),{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof y=="number"&&(m=i==="end"?y*-1:y),u?{x:m*d,y:p*c}:{x:p*c,y:m*d}}var hT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,r;let{x:n,y:a,placement:s,middlewareData:i}=t,u=await c4(t,e);return s===((o=i.offset)==null?void 0:o.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:n+u.x,y:a+u.y,data:{...u,placement:s}}}}},gT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:o,y:r,placement:n}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:i={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...u}=kn(e,t),c={x:o,y:r},d=await Xl(t,u),f=fa(On(n)),p=ph(f),m=c[p],y=c[f];if(a){let v=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=m+d[v],C=m-d[x];m=fh(w,m,C)}if(s){let v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],C=y-d[x];y=fh(w,y,C)}let g=i.fn({...t,[p]:m,[f]:y});return{...g,data:{x:g.x-o,y:g.y-r,enabled:{[p]:a,[f]:s}}}}}},yT=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:o,y:r,placement:n,rects:a,middlewareData:s}=t,{offset:i=0,mainAxis:u=!0,crossAxis:c=!0}=kn(e,t),d={x:o,y:r},f=fa(n),p=ph(f),m=d[p],y=d[f],g=kn(i,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){let C=p==="y"?"height":"width",S=a.reference[p]-a.floating[C]+v.mainAxis,b=a.reference[p]+a.reference[C]-v.mainAxis;m<S?m=S:m>b&&(m=b)}if(c){var x,w;let C=p==="y"?"width":"height",S=["top","left"].includes(On(n)),b=a.reference[f]-a.floating[C]+(S&&((x=s.offset)==null?void 0:x[f])||0)+(S?0:v.crossAxis),R=a.reference[f]+a.reference[C]+(S?0:((w=s.offset)==null?void 0:w[f])||0)-(S?v.crossAxis:0);y<b?y=b:y>R&&(y=R)}return{[p]:m,[f]:y}}}},xT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var o,r;let{placement:n,rects:a,platform:s,elements:i}=t,{apply:u=()=>{},...c}=kn(e,t),d=await Xl(t,c),f=On(n),p=ri(n),m=fa(n)==="y",{width:y,height:g}=a.floating,v,x;f==="top"||f==="bottom"?(v=f,x=p===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(x=f,v=p==="end"?"top":"bottom");let w=g-d.top-d.bottom,C=y-d.left-d.right,S=An(g-d[v],w),b=An(y-d[x],C),R=!t.middlewareData.shift,P=S,M=b;if((o=t.middlewareData.shift)!=null&&o.enabled.x&&(M=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=w),R&&!p){let _=Wo(d.left,0),F=Wo(d.right,0),k=Wo(d.top,0),N=Wo(d.bottom,0);m?M=y-2*(_!==0||F!==0?_+F:Wo(d.left,d.right)):P=g-2*(k!==0||N!==0?k+N:Wo(d.top,d.bottom))}await u({...t,availableWidth:M,availableHeight:P});let T=await s.getDimensions(i.floating);return y!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};l();function gh(){return typeof window<"u"}function si(e){return wT(e)?(e.nodeName||"").toLowerCase():"#document"}function sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function an(e){var t;return(t=(wT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wT(e){return gh()?e instanceof Node||e instanceof sr(e).Node:!1}function Ur(e){return gh()?e instanceof Element||e instanceof sr(e).Element:!1}function sn(e){return gh()?e instanceof HTMLElement||e instanceof sr(e).HTMLElement:!1}function vT(e){return!gh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sr(e).ShadowRoot}function Ql(e){let{overflow:t,overflowX:o,overflowY:r,display:n}=zr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+o)&&!["inline","contents"].includes(n)}function CT(e){return["table","td","th"].includes(si(e))}function hd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function yh(e){let t=xh(),o=Ur(e)?zr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>o[r]?o[r]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(o.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(o.contain||"").includes(r))}function ST(e){let t=pa(e);for(;sn(t)&&!ii(t);){if(yh(t))return t;if(hd(t))return null;t=pa(t)}return null}function xh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ii(e){return["html","body","#document"].includes(si(e))}function zr(e){return sr(e).getComputedStyle(e)}function gd(e){return Ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pa(e){if(si(e)==="html")return e;let t=e.assignedSlot||e.parentNode||vT(e)&&e.host||an(e);return vT(t)?t.host:t}function bT(e){let t=pa(e);return ii(t)?e.ownerDocument?e.ownerDocument.body:e.body:sn(t)&&Ql(t)?t:bT(t)}function ai(e,t,o){var r;t===void 0&&(t=[]),o===void 0&&(o=!0);let n=bT(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=sr(n);if(a){let i=vh(s);return t.concat(s,s.visualViewport||[],Ql(n)?n:[],i&&o?ai(i):[])}return t.concat(n,ai(n,[],o))}function vh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PT(e){let t=zr(e),o=parseFloat(t.width)||0,r=parseFloat(t.height)||0,n=sn(e),a=n?e.offsetWidth:o,s=n?e.offsetHeight:r,i=pd(o)!==a||pd(r)!==s;return i&&(o=a,r=s),{width:o,height:r,$:i}}function Tw(e){return Ur(e)?e:e.contextElement}function Zl(e){let t=Tw(e);if(!sn(t))return nn(1);let o=t.getBoundingClientRect(),{width:r,height:n,$:a}=PT(t),s=(a?pd(o.width):o.width)/r,i=(a?pd(o.height):o.height)/n;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}var d4=nn(0);function LT(e){let t=sr(e);return!xh()||!t.visualViewport?d4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function f4(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==sr(e)?!1:t}function li(e,t,o,r){t===void 0&&(t=!1),o===void 0&&(o=!1);let n=e.getBoundingClientRect(),a=Tw(e),s=nn(1);t&&(r?Ur(r)&&(s=Zl(r)):s=Zl(e));let i=f4(a,o,r)?LT(a):nn(0),u=(n.left+i.x)/s.x,c=(n.top+i.y)/s.y,d=n.width/s.x,f=n.height/s.y;if(a){let p=sr(a),m=r&&Ur(r)?sr(r):r,y=p,g=vh(y);for(;g&&r&&m!==y;){let v=Zl(g),x=g.getBoundingClientRect(),w=zr(g),C=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,S=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;u*=v.x,c*=v.y,d*=v.x,f*=v.y,u+=C,c+=S,y=sr(g),g=vh(y)}}return ni({width:d,height:f,x:u,y:c})}function Dw(e,t){let o=gd(e).scrollLeft;return t?t.left+o:li(an(e)).left+o}function MT(e,t,o){o===void 0&&(o=!1);let r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-(o?0:Dw(e,r)),a=r.top+t.scrollTop;return{x:n,y:a}}function p4(e){let{elements:t,rect:o,offsetParent:r,strategy:n}=e,a=n==="fixed",s=an(r),i=t?hd(t.floating):!1;if(r===s||i&&a)return o;let u={scrollLeft:0,scrollTop:0},c=nn(1),d=nn(0),f=sn(r);if((f||!f&&!a)&&((si(r)!=="body"||Ql(s))&&(u=gd(r)),sn(r))){let m=li(r);c=Zl(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}let p=s&&!f&&!a?MT(s,u,!0):nn(0);return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:o.y*c.y-u.scrollTop*c.y+d.y+p.y}}function m4(e){return Array.from(e.getClientRects())}function h4(e){let t=an(e),o=gd(e),r=e.ownerDocument.body,n=Wo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Wo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),s=-o.scrollLeft+Dw(e),i=-o.scrollTop;return zr(r).direction==="rtl"&&(s+=Wo(t.clientWidth,r.clientWidth)-n),{width:n,height:a,x:s,y:i}}function g4(e,t){let o=sr(e),r=an(e),n=o.visualViewport,a=r.clientWidth,s=r.clientHeight,i=0,u=0;if(n){a=n.width,s=n.height;let c=xh();(!c||c&&t==="fixed")&&(i=n.offsetLeft,u=n.offsetTop)}return{width:a,height:s,x:i,y:u}}function y4(e,t){let o=li(e,!0,t==="fixed"),r=o.top+e.clientTop,n=o.left+e.clientLeft,a=sn(e)?Zl(e):nn(1),s=e.clientWidth*a.x,i=e.clientHeight*a.y,u=n*a.x,c=r*a.y;return{width:s,height:i,x:u,y:c}}function IT(e,t,o){let r;if(t==="viewport")r=g4(e,o);else if(t==="document")r=h4(an(e));else if(Ur(t))r=y4(t,o);else{let n=LT(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return ni(r)}function ET(e,t){let o=pa(e);return o===t||!Ur(o)||ii(o)?!1:zr(o).position==="fixed"||ET(o,t)}function x4(e,t){let o=t.get(e);if(o)return o;let r=ai(e,[],!1).filter(i=>Ur(i)&&si(i)!=="body"),n=null,a=zr(e).position==="fixed",s=a?pa(e):e;for(;Ur(s)&&!ii(s);){let i=zr(s),u=yh(s);!u&&i.position==="fixed"&&(n=null),(a?!u&&!n:!u&&i.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Ql(s)&&!u&&ET(e,s))?r=r.filter(d=>d!==s):n=i,s=pa(s)}return t.set(e,r),r}function v4(e){let{element:t,boundary:o,rootBoundary:r,strategy:n}=e,s=[...o==="clippingAncestors"?hd(t)?[]:x4(t,this._c):[].concat(o),r],i=s[0],u=s.reduce((c,d)=>{let f=IT(t,d,n);return c.top=Wo(f.top,c.top),c.right=An(f.right,c.right),c.bottom=An(f.bottom,c.bottom),c.left=Wo(f.left,c.left),c},IT(t,i,n));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function w4(e){let{width:t,height:o}=PT(e);return{width:t,height:o}}function C4(e,t,o){let r=sn(t),n=an(t),a=o==="fixed",s=li(e,!0,a,t),i={scrollLeft:0,scrollTop:0},u=nn(0);if(r||!r&&!a)if((si(t)!=="body"||Ql(n))&&(i=gd(t)),r){let p=li(t,!0,a,t);u.x=p.x+t.clientLeft,u.y=p.y+t.clientTop}else n&&(u.x=Dw(n));let c=n&&!r&&!a?MT(n,i):nn(0),d=s.left+i.scrollLeft-u.x-c.x,f=s.top+i.scrollTop-u.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function Ew(e){return zr(e).position==="static"}function RT(e,t){if(!sn(e)||zr(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return an(e)===o&&(o=o.ownerDocument.body),o}function TT(e,t){let o=sr(e);if(hd(e))return o;if(!sn(e)){let n=pa(e);for(;n&&!ii(n);){if(Ur(n)&&!Ew(n))return n;n=pa(n)}return o}let r=RT(e,t);for(;r&&CT(r)&&Ew(r);)r=RT(r,t);return r&&ii(r)&&Ew(r)&&!yh(r)?o:r||ST(e)||o}var S4=async function(e){let t=this.getOffsetParent||TT,o=this.getDimensions,r=await o(e.floating);return{reference:C4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b4(e){return zr(e).direction==="rtl"}var DT={convertOffsetParentRelativeRectToViewportRelativeRect:p4,getDocumentElement:an,getClippingRect:v4,getOffsetParent:TT,getElementRects:S4,getClientRects:m4,getDimensions:w4,getScale:Zl,isElement:Ur,isRTL:b4};function AT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function I4(e,t){let o=null,r,n=an(e);function a(){var i;clearTimeout(r),(i=o)==null||i.disconnect(),o=null}function s(i,u){i===void 0&&(i=!1),u===void 0&&(u=1),a();let c=e.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=c;if(i||t(),!p||!m)return;let y=md(f),g=md(n.clientWidth-(d+p)),v=md(n.clientHeight-(f+m)),x=md(d),C={rootMargin:-y+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Wo(0,An(1,u))||1},S=!0;function b(R){let P=R[0].intersectionRatio;if(P!==u){if(!S)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}P===1&&!AT(c,e.getBoundingClientRect())&&s(),S=!1}try{o=new IntersectionObserver(b,{...C,root:n.ownerDocument})}catch{o=new IntersectionObserver(b,C)}o.observe(e)}return s(!0),a}function yd(e,t,o,r){r===void 0&&(r={});let{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Tw(e),d=n||a?[...c?ai(c):[],...ai(t)]:[];d.forEach(x=>{n&&x.addEventListener("scroll",o,{passive:!0}),a&&x.addEventListener("resize",o)});let f=c&&i?I4(c,o):null,p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(t)})),o()}),c&&!u&&m.observe(c),m.observe(t));let y,g=u?li(e):null;u&&v();function v(){let x=li(e);g&&!AT(g,x)&&o(),g=x,y=requestAnimationFrame(v)}return o(),()=>{var x;d.forEach(w=>{n&&w.removeEventListener("scroll",o),a&&w.removeEventListener("resize",o)}),f?.(),(x=m)==null||x.disconnect(),m=null,u&&cancelAnimationFrame(y)}}var kT=hT;var OT=gT,NT=pT,_T=xT,FT=mT,Aw=fT;var BT=yT,kw=(e,t,o)=>{let r=new Map,n={platform:DT,...o},a={...n.platform,_c:r};return dT(e,t,{...n,platform:a})};import*as Ft from"react";import{useLayoutEffect as R4,useEffect as P4}from"react";import*as HT from"react-dom";var wh=typeof document<"u"?R4:P4;function Ch(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,r,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(r=o;r--!==0;)if(!Ch(e[r],t[r]))return!1;return!0}if(n=Object.keys(e),o=n.length,o!==Object.keys(t).length)return!1;for(r=o;r--!==0;)if(!{}.hasOwnProperty.call(t,n[r]))return!1;for(r=o;r--!==0;){let a=n[r];if(!(a==="_owner"&&e.$$typeof)&&!Ch(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function UT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function VT(e,t){let o=UT(e);return Math.round(t*o)/o}function Ow(e){let t=Ft.useRef(e);return wh(()=>{t.current=e}),t}function Sh(e){e===void 0&&(e={});let{placement:t="bottom",strategy:o="absolute",middleware:r=[],platform:n,elements:{reference:a,floating:s}={},transform:i=!0,whileElementsMounted:u,open:c}=e,[d,f]=Ft.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=Ft.useState(r);Ch(p,r)||m(r);let[y,g]=Ft.useState(null),[v,x]=Ft.useState(null),w=Ft.useCallback(O=>{O!==R.current&&(R.current=O,g(O))},[]),C=Ft.useCallback(O=>{O!==P.current&&(P.current=O,x(O))},[]),S=a||y,b=s||v,R=Ft.useRef(null),P=Ft.useRef(null),M=Ft.useRef(d),T=u!=null,_=Ow(u),F=Ow(n),k=Ow(c),N=Ft.useCallback(()=>{if(!R.current||!P.current)return;let O={placement:t,strategy:o,middleware:p};F.current&&(O.platform=F.current),kw(R.current,P.current,O).then(E=>{let V={...E,isPositioned:k.current!==!1};I.current&&!Ch(M.current,V)&&(M.current=V,HT.flushSync(()=>{f(V)}))})},[p,t,o,F,k]);wh(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[c]);let I=Ft.useRef(!1);wh(()=>(I.current=!0,()=>{I.current=!1}),[]),wh(()=>{if(S&&(R.current=S),b&&(P.current=b),S&&b){if(_.current)return _.current(S,b,N);N()}},[S,b,N,_,T]);let A=Ft.useMemo(()=>({reference:R,floating:P,setReference:w,setFloating:C}),[w,C]),L=Ft.useMemo(()=>({reference:S,floating:b}),[S,b]),D=Ft.useMemo(()=>{let O={position:o,left:0,top:0};if(!L.floating)return O;let E=VT(L.floating,d.x),V=VT(L.floating,d.y);return i?{...O,transform:"translate("+E+"px, "+V+"px)",...UT(L.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:E,top:V}},[o,i,L.floating,d.x,d.y]);return Ft.useMemo(()=>({...d,update:N,refs:A,elements:L,floatingStyles:D}),[d,N,A,L,D])}var L4=e=>{function t(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){let{element:r,padding:n}=typeof e=="function"?e(o):e;return r&&t(r)?r.current!=null?Aw({element:r.current,padding:n}).fn(o):{}:r?Aw({element:r,padding:n}).fn(o):{}}}},bh=(e,t)=>({...kT(e),options:[e,t]}),Ih=(e,t)=>({...OT(e),options:[e,t]}),Rh=(e,t)=>({...BT(e),options:[e,t]}),Ph=(e,t)=>({...NT(e),options:[e,t]}),Lh=(e,t)=>({..._T(e),options:[e,t]});var Mh=(e,t)=>({...FT(e),options:[e,t]});var Eh=(e,t)=>({...L4(e),options:[e,t]});l();import*as qT from"react";import{jsx as zT}from"react/jsx-runtime";var M4="Arrow",WT=qT.forwardRef((e,t)=>{let{children:o,width:r=10,height:n=5,...a}=e;return zT(he.svg,{...a,ref:t,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?o:zT("polygon",{points:"0,0 30,0 15,10"})})});WT.displayName=M4;var $T=WT;l();import*as GT from"react";function Th(e){let[t,o]=GT.useState(void 0);return Dt(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;let a=n[0],s,i;if("borderBoxSize"in a){let u=a.borderBoxSize,c=Array.isArray(u)?u[0]:u;s=c.inlineSize,i=c.blockSize}else s=e.offsetWidth,i=e.offsetHeight;o({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else o(void 0)},[e]),t}import{jsx as ui}from"react/jsx-runtime";var Nw="Popper",[jT,ma]=so(Nw),[T4,KT]=jT(Nw),YT=e=>{let{__scopePopper:t,children:o}=e,[r,n]=Rr.useState(null);return ui(T4,{scope:t,anchor:r,onAnchorChange:n,children:o})};YT.displayName=Nw;var XT="PopperAnchor",QT=Rr.forwardRef((e,t)=>{let{__scopePopper:o,virtualRef:r,...n}=e,a=KT(XT,o),s=Rr.useRef(null),i=Le(t,s);return Rr.useEffect(()=>{a.onAnchorChange(r?.current||s.current)}),r?null:ui(he.div,{...n,ref:i})});QT.displayName=XT;var _w="PopperContent",[D4,A4]=jT(_w),ZT=Rr.forwardRef((e,t)=>{let{__scopePopper:o,side:r="bottom",sideOffset:n=0,align:a="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,v=KT(_w,o),[x,w]=Rr.useState(null),C=Le(t,z=>w(z)),[S,b]=Rr.useState(null),R=Th(S),P=R?.width??0,M=R?.height??0,T=r+(a!=="center"?"-"+a:""),_=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],k=F.length>0,N={padding:_,boundary:F.filter(O4),altBoundary:k},{refs:I,floatingStyles:A,placement:L,isPositioned:D,middlewareData:O}=Sh({strategy:"fixed",placement:T,whileElementsMounted:(...z)=>yd(...z,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[bh({mainAxis:n+M,alignmentAxis:s}),u&&Ih({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Rh():void 0,...N}),u&&Ph({...N}),Lh({...N,apply:({elements:z,rects:j,availableWidth:X,availableHeight:K})=>{let{width:re,height:ne}=j.reference,me=z.floating.style;me.setProperty("--radix-popper-available-width",`${X}px`),me.setProperty("--radix-popper-available-height",`${K}px`),me.setProperty("--radix-popper-anchor-width",`${re}px`),me.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),S&&Eh({element:S,padding:i}),N4({arrowWidth:P,arrowHeight:M}),p&&Mh({strategy:"referenceHidden",...N})]}),[E,V]=tD(L),B=pt(y);Dt(()=>{D&&B?.()},[D,B]);let U=O.arrow?.x,$=O.arrow?.y,G=O.arrow?.centerOffset!==0,[H,q]=Rr.useState();return Dt(()=>{x&&q(window.getComputedStyle(x).zIndex)},[x]),ui("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:D?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:ui(D4,{scope:o,placedSide:E,onArrowChange:b,arrowX:U,arrowY:$,shouldHideArrow:G,children:ui(he.div,{"data-side":E,"data-align":V,...g,ref:C,style:{...g.style,animation:D?void 0:"none"}})})})});ZT.displayName=_w;var JT="PopperArrow",k4={top:"bottom",right:"left",bottom:"top",left:"right"},eD=Rr.forwardRef(function(t,o){let{__scopePopper:r,...n}=t,a=A4(JT,r),s=k4[a.placedSide];return ui("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:ui($T,{...n,ref:o,style:{...n.style,display:"block"}})})});eD.displayName=JT;function O4(e){return e!==null}var N4=e=>({name:"transformOrigin",options:e,fn(t){let{placement:o,rects:r,middlewareData:n}=t,s=n.arrow?.centerOffset!==0,i=s?0:e.arrowWidth,u=s?0:e.arrowHeight,[c,d]=tD(o),f={start:"0%",center:"50%",end:"100%"}[d],p=(n.arrow?.x??0)+i/2,m=(n.arrow?.y??0)+u/2,y="",g="";return c==="bottom"?(y=s?f:`${p}px`,g=`${-u}px`):c==="top"?(y=s?f:`${p}px`,g=`${r.floating.height+u}px`):c==="right"?(y=`${-u}px`,g=s?f:`${m}px`):c==="left"&&(y=`${r.floating.width+u}px`,g=s?f:`${m}px`),{data:{x:y,y:g}}}});function tD(e){let[t,o="center"]=e.split("-");return[t,o]}var ci=YT,di=QT,Jl=ZT,eu=eD;l();import*as Dh from"react";import _4 from"react-dom";import{jsx as F4}from"react/jsx-runtime";var B4="Portal",fi=Dh.forwardRef((e,t)=>{let{container:o,...r}=e,[n,a]=Dh.useState(!1);Dt(()=>a(!0),[]);let s=o||n&&globalThis?.document?.body;return s?_4.createPortal(F4(he.div,{...r,ref:t}),s):null});fi.displayName=B4;l();import*as is from"react";function Pr({prop:e,defaultProp:t,onChange:o=()=>{}}){let[r,n]=V4({defaultProp:t,onChange:o}),a=e!==void 0,s=a?e:r,i=pt(o),u=is.useCallback(c=>{if(a){let f=typeof c=="function"?c(e):c;f!==e&&i(f)}else n(c)},[a,e,n,i]);return[s,u]}function V4({defaultProp:e,onChange:t}){let o=is.useState(e),[r]=o,n=is.useRef(r),a=pt(t);return is.useEffect(()=>{n.current!==r&&(a(r),n.current=r)},[r,n,a]),o}l();import*as Ah from"react";function kh(e){let t=Ah.useRef({value:e,previous:e});return Ah.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}l();import*as oD from"react";import{jsx as H4}from"react/jsx-runtime";var U4="VisuallyHidden",Bw=oD.forwardRef((e,t)=>H4(he.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Bw.displayName=U4;l();var z4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tu=new WeakMap,Oh=new WeakMap,Nh={},Vw=0,rD=function(e){return e&&(e.host||rD(e.parentNode))},q4=function(e,t){return t.map(function(o){if(e.contains(o))return o;var r=rD(o);return r&&e.contains(r)?r:(console.error("aria-hidden",o,"in not contained inside",e,". Doing nothing"),null)}).filter(function(o){return!!o})},W4=function(e,t,o,r){var n=q4(t,Array.isArray(e)?e:[e]);Nh[o]||(Nh[o]=new WeakMap);var a=Nh[o],s=[],i=new Set,u=new Set(n),c=function(f){!f||i.has(f)||(i.add(f),c(f.parentNode))};n.forEach(c);var d=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(p){if(i.has(p))d(p);else try{var m=p.getAttribute(r),y=m!==null&&m!=="false",g=(tu.get(p)||0)+1,v=(a.get(p)||0)+1;tu.set(p,g),a.set(p,v),s.push(p),g===1&&y&&Oh.set(p,!0),v===1&&p.setAttribute(o,"true"),y||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(t),i.clear(),Vw++,function(){s.forEach(function(f){var p=tu.get(f)-1,m=a.get(f)-1;tu.set(f,p),a.set(f,m),p||(Oh.has(f)||f.removeAttribute(r),Oh.delete(f)),m||f.removeAttribute(o)}),Vw--,Vw||(tu=new WeakMap,tu=new WeakMap,Oh=new WeakMap,Nh={})}},ou=function(e,t,o){o===void 0&&(o="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),n=t||z4(e);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live]"))),W4(r,n,o,"aria-hidden")):function(){return null}};l();l();l();var ir=function(){return ir=Object.assign||function(t){for(var o,r=1,n=arguments.length;r<n;r++){o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t},ir.apply(this,arguments)};function _h(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]]);return o}function nD(e,t,o){if(o||arguments.length===2)for(var r=0,n=t.length,a;r<n;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}import*as Uh from"react";l();import*as Ao from"react";l();var pi="right-scroll-bar-position",mi="width-before-scroll-bar",Hw="with-scroll-bars-hidden",Uw="--removed-body-scroll-bar-size";l();l();function Fh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}l();import{useState as $4}from"react";function aD(e,t){var o=$4(function(){return{value:e,callback:t,facade:{get current(){return o.value},set current(r){var n=o.value;n!==r&&(o.value=r,o.callback(r,n))}}}})[0];return o.callback=t,o.facade}l();import*as Bh from"react";var G4=typeof window<"u"?Bh.useLayoutEffect:Bh.useEffect,sD=new WeakMap;function zw(e,t){var o=aD(t||null,function(r){return e.forEach(function(n){return Fh(n,r)})});return G4(function(){var r=sD.get(o);if(r){var n=new Set(r),a=new Set(e),s=o.current;n.forEach(function(i){a.has(i)||Fh(i,null)}),a.forEach(function(i){n.has(i)||Fh(i,s)})}sD.set(o,e)},[e]),o}l();l();l();function j4(e){return e}function K4(e,t){t===void 0&&(t=j4);var o=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:e},useMedium:function(a){var s=t(a,r);return o.push(s),function(){o=o.filter(function(i){return i!==s})}},assignSyncMedium:function(a){for(r=!0;o.length;){var s=o;o=[],s.forEach(a)}o={push:function(i){return a(i)},filter:function(){return o}}},assignMedium:function(a){r=!0;var s=[];if(o.length){var i=o;o=[],i.forEach(a),s=o}var u=function(){var d=s;s=[],d.forEach(a)},c=function(){return Promise.resolve().then(u)};c(),o={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),o}}}};return n}function qw(e){e===void 0&&(e={});var t=K4(null);return t.options=ir({async:!0,ssr:!1},e),t}l();import*as iD from"react";var lD=function(e){var t=e.sideCar,o=_h(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return iD.createElement(r,ir({},o))};lD.isSideCarExport=!0;function Ww(e,t){return e.useMedium(t),lD}var Vh=qw();var $w=function(){},xd=Ao.forwardRef(function(e,t){var o=Ao.useRef(null),r=Ao.useState({onScrollCapture:$w,onWheelCapture:$w,onTouchMoveCapture:$w}),n=r[0],a=r[1],s=e.forwardProps,i=e.children,u=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,m=e.noIsolation,y=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,C=_h(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,b=zw([o,t]),R=ir(ir({},C),n);return Ao.createElement(Ao.Fragment,null,d&&Ao.createElement(S,{sideCar:Vh,removeScrollBar:c,shards:f,noIsolation:m,inert:y,setCallbacks:a,allowPinchZoom:!!g,lockRef:o,gapMode:w}),s?Ao.cloneElement(Ao.Children.only(i),ir(ir({},R),{ref:b})):Ao.createElement(x,ir({},R,{className:u,ref:b}),i))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:mi,zeroRight:pi};l();l();import*as st from"react";l();l();import*as nu from"react";l();l();l();import*as dD from"react";l();l();var uD;var cD=function(){if(uD)return uD;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cD();return t&&e.setAttribute("nonce",t),e}function X4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Q4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Gw=function(){var e=0,t=null;return{add:function(o){e==0&&(t=Y4())&&(X4(t,o),Q4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}};var jw=function(){var e=Gw();return function(t,o){dD.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&o])}};var vd=function(){var e=jw(),t=function(o){var r=o.styles,n=o.dynamic;return e(r,n),null};return t};l();var Z4={left:0,top:0,right:0,gap:0},Kw=function(e){return parseInt(e||"",10)||0},J4=function(e){var t=window.getComputedStyle(document.body),o=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[Kw(o),Kw(r),Kw(n)]},Yw=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Z4;var t=J4(e),o=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-o+t[2]-t[0])}};var ej=vd(),ru="data-scroll-locked",tj=function(e,t,o,r){var n=e.left,a=e.top,s=e.right,i=e.gap;return o===void 0&&(o="margin"),`
  .`.concat(Hw,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(ru,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),o==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),o==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pi,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(mi,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(pi," .").concat(pi,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mi," .").concat(mi,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ru,`] {
    `).concat(Uw,": ").concat(i,`px;
  }
`)},fD=function(){var e=parseInt(document.body.getAttribute(ru)||"0",10);return isFinite(e)?e:0},oj=function(){nu.useEffect(function(){return document.body.setAttribute(ru,(fD()+1).toString()),function(){var e=fD()-1;e<=0?document.body.removeAttribute(ru):document.body.setAttribute(ru,e.toString())}},[])},Xw=function(e){var t=e.noRelative,o=e.noImportant,r=e.gapMode,n=r===void 0?"margin":r;oj();var a=nu.useMemo(function(){return Yw(n)},[n]);return nu.createElement(ej,{styles:tj(a,!t,n,o?"":"!important")})};l();var Qw=!1;if(typeof window<"u")try{wd=Object.defineProperty({},"passive",{get:function(){return Qw=!0,!0}}),window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,wd)}catch{Qw=!1}var wd,hi=Qw?{passive:!1}:!1;l();var rj=function(e){return e.tagName==="TEXTAREA"},pD=function(e,t){if(!(e instanceof Element))return!1;var o=window.getComputedStyle(e);return o[t]!=="hidden"&&!(o.overflowY===o.overflowX&&!rj(e)&&o[t]==="visible")},nj=function(e){return pD(e,"overflowY")},aj=function(e){return pD(e,"overflowX")},Zw=function(e,t){var o=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=mD(e,r);if(n){var a=hD(e,r),s=a[1],i=a[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==o.body);return!1},sj=function(e){var t=e.scrollTop,o=e.scrollHeight,r=e.clientHeight;return[t,o,r]},ij=function(e){var t=e.scrollLeft,o=e.scrollWidth,r=e.clientWidth;return[t,o,r]},mD=function(e,t){return e==="v"?nj(t):aj(t)},hD=function(e,t){return e==="v"?sj(t):ij(t)},lj=function(e,t){return e==="h"&&t==="rtl"?-1:1},gD=function(e,t,o,r,n){var a=lj(e,window.getComputedStyle(t).direction),s=a*r,i=o.target,u=t.contains(i),c=!1,d=s>0,f=0,p=0;do{var m=hD(e,i),y=m[0],g=m[1],v=m[2],x=g-v-a*y;(y||x)&&mD(e,i)&&(f+=x,p+=y),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!u&&i!==document.body||u&&(t.contains(i)||t===i));return(d&&(n&&Math.abs(f)<1||!n&&s>f)||!d&&(n&&Math.abs(p)<1||!n&&-s>p))&&(c=!0),c};var Hh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yD=function(e){return[e.deltaX,e.deltaY]},xD=function(e){return e&&"current"in e?e.current:e},uj=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cj=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dj=0,au=[];function vD(e){var t=st.useRef([]),o=st.useRef([0,0]),r=st.useRef(),n=st.useState(dj++)[0],a=st.useState(vd)[0],s=st.useRef(e);st.useEffect(function(){s.current=e},[e]),st.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var g=nD([e.lockRef.current],(e.shards||[]).map(xD),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var i=st.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=Hh(g),w=o.current,C="deltaX"in g?g.deltaX:w[0]-x[0],S="deltaY"in g?g.deltaY:w[1]-x[1],b,R=g.target,P=Math.abs(C)>Math.abs(S)?"h":"v";if("touches"in g&&P==="h"&&R.type==="range")return!1;var M=Zw(P,R);if(!M)return!0;if(M?b=P:(b=P==="v"?"h":"v",M=Zw(P,R)),!M)return!1;if(!r.current&&"changedTouches"in g&&(C||S)&&(r.current=b),!b)return!0;var T=r.current||b;return gD(T,v,g,T==="h"?C:S,!0)},[]),u=st.useCallback(function(g){var v=g;if(!(!au.length||au[au.length-1]!==a)){var x="deltaY"in v?yD(v):Hh(v),w=t.current.filter(function(b){return b.name===v.type&&(b.target===v.target||v.target===b.shadowParent)&&uj(b.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var C=(s.current.shards||[]).map(xD).filter(Boolean).filter(function(b){return b.contains(v.target)}),S=C.length>0?i(v,C[0]):!s.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=st.useCallback(function(g,v,x,w){var C={name:g,delta:v,target:x,should:w,shadowParent:fj(x)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(S){return S!==C})},1)},[]),d=st.useCallback(function(g){o.current=Hh(g),r.current=void 0},[]),f=st.useCallback(function(g){c(g.type,yD(g),g.target,i(g,e.lockRef.current))},[]),p=st.useCallback(function(g){c(g.type,Hh(g),g.target,i(g,e.lockRef.current))},[]);st.useEffect(function(){return au.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,hi),document.addEventListener("touchmove",u,hi),document.addEventListener("touchstart",d,hi),function(){au=au.filter(function(g){return g!==a}),document.removeEventListener("wheel",u,hi),document.removeEventListener("touchmove",u,hi),document.removeEventListener("touchstart",d,hi)}},[]);var m=e.removeScrollBar,y=e.inert;return st.createElement(st.Fragment,null,y?st.createElement(a,{styles:cj(n)}):null,m?st.createElement(Xw,{gapMode:e.gapMode}):null)}function fj(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var wD=Ww(Vh,vD);var CD=Uh.forwardRef(function(e,t){return Uh.createElement(xd,ir({},e,{ref:t,sideCar:wD}))});CD.classNames=xd.classNames;var gi=CD;import{Fragment as aC,jsx as xe,jsxs as zh}from"react/jsx-runtime";var pj=[" ","Enter","ArrowUp","ArrowDown"],mj=[" ","Enter"],Sd="Select",[Wh,$h,hj]=Gl(Sd),[su,wFe]=so(Sd,[hj,ma]),Gh=ma(),[gj,ls]=su(Sd),[yj,xj]=su(Sd),SD=e=>{let{__scopeSelect:t,children:o,open:r,defaultOpen:n,onOpenChange:a,value:s,defaultValue:i,onValueChange:u,dir:c,name:d,autoComplete:f,disabled:p,required:m,form:y}=e,g=Gh(t),[v,x]=J.useState(null),[w,C]=J.useState(null),[S,b]=J.useState(!1),R=jl(c),[P=!1,M]=Pr({prop:r,defaultProp:n,onChange:a}),[T,_]=Pr({prop:s,defaultProp:i,onChange:u}),F=J.useRef(null),k=v?y||!!v.closest("form"):!0,[N,I]=J.useState(new Set),A=Array.from(N).map(L=>L.props.value).join(";");return xe(ci,{...g,children:zh(gj,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:S,onValueNodeHasChildrenChange:b,contentId:ar(),value:T,onValueChange:_,open:P,onOpenChange:M,dir:R,triggerPointerDownPosRef:F,disabled:p,children:[xe(Wh.Provider,{scope:t,children:xe(yj,{scope:e.__scopeSelect,onNativeOptionAdd:J.useCallback(L=>{I(D=>new Set(D).add(L))},[]),onNativeOptionRemove:J.useCallback(L=>{I(D=>{let O=new Set(D);return O.delete(L),O})},[]),children:o})}),k?zh(jD,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:L=>_(L.target.value),disabled:p,form:y,children:[T===void 0?xe("option",{value:""}):null,Array.from(N)]},A):null]})})};SD.displayName=Sd;var bD="SelectTrigger",ID=J.forwardRef((e,t)=>{let{__scopeSelect:o,disabled:r=!1,...n}=e,a=Gh(o),s=ls(bD,o),i=s.disabled||r,u=Le(t,s.onTriggerChange),c=$h(o),d=J.useRef("touch"),[f,p,m]=KD(g=>{let v=c().filter(C=>!C.disabled),x=v.find(C=>C.value===s.value),w=YD(v,g,x);w!==void 0&&s.onValueChange(w.value)}),y=g=>{i||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return xe(di,{asChild:!0,...a,children:xe(he.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":GD(s.value)?"":void 0,...n,ref:u,onClick:ee(n.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:ee(n.onPointerDown,g=>{d.current=g.pointerType;let v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ee(n.onKeyDown,g=>{let v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(v&&g.key===" ")&&pj.includes(g.key)&&(y(),g.preventDefault())})})})});ID.displayName=bD;var RD="SelectValue",PD=J.forwardRef((e,t)=>{let{__scopeSelect:o,className:r,style:n,children:a,placeholder:s="",...i}=e,u=ls(RD,o),{onValueNodeHasChildrenChange:c}=u,d=a!==void 0,f=Le(t,u.onValueNodeChange);return Dt(()=>{c(d)},[c,d]),xe(he.span,{...i,ref:f,style:{pointerEvents:"none"},children:GD(u.value)?xe(aC,{children:s}):a})});PD.displayName=RD;var vj="SelectIcon",LD=J.forwardRef((e,t)=>{let{__scopeSelect:o,children:r,...n}=e;return xe(he.span,{"aria-hidden":!0,...n,ref:t,children:r||"\u25BC"})});LD.displayName=vj;var wj="SelectPortal",MD=e=>xe(fi,{asChild:!0,...e});MD.displayName=wj;var yi="SelectContent",ED=J.forwardRef((e,t)=>{let o=ls(yi,e.__scopeSelect),[r,n]=J.useState();if(Dt(()=>{n(new DocumentFragment)},[]),!o.open){let a=r;return a?nC.createPortal(xe(TD,{scope:e.__scopeSelect,children:xe(Wh.Slot,{scope:e.__scopeSelect,children:xe("div",{children:e.children})})}),a):null}return xe(DD,{...e,ref:t})});ED.displayName=yi;var ln=10,[TD,us]=su(yi),Cj="SelectContentImpl",DD=J.forwardRef((e,t)=>{let{__scopeSelect:o,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:s,side:i,sideOffset:u,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=e,w=ls(yi,o),[C,S]=J.useState(null),[b,R]=J.useState(null),P=Le(t,z=>S(z)),[M,T]=J.useState(null),[_,F]=J.useState(null),k=$h(o),[N,I]=J.useState(!1),A=J.useRef(!1);J.useEffect(()=>{if(C)return ou(C)},[C]),Yl();let L=J.useCallback(z=>{let[j,...X]=k().map(ne=>ne.ref.current),[K]=X.slice(-1),re=document.activeElement;for(let ne of z)if(ne===re||(ne?.scrollIntoView({block:"nearest"}),ne===j&&b&&(b.scrollTop=0),ne===K&&b&&(b.scrollTop=b.scrollHeight),ne?.focus(),document.activeElement!==re))return},[k,b]),D=J.useCallback(()=>L([M,C]),[L,M,C]);J.useEffect(()=>{N&&D()},[N,D]);let{onOpenChange:O,triggerPointerDownPosRef:E}=w;J.useEffect(()=>{if(C){let z={x:0,y:0},j=K=>{z={x:Math.abs(Math.round(K.pageX)-(E.current?.x??0)),y:Math.abs(Math.round(K.pageY)-(E.current?.y??0))}},X=K=>{z.x<=10&&z.y<=10?K.preventDefault():C.contains(K.target)||O(!1),document.removeEventListener("pointermove",j),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",j),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",X,{capture:!0})}}},[C,O,E]),J.useEffect(()=>{let z=()=>O(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[O]);let[V,B]=KD(z=>{let j=k().filter(re=>!re.disabled),X=j.find(re=>re.ref.current===document.activeElement),K=YD(j,z,X);K&&setTimeout(()=>K.ref.current.focus())}),U=J.useCallback((z,j,X)=>{let K=!A.current&&!X;(w.value!==void 0&&w.value===j||K)&&(T(z),K&&(A.current=!0))},[w.value]),$=J.useCallback(()=>C?.focus(),[C]),G=J.useCallback((z,j,X)=>{let K=!A.current&&!X;(w.value!==void 0&&w.value===j||K)&&F(z)},[w.value]),H=r==="popper"?Jw:AD,q=H===Jw?{side:i,sideOffset:u,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return xe(TD,{scope:o,content:C,viewport:b,onViewportChange:R,itemRefCallback:U,selectedItem:M,onItemLeave:$,itemTextRefCallback:G,focusSelectedItem:D,selectedItemText:_,position:r,isPositioned:N,searchRef:V,children:xe(gi,{as:Do,allowPinchZoom:!0,children:xe(oi,{asChild:!0,trapped:w.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:ee(n,z=>{w.trigger?.focus({preventScroll:!0}),z.preventDefault()}),children:xe(ti,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:xe(H,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:z=>z.preventDefault(),...x,...q,onPlaced:()=>I(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ee(x.onKeyDown,z=>{let j=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!j&&z.key.length===1&&B(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let K=k().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(z.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){let re=z.target,ne=K.indexOf(re);K=K.slice(ne+1)}setTimeout(()=>L(K)),z.preventDefault()}})})})})})})});DD.displayName=Cj;var Sj="SelectItemAlignedPosition",AD=J.forwardRef((e,t)=>{let{__scopeSelect:o,onPlaced:r,...n}=e,a=ls(yi,o),s=us(yi,o),[i,u]=J.useState(null),[c,d]=J.useState(null),f=Le(t,P=>d(P)),p=$h(o),m=J.useRef(!1),y=J.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=s,C=J.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&c&&g&&v&&x){let P=a.trigger.getBoundingClientRect(),M=c.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),_=x.getBoundingClientRect();if(a.dir!=="rtl"){let re=_.left-M.left,ne=T.left-re,me=P.left-ne,Ce=P.width+me,Me=Math.max(Ce,M.width),We=window.innerWidth-ln,ye=Sw(ne,[ln,Math.max(ln,We-Me)]);i.style.minWidth=Ce+"px",i.style.left=ye+"px"}else{let re=M.right-_.right,ne=window.innerWidth-T.right-re,me=window.innerWidth-P.right-ne,Ce=P.width+me,Me=Math.max(Ce,M.width),We=window.innerWidth-ln,ye=Sw(ne,[ln,Math.max(ln,We-Me)]);i.style.minWidth=Ce+"px",i.style.right=ye+"px"}let F=p(),k=window.innerHeight-ln*2,N=g.scrollHeight,I=window.getComputedStyle(c),A=parseInt(I.borderTopWidth,10),L=parseInt(I.paddingTop,10),D=parseInt(I.borderBottomWidth,10),O=parseInt(I.paddingBottom,10),E=A+L+N+O+D,V=Math.min(v.offsetHeight*5,E),B=window.getComputedStyle(g),U=parseInt(B.paddingTop,10),$=parseInt(B.paddingBottom,10),G=P.top+P.height/2-ln,H=k-G,q=v.offsetHeight/2,z=v.offsetTop+q,j=A+L+z,X=E-j;if(j<=G){let re=F.length>0&&v===F[F.length-1].ref.current;i.style.bottom="0px";let ne=c.clientHeight-g.offsetTop-g.offsetHeight,me=Math.max(H,q+(re?$:0)+ne+D),Ce=j+me;i.style.height=Ce+"px"}else{let re=F.length>0&&v===F[0].ref.current;i.style.top="0px";let me=Math.max(G,A+g.offsetTop+(re?U:0)+q)+X;i.style.height=me+"px",g.scrollTop=j-G+g.offsetTop}i.style.margin=`${ln}px 0`,i.style.minHeight=V+"px",i.style.maxHeight=k+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[p,a.trigger,a.valueNode,i,c,g,v,x,a.dir,r]);Dt(()=>C(),[C]);let[S,b]=J.useState();Dt(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);let R=J.useCallback(P=>{P&&y.current===!0&&(C(),w?.(),y.current=!1)},[C,w]);return xe(Ij,{scope:o,contentWrapper:i,shouldExpandOnScrollRef:m,onScrollButtonChange:R,children:xe("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:xe(he.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});AD.displayName=Sj;var bj="SelectPopperPosition",Jw=J.forwardRef((e,t)=>{let{__scopeSelect:o,align:r="start",collisionPadding:n=ln,...a}=e,s=Gh(o);return xe(Jl,{...s,...a,ref:t,align:r,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jw.displayName=bj;var[Ij,sC]=su(yi,{}),eC="SelectViewport",kD=J.forwardRef((e,t)=>{let{__scopeSelect:o,nonce:r,...n}=e,a=us(eC,o),s=sC(eC,o),i=Le(t,a.onViewportChange),u=J.useRef(0);return zh(aC,{children:[xe("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),xe(Wh.Slot,{scope:o,children:xe(he.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ee(n.onScroll,c=>{let d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=s;if(p?.current&&f){let m=Math.abs(u.current-d.scrollTop);if(m>0){let y=window.innerHeight-ln*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){let w=x+m,C=Math.min(y,w),S=w-C;f.style.height=C+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});kD.displayName=eC;var OD="SelectGroup",[Rj,Pj]=su(OD),Lj=J.forwardRef((e,t)=>{let{__scopeSelect:o,...r}=e,n=ar();return xe(Rj,{scope:o,id:n,children:xe(he.div,{role:"group","aria-labelledby":n,...r,ref:t})})});Lj.displayName=OD;var ND="SelectLabel",_D=J.forwardRef((e,t)=>{let{__scopeSelect:o,...r}=e,n=Pj(ND,o);return xe(he.div,{id:n.id,...r,ref:t})});_D.displayName=ND;var qh="SelectItem",[Mj,FD]=su(qh),BD=J.forwardRef((e,t)=>{let{__scopeSelect:o,value:r,disabled:n=!1,textValue:a,...s}=e,i=ls(qh,o),u=us(qh,o),c=i.value===r,[d,f]=J.useState(a??""),[p,m]=J.useState(!1),y=Le(t,w=>u.itemRefCallback?.(w,r,n)),g=ar(),v=J.useRef("touch"),x=()=>{n||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return xe(Mj,{scope:o,value:r,disabled:n,textId:g,isSelected:c,onItemTextChange:J.useCallback(w=>{f(C=>C||(w?.textContent??"").trim())},[]),children:xe(Wh.ItemSlot,{scope:o,value:r,disabled:n,textValue:d,children:xe(he.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...s,ref:y,onFocus:ee(s.onFocus,()=>m(!0)),onBlur:ee(s.onBlur,()=>m(!1)),onClick:ee(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:ee(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:ee(s.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:ee(s.onPointerMove,w=>{v.current=w.pointerType,n?u.onItemLeave?.():v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(s.onPointerLeave,w=>{w.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:ee(s.onKeyDown,w=>{u.searchRef?.current!==""&&w.key===" "||(mj.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});BD.displayName=qh;var Cd="SelectItemText",VD=J.forwardRef((e,t)=>{let{__scopeSelect:o,className:r,style:n,...a}=e,s=ls(Cd,o),i=us(Cd,o),u=FD(Cd,o),c=xj(Cd,o),[d,f]=J.useState(null),p=Le(t,x=>f(x),u.onItemTextChange,x=>i.itemTextRefCallback?.(x,u.value,u.disabled)),m=d?.textContent,y=J.useMemo(()=>xe("option",{value:u.value,disabled:u.disabled,children:m},u.value),[u.disabled,u.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return Dt(()=>(g(y),()=>v(y)),[g,v,y]),zh(aC,{children:[xe(he.span,{id:u.textId,...a,ref:p}),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?nC.createPortal(a.children,s.valueNode):null]})});VD.displayName=Cd;var HD="SelectItemIndicator",UD=J.forwardRef((e,t)=>{let{__scopeSelect:o,...r}=e;return FD(HD,o).isSelected?xe(he.span,{"aria-hidden":!0,...r,ref:t}):null});UD.displayName=HD;var tC="SelectScrollUpButton",zD=J.forwardRef((e,t)=>{let o=us(tC,e.__scopeSelect),r=sC(tC,e.__scopeSelect),[n,a]=J.useState(!1),s=Le(t,r.onScrollButtonChange);return Dt(()=>{if(o.viewport&&o.isPositioned){let u=function(){let d=c.scrollTop>0;a(d)};var i=u;let c=o.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[o.viewport,o.isPositioned]),n?xe(WD,{...e,ref:s,onAutoScroll:()=>{let{viewport:i,selectedItem:u}=o;i&&u&&(i.scrollTop=i.scrollTop-u.offsetHeight)}}):null});zD.displayName=tC;var oC="SelectScrollDownButton",qD=J.forwardRef((e,t)=>{let o=us(oC,e.__scopeSelect),r=sC(oC,e.__scopeSelect),[n,a]=J.useState(!1),s=Le(t,r.onScrollButtonChange);return Dt(()=>{if(o.viewport&&o.isPositioned){let u=function(){let d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};var i=u;let c=o.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[o.viewport,o.isPositioned]),n?xe(WD,{...e,ref:s,onAutoScroll:()=>{let{viewport:i,selectedItem:u}=o;i&&u&&(i.scrollTop=i.scrollTop+u.offsetHeight)}}):null});qD.displayName=oC;var WD=J.forwardRef((e,t)=>{let{__scopeSelect:o,onAutoScroll:r,...n}=e,a=us("SelectScrollButton",o),s=J.useRef(null),i=$h(o),u=J.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return J.useEffect(()=>()=>u(),[u]),Dt(()=>{i().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[i]),xe(he.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:ee(n.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:ee(n.onPointerMove,()=>{a.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:ee(n.onPointerLeave,()=>{u()})})}),Ej="SelectSeparator",$D=J.forwardRef((e,t)=>{let{__scopeSelect:o,...r}=e;return xe(he.div,{"aria-hidden":!0,...r,ref:t})});$D.displayName=Ej;var rC="SelectArrow",Tj=J.forwardRef((e,t)=>{let{__scopeSelect:o,...r}=e,n=Gh(o),a=ls(rC,o),s=us(rC,o);return a.open&&s.position==="popper"?xe(eu,{...n,...r,ref:t}):null});Tj.displayName=rC;function GD(e){return e===""||e===void 0}var jD=J.forwardRef((e,t)=>{let{value:o,...r}=e,n=J.useRef(null),a=Le(t,n),s=kh(o);return J.useEffect(()=>{let i=n.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(s!==o&&d){let f=new Event("change",{bubbles:!0});d.call(i,o),i.dispatchEvent(f)}},[s,o]),xe(Bw,{asChild:!0,children:xe("select",{...r,ref:a,defaultValue:o})})});jD.displayName="BubbleSelect";function KD(e){let t=pt(e),o=J.useRef(""),r=J.useRef(0),n=J.useCallback(s=>{let i=o.current+s;t(i),function u(c){o.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(i)},[t]),a=J.useCallback(()=>{o.current="",window.clearTimeout(r.current)},[]);return J.useEffect(()=>()=>window.clearTimeout(r.current),[]),[o,n,a]}function YD(e,t,o){let n=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=o?e.indexOf(o):-1,s=Dj(e,Math.max(a,0));n.length===1&&(s=s.filter(c=>c!==o));let u=s.find(c=>c.textValue.toLowerCase().startsWith(n.toLowerCase()));return u!==o?u:void 0}function Dj(e,t){return e.map((o,r)=>e[(t+r)%e.length])}var XD=SD,iC=ID,QD=PD,ZD=LD,JD=MD,lC=ED,eA=kD;var uC=_D,cC=BD,tA=VD,oA=UD,dC=zD,fC=qD,pC=$D;import*as cs from"react";import{jsx as yo,jsxs as bd}from"react/jsx-runtime";var ha=XD;var ga=QD,Nn=cs.forwardRef(({className:e,children:t,label:o,...r},n)=>bd(iC,{ref:n,className:W("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[bd("div",{className:"flex items-center gap-1",children:[o&&bd("span",{className:"text-muted-foreground",children:[o,":"]}),t]}),yo(ZD,{asChild:!0,children:yo(Vr,{className:"h-4 w-4 opacity-50"})})]}));Nn.displayName=iC.displayName;var rA=cs.forwardRef(({className:e,...t},o)=>yo(dC,{ref:o,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:yo(Xc,{className:"h-4 w-4"})}));rA.displayName=dC.displayName;var nA=cs.forwardRef(({className:e,...t},o)=>yo(fC,{ref:o,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:yo(Vr,{className:"h-4 w-4"})}));nA.displayName=fC.displayName;var _n=cs.forwardRef(({className:e,children:t,position:o="popper",...r},n)=>yo(JD,{children:yo("div",{className:"ps",children:bd(lC,{ref:n,className:W("relative z-50 max-h-(--radix-select-content-available-height) min-w-32 overflow-y-auto overflow-x-hidden rounded-md border border-border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-select-content-transform-origin)",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:o,...r,children:[yo(rA,{}),yo(eA,{className:W("p-1",o==="popper"&&"h-(--radix-select-trigger-height) w-full min-w-(--radix-select-trigger-width)"),children:t}),yo(nA,{})]})})}));_n.displayName=lC.displayName;var kj=cs.forwardRef(({className:e,...t},o)=>yo(uC,{ref:o,className:W("px-2 py-1.5 text-sm font-semibold",e),...t}));kj.displayName=uC.displayName;var ut=cs.forwardRef(({className:e,children:t,...o},r)=>bd(cC,{ref:r,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e),...o,children:[yo("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:yo(oA,{children:yo(rn,{className:"h-4 w-4"})})}),yo(tA,{children:t})]}));ut.displayName=cC.displayName;var Oj=cs.forwardRef(({className:e,...t},o)=>yo(pC,{ref:o,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));Oj.displayName=pC.displayName;l();import{jsx as Nj}from"react/jsx-runtime";function iu({className:e,...t}){return Nj("div",{className:W("animate-pulse rounded-md bg-foreground/10",e),...t})}import{Fragment as Vj,jsx as tt,jsxs as lu}from"react/jsx-runtime";function Lr({className:e}){let{metadata:t,createUrl:o,viewParam:r}=Ge(),{isFetching:n,activeTable:a,activeTables:s}=t,i=Object.values(s??{}).sort((c,d)=>c.name.localeCompare(d.name)),u=W("flex flex-col w-48 overflow-y-auto min-h-full h-0 text-card-foreground shadow-xs rounded-lg",e);return lu("div",{className:u,children:[lu("div",{className:"flex items-center gap-2 pt-4 pb-0.5 px-4",children:[tt("img",{src:HE,alt:"Prisma Logo",className:"h-6 w-auto"}),tt("span",{className:"text-lg font-medium font-sans",children:"Prisma Studio"})]}),tt(Lr.SchemaSelector,{}),lu(Lr.Block,{label:"Studio",children:[tt(Lr.Item,{asChild:!0,isActive:r==="schema",className:"py-1 font-mono text-xs text-foreground/60 hover:text-foreground transition-all cursor-pointer data-[active=true]:bg-accent data-[active=true]:foreground data-[active=true]:text-foreground",children:tt("a",{href:o({viewParam:"schema"}),className:"w-full",children:"Visualizer"})}),tt(Lr.Item,{asChild:!0,isActive:r==="console",className:"py-1 font-mono text-xs text-foreground/60 hover:text-foreground transition-all cursor-pointer data-[active=true]:bg-accent data-[active=true]:foreground data-[active=true]:text-foreground",children:tt("a",{href:o({viewParam:"console"}),className:"w-full",children:"Console"})})]}),tt(Lr.Block,{label:"Tables",children:n?Array(4).fill(null).map((c,d)=>tt(Lr.Item,{wrapChildrenInSpan:!1,children:tt(iu,{className:"h-3 w-full"})},d)):i.length>0?i.map(c=>tt(Lr.Item,{asChild:!0,isActive:a===c&&r==="table",className:"py-1 font-mono text-xs text-foreground/60 hover:text-foreground transition-all cursor-pointer data-[active=true]:bg-accent data-[active=true]:foreground data-[active=true]:text-foreground",children:tt("a",{href:o({tableParam:c.name,schemaParam:c.schema,viewParam:"table"}),className:"w-full",children:c.name})},`${c.schema}.${c.name}`)):tt(Lr.Item,{children:"No tables found"})})]})}var _j=({className:e,label:t,children:o,...r})=>lu("div",{className:e,...r,children:[lu("div",{className:"flex items-center gap-1 pt-4 pb-2 px-4 sticky top-0  backdrop-blur-sm",children:[tt(dd,{size:16,className:"text-muted-foreground/60"}),tt("h2",{className:"text-sm font-medium",children:t})]}),tt("nav",{"aria-label":t,className:"flex flex-col gap-px pb-3 p-2",children:o})]}),Fj=({className:e,asChild:t=!1,isActive:o,size:r,children:n,wrapChildrenInSpan:a=!0,...s})=>tt(t?Do:"button",{"data-sidebar":"menu-button","data-size":r,"data-active":o,className:W("py-1.5 px-2 text-sm font-medium rounded-md flex gap-2 items-center border border-transparent bg-transparent",e),...s,children:a?tt("span",{className:"truncate",children:n}):tt(Vj,{children:n})}),Bj=()=>{let{data:e,isFetching:t}=Tn(),{schemaParam:o,setSchemaParam:r,setTableParam:n}=Ge(),a=Object.keys(e.schemas||{});return tt("div",{className:"flex items-center gap-1 pt-4 pb-2 px-4 sticky top-0 backdrop-blur-sm",children:lu(ha,{value:o,onValueChange:s=>{let i=e.schemas[s??""],u=Object.keys(i?.tables??{})[0]??null;r(s),n(u)},children:[tt(Nn,{className:"text-xs",label:"Schema",children:tt(ga,{placeholder:"Select schema"})}),tt(_n,{children:t?tt(ut,{value:"loading",children:"Loading schemas..."}):a.length>0?a.map(s=>tt(ut,{value:s,className:"text-xs",children:s},s)):tt(ut,{value:"no-schemas",children:"No schemas found"})})]})})};Lr.Block=_j;Lr.Item=Fj;Lr.SchemaSelector=Bj;l();import{useEffect as jj,useRef as Kj}from"react";l();l();l();l();function aA(e){var t,o,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(o=aA(e[t]))&&(r&&(r+=" "),r+=o);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function sA(){for(var e,t,o=0,r="";o<arguments.length;)(e=arguments[o++])&&(t=aA(e))&&(r&&(r+=" "),r+=t);return r}var iA=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,lA=sA,uu=(e,t)=>o=>{var r;if(t?.variants==null)return lA(e,o?.class,o?.className);let{variants:n,defaultVariants:a}=t,s=Object.keys(n).map(c=>{let d=o?.[c],f=a?.[c];if(d===null)return null;let p=iA(d)||iA(f);return n[c][p]}),i=o&&Object.entries(o).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...a,...i}[g]):{...a,...i}[g]===v})?[...c,f,p]:c},[]);return lA(e,s,u,o?.class,o?.className)};import*as uA from"react";import{jsx as Hj}from"react/jsx-runtime";var mC=uu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-6 rounded-md px-2 text-xs",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_e=uA.forwardRef(({className:e,variant:t,size:o,asChild:r=!1,...n},a)=>Hj(r?Do:"button",{className:W(mC({variant:t,size:o,className:e})),ref:a,...n}));_e.displayName="Button";import{jsx as ds,jsxs as hC}from"react/jsx-runtime";function cu(e){let{isFullscreen:t,toggleFullscreen:o,toggleNavigation:r,isNavigationOpen:n}=ao();return ds("div",{className:"bg-studio-header-background flex w-full p-2 py-3 border-b border-border bg-card rounded-t-lg",children:ds("div",{className:"flex items-center justify-between w-full gap-2",children:hC("div",{className:"flex grow items-center justify-between",children:[hC("div",{className:"flex items-center gap-2",children:[ds(_e,{variant:"outline",size:"icon",onClick:r,children:n?ds(ts,{}):ds(os,{})}),e.children]}),hC("div",{className:"flex items-center gap-2",children:[e.endContent,ds(_e,{variant:"outline",size:"icon",onClick:o,children:t?ds(nd,{}):ds(rd,{})})]})]})})})}l();import{useState as Wj}from"react";l();import{jsx as Uj}from"react/jsx-runtime";var gC=uu("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-red-400/50 bg-red-400/30 text-foreground dark:text-white hover:bg-red-400/80",success:"border-green-500/50 bg-green-500/30 text-foreground dark:text-white hover:bg-green-500/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function du({className:e,variant:t,...o}){return Uj("div",{className:W(gC({variant:t}),e),...o})}l();import*as xi from"react";import{jsx as fu}from"react/jsx-runtime";var yC=xi.forwardRef(({className:e,...t},o)=>fu("div",{ref:o,className:W("rounded-xl border bg-card text-card-foreground shadow",e),...t}));yC.displayName="Card";var xC=xi.forwardRef(({className:e,...t},o)=>fu("div",{ref:o,className:W("flex flex-col space-y-1.5 p-6",e),...t}));xC.displayName="CardHeader";var vC=xi.forwardRef(({className:e,...t},o)=>fu("div",{ref:o,className:W("font-semibold leading-none tracking-tight",e),...t}));vC.displayName="CardTitle";var zj=xi.forwardRef(({className:e,...t},o)=>fu("div",{ref:o,className:W("text-sm text-muted-foreground",e),...t}));zj.displayName="CardDescription";var wC=xi.forwardRef(({className:e,...t},o)=>fu("div",{ref:o,className:W("p-6 pt-0",e),...t}));wC.displayName="CardContent";var qj=xi.forwardRef(({className:e,...t},o)=>fu("div",{ref:o,className:W("flex items-center p-6 pt-0",e),...t}));qj.displayName="CardFooter";import{jsx as $o,jsxs as Fn}from"react/jsx-runtime";var $j=e=>new Date(e).toLocaleTimeString(),Gj=e=>{if(!e||!e.sql)return"No query";let t=e.sql.substring(0,100);return e.sql.length>100?`${t}...`:t};function cA({event:e}){let[t,o]=Wj(!1),r=e.name==="studio_operation_error";return $o("div",{className:"gap-2",children:Fn(yC,{className:W("w-full rounded-sm border-ring/20 overflow-clip shadow-none"),children:[$o(xC,{className:W("p-3 font-normal",r?"border-red-500/60 bg-red-500/10":"border-green-500/60 bg-green-500/10"),children:Fn(vC,{className:"text-sm flex items-center justify-between text-xs font-mono ",children:[Fn("div",{className:"flex items-center gap-2",children:[r?$o(Dn,{size:16,className:"text-red-500"}):$o(Ja,{size:16,className:"text-green-500"}),Fn("span",{className:"",children:[e.payload.operation,", ",$j(e.timestamp)]})]}),$o(du,{variant:r?"destructive":"success",className:"font-normal text-xs",children:e.name==="studio_operation_success"?"Success":"Error"})]})}),Fn(wC,{className:"p-3 space-y-3",children:[e.payload.query&&Fn("div",{"data-response-type":"query",className:"space-y-2",children:[Fn("div",{className:"flex items-center justify-between relative",children:[Fn("button",{onClick:()=>o(!t),className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground",children:[t?$o(Vr,{size:12}):$o(Ir,{size:12}),"SQL Query"]}),$o(_e,{variant:"outline",size:"icon",className:"w-6 h-6 [&_svg]:size-3",onClick:()=>{navigator.clipboard.writeText(e.payload.query?.sql||""),zl.success("Query copied to clipboard")},children:$o(Js,{})})]}),$o("div",{className:W("p-3 bg-secondary/50 border border-border rounded-sm text-xs font-mono overflow-x-auto",t?"block whitespace-pre-wrap max-h-64 overflow-y-auto":"max-h-10 overflow-hidden"),children:t?e.payload.query.sql:Gj(e.payload.query)})]}),r&&e.payload.error&&Fn("div",{"data-response-type":"error",className:"space-y-2",children:[$o("div",{className:"flex items-center justify-between relative",children:Fn("span",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground",children:[$o(ns,{size:12}),"Error Details"]})}),$o("div",{className:"p-3 bg-secondary/50 border border-red-400/20 rounded-sm text-xs font-mono overflow-x-auto",children:$o("pre",{className:"text-xs text-red-400 whitespace-pre-wrap font-mono",children:e.payload.error instanceof AggregateError?e.payload.error.errors.map((n,a)=>$o("div",{children:n.message},a)):e.payload.error.message})})]})]})]})})}import{jsx as CC,jsxs as dA}from"react/jsx-runtime";function fA(e){let{operationEvents:t}=ao(),o=Kj(null);return jj(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[t]),dA("div",{className:"flex flex-col h-full overflow-hidden",children:[CC(cu,{}),dA("div",{ref:o,className:"flex flex-col grow p-4 overflow-y-auto gap-2 bg-background/50",children:[t.length===0&&CC("div",{className:"flex justify-center items-center h-full text-muted-foreground",children:"No operation events yet."}),t.map(r=>CC(cA,{event:r},r.eventId))]})]})}l();l();import{useMemo as Yj}from"react";var pA={name:"No Tables Found",fields:[{name:"message",type:"info",isRequired:!0}]};function mA(){let{data:e,isFetching:t}=Tn(),{metadata:{activeSchema:o}}=Ge();return Yj(()=>{if(t||!e||!o)return{tables:[pA],relationships:[]};let r=e.schemas[o.name];if(!r||Object.keys(r.tables).length===0)return{tables:[pA],relationships:[]};let n=[],a={};Object.values(r.tables).forEach(i=>{let u=[];Object.values(i.columns).forEach(d=>{let f={name:d.name,type:d.datatype.name,isPrimary:d.isInPrimaryKey,isRequired:!d.nullable,isNullable:d.nullable,isForeignKey:!!d.fkTable};d.fkTable&&d.fkColumn&&(f.foreignKeyTo={table:d.fkTable,column:d.fkColumn}),u.push(f)});let c={name:i.name,fields:u};n.push(c),a[i.name]=c});let s=[];return n.forEach(i=>{let u=r.tables[i.name];u&&Object.values(u.columns).forEach(c=>{if(c.fkTable&&c.fkColumn){let d=c.isInPrimaryKey;s.push({from:c.fkTable,to:i.name,type:d?"1:1":"1:n"})}})}),{tables:n,relationships:s}},[e,t,o])}l();import{memo as EX,useCallback as TX,useEffect as qN,useMemo as Ug}from"react";l();l();import Y,{createContext as Vk,useContext as Mg,useMemo as Hn,memo as Vt,useRef as De,useState as Iu,useEffect as Pt,forwardRef as Hk,useCallback as Bt}from"react";l();function ht(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let o=0,r;o<e.length;o++)(r=ht(e[o]))!==""&&(t+=(t&&" ")+r);else for(let o in e)e[o]&&(t+=(t&&" ")+o);return t}l();var PA=Cn(SA(),1);import Xj from"react";l();var bA=e=>{let t,o=new Set,r=(d,f)=>{let p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){let m=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),o.forEach(y=>y(t,m))}},n=()=>t,u={setState:r,getState:n,getInitialState:()=>c,subscribe:d=>(o.add(d),()=>o.delete(d)),destroy:()=>{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},c=t=e(r,n,u);return u},IA=e=>e?bA(e):bA;var{useDebugValue:Qj}=Xj,{useSyncExternalStoreWithSelector:Zj}=PA.default,Jj=e=>e;function SC(e,t=Jj,o){let r=Zj(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,o);return Qj(r),r}var RA=(e,t)=>{let o=IA(e),r=(n,a=t)=>SC(o,n,a);return Object.assign(r,o),r},LA=(e,t)=>e?RA(e,t):RA;l();function It(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[r,n]of e)if(!Object.is(n,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}let o=Object.keys(e);if(o.length!==Object.keys(t).length)return!1;for(let r of o)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}l();l();l();l();var eK={value:()=>{}};function EA(){for(var e=0,t=arguments.length,o={},r;e<t;++e){if(!(r=arguments[e]+"")||r in o||/[\s.]/.test(r))throw new Error("illegal type: "+r);o[r]=[]}return new jh(o)}function jh(e){this._=e}function tK(e,t){return e.trim().split(/^|\s+/).map(function(o){var r="",n=o.indexOf(".");if(n>=0&&(r=o.slice(n+1),o=o.slice(0,n)),o&&!t.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:r}})}jh.prototype=EA.prototype={constructor:jh,on:function(e,t){var o=this._,r=tK(e+"",o),n,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((n=(e=r[a]).type)&&(n=oK(o[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=r[a]).type)o[n]=MA(o[n],e.name,t);else if(t==null)for(n in o)o[n]=MA(o[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var o in t)e[o]=t[o].slice();return new jh(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var o=new Array(n),r=0,n,a;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,n=a.length;r<n;++r)a[r].value.apply(t,o)},apply:function(e,t,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],n=0,a=r.length;n<a;++n)r[n].value.apply(t,o)}};function oK(e,t){for(var o=0,r=e.length,n;o<r;++o)if((n=e[o]).name===t)return n.value}function MA(e,t,o){for(var r=0,n=e.length;r<n;++r)if(e[r].name===t){e[r]=eK,e=e.slice(0,r).concat(e.slice(r+1));break}return o!=null&&e.push({name:t,value:o}),e}var vi=EA;l();l();l();l();l();l();var Kh="http://www.w3.org/1999/xhtml",bC={svg:"http://www.w3.org/2000/svg",xhtml:Kh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ya(e){var t=e+="",o=t.indexOf(":");return o>=0&&(t=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),bC.hasOwnProperty(t)?{space:bC[t],local:e}:e}function rK(e){return function(){var t=this.ownerDocument,o=this.namespaceURI;return o===Kh&&t.documentElement.namespaceURI===Kh?t.createElement(e):t.createElementNS(o,e)}}function nK(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Yh(e){var t=ya(e);return(t.local?nK:rK)(t)}l();l();l();l();function aK(){}function wi(e){return e==null?aK:function(){return this.querySelector(e)}}function TA(e){typeof e!="function"&&(e=wi(e));for(var t=this._groups,o=t.length,r=new Array(o),n=0;n<o;++n)for(var a=t[n],s=a.length,i=r[n]=new Array(s),u,c,d=0;d<s;++d)(u=a[d])&&(c=e.call(u,u.__data__,d,a))&&("__data__"in u&&(c.__data__=u.__data__),i[d]=c);return new Rt(r,this._parents)}l();l();function IC(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}l();function sK(){return[]}function Id(e){return e==null?sK:function(){return this.querySelectorAll(e)}}function iK(e){return function(){return IC(e.apply(this,arguments))}}function DA(e){typeof e=="function"?e=iK(e):e=Id(e);for(var t=this._groups,o=t.length,r=[],n=[],a=0;a<o;++a)for(var s=t[a],i=s.length,u,c=0;c<i;++c)(u=s[c])&&(r.push(e.call(u,u.__data__,c,s)),n.push(u));return new Rt(r,n)}l();l();function Rd(e){return function(){return this.matches(e)}}function Xh(e){return function(t){return t.matches(e)}}var lK=Array.prototype.find;function uK(e){return function(){return lK.call(this.children,e)}}function cK(){return this.firstElementChild}function AA(e){return this.select(e==null?cK:uK(typeof e=="function"?e:Xh(e)))}l();var dK=Array.prototype.filter;function fK(){return Array.from(this.children)}function pK(e){return function(){return dK.call(this.children,e)}}function kA(e){return this.selectAll(e==null?fK:pK(typeof e=="function"?e:Xh(e)))}l();function OA(e){typeof e!="function"&&(e=Rd(e));for(var t=this._groups,o=t.length,r=new Array(o),n=0;n<o;++n)for(var a=t[n],s=a.length,i=r[n]=[],u,c=0;c<s;++c)(u=a[c])&&e.call(u,u.__data__,c,a)&&i.push(u);return new Rt(r,this._parents)}l();l();l();function Qh(e){return new Array(e.length)}function NA(){return new Rt(this._enter||this._groups.map(Qh),this._parents)}function Pd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pd.prototype={constructor:Pd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};l();function _A(e){return function(){return e}}function mK(e,t,o,r,n,a){for(var s=0,i,u=t.length,c=a.length;s<c;++s)(i=t[s])?(i.__data__=a[s],r[s]=i):o[s]=new Pd(e,a[s]);for(;s<u;++s)(i=t[s])&&(n[s]=i)}function hK(e,t,o,r,n,a,s){var i,u,c=new Map,d=t.length,f=a.length,p=new Array(d),m;for(i=0;i<d;++i)(u=t[i])&&(p[i]=m=s.call(u,u.__data__,i,t)+"",c.has(m)?n[i]=u:c.set(m,u));for(i=0;i<f;++i)m=s.call(e,a[i],i,a)+"",(u=c.get(m))?(r[i]=u,u.__data__=a[i],c.delete(m)):o[i]=new Pd(e,a[i]);for(i=0;i<d;++i)(u=t[i])&&c.get(p[i])===u&&(n[i]=u)}function gK(e){return e.__data__}function FA(e,t){if(!arguments.length)return Array.from(this,gK);var o=t?hK:mK,r=this._parents,n=this._groups;typeof e!="function"&&(e=_A(e));for(var a=n.length,s=new Array(a),i=new Array(a),u=new Array(a),c=0;c<a;++c){var d=r[c],f=n[c],p=f.length,m=yK(e.call(d,d&&d.__data__,c,r)),y=m.length,g=i[c]=new Array(y),v=s[c]=new Array(y),x=u[c]=new Array(p);o(d,f,g,v,x,m,t);for(var w=0,C=0,S,b;w<y;++w)if(S=g[w]){for(w>=C&&(C=w+1);!(b=v[C])&&++C<y;);S._next=b||null}}return s=new Rt(s,r),s._enter=i,s._exit=u,s}function yK(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}l();function BA(){return new Rt(this._exit||this._groups.map(Qh),this._parents)}l();function VA(e,t,o){var r=this.enter(),n=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),o==null?a.remove():o(a),r&&n?r.merge(n).order():n}l();function HA(e){for(var t=e.selection?e.selection():e,o=this._groups,r=t._groups,n=o.length,a=r.length,s=Math.min(n,a),i=new Array(n),u=0;u<s;++u)for(var c=o[u],d=r[u],f=c.length,p=i[u]=new Array(f),m,y=0;y<f;++y)(m=c[y]||d[y])&&(p[y]=m);for(;u<n;++u)i[u]=o[u];return new Rt(i,this._parents)}l();function UA(){for(var e=this._groups,t=-1,o=e.length;++t<o;)for(var r=e[t],n=r.length-1,a=r[n],s;--n>=0;)(s=r[n])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}l();function zA(e){e||(e=xK);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var o=this._groups,r=o.length,n=new Array(r),a=0;a<r;++a){for(var s=o[a],i=s.length,u=n[a]=new Array(i),c,d=0;d<i;++d)(c=s[d])&&(u[d]=c);u.sort(t)}return new Rt(n,this._parents).order()}function xK(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}l();function qA(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}l();function WA(){return Array.from(this)}l();function $A(){for(var e=this._groups,t=0,o=e.length;t<o;++t)for(var r=e[t],n=0,a=r.length;n<a;++n){var s=r[n];if(s)return s}return null}l();function GA(){let e=0;for(let t of this)++e;return e}l();function jA(){return!this.node()}l();function KA(e){for(var t=this._groups,o=0,r=t.length;o<r;++o)for(var n=t[o],a=0,s=n.length,i;a<s;++a)(i=n[a])&&e.call(i,i.__data__,a,n);return this}l();function vK(e){return function(){this.removeAttribute(e)}}function wK(e){return function(){this.removeAttributeNS(e.space,e.local)}}function CK(e,t){return function(){this.setAttribute(e,t)}}function SK(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bK(e,t){return function(){var o=t.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function IK(e,t){return function(){var o=t.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function YA(e,t){var o=ya(e);if(arguments.length<2){var r=this.node();return o.local?r.getAttributeNS(o.space,o.local):r.getAttribute(o)}return this.each((t==null?o.local?wK:vK:typeof t=="function"?o.local?IK:bK:o.local?SK:CK)(o,t))}l();l();function Zh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function RK(e){return function(){this.style.removeProperty(e)}}function PK(e,t,o){return function(){this.style.setProperty(e,t,o)}}function LK(e,t,o){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,o)}}function XA(e,t,o){return arguments.length>1?this.each((t==null?RK:typeof t=="function"?LK:PK)(e,t,o??"")):fs(this.node(),e)}function fs(e,t){return e.style.getPropertyValue(t)||Zh(e).getComputedStyle(e,null).getPropertyValue(t)}l();function MK(e){return function(){delete this[e]}}function EK(e,t){return function(){this[e]=t}}function TK(e,t){return function(){var o=t.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function QA(e,t){return arguments.length>1?this.each((t==null?MK:typeof t=="function"?TK:EK)(e,t)):this.node()[e]}l();function ZA(e){return e.trim().split(/^|\s+/)}function RC(e){return e.classList||new JA(e)}function JA(e){this._node=e,this._names=ZA(e.getAttribute("class")||"")}JA.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function e1(e,t){for(var o=RC(e),r=-1,n=t.length;++r<n;)o.add(t[r])}function t1(e,t){for(var o=RC(e),r=-1,n=t.length;++r<n;)o.remove(t[r])}function DK(e){return function(){e1(this,e)}}function AK(e){return function(){t1(this,e)}}function kK(e,t){return function(){(t.apply(this,arguments)?e1:t1)(this,e)}}function o1(e,t){var o=ZA(e+"");if(arguments.length<2){for(var r=RC(this.node()),n=-1,a=o.length;++n<a;)if(!r.contains(o[n]))return!1;return!0}return this.each((typeof t=="function"?kK:t?DK:AK)(o,t))}l();function OK(){this.textContent=""}function NK(e){return function(){this.textContent=e}}function _K(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function r1(e){return arguments.length?this.each(e==null?OK:(typeof e=="function"?_K:NK)(e)):this.node().textContent}l();function FK(){this.innerHTML=""}function BK(e){return function(){this.innerHTML=e}}function VK(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function n1(e){return arguments.length?this.each(e==null?FK:(typeof e=="function"?VK:BK)(e)):this.node().innerHTML}l();function HK(){this.nextSibling&&this.parentNode.appendChild(this)}function a1(){return this.each(HK)}l();function UK(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s1(){return this.each(UK)}l();function i1(e){var t=typeof e=="function"?e:Yh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}l();function zK(){return null}function l1(e,t){var o=typeof e=="function"?e:Yh(e),r=t==null?zK:typeof t=="function"?t:wi(t);return this.select(function(){return this.insertBefore(o.apply(this,arguments),r.apply(this,arguments)||null)})}l();function qK(){var e=this.parentNode;e&&e.removeChild(this)}function u1(){return this.each(qK)}l();function WK(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $K(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function c1(e){return this.select(e?$K:WK)}l();function d1(e){return arguments.length?this.property("__data__",e):this.node().__data__}l();function GK(e){return function(t){e.call(this,t,this.__data__)}}function jK(e){return e.trim().split(/^|\s+/).map(function(t){var o="",r=t.indexOf(".");return r>=0&&(o=t.slice(r+1),t=t.slice(0,r)),{type:t,name:o}})}function KK(e){return function(){var t=this.__on;if(t){for(var o=0,r=-1,n=t.length,a;o<n;++o)a=t[o],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function YK(e,t,o){return function(){var r=this.__on,n,a=GK(t);if(r){for(var s=0,i=r.length;s<i;++s)if((n=r[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=o),n.value=t;return}}this.addEventListener(e.type,a,o),n={type:e.type,name:e.name,value:t,listener:a,options:o},r?r.push(n):this.__on=[n]}}function f1(e,t,o){var r=jK(e+""),n,a=r.length,s;if(arguments.length<2){var i=this.node().__on;if(i){for(var u=0,c=i.length,d;u<c;++u)for(n=0,d=i[u];n<a;++n)if((s=r[n]).type===d.type&&s.name===d.name)return d.value}return}for(i=t?YK:KK,n=0;n<a;++n)this.each(i(r[n],t,o));return this}l();function p1(e,t,o){var r=Zh(e),n=r.CustomEvent;typeof n=="function"?n=new n(t,o):(n=r.document.createEvent("Event"),o?(n.initEvent(t,o.bubbles,o.cancelable),n.detail=o.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function XK(e,t){return function(){return p1(this,e,t)}}function QK(e,t){return function(){return p1(this,e,t.apply(this,arguments))}}function m1(e,t){return this.each((typeof t=="function"?QK:XK)(e,t))}l();function*h1(){for(var e=this._groups,t=0,o=e.length;t<o;++t)for(var r=e[t],n=0,a=r.length,s;n<a;++n)(s=r[n])&&(yield s)}var PC=[null];function Rt(e,t){this._groups=e,this._parents=t}function g1(){return new Rt([[document.documentElement]],PC)}function ZK(){return this}Rt.prototype=g1.prototype={constructor:Rt,select:TA,selectAll:DA,selectChild:AA,selectChildren:kA,filter:OA,data:FA,enter:NA,exit:BA,join:VA,merge:HA,selection:ZK,order:UA,sort:zA,call:qA,nodes:WA,node:$A,size:GA,empty:jA,each:KA,attr:YA,style:XA,property:QA,classed:o1,text:r1,html:n1,raise:a1,lower:s1,append:i1,insert:l1,remove:u1,clone:c1,datum:d1,on:f1,dispatch:m1,[Symbol.iterator]:h1};var xa=g1;function io(e){return typeof e=="string"?new Rt([[document.querySelector(e)]],[document.documentElement]):new Rt([[e]],PC)}l();l();function y1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ko(e,t){if(e=y1(e),t===void 0&&(t=e.currentTarget),t){var o=t.ownerSVGElement||t;if(o.createSVGPoint){var r=o.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var n=t.getBoundingClientRect();return[e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop]}}return[e.pageX,e.pageY]}l();l();var x1={passive:!1},Ci={capture:!0,passive:!1};function Jh(e){e.stopImmediatePropagation()}function ps(e){e.preventDefault(),e.stopImmediatePropagation()}function Ld(e){var t=e.document.documentElement,o=io(e).on("dragstart.drag",ps,Ci);"onselectstart"in t?o.on("selectstart.drag",ps,Ci):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Md(e,t){var o=e.document.documentElement,r=io(e).on("dragstart.drag",null);t&&(r.on("click.drag",ps,Ci),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in o?r.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}l();var Ed=e=>()=>e;l();function Td(e,{sourceEvent:t,subject:o,target:r,identifier:n,active:a,x:s,y:i,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Td.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function JK(e){return!e.ctrlKey&&!e.button}function e6(){return this.parentNode}function t6(e,t){return t??{x:e.x,y:e.y}}function o6(){return navigator.maxTouchPoints||"ontouchstart"in this}function LC(){var e=JK,t=e6,o=t6,r=o6,n={},a=vi("start","drag","end"),s=0,i,u,c,d,f=0;function p(S){S.on("mousedown.drag",m).filter(r).on("touchstart.drag",v).on("touchmove.drag",x,x1).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(S,b){if(!(d||!e.call(this,S,b))){var R=C(this,t.call(this,S,b),S,b,"mouse");R&&(io(S.view).on("mousemove.drag",y,Ci).on("mouseup.drag",g,Ci),Ld(S.view),Jh(S),c=!1,i=S.clientX,u=S.clientY,R("start",S))}}function y(S){if(ps(S),!c){var b=S.clientX-i,R=S.clientY-u;c=b*b+R*R>f}n.mouse("drag",S)}function g(S){io(S.view).on("mousemove.drag mouseup.drag",null),Md(S.view,c),ps(S),n.mouse("end",S)}function v(S,b){if(e.call(this,S,b)){var R=S.changedTouches,P=t.call(this,S,b),M=R.length,T,_;for(T=0;T<M;++T)(_=C(this,P,S,b,R[T].identifier,R[T]))&&(Jh(S),_("start",S,R[T]))}}function x(S){var b=S.changedTouches,R=b.length,P,M;for(P=0;P<R;++P)(M=n[b[P].identifier])&&(ps(S),M("drag",S,b[P]))}function w(S){var b=S.changedTouches,R=b.length,P,M;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),P=0;P<R;++P)(M=n[b[P].identifier])&&(Jh(S),M("end",S,b[P]))}function C(S,b,R,P,M,T){var _=a.copy(),F=ko(T||R,b),k,N,I;if((I=o.call(S,new Td("beforestart",{sourceEvent:R,target:p,identifier:M,active:s,x:F[0],y:F[1],dx:0,dy:0,dispatch:_}),P))!=null)return k=I.x-F[0]||0,N=I.y-F[1]||0,function A(L,D,O){var E=F,V;switch(L){case"start":n[M]=A,V=s++;break;case"end":delete n[M],--s;case"drag":F=ko(O||D,b),V=s;break}_.call(L,S,new Td(L,{sourceEvent:D,subject:I,target:p,identifier:M,active:V,x:F[0]+k,y:F[1]+N,dx:F[0]-E[0],dy:F[1]-E[1],dispatch:_}),P)}}return p.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Ed(!!S),p):e},p.container=function(S){return arguments.length?(t=typeof S=="function"?S:Ed(S),p):t},p.subject=function(S){return arguments.length?(o=typeof S=="function"?S:Ed(S),p):o},p.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Ed(!!S),p):r},p.on=function(){var S=a.on.apply(a,arguments);return S===a?p:S},p.clickDistance=function(S){return arguments.length?(f=(S=+S)*S,p):Math.sqrt(f)},p}l();l();l();l();function eg(e,t,o){e.prototype=t.prototype=o,o.constructor=e}function MC(e,t){var o=Object.create(e.prototype);for(var r in t)o[r]=t[r];return o}function kd(){}var Dd=.7,rg=1/Dd,pu="\\s*([+-]?\\d+)\\s*",Ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r6=/^#([0-9a-f]{3,8})$/,n6=new RegExp(`^rgb\\(${pu},${pu},${pu}\\)$`),a6=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),s6=new RegExp(`^rgba\\(${pu},${pu},${pu},${Ad}\\)$`),i6=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${Ad}\\)$`),l6=new RegExp(`^hsl\\(${Ad},${Bn},${Bn}\\)$`),u6=new RegExp(`^hsla\\(${Ad},${Bn},${Bn},${Ad}\\)$`),v1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eg(kd,ms,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w1,formatHex:w1,formatHex8:c6,formatHsl:d6,formatRgb:C1,toString:C1});function w1(){return this.rgb().formatHex()}function c6(){return this.rgb().formatHex8()}function d6(){return L1(this).formatHsl()}function C1(){return this.rgb().formatRgb()}function ms(e){var t,o;return e=(e+"").trim().toLowerCase(),(t=r6.exec(e))?(o=t[1].length,t=parseInt(t[1],16),o===6?S1(t):o===3?new lr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):o===8?tg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):o===4?tg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=n6.exec(e))?new lr(t[1],t[2],t[3],1):(t=a6.exec(e))?new lr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=s6.exec(e))?tg(t[1],t[2],t[3],t[4]):(t=i6.exec(e))?tg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l6.exec(e))?R1(t[1],t[2]/100,t[3]/100,1):(t=u6.exec(e))?R1(t[1],t[2]/100,t[3]/100,t[4]):v1.hasOwnProperty(e)?S1(v1[e]):e==="transparent"?new lr(NaN,NaN,NaN,0):null}function S1(e){return new lr(e>>16&255,e>>8&255,e&255,1)}function tg(e,t,o,r){return r<=0&&(e=t=o=NaN),new lr(e,t,o,r)}function f6(e){return e instanceof kd||(e=ms(e)),e?(e=e.rgb(),new lr(e.r,e.g,e.b,e.opacity)):new lr}function mu(e,t,o,r){return arguments.length===1?f6(e):new lr(e,t,o,r??1)}function lr(e,t,o,r){this.r=+e,this.g=+t,this.b=+o,this.opacity=+r}eg(lr,mu,MC(kd,{brighter(e){return e=e==null?rg:Math.pow(rg,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dd:Math.pow(Dd,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lr(bi(this.r),bi(this.g),bi(this.b),ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b1,formatHex:b1,formatHex8:p6,formatRgb:I1,toString:I1}));function b1(){return`#${Si(this.r)}${Si(this.g)}${Si(this.b)}`}function p6(){return`#${Si(this.r)}${Si(this.g)}${Si(this.b)}${Si((isNaN(this.opacity)?1:this.opacity)*255)}`}function I1(){let e=ng(this.opacity);return`${e===1?"rgb(":"rgba("}${bi(this.r)}, ${bi(this.g)}, ${bi(this.b)}${e===1?")":`, ${e})`}`}function ng(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Si(e){return e=bi(e),(e<16?"0":"")+e.toString(16)}function R1(e,t,o,r){return r<=0?e=t=o=NaN:o<=0||o>=1?e=t=NaN:t<=0&&(e=NaN),new un(e,t,o,r)}function L1(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof kd||(e=ms(e)),!e)return new un;if(e instanceof un)return e;e=e.rgb();var t=e.r/255,o=e.g/255,r=e.b/255,n=Math.min(t,o,r),a=Math.max(t,o,r),s=NaN,i=a-n,u=(a+n)/2;return i?(t===a?s=(o-r)/i+(o<r)*6:o===a?s=(r-t)/i+2:s=(t-o)/i+4,i/=u<.5?a+n:2-a-n,s*=60):i=u>0&&u<1?0:s,new un(s,i,u,e.opacity)}function M1(e,t,o,r){return arguments.length===1?L1(e):new un(e,t,o,r??1)}function un(e,t,o,r){this.h=+e,this.s=+t,this.l=+o,this.opacity=+r}eg(un,M1,MC(kd,{brighter(e){return e=e==null?rg:Math.pow(rg,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dd:Math.pow(Dd,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,r=o+(o<.5?o:1-o)*t,n=2*o-r;return new lr(EC(e>=240?e-240:e+120,n,r),EC(e,n,r),EC(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new un(P1(this.h),og(this.s),og(this.l),ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=ng(this.opacity);return`${e===1?"hsl(":"hsla("}${P1(this.h)}, ${og(this.s)*100}%, ${og(this.l)*100}%${e===1?")":`, ${e})`}`}}));function P1(e){return e=(e||0)%360,e<0?e+360:e}function og(e){return Math.max(0,Math.min(1,e||0))}function EC(e,t,o){return(e<60?t+(o-t)*e/60:e<180?o:e<240?t+(o-t)*(240-e)/60:t)*255}l();l();function TC(e,t,o,r,n){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*o+(1+3*e+3*a-3*s)*r+s*n)/6}function E1(e){var t=e.length-1;return function(o){var r=o<=0?o=0:o>=1?(o=1,t-1):Math.floor(o*t),n=e[r],a=e[r+1],s=r>0?e[r-1]:2*n-a,i=r<t-1?e[r+2]:2*a-n;return TC((o-r/t)*t,s,n,a,i)}}l();function T1(e){var t=e.length;return function(o){var r=Math.floor(((o%=1)<0?++o:o)*t),n=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],i=e[(r+2)%t];return TC((o-r/t)*t,n,a,s,i)}}l();l();var DC=e=>()=>e;function m6(e,t){return function(o){return e+o*t}}function h6(e,t,o){return e=Math.pow(e,o),t=Math.pow(t,o)-e,o=1/o,function(r){return Math.pow(e+r*t,o)}}function D1(e){return(e=+e)==1?ag:function(t,o){return o-t?h6(t,o,e):DC(isNaN(t)?o:t)}}function ag(e,t){var o=t-e;return o?m6(e,o):DC(isNaN(e)?t:e)}var sg=function e(t){var o=D1(t);function r(n,a){var s=o((n=mu(n)).r,(a=mu(a)).r),i=o(n.g,a.g),u=o(n.b,a.b),c=ag(n.opacity,a.opacity);return function(d){return n.r=s(d),n.g=i(d),n.b=u(d),n.opacity=c(d),n+""}}return r.gamma=e,r}(1);function A1(e){return function(t){var o=t.length,r=new Array(o),n=new Array(o),a=new Array(o),s,i;for(s=0;s<o;++s)i=mu(t[s]),r[s]=i.r||0,n[s]=i.g||0,a[s]=i.b||0;return r=e(r),n=e(n),a=e(a),i.opacity=1,function(u){return i.r=r(u),i.g=n(u),i.b=a(u),i+""}}}var g6=A1(E1),y6=A1(T1);l();function qr(e,t){return e=+e,t=+t,function(o){return e*(1-o)+t*o}}l();var kC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AC=new RegExp(kC.source,"g");function x6(e){return function(){return e}}function v6(e){return function(t){return e(t)+""}}function OC(e,t){var o=kC.lastIndex=AC.lastIndex=0,r,n,a,s=-1,i=[],u=[];for(e=e+"",t=t+"";(r=kC.exec(e))&&(n=AC.exec(t));)(a=n.index)>o&&(a=t.slice(o,a),i[s]?i[s]+=a:i[++s]=a),(r=r[0])===(n=n[0])?i[s]?i[s]+=n:i[++s]=n:(i[++s]=null,u.push({i:s,x:qr(r,n)})),o=AC.lastIndex;return o<t.length&&(a=t.slice(o),i[s]?i[s]+=a:i[++s]=a),i.length<2?u[0]?v6(u[0].x):x6(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)i[(f=u[d]).i]=f.x(c);return i.join("")})}l();l();l();var k1=180/Math.PI,ig={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function NC(e,t,o,r,n,a){var s,i,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*o+t*r)&&(o-=e*u,r-=t*u),(i=Math.sqrt(o*o+r*r))&&(o/=i,r/=i,u/=i),e*r<t*o&&(e=-e,t=-t,u=-u,s=-s),{translateX:n,translateY:a,rotate:Math.atan2(t,e)*k1,skewX:Math.atan(u)*k1,scaleX:s,scaleY:i}}var lg;function O1(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ig:NC(t.a,t.b,t.c,t.d,t.e,t.f)}function N1(e){return e==null?ig:(lg||(lg=document.createElementNS("http://www.w3.org/2000/svg","g")),lg.setAttribute("transform",e),(e=lg.transform.baseVal.consolidate())?(e=e.matrix,NC(e.a,e.b,e.c,e.d,e.e,e.f)):ig)}function _1(e,t,o,r){function n(c){return c.length?c.pop()+" ":""}function a(c,d,f,p,m,y){if(c!==f||d!==p){var g=m.push("translate(",null,t,null,o);y.push({i:g-4,x:qr(c,f)},{i:g-2,x:qr(d,p)})}else(f||p)&&m.push("translate("+f+t+p+o)}function s(c,d,f,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:f.push(n(f)+"rotate(",null,r)-2,x:qr(c,d)})):d&&f.push(n(f)+"rotate("+d+r)}function i(c,d,f,p){c!==d?p.push({i:f.push(n(f)+"skewX(",null,r)-2,x:qr(c,d)}):d&&f.push(n(f)+"skewX("+d+r)}function u(c,d,f,p,m,y){if(c!==f||d!==p){var g=m.push(n(m)+"scale(",null,",",null,")");y.push({i:g-4,x:qr(c,f)},{i:g-2,x:qr(d,p)})}else(f!==1||p!==1)&&m.push(n(m)+"scale("+f+","+p+")")}return function(c,d){var f=[],p=[];return c=e(c),d=e(d),a(c.translateX,c.translateY,d.translateX,d.translateY,f,p),s(c.rotate,d.rotate,f,p),i(c.skewX,d.skewX,f,p),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,p),c=d=null,function(m){for(var y=-1,g=p.length,v;++y<g;)f[(v=p[y]).i]=v.x(m);return f.join("")}}}var _C=_1(O1,"px, ","px)","deg)"),FC=_1(N1,", ",")",")");l();var w6=1e-12;function F1(e){return((e=Math.exp(e))+1/e)/2}function C6(e){return((e=Math.exp(e))-1/e)/2}function S6(e){return((e=Math.exp(2*e))-1)/(e+1)}var BC=function e(t,o,r){function n(a,s){var i=a[0],u=a[1],c=a[2],d=s[0],f=s[1],p=s[2],m=d-i,y=f-u,g=m*m+y*y,v,x;if(g<w6)x=Math.log(p/c)/t,v=function(P){return[i+P*m,u+P*y,c*Math.exp(t*P*x)]};else{var w=Math.sqrt(g),C=(p*p-c*c+r*g)/(2*c*o*w),S=(p*p-c*c-r*g)/(2*p*o*w),b=Math.log(Math.sqrt(C*C+1)-C),R=Math.log(Math.sqrt(S*S+1)-S);x=(R-b)/t,v=function(P){var M=P*x,T=F1(b),_=c/(o*w)*(T*S6(t*M+b)-C6(b));return[i+_*m,u+_*y,c*T/F1(t*M+b)]}}return v.duration=x*1e3*t/Math.SQRT2,v}return n.rho=function(a){var s=Math.max(.001,+a),i=s*s,u=i*i;return e(s,i,u)},n}(Math.SQRT2,2,4);l();l();l();l();l();l();l();var hu=0,Nd=0,Od=0,V1=1e3,ug,_d,cg=0,Ii=0,dg=0,Fd=typeof performance=="object"&&performance.now?performance:Date,H1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Vd(){return Ii||(H1(b6),Ii=Fd.now()+dg)}function b6(){Ii=0}function Bd(){this._call=this._time=this._next=null}Bd.prototype=fg.prototype={constructor:Bd,restart:function(e,t,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?Vd():+o)+(t==null?0:+t),!this._next&&_d!==this&&(_d?_d._next=this:ug=this,_d=this),this._call=e,this._time=o,VC()},stop:function(){this._call&&(this._call=null,this._time=1/0,VC())}};function fg(e,t,o){var r=new Bd;return r.restart(e,t,o),r}function U1(){Vd(),++hu;for(var e=ug,t;e;)(t=Ii-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hu}function B1(){Ii=(cg=Fd.now())+dg,hu=Nd=0;try{U1()}finally{hu=0,R6(),Ii=0}}function I6(){var e=Fd.now(),t=e-cg;t>V1&&(dg-=t,cg=e)}function R6(){for(var e,t=ug,o,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(o=t._next,t._next=null,t=e?e._next=o:ug=o);_d=e,VC(r)}function VC(e){if(!hu){Nd&&(Nd=clearTimeout(Nd));var t=e-Ii;t>24?(e<1/0&&(Nd=setTimeout(B1,e-Fd.now()-dg)),Od&&(Od=clearInterval(Od))):(Od||(cg=Fd.now(),Od=setInterval(I6,V1)),hu=1,H1(B1))}}l();function pg(e,t,o){var r=new Bd;return t=t==null?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,o),r}var P6=vi("start","end","cancel","interrupt"),L6=[],W1=0,z1=1,hg=2,mg=3,q1=4,gg=5,Hd=6;function hs(e,t,o,r,n,a){var s=e.__transition;if(!s)e.__transition={};else if(o in s)return;M6(e,o,{name:t,index:r,group:n,on:P6,tween:L6,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:W1})}function Ud(e,t){var o=$t(e,t);if(o.state>W1)throw new Error("too late; already scheduled");return o}function xo(e,t){var o=$t(e,t);if(o.state>mg)throw new Error("too late; already running");return o}function $t(e,t){var o=e.__transition;if(!o||!(o=o[t]))throw new Error("transition not found");return o}function M6(e,t,o){var r=e.__transition,n;r[t]=o,o.timer=fg(a,0,o.time);function a(c){o.state=z1,o.timer.restart(s,o.delay,o.time),o.delay<=c&&s(c-o.delay)}function s(c){var d,f,p,m;if(o.state!==z1)return u();for(d in r)if(m=r[d],m.name===o.name){if(m.state===mg)return pg(s);m.state===q1?(m.state=Hd,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=Hd,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(pg(function(){o.state===mg&&(o.state=q1,o.timer.restart(i,o.delay,o.time),i(c))}),o.state=hg,o.on.call("start",e,e.__data__,o.index,o.group),o.state===hg){for(o.state=mg,n=new Array(p=o.tween.length),d=0,f=-1;d<p;++d)(m=o.tween[d].value.call(e,e.__data__,o.index,o.group))&&(n[++f]=m);n.length=f+1}}function i(c){for(var d=c<o.duration?o.ease.call(null,c/o.duration):(o.timer.restart(u),o.state=gg,1),f=-1,p=n.length;++f<p;)n[f].call(e,d);o.state===gg&&(o.on.call("end",e,e.__data__,o.index,o.group),u())}function u(){o.state=Hd,o.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Ri(e,t){var o=e.__transition,r,n,a=!0,s;if(o){t=t==null?null:t+"";for(s in o){if((r=o[s]).name!==t){a=!1;continue}n=r.state>hg&&r.state<gg,r.state=Hd,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete o[s]}a&&delete e.__transition}}function $1(e){return this.each(function(){Ri(this,e)})}l();l();l();l();function E6(e,t){var o,r;return function(){var n=xo(this,e),a=n.tween;if(a!==o){r=o=a;for(var s=0,i=r.length;s<i;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}n.tween=r}}function T6(e,t,o){var r,n;if(typeof o!="function")throw new Error;return function(){var a=xo(this,e),s=a.tween;if(s!==r){n=(r=s).slice();for(var i={name:t,value:o},u=0,c=n.length;u<c;++u)if(n[u].name===t){n[u]=i;break}u===c&&n.push(i)}a.tween=n}}function G1(e,t){var o=this._id;if(e+="",arguments.length<2){for(var r=$t(this.node(),o).tween,n=0,a=r.length,s;n<a;++n)if((s=r[n]).name===e)return s.value;return null}return this.each((t==null?E6:T6)(o,e,t))}function gu(e,t,o){var r=e._id;return e.each(function(){var n=xo(this,r);(n.value||(n.value={}))[t]=o.apply(this,arguments)}),function(n){return $t(n,r).value[t]}}l();function yg(e,t){var o;return(typeof t=="number"?qr:t instanceof ms?sg:(o=ms(t))?(t=o,sg):OC)(e,t)}function D6(e){return function(){this.removeAttribute(e)}}function A6(e){return function(){this.removeAttributeNS(e.space,e.local)}}function k6(e,t,o){var r,n=o+"",a;return function(){var s=this.getAttribute(e);return s===n?null:s===r?a:a=t(r=s,o)}}function O6(e,t,o){var r,n=o+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===r?a:a=t(r=s,o)}}function N6(e,t,o){var r,n,a;return function(){var s,i=o(this),u;return i==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=i+"",s===u?null:s===r&&u===n?a:(n=u,a=t(r=s,i)))}}function _6(e,t,o){var r,n,a;return function(){var s,i=o(this),u;return i==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=i+"",s===u?null:s===r&&u===n?a:(n=u,a=t(r=s,i)))}}function j1(e,t){var o=ya(e),r=o==="transform"?FC:yg;return this.attrTween(e,typeof t=="function"?(o.local?_6:N6)(o,r,gu(this,"attr."+e,t)):t==null?(o.local?A6:D6)(o):(o.local?O6:k6)(o,r,t))}l();function F6(e,t){return function(o){this.setAttribute(e,t.call(this,o))}}function B6(e,t){return function(o){this.setAttributeNS(e.space,e.local,t.call(this,o))}}function V6(e,t){var o,r;function n(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&B6(e,a)),o}return n._value=t,n}function H6(e,t){var o,r;function n(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&F6(e,a)),o}return n._value=t,n}function K1(e,t){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;var r=ya(e);return this.tween(o,(r.local?V6:H6)(r,t))}l();function U6(e,t){return function(){Ud(this,e).delay=+t.apply(this,arguments)}}function z6(e,t){return t=+t,function(){Ud(this,e).delay=t}}function Y1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?U6:z6)(t,e)):$t(this.node(),t).delay}l();function q6(e,t){return function(){xo(this,e).duration=+t.apply(this,arguments)}}function W6(e,t){return t=+t,function(){xo(this,e).duration=t}}function X1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?q6:W6)(t,e)):$t(this.node(),t).duration}l();function $6(e,t){if(typeof t!="function")throw new Error;return function(){xo(this,e).ease=t}}function Q1(e){var t=this._id;return arguments.length?this.each($6(t,e)):$t(this.node(),t).ease}l();function G6(e,t){return function(){var o=t.apply(this,arguments);if(typeof o!="function")throw new Error;xo(this,e).ease=o}}function Z1(e){if(typeof e!="function")throw new Error;return this.each(G6(this._id,e))}l();function J1(e){typeof e!="function"&&(e=Rd(e));for(var t=this._groups,o=t.length,r=new Array(o),n=0;n<o;++n)for(var a=t[n],s=a.length,i=r[n]=[],u,c=0;c<s;++c)(u=a[c])&&e.call(u,u.__data__,c,a)&&i.push(u);return new Go(r,this._parents,this._name,this._id)}l();function ek(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,o=e._groups,r=t.length,n=o.length,a=Math.min(r,n),s=new Array(r),i=0;i<a;++i)for(var u=t[i],c=o[i],d=u.length,f=s[i]=new Array(d),p,m=0;m<d;++m)(p=u[m]||c[m])&&(f[m]=p);for(;i<r;++i)s[i]=t[i];return new Go(s,this._parents,this._name,this._id)}l();function j6(e){return(e+"").trim().split(/^|\s+/).every(function(t){var o=t.indexOf(".");return o>=0&&(t=t.slice(0,o)),!t||t==="start"})}function K6(e,t,o){var r,n,a=j6(t)?Ud:xo;return function(){var s=a(this,e),i=s.on;i!==r&&(n=(r=i).copy()).on(t,o),s.on=n}}function tk(e,t){var o=this._id;return arguments.length<2?$t(this.node(),o).on.on(e):this.each(K6(o,e,t))}l();function Y6(e){return function(){var t=this.parentNode;for(var o in this.__transition)if(+o!==e)return;t&&t.removeChild(this)}}function ok(){return this.on("end.remove",Y6(this._id))}l();function rk(e){var t=this._name,o=this._id;typeof e!="function"&&(e=wi(e));for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s)for(var i=r[s],u=i.length,c=a[s]=new Array(u),d,f,p=0;p<u;++p)(d=i[p])&&(f=e.call(d,d.__data__,p,i))&&("__data__"in d&&(f.__data__=d.__data__),c[p]=f,hs(c[p],t,o,p,c,$t(d,o)));return new Go(a,this._parents,t,o)}l();function nk(e){var t=this._name,o=this._id;typeof e!="function"&&(e=Id(e));for(var r=this._groups,n=r.length,a=[],s=[],i=0;i<n;++i)for(var u=r[i],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var p=e.call(d,d.__data__,f,u),m,y=$t(d,o),g=0,v=p.length;g<v;++g)(m=p[g])&&hs(m,t,o,g,p,y);a.push(p),s.push(d)}return new Go(a,s,t,o)}l();var X6=xa.prototype.constructor;function ak(){return new X6(this._groups,this._parents)}l();function Q6(e,t){var o,r,n;return function(){var a=fs(this,e),s=(this.style.removeProperty(e),fs(this,e));return a===s?null:a===o&&s===r?n:n=t(o=a,r=s)}}function sk(e){return function(){this.style.removeProperty(e)}}function Z6(e,t,o){var r,n=o+"",a;return function(){var s=fs(this,e);return s===n?null:s===r?a:a=t(r=s,o)}}function J6(e,t,o){var r,n,a;return function(){var s=fs(this,e),i=o(this),u=i+"";return i==null&&(u=i=(this.style.removeProperty(e),fs(this,e))),s===u?null:s===r&&u===n?a:(n=u,a=t(r=s,i))}}function e8(e,t){var o,r,n,a="style."+t,s="end."+a,i;return function(){var u=xo(this,e),c=u.on,d=u.value[a]==null?i||(i=sk(t)):void 0;(c!==o||n!==d)&&(r=(o=c).copy()).on(s,n=d),u.on=r}}function ik(e,t,o){var r=(e+="")=="transform"?_C:yg;return t==null?this.styleTween(e,Q6(e,r)).on("end.style."+e,sk(e)):typeof t=="function"?this.styleTween(e,J6(e,r,gu(this,"style."+e,t))).each(e8(this._id,e)):this.styleTween(e,Z6(e,r,t),o).on("end.style."+e,null)}l();function t8(e,t,o){return function(r){this.style.setProperty(e,t.call(this,r),o)}}function o8(e,t,o){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&t8(e,s,o)),r}return a._value=t,a}function lk(e,t,o){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,o8(e,t,o??""))}l();function r8(e){return function(){this.textContent=e}}function n8(e){return function(){var t=e(this);this.textContent=t??""}}function uk(e){return this.tween("text",typeof e=="function"?n8(gu(this,"text",e)):r8(e==null?"":e+""))}l();function a8(e){return function(t){this.textContent=e.call(this,t)}}function s8(e){var t,o;function r(){var n=e.apply(this,arguments);return n!==o&&(t=(o=n)&&a8(n)),t}return r._value=e,r}function ck(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,s8(e))}l();function dk(){for(var e=this._name,t=this._id,o=xg(),r=this._groups,n=r.length,a=0;a<n;++a)for(var s=r[a],i=s.length,u,c=0;c<i;++c)if(u=s[c]){var d=$t(u,t);hs(u,e,o,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Go(r,this._parents,e,o)}l();function fk(){var e,t,o=this,r=o._id,n=o.size();return new Promise(function(a,s){var i={value:s},u={value:function(){--n===0&&a()}};o.each(function(){var c=xo(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(u)),c.on=t}),n===0&&a()})}var i8=0;function Go(e,t,o,r){this._groups=e,this._parents=t,this._name=o,this._id=r}function pk(e){return xa().transition(e)}function xg(){return++i8}var va=xa.prototype;Go.prototype=pk.prototype={constructor:Go,select:rk,selectAll:nk,selectChild:va.selectChild,selectChildren:va.selectChildren,filter:J1,merge:ek,selection:ak,transition:dk,call:va.call,nodes:va.nodes,node:va.node,size:va.size,empty:va.empty,each:va.each,on:tk,attr:j1,attrTween:K1,style:ik,styleTween:lk,text:uk,textTween:ck,remove:ok,tween:G1,delay:Y1,duration:X1,ease:Q1,easeVarying:Z1,end:fk,[Symbol.iterator]:va[Symbol.iterator]};l();l();function vg(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var l8={time:null,delay:0,duration:250,ease:vg};function u8(e,t){for(var o;!(o=e.__transition)||!(o=o[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return o}function mk(e){var t,o;e instanceof Go?(t=e._id,e=e._name):(t=xg(),(o=l8).time=Vd(),e=e==null?null:e+"");for(var r=this._groups,n=r.length,a=0;a<n;++a)for(var s=r[a],i=s.length,u,c=0;c<i;++c)(u=s[c])&&hs(u,e,t,c,s,o||u8(u,t));return new Go(r,this._parents,e,t)}xa.prototype.interrupt=$1;xa.prototype.transition=mk;l();var zd=e=>()=>e;l();function HC(e,{sourceEvent:t,target:o,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}l();function cn(e,t,o){this.k=e,this.x=t,this.y=o}cn.prototype={constructor:cn,scale:function(e){return e===1?this:new cn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ur=new cn(1,0,0);UC.prototype=cn.prototype;function UC(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ur;return e.__zoom}l();function wg(e){e.stopImmediatePropagation()}function yu(e){e.preventDefault(),e.stopImmediatePropagation()}function c8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function d8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function hk(){return this.__zoom||ur}function f8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function p8(){return navigator.maxTouchPoints||"ontouchstart"in this}function m8(e,t,o){var r=e.invertX(t[0][0])-o[0][0],n=e.invertX(t[1][0])-o[1][0],a=e.invertY(t[0][1])-o[0][1],s=e.invertY(t[1][1])-o[1][1];return e.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function qd(){var e=c8,t=d8,o=m8,r=f8,n=p8,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],i=250,u=BC,c=vi("start","zoom","end"),d,f,p,m=500,y=150,g=0,v=10;function x(I){I.property("__zoom",hk).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",_).filter(n).on("touchstart.zoom",F).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(I,A,L,D){var O=I.selection?I.selection():I;O.property("__zoom",hk),I!==O?b(I,A,L,D):O.interrupt().each(function(){R(this,arguments).event(D).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},x.scaleBy=function(I,A,L,D){x.scaleTo(I,function(){var O=this.__zoom.k,E=typeof A=="function"?A.apply(this,arguments):A;return O*E},L,D)},x.scaleTo=function(I,A,L,D){x.transform(I,function(){var O=t.apply(this,arguments),E=this.__zoom,V=L==null?S(O):typeof L=="function"?L.apply(this,arguments):L,B=E.invert(V),U=typeof A=="function"?A.apply(this,arguments):A;return o(C(w(E,U),V,B),O,s)},L,D)},x.translateBy=function(I,A,L,D){x.transform(I,function(){return o(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),s)},null,D)},x.translateTo=function(I,A,L,D,O){x.transform(I,function(){var E=t.apply(this,arguments),V=this.__zoom,B=D==null?S(E):typeof D=="function"?D.apply(this,arguments):D;return o(ur.translate(B[0],B[1]).scale(V.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof L=="function"?-L.apply(this,arguments):-L),E,s)},D,O)};function w(I,A){return A=Math.max(a[0],Math.min(a[1],A)),A===I.k?I:new cn(A,I.x,I.y)}function C(I,A,L){var D=A[0]-L[0]*I.k,O=A[1]-L[1]*I.k;return D===I.x&&O===I.y?I:new cn(I.k,D,O)}function S(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function b(I,A,L,D){I.on("start.zoom",function(){R(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(D).end()}).tween("zoom",function(){var O=this,E=arguments,V=R(O,E).event(D),B=t.apply(O,E),U=L==null?S(B):typeof L=="function"?L.apply(O,E):L,$=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),G=O.__zoom,H=typeof A=="function"?A.apply(O,E):A,q=u(G.invert(U).concat($/G.k),H.invert(U).concat($/H.k));return function(z){if(z===1)z=H;else{var j=q(z),X=$/j[2];z=new cn(X,U[0]-j[0]*X,U[1]-j[1]*X)}V.zoom(null,z)}})}function R(I,A,L){return!L&&I.__zooming||new P(I,A)}function P(I,A){this.that=I,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(I,A),this.taps=0}P.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,A){return this.mouse&&I!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var A=io(this.that).datum();c.call(I,this.that,new HC(I,{sourceEvent:this.sourceEvent,target:x,type:I,transform:this.that.__zoom,dispatch:c}),A)}};function M(I,...A){if(!e.apply(this,arguments))return;var L=R(this,A).event(I),D=this.__zoom,O=Math.max(a[0],Math.min(a[1],D.k*Math.pow(2,r.apply(this,arguments)))),E=ko(I);if(L.wheel)(L.mouse[0][0]!==E[0]||L.mouse[0][1]!==E[1])&&(L.mouse[1]=D.invert(L.mouse[0]=E)),clearTimeout(L.wheel);else{if(D.k===O)return;L.mouse=[E,D.invert(E)],Ri(this),L.start()}yu(I),L.wheel=setTimeout(V,y),L.zoom("mouse",o(C(w(D,O),L.mouse[0],L.mouse[1]),L.extent,s));function V(){L.wheel=null,L.end()}}function T(I,...A){if(p||!e.apply(this,arguments))return;var L=I.currentTarget,D=R(this,A,!0).event(I),O=io(I.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",$,!0),E=ko(I,L),V=I.clientX,B=I.clientY;Ld(I.view),wg(I),D.mouse=[E,this.__zoom.invert(E)],Ri(this),D.start();function U(G){if(yu(G),!D.moved){var H=G.clientX-V,q=G.clientY-B;D.moved=H*H+q*q>g}D.event(G).zoom("mouse",o(C(D.that.__zoom,D.mouse[0]=ko(G,L),D.mouse[1]),D.extent,s))}function $(G){O.on("mousemove.zoom mouseup.zoom",null),Md(G.view,D.moved),yu(G),D.event(G).end()}}function _(I,...A){if(e.apply(this,arguments)){var L=this.__zoom,D=ko(I.changedTouches?I.changedTouches[0]:I,this),O=L.invert(D),E=L.k*(I.shiftKey?.5:2),V=o(C(w(L,E),D,O),t.apply(this,A),s);yu(I),i>0?io(this).transition().duration(i).call(b,V,D,I):io(this).call(x.transform,V,D,I)}}function F(I,...A){if(e.apply(this,arguments)){var L=I.touches,D=L.length,O=R(this,A,I.changedTouches.length===D).event(I),E,V,B,U;for(wg(I),V=0;V<D;++V)B=L[V],U=ko(B,this),U=[U,this.__zoom.invert(U),B.identifier],O.touch0?!O.touch1&&O.touch0[2]!==U[2]&&(O.touch1=U,O.taps=0):(O.touch0=U,E=!0,O.taps=1+!!d);d&&(d=clearTimeout(d)),E&&(O.taps<2&&(f=U[0],d=setTimeout(function(){d=null},m)),Ri(this),O.start())}}function k(I,...A){if(this.__zooming){var L=R(this,A).event(I),D=I.changedTouches,O=D.length,E,V,B,U;for(yu(I),E=0;E<O;++E)V=D[E],B=ko(V,this),L.touch0&&L.touch0[2]===V.identifier?L.touch0[0]=B:L.touch1&&L.touch1[2]===V.identifier&&(L.touch1[0]=B);if(V=L.that.__zoom,L.touch1){var $=L.touch0[0],G=L.touch0[1],H=L.touch1[0],q=L.touch1[1],z=(z=H[0]-$[0])*z+(z=H[1]-$[1])*z,j=(j=q[0]-G[0])*j+(j=q[1]-G[1])*j;V=w(V,Math.sqrt(z/j)),B=[($[0]+H[0])/2,($[1]+H[1])/2],U=[(G[0]+q[0])/2,(G[1]+q[1])/2]}else if(L.touch0)B=L.touch0[0],U=L.touch0[1];else return;L.zoom("touch",o(C(V,B,U),L.extent,s))}}function N(I,...A){if(this.__zooming){var L=R(this,A).event(I),D=I.changedTouches,O=D.length,E,V;for(wg(I),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),E=0;E<O;++E)V=D[E],L.touch0&&L.touch0[2]===V.identifier?delete L.touch0:L.touch1&&L.touch1[2]===V.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(V=ko(V,this),Math.hypot(f[0]-V[0],f[1]-V[1])<v)){var B=io(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return x.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:zd(+I),x):r},x.filter=function(I){return arguments.length?(e=typeof I=="function"?I:zd(!!I),x):e},x.touchable=function(I){return arguments.length?(n=typeof I=="function"?I:zd(!!I),x):n},x.extent=function(I){return arguments.length?(t=typeof I=="function"?I:zd([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),x):t},x.scaleExtent=function(I){return arguments.length?(a[0]=+I[0],a[1]=+I[1],x):[a[0],a[1]]},x.translateExtent=function(I){return arguments.length?(s[0][0]=+I[0][0],s[1][0]=+I[1][0],s[0][1]=+I[0][1],s[1][1]=+I[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(I){return arguments.length?(o=I,x):o},x.duration=function(I){return arguments.length?(i=+I,x):i},x.interpolate=function(I){return arguments.length?(u=I,x):u},x.on=function(){var I=c.on.apply(c,arguments);return I===c?x:I},x.clickDistance=function(I){return arguments.length?(g=(I=+I)*I,x):Math.sqrt(g)},x.tapDistance=function(I){return arguments.length?(v=+I,x):v},x}import{createPortal as N$e}from"react-dom";var Eg=Vk(null),h8=Eg.Provider,Un={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Uk=Un.error001();function je(e,t){let o=Mg(Eg);if(o===null)throw new Error(Uk);return SC(o,e,t)}var At=()=>{let e=Mg(Eg);if(e===null)throw new Error(Uk);return Hn(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},g8=e=>e.userSelectionActive?"none":"all";function Xd({position:e,children:t,className:o,style:r,...n}){let a=je(g8),s=`${e}`.split("-");return Y.createElement("div",{className:ht(["react-flow__panel",o,...s]),style:{...r,pointerEvents:a},...n},t)}function y8({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:Y.createElement(Xd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Y.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var x8=({x:e,y:t,label:o,labelStyle:r={},labelShowBg:n=!0,labelBgStyle:a={},labelBgPadding:s=[2,4],labelBgBorderRadius:i=2,children:u,className:c,...d})=>{let f=De(null),[p,m]=Iu({x:0,y:0,width:0,height:0}),y=ht(["react-flow__edge-textwrapper",c]);return Pt(()=>{if(f.current){let g=f.current.getBBox();m({x:g.x,y:g.y,width:g.width,height:g.height})}},[o]),typeof o>"u"||!o?null:Y.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...d},n&&Y.createElement("rect",{width:p.width+2*s[0],x:-s[0],y:-s[1],height:p.height+2*s[1],className:"react-flow__edge-textbg",style:a,rx:i,ry:i}),Y.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:f,style:r},o),u)},v8=Vt(x8),tS=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ru=(e,t=0,o=1)=>Math.min(Math.max(e,t),o),oS=(e={x:0,y:0},t)=>({x:Ru(e.x,t[0][0],t[1][0]),y:Ru(e.y,t[0][1],t[1][1])}),gk=(e,t,o)=>e<t?Ru(Math.abs(e-t),1,50)/50:e>o?-Ru(Math.abs(e-o),1,50)/50:0,zk=(e,t)=>{let o=gk(e.x,35,t.width-35)*20,r=gk(e.y,35,t.height-35)*20;return[o,r]},qk=e=>e.getRootNode?.()||window?.document,Wk=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),jd=({x:e,y:t,width:o,height:r})=>({x:e,y:t,x2:e+o,y2:t+r}),$k=({x:e,y:t,x2:o,y2:r})=>({x:e,y:t,width:o-e,height:r-t}),yk=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Gk=(e,t)=>$k(Wk(jd(e),jd(t))),jC=(e,t)=>{let o=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(o*r)},w8=e=>Wr(e.width)&&Wr(e.height)&&Wr(e.x)&&Wr(e.y),Wr=e=>!isNaN(e)&&isFinite(e),Lt=Symbol.for("internals"),jk=["Enter"," ","Escape"],Kk=(e,t)=>{},C8=e=>"nativeEvent"in e;function KC(e){let o=(C8(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(o?.nodeName)||o?.hasAttribute("contenteditable")||!!o?.closest(".nokey")}var Yk=e=>"clientX"in e,xs=(e,t)=>{let o=Yk(e),r=o?e.clientX:e.touches?.[0].clientX,n=o?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:n-(t?.top??0)}},Rg=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Qd=({id:e,path:t,labelX:o,labelY:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:u,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:p,interactionWidth:m=20})=>Y.createElement(Y.Fragment,null,Y.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:p}),m&&Y.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),n&&Wr(o)&&Wr(r)?Y.createElement(v8,{x:o,y:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:u,labelBgBorderRadius:c}):null);Qd.displayName="BaseEdge";function Wd(e,t,o){return o===void 0?o:r=>{let n=t().edges.find(a=>a.id===e);n&&o(r,{...n})}}function Xk({sourceX:e,sourceY:t,targetX:o,targetY:r}){let n=Math.abs(o-e)/2,a=o<e?o+n:o-n,s=Math.abs(r-t)/2,i=r<t?r+s:r-s;return[a,i,n,s]}function Qk({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:n,sourceControlY:a,targetControlX:s,targetControlY:i}){let u=e*.125+n*.375+s*.375+o*.125,c=t*.125+a*.375+i*.375+r*.125,d=Math.abs(u-e),f=Math.abs(c-t);return[u,c,d,f]}var Mi;(function(e){e.Strict="strict",e.Loose="loose"})(Mi||(Mi={}));var Li;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Li||(Li={}));var Kd;(function(e){e.Partial="partial",e.Full="full"})(Kd||(Kd={}));var Vn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Vn||(Vn={}));var Pg;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Pg||(Pg={}));var ie;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ie||(ie={}));function xk({pos:e,x1:t,y1:o,x2:r,y2:n}){return e===ie.Left||e===ie.Right?[.5*(t+r),o]:[t,.5*(o+n)]}function Zk({sourceX:e,sourceY:t,sourcePosition:o=ie.Bottom,targetX:r,targetY:n,targetPosition:a=ie.Top}){let[s,i]=xk({pos:o,x1:e,y1:t,x2:r,y2:n}),[u,c]=xk({pos:a,x1:r,y1:n,x2:e,y2:t}),[d,f,p,m]=Qk({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:s,sourceControlY:i,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${i} ${u},${c} ${r},${n}`,d,f,p,m]}var rS=Vt(({sourceX:e,sourceY:t,targetX:o,targetY:r,sourcePosition:n=ie.Bottom,targetPosition:a=ie.Top,label:s,labelStyle:i,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:y,interactionWidth:g})=>{let[v,x,w]=Zk({sourceX:e,sourceY:t,sourcePosition:n,targetX:o,targetY:r,targetPosition:a});return Y.createElement(Qd,{path:v,labelX:x,labelY:w,label:s,labelStyle:i,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:y,interactionWidth:g})});rS.displayName="SimpleBezierEdge";var vk={[ie.Left]:{x:-1,y:0},[ie.Right]:{x:1,y:0},[ie.Top]:{x:0,y:-1},[ie.Bottom]:{x:0,y:1}},S8=({source:e,sourcePosition:t=ie.Bottom,target:o})=>t===ie.Left||t===ie.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},wk=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function b8({source:e,sourcePosition:t=ie.Bottom,target:o,targetPosition:r=ie.Top,center:n,offset:a}){let s=vk[t],i=vk[r],u={x:e.x+s.x*a,y:e.y+s.y*a},c={x:o.x+i.x*a,y:o.y+i.y*a},d=S8({source:u,sourcePosition:t,target:c}),f=d.x!==0?"x":"y",p=d[f],m=[],y,g,v={x:0,y:0},x={x:0,y:0},[w,C,S,b]=Xk({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(s[f]*i[f]===-1){y=n.x??w,g=n.y??C;let P=[{x:y,y:u.y},{x:y,y:c.y}],M=[{x:u.x,y:g},{x:c.x,y:g}];s[f]===p?m=f==="x"?P:M:m=f==="x"?M:P}else{let P=[{x:u.x,y:c.y}],M=[{x:c.x,y:u.y}];if(f==="x"?m=s.x===p?M:P:m=s.y===p?P:M,t===r){let N=Math.abs(e[f]-o[f]);if(N<=a){let I=Math.min(a-1,a-N);s[f]===p?v[f]=(u[f]>e[f]?-1:1)*I:x[f]=(c[f]>o[f]?-1:1)*I}}if(t!==r){let N=f==="x"?"y":"x",I=s[f]===i[N],A=u[N]>c[N],L=u[N]<c[N];(s[f]===1&&(!I&&A||I&&L)||s[f]!==1&&(!I&&L||I&&A))&&(m=f==="x"?P:M)}let T={x:u.x+v.x,y:u.y+v.y},_={x:c.x+x.x,y:c.y+x.y},F=Math.max(Math.abs(T.x-m[0].x),Math.abs(_.x-m[0].x)),k=Math.max(Math.abs(T.y-m[0].y),Math.abs(_.y-m[0].y));F>=k?(y=(T.x+_.x)/2,g=m[0].y):(y=m[0].x,g=(T.y+_.y)/2)}return[[e,{x:u.x+v.x,y:u.y+v.y},...m,{x:c.x+x.x,y:c.y+x.y},o],y,g,S,b]}function I8(e,t,o,r){let n=Math.min(wk(e,t)/2,wk(t,o)/2,r),{x:a,y:s}=t;if(e.x===a&&a===o.x||e.y===s&&s===o.y)return`L${a} ${s}`;if(e.y===s){let c=e.x<o.x?-1:1,d=e.y<o.y?1:-1;return`L ${a+n*c},${s}Q ${a},${s} ${a},${s+n*d}`}let i=e.x<o.x?1:-1,u=e.y<o.y?-1:1;return`L ${a},${s+n*u}Q ${a},${s} ${a+n*i},${s}`}function YC({sourceX:e,sourceY:t,sourcePosition:o=ie.Bottom,targetX:r,targetY:n,targetPosition:a=ie.Top,borderRadius:s=5,centerX:i,centerY:u,offset:c=20}){let[d,f,p,m,y]=b8({source:{x:e,y:t},sourcePosition:o,target:{x:r,y:n},targetPosition:a,center:{x:i,y:u},offset:c});return[d.reduce((v,x,w)=>{let C="";return w>0&&w<d.length-1?C=I8(d[w-1],x,d[w+1],s):C=`${w===0?"M":"L"}${x.x} ${x.y}`,v+=C,v},""),f,p,m,y]}var Tg=Vt(({sourceX:e,sourceY:t,targetX:o,targetY:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:u,labelBgBorderRadius:c,style:d,sourcePosition:f=ie.Bottom,targetPosition:p=ie.Top,markerEnd:m,markerStart:y,pathOptions:g,interactionWidth:v})=>{let[x,w,C]=YC({sourceX:e,sourceY:t,sourcePosition:f,targetX:o,targetY:r,targetPosition:p,borderRadius:g?.borderRadius,offset:g?.offset});return Y.createElement(Qd,{path:x,labelX:w,labelY:C,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:u,labelBgBorderRadius:c,style:d,markerEnd:m,markerStart:y,interactionWidth:v})});Tg.displayName="SmoothStepEdge";var nS=Vt(e=>Y.createElement(Tg,{...e,pathOptions:Hn(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));nS.displayName="StepEdge";function R8({sourceX:e,sourceY:t,targetX:o,targetY:r}){let[n,a,s,i]=Xk({sourceX:e,sourceY:t,targetX:o,targetY:r});return[`M ${e},${t}L ${o},${r}`,n,a,s,i]}var aS=Vt(({sourceX:e,sourceY:t,targetX:o,targetY:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:u,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:p,interactionWidth:m})=>{let[y,g,v]=R8({sourceX:e,sourceY:t,targetX:o,targetY:r});return Y.createElement(Qd,{path:y,labelX:g,labelY:v,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:u,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:p,interactionWidth:m})});aS.displayName="StraightEdge";function Cg(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ck({pos:e,x1:t,y1:o,x2:r,y2:n,c:a}){switch(e){case ie.Left:return[t-Cg(t-r,a),o];case ie.Right:return[t+Cg(r-t,a),o];case ie.Top:return[t,o-Cg(o-n,a)];case ie.Bottom:return[t,o+Cg(n-o,a)]}}function Jk({sourceX:e,sourceY:t,sourcePosition:o=ie.Bottom,targetX:r,targetY:n,targetPosition:a=ie.Top,curvature:s=.25}){let[i,u]=Ck({pos:o,x1:e,y1:t,x2:r,y2:n,c:s}),[c,d]=Ck({pos:a,x1:r,y1:n,x2:e,y2:t,c:s}),[f,p,m,y]=Qk({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:i,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${i},${u} ${c},${d} ${r},${n}`,f,p,m,y]}var Lg=Vt(({sourceX:e,sourceY:t,targetX:o,targetY:r,sourcePosition:n=ie.Bottom,targetPosition:a=ie.Top,label:s,labelStyle:i,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:y,pathOptions:g,interactionWidth:v})=>{let[x,w,C]=Jk({sourceX:e,sourceY:t,sourcePosition:n,targetX:o,targetY:r,targetPosition:a,curvature:g?.curvature});return Y.createElement(Qd,{path:x,labelX:w,labelY:C,label:s,labelStyle:i,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:y,interactionWidth:v})});Lg.displayName="BezierEdge";var sS=Vk(null),P8=sS.Provider;sS.Consumer;var L8=()=>Mg(sS),M8=e=>"id"in e&&"source"in e&&"target"in e;var E8=({source:e,sourceHandle:t,target:o,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${o}${r||""}`,XC=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,T8=(e,t)=>t.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),iS=(e,t)=>{if(!e.source||!e.target)return Kk("006",Un.error006()),t;let o;return M8(e)?o={...e}:o={...e,id:E8(e)},T8(o,t)?t:t.concat(o)};var QC=({x:e,y:t},[o,r,n],a,[s,i])=>{let u={x:(e-o)/n,y:(t-r)/n};return a?{x:s*Math.round(u.x/s),y:i*Math.round(u.y/i)}:u},eO=({x:e,y:t},[o,r,n])=>({x:e*n+o,y:t*n+r}),vs=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let o=(e.width??0)*t[0],r=(e.height??0)*t[1],n={x:e.position.x-o,y:e.position.y-r};return{...n,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-o,y:e.positionAbsolute.y-r}:n}},Zd=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};let o=e.reduce((r,n)=>{let{x:a,y:s}=vs(n,t).positionAbsolute;return Wk(r,jd({x:a,y:s,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return $k(o)};var tO=(e,t,[o,r,n]=[0,0,1],a=!1,s=!1,i=[0,0])=>{let u={x:(t.x-o)/n,y:(t.y-r)/n,width:t.width/n,height:t.height/n},c=[];return e.forEach(d=>{let{width:f,height:p,selectable:m=!0,hidden:y=!1}=d;if(s&&!m||y)return!1;let{positionAbsolute:g}=vs(d,i),v={x:g.x,y:g.y,width:f||0,height:p||0},x=jC(u,v),w=typeof f>"u"||typeof p>"u"||f===null||p===null,C=a&&x>0,S=(f||0)*(p||0);(w||C||x>=S||d.dragging)&&c.push(d)}),c},oO=(e,t)=>{let o=e.map(r=>r.id);return t.filter(r=>o.includes(r.source)||o.includes(r.target))};var rO=(e,t,o,r,n,a=.1)=>{let s=t/(e.width*(1+a)),i=o/(e.height*(1+a)),u=Math.min(s,i),c=Ru(u,r,n),d=e.x+e.width/2,f=e.y+e.height/2,p=t/2-d*c,m=o/2-f*c;return{x:p,y:m,zoom:c}},Pi=(e,t=0)=>e.transition().duration(t);function Sk(e,t,o,r){return(t[o]||[]).reduce((n,a)=>(`${e.id}-${a.id}-${o}`!==r&&n.push({id:a.id||null,type:o,nodeId:e.id,x:(e.positionAbsolute?.x??0)+a.x+a.width/2,y:(e.positionAbsolute?.y??0)+a.y+a.height/2}),n),[])}function D8(e,t,o,r,n,a){let{x:s,y:i}=xs(e),c=t.elementsFromPoint(s,i).find(y=>y.classList.contains("react-flow__handle"));if(c){let y=c.getAttribute("data-nodeid");if(y){let g=lS(void 0,c),v=c.getAttribute("data-handleid"),x=a({nodeId:y,id:v,type:g});if(x){let w=n.find(C=>C.nodeId===y&&C.type===g&&C.id===v);return{handle:{id:v,type:g,nodeId:y,x:w?.x||o.x,y:w?.y||o.y},validHandleResult:x}}}}let d=[],f=1/0;if(n.forEach(y=>{let g=Math.sqrt((y.x-o.x)**2+(y.y-o.y)**2);if(g<=r){let v=a(y);g<=f&&(g<f?d=[{handle:y,validHandleResult:v}]:g===f&&d.push({handle:y,validHandleResult:v}),f=g)}}),!d.length)return{handle:null,validHandleResult:nO()};if(d.length===1)return d[0];let p=d.some(({validHandleResult:y})=>y.isValid),m=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:g})=>m?y.type==="target":p?g.isValid:!0)||d[0]}var A8={source:null,target:null,sourceHandle:null,targetHandle:null},nO=()=>({handleDomNode:null,isValid:!1,connection:A8,endHandle:null});function aO(e,t,o,r,n,a,s){let i=n==="target",u=s.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),c={...nO(),handleDomNode:u};if(u){let d=lS(void 0,u),f=u.getAttribute("data-nodeid"),p=u.getAttribute("data-handleid"),m=u.classList.contains("connectable"),y=u.classList.contains("connectableend"),g={source:i?f:o,sourceHandle:i?p:r,target:i?o:f,targetHandle:i?r:p};c.connection=g,m&&y&&(t===Mi.Strict?i&&d==="source"||!i&&d==="target":f!==o||p!==r)&&(c.endHandle={nodeId:f,handleId:p,type:d},c.isValid=a(g))}return c}function k8({nodes:e,nodeId:t,handleId:o,handleType:r}){return e.reduce((n,a)=>{if(a[Lt]){let{handleBounds:s}=a[Lt],i=[],u=[];s&&(i=Sk(a,s,"source",`${t}-${o}-${r}`),u=Sk(a,s,"target",`${t}-${o}-${r}`)),n.push(...i,...u)}return n},[])}function lS(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function zC(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function O8(e,t){let o=null;return t?o="valid":e&&!t&&(o="invalid"),o}function sO({event:e,handleId:t,nodeId:o,onConnect:r,isTarget:n,getState:a,setState:s,isValidConnection:i,edgeUpdaterType:u,onReconnectEnd:c}){let d=qk(e.target),{connectionMode:f,domNode:p,autoPanOnConnect:m,connectionRadius:y,onConnectStart:g,panBy:v,getNodes:x,cancelConnection:w}=a(),C=0,S,{x:b,y:R}=xs(e),P=d?.elementFromPoint(b,R),M=lS(u,P),T=p?.getBoundingClientRect();if(!T||!M)return;let _,F=xs(e,T),k=!1,N=null,I=!1,A=null,L=k8({nodes:x(),nodeId:o,handleId:t,handleType:M}),D=()=>{if(!m)return;let[V,B]=zk(F,T);v({x:V,y:B}),C=requestAnimationFrame(D)};s({connectionPosition:F,connectionStatus:null,connectionNodeId:o,connectionHandleId:t,connectionHandleType:M,connectionStartHandle:{nodeId:o,handleId:t,type:M},connectionEndHandle:null}),g?.(e,{nodeId:o,handleId:t,handleType:M});function O(V){let{transform:B}=a();F=xs(V,T);let{handle:U,validHandleResult:$}=D8(V,d,QC(F,B,!1,[1,1]),y,L,G=>aO(G,f,o,t,n?"target":"source",i,d));if(S=U,k||(D(),k=!0),A=$.handleDomNode,N=$.connection,I=$.isValid,s({connectionPosition:S&&I?eO({x:S.x,y:S.y},B):F,connectionStatus:O8(!!S,I),connectionEndHandle:$.endHandle}),!S&&!I&&!A)return zC(_);N.source!==N.target&&A&&(zC(_),_=A,A.classList.add("connecting","react-flow__handle-connecting"),A.classList.toggle("valid",I),A.classList.toggle("react-flow__handle-valid",I))}function E(V){(S||A)&&N&&I&&r?.(N),a().onConnectEnd?.(V),u&&c?.(V),zC(_),w(),cancelAnimationFrame(C),k=!1,I=!1,N=null,A=null,d.removeEventListener("mousemove",O),d.removeEventListener("mouseup",E),d.removeEventListener("touchmove",O),d.removeEventListener("touchend",E)}d.addEventListener("mousemove",O),d.addEventListener("mouseup",E),d.addEventListener("touchmove",O),d.addEventListener("touchend",E)}var bk=()=>!0,N8=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),_8=(e,t,o)=>r=>{let{connectionStartHandle:n,connectionEndHandle:a,connectionClickStartHandle:s}=r;return{connecting:n?.nodeId===e&&n?.handleId===t&&n?.type===o||a?.nodeId===e&&a?.handleId===t&&a?.type===o,clickConnecting:s?.nodeId===e&&s?.handleId===t&&s?.type===o}},iO=Hk(({type:e="source",position:t=ie.Top,isValidConnection:o,isConnectable:r=!0,isConnectableStart:n=!0,isConnectableEnd:a=!0,id:s,onConnect:i,children:u,className:c,onMouseDown:d,onTouchStart:f,...p},m)=>{let y=s||null,g=e==="target",v=At(),x=L8(),{connectOnClick:w,noPanClassName:C}=je(N8,It),{connecting:S,clickConnecting:b}=je(_8(x,y,e),It);x||v.getState().onError?.("010",Un.error010());let R=T=>{let{defaultEdgeOptions:_,onConnect:F,hasDefaultEdges:k}=v.getState(),N={..._,...T};if(k){let{edges:I,setEdges:A}=v.getState();A(iS(N,I))}F?.(N),i?.(N)},P=T=>{if(!x)return;let _=Yk(T);n&&(_&&T.button===0||!_)&&sO({event:T,handleId:y,nodeId:x,onConnect:R,isTarget:g,getState:v.getState,setState:v.setState,isValidConnection:o||v.getState().isValidConnection||bk}),_?d?.(T):f?.(T)},M=T=>{let{onClickConnectStart:_,onClickConnectEnd:F,connectionClickStartHandle:k,connectionMode:N,isValidConnection:I}=v.getState();if(!x||!k&&!n)return;if(!k){_?.(T,{nodeId:x,handleId:y,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:y}});return}let A=qk(T.target),L=o||I||bk,{connection:D,isValid:O}=aO({nodeId:x,id:y,type:e},N,k.nodeId,k.handleId||null,k.type,L,A);O&&R(D),F?.(T),v.setState({connectionClickStartHandle:null})};return Y.createElement("div",{"data-handleid":y,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${y}-${e}`,className:ht(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,c,{source:!g,target:g,connectable:r,connectablestart:n,connectableend:a,connecting:b,connectionindicator:r&&(n&&!S||a&&S)}]),onMouseDown:P,onTouchStart:P,onClick:w?M:void 0,ref:m,...p},u)});iO.displayName="Handle";var Ei=Vt(iO),lO=({data:e,isConnectable:t,targetPosition:o=ie.Top,sourcePosition:r=ie.Bottom})=>Y.createElement(Y.Fragment,null,Y.createElement(Ei,{type:"target",position:o,isConnectable:t}),e?.label,Y.createElement(Ei,{type:"source",position:r,isConnectable:t}));lO.displayName="DefaultNode";var ZC=Vt(lO),uO=({data:e,isConnectable:t,sourcePosition:o=ie.Bottom})=>Y.createElement(Y.Fragment,null,e?.label,Y.createElement(Ei,{type:"source",position:o,isConnectable:t}));uO.displayName="InputNode";var cO=Vt(uO),dO=({data:e,isConnectable:t,targetPosition:o=ie.Top})=>Y.createElement(Y.Fragment,null,Y.createElement(Ei,{type:"target",position:o,isConnectable:t}),e?.label);dO.displayName="OutputNode";var fO=Vt(dO),uS=()=>null;uS.displayName="GroupNode";var F8=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Sg=e=>e.id;function B8(e,t){return It(e.selectedNodes.map(Sg),t.selectedNodes.map(Sg))&&It(e.selectedEdges.map(Sg),t.selectedEdges.map(Sg))}var pO=Vt(({onSelectionChange:e})=>{let t=At(),{selectedNodes:o,selectedEdges:r}=je(F8,B8);return Pt(()=>{let n={nodes:o,edges:r};e?.(n),t.getState().onSelectionChange.forEach(a=>a(n))},[o,r,e]),null});pO.displayName="SelectionListener";var V8=e=>!!e.onSelectionChange;function H8({onSelectionChange:e}){let t=je(V8);return e||t?Y.createElement(pO,{onSelectionChange:e}):null}var U8=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function xu(e,t){Pt(()=>{typeof e<"u"&&t(e)},[e])}function Ie(e,t,o){Pt(()=>{typeof t<"u"&&o({[e]:t})},[t])}var z8=({nodes:e,edges:t,defaultNodes:o,defaultEdges:r,onConnect:n,onConnectStart:a,onConnectEnd:s,onClickConnectStart:i,onClickConnectEnd:u,nodesDraggable:c,nodesConnectable:d,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:g,maxZoom:v,nodeExtent:x,onNodesChange:w,onEdgesChange:C,elementsSelectable:S,connectionMode:b,snapGrid:R,snapToGrid:P,translateExtent:M,connectOnClick:T,defaultEdgeOptions:_,fitView:F,fitViewOptions:k,onNodesDelete:N,onEdgesDelete:I,onNodeDrag:A,onNodeDragStart:L,onNodeDragStop:D,onSelectionDrag:O,onSelectionDragStart:E,onSelectionDragStop:V,noPanClassName:B,nodeOrigin:U,rfId:$,autoPanOnConnect:G,autoPanOnNodeDrag:H,onError:q,connectionRadius:z,isValidConnection:j,nodeDragThreshold:X})=>{let{setNodes:K,setEdges:re,setDefaultNodesAndEdges:ne,setMinZoom:me,setMaxZoom:Ce,setTranslateExtent:Me,setNodeExtent:We,reset:ye}=je(U8,It),oe=At();return Pt(()=>{let Fe=r?.map(Ct=>({...Ct,..._}));return ne(o,Fe),()=>{ye()}},[]),Ie("defaultEdgeOptions",_,oe.setState),Ie("connectionMode",b,oe.setState),Ie("onConnect",n,oe.setState),Ie("onConnectStart",a,oe.setState),Ie("onConnectEnd",s,oe.setState),Ie("onClickConnectStart",i,oe.setState),Ie("onClickConnectEnd",u,oe.setState),Ie("nodesDraggable",c,oe.setState),Ie("nodesConnectable",d,oe.setState),Ie("nodesFocusable",f,oe.setState),Ie("edgesFocusable",p,oe.setState),Ie("edgesUpdatable",m,oe.setState),Ie("elementsSelectable",S,oe.setState),Ie("elevateNodesOnSelect",y,oe.setState),Ie("snapToGrid",P,oe.setState),Ie("snapGrid",R,oe.setState),Ie("onNodesChange",w,oe.setState),Ie("onEdgesChange",C,oe.setState),Ie("connectOnClick",T,oe.setState),Ie("fitViewOnInit",F,oe.setState),Ie("fitViewOnInitOptions",k,oe.setState),Ie("onNodesDelete",N,oe.setState),Ie("onEdgesDelete",I,oe.setState),Ie("onNodeDrag",A,oe.setState),Ie("onNodeDragStart",L,oe.setState),Ie("onNodeDragStop",D,oe.setState),Ie("onSelectionDrag",O,oe.setState),Ie("onSelectionDragStart",E,oe.setState),Ie("onSelectionDragStop",V,oe.setState),Ie("noPanClassName",B,oe.setState),Ie("nodeOrigin",U,oe.setState),Ie("rfId",$,oe.setState),Ie("autoPanOnConnect",G,oe.setState),Ie("autoPanOnNodeDrag",H,oe.setState),Ie("onError",q,oe.setState),Ie("connectionRadius",z,oe.setState),Ie("isValidConnection",j,oe.setState),Ie("nodeDragThreshold",X,oe.setState),xu(e,K),xu(t,re),xu(g,me),xu(v,Ce),xu(M,Me),xu(x,We),null},Ik={display:"none"},q8={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},mO="react-flow__node-desc",hO="react-flow__edge-desc",W8="react-flow__aria-live",$8=e=>e.ariaLiveMessage;function G8({rfId:e}){let t=je($8);return Y.createElement("div",{id:`${W8}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:q8},t)}function j8({rfId:e,disableKeyboardA11y:t}){return Y.createElement(Y.Fragment,null,Y.createElement("div",{id:`${mO}-${e}`,style:Ik},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Y.createElement("div",{id:`${hO}-${e}`,style:Ik},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&Y.createElement(G8,{rfId:e}))}var Yd=(e=null,t={actInsideInputWithModifier:!0})=>{let[o,r]=Iu(!1),n=De(!1),a=De(new Set([])),[s,i]=Hn(()=>{if(e!==null){let c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=c.reduce((f,p)=>f.concat(...p),[]);return[c,d]}return[[],[]]},[e]);return Pt(()=>{let u=typeof document<"u"?document:null,c=t?.target||u;if(e!==null){let d=m=>{if(n.current=m.ctrlKey||m.metaKey||m.shiftKey,(!n.current||n.current&&!t.actInsideInputWithModifier)&&KC(m))return!1;let g=Pk(m.code,i);a.current.add(m[g]),Rk(s,a.current,!1)&&(m.preventDefault(),r(!0))},f=m=>{if((!n.current||n.current&&!t.actInsideInputWithModifier)&&KC(m))return!1;let g=Pk(m.code,i);Rk(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(m[g]),m.key==="Meta"&&a.current.clear(),n.current=!1},p=()=>{a.current.clear(),r(!1)};return c?.addEventListener("keydown",d),c?.addEventListener("keyup",f),window.addEventListener("blur",p),()=>{c?.removeEventListener("keydown",d),c?.removeEventListener("keyup",f),window.removeEventListener("blur",p)}}},[e,r]),o};function Rk(e,t,o){return e.filter(r=>o||r.length===t.size).some(r=>r.every(n=>t.has(n)))}function Pk(e,t){return t.includes(e)?"code":"key"}function gO(e,t,o,r){let n=e.parentNode||e.parentId;if(!n)return o;let a=t.get(n),s=vs(a,r);return gO(a,t,{x:(o.x??0)+s.x,y:(o.y??0)+s.y,z:(a[Lt]?.z??0)>(o.z??0)?a[Lt]?.z??0:o.z??0},r)}function yO(e,t,o){e.forEach(r=>{let n=r.parentNode||r.parentId;if(n&&!e.has(n))throw new Error(`Parent node ${n} not found`);if(n||o?.[r.id]){let{x:a,y:s,z:i}=gO(r,e,{...r.position,z:r[Lt]?.z??0},t);r.positionAbsolute={x:a,y:s},r[Lt].z=i,o?.[r.id]&&(r[Lt].isParent=!0)}})}function qC(e,t,o,r){let n=new Map,a={},s=r?1e3:0;return e.forEach(i=>{let u=(Wr(i.zIndex)?i.zIndex:0)+(i.selected?s:0),c=t.get(i.id),d={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},f=i.parentNode||i.parentId;f&&(a[f]=!0);let p=c?.type&&c?.type!==i.type;Object.defineProperty(d,Lt,{enumerable:!1,value:{handleBounds:p?void 0:c?.[Lt]?.handleBounds,z:u}}),n.set(i.id,d)}),yO(n,o,a),n}function xO(e,t={}){let{getNodes:o,width:r,height:n,minZoom:a,maxZoom:s,d3Zoom:i,d3Selection:u,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:f}=e(),p=t.initial&&!c&&d;if(i&&u&&(p||!t.initial)){let y=o().filter(v=>{let x=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return t.nodes?.length?x&&t.nodes.some(w=>w.id===v.id):x}),g=y.every(v=>v.width&&v.height);if(y.length>0&&g){let v=Zd(y,f),{x,y:w,zoom:C}=rO(v,r,n,t.minZoom??a,t.maxZoom??s,t.padding??.1),S=ur.translate(x,w).scale(C);return typeof t.duration=="number"&&t.duration>0?i.transform(Pi(u,t.duration),S):i.transform(u,S),!0}}return!1}function K8(e,t){return e.forEach(o=>{let r=t.get(o.id);r&&t.set(r.id,{...r,[Lt]:r[Lt],selected:o.selected})}),new Map(t)}function Y8(e,t){return t.map(o=>{let r=e.find(n=>n.id===o.id);return r&&(o.selected=r.selected),o})}function bg({changedNodes:e,changedEdges:t,get:o,set:r}){let{nodeInternals:n,edges:a,onNodesChange:s,onEdgesChange:i,hasDefaultNodes:u,hasDefaultEdges:c}=o();e?.length&&(u&&r({nodeInternals:K8(e,n)}),s?.(e)),t?.length&&(c&&r({edges:Y8(t,a)}),i?.(t))}var vu=()=>{},X8={zoomIn:vu,zoomOut:vu,zoomTo:vu,getZoom:()=>1,setViewport:vu,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:vu,fitBounds:vu,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Q8=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Z8=()=>{let e=At(),{d3Zoom:t,d3Selection:o}=je(Q8,It);return Hn(()=>o&&t?{zoomIn:n=>t.scaleBy(Pi(o,n?.duration),1.2),zoomOut:n=>t.scaleBy(Pi(o,n?.duration),1/1.2),zoomTo:(n,a)=>t.scaleTo(Pi(o,a?.duration),n),getZoom:()=>e.getState().transform[2],setViewport:(n,a)=>{let[s,i,u]=e.getState().transform,c=ur.translate(n.x??s,n.y??i).scale(n.zoom??u);t.transform(Pi(o,a?.duration),c)},getViewport:()=>{let[n,a,s]=e.getState().transform;return{x:n,y:a,zoom:s}},fitView:n=>xO(e.getState,n),setCenter:(n,a,s)=>{let{width:i,height:u,maxZoom:c}=e.getState(),d=typeof s?.zoom<"u"?s.zoom:c,f=i/2-n*d,p=u/2-a*d,m=ur.translate(f,p).scale(d);t.transform(Pi(o,s?.duration),m)},fitBounds:(n,a)=>{let{width:s,height:i,minZoom:u,maxZoom:c}=e.getState(),{x:d,y:f,zoom:p}=rO(n,s,i,u,c,a?.padding??.1),m=ur.translate(d,f).scale(p);t.transform(Pi(o,a?.duration),m)},project:n=>{let{transform:a,snapToGrid:s,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),QC(n,a,s,i)},screenToFlowPosition:n=>{let{transform:a,snapToGrid:s,snapGrid:i,domNode:u}=e.getState();if(!u)return n;let{x:c,y:d}=u.getBoundingClientRect(),f={x:n.x-c,y:n.y-d};return QC(f,a,s,i)},flowToScreenPosition:n=>{let{transform:a,domNode:s}=e.getState();if(!s)return n;let{x:i,y:u}=s.getBoundingClientRect(),c=eO(n,a);return{x:c.x+i,y:c.y+u}},viewportInitialized:!0}:X8,[t,o])};function Dg(){let e=Z8(),t=At(),o=Bt(()=>t.getState().getNodes().map(g=>({...g})),[]),r=Bt(g=>t.getState().nodeInternals.get(g),[]),n=Bt(()=>{let{edges:g=[]}=t.getState();return g.map(v=>({...v}))},[]),a=Bt(g=>{let{edges:v=[]}=t.getState();return v.find(x=>x.id===g)},[]),s=Bt(g=>{let{getNodes:v,setNodes:x,hasDefaultNodes:w,onNodesChange:C}=t.getState(),S=v(),b=typeof g=="function"?g(S):g;if(w)x(b);else if(C){let R=b.length===0?S.map(P=>({type:"remove",id:P.id})):b.map(P=>({item:P,type:"reset"}));C(R)}},[]),i=Bt(g=>{let{edges:v=[],setEdges:x,hasDefaultEdges:w,onEdgesChange:C}=t.getState(),S=typeof g=="function"?g(v):g;if(w)x(S);else if(C){let b=S.length===0?v.map(R=>({type:"remove",id:R.id})):S.map(R=>({item:R,type:"reset"}));C(b)}},[]),u=Bt(g=>{let v=Array.isArray(g)?g:[g],{getNodes:x,setNodes:w,hasDefaultNodes:C,onNodesChange:S}=t.getState();if(C){let R=[...x(),...v];w(R)}else if(S){let b=v.map(R=>({item:R,type:"add"}));S(b)}},[]),c=Bt(g=>{let v=Array.isArray(g)?g:[g],{edges:x=[],setEdges:w,hasDefaultEdges:C,onEdgesChange:S}=t.getState();if(C)w([...x,...v]);else if(S){let b=v.map(R=>({item:R,type:"add"}));S(b)}},[]),d=Bt(()=>{let{getNodes:g,edges:v=[],transform:x}=t.getState(),[w,C,S]=x;return{nodes:g().map(b=>({...b})),edges:v.map(b=>({...b})),viewport:{x:w,y:C,zoom:S}}},[]),f=Bt(({nodes:g,edges:v})=>{let{nodeInternals:x,getNodes:w,edges:C,hasDefaultNodes:S,hasDefaultEdges:b,onNodesDelete:R,onEdgesDelete:P,onNodesChange:M,onEdgesChange:T}=t.getState(),_=(g||[]).map(A=>A.id),F=(v||[]).map(A=>A.id),k=w().reduce((A,L)=>{let D=L.parentNode||L.parentId,O=!_.includes(L.id)&&D&&A.find(V=>V.id===D);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(_.includes(L.id)||O)&&A.push(L),A},[]),N=C.filter(A=>typeof A.deletable=="boolean"?A.deletable:!0),I=N.filter(A=>F.includes(A.id));if(k||I){let A=oO(k,N),L=[...I,...A],D=L.reduce((O,E)=>(O.includes(E.id)||O.push(E.id),O),[]);if((b||S)&&(b&&t.setState({edges:C.filter(O=>!D.includes(O.id))}),S&&(k.forEach(O=>{x.delete(O.id)}),t.setState({nodeInternals:new Map(x)}))),D.length>0&&(P?.(L),T&&T(D.map(O=>({id:O,type:"remove"})))),k.length>0&&(R?.(k),M)){let O=k.map(E=>({id:E.id,type:"remove"}));M(O)}}},[]),p=Bt(g=>{let v=w8(g),x=v?null:t.getState().nodeInternals.get(g.id);return!v&&!x?[null,null,v]:[v?g:yk(x),x,v]},[]),m=Bt((g,v=!0,x)=>{let[w,C,S]=p(g);return w?(x||t.getState().getNodes()).filter(b=>{if(!S&&(b.id===C.id||!b.positionAbsolute))return!1;let R=yk(b),P=jC(R,w);return v&&P>0||P>=w.width*w.height}):[]},[]),y=Bt((g,v,x=!0)=>{let[w]=p(g);if(!w)return!1;let C=jC(w,v);return x&&C>0||C>=w.width*w.height},[]);return Hn(()=>({...e,getNodes:o,getNode:r,getEdges:n,getEdge:a,setNodes:s,setEdges:i,addNodes:u,addEdges:c,toObject:d,deleteElements:f,getIntersectingNodes:m,isNodeIntersecting:y}),[e,o,r,n,a,s,i,u,c,d,f,m,y])}var J8={actInsideInputWithModifier:!1},eY=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{let o=At(),{deleteElements:r}=Dg(),n=Yd(e,J8),a=Yd(t);Pt(()=>{if(n){let{edges:s,getNodes:i}=o.getState(),u=i().filter(d=>d.selected),c=s.filter(d=>d.selected);r({nodes:u,edges:c}),o.setState({nodesSelectionActive:!1})}},[n]),Pt(()=>{o.setState({multiSelectionActive:a})},[a])};function tY(e){let t=At();Pt(()=>{let o,r=()=>{if(!e.current)return;let n=tS(e.current);(n.height===0||n.width===0)&&t.getState().onError?.("004",Un.error004()),t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(o=new ResizeObserver(()=>r()),o.observe(e.current)),()=>{window.removeEventListener("resize",r),o&&e.current&&o.unobserve(e.current)}},[])}var cS={position:"absolute",width:"100%",height:"100%",top:0,left:0},oY=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ig=e=>({x:e.x,y:e.y,zoom:e.k}),wu=(e,t)=>e.target.closest(`.${t}`),Lk=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Mk=e=>{let t=e.ctrlKey&&Rg()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},rY=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),nY=({onMove:e,onMoveStart:t,onMoveEnd:o,onPaneContextMenu:r,zoomOnScroll:n=!0,zoomOnPinch:a=!0,panOnScroll:s=!1,panOnScrollSpeed:i=.5,panOnScrollMode:u=Li.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:p,translateExtent:m,minZoom:y,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:x=!0,children:w,noWheelClassName:C,noPanClassName:S})=>{let b=De(),R=At(),P=De(!1),M=De(!1),T=De(null),_=De({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:k,d3ZoomHandler:N,userSelectionActive:I}=je(rY,It),A=Yd(v),L=De(0),D=De(!1),O=De();return tY(T),Pt(()=>{if(T.current){let E=T.current.getBoundingClientRect(),V=qd().scaleExtent([y,g]).translateExtent(m),B=io(T.current).call(V),U=ur.translate(p.x,p.y).scale(Ru(p.zoom,y,g)),$=[[0,0],[E.width,E.height]],G=V.constrain()(U,$,m);V.transform(B,G),V.wheelDelta(Mk),R.setState({d3Zoom:V,d3Selection:B,d3ZoomHandler:B.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:T.current.closest(".react-flow")})}},[]),Pt(()=>{k&&F&&(s&&!A&&!I?k.on("wheel.zoom",E=>{if(wu(E,C))return!1;E.preventDefault(),E.stopImmediatePropagation();let V=k.property("__zoom").k||1;if(E.ctrlKey&&a){let j=ko(E),X=Mk(E),K=V*Math.pow(2,X);F.scaleTo(k,K,j,E);return}let B=E.deltaMode===1?20:1,U=u===Li.Vertical?0:E.deltaX*B,$=u===Li.Horizontal?0:E.deltaY*B;!Rg()&&E.shiftKey&&u!==Li.Vertical&&(U=E.deltaY*B,$=0),F.translateBy(k,-(U/V)*i,-($/V)*i,{internal:!0});let G=Ig(k.property("__zoom")),{onViewportChangeStart:H,onViewportChange:q,onViewportChangeEnd:z}=R.getState();clearTimeout(O.current),D.current||(D.current=!0,t?.(E,G),H?.(G)),D.current&&(e?.(E,G),q?.(G),O.current=setTimeout(()=>{o?.(E,G),z?.(G),D.current=!1},150))},{passive:!1}):typeof N<"u"&&k.on("wheel.zoom",function(E,V){if(!x&&E.type==="wheel"&&!E.ctrlKey||wu(E,C))return null;E.preventDefault(),N.call(this,E,V)},{passive:!1}))},[I,s,u,k,F,N,A,a,x,C,t,e,o]),Pt(()=>{F&&F.on("start",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;L.current=E.sourceEvent?.button;let{onViewportChangeStart:V}=R.getState(),B=Ig(E.transform);P.current=!0,_.current=B,E.sourceEvent?.type==="mousedown"&&R.setState({paneDragging:!0}),V?.(B),t?.(E.sourceEvent,B)})},[F,t]),Pt(()=>{F&&(I&&!P.current?F.on("zoom",null):I||F.on("zoom",E=>{let{onViewportChange:V}=R.getState();if(R.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),M.current=!!(r&&Lk(f,L.current??0)),(e||V)&&!E.sourceEvent?.internal){let B=Ig(E.transform);V?.(B),e?.(E.sourceEvent,B)}}))},[I,F,e,f,r]),Pt(()=>{F&&F.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;let{onViewportChangeEnd:V}=R.getState();if(P.current=!1,R.setState({paneDragging:!1}),r&&Lk(f,L.current??0)&&!M.current&&r(E.sourceEvent),M.current=!1,(o||V)&&oY(_.current,E.transform)){let B=Ig(E.transform);_.current=B,clearTimeout(b.current),b.current=setTimeout(()=>{V?.(B),o?.(E.sourceEvent,B)},s?150:0)}})},[F,s,f,o,r]),Pt(()=>{F&&F.filter(E=>{let V=A||n,B=a&&E.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&E.button===1&&E.type==="mousedown"&&(wu(E,"react-flow__node")||wu(E,"react-flow__edge")))return!0;if(!f&&!V&&!s&&!c&&!a||I||!c&&E.type==="dblclick"||wu(E,C)&&E.type==="wheel"||wu(E,S)&&(E.type!=="wheel"||s&&E.type==="wheel"&&!A)||!a&&E.ctrlKey&&E.type==="wheel"||!V&&!s&&!B&&E.type==="wheel"||!f&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(f)&&!f.includes(E.button)&&E.type==="mousedown")return!1;let U=Array.isArray(f)&&f.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&U})},[I,F,n,a,s,c,f,d,A]),Y.createElement("div",{className:"react-flow__renderer",ref:T,style:cS},w)},aY=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function sY(){let{userSelectionActive:e,userSelectionRect:t}=je(aY,It);return e&&t?Y.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Ek(e,t){let o=t.parentNode||t.parentId,r=e.find(n=>n.id===o);if(r){let n=t.position.x+t.width-r.width,a=t.position.y+t.height-r.height;if(n>0||a>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,n>0&&(r.style.width+=n),a>0&&(r.style.height+=a),t.position.x<0){let s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){let s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function vO(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);let o=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,n)=>{let a=e.filter(i=>i.id===n.id);if(a.length===0)return r.push(n),r;let s={...n};for(let i of a)if(i)switch(i.type){case"select":{s.selected=i.selected;break}case"position":{typeof i.position<"u"&&(s.position=i.position),typeof i.positionAbsolute<"u"&&(s.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(s.dragging=i.dragging),s.expandParent&&Ek(r,s);break}case"dimensions":{typeof i.dimensions<"u"&&(s.width=i.dimensions.width,s.height=i.dimensions.height),typeof i.updateStyle<"u"&&(s.style={...s.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(s.resizing=i.resizing),s.expandParent&&Ek(r,s);break}case"remove":return r}return r.push(s),r},o)}function wO(e,t){return vO(e,t)}function iY(e,t){return vO(e,t)}var ys=(e,t)=>({id:e,type:"select",selected:t});function Su(e,t){return e.reduce((o,r)=>{let n=t.includes(r.id);return!r.selected&&n?(r.selected=!0,o.push(ys(r.id,!0))):r.selected&&!n&&(r.selected=!1,o.push(ys(r.id,!1))),o},[])}var WC=(e,t)=>o=>{o.target===t.current&&e?.(o)},lY=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),CO=Vt(({isSelecting:e,selectionMode:t=Kd.Full,panOnDrag:o,onSelectionStart:r,onSelectionEnd:n,onPaneClick:a,onPaneContextMenu:s,onPaneScroll:i,onPaneMouseEnter:u,onPaneMouseMove:c,onPaneMouseLeave:d,children:f})=>{let p=De(null),m=At(),y=De(0),g=De(0),v=De(),{userSelectionActive:x,elementsSelectable:w,dragging:C}=je(lY,It),S=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,g.current=0},b=N=>{a?.(N),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},R=N=>{if(Array.isArray(o)&&o?.includes(2)){N.preventDefault();return}s?.(N)},P=i?N=>i(N):void 0,M=N=>{let{resetSelectedElements:I,domNode:A}=m.getState();if(v.current=A?.getBoundingClientRect(),!w||!e||N.button!==0||N.target!==p.current||!v.current)return;let{x:L,y:D}=xs(N,v.current);I(),m.setState({userSelectionRect:{width:0,height:0,startX:L,startY:D,x:L,y:D}}),r?.(N)},T=N=>{let{userSelectionRect:I,nodeInternals:A,edges:L,transform:D,onNodesChange:O,onEdgesChange:E,nodeOrigin:V,getNodes:B}=m.getState();if(!e||!v.current||!I)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});let U=xs(N,v.current),$=I.startX??0,G=I.startY??0,H={...I,x:U.x<$?U.x:$,y:U.y<G?U.y:G,width:Math.abs(U.x-$),height:Math.abs(U.y-G)},q=B(),z=tO(A,H,D,t===Kd.Partial,!0,V),j=oO(z,L).map(K=>K.id),X=z.map(K=>K.id);if(y.current!==X.length){y.current=X.length;let K=Su(q,X);K.length&&O?.(K)}if(g.current!==j.length){g.current=j.length;let K=Su(L,j);K.length&&E?.(K)}m.setState({userSelectionRect:H})},_=N=>{if(N.button!==0)return;let{userSelectionRect:I}=m.getState();!x&&I&&N.target===p.current&&b?.(N),m.setState({nodesSelectionActive:y.current>0}),S(),n?.(N)},F=N=>{x&&(m.setState({nodesSelectionActive:y.current>0}),n?.(N)),S()},k=w&&(e||x);return Y.createElement("div",{className:ht(["react-flow__pane",{dragging:C,selection:e}]),onClick:k?void 0:WC(b,p),onContextMenu:WC(R,p),onWheel:WC(P,p),onMouseEnter:k?void 0:u,onMouseDown:k?M:void 0,onMouseMove:k?T:c,onMouseUp:k?_:void 0,onMouseLeave:k?F:d,ref:p,style:cS},f,Y.createElement(sY,null))});CO.displayName="Pane";function SO(e,t){let o=e.parentNode||e.parentId;if(!o)return!1;let r=t.get(o);return r?r.selected?!0:SO(r,t):!1}function Tk(e,t,o){let r=e;do{if(r?.matches(t))return!0;if(r===o.current)return!1;r=r.parentElement}while(r);return!1}function uY(e,t,o,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!SO(n,e))&&(n.draggable||t&&typeof n.draggable>"u")).map(n=>({id:n.id,position:n.position||{x:0,y:0},positionAbsolute:n.positionAbsolute||{x:0,y:0},distance:{x:o.x-(n.positionAbsolute?.x??0),y:o.y-(n.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:n.extent,parentNode:n.parentNode||n.parentId,parentId:n.parentNode||n.parentId,width:n.width,height:n.height,expandParent:n.expandParent}))}function cY(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function bO(e,t,o,r,n=[0,0],a){let s=cY(e,e.extent||r),i=s,u=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(u&&e.width&&e.height){let f=o.get(u),{x:p,y:m}=vs(f,n).positionAbsolute;i=f&&Wr(p)&&Wr(m)&&Wr(f.width)&&Wr(f.height)?[[p+e.width*n[0],m+e.height*n[1]],[p+f.width-e.width+e.width*n[0],m+f.height-e.height+e.height*n[1]]]:i}else a?.("005",Un.error005()),i=s;else if(e.extent&&u&&e.extent!=="parent"){let f=o.get(u),{x:p,y:m}=vs(f,n).positionAbsolute;i=[[e.extent[0][0]+p,e.extent[0][1]+m],[e.extent[1][0]+p,e.extent[1][1]+m]]}let c={x:0,y:0};if(u){let f=o.get(u);c=vs(f,n).positionAbsolute}let d=i&&i!=="parent"?oS(t,i):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function $C({nodeId:e,dragItems:t,nodeInternals:o}){let r=t.map(n=>({...o.get(n.id),position:n.position,positionAbsolute:n.positionAbsolute}));return[e?r.find(n=>n.id===e):r[0],r]}var Dk=(e,t,o,r)=>{let n=t.querySelectorAll(e);if(!n||!n.length)return null;let a=Array.from(n),s=t.getBoundingClientRect(),i={x:s.width*r[0],y:s.height*r[1]};return a.map(u=>{let c=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(c.left-s.left-i.x)/o,y:(c.top-s.top-i.y)/o,...tS(u)}})};function $d(e,t,o){return o===void 0?o:r=>{let n=t().nodeInternals.get(e);n&&o(r,{...n})}}function JC({id:e,store:t,unselect:o=!1,nodeRef:r}){let{addSelectedNodes:n,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:i,onError:u}=t.getState(),c=i.get(e);if(!c){u?.("012",Un.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(o||c.selected&&s)&&(a({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):n([e])}function dY(){let e=At();return Bt(({sourceEvent:o})=>{let{transform:r,snapGrid:n,snapToGrid:a}=e.getState(),s=o.touches?o.touches[0].clientX:o.clientX,i=o.touches?o.touches[0].clientY:o.clientY,u={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:a?n[0]*Math.round(u.x/n[0]):u.x,ySnapped:a?n[1]*Math.round(u.y/n[1]):u.y,...u}},[])}function GC(e){return(t,o,r)=>e?.(t,r)}function IO({nodeRef:e,disabled:t=!1,noDragClassName:o,handleSelector:r,nodeId:n,isSelectable:a,selectNodesOnDrag:s}){let i=At(),[u,c]=Iu(!1),d=De([]),f=De({x:null,y:null}),p=De(0),m=De(null),y=De({x:0,y:0}),g=De(null),v=De(!1),x=De(!1),w=De(!1),C=dY();return Pt(()=>{if(e?.current){let S=io(e.current),b=({x:M,y:T})=>{let{nodeInternals:_,onNodeDrag:F,onSelectionDrag:k,updateNodePositions:N,nodeExtent:I,snapGrid:A,snapToGrid:L,nodeOrigin:D,onError:O}=i.getState();f.current={x:M,y:T};let E=!1,V={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&I){let U=Zd(d.current,D);V=jd(U)}if(d.current=d.current.map(U=>{let $={x:M-U.distance.x,y:T-U.distance.y};L&&($.x=A[0]*Math.round($.x/A[0]),$.y=A[1]*Math.round($.y/A[1]));let G=[[I[0][0],I[0][1]],[I[1][0],I[1][1]]];d.current.length>1&&I&&!U.extent&&(G[0][0]=U.positionAbsolute.x-V.x+I[0][0],G[1][0]=U.positionAbsolute.x+(U.width??0)-V.x2+I[1][0],G[0][1]=U.positionAbsolute.y-V.y+I[0][1],G[1][1]=U.positionAbsolute.y+(U.height??0)-V.y2+I[1][1]);let H=bO(U,$,_,G,D,O);return E=E||U.position.x!==H.position.x||U.position.y!==H.position.y,U.position=H.position,U.positionAbsolute=H.positionAbsolute,U}),!E)return;N(d.current,!0,!0),c(!0);let B=n?F:GC(k);if(B&&g.current){let[U,$]=$C({nodeId:n,dragItems:d.current,nodeInternals:_});B(g.current,U,$)}},R=()=>{if(!m.current)return;let[M,T]=zk(y.current,m.current);if(M!==0||T!==0){let{transform:_,panBy:F}=i.getState();f.current.x=(f.current.x??0)-M/_[2],f.current.y=(f.current.y??0)-T/_[2],F({x:M,y:T})&&b(f.current)}p.current=requestAnimationFrame(R)},P=M=>{let{nodeInternals:T,multiSelectionActive:_,nodesDraggable:F,unselectNodesAndEdges:k,onNodeDragStart:N,onSelectionDragStart:I}=i.getState();x.current=!0;let A=n?N:GC(I);(!s||!a)&&!_&&n&&(T.get(n)?.selected||k()),n&&a&&s&&JC({id:n,store:i,nodeRef:e});let L=C(M);if(f.current=L,d.current=uY(T,F,L,n),A&&d.current){let[D,O]=$C({nodeId:n,dragItems:d.current,nodeInternals:T});A(M.sourceEvent,D,O)}};if(t)S.on(".drag",null);else{let M=LC().on("start",T=>{let{domNode:_,nodeDragThreshold:F}=i.getState();F===0&&P(T),w.current=!1;let k=C(T);f.current=k,m.current=_?.getBoundingClientRect()||null,y.current=xs(T.sourceEvent,m.current)}).on("drag",T=>{let _=C(T),{autoPanOnNodeDrag:F,nodeDragThreshold:k}=i.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!v.current&&x.current&&F&&(v.current=!0,R()),!x.current){let N=_.xSnapped-(f?.current?.x??0),I=_.ySnapped-(f?.current?.y??0);Math.sqrt(N*N+I*I)>k&&P(T)}(f.current.x!==_.xSnapped||f.current.y!==_.ySnapped)&&d.current&&x.current&&(g.current=T.sourceEvent,y.current=xs(T.sourceEvent,m.current),b(_))}}).on("end",T=>{if(!(!x.current||w.current)&&(c(!1),v.current=!1,x.current=!1,cancelAnimationFrame(p.current),d.current)){let{updateNodePositions:_,nodeInternals:F,onNodeDragStop:k,onSelectionDragStop:N}=i.getState(),I=n?k:GC(N);if(_(d.current,!1,!1),I){let[A,L]=$C({nodeId:n,dragItems:d.current,nodeInternals:F});I(T.sourceEvent,A,L)}}}).filter(T=>{let _=T.target;return!T.button&&(!o||!Tk(_,`.${o}`,e))&&(!r||Tk(_,r,e))});return S.call(M),()=>{S.on(".drag",null)}}}},[e,t,o,r,a,i,n,s,C]),u}function RO(){let e=At();return Bt(o=>{let{nodeInternals:r,nodeExtent:n,updateNodePositions:a,getNodes:s,snapToGrid:i,snapGrid:u,onError:c,nodesDraggable:d}=e.getState(),f=s().filter(w=>w.selected&&(w.draggable||d&&typeof w.draggable>"u")),p=i?u[0]:5,m=i?u[1]:5,y=o.isShiftPressed?4:1,g=o.x*p*y,v=o.y*m*y,x=f.map(w=>{if(w.positionAbsolute){let C={x:w.positionAbsolute.x+g,y:w.positionAbsolute.y+v};i&&(C.x=u[0]*Math.round(C.x/u[0]),C.y=u[1]*Math.round(C.y/u[1]));let{positionAbsolute:S,position:b}=bO(w,C,r,n,void 0,c);w.position=b,w.positionAbsolute=S}return w});a(x,!0,!1)},[])}var bu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Gd=e=>{let t=({id:o,type:r,data:n,xPos:a,yPos:s,xPosOrigin:i,yPosOrigin:u,selected:c,onClick:d,onMouseEnter:f,onMouseMove:p,onMouseLeave:m,onContextMenu:y,onDoubleClick:g,style:v,className:x,isDraggable:w,isSelectable:C,isConnectable:S,isFocusable:b,selectNodesOnDrag:R,sourcePosition:P,targetPosition:M,hidden:T,resizeObserver:_,dragHandle:F,zIndex:k,isParent:N,noDragClassName:I,noPanClassName:A,initialized:L,disableKeyboardA11y:D,ariaLabel:O,rfId:E,hasHandleBounds:V})=>{let B=At(),U=De(null),$=De(null),G=De(P),H=De(M),q=De(r),z=C||w||d||f||p||m,j=RO(),X=$d(o,B.getState,f),K=$d(o,B.getState,p),re=$d(o,B.getState,m),ne=$d(o,B.getState,y),me=$d(o,B.getState,g),Ce=ye=>{let{nodeDragThreshold:oe}=B.getState();if(C&&(!R||!w||oe>0)&&JC({id:o,store:B,nodeRef:U}),d){let Fe=B.getState().nodeInternals.get(o);Fe&&d(ye,{...Fe})}},Me=ye=>{if(!KC(ye)&&!D)if(jk.includes(ye.key)&&C){let oe=ye.key==="Escape";JC({id:o,store:B,unselect:oe,nodeRef:U})}else w&&c&&Object.prototype.hasOwnProperty.call(bu,ye.key)&&(B.setState({ariaLiveMessage:`Moved selected node ${ye.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~s}`}),j({x:bu[ye.key].x,y:bu[ye.key].y,isShiftPressed:ye.shiftKey}))};Pt(()=>()=>{$.current&&(_?.unobserve($.current),$.current=null)},[]),Pt(()=>{if(U.current&&!T){let ye=U.current;(!L||!V||$.current!==ye)&&($.current&&_?.unobserve($.current),_?.observe(ye),$.current=ye)}},[T,L,V]),Pt(()=>{let ye=q.current!==r,oe=G.current!==P,Fe=H.current!==M;U.current&&(ye||oe||Fe)&&(ye&&(q.current=r),oe&&(G.current=P),Fe&&(H.current=M),B.getState().updateNodeDimensions([{id:o,nodeElement:U.current,forceUpdate:!0}]))},[o,r,P,M]);let We=IO({nodeRef:U,disabled:T||!w,noDragClassName:I,handleSelector:F,nodeId:o,isSelectable:C,selectNodesOnDrag:R});return T?null:Y.createElement("div",{className:ht(["react-flow__node",`react-flow__node-${r}`,{[A]:w},x,{selected:c,selectable:C,parent:N,dragging:We}]),ref:U,style:{zIndex:k,transform:`translate(${i}px,${u}px)`,pointerEvents:z?"all":"none",visibility:L?"visible":"hidden",...v},"data-id":o,"data-testid":`rf__node-${o}`,onMouseEnter:X,onMouseMove:K,onMouseLeave:re,onContextMenu:ne,onClick:Ce,onDoubleClick:me,onKeyDown:b?Me:void 0,tabIndex:b?0:void 0,role:b?"button":void 0,"aria-describedby":D?void 0:`${mO}-${E}`,"aria-label":O},Y.createElement(P8,{value:o},Y.createElement(e,{id:o,data:n,type:r,xPos:a,yPos:s,selected:c,isConnectable:S,sourcePosition:P,targetPosition:M,dragging:We,dragHandle:F,zIndex:k})))};return t.displayName="NodeWrapper",Vt(t)},fY=e=>{let t=e.getNodes().filter(o=>o.selected);return{...Zd(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function pY({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:o}){let r=At(),{width:n,height:a,x:s,y:i,transformString:u,userSelectionActive:c}=je(fY,It),d=RO(),f=De(null);if(Pt(()=>{o||f.current?.focus({preventScroll:!0})},[o]),IO({nodeRef:f}),c||!n||!a)return null;let p=e?y=>{let g=r.getState().getNodes().filter(v=>v.selected);e(y,g)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(bu,y.key)&&d({x:bu[y.key].x,y:bu[y.key].y,isShiftPressed:y.shiftKey})};return Y.createElement("div",{className:ht(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u}},Y.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:o?void 0:-1,onKeyDown:o?void 0:m,style:{width:n,height:a,top:i,left:s}}))}var mY=Vt(pY),hY=e=>e.nodesSelectionActive,PO=({children:e,onPaneClick:t,onPaneMouseEnter:o,onPaneMouseMove:r,onPaneMouseLeave:n,onPaneContextMenu:a,onPaneScroll:s,deleteKeyCode:i,onMove:u,onMoveStart:c,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:y,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:C,zoomOnScroll:S,zoomOnPinch:b,panOnScroll:R,panOnScrollSpeed:P,panOnScrollMode:M,zoomOnDoubleClick:T,panOnDrag:_,defaultViewport:F,translateExtent:k,minZoom:N,maxZoom:I,preventScrolling:A,onSelectionContextMenu:L,noWheelClassName:D,noPanClassName:O,disableKeyboardA11y:E})=>{let V=je(hY),B=Yd(f),U=Yd(x),$=U||_,G=U||R,H=B||p&&$!==!0;return eY({deleteKeyCode:i,multiSelectionKeyCode:v}),Y.createElement(nY,{onMove:u,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:C,zoomOnScroll:S,zoomOnPinch:b,panOnScroll:G,panOnScrollSpeed:P,panOnScrollMode:M,zoomOnDoubleClick:T,panOnDrag:!B&&$,defaultViewport:F,translateExtent:k,minZoom:N,maxZoom:I,zoomActivationKeyCode:w,preventScrolling:A,noWheelClassName:D,noPanClassName:O},Y.createElement(CO,{onSelectionStart:y,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:o,onPaneMouseMove:r,onPaneMouseLeave:n,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:$,isSelecting:!!H,selectionMode:m},e,V&&Y.createElement(mY,{onSelectionContextMenu:L,noPanClassName:O,disableKeyboardA11y:E})))};PO.displayName="FlowRenderer";var gY=Vt(PO);function yY(e){return je(Bt(o=>e?tO(o.nodeInternals,{x:0,y:0,width:o.width,height:o.height},o.transform,!0):o.getNodes(),[e]))}function xY(e){let t={input:Gd(e.input||cO),default:Gd(e.default||ZC),output:Gd(e.output||fO),group:Gd(e.group||uS)},o={},r=Object.keys(e).filter(n=>!["input","default","output","group"].includes(n)).reduce((n,a)=>(n[a]=Gd(e[a]||ZC),n),o);return{...t,...r}}var vY=({x:e,y:t,width:o,height:r,origin:n})=>!o||!r?{x:e,y:t}:n[0]<0||n[1]<0||n[0]>1||n[1]>1?{x:e,y:t}:{x:e-o*n[0],y:t-r*n[1]},wY=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),LO=e=>{let{nodesDraggable:t,nodesConnectable:o,nodesFocusable:r,elementsSelectable:n,updateNodeDimensions:a,onError:s}=je(wY,It),i=yY(e.onlyRenderVisibleElements),u=De(),c=Hn(()=>{if(typeof ResizeObserver>"u")return null;let d=new ResizeObserver(f=>{let p=f.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));a(p)});return u.current=d,d},[]);return Pt(()=>()=>{u?.current?.disconnect()},[]),Y.createElement("div",{className:"react-flow__nodes",style:cS},i.map(d=>{let f=d.type||"default";e.nodeTypes[f]||(s?.("003",Un.error003(f)),f="default");let p=e.nodeTypes[f]||e.nodeTypes.default,m=!!(d.draggable||t&&typeof d.draggable>"u"),y=!!(d.selectable||n&&typeof d.selectable>"u"),g=!!(d.connectable||o&&typeof d.connectable>"u"),v=!!(d.focusable||r&&typeof d.focusable>"u"),x=e.nodeExtent?oS(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,w=x?.x??0,C=x?.y??0,S=vY({x:w,y:C,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return Y.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||ie.Bottom,targetPosition:d.targetPosition||ie.Top,hidden:d.hidden,xPos:w,yPos:C,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:y,isConnectable:g,isFocusable:v,resizeObserver:c,dragHandle:d.dragHandle,zIndex:d[Lt]?.z??0,isParent:!!d[Lt]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!d[Lt]?.handleBounds})}))};LO.displayName="NodeRenderer";var CY=Vt(LO),SY=(e,t,o)=>o===ie.Left?e-t:o===ie.Right?e+t:e,bY=(e,t,o)=>o===ie.Top?e-t:o===ie.Bottom?e+t:e,Ak="react-flow__edgeupdater",kk=({position:e,centerX:t,centerY:o,radius:r=10,onMouseDown:n,onMouseEnter:a,onMouseOut:s,type:i})=>Y.createElement("circle",{onMouseDown:n,onMouseEnter:a,onMouseOut:s,className:ht([Ak,`${Ak}-${i}`]),cx:SY(t,r,e),cy:bY(o,r,e),r,stroke:"transparent",fill:"transparent"}),IY=()=>!0,Cu=e=>{let t=({id:o,className:r,type:n,data:a,onClick:s,onEdgeDoubleClick:i,selected:u,animated:c,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:g,style:v,source:x,target:w,sourceX:C,sourceY:S,targetX:b,targetY:R,sourcePosition:P,targetPosition:M,elementsSelectable:T,hidden:_,sourceHandleId:F,targetHandleId:k,onContextMenu:N,onMouseEnter:I,onMouseMove:A,onMouseLeave:L,reconnectRadius:D,onReconnect:O,onReconnectStart:E,onReconnectEnd:V,markerEnd:B,markerStart:U,rfId:$,ariaLabel:G,isFocusable:H,isReconnectable:q,pathOptions:z,interactionWidth:j,disableKeyboardA11y:X})=>{let K=De(null),[re,ne]=Iu(!1),[me,Ce]=Iu(!1),Me=At(),We=Hn(()=>`url('#${XC(U,$)}')`,[U,$]),ye=Hn(()=>`url('#${XC(B,$)}')`,[B,$]);if(_)return null;let oe=Be=>{let{edges:St,addSelectedEdges:de,unselectNodesAndEdges:Ae,multiSelectionActive:Se}=Me.getState(),ot=St.find(dt=>dt.id===o);ot&&(T&&(Me.setState({nodesSelectionActive:!1}),ot.selected&&Se?(Ae({nodes:[],edges:[ot]}),K.current?.blur()):de([o])),s&&s(Be,ot))},Fe=Wd(o,Me.getState,i),Ct=Wd(o,Me.getState,N),Jo=Wd(o,Me.getState,I),Xe=Wd(o,Me.getState,A),eo=Wd(o,Me.getState,L),bo=(Be,St)=>{if(Be.button!==0)return;let{edges:de,isValidConnection:Ae}=Me.getState(),Se=St?w:x,ot=(St?k:F)||null,dt=St?"target":"source",Bo=Ae||IY,Ve=St,kt=de.find(Je=>Je.id===o);Ce(!0),E?.(Be,kt,dt);let Re=Je=>{Ce(!1),V?.(Je,kt,dt)};sO({event:Be,handleId:ot,nodeId:Se,onConnect:Je=>O?.(kt,Je),isTarget:Ve,getState:Me.getState,setState:Me.setState,isValidConnection:Bo,edgeUpdaterType:dt,onReconnectEnd:Re})},Nr=Be=>bo(Be,!0),Io=Be=>bo(Be,!1),to=()=>ne(!0),oo=()=>ne(!1),ro=!T&&!s,po=Be=>{if(!X&&jk.includes(Be.key)&&T){let{unselectNodesAndEdges:St,addSelectedEdges:de,edges:Ae}=Me.getState();Be.key==="Escape"?(K.current?.blur(),St({edges:[Ae.find(ot=>ot.id===o)]})):de([o])}};return Y.createElement("g",{className:ht(["react-flow__edge",`react-flow__edge-${n}`,r,{selected:u,animated:c,inactive:ro,updating:re}]),onClick:oe,onDoubleClick:Fe,onContextMenu:Ct,onMouseEnter:Jo,onMouseMove:Xe,onMouseLeave:eo,onKeyDown:H?po:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${o}`,"aria-label":G===null?void 0:G||`Edge from ${x} to ${w}`,"aria-describedby":H?`${hO}-${$}`:void 0,ref:K},!me&&Y.createElement(e,{id:o,source:x,target:w,selected:u,animated:c,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:g,data:a,style:v,sourceX:C,sourceY:S,targetX:b,targetY:R,sourcePosition:P,targetPosition:M,sourceHandleId:F,targetHandleId:k,markerStart:We,markerEnd:ye,pathOptions:z,interactionWidth:j}),q&&Y.createElement(Y.Fragment,null,(q==="source"||q===!0)&&Y.createElement(kk,{position:P,centerX:C,centerY:S,radius:D,onMouseDown:Nr,onMouseEnter:to,onMouseOut:oo,type:"source"}),(q==="target"||q===!0)&&Y.createElement(kk,{position:M,centerX:b,centerY:R,radius:D,onMouseDown:Io,onMouseEnter:to,onMouseOut:oo,type:"target"})))};return t.displayName="EdgeWrapper",Vt(t)};function RY(e){let t={default:Cu(e.default||Lg),straight:Cu(e.bezier||aS),step:Cu(e.step||nS),smoothstep:Cu(e.step||Tg),simplebezier:Cu(e.simplebezier||rS)},o={},r=Object.keys(e).filter(n=>!["default","bezier"].includes(n)).reduce((n,a)=>(n[a]=Cu(e[a]||Lg),n),o);return{...t,...r}}function Ok(e,t,o=null){let r=(o?.x||0)+t.x,n=(o?.y||0)+t.y,a=o?.width||t.width,s=o?.height||t.height;switch(e){case ie.Top:return{x:r+a/2,y:n};case ie.Right:return{x:r+a,y:n+s/2};case ie.Bottom:return{x:r+a/2,y:n+s};case ie.Left:return{x:r,y:n+s/2}}}function Nk(e,t){return e?e.length===1||!t?e[0]:t&&e.find(o=>o.id===t)||null:null}var PY=(e,t,o,r,n,a)=>{let s=Ok(o,e,t),i=Ok(a,r,n);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}};function LY({sourcePos:e,targetPos:t,sourceWidth:o,sourceHeight:r,targetWidth:n,targetHeight:a,width:s,height:i,transform:u}){let c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+o,t.x+n),y2:Math.max(e.y+r,t.y+a)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);let d=jd({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:s/u[2],height:i/u[2]}),f=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),p=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(f*p)>0}function _k(e){let t=e?.[Lt]?.handleBounds||null,o=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!o]}var MY=[{level:0,isMaxLevel:!0,edges:[]}];function EY(e,t,o=!1){let r=-1,n=e.reduce((s,i)=>{let u=Wr(i.zIndex),c=u?i.zIndex:0;if(o){let d=t.get(i.target),f=t.get(i.source),p=i.selected||d?.selected||f?.selected,m=Math.max(f?.[Lt]?.z||0,d?.[Lt]?.z||0,1e3);c=(u?i.zIndex:0)+(p?m:0)}return s[c]?s[c].push(i):s[c]=[i],r=c>r?c:r,s},{}),a=Object.entries(n).map(([s,i])=>{let u=+s;return{edges:i,level:u,isMaxLevel:u===r}});return a.length===0?MY:a}function TY(e,t,o){let r=je(Bt(n=>e?n.edges.filter(a=>{let s=t.get(a.source),i=t.get(a.target);return s?.width&&s?.height&&i?.width&&i?.height&&LY({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:i.width,targetHeight:i.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t]));return EY(r,t,o)}var DY=({color:e="none",strokeWidth:t=1})=>Y.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),AY=({color:e="none",strokeWidth:t=1})=>Y.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Fk={[Pg.Arrow]:DY,[Pg.ArrowClosed]:AY};function kY(e){let t=At();return Hn(()=>Object.prototype.hasOwnProperty.call(Fk,e)?Fk[e]:(t.getState().onError?.("009",Un.error009(e)),null),[e])}var OY=({id:e,type:t,color:o,width:r=12.5,height:n=12.5,markerUnits:a="strokeWidth",strokeWidth:s,orient:i="auto-start-reverse"})=>{let u=kY(t);return u?Y.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${n}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:i,refX:"0",refY:"0"},Y.createElement(u,{color:o,strokeWidth:s})):null},NY=({defaultColor:e,rfId:t})=>o=>{let r=[];return o.edges.reduce((n,a)=>([a.markerStart,a.markerEnd].forEach(s=>{if(s&&typeof s=="object"){let i=XC(s,t);r.includes(i)||(n.push({id:i,color:s.color||e,...s}),r.push(i))}}),n),[]).sort((n,a)=>n.id.localeCompare(a.id))},MO=({defaultColor:e,rfId:t})=>{let o=je(Bt(NY({defaultColor:e,rfId:t}),[e,t]),(r,n)=>!(r.length!==n.length||r.some((a,s)=>a.id!==n[s].id)));return Y.createElement("defs",null,o.map(r=>Y.createElement(OY,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};MO.displayName="MarkerDefinitions";var _Y=Vt(MO),FY=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),EO=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:o,rfId:r,edgeTypes:n,noPanClassName:a,onEdgeContextMenu:s,onEdgeMouseEnter:i,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:g,children:v,disableKeyboardA11y:x})=>{let{edgesFocusable:w,edgesUpdatable:C,elementsSelectable:S,width:b,height:R,connectionMode:P,nodeInternals:M,onError:T}=je(FY,It),_=TY(t,M,o);return b?Y.createElement(Y.Fragment,null,_.map(({level:F,edges:k,isMaxLevel:N})=>Y.createElement("svg",{key:F,style:{zIndex:F},width:b,height:R,className:"react-flow__edges react-flow__container"},N&&Y.createElement(_Y,{defaultColor:e,rfId:r}),Y.createElement("g",null,k.map(I=>{let[A,L,D]=_k(M.get(I.source)),[O,E,V]=_k(M.get(I.target));if(!D||!V)return null;let B=I.type||"default";n[B]||(T?.("011",Un.error011(B)),B="default");let U=n[B]||n.default,$=P===Mi.Strict?E.target:(E.target??[]).concat(E.source??[]),G=Nk(L.source,I.sourceHandle),H=Nk($,I.targetHandle),q=G?.position||ie.Bottom,z=H?.position||ie.Top,j=!!(I.focusable||w&&typeof I.focusable>"u"),X=I.reconnectable||I.updatable,K=typeof p<"u"&&(X||C&&typeof X>"u");if(!G||!H)return T?.("008",Un.error008(G,I)),null;let{sourceX:re,sourceY:ne,targetX:me,targetY:Ce}=PY(A,G,q,O,H,z);return Y.createElement(U,{key:I.id,id:I.id,className:ht([I.className,a]),type:B,data:I.data,selected:!!I.selected,animated:!!I.animated,hidden:!!I.hidden,label:I.label,labelStyle:I.labelStyle,labelShowBg:I.labelShowBg,labelBgStyle:I.labelBgStyle,labelBgPadding:I.labelBgPadding,labelBgBorderRadius:I.labelBgBorderRadius,style:I.style,source:I.source,target:I.target,sourceHandleId:I.sourceHandle,targetHandleId:I.targetHandle,markerEnd:I.markerEnd,markerStart:I.markerStart,sourceX:re,sourceY:ne,targetX:me,targetY:Ce,sourcePosition:q,targetPosition:z,elementsSelectable:S,onContextMenu:s,onMouseEnter:i,onMouseMove:u,onMouseLeave:c,onClick:d,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:g,rfId:r,ariaLabel:I.ariaLabel,isFocusable:j,isReconnectable:K,pathOptions:"pathOptions"in I?I.pathOptions:void 0,interactionWidth:I.interactionWidth,disableKeyboardA11y:x})})))),v):null};EO.displayName="EdgeRenderer";var BY=Vt(EO),VY=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function HY({children:e}){let t=je(VY);return Y.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function UY(e){let t=Dg(),o=De(!1);Pt(()=>{!o.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),o.current=!0)},[e,t.viewportInitialized])}var zY={[ie.Left]:ie.Right,[ie.Right]:ie.Left,[ie.Top]:ie.Bottom,[ie.Bottom]:ie.Top},TO=({nodeId:e,handleType:t,style:o,type:r=Vn.Bezier,CustomComponent:n,connectionStatus:a})=>{let{fromNode:s,handleId:i,toX:u,toY:c,connectionMode:d}=je(Bt(R=>({fromNode:R.nodeInternals.get(e),handleId:R.connectionHandleId,toX:(R.connectionPosition.x-R.transform[0])/R.transform[2],toY:(R.connectionPosition.y-R.transform[1])/R.transform[2],connectionMode:R.connectionMode}),[e]),It),f=s?.[Lt]?.handleBounds,p=f?.[t];if(d===Mi.Loose&&(p=p||f?.[t==="source"?"target":"source"]),!s||!p)return null;let m=i?p.find(R=>R.id===i):p[0],y=m?m.x+m.width/2:(s.width??0)/2,g=m?m.y+m.height/2:s.height??0,v=(s.positionAbsolute?.x??0)+y,x=(s.positionAbsolute?.y??0)+g,w=m?.position,C=w?zY[w]:null;if(!w||!C)return null;if(n)return Y.createElement(n,{connectionLineType:r,connectionLineStyle:o,fromNode:s,fromHandle:m,fromX:v,fromY:x,toX:u,toY:c,fromPosition:w,toPosition:C,connectionStatus:a});let S="",b={sourceX:v,sourceY:x,sourcePosition:w,targetX:u,targetY:c,targetPosition:C};return r===Vn.Bezier?[S]=Jk(b):r===Vn.Step?[S]=YC({...b,borderRadius:0}):r===Vn.SmoothStep?[S]=YC(b):r===Vn.SimpleBezier?[S]=Zk(b):S=`M${v},${x} ${u},${c}`,Y.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:o})};TO.displayName="ConnectionLine";var qY=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function WY({containerStyle:e,style:t,type:o,component:r}){let{nodeId:n,handleType:a,nodesConnectable:s,width:i,height:u,connectionStatus:c}=je(qY,It);return!(n&&a&&i&&s)?null:Y.createElement("svg",{style:e,width:i,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},Y.createElement("g",{className:ht(["react-flow__connection",c])},Y.createElement(TO,{nodeId:n,handleType:a,style:t,type:o,CustomComponent:r,connectionStatus:c})))}function Bk(e,t){let o=De(null),r=At();return Hn(()=>t(e),[e])}var DO=({nodeTypes:e,edgeTypes:t,onMove:o,onMoveStart:r,onMoveEnd:n,onInit:a,onNodeClick:s,onEdgeClick:i,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:g,onSelectionEnd:v,connectionLineType:x,connectionLineStyle:w,connectionLineComponent:C,connectionLineContainerStyle:S,selectionKeyCode:b,selectionOnDrag:R,selectionMode:P,multiSelectionKeyCode:M,panActivationKeyCode:T,zoomActivationKeyCode:_,deleteKeyCode:F,onlyRenderVisibleElements:k,elementsSelectable:N,selectNodesOnDrag:I,defaultViewport:A,translateExtent:L,minZoom:D,maxZoom:O,preventScrolling:E,defaultMarkerColor:V,zoomOnScroll:B,zoomOnPinch:U,panOnScroll:$,panOnScrollSpeed:G,panOnScrollMode:H,zoomOnDoubleClick:q,panOnDrag:z,onPaneClick:j,onPaneMouseEnter:X,onPaneMouseMove:K,onPaneMouseLeave:re,onPaneScroll:ne,onPaneContextMenu:me,onEdgeContextMenu:Ce,onEdgeMouseEnter:Me,onEdgeMouseMove:We,onEdgeMouseLeave:ye,onReconnect:oe,onReconnectStart:Fe,onReconnectEnd:Ct,reconnectRadius:Jo,noDragClassName:Xe,noWheelClassName:eo,noPanClassName:bo,elevateEdgesOnSelect:Nr,disableKeyboardA11y:Io,nodeOrigin:to,nodeExtent:oo,rfId:ro})=>{let po=Bk(e,xY),Be=Bk(t,RY);return UY(a),Y.createElement(gY,{onPaneClick:j,onPaneMouseEnter:X,onPaneMouseMove:K,onPaneMouseLeave:re,onPaneContextMenu:me,onPaneScroll:ne,deleteKeyCode:F,selectionKeyCode:b,selectionOnDrag:R,selectionMode:P,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:M,panActivationKeyCode:T,zoomActivationKeyCode:_,elementsSelectable:N,onMove:o,onMoveStart:r,onMoveEnd:n,zoomOnScroll:B,zoomOnPinch:U,zoomOnDoubleClick:q,panOnScroll:$,panOnScrollSpeed:G,panOnScrollMode:H,panOnDrag:z,defaultViewport:A,translateExtent:L,minZoom:D,maxZoom:O,onSelectionContextMenu:y,preventScrolling:E,noDragClassName:Xe,noWheelClassName:eo,noPanClassName:bo,disableKeyboardA11y:Io},Y.createElement(HY,null,Y.createElement(BY,{edgeTypes:Be,onEdgeClick:i,onEdgeDoubleClick:c,onlyRenderVisibleElements:k,onEdgeContextMenu:Ce,onEdgeMouseEnter:Me,onEdgeMouseMove:We,onEdgeMouseLeave:ye,onReconnect:oe,onReconnectStart:Fe,onReconnectEnd:Ct,reconnectRadius:Jo,defaultMarkerColor:V,noPanClassName:bo,elevateEdgesOnSelect:!!Nr,disableKeyboardA11y:Io,rfId:ro},Y.createElement(WY,{style:w,type:x,component:C,containerStyle:S})),Y.createElement("div",{className:"react-flow__edgelabel-renderer"}),Y.createElement(CY,{nodeTypes:po,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:I,onlyRenderVisibleElements:k,noPanClassName:bo,noDragClassName:Xe,disableKeyboardA11y:Io,nodeOrigin:to,nodeExtent:oo,rfId:ro})))};DO.displayName="GraphView";var $Y=Vt(DO),eS=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],gs={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:eS,nodeExtent:eS,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Mi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Kk,isValidConnection:void 0},GY=()=>LA((e,t)=>({...gs,setNodes:o=>{let{nodeInternals:r,nodeOrigin:n,elevateNodesOnSelect:a}=t();e({nodeInternals:qC(o,r,n,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:o=>{let{defaultEdgeOptions:r={}}=t();e({edges:o.map(n=>({...r,...n}))})},setDefaultNodesAndEdges:(o,r)=>{let n=typeof o<"u",a=typeof r<"u",s=n?qC(o,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:a?r:[],hasDefaultNodes:n,hasDefaultEdges:a})},updateNodeDimensions:o=>{let{onNodesChange:r,nodeInternals:n,fitViewOnInit:a,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:u,nodeOrigin:c}=t(),d=u?.querySelector(".react-flow__viewport");if(!d)return;let f=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(f.transform),m=o.reduce((g,v)=>{let x=n.get(v.id);if(x?.hidden)n.set(x.id,{...x,[Lt]:{...x[Lt],handleBounds:void 0}});else if(x){let w=tS(v.nodeElement);!!(w.width&&w.height&&(x.width!==w.width||x.height!==w.height||v.forceUpdate))&&(n.set(x.id,{...x,[Lt]:{...x[Lt],handleBounds:{source:Dk(".source",v.nodeElement,p,c),target:Dk(".target",v.nodeElement,p,c)}},...w}),g.push({id:x.id,type:"dimensions",dimensions:w}))}return g},[]);yO(n,c);let y=s||a&&!s&&xO(t,{initial:!0,...i});e({nodeInternals:new Map(n),fitViewOnInitDone:y}),m?.length>0&&r?.(m)},updateNodePositions:(o,r=!0,n=!1)=>{let{triggerNodeChanges:a}=t(),s=o.map(i=>{let u={id:i.id,type:"position",dragging:n};return r&&(u.positionAbsolute=i.positionAbsolute,u.position=i.position),u});a(s)},triggerNodeChanges:o=>{let{onNodesChange:r,nodeInternals:n,hasDefaultNodes:a,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:u}=t();if(o?.length){if(a){let c=wO(o,i()),d=qC(c,n,s,u);e({nodeInternals:d})}r?.(o)}},addSelectedNodes:o=>{let{multiSelectionActive:r,edges:n,getNodes:a}=t(),s,i=null;r?s=o.map(u=>ys(u,!0)):(s=Su(a(),o),i=Su(n,[])),bg({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:o=>{let{multiSelectionActive:r,edges:n,getNodes:a}=t(),s,i=null;r?s=o.map(u=>ys(u,!0)):(s=Su(n,o),i=Su(a(),[])),bg({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:o,edges:r}={})=>{let{edges:n,getNodes:a}=t(),s=o||a(),i=r||n,u=s.map(d=>(d.selected=!1,ys(d.id,!1))),c=i.map(d=>ys(d.id,!1));bg({changedNodes:u,changedEdges:c,get:t,set:e})},setMinZoom:o=>{let{d3Zoom:r,maxZoom:n}=t();r?.scaleExtent([o,n]),e({minZoom:o})},setMaxZoom:o=>{let{d3Zoom:r,minZoom:n}=t();r?.scaleExtent([n,o]),e({maxZoom:o})},setTranslateExtent:o=>{t().d3Zoom?.translateExtent(o),e({translateExtent:o})},resetSelectedElements:()=>{let{edges:o,getNodes:r}=t(),a=r().filter(i=>i.selected).map(i=>ys(i.id,!1)),s=o.filter(i=>i.selected).map(i=>ys(i.id,!1));bg({changedNodes:a,changedEdges:s,get:t,set:e})},setNodeExtent:o=>{let{nodeInternals:r}=t();r.forEach(n=>{n.positionAbsolute=oS(n.position,o)}),e({nodeExtent:o,nodeInternals:new Map(r)})},panBy:o=>{let{transform:r,width:n,height:a,d3Zoom:s,d3Selection:i,translateExtent:u}=t();if(!s||!i||!o.x&&!o.y)return!1;let c=ur.translate(r[0]+o.x,r[1]+o.y).scale(r[2]),d=[[0,0],[n,a]],f=s?.constrain()(c,d,u);return s.transform(i,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:gs.connectionNodeId,connectionHandleId:gs.connectionHandleId,connectionHandleType:gs.connectionHandleType,connectionStatus:gs.connectionStatus,connectionStartHandle:gs.connectionStartHandle,connectionEndHandle:gs.connectionEndHandle}),reset:()=>e({...gs})}),Object.is),AO=({children:e})=>{let t=De(null);return t.current||(t.current=GY()),Y.createElement(h8,{value:t.current},e)};AO.displayName="ReactFlowProvider";var kO=({children:e})=>Mg(Eg)?Y.createElement(Y.Fragment,null,e):Y.createElement(AO,null,e);kO.displayName="ReactFlowWrapper";var jY={input:cO,default:ZC,output:fO,group:uS},KY={default:Lg,straight:aS,step:nS,smoothstep:Tg,simplebezier:rS},YY=[0,0],XY=[15,15],QY={x:0,y:0,zoom:1},ZY={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Ag=Hk(({nodes:e,edges:t,defaultNodes:o,defaultEdges:r,className:n,nodeTypes:a=jY,edgeTypes:s=KY,onNodeClick:i,onEdgeClick:u,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:p,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:x,onNodeMouseEnter:w,onNodeMouseMove:C,onNodeMouseLeave:S,onNodeContextMenu:b,onNodeDoubleClick:R,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:T,onNodesDelete:_,onEdgesDelete:F,onSelectionChange:k,onSelectionDragStart:N,onSelectionDrag:I,onSelectionDragStop:A,onSelectionContextMenu:L,onSelectionStart:D,onSelectionEnd:O,connectionMode:E=Mi.Strict,connectionLineType:V=Vn.Bezier,connectionLineStyle:B,connectionLineComponent:U,connectionLineContainerStyle:$,deleteKeyCode:G="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:q=!1,selectionMode:z=Kd.Full,panActivationKeyCode:j="Space",multiSelectionKeyCode:X=Rg()?"Meta":"Control",zoomActivationKeyCode:K=Rg()?"Meta":"Control",snapToGrid:re=!1,snapGrid:ne=XY,onlyRenderVisibleElements:me=!1,selectNodesOnDrag:Ce=!0,nodesDraggable:Me,nodesConnectable:We,nodesFocusable:ye,nodeOrigin:oe=YY,edgesFocusable:Fe,edgesUpdatable:Ct,elementsSelectable:Jo,defaultViewport:Xe=QY,minZoom:eo=.5,maxZoom:bo=2,translateExtent:Nr=eS,preventScrolling:Io=!0,nodeExtent:to,defaultMarkerColor:oo="#b1b1b7",zoomOnScroll:ro=!0,zoomOnPinch:po=!0,panOnScroll:Be=!1,panOnScrollSpeed:St=.5,panOnScrollMode:de=Li.Free,zoomOnDoubleClick:Ae=!0,panOnDrag:Se=!0,onPaneClick:ot,onPaneMouseEnter:dt,onPaneMouseMove:Bo,onPaneMouseLeave:Ve,onPaneScroll:kt,onPaneContextMenu:Re,children:it,onEdgeContextMenu:Je,onEdgeDoubleClick:ae,onEdgeMouseEnter:ke,onEdgeMouseMove:Te,onEdgeMouseLeave:$e,onEdgeUpdate:mo,onEdgeUpdateStart:et,onEdgeUpdateEnd:Ne,onReconnect:Vo,onReconnectStart:lt,onReconnectEnd:ft,reconnectRadius:wn=10,edgeUpdaterRadius:Ho=10,onNodesChange:Qr,onEdgesChange:As,noDragClassName:tc="nodrag",noWheelClassName:YH="nowheel",noPanClassName:j0="nopan",fitView:XH=!1,fitViewOptions:QH,connectOnClick:ZH=!0,attributionPosition:JH,proOptions:eU,defaultEdgeOptions:tU,elevateNodesOnSelect:oU=!0,elevateEdgesOnSelect:rU=!1,disableKeyboardA11y:K0=!1,autoPanOnConnect:nU=!0,autoPanOnNodeDrag:aU=!0,connectionRadius:sU=20,isValidConnection:iU,onError:lU,style:uU,id:Y0,nodeDragThreshold:cU,...dU},fU)=>{let Px=Y0||"1";return Y.createElement("div",{...dU,style:{...uU,...ZY},ref:fU,className:ht(["react-flow",n]),"data-testid":"rf__wrapper",id:Y0},Y.createElement(kO,null,Y.createElement($Y,{onInit:c,onMove:d,onMoveStart:f,onMoveEnd:p,onNodeClick:i,onEdgeClick:u,onNodeMouseEnter:w,onNodeMouseMove:C,onNodeMouseLeave:S,onNodeContextMenu:b,onNodeDoubleClick:R,nodeTypes:a,edgeTypes:s,connectionLineType:V,connectionLineStyle:B,connectionLineComponent:U,connectionLineContainerStyle:$,selectionKeyCode:H,selectionOnDrag:q,selectionMode:z,deleteKeyCode:G,multiSelectionKeyCode:X,panActivationKeyCode:j,zoomActivationKeyCode:K,onlyRenderVisibleElements:me,selectNodesOnDrag:Ce,defaultViewport:Xe,translateExtent:Nr,minZoom:eo,maxZoom:bo,preventScrolling:Io,zoomOnScroll:ro,zoomOnPinch:po,zoomOnDoubleClick:Ae,panOnScroll:Be,panOnScrollSpeed:St,panOnScrollMode:de,panOnDrag:Se,onPaneClick:ot,onPaneMouseEnter:dt,onPaneMouseMove:Bo,onPaneMouseLeave:Ve,onPaneScroll:kt,onPaneContextMenu:Re,onSelectionContextMenu:L,onSelectionStart:D,onSelectionEnd:O,onEdgeContextMenu:Je,onEdgeDoubleClick:ae,onEdgeMouseEnter:ke,onEdgeMouseMove:Te,onEdgeMouseLeave:$e,onReconnect:Vo??mo,onReconnectStart:lt??et,onReconnectEnd:ft??Ne,reconnectRadius:wn??Ho,defaultMarkerColor:oo,noDragClassName:tc,noWheelClassName:YH,noPanClassName:j0,elevateEdgesOnSelect:rU,rfId:Px,disableKeyboardA11y:K0,nodeOrigin:oe,nodeExtent:to}),Y.createElement(z8,{nodes:e,edges:t,defaultNodes:o,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:x,nodesDraggable:Me,nodesConnectable:We,nodesFocusable:ye,edgesFocusable:Fe,edgesUpdatable:Ct,elementsSelectable:Jo,elevateNodesOnSelect:oU,minZoom:eo,maxZoom:bo,nodeExtent:to,onNodesChange:Qr,onEdgesChange:As,snapToGrid:re,snapGrid:ne,connectionMode:E,translateExtent:Nr,connectOnClick:ZH,defaultEdgeOptions:tU,fitView:XH,fitViewOptions:QH,onNodesDelete:_,onEdgesDelete:F,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:T,onSelectionDrag:I,onSelectionDragStart:N,onSelectionDragStop:A,noPanClassName:j0,nodeOrigin:oe,rfId:Px,autoPanOnConnect:nU,autoPanOnNodeDrag:aU,onError:lU,connectionRadius:sU,isValidConnection:iU,nodeDragThreshold:cU}),Y.createElement(H8,{onSelectionChange:k}),it,Y.createElement(y8,{proOptions:eU,position:JH}),Y.createElement(j8,{rfId:Px,disableKeyboardA11y:K0})))});Ag.displayName="ReactFlow";function OO(e){return t=>{let[o,r]=Iu(t),n=Bt(a=>r(s=>e(a,s)),[]);return[o,r,n]}}var NO=OO(wO),_O=OO(iY);l();import wa,{memo as fS,useRef as FO,useEffect as JY}from"react";var BO=({id:e,x:t,y:o,width:r,height:n,style:a,color:s,strokeColor:i,strokeWidth:u,className:c,borderRadius:d,shapeRendering:f,onClick:p,selected:m})=>{let{background:y,backgroundColor:g}=a||{},v=s||y||g;return wa.createElement("rect",{className:ht(["react-flow__minimap-node",{selected:m},c]),x:t,y:o,rx:d,ry:d,width:r,height:n,fill:v,stroke:i,strokeWidth:u,shapeRendering:f,onClick:p?x=>p(x,e):void 0})};BO.displayName="MiniMapNode";var e9=fS(BO),t9=e=>e.nodeOrigin,o9=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),dS=e=>e instanceof Function?e:()=>e;function r9({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:o="",nodeBorderRadius:r=5,nodeStrokeWidth:n=2,nodeComponent:a=e9,onClick:s}){let i=je(o9,It),u=je(t9),c=dS(t),d=dS(e),f=dS(o),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return wa.createElement(wa.Fragment,null,i.map(m=>{let{x:y,y:g}=vs(m,u).positionAbsolute;return wa.createElement(a,{key:m.id,x:y,y:g,width:m.width,height:m.height,style:m.style,selected:m.selected,className:f(m),color:c(m),borderRadius:r,strokeColor:d(m),strokeWidth:n,shapeRendering:p,onClick:s,id:m.id})}))}var n9=fS(r9),a9=200,s9=150,i9=e=>{let t=e.getNodes(),o={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:o,boundingRect:t.length>0?Gk(Zd(t,e.nodeOrigin),o):o,rfId:e.rfId}},l9="react-flow__minimap-desc";function VO({style:e,className:t,nodeStrokeColor:o="transparent",nodeColor:r="#e2e2e2",nodeClassName:n="",nodeBorderRadius:a=5,nodeStrokeWidth:s=2,nodeComponent:i,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:f="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:g=!1,ariaLabel:v="React Flow mini map",inversePan:x=!1,zoomStep:w=10,offsetScale:C=5}){let S=At(),b=FO(null),{boundingRect:R,viewBB:P,rfId:M}=je(i9,It),T=e?.width??a9,_=e?.height??s9,F=R.width/T,k=R.height/_,N=Math.max(F,k),I=N*T,A=N*_,L=C*N,D=R.x-(I-R.width)/2-L,O=R.y-(A-R.height)/2-L,E=I+L*2,V=A+L*2,B=`${l9}-${M}`,U=FO(0);U.current=N,JY(()=>{if(b.current){let H=io(b.current),q=X=>{let{transform:K,d3Selection:re,d3Zoom:ne}=S.getState();if(X.sourceEvent.type!=="wheel"||!re||!ne)return;let me=-X.sourceEvent.deltaY*(X.sourceEvent.deltaMode===1?.05:X.sourceEvent.deltaMode?1:.002)*w,Ce=K[2]*Math.pow(2,me);ne.scaleTo(re,Ce)},z=X=>{let{transform:K,d3Selection:re,d3Zoom:ne,translateExtent:me,width:Ce,height:Me}=S.getState();if(X.sourceEvent.type!=="mousemove"||!re||!ne)return;let We=U.current*Math.max(1,K[2])*(x?-1:1),ye={x:K[0]-X.sourceEvent.movementX*We,y:K[1]-X.sourceEvent.movementY*We},oe=[[0,0],[Ce,Me]],Fe=ur.translate(ye.x,ye.y).scale(K[2]),Ct=ne.constrain()(Fe,oe,me);ne.transform(re,Ct)},j=qd().on("zoom",y?z:null).on("zoom.wheel",g?q:null);return H.call(j),()=>{H.on("zoom",null)}}},[y,g,x,w]);let $=p?H=>{let q=ko(H);p(H,{x:q[0],y:q[1]})}:void 0,G=m?(H,q)=>{let z=S.getState().nodeInternals.get(q);m(H,z)}:void 0;return wa.createElement(Xd,{position:f,style:e,className:ht(["react-flow__minimap",t]),"data-testid":"rf__minimap"},wa.createElement("svg",{width:T,height:_,viewBox:`${D} ${O} ${E} ${V}`,role:"img","aria-labelledby":B,ref:b,onClick:$},v&&wa.createElement("title",{id:B},v),wa.createElement(n9,{onClick:G,nodeColor:r,nodeStrokeColor:o,nodeBorderRadius:a,nodeClassName:n,nodeStrokeWidth:s,nodeComponent:i}),wa.createElement("path",{className:"react-flow__minimap-mask",d:`M${D-L},${O-L}h${E+L*2}v${V+L*2}h${-E-L*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fill:u,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}VO.displayName="MiniMap";var HO=fS(VO);l();import gt,{memo as u9,useState as c9,useEffect as d9}from"react";function f9(){return gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},gt.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function p9(){return gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},gt.createElement("path",{d:"M0 0h32v4.2H0z"}))}function m9(){return gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},gt.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function h9(){return gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},gt.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function g9(){return gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},gt.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}var Jd=({children:e,className:t,...o})=>gt.createElement("button",{type:"button",className:ht(["react-flow__controls-button",t]),...o},e);Jd.displayName="ControlButton";var y9=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),UO=({style:e,showZoom:t=!0,showFitView:o=!0,showInteractive:r=!0,fitViewOptions:n,onZoomIn:a,onZoomOut:s,onFitView:i,onInteractiveChange:u,className:c,children:d,position:f="bottom-left"})=>{let p=At(),[m,y]=c9(!1),{isInteractive:g,minZoomReached:v,maxZoomReached:x}=je(y9,It),{zoomIn:w,zoomOut:C,fitView:S}=Dg();if(d9(()=>{y(!0)},[]),!m)return null;let b=()=>{w(),a?.()},R=()=>{C(),s?.()},P=()=>{S(n),i?.()},M=()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),u?.(!g)};return gt.createElement(Xd,{className:ht(["react-flow__controls",c]),position:f,style:e,"data-testid":"rf__controls"},t&&gt.createElement(gt.Fragment,null,gt.createElement(Jd,{onClick:b,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},gt.createElement(f9,null)),gt.createElement(Jd,{onClick:R,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},gt.createElement(p9,null))),o&&gt.createElement(Jd,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view"},gt.createElement(m9,null)),r&&gt.createElement(Jd,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity"},g?gt.createElement(g9,null):gt.createElement(h9,null)),d)};UO.displayName="Controls";var zO=u9(UO);l();import Ti,{memo as x9,useRef as v9}from"react";var dn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(dn||(dn={}));function w9({color:e,dimensions:t,lineWidth:o}){return Ti.createElement("path",{stroke:e,strokeWidth:o,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function C9({color:e,radius:t}){return Ti.createElement("circle",{cx:t,cy:t,r:t,fill:e})}var S9={[dn.Dots]:"#91919a",[dn.Lines]:"#eee",[dn.Cross]:"#e2e2e2"},b9={[dn.Dots]:1,[dn.Lines]:1,[dn.Cross]:6},I9=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function qO({id:e,variant:t=dn.Dots,gap:o=20,size:r,lineWidth:n=1,offset:a=2,color:s,style:i,className:u}){let c=v9(null),{transform:d,patternId:f}=je(I9,It),p=s||S9[t],m=r||b9[t],y=t===dn.Dots,g=t===dn.Cross,v=Array.isArray(o)?o:[o,o],x=[v[0]*d[2]||1,v[1]*d[2]||1],w=m*d[2],C=g?[w,w]:x,S=y?[w/a,w/a]:[C[0]/a,C[1]/a];return Ti.createElement("svg",{className:ht(["react-flow__background",u]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},Ti.createElement("pattern",{id:f+e,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},y?Ti.createElement(C9,{color:p,radius:w/a}):Ti.createElement(w9,{dimensions:C,color:p,lineWidth:n})),Ti.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}qO.displayName="Background";var WO=x9(qO);l();import a3e,{useCallback as s3e}from"react";import{createPortal as u3e}from"react-dom";l();l();import*as ve from"react";l();function Mr(e,t,{checkForDefaultPrevented:o=!0}={}){return function(n){if(e?.(n),o===!1||!n.defaultPrevented)return t?.(n)}}l();import*as GO from"react";function $O(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pS(...e){return t=>{let o=!1,r=e.map(n=>{let a=$O(n,t);return!o&&typeof a=="function"&&(o=!0),a});if(o)return()=>{for(let n=0;n<r.length;n++){let a=r[n];typeof a=="function"?a():$O(e[n],null)}}}}function cr(...e){return GO.useCallback(pS(...e),e)}l();import*as Ca from"react";import{jsx as R9}from"react/jsx-runtime";function Pu(e,t=[]){let o=[];function r(a,s){let i=Ca.createContext(s),u=o.length;o=[...o,s];let c=f=>{let{scope:p,children:m,...y}=f,g=p?.[e]?.[u]||i,v=Ca.useMemo(()=>y,Object.values(y));return R9(g.Provider,{value:v,children:m})};c.displayName=a+"Provider";function d(f,p){let m=p?.[e]?.[u]||i,y=Ca.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}let n=()=>{let a=o.map(s=>Ca.createContext(s));return function(i){let u=i?.[e]||a;return Ca.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return n.scopeName=e,[r,P9(n,...t)]}function P9(...e){let t=e[0];if(e.length===1)return t;let o=()=>{let r=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(a){let s=r.reduce((i,{useScope:u,scopeName:c})=>{let f=u(a)[`__scope${c}`];return{...i,...f}},{});return Ca.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return o.scopeName=t.scopeName,o}l();import*as yt from"react";l();import*as XO from"react";import*as QO from"react-dom";l();import*as Gt from"react";import{Fragment as L9,jsx as mS}from"react/jsx-runtime";function jO(e){let t=M9(e),o=Gt.forwardRef((r,n)=>{let{children:a,...s}=r,i=Gt.Children.toArray(a),u=i.find(E9);if(u){let c=u.props.children,d=i.map(f=>f===u?Gt.Children.count(c)>1?Gt.Children.only(null):Gt.isValidElement(c)?c.props.children:null:f);return mS(t,{...s,ref:n,children:Gt.isValidElement(c)?Gt.cloneElement(c,void 0,d):null})}return mS(t,{...s,ref:n,children:a})});return o.displayName=`${e}.Slot`,o}function M9(e){let t=Gt.forwardRef((o,r)=>{let{children:n,...a}=o;if(Gt.isValidElement(n)){let s=D9(n),i=T9(a,n.props);return n.type!==Gt.Fragment&&(i.ref=r?pS(r,s):s),Gt.cloneElement(n,i)}return Gt.Children.count(n)>1?Gt.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KO=Symbol("radix.slottable");function YO(e){let t=({children:o})=>mS(L9,{children:o});return t.displayName=`${e}.Slottable`,t.__radixId=KO,t}function E9(e){return Gt.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KO}function T9(e,t){let o={...t};for(let r in t){let n=e[r],a=t[r];/^on[A-Z]/.test(r)?n&&a?o[r]=(...i)=>{a(...i),n(...i)}:n&&(o[r]=n):r==="style"?o[r]={...n,...a}:r==="className"&&(o[r]=[n,a].filter(Boolean).join(" "))}return{...e,...o}}function D9(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}import{jsx as A9}from"react/jsx-runtime";var k9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jt=k9.reduce((e,t)=>{let o=jO(`Primitive.${t}`),r=XO.forwardRef((n,a)=>{let{asChild:s,...i}=n,u=s?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A9(u,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ZO(e,t){e&&QO.flushSync(()=>e.dispatchEvent(t))}l();import*as Lu from"react";function Di(e){let t=Lu.useRef(e);return Lu.useEffect(()=>{t.current=e}),Lu.useMemo(()=>(...o)=>t.current?.(...o),[])}l();import*as JO from"react";function eN(e,t=globalThis?.document){let o=Di(e);JO.useEffect(()=>{let r=n=>{n.key==="Escape"&&o(n)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[o,t])}import{jsx as rN}from"react/jsx-runtime";var O9="DismissableLayer",hS="dismissableLayer.update",N9="dismissableLayer.pointerDownOutside",_9="dismissableLayer.focusOutside",tN,nN=yt.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gS=yt.forwardRef((e,t)=>{let{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:a,onInteractOutside:s,onDismiss:i,...u}=e,c=yt.useContext(nN),[d,f]=yt.useState(null),p=d?.ownerDocument??globalThis?.document,[,m]=yt.useState({}),y=cr(t,P=>f(P)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=x,b=V9(P=>{let M=P.target,T=[...c.branches].some(_=>_.contains(M));!S||T||(n?.(P),s?.(P),P.defaultPrevented||i?.())},p),R=H9(P=>{let M=P.target;[...c.branches].some(_=>_.contains(M))||(a?.(P),s?.(P),P.defaultPrevented||i?.())},p);return eN(P=>{w===c.layers.size-1&&(r?.(P),!P.defaultPrevented&&i&&(P.preventDefault(),i()))},p),yt.useEffect(()=>{if(d)return o&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(tN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),oN(),()=>{o&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=tN)}},[d,p,o,c]),yt.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),oN())},[d,c]),yt.useEffect(()=>{let P=()=>m({});return document.addEventListener(hS,P),()=>document.removeEventListener(hS,P)},[]),rN(jt.div,{...u,ref:y,style:{pointerEvents:C?S?"auto":"none":void 0,...e.style},onFocusCapture:Mr(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Mr(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Mr(e.onPointerDownCapture,b.onPointerDownCapture)})});gS.displayName=O9;var F9="DismissableLayerBranch",B9=yt.forwardRef((e,t)=>{let o=yt.useContext(nN),r=yt.useRef(null),n=cr(t,r);return yt.useEffect(()=>{let a=r.current;if(a)return o.branches.add(a),()=>{o.branches.delete(a)}},[o.branches]),rN(jt.div,{...e,ref:n})});B9.displayName=F9;function V9(e,t=globalThis?.document){let o=Di(e),r=yt.useRef(!1),n=yt.useRef(()=>{});return yt.useEffect(()=>{let a=i=>{if(i.target&&!r.current){let c=function(){aN(N9,o,d,{discrete:!0})};var u=c;let d={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=c,t.addEventListener("click",n.current,{once:!0})):c()}else t.removeEventListener("click",n.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",n.current)}},[t,o]),{onPointerDownCapture:()=>r.current=!0}}function H9(e,t=globalThis?.document){let o=Di(e),r=yt.useRef(!1);return yt.useEffect(()=>{let n=a=>{a.target&&!r.current&&aN(_9,o,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,o]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oN(){let e=new CustomEvent(hS);document.dispatchEvent(e)}function aN(e,t,o,{discrete:r}){let n=o.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:o});t&&n.addEventListener(e,t,{once:!0}),r?ZO(n,a):n.dispatchEvent(a)}l();import*as yS from"react";l();import*as sN from"react";var dr=globalThis?.document?sN.useLayoutEffect:()=>{};var U9=yS[" useId ".trim().toString()]||(()=>{}),z9=0;function iN(e){let[t,o]=yS.useState(U9());return dr(()=>{e||o(r=>r??String(z9++))},[e]),e||(t?`radix-${t}`:"")}l();import*as Er from"react";l();import*as uN from"react";import{jsx as lN}from"react/jsx-runtime";var q9="Arrow",cN=uN.forwardRef((e,t)=>{let{children:o,width:r=10,height:n=5,...a}=e;return lN(jt.svg,{...a,ref:t,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?o:lN("polygon",{points:"0,0 30,0 15,10"})})});cN.displayName=q9;var dN=cN;l();import*as fN from"react";function kg(e){let[t,o]=fN.useState(void 0);return dr(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;let a=n[0],s,i;if("borderBoxSize"in a){let u=a.borderBoxSize,c=Array.isArray(u)?u[0]:u;s=c.inlineSize,i=c.blockSize}else s=e.offsetWidth,i=e.offsetHeight;o({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else o(void 0)},[e]),t}import{jsx as Ai}from"react/jsx-runtime";var xS="Popper",[pN,vS]=Pu(xS),[$9,mN]=pN(xS),hN=e=>{let{__scopePopper:t,children:o}=e,[r,n]=Er.useState(null);return Ai($9,{scope:t,anchor:r,onAnchorChange:n,children:o})};hN.displayName=xS;var gN="PopperAnchor",yN=Er.forwardRef((e,t)=>{let{__scopePopper:o,virtualRef:r,...n}=e,a=mN(gN,o),s=Er.useRef(null),i=cr(t,s);return Er.useEffect(()=>{a.onAnchorChange(r?.current||s.current)}),r?null:Ai(jt.div,{...n,ref:i})});yN.displayName=gN;var wS="PopperContent",[G9,j9]=pN(wS),xN=Er.forwardRef((e,t)=>{let{__scopePopper:o,side:r="bottom",sideOffset:n=0,align:a="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,v=mN(wS,o),[x,w]=Er.useState(null),C=cr(t,z=>w(z)),[S,b]=Er.useState(null),R=kg(S),P=R?.width??0,M=R?.height??0,T=r+(a!=="center"?"-"+a:""),_=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],k=F.length>0,N={padding:_,boundary:F.filter(Y9),altBoundary:k},{refs:I,floatingStyles:A,placement:L,isPositioned:D,middlewareData:O}=Sh({strategy:"fixed",placement:T,whileElementsMounted:(...z)=>yd(...z,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[bh({mainAxis:n+M,alignmentAxis:s}),u&&Ih({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Rh():void 0,...N}),u&&Ph({...N}),Lh({...N,apply:({elements:z,rects:j,availableWidth:X,availableHeight:K})=>{let{width:re,height:ne}=j.reference,me=z.floating.style;me.setProperty("--radix-popper-available-width",`${X}px`),me.setProperty("--radix-popper-available-height",`${K}px`),me.setProperty("--radix-popper-anchor-width",`${re}px`),me.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),S&&Eh({element:S,padding:i}),X9({arrowWidth:P,arrowHeight:M}),p&&Mh({strategy:"referenceHidden",...N})]}),[E,V]=CN(L),B=Di(y);dr(()=>{D&&B?.()},[D,B]);let U=O.arrow?.x,$=O.arrow?.y,G=O.arrow?.centerOffset!==0,[H,q]=Er.useState();return dr(()=>{x&&q(window.getComputedStyle(x).zIndex)},[x]),Ai("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:D?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:Ai(G9,{scope:o,placedSide:E,onArrowChange:b,arrowX:U,arrowY:$,shouldHideArrow:G,children:Ai(jt.div,{"data-side":E,"data-align":V,...g,ref:C,style:{...g.style,animation:D?void 0:"none"}})})})});xN.displayName=wS;var vN="PopperArrow",K9={top:"bottom",right:"left",bottom:"top",left:"right"},wN=Er.forwardRef(function(t,o){let{__scopePopper:r,...n}=t,a=j9(vN,r),s=K9[a.placedSide];return Ai("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:Ai(dN,{...n,ref:o,style:{...n.style,display:"block"}})})});wN.displayName=vN;function Y9(e){return e!==null}var X9=e=>({name:"transformOrigin",options:e,fn(t){let{placement:o,rects:r,middlewareData:n}=t,s=n.arrow?.centerOffset!==0,i=s?0:e.arrowWidth,u=s?0:e.arrowHeight,[c,d]=CN(o),f={start:"0%",center:"50%",end:"100%"}[d],p=(n.arrow?.x??0)+i/2,m=(n.arrow?.y??0)+u/2,y="",g="";return c==="bottom"?(y=s?f:`${p}px`,g=`${-u}px`):c==="top"?(y=s?f:`${p}px`,g=`${r.floating.height+u}px`):c==="right"?(y=`${-u}px`,g=s?f:`${m}px`):c==="left"&&(y=`${r.floating.width+u}px`,g=s?f:`${m}px`),{data:{x:y,y:g}}}});function CN(e){let[t,o="center"]=e.split("-");return[t,o]}var SN=hN,bN=yN,IN=xN,RN=wN;l();import*as Og from"react";import Z9 from"react-dom";import{jsx as J9}from"react/jsx-runtime";var eX="Portal",CS=Og.forwardRef((e,t)=>{let{container:o,...r}=e,[n,a]=Og.useState(!1);dr(()=>a(!0),[]);let s=o||n&&globalThis?.document?.body;return s?Z9.createPortal(J9(jt.div,{...r,ref:t}),s):null});CS.displayName=eX;l();import*as fr from"react";import*as PN from"react";function tX(e,t){return PN.useReducer((o,r)=>t[o][r]??o,e)}var _g=e=>{let{present:t,children:o}=e,r=oX(t),n=typeof o=="function"?o({present:r.isPresent}):fr.Children.only(o),a=cr(r.ref,rX(n));return typeof o=="function"||r.isPresent?fr.cloneElement(n,{ref:a}):null};_g.displayName="Presence";function oX(e){let[t,o]=fr.useState(),r=fr.useRef(null),n=fr.useRef(e),a=fr.useRef("none"),s=e?"mounted":"unmounted",[i,u]=tX(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return fr.useEffect(()=>{let c=Ng(r.current);a.current=i==="mounted"?c:"none"},[i]),dr(()=>{let c=r.current,d=n.current;if(d!==e){let p=a.current,m=Ng(c);e?u("MOUNT"):m==="none"||c?.display==="none"?u("UNMOUNT"):u(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,u]),dr(()=>{if(t){let c,d=t.ownerDocument.defaultView??window,f=m=>{let g=Ng(r.current).includes(m.animationName);if(m.target===t&&g&&(u("ANIMATION_END"),!n.current)){let v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=m=>{m.target===t&&(a.current=Ng(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:fr.useCallback(c=>{r.current=c?getComputedStyle(c):null,o(c)},[])}}function Ng(e){return e?.animationName||"none"}function rX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}l();import*as $r from"react";import*as Bg from"react";var nX=$r[" useInsertionEffect ".trim().toString()]||dr;function Fg({prop:e,defaultProp:t,onChange:o=()=>{},caller:r}){let[n,a,s]=aX({defaultProp:t,onChange:o}),i=e!==void 0,u=i?e:n;{let d=$r.useRef(e!==void 0);$r.useEffect(()=>{let f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}let c=$r.useCallback(d=>{if(i){let f=sX(d)?d(e):d;f!==e&&s.current?.(f)}else a(d)},[i,e,a,s]);return[u,c]}function aX({defaultProp:e,onChange:t}){let[o,r]=$r.useState(e),n=$r.useRef(o),a=$r.useRef(t);return nX(()=>{a.current=t},[t]),$r.useEffect(()=>{n.current!==o&&(a.current?.(o),n.current=o)},[o,n]),[o,r,a]}function sX(e){return typeof e=="function"}var P5e=Symbol("RADIX:SYNC_STATE");l();import*as LN from"react";import{jsx as iX}from"react/jsx-runtime";var lX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uX="VisuallyHidden",MN=LN.forwardRef((e,t)=>iX(jt.span,{...e,ref:t,style:{...lX,...e.style}}));MN.displayName=uX;var EN=MN;import{jsx as vo,jsxs as dX}from"react/jsx-runtime";var[Vg,W5e]=Pu("Tooltip",[vS]),Hg=vS(),TN="TooltipProvider",fX=700,SS="tooltip.open",[pX,IS]=Vg(TN),DN=e=>{let{__scopeTooltip:t,delayDuration:o=fX,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:a}=e,s=ve.useRef(!0),i=ve.useRef(!1),u=ve.useRef(0);return ve.useEffect(()=>{let c=u.current;return()=>window.clearTimeout(c)},[]),vo(pX,{scope:t,isOpenDelayedRef:s,delayDuration:o,onOpen:ve.useCallback(()=>{window.clearTimeout(u.current),s.current=!1},[]),onClose:ve.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:ve.useCallback(c=>{i.current=c},[]),disableHoverableContent:n,children:a})};DN.displayName=TN;var ef="Tooltip",[mX,tf]=Vg(ef),AN=e=>{let{__scopeTooltip:t,children:o,open:r,defaultOpen:n,onOpenChange:a,disableHoverableContent:s,delayDuration:i}=e,u=IS(ef,e.__scopeTooltip),c=Hg(t),[d,f]=ve.useState(null),p=iN(),m=ve.useRef(0),y=s??u.disableHoverableContent,g=i??u.delayDuration,v=ve.useRef(!1),[x,w]=Fg({prop:r,defaultProp:n??!1,onChange:P=>{P?(u.onOpen(),document.dispatchEvent(new CustomEvent(SS))):u.onClose(),a?.(P)},caller:ef}),C=ve.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),S=ve.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,w(!0)},[w]),b=ve.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),R=ve.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,w(!0),m.current=0},g)},[g,w]);return ve.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),vo(SN,{...c,children:vo(mX,{scope:t,contentId:p,open:x,stateAttribute:C,trigger:d,onTriggerChange:f,onTriggerEnter:ve.useCallback(()=>{u.isOpenDelayedRef.current?R():S()},[u.isOpenDelayedRef,R,S]),onTriggerLeave:ve.useCallback(()=>{y?b():(window.clearTimeout(m.current),m.current=0)},[b,y]),onOpen:S,onClose:b,disableHoverableContent:y,children:o})})};AN.displayName=ef;var bS="TooltipTrigger",kN=ve.forwardRef((e,t)=>{let{__scopeTooltip:o,...r}=e,n=tf(bS,o),a=IS(bS,o),s=Hg(o),i=ve.useRef(null),u=cr(t,i,n.onTriggerChange),c=ve.useRef(!1),d=ve.useRef(!1),f=ve.useCallback(()=>c.current=!1,[]);return ve.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),vo(bN,{asChild:!0,...s,children:vo(jt.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:u,onPointerMove:Mr(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(n.onTriggerEnter(),d.current=!0)}),onPointerLeave:Mr(e.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:Mr(e.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Mr(e.onFocus,()=>{c.current||n.onOpen()}),onBlur:Mr(e.onBlur,n.onClose),onClick:Mr(e.onClick,n.onClose)})})});kN.displayName=bS;var RS="TooltipPortal",[hX,gX]=Vg(RS,{forceMount:void 0}),ON=e=>{let{__scopeTooltip:t,forceMount:o,children:r,container:n}=e,a=tf(RS,t);return vo(hX,{scope:t,forceMount:o,children:vo(_g,{present:o||a.open,children:vo(CS,{asChild:!0,container:n,children:r})})})};ON.displayName=RS;var Mu="TooltipContent",NN=ve.forwardRef((e,t)=>{let o=gX(Mu,e.__scopeTooltip),{forceMount:r=o.forceMount,side:n="top",...a}=e,s=tf(Mu,e.__scopeTooltip);return vo(_g,{present:r||s.open,children:s.disableHoverableContent?vo(_N,{side:n,...a,ref:t}):vo(yX,{side:n,...a,ref:t})})}),yX=ve.forwardRef((e,t)=>{let o=tf(Mu,e.__scopeTooltip),r=IS(Mu,e.__scopeTooltip),n=ve.useRef(null),a=cr(t,n),[s,i]=ve.useState(null),{trigger:u,onClose:c}=o,d=n.current,{onPointerInTransitChange:f}=r,p=ve.useCallback(()=>{i(null),f(!1)},[f]),m=ve.useCallback((y,g)=>{let v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=SX(x,v.getBoundingClientRect()),C=bX(x,w),S=IX(g.getBoundingClientRect()),b=PX([...C,...S]);i(b),f(!0)},[f]);return ve.useEffect(()=>()=>p(),[p]),ve.useEffect(()=>{if(u&&d){let y=v=>m(v,d),g=v=>m(v,u);return u.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[u,d,m,p]),ve.useEffect(()=>{if(s){let y=g=>{let v=g.target,x={x:g.clientX,y:g.clientY},w=u?.contains(v)||d?.contains(v),C=!RX(x,s);w?p():C&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[u,d,s,c,p]),vo(_N,{...e,ref:a})}),[xX,vX]=Vg(ef,{isInside:!1}),wX=YO("TooltipContent"),_N=ve.forwardRef((e,t)=>{let{__scopeTooltip:o,children:r,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:s,...i}=e,u=tf(Mu,o),c=Hg(o),{onClose:d}=u;return ve.useEffect(()=>(document.addEventListener(SS,d),()=>document.removeEventListener(SS,d)),[d]),ve.useEffect(()=>{if(u.trigger){let f=p=>{p.target?.contains(u.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,d]),vo(gS,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:dX(IN,{"data-state":u.stateAttribute,...c,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[vo(wX,{children:r}),vo(xX,{scope:o,isInside:!0,children:vo(EN,{id:u.contentId,role:"tooltip",children:n||r})})]})})});NN.displayName=Mu;var FN="TooltipArrow",CX=ve.forwardRef((e,t)=>{let{__scopeTooltip:o,...r}=e,n=Hg(o);return vX(FN,o).isInside?null:vo(RN,{...n,...r,ref:t})});CX.displayName=FN;function SX(e,t){let o=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(o,r,n,a)){case a:return"left";case n:return"right";case o:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bX(e,t,o=5){let r=[];switch(t){case"top":r.push({x:e.x-o,y:e.y+o},{x:e.x+o,y:e.y+o});break;case"bottom":r.push({x:e.x-o,y:e.y-o},{x:e.x+o,y:e.y-o});break;case"left":r.push({x:e.x+o,y:e.y-o},{x:e.x+o,y:e.y+o});break;case"right":r.push({x:e.x-o,y:e.y-o},{x:e.x-o,y:e.y+o});break}return r}function IX(e){let{top:t,right:o,bottom:r,left:n}=e;return[{x:n,y:t},{x:o,y:t},{x:o,y:r},{x:n,y:r}]}function RX(e,t){let{x:o,y:r}=e,n=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){let i=t[a],u=t[s],c=i.x,d=i.y,f=u.x,p=u.y;d>r!=p>r&&o<(f-c)*(r-d)/(p-d)+c&&(n=!n)}return n}function PX(e){let t=e.slice();return t.sort((o,r)=>o.x<r.x?-1:o.x>r.x?1:o.y<r.y?-1:o.y>r.y?1:0),LX(t)}function LX(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(n.y-s.y)>=(a.y-s.y)*(n.x-s.x))t.pop();else break}t.push(n)}t.pop();let o=[];for(let r=e.length-1;r>=0;r--){let n=e[r];for(;o.length>=2;){let a=o[o.length-1],s=o[o.length-2];if((a.x-s.x)*(n.y-s.y)>=(a.y-s.y)*(n.x-s.x))o.pop();else break}o.push(n)}return o.pop(),t.length===1&&o.length===1&&t[0].x===o[0].x&&t[0].y===o[0].y?t:t.concat(o)}var BN=DN,VN=AN,HN=kN,UN=ON,PS=NN;import*as zN from"react";import{jsx as LS}from"react/jsx-runtime";var Eu=BN,Tu=VN,Du=HN,ki=zN.forwardRef(({className:e,sideOffset:t=4,...o},r)=>LS(UN,{children:LS("div",{className:"ps",children:LS(PS,{ref:r,sideOffset:t,className:W("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin)",e),...o})})}));ki.displayName=PS.displayName;import{Fragment as AX,jsx as Ke,jsxs as Au}from"react/jsx-runtime";var zg=({iconElement:e,tooltipText:t,className:o})=>Au(Tu,{children:[Ke(Du,{asChild:!0,children:Ke("span",{className:o,children:e})}),Ke(ki,{children:t})]}),$N=EX(({data:e})=>{let{metadata:{activeSchema:t},createUrl:o}=Ge(),r=e.label==="No Tables Found",n=a=>{let s=[];if(r&&a.type==="info")return s.push(Ke(zg,{iconElement:Ke(Dn,{size:16}),tooltipText:"Informational message"},"info")),s;if(a.isPrimary?s.push(Ke(zg,{iconElement:Ke(ca,{size:12,className:"text-primary"}),tooltipText:"Primary Key",className:"bg-muted text-muted-foreground rounded-full p-0.5 flex items-center justify-center w-5 h-5"},"pk")):a.isNullable&&s.push(Ke(zg,{iconElement:Ke("span",{className:"text-muted-foreground text-center inline-block w-4",children:"?"}),tooltipText:"Nullable",className:"bg-muted text-muted-foreground rounded-full p-0.5 flex items-center justify-center w-5 h-5"},"nullable")),a.isForeignKey){let i=a.foreignKeyTo?`Foreign Key to ${a.foreignKeyTo.table}.${a.foreignKeyTo.column}`:"Foreign Key";s.push(Ke(zg,{iconElement:Ke(ca,{size:12}),tooltipText:i,className:"bg-primary text-primary-foreground rounded-full p-0.5 flex items-center justify-center w-5 h-5"},"fk"))}return s};return Ke(Eu,{delayDuration:300,children:Au("div",{className:W("min-w-[250px] shadow-xl rounded-md border border-border bg-card",r&&"border-orange-400"),children:[Ke(Ei,{type:"target",position:ie.Top,style:{opacity:0}}),Au("div",{className:W("px-4 py-3 border-b border-border flex justify-between items-center",r&&"bg-orange-100 dark:bg-orange-950 text-orange-700 dark:text-orange-300"),children:[Ke("div",{className:"font-semibold",children:e.label}),!r&&Ke("a",{href:o({tableParam:e.label,schemaParam:t?.name,viewParam:"table"}),rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary",title:`Open table ${e.label}`,onClick:a=>a.stopPropagation(),children:Ke(rs,{className:"w-4 h-4"})})]}),Ke("div",{className:"px-4 py-2",children:r?Au("div",{className:"flex items-center gap-2 py-8 text-sm text-muted-foreground",children:[n({name:"message",type:"info",isNullable:!1,isPrimary:!1,isForeignKey:!1}).map((a,s)=>Ke("div",{children:a},s)),Ke("span",{className:"flex-1",children:"No database tables found. Connect to a database to see your schema."})]}):e.fields.map((a,s)=>Au("div",{className:W("flex items-center gap-2 py-2 text-sm",a.isPrimary&&"text-primary"),children:[Ke("div",{className:"flex items-center gap-1 min-w-[calc(1.25rem*2+0.25rem)]",children:n(a).map((i,u)=>Ke("div",{children:i},u))}),Ke("span",{className:"flex-1 truncate max-w-44",children:a.name}),Ke("span",{className:"text-xs text-muted-foreground font-mono truncate",children:a.type})]},s))}),Ke(Ei,{type:"source",position:ie.Bottom,style:{opacity:0}})]})})});$N.displayName="TableNode";var DX={tableNode:$N};function WN(e,t){if(e.length<=3)return e.map((a,s)=>({id:a.name,type:"tableNode",data:{label:a.name,fields:a.fields},position:{x:350*s,y:50}}));let o=350,r=300,n=Math.ceil(Math.sqrt(e.length));return e.map((a,s)=>{let i=s%n,u=Math.floor(s/n);return{id:a.name,type:"tableNode",data:{label:a.name,fields:a.fields},position:{x:i*o,y:u*r}}})}function GN({tables:e,relationships:t}){let o=Ug(()=>new Set(e.map(g=>g.name)),[e]),r=Ug(()=>t.filter(g=>o.has(g.from)&&o.has(g.to)),[t,o]),n=Ug(()=>WN(e,r),[e,r]),a=Ug(()=>r.map((g,v)=>({id:`e${v}`,source:g.from,target:g.to,animated:!0,label:g.type,type:"smoothstep",style:{stroke:"var(--primary)",strokeWidth:1,strokeDasharray:"5 5"},labelStyle:{fill:"var(--primary)",fontSize:12}})),[r]),[s,i,u]=NO(n),[c,d,f]=_O(a);qN(()=>{i(WN(e,r))},[e,r,i]),qN(()=>{d(r.map((g,v)=>({id:`e${v}`,source:g.from,target:g.to,animated:!0,label:g.type,type:"smoothstep",style:{stroke:"var(--primary)",strokeWidth:1,strokeDasharray:"5 5"},labelStyle:{fontSize:12}})))},[r,d]);let p=TX(g=>d(v=>iS(g,v)),[d]),m=W("shadow-sm","[&_button]:border [&_button]:border-input [&_button]:bg-background [&_button]:shadow-sm hover:[&_button]:bg-accent hover:[&_button]:text-accent-foreground","[&_button_>_svg]:fill-foreground"),y=W("bg-muted/70 backdrop-blur-sm","[&_svg_>_rect]:fill-muted-foreground/80","[&_svg_>_path]:fill-background [&_svg_>_path]:opacity-50");return Ke(AX,{children:Ke("div",{className:"w-full h-full bg-card",children:Au(Ag,{nodes:s,edges:c,onNodesChange:u,onEdgesChange:f,onConnect:p,connectionLineType:Vn.SmoothStep,nodeTypes:DX,fitView:!0,fitViewOptions:{padding:.2},children:[Ke(WO,{className:"bg-muted",gap:16}),Ke(zO,{showInteractive:!1,className:m}),Ke(HO,{pannable:!0,className:y})]})})})}import{Fragment as kX,jsx as fn,jsxs as of}from"react/jsx-runtime";function jN(e){let{tables:t,relationships:o}=mA();return of(kX,{children:[of(cu,{children:[of("div",{className:"flex items-center gap-2",children:[fn("span",{className:"bg-muted text-muted-foreground rounded-full p-0.5 flex items-center justify-center w-5 h-5",children:fn(ca,{size:12,className:"text-primary"})}),fn("p",{className:"text-xs text-muted-foreground",children:"Primary Key"})]}),of("div",{className:"flex items-center gap-2",children:[fn("span",{className:"bg-muted text-muted-foreground rounded-full p-0.5 flex items-center justify-center w-5 h-5",children:fn("span",{className:"text-center leading-none",children:"?"})}),fn("p",{className:"text-xs text-muted-foreground",children:"Nullable"})]}),of("div",{className:"flex items-center gap-2",children:[fn("span",{className:"bg-primary text-primary-foreground rounded-full p-0.5 flex items-center justify-center w-5 h-5",children:fn(ca,{size:12})}),fn("p",{className:"text-xs text-muted-foreground",children:"Foreign Key"})]})]}),fn("div",{className:"w-full h-full",children:fn(GN,{tables:t,relationships:o})})]})}l();l();l();l();import{jsx as h4e}from"react/jsx-runtime";l();l();import{useState as gGe,useLayoutEffect as yGe}from"react";import{createPortal as vGe}from"react-dom";l();import{useState as bGe,useEffect as IGe}from"react";l();import{useState as OGe,useEffect as NGe}from"react";l();l();l();import{useState as UGe,useInsertionEffect as zGe}from"react";l();l();l();l();import{useEffect as t4e}from"react";l();import{useInsertionEffect as a4e}from"react";l();import{jsx as Ni,jsxs as t_}from"react/jsx-runtime";import{forwardRef as n7,useMemo as o_,useContext as a7}from"react";l();import{jsx as BX}from"react/jsx-runtime";var jo="var(--mask-height, 0.15em)",MS="var(--mask-width, 0.5em)",Oi=`calc(${MS} / var(--invert-x, 1))`,qg="#000 0, transparent 71%",VX=`linear-gradient(to right, transparent 0, #000 ${Oi}, #000 calc(100% - ${Oi}), transparent),linear-gradient(to bottom, transparent 0, #000 ${jo}, #000 calc(100% - ${jo}), transparent 100%),radial-gradient(at bottom right, ${qg}),radial-gradient(at bottom left, ${qg}), radial-gradient(at top left, ${qg}), radial-gradient(at top right, ${qg})`,HX=`100% calc(100% - ${jo} * 2),calc(100% - ${Oi} * 2) 100%,${Oi} ${jo},${Oi} ${jo},${Oi} ${jo},${Oi} ${jo}`;uc({"--invert-x":{correct:(e,{treeScale:t,projectionDelta:o})=>o.x.scale*t.x}});function KN({children:e,layoutDependency:t}){return BX(qe.span,{layout:!0,layoutDependency:t,"aria-hidden":!0,style:{display:"inline-flex","--invert-x":1,margin:`0 calc(-1*${MS})`,padding:`calc(${jo}/2) ${MS}`,position:"relative",zIndex:-1,overflow:"clip",WebkitMaskImage:VX,WebkitMaskSize:HX,WebkitMaskPosition:"center, center, top left, top right, bottom right, bottom left",WebkitMaskRepeat:"no-repeat"},children:e})}l();import{jsx as nf,jsxs as ZX}from"react/jsx-runtime";import{forwardRef as JX,useRef as JN,useImperativeHandle as e7,useMemo as t7,useState as o7,useEffect as r7}from"react";l();import{useRef as UX,useEffect as zX}from"react";function Wg(){let e=UX(!0);return zX(()=>{e.current=!1},[]),e.current}l();import{jsx as Gg,jsxs as qX}from"react/jsx-runtime";import{forwardRef as WX,useContext as $X,useRef as rf,useImperativeHandle as GX,useLayoutEffect as YN,useState as jX,useEffect as KX}from"react";l();function ku(e){let{width:t,fontSize:o}=getComputedStyle(e);return`${parseFloat(t)/parseFloat(o)}em`}l();var $g=new WeakMap;var QN=WX(function({value:t,initialValue:o=t,...r},n){let{transition:a}=$X(er),s=rf(o).current,i=Wg(),u=rf(null),c=rf(null);GX(n,()=>c.current,[]);let d=rf(new Array(10)),f=rc(),p=f?t:0;YN(()=>{!u.current||!d.current[s]||(u.current.style.width=ku(d.current[s]))},[]);let m=rf(o);YN(()=>{if(!u.current||p===m.current)return;let x=u.current.getBoundingClientRect(),w=c.current?.getBoundingClientRect(),C=x.height*(p-m.current)+(x.top-(w?w.top||0:x.top));return Av(u.current,{y:[C,0]},a),()=>{m.current=p}},[p]);let[y,g]=jX();KX(()=>{if(i&&s===p||!d.current[p])return;let x=ku(d.current[p]);c.current&&$g.set(c.current,x),g(x)},[p]);let v=x=>Gg("span",{style:{display:"inline-block",padding:`calc(${jo}/2) 0`},ref:w=>void(d.current[x]=w),children:x},x);return Gg(qe.span,{...r,ref:c,layout:"position","data-state":f?void 0:"exiting",style:{display:"inline-flex",justifyContent:"center",width:y},children:qX("span",{ref:u,style:{display:"inline-flex",justifyContent:"center",flexDirection:"column",alignItems:"center",position:"relative"},children:[p!==0&&Gg("span",{style:{...XN,bottom:"100%",left:0},children:new Array(p).fill(null).map((x,w)=>v(w))}),v(p),p!==9&&Gg("span",{style:{...XN,top:"100%",left:0},children:new Array(9-p).fill(null).map((x,w)=>v(p+w+1))})]})})}),XN={display:"flex",flexDirection:"column",alignItems:"center",position:"absolute",width:"100%"};l();import{jsx as ES}from"react/jsx-runtime";import{forwardRef as XX,useContext as QX}from"react";l();import{createContext as YX}from"react";var jg=YX({justify:"left"});var ZN=XX(function({partKey:t,type:o,children:r,layoutDependency:n,...a},s){let i=rc(),{justify:u}=QX(jg);return ES(qe.span,{...a,"data-state":i?void 0:"exiting",style:{display:"inline-flex",justifyContent:u,padding:`calc(${jo}/2) 0`,position:"relative"},layout:"position",layoutDependency:n,ref:s,children:ES(Zr,{mode:"popLayout",anchorX:u,initial:!1,children:ES(qe.span,{layout:u==="right"?"position":!1,layoutDependency:n,initial:{opacity:0},animate:{opacity:[null,1]},exit:{opacity:[null,0]},style:{display:"inline-block",whiteSpace:"pre"},children:r},r)})})});var af=JX(function({parts:t,justify:o="left",mode:r,style:n,name:a,layoutDependency:s,...i},u){let c=JN(null);e7(u,()=>c.current,[]);let d=t7(()=>({justify:o}),[o]),f=JN(null),p=Wg(),[m,y]=o7();return r7(()=>{if(!f.current)return;if(p){c.current&&(c.current.style.width=ku(f.current));return}let g=Array.from(f.current.children).map(v=>{if(!(v instanceof HTMLElement))return;if(v.dataset.state==="exiting"){let C=v.nextSibling;return v.remove(),()=>{f.current&&f.current.insertBefore(v,C)}}let x=$g.get(v);if(!x)return;let w=v.style.width;return v.style.width=x,()=>{v.style.width=w}});y(ku(f.current));for(let v=g.length-1;v>=0;v--){let x=g[v];x&&x()}},[t.map(g=>g.value).join("")]),nf(jg.Provider,{value:d,children:nf(qe.span,{layoutDependency:s,...i,ref:c,className:`number-section-${a}`,style:{...n,display:"inline-flex",justifyContent:o,width:m},children:ZX("span",{ref:f,style:{display:"inline-flex",justifyContent:"inherit",position:"relative"},children:["\u200B",nf(Zr,{mode:r,anchorX:o,initial:!1,children:t.map(g=>g.type==="integer"||g.type==="fraction"?nf(QN,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},value:g.value,initialValue:p?void 0:0,layoutDependency:s},g.key):nf(ZN,{type:g.type,partKey:g.key,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},layoutDependency:s,children:g.value},g.type==="literal"?`${g.key}:${g.value}`:g.key))})]})})})});l();var e_=(e,{locales:t,format:o},r,n)=>{let s=new Intl.NumberFormat(t,o).formatToParts(Number(e));r&&s.unshift({type:"prefix",value:r}),n&&s.push({type:"suffix",value:n});let i=[],u=[],c=[],d=[],f={},p=x=>`${x}:${f[x]=(f[x]??-1)+1}`,m="",y=!1,g=!1;for(let x of s){m+=x.value;let w=x.type==="minusSign"||x.type==="plusSign"?"sign":x.type;switch(w){case"integer":y=!0,u.push(...x.value.split("").map(C=>({type:w,value:parseInt(C)})));break;case"group":u.push({type:w,value:x.value});break;case"decimal":g=!0,c.push({type:w,value:x.value,key:p(w)});break;case"fraction":c.push(...x.value.split("").map(C=>({type:w,value:parseInt(C),key:p(w)})));break;default:(y||g?d:i).push({type:w,value:x.value,key:p(w)})}}let v=[];for(let x=u.length-1;x>=0;x--)v.unshift({...u[x],key:p(u[x].type)});return{pre:i,integer:v,fraction:c,post:d,formatted:m}};var s7={opacity:{duration:1,ease:gc},layout:{type:"spring",duration:1,bounce:0},y:{type:"spring",duration:1,bounce:0}},sf=n7(function({children:t,locales:o,format:r,transition:n,style:a,suffix:s,prefix:i,...u},c){let d=o_(()=>e_(t,{locales:o,format:r},i,s),[t,o,r]),{pre:f,integer:p,fraction:m,post:y,formatted:g}=d,v=a7(er).transition;n=n??v??s7;let{layoutDependency:x}=u,w=o_(()=>{if(x!==void 0)return{layoutDependency:x,value:t}},[x,t]);return Ni(Ax,{children:Ni(Ox,{transition:n,children:Ni(qe.div,{...u,ref:c,layout:!0,layoutDependency:w,style:{lineHeight:1,...a,display:"inline-flex",isolation:"isolate",whiteSpace:"nowrap"},children:t_(qe.div,{layout:!0,layoutDependency:w,"aria-label":g,style:{display:"inline-flex",direction:"ltr",isolation:"isolate",position:"relative",zIndex:-1},children:[Ni(af,{style:{padding:`calc(${jo}/2) 0`},layoutDependency:w,"aria-hidden":!0,justify:"right",mode:"popLayout",parts:f,name:"pre"}),t_(KN,{layoutDependency:w,children:[Ni(af,{layoutDependency:w,justify:"right",parts:p,name:"integer"}),Ni(af,{layout:"position",layoutDependency:w,parts:m,name:"fraction"})]}),Ni(af,{style:{padding:`calc(${jo}/2) 0`},"aria-hidden":!0,layout:"position",layoutDependency:w,mode:"popLayout",parts:y,name:"post"})]})})})})});l();import{jsx as Rje}from"react/jsx-runtime";import*as r_ from"react";import{useMemo as Mje}from"react";var Eje=qe.create(r_.Fragment);import{useEffect as pne,useState as mne}from"react";l();l();import*as ct from"react";l();import*as pr from"react";import*as n_ from"react";function i7(e,t){return n_.useReducer((o,r)=>t[o][r]??o,e)}var pn=e=>{let{present:t,children:o}=e,r=l7(t),n=typeof o=="function"?o({present:r.isPresent}):pr.Children.only(o),a=Le(r.ref,u7(n));return typeof o=="function"||r.isPresent?pr.cloneElement(n,{ref:a}):null};pn.displayName="Presence";function l7(e){let[t,o]=pr.useState(),r=pr.useRef({}),n=pr.useRef(e),a=pr.useRef("none"),s=e?"mounted":"unmounted",[i,u]=i7(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return pr.useEffect(()=>{let c=Kg(r.current);a.current=i==="mounted"?c:"none"},[i]),Dt(()=>{let c=r.current,d=n.current;if(d!==e){let p=a.current,m=Kg(c);e?u("MOUNT"):m==="none"||c?.display==="none"?u("UNMOUNT"):u(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,u]),Dt(()=>{if(t){let c,d=t.ownerDocument.defaultView??window,f=m=>{let g=Kg(r.current).includes(m.animationName);if(m.target===t&&g&&(u("ANIMATION_END"),!n.current)){let v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=m=>{m.target===t&&(a.current=Kg(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:pr.useCallback(c=>{c&&(r.current=getComputedStyle(c)),o(c)},[])}}function Kg(e){return e?.animationName||"none"}function u7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}import{jsx as Kt}from"react/jsx-runtime";var TS="Popover",[a_,dKe]=so(TS,[ma]),lf=ma(),[c7,ws]=a_(TS),s_=e=>{let{__scopePopover:t,children:o,open:r,defaultOpen:n,onOpenChange:a,modal:s=!1}=e,i=lf(t),u=ct.useRef(null),[c,d]=ct.useState(!1),[f=!1,p]=Pr({prop:r,defaultProp:n,onChange:a});return Kt(ci,{...i,children:Kt(c7,{scope:t,contentId:ar(),triggerRef:u,open:f,onOpenChange:p,onOpenToggle:ct.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:c,onCustomAnchorAdd:ct.useCallback(()=>d(!0),[]),onCustomAnchorRemove:ct.useCallback(()=>d(!1),[]),modal:s,children:o})})};s_.displayName=TS;var i_="PopoverAnchor",d7=ct.forwardRef((e,t)=>{let{__scopePopover:o,...r}=e,n=ws(i_,o),a=lf(o),{onCustomAnchorAdd:s,onCustomAnchorRemove:i}=n;return ct.useEffect(()=>(s(),()=>i()),[s,i]),Kt(di,{...a,...r,ref:t})});d7.displayName=i_;var l_="PopoverTrigger",u_=ct.forwardRef((e,t)=>{let{__scopePopover:o,...r}=e,n=ws(l_,o),a=lf(o),s=Le(t,n.triggerRef),i=Kt(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":m_(n.open),...r,ref:s,onClick:ee(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?i:Kt(di,{asChild:!0,...a,children:i})});u_.displayName=l_;var DS="PopoverPortal",[f7,p7]=a_(DS,{forceMount:void 0}),c_=e=>{let{__scopePopover:t,forceMount:o,children:r,container:n}=e,a=ws(DS,t);return Kt(f7,{scope:t,forceMount:o,children:Kt(pn,{present:o||a.open,children:Kt(fi,{asChild:!0,container:n,children:r})})})};c_.displayName=DS;var Ou="PopoverContent",d_=ct.forwardRef((e,t)=>{let o=p7(Ou,e.__scopePopover),{forceMount:r=o.forceMount,...n}=e,a=ws(Ou,e.__scopePopover);return Kt(pn,{present:r||a.open,children:a.modal?Kt(m7,{...n,ref:t}):Kt(h7,{...n,ref:t})})});d_.displayName=Ou;var m7=ct.forwardRef((e,t)=>{let o=ws(Ou,e.__scopePopover),r=ct.useRef(null),n=Le(t,r),a=ct.useRef(!1);return ct.useEffect(()=>{let s=r.current;if(s)return ou(s)},[]),Kt(gi,{as:Do,allowPinchZoom:!0,children:Kt(f_,{...e,ref:n,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,s=>{s.preventDefault(),a.current||o.triggerRef.current?.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,s=>{let i=s.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0,c=i.button===2||u;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ee(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),h7=ct.forwardRef((e,t)=>{let o=ws(Ou,e.__scopePopover),r=ct.useRef(!1),n=ct.useRef(!1);return Kt(f_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||o.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(n.current=!0));let s=a.target;o.triggerRef.current?.contains(s)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&n.current&&a.preventDefault()}})}),f_=ct.forwardRef((e,t)=>{let{__scopePopover:o,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...f}=e,p=ws(Ou,o),m=lf(o);return Yl(),Kt(oi,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:a,children:Kt(ti,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:Kt(Jl,{"data-state":m_(p.open),role:"dialog",id:p.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),p_="PopoverClose",g7=ct.forwardRef((e,t)=>{let{__scopePopover:o,...r}=e,n=ws(p_,o);return Kt(he.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>n.onOpenChange(!1))})});g7.displayName=p_;var y7="PopoverArrow",x7=ct.forwardRef((e,t)=>{let{__scopePopover:o,...r}=e,n=lf(o);return Kt(eu,{...n,...r,ref:t})});x7.displayName=y7;function m_(e){return e?"open":"closed"}var Yg=s_;var Xg=u_,Qg=c_,Nu=d_;import*as g_ from"react";import{jsx as AS}from"react/jsx-runtime";var y_=Yg,x_=Xg;var kS=g_.forwardRef(({className:e,align:t="center",sideOffset:o=4,...r},n)=>AS(Qg,{children:AS("div",{className:"ps",children:AS(Nu,{ref:n,align:t,sideOffset:o,className:W("z-50 w-72 rounded-md border border-border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-popover-content-transform-origin)",e),...r})})}));kS.displayName=Nu.displayName;l();import*as ba from"react";import{jsx as Sa}from"react/jsx-runtime";var OS=ba.forwardRef(({className:e,...t},o)=>Sa("div",{className:"relative w-full overflow-auto flex items-start h-full",children:Sa("table",{ref:o,className:W("w-full caption-bottom text-sm",e),...t})}));OS.displayName="Table";var NS=ba.forwardRef(({className:e,...t},o)=>Sa("thead",{ref:o,className:W(e),...t}));NS.displayName="TableHeader";var _S=ba.forwardRef(({className:e,...t},o)=>Sa("tbody",{ref:o,className:W("[&_tr:last-child]:border-0",e),...t}));_S.displayName="TableBody";var v7=ba.forwardRef(({className:e,...t},o)=>Sa("tfoot",{ref:o,className:W("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));v7.displayName="TableFooter";var _i=ba.forwardRef(({className:e,...t},o)=>Sa("tr",{ref:o,className:W("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));_i.displayName="TableRow";var uf=ba.forwardRef(({className:e,...t},o)=>Sa("th",{ref:o,className:W("h-10 px-2 text-left align-middle font-medium text-muted-foreground",e),...t}));uf.displayName="TableHead";var cf=ba.forwardRef(({className:e,...t},o)=>Sa("td",{ref:o,className:W("align-middle",e),...t}));cf.displayName="TableCell";var w7=ba.forwardRef(({className:e,...t},o)=>Sa("caption",{ref:o,className:W("mt-4 text-sm text-muted-foreground",e),...t}));w7.displayName="TableCaption";l();l();function C7(e,t){let o={filter:Ji(e,t.columns),table:`${t.schema}.${t.name}`};return JSON.stringify(o)}function v_(e,t){return{...e,__ps_rowid:C7(e,t)}}function Zg(e,t){let{row:o,rows:r}=e;return o!==void 0?{...e,row:v_(o,t)}:r!==void 0?{...e,rows:r.map(n=>v_(n,t))}:e}function w_(){let{adapter:e,onEvent:t}=ao(),o=rr(),{metadata:{activeTable:r}}=Ge(),{schema:n=null,name:a=null}=r??{};return Ks({mutationKey:["schema",n,"table",a,"insert"],async mutationFn(s){let[i,u]=await e.insert({rows:s,table:r},{});if(i)throw t({name:"studio_operation_error",payload:{operation:"insert",query:i.query,error:i}}),i;return t({name:"studio_operation_success",payload:{operation:"insert",query:u.query,error:void 0}}),Zg(u,r)},onSuccess(s){o.setQueriesData({exact:!1,queryKey:["schema",n,"table",a,"query"]},i=>i==null?i:{...i,rows:[...s.rows,...i.rows]})},retry:!1})}l();function C_(e){let{pageIndex:t,pageSize:o,sortOrder:r,filter:n}=e,{adapter:a,onEvent:s}=ao(),{metadata:{activeTable:i}}=Ge();return Dc({enabled:!!i,gcTime:0,placeholderData(u,c){let[,d,,f]=c?.queryKey||[];if(!(d!==i?.schema||f!==i?.name))return u},async queryFn({signal:u}){let[c,d]=await a.query({pageIndex:t,pageSize:o,sortOrder:r,table:i,filter:n},{abortSignal:u});if(c)throw s({name:"studio_operation_error",payload:{operation:"query",query:c.query,error:c}}),c;return s({name:"studio_operation_success",payload:{operation:"query",query:d.query,error:void 0}}),Zg(d,i)},queryKey:["schema",i?.schema||null,"table",i?.name||null,"query","sortOrder",r.map(u=>`${u.column}:${u.direction}`).join(",")||"natural","pageIndex",t,"pageSize",o,"filter",JSON.stringify(n)],staleTime:1/0})}l();function S_(){let{adapter:e,onEvent:t}=ao(),{metadata:{activeTable:o}}=Ge(),r=rr(),n=["schema",o?.schema??null,"table",o?.name??null];return Ks({mutationFn:async a=>{let[s,i]=await e.update(a.details,a.options);if(s)throw t({name:"studio_operation_error",payload:{operation:"update",query:s.query,error:s}}),s;return t({name:"studio_operation_success",payload:{operation:"update",query:i.query,error:void 0}}),i},mutationKey:[...n,"update"],onError(a,s){let{changes:i,row:u}=s.details;FS({getFinderFn(){let c={...u,...i},d=Ji(c,o.columns);return f=>Object.entries(d).every(([p,m])=>f[p]===m)},queryClient:r,table:o,updaterFn:function(d){return{...d,...Object.keys(i).reduce((f,p)=>({...f,[p]:u[p]}),{})}}})},onMutate(a){let{details:s}=a;FS({getFinderFn(){let{row:i}=s,u=Ji(i,o.columns);return c=>Object.entries(u).every(([d,f])=>c[d]===f)},queryClient:r,table:o,updaterFn:function(u){return{...u,...s.changes}}})},onSuccess(a,s){FS({getFinderFn(){let{changes:i,row:u}=s.details,c={...u,...i},d=Ji(c,o.columns);return f=>Object.entries(d).every(([p,m])=>f[p]===m)},queryClient:r,table:o,updaterFn:function(u){let{__ps_updated_at__:c}=u,{row:d}=a;return c!=null&&d.__ps_updated_at__<=c?u:{...u,...d}}})},retry:!1})}function FS(e){let{getFinderFn:t,queryClient:o,table:r,updaterFn:n}=e,a;o.setQueriesData({exact:!1,queryKey:["schema",r.schema,"table",r.name,"query"]},s=>{let{rows:i=[]}=s||{};if(i.length===0)return s;let u=i.findIndex(a??=t());if(u===-1)return s;let c=n(i[u]);return{...s,rows:[...i.slice(0,u),c,...i.slice(u+1)]}})}l();function Jg(){return Ac({predicate({options:{mutationKey:e}}){return e?.[4]==="insert"}})}l();import{useCallback as S7}from"react";function ey(){let{pageIndexParam:e,pageSizeParam:t,setPageIndexParam:o,setPageSizeParam:r}=Ge(),n=S7(a=>{if(typeof a=="function"){let s=a({pageIndex:+e,pageSize:+t});o(s.pageIndex+""),r(s.pageSize+"")}else o(a.pageIndex+""),r(a.pageSize+"")},[e,t,o,r]);return{paginationState:{pageIndex:+e,pageSize:+t},setPaginationState:n}}l();import{useEffect as b7,useState as I7}from"react";l();function b_(){let{adapter:e,onEvent:t}=ao(),o=rr(),{metadata:{activeTable:r}}=Ge(),{schema:n=null,name:a=null}=r??{};return Ks({mutationKey:["schema",n,"table",a,"delete"],async mutationFn(s){let[i,u]=await e.delete({rows:s,table:r},{});if(i)throw t({name:"studio_operation_error",payload:{operation:"delete",query:i.query,error:i}}),i;return t({name:"studio_operation_success",payload:{operation:"delete",query:u.query,error:void 0}}),u},async onSuccess(){await o.invalidateQueries({exact:!1,queryKey:["schema",n,"table",a,"query"]})},retry:!1})}function I_(e){let{metadata:{activeTable:t}}=Ge(),{paginationState:o}=ey(),[r,n]=I7({}),a=Object.keys(r).length!==0,{mutate:s}=b_();b7(()=>n({}),[t,o.pageIndex]);function i(){let u=e?.rows.filter(c=>r[c.__ps_rowid]);s(u??[],{onSuccess(){n({})}})}return{deleteSelection:i,setRowSelectionState:n,rowSelectionState:r,isSelecting:a}}l();import{useEffect as R7,useState as P7}from"react";function R_(){let{sortParam:e,setSortParam:t}=Ge(),o=s=>{if(!s)return[];try{return s.split(",").map(i=>{let[u,c]=i.split(":");return!u||!c||!["asc","desc"].includes(c)?null:{column:u,direction:c}}).filter(Boolean)}catch(i){return console.error("Failed to parse sorting parameter:",i),[]}},[r,n]=P7(()=>o(e));return R7(()=>{let s=o(e);n(s)},[e]),{sortingState:r,setSortingState:s=>{let i=typeof s=="function"?s(r):s;n(i);let u=i.length>0?i.map(c=>`${c.column}:${c.direction}`).join(","):null;t(u)}}}l();import{forwardRef as HQ}from"react";l();import{isValidElement as VQ}from"react";l();l();import*as Ze from"react";l();import*as se from"react";l();import*as lo from"react";import{jsx as Fi}from"react/jsx-runtime";var BS="rovingFocusGroup.onEntryFocus",L7={bubbles:!1,cancelable:!0},ty="RovingFocusGroup",[VS,P_,M7]=Gl(ty),[E7,HS]=so(ty,[M7]),[T7,D7]=E7(ty),L_=lo.forwardRef((e,t)=>Fi(VS.Provider,{scope:e.__scopeRovingFocusGroup,children:Fi(VS.Slot,{scope:e.__scopeRovingFocusGroup,children:Fi(A7,{...e,ref:t})})}));L_.displayName=ty;var A7=lo.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:o,orientation:r,loop:n=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,p=lo.useRef(null),m=Le(t,p),y=jl(a),[g=null,v]=Pr({prop:s,defaultProp:i,onChange:u}),[x,w]=lo.useState(!1),C=pt(c),S=P_(o),b=lo.useRef(!1),[R,P]=lo.useState(0);return lo.useEffect(()=>{let M=p.current;if(M)return M.addEventListener(BS,C),()=>M.removeEventListener(BS,C)},[C]),Fi(T7,{scope:o,orientation:r,dir:y,loop:n,currentTabStopId:g,onItemFocus:lo.useCallback(M=>v(M),[v]),onItemShiftTab:lo.useCallback(()=>w(!0),[]),onFocusableItemAdd:lo.useCallback(()=>P(M=>M+1),[]),onFocusableItemRemove:lo.useCallback(()=>P(M=>M-1),[]),children:Fi(he.div,{tabIndex:x||R===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{b.current=!0}),onFocus:ee(e.onFocus,M=>{let T=!b.current;if(M.target===M.currentTarget&&T&&!x){let _=new CustomEvent(BS,L7);if(M.currentTarget.dispatchEvent(_),!_.defaultPrevented){let F=S().filter(L=>L.focusable),k=F.find(L=>L.active),N=F.find(L=>L.id===g),A=[k,N,...F].filter(Boolean).map(L=>L.ref.current);T_(A,d)}}b.current=!1}),onBlur:ee(e.onBlur,()=>w(!1))})})}),M_="RovingFocusGroupItem",E_=lo.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:o,focusable:r=!0,active:n=!1,tabStopId:a,...s}=e,i=ar(),u=a||i,c=D7(M_,o),d=c.currentTabStopId===u,f=P_(o),{onFocusableItemAdd:p,onFocusableItemRemove:m}=c;return lo.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),Fi(VS.ItemSlot,{scope:o,id:u,focusable:r,active:n,children:Fi(he.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:t,onMouseDown:ee(e.onMouseDown,y=>{r?c.onItemFocus(u):y.preventDefault()}),onFocus:ee(e.onFocus,()=>c.onItemFocus(u)),onKeyDown:ee(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;let g=N7(y,c.orientation,c.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();let w=x.indexOf(y.currentTarget);x=c.loop?_7(x,w+1):x.slice(w+1)}setTimeout(()=>T_(x))}})})})});E_.displayName=M_;var k7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function O7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N7(e,t,o){let r=O7(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return k7[r]}function T_(e,t=!1){let o=document.activeElement;for(let r of e)if(r===o||(r.focus({preventScroll:t}),document.activeElement!==o))return}function _7(e,t){return e.map((o,r)=>e[(t+r)%e.length])}var D_=L_,A_=E_;import{jsx as ge}from"react/jsx-runtime";var US=["Enter"," "],B7=["ArrowDown","PageUp","Home"],O_=["ArrowUp","PageDown","End"],V7=[...B7,...O_],H7={ltr:[...US,"ArrowRight"],rtl:[...US,"ArrowLeft"]},U7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mf="Menu",[ff,z7,q7]=Gl(mf),[Bi,_u]=so(mf,[q7,ma,HS]),hf=ma(),N_=HS(),[__,Cs]=Bi(mf),[W7,gf]=Bi(mf),F_=e=>{let{__scopeMenu:t,open:o=!1,children:r,dir:n,onOpenChange:a,modal:s=!0}=e,i=hf(t),[u,c]=se.useState(null),d=se.useRef(!1),f=pt(a),p=jl(n);return se.useEffect(()=>{let m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),ge(ci,{...i,children:ge(__,{scope:t,open:o,onOpenChange:f,content:u,onContentChange:c,children:ge(W7,{scope:t,onClose:se.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:s,children:r})})})};F_.displayName=mf;var $7="MenuAnchor",zS=se.forwardRef((e,t)=>{let{__scopeMenu:o,...r}=e,n=hf(o);return ge(di,{...n,...r,ref:t})});zS.displayName=$7;var qS="MenuPortal",[G7,B_]=Bi(qS,{forceMount:void 0}),V_=e=>{let{__scopeMenu:t,forceMount:o,children:r,container:n}=e,a=Cs(qS,t);return ge(G7,{scope:t,forceMount:o,children:ge(pn,{present:o||a.open,children:ge(fi,{asChild:!0,container:n,children:r})})})};V_.displayName=qS;var Gr="MenuContent",[j7,WS]=Bi(Gr),H_=se.forwardRef((e,t)=>{let o=B_(Gr,e.__scopeMenu),{forceMount:r=o.forceMount,...n}=e,a=Cs(Gr,e.__scopeMenu),s=gf(Gr,e.__scopeMenu);return ge(ff.Provider,{scope:e.__scopeMenu,children:ge(pn,{present:r||a.open,children:ge(ff.Slot,{scope:e.__scopeMenu,children:s.modal?ge(K7,{...n,ref:t}):ge(Y7,{...n,ref:t})})})})}),K7=se.forwardRef((e,t)=>{let o=Cs(Gr,e.__scopeMenu),r=se.useRef(null),n=Le(t,r);return se.useEffect(()=>{let a=r.current;if(a)return ou(a)},[]),ge($S,{...e,ref:n,trapFocus:o.open,disableOutsidePointerEvents:o.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>o.onOpenChange(!1)})}),Y7=se.forwardRef((e,t)=>{let o=Cs(Gr,e.__scopeMenu);return ge($S,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>o.onOpenChange(!1)})}),$S=se.forwardRef((e,t)=>{let{__scopeMenu:o,loop:r=!1,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:u,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:y,...g}=e,v=Cs(Gr,o),x=gf(Gr,o),w=hf(o),C=N_(o),S=z7(o),[b,R]=se.useState(null),P=se.useRef(null),M=Le(t,P,v.onContentChange),T=se.useRef(0),_=se.useRef(""),F=se.useRef(0),k=se.useRef(null),N=se.useRef("right"),I=se.useRef(0),A=y?gi:se.Fragment,L=y?{as:Do,allowPinchZoom:!0}:void 0,D=E=>{let V=_.current+E,B=S().filter(z=>!z.disabled),U=document.activeElement,$=B.find(z=>z.ref.current===U)?.textValue,G=B.map(z=>z.textValue),H=iQ(G,V,$),q=B.find(z=>z.textValue===H)?.ref.current;(function z(j){_.current=j,window.clearTimeout(T.current),j!==""&&(T.current=window.setTimeout(()=>z(""),1e3))})(V),q&&setTimeout(()=>q.focus())};se.useEffect(()=>()=>window.clearTimeout(T.current),[]),Yl();let O=se.useCallback(E=>N.current===k.current?.side&&uQ(E,k.current?.area),[]);return ge(j7,{scope:o,searchRef:_,onItemEnter:se.useCallback(E=>{O(E)&&E.preventDefault()},[O]),onItemLeave:se.useCallback(E=>{O(E)||(P.current?.focus(),R(null))},[O]),onTriggerLeave:se.useCallback(E=>{O(E)&&E.preventDefault()},[O]),pointerGraceTimerRef:F,onPointerGraceIntentChange:se.useCallback(E=>{k.current=E},[]),children:ge(A,{...L,children:ge(oi,{asChild:!0,trapped:n,onMountAutoFocus:ee(a,E=>{E.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:ge(ti,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:ge(D_,{asChild:!0,...C,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:b,onCurrentTabStopIdChange:R,onEntryFocus:ee(u,E=>{x.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:ge(Jl,{role:"menu","aria-orientation":"vertical","data-state":rF(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...g,ref:M,style:{outline:"none",...g.style},onKeyDown:ee(g.onKeyDown,E=>{let B=E.target.closest("[data-radix-menu-content]")===E.currentTarget,U=E.ctrlKey||E.altKey||E.metaKey,$=E.key.length===1;B&&(E.key==="Tab"&&E.preventDefault(),!U&&$&&D(E.key));let G=P.current;if(E.target!==G||!V7.includes(E.key))return;E.preventDefault();let q=S().filter(z=>!z.disabled).map(z=>z.ref.current);O_.includes(E.key)&&q.reverse(),aQ(q)}),onBlur:ee(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(T.current),_.current="")}),onPointerMove:ee(e.onPointerMove,pf(E=>{let V=E.target,B=I.current!==E.clientX;if(E.currentTarget.contains(V)&&B){let U=E.clientX>I.current?"right":"left";N.current=U,I.current=E.clientX}}))})})})})})})});H_.displayName=Gr;var X7="MenuGroup",GS=se.forwardRef((e,t)=>{let{__scopeMenu:o,...r}=e;return ge(he.div,{role:"group",...r,ref:t})});GS.displayName=X7;var Q7="MenuLabel",U_=se.forwardRef((e,t)=>{let{__scopeMenu:o,...r}=e;return ge(he.div,{...r,ref:t})});U_.displayName=Q7;var oy="MenuItem",k_="menu.itemSelect",ny=se.forwardRef((e,t)=>{let{disabled:o=!1,onSelect:r,...n}=e,a=se.useRef(null),s=gf(oy,e.__scopeMenu),i=WS(oy,e.__scopeMenu),u=Le(t,a),c=se.useRef(!1),d=()=>{let f=a.current;if(!o&&f){let p=new CustomEvent(k_,{bubbles:!0,cancelable:!0});f.addEventListener(k_,m=>r?.(m),{once:!0}),uh(f,p),p.defaultPrevented?c.current=!1:s.onClose()}};return ge(z_,{...n,ref:u,disabled:o,onClick:ee(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),c.current=!0},onPointerUp:ee(e.onPointerUp,f=>{c.current||f.currentTarget?.click()}),onKeyDown:ee(e.onKeyDown,f=>{let p=i.searchRef.current!=="";o||p&&f.key===" "||US.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ny.displayName=oy;var z_=se.forwardRef((e,t)=>{let{__scopeMenu:o,disabled:r=!1,textValue:n,...a}=e,s=WS(oy,o),i=N_(o),u=se.useRef(null),c=Le(t,u),[d,f]=se.useState(!1),[p,m]=se.useState("");return se.useEffect(()=>{let y=u.current;y&&m((y.textContent??"").trim())},[a.children]),ge(ff.ItemSlot,{scope:o,disabled:r,textValue:n??p,children:ge(A_,{asChild:!0,...i,focusable:!r,children:ge(he.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:ee(e.onPointerMove,pf(y=>{r?s.onItemLeave(y):(s.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,pf(y=>s.onItemLeave(y))),onFocus:ee(e.onFocus,()=>f(!0)),onBlur:ee(e.onBlur,()=>f(!1))})})})}),Z7="MenuCheckboxItem",q_=se.forwardRef((e,t)=>{let{checked:o=!1,onCheckedChange:r,...n}=e;return ge(K_,{scope:e.__scopeMenu,checked:o,children:ge(ny,{role:"menuitemcheckbox","aria-checked":ry(o)?"mixed":o,...n,ref:t,"data-state":YS(o),onSelect:ee(n.onSelect,()=>r?.(ry(o)?!0:!o),{checkForDefaultPrevented:!1})})})});q_.displayName=Z7;var W_="MenuRadioGroup",[J7,eQ]=Bi(W_,{value:void 0,onValueChange:()=>{}}),$_=se.forwardRef((e,t)=>{let{value:o,onValueChange:r,...n}=e,a=pt(r);return ge(J7,{scope:e.__scopeMenu,value:o,onValueChange:a,children:ge(GS,{...n,ref:t})})});$_.displayName=W_;var G_="MenuRadioItem",j_=se.forwardRef((e,t)=>{let{value:o,...r}=e,n=eQ(G_,e.__scopeMenu),a=o===n.value;return ge(K_,{scope:e.__scopeMenu,checked:a,children:ge(ny,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":YS(a),onSelect:ee(r.onSelect,()=>n.onValueChange?.(o),{checkForDefaultPrevented:!1})})})});j_.displayName=G_;var jS="MenuItemIndicator",[K_,tQ]=Bi(jS,{checked:!1}),Y_=se.forwardRef((e,t)=>{let{__scopeMenu:o,forceMount:r,...n}=e,a=tQ(jS,o);return ge(pn,{present:r||ry(a.checked)||a.checked===!0,children:ge(he.span,{...n,ref:t,"data-state":YS(a.checked)})})});Y_.displayName=jS;var oQ="MenuSeparator",X_=se.forwardRef((e,t)=>{let{__scopeMenu:o,...r}=e;return ge(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});X_.displayName=oQ;var rQ="MenuArrow",Q_=se.forwardRef((e,t)=>{let{__scopeMenu:o,...r}=e,n=hf(o);return ge(eu,{...n,...r,ref:t})});Q_.displayName=rQ;var KS="MenuSub",[nQ,Z_]=Bi(KS),J_=e=>{let{__scopeMenu:t,children:o,open:r=!1,onOpenChange:n}=e,a=Cs(KS,t),s=hf(t),[i,u]=se.useState(null),[c,d]=se.useState(null),f=pt(n);return se.useEffect(()=>(a.open===!1&&f(!1),()=>f(!1)),[a.open,f]),ge(ci,{...s,children:ge(__,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:ge(nQ,{scope:t,contentId:ar(),triggerId:ar(),trigger:i,onTriggerChange:u,children:o})})})};J_.displayName=KS;var df="MenuSubTrigger",eF=se.forwardRef((e,t)=>{let o=Cs(df,e.__scopeMenu),r=gf(df,e.__scopeMenu),n=Z_(df,e.__scopeMenu),a=WS(df,e.__scopeMenu),s=se.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:u}=a,c={__scopeMenu:e.__scopeMenu},d=se.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return se.useEffect(()=>d,[d]),se.useEffect(()=>{let f=i.current;return()=>{window.clearTimeout(f),u(null)}},[i,u]),ge(zS,{asChild:!0,...c,children:ge(z_,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":n.contentId,"data-state":rF(o.open),...e,ref:Qs(t,n.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),o.open||o.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,pf(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!o.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{o.onOpenChange(!0),d()},100))})),onPointerLeave:ee(e.onPointerLeave,pf(f=>{d();let p=o.content?.getBoundingClientRect();if(p){let m=o.content?.dataset.side,y=m==="right",g=y?-5:5,v=p[y?"left":"right"],x=p[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:v,y:p.bottom}],side:m}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,f=>{let p=a.searchRef.current!=="";e.disabled||p&&f.key===" "||H7[r.dir].includes(f.key)&&(o.onOpenChange(!0),o.content?.focus(),f.preventDefault())})})})});eF.displayName=df;var tF="MenuSubContent",oF=se.forwardRef((e,t)=>{let o=B_(Gr,e.__scopeMenu),{forceMount:r=o.forceMount,...n}=e,a=Cs(Gr,e.__scopeMenu),s=gf(Gr,e.__scopeMenu),i=Z_(tF,e.__scopeMenu),u=se.useRef(null),c=Le(t,u);return ge(ff.Provider,{scope:e.__scopeMenu,children:ge(pn,{present:r||a.open,children:ge(ff.Slot,{scope:e.__scopeMenu,children:ge($S,{id:i.contentId,"aria-labelledby":i.triggerId,...n,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{s.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ee(e.onFocusOutside,d=>{d.target!==i.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:ee(e.onKeyDown,d=>{let f=d.currentTarget.contains(d.target),p=U7[s.dir].includes(d.key);f&&p&&(a.onOpenChange(!1),i.trigger?.focus(),d.preventDefault())})})})})})});oF.displayName=tF;function rF(e){return e?"open":"closed"}function ry(e){return e==="indeterminate"}function YS(e){return ry(e)?"indeterminate":e?"checked":"unchecked"}function aQ(e){let t=document.activeElement;for(let o of e)if(o===t||(o.focus(),document.activeElement!==t))return}function sQ(e,t){return e.map((o,r)=>e[(t+r)%e.length])}function iQ(e,t,o){let n=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=o?e.indexOf(o):-1,s=sQ(e,Math.max(a,0));n.length===1&&(s=s.filter(c=>c!==o));let u=s.find(c=>c.toLowerCase().startsWith(n.toLowerCase()));return u!==o?u:void 0}function lQ(e,t){let{x:o,y:r}=e,n=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){let i=t[a].x,u=t[a].y,c=t[s].x,d=t[s].y;u>r!=d>r&&o<(c-i)*(r-u)/(d-u)+i&&(n=!n)}return n}function uQ(e,t){if(!t)return!1;let o={x:e.clientX,y:e.clientY};return lQ(o,t)}function pf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ay=F_,sy=zS,iy=V_,ly=H_,uy=GS,cy=U_,dy=ny,fy=q_,py=$_,my=j_,hy=Y_,gy=X_,yy=Q_,XS=J_,xy=eF,vy=oF;import{Fragment as cQ,jsx as uo,jsxs as dQ}from"react/jsx-runtime";var QS="ContextMenu",[fQ,Q6e]=so(QS,[_u]),Oo=_u(),[pQ,aF]=fQ(QS),sF=e=>{let{__scopeContextMenu:t,children:o,onOpenChange:r,dir:n,modal:a=!0}=e,[s,i]=Ze.useState(!1),u=Oo(t),c=pt(r),d=Ze.useCallback(f=>{i(f),c(f)},[c]);return uo(pQ,{scope:t,open:s,onOpenChange:d,modal:a,children:uo(ay,{...u,dir:n,open:s,onOpenChange:d,modal:a,children:o})})};sF.displayName=QS;var iF="ContextMenuTrigger",lF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,disabled:r=!1,...n}=e,a=aF(iF,o),s=Oo(o),i=Ze.useRef({x:0,y:0}),u=Ze.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...i.current})}),c=Ze.useRef(0),d=Ze.useCallback(()=>window.clearTimeout(c.current),[]),f=p=>{i.current={x:p.clientX,y:p.clientY},a.onOpenChange(!0)};return Ze.useEffect(()=>d,[d]),Ze.useEffect(()=>void(r&&d()),[r,d]),dQ(cQ,{children:[uo(sy,{...s,virtualRef:u}),uo(he.span,{"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,...n,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:ee(e.onContextMenu,p=>{d(),f(p),p.preventDefault()}),onPointerDown:r?e.onPointerDown:ee(e.onPointerDown,wy(p=>{d(),c.current=window.setTimeout(()=>f(p),700)})),onPointerMove:r?e.onPointerMove:ee(e.onPointerMove,wy(d)),onPointerCancel:r?e.onPointerCancel:ee(e.onPointerCancel,wy(d)),onPointerUp:r?e.onPointerUp:ee(e.onPointerUp,wy(d))})]})});lF.displayName=iF;var mQ="ContextMenuPortal",uF=e=>{let{__scopeContextMenu:t,...o}=e,r=Oo(t);return uo(iy,{...r,...o})};uF.displayName=mQ;var cF="ContextMenuContent",dF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=aF(cF,o),a=Oo(o),s=Ze.useRef(!1);return uo(ly,{...a,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),!i.defaultPrevented&&s.current&&i.preventDefault(),s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),!i.defaultPrevented&&!n.modal&&(s.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dF.displayName=cF;var hQ="ContextMenuGroup",gQ=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(uy,{...n,...r,ref:t})});gQ.displayName=hQ;var yQ="ContextMenuLabel",fF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(cy,{...n,...r,ref:t})});fF.displayName=yQ;var xQ="ContextMenuItem",pF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(dy,{...n,...r,ref:t})});pF.displayName=xQ;var vQ="ContextMenuCheckboxItem",mF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(fy,{...n,...r,ref:t})});mF.displayName=vQ;var wQ="ContextMenuRadioGroup",CQ=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(py,{...n,...r,ref:t})});CQ.displayName=wQ;var SQ="ContextMenuRadioItem",hF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(my,{...n,...r,ref:t})});hF.displayName=SQ;var bQ="ContextMenuItemIndicator",gF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(hy,{...n,...r,ref:t})});gF.displayName=bQ;var IQ="ContextMenuSeparator",yF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(gy,{...n,...r,ref:t})});yF.displayName=IQ;var RQ="ContextMenuArrow",PQ=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(yy,{...n,...r,ref:t})});PQ.displayName=RQ;var LQ="ContextMenuSub",MQ=e=>{let{__scopeContextMenu:t,children:o,onOpenChange:r,open:n,defaultOpen:a}=e,s=Oo(t),[i,u]=Pr({prop:n,defaultProp:a,onChange:r});return uo(XS,{...s,open:i,onOpenChange:u,children:o})};MQ.displayName=LQ;var EQ="ContextMenuSubTrigger",xF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(xy,{...n,...r,ref:t})});xF.displayName=EQ;var TQ="ContextMenuSubContent",vF=Ze.forwardRef((e,t)=>{let{__scopeContextMenu:o,...r}=e,n=Oo(o);return uo(vy,{...n,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vF.displayName=TQ;function wy(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var wF=sF,CF=lF,SF=uF,ZS=dF;var JS=fF,eb=pF,tb=mF;var ob=hF,rb=gF,nb=yF;var ab=xF,sb=vF;import*as Ia from"react";import{jsx as Ko,jsxs as ub}from"react/jsx-runtime";var bF=wF,IF=CF;var AQ=Ia.forwardRef(({className:e,inset:t,children:o,...r},n)=>ub(ab,{ref:n,className:W("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...r,children:[o,Ko(Ir,{className:"ml-auto h-4 w-4"})]}));AQ.displayName=ab.displayName;var kQ=Ia.forwardRef(({className:e,...t},o)=>Ko(sb,{ref:o,className:W("z-50 min-w-32 overflow-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-context-menu-content-transform-origin)",e),...t}));kQ.displayName=sb.displayName;var ib=Ia.forwardRef(({className:e,...t},o)=>Ko(SF,{children:Ko("div",{className:"ps",children:Ko(ZS,{ref:o,className:W("z-50 max-h-(--radix-context-menu-content-available-height) min-w-32 overflow-y-auto overflow-x-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-context-menu-content-transform-origin)",e),...t})})}));ib.displayName=ZS.displayName;var lb=Ia.forwardRef(({className:e,inset:t,...o},r)=>Ko(eb,{ref:r,className:W("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t&&"pl-8",e),...o}));lb.displayName=eb.displayName;var OQ=Ia.forwardRef(({className:e,children:t,checked:o,...r},n)=>ub(tb,{ref:n,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e),checked:o,...r,children:[Ko("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Ko(rb,{children:Ko(rn,{className:"h-4 w-4"})})}),t]}));OQ.displayName=tb.displayName;var NQ=Ia.forwardRef(({className:e,children:t,...o},r)=>ub(ob,{ref:r,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e),...o,children:[Ko("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Ko(rb,{children:Ko(Zs,{className:"h-4 w-4 fill-current"})})}),t]}));NQ.displayName=ob.displayName;var _Q=Ia.forwardRef(({className:e,inset:t,...o},r)=>Ko(JS,{ref:r,className:W("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...o}));_Q.displayName=JS.displayName;var FQ=Ia.forwardRef(({className:e,...t},o)=>Ko(nb,{ref:o,className:W("-mx-1 my-1 h-px bg-border",e),...t}));FQ.displayName=nb.displayName;var BQ=({className:e,...t})=>Ko("span",{className:W("ml-auto text-xs tracking-widest text-muted-foreground",e),...t});BQ.displayName="ContextMenuShortcut";import{jsx as cb,jsxs as RF}from"react/jsx-runtime";function PF(e){let{children:t}=e,o=W("block w-full px-(--studio-cell-spacing) h-(--studio-cell-height) text-xs font-mono whitespace-nowrap overflow-hidden text-ellipsis leading-(--studio-cell-height)","group-data-[select=true]:p-0");return RF(bF,{children:[cb(IF,{className:o,children:t}),cb(ib,{children:RF(lb,{onClick:()=>{let r=db(t);navigator.clipboard.writeText(r).catch(n=>{console.error("Failed to copy to clipboard:",n)})},className:"flex items-center gap-2",children:[cb(Js,{size:12}),"Copy"]})})]})}function db(e){if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);if(e==null)return"";if(VQ(e)){let t=e.props;return e.type&&typeof e.type=="function"&&e.type.name==="RevealText"?t.text||"":e.type&&typeof e.type=="function"&&e.type.name==="NullValue"?"NULL":t.children?db(t.children):""}return Array.isArray(e)?e.map(db).join(""):""}import{jsx as LF}from"react/jsx-runtime";var yf=HQ((e,t)=>{let{children:o,className:r,style:n,...a}=e;return LF(cf,{...a,className:W("p-0 border-r border-b border-table-border group","cursor-pointer",r),ref:t,style:n,children:LF(PF,{children:o})})});yf.displayName="Cell";l();l();l();l();function MF(e,t,o){let r=n=>e(n,...t);return o===void 0?r:Object.assign(r,{lazy:o,lazyArgs:t})}function Cy(e,t,o){let r=e.length-t.length;if(r===0)return e(...t);if(r===1)return MF(e,t,o);throw new Error("Wrong number of arguments")}l();function fb(...e){return Cy(UQ,e)}var UQ=(e,t)=>e.length>=t;l();function pb(...e){return Cy(zQ,e)}function zQ(e,t){if(!fb(t,1))return{...e};if(!fb(t,2)){let{[t[0]]:r,...n}=e;return n}let o={...e};for(let r of t)delete o[r];return o}l();function xf(e){return typeof e=="object"&&e!==null}l();import{jsx as qQ}from"react/jsx-runtime";var mb=e=>{let{value:t}=e;return qQ("div",{"data-cell-type":"boolean",children:String(!!t)})};mb.displayName="BooleanCell";l();import{Fragment as WQ,jsx as $Q}from"react/jsx-runtime";function EF(e){let{value:t}=e;return $Q(WQ,{children:String(t)})}l();import{Fragment as GQ,jsx as jQ}from"react/jsx-runtime";function Sy(e){return jQ(GQ,{})}l();import{Fragment as KQ,jsx as YQ}from"react/jsx-runtime";function TF(e){let{value:t}=e;return YQ(KQ,{children:String(t)})}l();import{Fragment as XQ,jsx as QQ}from"react/jsx-runtime";function hb(e){let{value:t}=e;return QQ(XQ,{children:JSON.stringify(t,null,2)})}l();import{jsx as ZQ}from"react/jsx-runtime";function DF(e){return ZQ("code",{className:"text-muted-foreground/60",children:"NULL"})}l();import{jsx as JQ}from"react/jsx-runtime";function AF(e){let{value:t}=e;return JQ("div",{"data-cell-type":"numeric",children:t===null?"NULL":String(t)})}l();import{Fragment as eZ,jsx as tZ}from"react/jsx-runtime";function gb(e){let{value:t}=e;return tZ(eZ,{children:String(t)})}l();import{Fragment as oZ,jsx as rZ}from"react/jsx-runtime";function kF(e){let{value:t}=e;return rZ(oZ,{children:String(t)})}import{jsx as mn}from"react/jsx-runtime";function by({cell:e,column:t}){let o=e.getValue();if(o===void 0)return mn(Sy,{});if(o===null)return mn(DF,{});let{group:r,isArray:n}=t.datatype;if(r==="json"||n)return mn(hb,{value:o});if(r==="string")return mn(gb,{value:o});if(r==="enum")return mn(TF,{value:o});if(r==="boolean")return mn(mb,{value:o});if(r==="datetime")return mn(EF,{value:o});if(r==="time")return mn(kF,{value:o});if(r==="numeric")return mn(AF,{value:o});if(r==="raw")return xf(o)?mn(hb,{value:o}):mn(gb,{value:o});throw new Error(`Datatype group "${r}" was not handled in '/cell/get-cell.tsx'`)}l();l();l();import*as Tr from"react";import{jsx as vf,jsxs as nZ}from"react/jsx-runtime";var yb="Checkbox",[aZ,NYe]=so(yb),[sZ,iZ]=aZ(yb),OF=Tr.forwardRef((e,t)=>{let{__scopeCheckbox:o,name:r,checked:n,defaultChecked:a,required:s,disabled:i,value:u="on",onCheckedChange:c,form:d,...f}=e,[p,m]=Tr.useState(null),y=Le(t,S=>m(S)),g=Tr.useRef(!1),v=p?d||!!p.closest("form"):!0,[x=!1,w]=Pr({prop:n,defaultProp:a,onChange:c}),C=Tr.useRef(x);return Tr.useEffect(()=>{let S=p?.form;if(S){let b=()=>w(C.current);return S.addEventListener("reset",b),()=>S.removeEventListener("reset",b)}},[p,w]),nZ(sZ,{scope:o,state:x,disabled:i,children:[vf(he.button,{type:"button",role:"checkbox","aria-checked":Ss(x)?"mixed":x,"aria-required":s,"data-state":_F(x),"data-disabled":i?"":void 0,disabled:i,value:u,...f,ref:y,onKeyDown:ee(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ee(e.onClick,S=>{w(b=>Ss(b)?!0:!b),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&vf(uZ,{control:p,bubbles:!g.current,name:r,value:u,checked:x,required:s,disabled:i,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ss(a)?!1:a})]})});OF.displayName=yb;var NF="CheckboxIndicator",lZ=Tr.forwardRef((e,t)=>{let{__scopeCheckbox:o,forceMount:r,...n}=e,a=iZ(NF,o);return vf(pn,{present:r||Ss(a.state)||a.state===!0,children:vf(he.span,{"data-state":_F(a.state),"data-disabled":a.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});lZ.displayName=NF;var uZ=e=>{let{control:t,checked:o,bubbles:r=!0,defaultChecked:n,...a}=e,s=Tr.useRef(null),i=kh(o),u=Th(t);Tr.useEffect(()=>{let d=s.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(i!==o&&m){let y=new Event("click",{bubbles:r});d.indeterminate=Ss(o),m.call(d,Ss(o)?!1:o),d.dispatchEvent(y)}},[i,o,r]);let c=Tr.useRef(Ss(o)?!1:o);return vf("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??c.current,...a,tabIndex:-1,ref:s,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ss(e){return e==="indeterminate"}function _F(e){return Ss(e)?"indeterminate":e?"checked":"unchecked"}var xb=OF;import*as FF from"react";import{jsx as vb,jsxs as dZ}from"react/jsx-runtime";var wf=FF.forwardRef(({className:e,...t},o)=>vb(xb,{ref:o,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 bg-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:dZ("span",{className:"flex items-center justify-center text-current",children:[t.checked==="indeterminate"||t.checked===!1&&vb(cd,{size:14,className:"opacity-10"}),t.checked===!0&&vb(rn,{size:16})]})}));wf.displayName=xb.displayName;import{jsx as fZ}from"react/jsx-runtime";function BF(e){let{table:t,readonly:o}=e;return fZ(wf,{checked:t.getIsAllRowsSelected(),onCheckedChange:r=>t.toggleAllRowsSelected(!!r),disabled:o,className:"w-full h-full rounded-none border-none"})}l();import{jsx as pZ}from"react/jsx-runtime";function VF(e){let{row:t,readonly:o}=e;return pZ(wf,{checked:t.getIsSelected(),disabled:!t.getCanSelect()||o,onCheckedChange:t.getToggleSelectedHandler(),className:"w-full h-full rounded-none border-none"})}l();l();import*as No from"react";import{jsx as Fu}from"react/jsx-runtime";var HF=No.createContext(null),wb=({children:e,...t})=>{let[o,r]=No.useState(!1);return Fu(HF.Provider,{value:{open:o,setOpen:r},children:Fu(Yg,{open:o,onOpenChange:r,...t,children:e})})};wb.displayName="PopoverCell";var Cb=No.forwardRef(({children:e,onDoubleClick:t,className:o,...r},n)=>{let a=No.useRef(null);return Fu(Xg,{ref:s=>{typeof n=="function"?n(s):n&&(n.current=s),a.current=s},className:W("w-full h-full cursor-pointer",o),...r,children:e})});Cb.displayName="PopoverCellTrigger";var Sb=No.forwardRef(({className:e,align:t="center",sideOffset:o=4,...r},n)=>Fu(Qg,{children:Fu("div",{className:"ps",children:Fu(Nu,{ref:n,align:t,sideOffset:o,className:W("flex flex-col gap-2 z-50 border border-border bg-popover text-popover-foreground shadow-md outline-none",e),onEscapeKeyDown:a=>a.preventDefault(),...r})})}));Sb.displayName=Nu.displayName;function mr(e){let t=No.useContext(HF),o=No.useCallback(()=>{e.readonly&&t?.setOpen(!1),e.onSave&&e.onSave(),t&&t.setOpen(!1)},[e.onSave,t]),r=No.useCallback(()=>{e.readonly&&t?.setOpen(!1),e.onCancel&&e.onCancel(),t&&t.setOpen(!1)},[e.onCancel,t]);return No.useEffect(()=>{let n=a=>{(a.key==="Enter"||a.key==="Return")&&!a.shiftKey?o():a.key==="Escape"&&r()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[o,r]),{handleSave:o,handleCancel:r}}import{jsx as Cf,jsxs as UF}from"react/jsx-runtime";function Sf(e){let{cellComponent:t,inputComponent:o,linkComponent:r,containerProps:n}=e;return UF(wb,{children:[Cf(Cb,{asChild:!0,children:Cf(yf,{...n,children:UF("div",{className:"flex flex-row w-full gap-2 justify-between items-center",children:[Cf("div",{children:t}),r]})})}),Cf(Sb,{align:"start",alignOffset:-1,className:W("p-0 z-30 gap-0 border-muted-foreground/50","w-[calc(var(--radix-popover-trigger-width)+1px)] max-w-72 min-w-max"),sideOffset:-40,children:Cf("div",{className:"bg-secondary/70",children:o})})]})}l();l();import Xt,{createContext as kf,useContext as Gi,useEffect as Ut,useState as kr,useCallback as hn,useMemo as Ht,useRef as wo,memo as wZ,useReducer as CZ,cloneElement as SZ,forwardRef as bZ}from"react";import{createPortal as IZ,unstable_batchedUpdates as Ly}from"react-dom";l();import{useMemo as Ib,useLayoutEffect as mZ,useEffect as qF,useRef as Bu,useCallback as Iy}from"react";function WF(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Ib(()=>r=>{t.forEach(n=>n(r))},t)}var bf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vi(e){let t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ry(e){return"nodeType"in e}function _o(e){var t,o;return e?Vi(e)?e:Ry(e)&&(t=(o=e.ownerDocument)==null?void 0:o.defaultView)!=null?t:window:window}function Py(e){let{Document:t}=_o(e);return e instanceof t}function Vu(e){return Vi(e)?!1:e instanceof _o(e).HTMLElement}function Rb(e){return e instanceof _o(e).SVGElement}function Hi(e){return e?Vi(e)?e.document:Ry(e)?Py(e)?e:Vu(e)||Rb(e)?e.ownerDocument:document:document:document}var Ar=bf?mZ:qF;function If(e){let t=Bu(e);return Ar(()=>{t.current=e}),Iy(function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return t.current==null?void 0:t.current(...r)},[])}function $F(){let e=Bu(null),t=Iy((r,n)=>{e.current=setInterval(r,n)},[]),o=Iy(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,o]}function Hu(e,t){t===void 0&&(t=[e]);let o=Bu(e);return Ar(()=>{o.current!==e&&(o.current=e)},t),o}function Uu(e,t){let o=Bu();return Ib(()=>{let r=e(o.current);return o.current=r,r},[...t])}function Rf(e){let t=If(e),o=Bu(null),r=Iy(n=>{n!==o.current&&t?.(n,o.current),o.current=n},[]);return[o,r]}function Pf(e){let t=Bu();return qF(()=>{t.current=e},[e]),t.current}var bb={};function Ui(e,t){return Ib(()=>{if(t)return t;let o=bb[e]==null?0:bb[e]+1;return bb[e]=o,e+"-"+o},[e,t])}function GF(e){return function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];return r.reduce((a,s)=>{let i=Object.entries(s);for(let[u,c]of i){let d=a[u];d!=null&&(a[u]=d+e*c)}return a},{...t})}}var zi=GF(1),qi=GF(-1);function hZ(e){return"clientX"in e&&"clientY"in e}function zu(e){if(!e)return!1;let{KeyboardEvent:t}=_o(e.target);return t&&e instanceof t}function gZ(e){if(!e)return!1;let{TouchEvent:t}=_o(e.target);return t&&e instanceof t}function Lf(e){if(gZ(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:o}=e.touches[0];return{x:t,y:o}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:o}=e.changedTouches[0];return{x:t,y:o}}}return hZ(e)?{x:e.clientX,y:e.clientY}:null}var Dr=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:o}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:o}=e;return"scaleX("+t+") scaleY("+o+")"}},Transform:{toString(e){if(e)return[Dr.Translate.toString(e),Dr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:o,easing:r}=e;return t+" "+o+"ms "+r}}}),zF="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function jF(e){return e.matches(zF)?e:e.querySelector(zF)}l();import KF,{useState as yZ,useCallback as xZ}from"react";var vZ={display:"none"};function YF(e){let{id:t,value:o}=e;return KF.createElement("div",{id:t,style:vZ},o)}function XF(e){let{id:t,announcement:o,ariaLiveType:r="assertive"}=e,n={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return KF.createElement("div",{id:t,style:n,role:"status","aria-live":r,"aria-atomic":!0},o)}function QF(){let[e,t]=yZ("");return{announce:xZ(r=>{r!=null&&t(r)},[]),announcement:e}}var d2=kf(null);function RZ(e){let t=Gi(d2);Ut(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function PZ(){let[e]=kr(()=>new Set),t=hn(r=>(e.add(r),()=>e.delete(r)),[e]);return[hn(r=>{let{type:n,event:a}=r;e.forEach(s=>{var i;return(i=s[n])==null?void 0:i.call(s,a)})},[e]),t]}var LZ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},MZ={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:o}=e;return o?"Draggable item "+t.id+" was moved over droppable area "+o.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:o}=e;return o?"Draggable item "+t.id+" was dropped over droppable area "+o.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function EZ(e){let{announcements:t=MZ,container:o,hiddenTextDescribedById:r,screenReaderInstructions:n=LZ}=e,{announce:a,announcement:s}=QF(),i=Ui("DndLiveRegion"),[u,c]=kr(!1);if(Ut(()=>{c(!0)},[]),RZ(Ht(()=>({onDragStart(f){let{active:p}=f;a(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&a(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;a(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;a(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;a(t.onDragCancel({active:p,over:m}))}}),[a,t])),!u)return null;let d=Xt.createElement(Xt.Fragment,null,Xt.createElement(YF,{id:r,value:n.draggable}),Xt.createElement(XF,{id:i,announcement:s}));return o?IZ(d,o):d}var Yt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Yt||(Yt={}));function Ey(){}function Of(e,t){return Ht(()=>({sensor:e,options:t??{}}),[e,t])}function Dy(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Ht(()=>[...t].filter(r=>r!=null),[...t])}var gn=Object.freeze({x:0,y:0});function f2(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function TZ(e,t){let o=Lf(e);if(!o)return"0 0";let r={x:(o.x-t.left)/t.width*100,y:(o.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function p2(e,t){let{data:{value:o}}=e,{data:{value:r}}=t;return o-r}function DZ(e,t){let{data:{value:o}}=e,{data:{value:r}}=t;return r-o}function ZF(e){let{left:t,top:o,height:r,width:n}=e;return[{x:t,y:o},{x:t+n,y:o},{x:t,y:o+r},{x:t+n,y:o+r}]}function kb(e,t){if(!e||e.length===0)return null;let[o]=e;return t?o[t]:o}function JF(e,t,o){return t===void 0&&(t=e.left),o===void 0&&(o=e.top),{x:t+e.width*.5,y:o+e.height*.5}}var m2=e=>{let{collisionRect:t,droppableRects:o,droppableContainers:r}=e,n=JF(t,t.left,t.top),a=[];for(let s of r){let{id:i}=s,u=o.get(i);if(u){let c=f2(JF(u),n);a.push({id:i,data:{droppableContainer:s,value:c}})}}return a.sort(p2)},h2=e=>{let{collisionRect:t,droppableRects:o,droppableContainers:r}=e,n=ZF(t),a=[];for(let s of r){let{id:i}=s,u=o.get(i);if(u){let c=ZF(u),d=n.reduce((p,m,y)=>p+f2(c[y],m),0),f=Number((d/4).toFixed(4));a.push({id:i,data:{droppableContainer:s,value:f}})}}return a.sort(p2)};function AZ(e,t){let o=Math.max(t.top,e.top),r=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),s=n-r,i=a-o;if(r<n&&o<a){let u=t.width*t.height,c=e.width*e.height,d=s*i,f=d/(u+c-d);return Number(f.toFixed(4))}return 0}var kZ=e=>{let{collisionRect:t,droppableRects:o,droppableContainers:r}=e,n=[];for(let a of r){let{id:s}=a,i=o.get(s);if(i){let u=AZ(i,t);u>0&&n.push({id:s,data:{droppableContainer:a,value:u}})}}return n.sort(DZ)};function OZ(e,t,o){return{...e,scaleX:t&&o?t.width/o.width:1,scaleY:t&&o?t.height/o.height:1}}function g2(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:gn}function NZ(e){return function(o){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((s,i)=>({...s,top:s.top+e*i.y,bottom:s.bottom+e*i.y,left:s.left+e*i.x,right:s.right+e*i.x}),{...o})}}var _Z=NZ(1);function y2(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function FZ(e,t,o){let r=y2(t);if(!r)return e;let{scaleX:n,scaleY:a,x:s,y:i}=r,u=e.left-s-(1-n)*parseFloat(o),c=e.top-i-(1-a)*parseFloat(o.slice(o.indexOf(" ")+1)),d=n?e.width/n:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u}}var BZ={ignoreTransform:!1};function ji(e,t){t===void 0&&(t=BZ);let o=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:c,transformOrigin:d}=_o(e).getComputedStyle(e);c&&(o=FZ(o,c,d))}let{top:r,left:n,width:a,height:s,bottom:i,right:u}=o;return{top:r,left:n,width:a,height:s,bottom:i,right:u}}function e2(e){return ji(e,{ignoreTransform:!0})}function VZ(e){let t=e.innerWidth,o=e.innerHeight;return{top:0,left:0,right:t,bottom:o,width:t,height:o}}function HZ(e,t){return t===void 0&&(t=_o(e).getComputedStyle(e)),t.position==="fixed"}function UZ(e,t){t===void 0&&(t=_o(e).getComputedStyle(e));let o=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(n=>{let a=t[n];return typeof a=="string"?o.test(a):!1})}function Nf(e,t){let o=[];function r(n){if(t!=null&&o.length>=t||!n)return o;if(Py(n)&&n.scrollingElement!=null&&!o.includes(n.scrollingElement))return o.push(n.scrollingElement),o;if(!Vu(n)||Rb(n)||o.includes(n))return o;let a=_o(e).getComputedStyle(n);return n!==e&&UZ(n,a)&&o.push(n),HZ(n,a)?o:r(n.parentNode)}return e?r(e):o}function x2(e){let[t]=Nf(e,1);return t??null}function Pb(e){return!bf||!e?null:Vi(e)?e:Ry(e)?Py(e)||e===Hi(e).scrollingElement?window:Vu(e)?e:null:null}function v2(e){return Vi(e)?e.scrollX:e.scrollLeft}function w2(e){return Vi(e)?e.scrollY:e.scrollTop}function Eb(e){return{x:v2(e),y:w2(e)}}var co;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(co||(co={}));function C2(e){return!bf||!e?!1:e===document.scrollingElement}function S2(e){let t={x:0,y:0},o=C2(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-o.width,y:e.scrollHeight-o.height},n=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:n,isLeft:a,isBottom:s,isRight:i,maxScroll:r,minScroll:t}}var zZ={x:.2,y:.2};function qZ(e,t,o,r,n){let{top:a,left:s,right:i,bottom:u}=o;r===void 0&&(r=10),n===void 0&&(n=zZ);let{isTop:c,isBottom:d,isLeft:f,isRight:p}=S2(e),m={x:0,y:0},y={x:0,y:0},g={height:t.height*n.y,width:t.width*n.x};return!c&&a<=t.top+g.height?(m.y=co.Backward,y.y=r*Math.abs((t.top+g.height-a)/g.height)):!d&&u>=t.bottom-g.height&&(m.y=co.Forward,y.y=r*Math.abs((t.bottom-g.height-u)/g.height)),!p&&i>=t.right-g.width?(m.x=co.Forward,y.x=r*Math.abs((t.right-g.width-i)/g.width)):!f&&s<=t.left+g.width&&(m.x=co.Backward,y.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:y}}function WZ(e){if(e===document.scrollingElement){let{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}let{top:t,left:o,right:r,bottom:n}=e.getBoundingClientRect();return{top:t,left:o,right:r,bottom:n,width:e.clientWidth,height:e.clientHeight}}function b2(e){return e.reduce((t,o)=>zi(t,Eb(o)),gn)}function $Z(e){return e.reduce((t,o)=>t+v2(o),0)}function GZ(e){return e.reduce((t,o)=>t+w2(o),0)}function I2(e,t){if(t===void 0&&(t=ji),!e)return;let{top:o,left:r,bottom:n,right:a}=t(e);x2(e)&&(n<=0||a<=0||o>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}var jZ=[["x",["left","right"],$Z],["y",["top","bottom"],GZ]],Ef=class{constructor(t,o){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=Nf(o),n=b2(r);this.rect={...t},this.width=t.width,this.height=t.height;for(let[a,s,i]of jZ)for(let u of s)Object.defineProperty(this,u,{get:()=>{let c=i(r),d=n[a]-c;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},Wi=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(o=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...o)})},this.target=t}add(t,o,r){var n;(n=this.target)==null||n.addEventListener(t,o,r),this.listeners.push([t,o,r])}};function KZ(e){let{EventTarget:t}=_o(e);return e instanceof t?e:Hi(e)}function Lb(e,t){let o=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(o**2+r**2)>t:"x"in t&&"y"in t?o>t.x&&r>t.y:"x"in t?o>t.x:"y"in t?r>t.y:!1}var jr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(jr||(jr={}));function t2(e){e.preventDefault()}function YZ(e){e.stopPropagation()}var Ee;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ee||(Ee={}));var R2={start:[Ee.Space,Ee.Enter],cancel:[Ee.Esc],end:[Ee.Space,Ee.Enter,Ee.Tab]},XZ=(e,t)=>{let{currentCoordinates:o}=t;switch(e.code){case Ee.Right:return{...o,x:o.x+25};case Ee.Left:return{...o,x:o.x-25};case Ee.Down:return{...o,y:o.y+25};case Ee.Up:return{...o,y:o.y-25}}},qu=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:o}}=t;this.props=t,this.listeners=new Wi(Hi(o)),this.windowListeners=new Wi(_o(o)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jr.Resize,this.handleCancel),this.windowListeners.add(jr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jr.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:o}=this.props,r=t.node.current;r&&I2(r),o(gn)}handleKeyDown(t){if(zu(t)){let{active:o,context:r,options:n}=this.props,{keyboardCodes:a=R2,coordinateGetter:s=XZ,scrollBehavior:i="smooth"}=n,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}let{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:gn;this.referenceCoordinates||(this.referenceCoordinates=d);let f=s(t,{active:o,context:r.current,currentCoordinates:d});if(f){let p=qi(f,d),m={x:0,y:0},{scrollableAncestors:y}=r.current;for(let g of y){let v=t.code,{isTop:x,isRight:w,isLeft:C,isBottom:S,maxScroll:b,minScroll:R}=S2(g),P=WZ(g),M={x:Math.min(v===Ee.Right?P.right-P.width/2:P.right,Math.max(v===Ee.Right?P.left:P.left+P.width/2,f.x)),y:Math.min(v===Ee.Down?P.bottom-P.height/2:P.bottom,Math.max(v===Ee.Down?P.top:P.top+P.height/2,f.y))},T=v===Ee.Right&&!w||v===Ee.Left&&!C,_=v===Ee.Down&&!S||v===Ee.Up&&!x;if(T&&M.x!==f.x){let F=g.scrollLeft+p.x,k=v===Ee.Right&&F<=b.x||v===Ee.Left&&F>=R.x;if(k&&!p.y){g.scrollTo({left:F,behavior:i});return}k?m.x=g.scrollLeft-F:m.x=v===Ee.Right?g.scrollLeft-b.x:g.scrollLeft-R.x,m.x&&g.scrollBy({left:-m.x,behavior:i});break}else if(_&&M.y!==f.y){let F=g.scrollTop+p.y,k=v===Ee.Down&&F<=b.y||v===Ee.Up&&F>=R.y;if(k&&!p.x){g.scrollTo({top:F,behavior:i});return}k?m.y=g.scrollTop-F:m.y=v===Ee.Down?g.scrollTop-b.y:g.scrollTop-R.y,m.y&&g.scrollBy({top:-m.y,behavior:i});break}}this.handleMove(t,zi(qi(f,this.referenceCoordinates),m))}}}handleMove(t,o){let{onMove:r}=this.props;t.preventDefault(),r(o)}handleEnd(t){let{onEnd:o}=this.props;t.preventDefault(),this.detach(),o()}handleCancel(t){let{onCancel:o}=this.props;t.preventDefault(),this.detach(),o()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};qu.activators=[{eventName:"onKeyDown",handler:(e,t,o)=>{let{keyboardCodes:r=R2,onActivation:n}=t,{active:a}=o,{code:s}=e.nativeEvent;if(r.start.includes(s)){let i=a.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),n?.({event:e.nativeEvent}),!0)}return!1}}];function o2(e){return!!(e&&"distance"in e)}function r2(e){return!!(e&&"delay"in e)}var Tf=class{constructor(t,o,r){var n;r===void 0&&(r=KZ(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=o;let{event:a}=t,{target:s}=a;this.props=t,this.events=o,this.document=Hi(s),this.documentListeners=new Wi(this.document),this.listeners=new Wi(r),this.windowListeners=new Wi(_o(s)),this.initialCoordinates=(n=Lf(a))!=null?n:gn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:o,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(jr.Resize,this.handleCancel),this.windowListeners.add(jr.DragStart,t2),this.windowListeners.add(jr.VisibilityChange,this.handleCancel),this.windowListeners.add(jr.ContextMenu,t2),this.documentListeners.add(jr.Keydown,this.handleKeydown),o){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(r2(o)){this.timeoutId=setTimeout(this.handleStart,o.delay),this.handlePending(o);return}if(o2(o)){this.handlePending(o);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,o){let{active:r,onPending:n}=this.props;n(r,t,this.initialCoordinates,o)}handleStart(){let{initialCoordinates:t}=this,{onStart:o}=this.props;t&&(this.activated=!0,this.documentListeners.add(jr.Click,YZ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jr.SelectionChange,this.removeTextSelection),o(t))}handleMove(t){var o;let{activated:r,initialCoordinates:n,props:a}=this,{onMove:s,options:{activationConstraint:i}}=a;if(!n)return;let u=(o=Lf(t))!=null?o:gn,c=qi(n,u);if(!r&&i){if(o2(i)){if(i.tolerance!=null&&Lb(c,i.tolerance))return this.handleCancel();if(Lb(c,i.distance))return this.handleStart()}if(r2(i)&&Lb(c,i.tolerance))return this.handleCancel();this.handlePending(i,c);return}t.cancelable&&t.preventDefault(),s(u)}handleEnd(){let{onAbort:t,onEnd:o}=this.props;this.detach(),this.activated||t(this.props.active),o()}handleCancel(){let{onAbort:t,onCancel:o}=this.props;this.detach(),this.activated||t(this.props.active),o()}handleKeydown(t){t.code===Ee.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},QZ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},Wu=class extends Tf{constructor(t){let{event:o}=t,r=Hi(o.target);super(t,QZ,r)}};Wu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:o}=e,{onActivation:r}=t;return!o.isPrimary||o.button!==0?!1:(r?.({event:o}),!0)}}];var ZZ={move:{name:"mousemove"},end:{name:"mouseup"}},Tb;(function(e){e[e.RightClick=2]="RightClick"})(Tb||(Tb={}));var Df=class extends Tf{constructor(t){super(t,ZZ,Hi(t.event.target))}};Df.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:o}=e,{onActivation:r}=t;return o.button===Tb.RightClick?!1:(r?.({event:o}),!0)}}];var Mb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},Db=class extends Tf{constructor(t){super(t,Mb)}static setup(){return window.addEventListener(Mb.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Mb.move.name,t)};function t(){}}};Db.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:o}=e,{onActivation:r}=t,{touches:n}=o;return n.length>1?!1:(r?.({event:o}),!0)}}];var Mf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Mf||(Mf={}));var Ty;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ty||(Ty={}));function JZ(e){let{acceleration:t,activator:o=Mf.Pointer,canScroll:r,draggingRect:n,enabled:a,interval:s=5,order:i=Ty.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:p}=e,m=tJ({delta:f,disabled:!a}),[y,g]=$F(),v=wo({x:0,y:0}),x=wo({x:0,y:0}),w=Ht(()=>{switch(o){case Mf.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Mf.DraggableRect:return n}},[o,n,u]),C=wo(null),S=hn(()=>{let R=C.current;if(!R)return;let P=v.current.x*x.current.x,M=v.current.y*x.current.y;R.scrollBy(P,M)},[]),b=Ht(()=>i===Ty.TreeOrder?[...c].reverse():c,[i,c]);Ut(()=>{if(!a||!c.length||!w){g();return}for(let R of b){if(r?.(R)===!1)continue;let P=c.indexOf(R),M=d[P];if(!M)continue;let{direction:T,speed:_}=qZ(R,M,w,t,p);for(let F of["x","y"])m[F][T[F]]||(_[F]=0,T[F]=0);if(_.x>0||_.y>0){g(),C.current=R,y(S,s),v.current=_,x.current=T;return}}v.current={x:0,y:0},x.current={x:0,y:0},g()},[t,S,r,g,a,s,JSON.stringify(w),JSON.stringify(m),y,c,b,d,JSON.stringify(p)])}var eJ={x:{[co.Backward]:!1,[co.Forward]:!1},y:{[co.Backward]:!1,[co.Forward]:!1}};function tJ(e){let{delta:t,disabled:o}=e,r=Pf(t);return Uu(n=>{if(o||!r||!n)return eJ;let a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[co.Backward]:n.x[co.Backward]||a.x===-1,[co.Forward]:n.x[co.Forward]||a.x===1},y:{[co.Backward]:n.y[co.Backward]||a.y===-1,[co.Forward]:n.y[co.Forward]||a.y===1}}},[o,t,r])}function oJ(e,t){let o=t!=null?e.get(t):void 0,r=o?o.node.current:null;return Uu(n=>{var a;return t==null?null:(a=r??n)!=null?a:null},[r,t])}function rJ(e,t){return Ht(()=>e.reduce((o,r)=>{let{sensor:n}=r,a=n.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...o,...a]},[]),[e,t])}var Af;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Af||(Af={}));var Ab;(function(e){e.Optimized="optimized"})(Ab||(Ab={}));var n2=new Map;function nJ(e,t){let{dragging:o,dependencies:r,config:n}=t,[a,s]=kr(null),{frequency:i,measure:u,strategy:c}=n,d=wo(e),f=v(),p=Hu(f),m=hn(function(x){x===void 0&&(x=[]),!p.current&&s(w=>w===null?x:w.concat(x.filter(C=>!w.includes(C))))},[p]),y=wo(null),g=Uu(x=>{if(f&&!o)return n2;if(!x||x===n2||d.current!==e||a!=null){let w=new Map;for(let C of e){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){w.set(C.id,C.rect.current);continue}let S=C.node.current,b=S?new Ef(u(S),S):null;C.rect.current=b,b&&w.set(C.id,b)}return w}return x},[e,a,o,f,u]);return Ut(()=>{d.current=e},[e]),Ut(()=>{f||m()},[o,f]),Ut(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),Ut(()=>{f||typeof i!="number"||y.current!==null||(y.current=setTimeout(()=>{m(),y.current=null},i))},[i,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:a!=null};function v(){switch(c){case Af.Always:return!1;case Af.BeforeDragging:return o;default:return!o}}}function Ob(e,t){return Uu(o=>e?o||(typeof t=="function"?t(e):e):null,[t,e])}function aJ(e,t){return Ob(e,t)}function sJ(e){let{callback:t,disabled:o}=e,r=If(t),n=Ht(()=>{if(o||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:a}=window;return new a(r)},[r,o]);return Ut(()=>()=>n?.disconnect(),[n]),n}function Ay(e){let{callback:t,disabled:o}=e,r=If(t),n=Ht(()=>{if(o||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:a}=window;return new a(r)},[o]);return Ut(()=>()=>n?.disconnect(),[n]),n}function iJ(e){return new Ef(ji(e),e)}function a2(e,t,o){t===void 0&&(t=iJ);let[r,n]=kr(null);function a(){n(u=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=u??o)!=null?c:null}let d=t(e);return JSON.stringify(u)===JSON.stringify(d)?u:d})}let s=sJ({callback(u){if(e)for(let c of u){let{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),i=Ay({callback:a});return Ar(()=>{a(),e?(i?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(i?.disconnect(),s?.disconnect())},[e]),r}function lJ(e){let t=Ob(e);return g2(e,t)}var s2=[];function uJ(e){let t=wo(e),o=Uu(r=>e?r&&r!==s2&&e&&t.current&&e.parentNode===t.current.parentNode?r:Nf(e):s2,[e]);return Ut(()=>{t.current=e},[e]),o}function cJ(e){let[t,o]=kr(null),r=wo(e),n=hn(a=>{let s=Pb(a.target);s&&o(i=>i?(i.set(s,Eb(s)),new Map(i)):null)},[]);return Ut(()=>{let a=r.current;if(e!==a){s(a);let i=e.map(u=>{let c=Pb(u);return c?(c.addEventListener("scroll",n,{passive:!0}),[c,Eb(c)]):null}).filter(u=>u!=null);o(i.length?new Map(i):null),r.current=e}return()=>{s(e),s(a)};function s(i){i.forEach(u=>{let c=Pb(u);c?.removeEventListener("scroll",n)})}},[n,e]),Ht(()=>e.length?t?Array.from(t.values()).reduce((a,s)=>zi(a,s),gn):b2(e):gn,[e,t])}function i2(e,t){t===void 0&&(t=[]);let o=wo(null);return Ut(()=>{o.current=null},t),Ut(()=>{let r=e!==gn;r&&!o.current&&(o.current=e),!r&&o.current&&(o.current=null)},[e]),o.current?qi(e,o.current):gn}function dJ(e){Ut(()=>{if(!bf)return;let t=e.map(o=>{let{sensor:r}=o;return r.setup==null?void 0:r.setup()});return()=>{for(let o of t)o?.()}},e.map(t=>{let{sensor:o}=t;return o}))}function fJ(e,t){return Ht(()=>e.reduce((o,r)=>{let{eventName:n,handler:a}=r;return o[n]=s=>{a(s,t)},o},{}),[e,t])}function P2(e){return Ht(()=>e?VZ(e):null,[e])}var l2=[];function pJ(e,t){t===void 0&&(t=ji);let[o]=e,r=P2(o?_o(o):null),[n,a]=kr(l2);function s(){a(()=>e.length?e.map(u=>C2(u)?r:new Ef(t(u),u)):l2)}let i=Ay({callback:s});return Ar(()=>{i?.disconnect(),s(),e.forEach(u=>i?.observe(u))},[e]),n}function L2(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return Vu(t)?t:e}function mJ(e){let{measure:t}=e,[o,r]=kr(null),n=hn(c=>{for(let{target:d}of c)if(Vu(d)){r(f=>{let p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),a=Ay({callback:n}),s=hn(c=>{let d=L2(c);a?.disconnect(),d&&a?.observe(d),r(d?t(d):null)},[t,a]),[i,u]=Rf(s);return Ht(()=>({nodeRef:i,rect:o,setRef:u}),[o,i,u])}var hJ=[{sensor:Wu,options:{}},{sensor:qu,options:{}}],gJ={current:{}},My={draggable:{measure:e2},droppable:{measure:e2,strategy:Af.WhileDragging,frequency:Ab.Optimized},dragOverlay:{measure:ji}},$i=class extends Map{get(t){var o;return t!=null&&(o=super.get(t))!=null?o:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:o}=t;return!o})}getNodeFor(t){var o,r;return(o=(r=this.get(t))==null?void 0:r.node.current)!=null?o:void 0}},yJ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $i,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ey},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:My,measureDroppableContainers:Ey,windowRect:null,measuringScheduled:!1},M2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ey,draggableNodes:new Map,over:null,measureDroppableContainers:Ey},_f=kf(M2),E2=kf(yJ);function xJ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $i}}}function vJ(e,t){switch(t.type){case Yt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Yt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Yt.DragEnd:case Yt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Yt.RegisterDroppable:{let{element:o}=t,{id:r}=o,n=new $i(e.droppable.containers);return n.set(r,o),{...e,droppable:{...e.droppable,containers:n}}}case Yt.SetDroppableDisabled:{let{id:o,key:r,disabled:n}=t,a=e.droppable.containers.get(o);if(!a||r!==a.key)return e;let s=new $i(e.droppable.containers);return s.set(o,{...a,disabled:n}),{...e,droppable:{...e.droppable,containers:s}}}case Yt.UnregisterDroppable:{let{id:o,key:r}=t,n=e.droppable.containers.get(o);if(!n||r!==n.key)return e;let a=new $i(e.droppable.containers);return a.delete(o),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function wJ(e){let{disabled:t}=e,{active:o,activatorEvent:r,draggableNodes:n}=Gi(_f),a=Pf(r),s=Pf(o?.id);return Ut(()=>{if(!t&&!r&&a&&s!=null){if(!zu(a)||document.activeElement===a.target)return;let i=n.get(s);if(!i)return;let{activatorNode:u,node:c}=i;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(let d of[u.current,c.current]){if(!d)continue;let f=jF(d);if(f){f.focus();break}}})}},[r,t,n,s,a]),null}function T2(e,t){let{transform:o,...r}=t;return e!=null&&e.length?e.reduce((n,a)=>a({transform:n,...r}),o):o}function CJ(e){return Ht(()=>({draggable:{...My.draggable,...e?.draggable},droppable:{...My.droppable,...e?.droppable},dragOverlay:{...My.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function SJ(e){let{activeNode:t,measure:o,initialRect:r,config:n=!0}=e,a=wo(!1),{x:s,y:i}=typeof n=="boolean"?{x:n,y:n}:n;Ar(()=>{if(!s&&!i||!t){a.current=!1;return}if(a.current||!r)return;let c=t?.node.current;if(!c||c.isConnected===!1)return;let d=o(c),f=g2(d,r);if(s||(f.x=0),i||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){let p=x2(c);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,i,r,o])}var ky=kf({...gn,scaleX:1,scaleY:1}),bs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(bs||(bs={}));var Oy=wZ(function(t){var o,r,n,a;let{id:s,accessibility:i,autoScroll:u=!0,children:c,sensors:d=hJ,collisionDetection:f=kZ,measuring:p,modifiers:m,...y}=t,g=CZ(vJ,void 0,xJ),[v,x]=g,[w,C]=PZ(),[S,b]=kr(bs.Uninitialized),R=S===bs.Initialized,{draggable:{active:P,nodes:M,translate:T},droppable:{containers:_}}=v,F=P!=null?M.get(P):null,k=wo({initial:null,translated:null}),N=Ht(()=>{var it;return P!=null?{id:P,data:(it=F?.data)!=null?it:gJ,rect:k}:null},[P,F]),I=wo(null),[A,L]=kr(null),[D,O]=kr(null),E=Hu(y,Object.values(y)),V=Ui("DndDescribedBy",s),B=Ht(()=>_.getEnabled(),[_]),U=CJ(p),{droppableRects:$,measureDroppableContainers:G,measuringScheduled:H}=nJ(B,{dragging:R,dependencies:[T.x,T.y],config:U.droppable}),q=oJ(M,P),z=Ht(()=>D?Lf(D):null,[D]),j=Re(),X=aJ(q,U.draggable.measure);SJ({activeNode:P!=null?M.get(P):null,config:j.layoutShiftCompensation,initialRect:X,measure:U.draggable.measure});let K=a2(q,U.draggable.measure,X),re=a2(q?q.parentElement:null),ne=wo({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=_.getNodeFor((o=ne.current.over)==null?void 0:o.id),Ce=mJ({measure:U.dragOverlay.measure}),Me=(r=Ce.nodeRef.current)!=null?r:q,We=R?(n=Ce.rect)!=null?n:K:null,ye=!!(Ce.nodeRef.current&&Ce.rect),oe=lJ(ye?null:K),Fe=P2(Me?_o(Me):null),Ct=uJ(R?me??q:null),Jo=pJ(Ct),Xe=T2(m,{transform:{x:T.x-oe.x,y:T.y-oe.y,scaleX:1,scaleY:1},activatorEvent:D,active:N,activeNodeRect:K,containerNodeRect:re,draggingNodeRect:We,over:ne.current.over,overlayNodeRect:Ce.rect,scrollableAncestors:Ct,scrollableAncestorRects:Jo,windowRect:Fe}),eo=z?zi(z,T):null,bo=cJ(Ct),Nr=i2(bo),Io=i2(bo,[K]),to=zi(Xe,Nr),oo=We?_Z(We,Xe):null,ro=N&&oo?f({active:N,collisionRect:oo,droppableRects:$,droppableContainers:B,pointerCoordinates:eo}):null,po=kb(ro,"id"),[Be,St]=kr(null),de=ye?Xe:zi(Xe,Io),Ae=OZ(de,(a=Be?.rect)!=null?a:null,K),Se=wo(null),ot=hn((it,Je)=>{let{sensor:ae,options:ke}=Je;if(I.current==null)return;let Te=M.get(I.current);if(!Te)return;let $e=it.nativeEvent,mo=new ae({active:I.current,activeNode:Te,event:$e,options:ke,context:ne,onAbort(Ne){if(!M.get(Ne))return;let{onDragAbort:lt}=E.current,ft={id:Ne};lt?.(ft),w({type:"onDragAbort",event:ft})},onPending(Ne,Vo,lt,ft){if(!M.get(Ne))return;let{onDragPending:Ho}=E.current,Qr={id:Ne,constraint:Vo,initialCoordinates:lt,offset:ft};Ho?.(Qr),w({type:"onDragPending",event:Qr})},onStart(Ne){let Vo=I.current;if(Vo==null)return;let lt=M.get(Vo);if(!lt)return;let{onDragStart:ft}=E.current,wn={activatorEvent:$e,active:{id:Vo,data:lt.data,rect:k}};Ly(()=>{ft?.(wn),b(bs.Initializing),x({type:Yt.DragStart,initialCoordinates:Ne,active:Vo}),w({type:"onDragStart",event:wn}),L(Se.current),O($e)})},onMove(Ne){x({type:Yt.DragMove,coordinates:Ne})},onEnd:et(Yt.DragEnd),onCancel:et(Yt.DragCancel)});Se.current=mo;function et(Ne){return async function(){let{active:lt,collisions:ft,over:wn,scrollAdjustedTranslate:Ho}=ne.current,Qr=null;if(lt&&Ho){let{cancelDrop:As}=E.current;Qr={activatorEvent:$e,active:lt,collisions:ft,delta:Ho,over:wn},Ne===Yt.DragEnd&&typeof As=="function"&&await Promise.resolve(As(Qr))&&(Ne=Yt.DragCancel)}I.current=null,Ly(()=>{x({type:Ne}),b(bs.Uninitialized),St(null),L(null),O(null),Se.current=null;let As=Ne===Yt.DragEnd?"onDragEnd":"onDragCancel";if(Qr){let tc=E.current[As];tc?.(Qr),w({type:As,event:Qr})}})}}},[M]),dt=hn((it,Je)=>(ae,ke)=>{let Te=ae.nativeEvent,$e=M.get(ke);if(I.current!==null||!$e||Te.dndKit||Te.defaultPrevented)return;let mo={active:$e};it(ae,Je.options,mo)===!0&&(Te.dndKit={capturedBy:Je.sensor},I.current=ke,ot(ae,Je))},[M,ot]),Bo=rJ(d,dt);dJ(d),Ar(()=>{K&&S===bs.Initializing&&b(bs.Initialized)},[K,S]),Ut(()=>{let{onDragMove:it}=E.current,{active:Je,activatorEvent:ae,collisions:ke,over:Te}=ne.current;if(!Je||!ae)return;let $e={active:Je,activatorEvent:ae,collisions:ke,delta:{x:to.x,y:to.y},over:Te};Ly(()=>{it?.($e),w({type:"onDragMove",event:$e})})},[to.x,to.y]),Ut(()=>{let{active:it,activatorEvent:Je,collisions:ae,droppableContainers:ke,scrollAdjustedTranslate:Te}=ne.current;if(!it||I.current==null||!Je||!Te)return;let{onDragOver:$e}=E.current,mo=ke.get(po),et=mo&&mo.rect.current?{id:mo.id,rect:mo.rect.current,data:mo.data,disabled:mo.disabled}:null,Ne={active:it,activatorEvent:Je,collisions:ae,delta:{x:Te.x,y:Te.y},over:et};Ly(()=>{St(et),$e?.(Ne),w({type:"onDragOver",event:Ne})})},[po]),Ar(()=>{ne.current={activatorEvent:D,active:N,activeNode:q,collisionRect:oo,collisions:ro,droppableRects:$,draggableNodes:M,draggingNode:Me,draggingNodeRect:We,droppableContainers:_,over:Be,scrollableAncestors:Ct,scrollAdjustedTranslate:to},k.current={initial:We,translated:oo}},[N,q,ro,oo,M,Me,We,$,_,Be,Ct,to]),JZ({...j,delta:T,draggingRect:oo,pointerCoordinates:eo,scrollableAncestors:Ct,scrollableAncestorRects:Jo});let Ve=Ht(()=>({active:N,activeNode:q,activeNodeRect:K,activatorEvent:D,collisions:ro,containerNodeRect:re,dragOverlay:Ce,draggableNodes:M,droppableContainers:_,droppableRects:$,over:Be,measureDroppableContainers:G,scrollableAncestors:Ct,scrollableAncestorRects:Jo,measuringConfiguration:U,measuringScheduled:H,windowRect:Fe}),[N,q,K,D,ro,re,Ce,M,_,$,Be,G,Ct,Jo,U,H,Fe]),kt=Ht(()=>({activatorEvent:D,activators:Bo,active:N,activeNodeRect:K,ariaDescribedById:{draggable:V},dispatch:x,draggableNodes:M,over:Be,measureDroppableContainers:G}),[D,Bo,N,K,x,V,M,Be,G]);return Xt.createElement(d2.Provider,{value:C},Xt.createElement(_f.Provider,{value:kt},Xt.createElement(E2.Provider,{value:Ve},Xt.createElement(ky.Provider,{value:Ae},c)),Xt.createElement(wJ,{disabled:i?.restoreFocus===!1})),Xt.createElement(EZ,{...i,hiddenTextDescribedById:V}));function Re(){let it=A?.autoScrollEnabled===!1,Je=typeof u=="object"?u.enabled===!1:u===!1,ae=R&&!it&&!Je;return typeof u=="object"?{...u,enabled:ae}:{enabled:ae}}}),bJ=kf(null),u2="button",IJ="Draggable";function D2(e){let{id:t,data:o,disabled:r=!1,attributes:n}=e,a=Ui(IJ),{activators:s,activatorEvent:i,active:u,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:p}=Gi(_f),{role:m=u2,roleDescription:y="draggable",tabIndex:g=0}=n??{},v=u?.id===t,x=Gi(v?ky:bJ),[w,C]=Rf(),[S,b]=Rf(),R=fJ(s,t),P=Hu(o);Ar(()=>(f.set(t,{id:t,key:a,node:w,activatorNode:S,data:P}),()=>{let T=f.get(t);T&&T.key===a&&f.delete(t)}),[f,t]);let M=Ht(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":v&&m===u2?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,m,g,v,y,d.draggable]);return{active:u,activatorEvent:i,activeNodeRect:c,attributes:M,isDragging:v,listeners:r?void 0:R,node:w,over:p,setNodeRef:C,setActivatorNodeRef:b,transform:x}}function Nb(){return Gi(E2)}var RJ="Droppable",PJ={timeout:25};function A2(e){let{data:t,disabled:o=!1,id:r,resizeObserverConfig:n}=e,a=Ui(RJ),{active:s,dispatch:i,over:u,measureDroppableContainers:c}=Gi(_f),d=wo({disabled:o}),f=wo(!1),p=wo(null),m=wo(null),{disabled:y,updateMeasurementsFor:g,timeout:v}={...PJ,...n},x=Hu(g??r),w=hn(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),m.current=null},v)},[v]),C=Ay({callback:w,disabled:y||!s}),S=hn((M,T)=>{C&&(T&&(C.unobserve(T),f.current=!1),M&&C.observe(M))},[C]),[b,R]=Rf(S),P=Hu(t);return Ut(()=>{!C||!b.current||(C.disconnect(),f.current=!1,C.observe(b.current))},[b,C]),Ut(()=>(i({type:Yt.RegisterDroppable,element:{id:r,key:a,disabled:o,node:b,rect:p,data:P}}),()=>i({type:Yt.UnregisterDroppable,key:a,id:r})),[r]),Ut(()=>{o!==d.current.disabled&&(i({type:Yt.SetDroppableDisabled,id:r,key:a,disabled:o}),d.current.disabled=o)},[r,a,o,i]),{active:s,rect:p,isOver:u?.id===r,node:b,over:u,setNodeRef:R}}function LJ(e){let{animation:t,children:o}=e,[r,n]=kr(null),[a,s]=kr(null),i=Pf(o);return!o&&!r&&i&&n(i),Ar(()=>{if(!a)return;let u=r?.key,c=r?.props.id;if(u==null||c==null){n(null);return}Promise.resolve(t(c,a)).then(()=>{n(null)})},[t,r,a]),Xt.createElement(Xt.Fragment,null,o,r?SZ(r,{ref:s}):null)}var MJ={x:0,y:0,scaleX:1,scaleY:1};function EJ(e){let{children:t}=e;return Xt.createElement(_f.Provider,{value:M2},Xt.createElement(ky.Provider,{value:MJ},t))}var TJ={position:"fixed",touchAction:"none"},DJ=e=>zu(e)?"transform 250ms ease":void 0,AJ=bZ((e,t)=>{let{as:o,activatorEvent:r,adjustScale:n,children:a,className:s,rect:i,style:u,transform:c,transition:d=DJ}=e;if(!i)return null;let f=n?c:{...c,scaleX:1,scaleY:1},p={...TJ,width:i.width,height:i.height,top:i.top,left:i.left,transform:Dr.Transform.toString(f),transformOrigin:n&&r?TZ(r,i):void 0,transition:typeof d=="function"?d(r):d,...u};return Xt.createElement(o,{className:s,style:p,ref:t},a)}),kJ=e=>t=>{let{active:o,dragOverlay:r}=t,n={},{styles:a,className:s}=e;if(a!=null&&a.active)for(let[i,u]of Object.entries(a.active))u!==void 0&&(n[i]=o.node.style.getPropertyValue(i),o.node.style.setProperty(i,u));if(a!=null&&a.dragOverlay)for(let[i,u]of Object.entries(a.dragOverlay))u!==void 0&&r.node.style.setProperty(i,u);return s!=null&&s.active&&o.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(let[u,c]of Object.entries(n))o.node.style.setProperty(u,c);s!=null&&s.active&&o.node.classList.remove(s.active)}},OJ=e=>{let{transform:{initial:t,final:o}}=e;return[{transform:Dr.Transform.toString(t)},{transform:Dr.Transform.toString(o)}]},NJ={duration:250,easing:"ease",keyframes:OJ,sideEffects:kJ({styles:{active:{opacity:"0"}}})};function _J(e){let{config:t,draggableNodes:o,droppableContainers:r,measuringConfiguration:n}=e;return If((a,s)=>{if(t===null)return;let i=o.get(a);if(!i)return;let u=i.node.current;if(!u)return;let c=L2(s);if(!c)return;let{transform:d}=_o(s).getComputedStyle(s),f=y2(d);if(!f)return;let p=typeof t=="function"?t:FJ(t);return I2(u,n.draggable.measure),p({active:{id:a,data:i.data,node:u,rect:n.draggable.measure(u)},draggableNodes:o,dragOverlay:{node:s,rect:n.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:n,transform:f})})}function FJ(e){let{duration:t,easing:o,sideEffects:r,keyframes:n}={...NJ,...e};return a=>{let{active:s,dragOverlay:i,transform:u,...c}=a;if(!t)return;let d={x:i.rect.left-s.rect.left,y:i.rect.top-s.rect.top},f={scaleX:u.scaleX!==1?s.rect.width*u.scaleX/i.rect.width:1,scaleY:u.scaleY!==1?s.rect.height*u.scaleY/i.rect.height:1},p={x:u.x-d.x,y:u.y-d.y,...f},m=n({...c,active:s,dragOverlay:i,transform:{initial:u,final:p}}),[y]=m,g=m[m.length-1];if(JSON.stringify(y)===JSON.stringify(g))return;let v=r?.({active:s,dragOverlay:i,...c}),x=i.node.animate(m,{duration:t,easing:o,fill:"forwards"});return new Promise(w=>{x.onfinish=()=>{v?.(),w()}})}}var c2=0;function BJ(e){return Ht(()=>{if(e!=null)return c2++,c2},[e])}var k2=Xt.memo(e=>{let{adjustScale:t=!1,children:o,dropAnimation:r,style:n,transition:a,modifiers:s,wrapperElement:i="div",className:u,zIndex:c=999}=e,{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:m,draggableNodes:y,droppableContainers:g,dragOverlay:v,over:x,measuringConfiguration:w,scrollableAncestors:C,scrollableAncestorRects:S,windowRect:b}=Nb(),R=Gi(ky),P=BJ(f?.id),M=T2(s,{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:m,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:C,scrollableAncestorRects:S,transform:R,windowRect:b}),T=Ob(p),_=_J({config:r,draggableNodes:y,droppableContainers:g,measuringConfiguration:w}),F=T?v.setRef:void 0;return Xt.createElement(EJ,null,Xt.createElement(LJ,{animation:_},f&&P?Xt.createElement(AJ,{key:P,id:f.id,ref:F,as:i,activatorEvent:d,adjustScale:t,className:u,transition:a,rect:T,style:{zIndex:c,...n},transform:M},o):null))});l();import O2,{useMemo as By,useRef as _b,useEffect as Vy,useState as VJ,useContext as HJ}from"react";function $u(e,t,o){let r=e.slice();return r.splice(o<0?r.length+o:o,0,r.splice(t,1)[0]),r}function UJ(e,t){return e.reduce((o,r,n)=>{let a=t.get(r);return a&&(o[n]=a),o},Array(e.length))}function Ny(e){return e!==null&&e>=0}function zJ(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function qJ(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}var _y={scaleX:1,scaleY:1},N2=e=>{var t;let{rects:o,activeNodeRect:r,activeIndex:n,overIndex:a,index:s}=e,i=(t=o[n])!=null?t:r;if(!i)return null;let u=WJ(o,s,n);if(s===n){let c=o[a];return c?{x:n<a?c.left+c.width-(i.left+i.width):c.left-i.left,y:0,..._y}:null}return s>n&&s<=a?{x:-i.width-u,y:0,..._y}:s<n&&s>=a?{x:i.width+u,y:0,..._y}:{x:0,y:0,..._y}};function WJ(e,t,o){let r=e[t],n=e[t-1],a=e[t+1];return!r||!n&&!a?0:o<t?n?r.left-(n.left+n.width):a.left-(r.left+r.width):a?a.left-(r.left+r.width):r.left-(n.left+n.width)}var _2=e=>{let{rects:t,activeIndex:o,overIndex:r,index:n}=e,a=$u(t,r,o),s=t[n],i=a[n];return!i||!s?null:{x:i.left-s.left,y:i.top-s.top,scaleX:i.width/s.width,scaleY:i.height/s.height}};var Fy={scaleX:1,scaleY:1},F2=e=>{var t;let{activeIndex:o,activeNodeRect:r,index:n,rects:a,overIndex:s}=e,i=(t=a[o])!=null?t:r;if(!i)return null;if(n===o){let c=a[s];return c?{x:0,y:o<s?c.top+c.height-(i.top+i.height):c.top-i.top,...Fy}:null}let u=$J(a,n,o);return n>o&&n<=s?{x:0,y:-i.height-u,...Fy}:n<o&&n>=s?{x:0,y:i.height+u,...Fy}:{x:0,y:0,...Fy}};function $J(e,t,o){let r=e[t],n=e[t-1],a=e[t+1];return r?o<t?n?r.top-(n.top+n.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):n?r.top-(n.top+n.height):0:0}var B2="Sortable",V2=O2.createContext({activeIndex:-1,containerId:B2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_2,disabled:{draggable:!1,droppable:!1}});function Uy(e){let{children:t,id:o,items:r,strategy:n=_2,disabled:a=!1}=e,{active:s,dragOverlay:i,droppableRects:u,over:c,measureDroppableContainers:d}=Nb(),f=Ui(B2,o),p=i.rect!==null,m=By(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),y=s!=null,g=s?m.indexOf(s.id):-1,v=c?m.indexOf(c.id):-1,x=_b(m),w=!zJ(m,x.current),C=v!==-1&&g===-1||w,S=qJ(a);Ar(()=>{w&&y&&d(m)},[w,m,y,d]),Vy(()=>{x.current=m},[m]);let b=By(()=>({activeIndex:g,containerId:f,disabled:S,disableTransforms:C,items:m,overIndex:v,useDragOverlay:p,sortedRects:UJ(m,u),strategy:n}),[g,f,S.draggable,S.droppable,C,m,v,u,p,n]);return O2.createElement(V2.Provider,{value:b},t)}var GJ=e=>{let{id:t,items:o,activeIndex:r,overIndex:n}=e;return $u(o,r,n).indexOf(t)},jJ=e=>{let{containerId:t,isSorting:o,wasDragging:r,index:n,items:a,newIndex:s,previousItems:i,previousContainerId:u,transition:c}=e;return!c||!r||i!==a&&n===s?!1:o?!0:s!==n&&t===u},KJ={duration:200,easing:"ease"},H2="transform",YJ=Dr.Transition.toString({property:H2,duration:0,easing:"linear"}),XJ={roleDescription:"sortable"};function QJ(e){let{disabled:t,index:o,node:r,rect:n}=e,[a,s]=VJ(null),i=_b(o);return Ar(()=>{if(!t&&o!==i.current&&r.current){let u=n.current;if(u){let c=ji(r.current,{ignoreTransform:!0}),d={x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height};(d.x||d.y)&&s(d)}}o!==i.current&&(i.current=o)},[t,o,r,n]),Vy(()=>{a&&s(null)},[a]),a}function zy(e){let{animateLayoutChanges:t=jJ,attributes:o,disabled:r,data:n,getNewIndex:a=GJ,id:s,strategy:i,resizeObserverConfig:u,transition:c=KJ}=e,{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:y,sortedRects:g,overIndex:v,useDragOverlay:x,strategy:w}=HJ(V2),C=ZJ(r,m),S=d.indexOf(s),b=By(()=>({sortable:{containerId:f,index:S,items:d},...n}),[f,n,S,d]),R=By(()=>d.slice(d.indexOf(s)),[d,s]),{rect:P,node:M,isOver:T,setNodeRef:_}=A2({id:s,data:b,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...u}}),{active:F,activatorEvent:k,activeNodeRect:N,attributes:I,setNodeRef:A,listeners:L,isDragging:D,over:O,setActivatorNodeRef:E,transform:V}=D2({id:s,data:b,attributes:{...XJ,...o},disabled:C.draggable}),B=WF(_,A),U=!!F,$=U&&!y&&Ny(p)&&Ny(v),G=!x&&D,H=G&&$?V:null,z=$?H??(i??w)({rects:g,activeNodeRect:N,activeIndex:p,overIndex:v,index:S}):null,j=Ny(p)&&Ny(v)?a({id:s,items:d,activeIndex:p,overIndex:v}):S,X=F?.id,K=_b({activeId:X,items:d,newIndex:j,containerId:f}),re=d!==K.current.items,ne=t({active:F,containerId:f,isDragging:D,isSorting:U,id:s,index:S,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:c,wasDragging:K.current.activeId!=null}),me=QJ({disabled:!ne,index:S,node:M,rect:P});return Vy(()=>{U&&K.current.newIndex!==j&&(K.current.newIndex=j),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[U,j,f,d]),Vy(()=>{if(X===K.current.activeId)return;if(X!=null&&K.current.activeId==null){K.current.activeId=X;return}let Me=setTimeout(()=>{K.current.activeId=X},50);return()=>clearTimeout(Me)},[X]),{active:F,activeIndex:p,attributes:I,data:b,rect:P,index:S,newIndex:j,items:d,isOver:T,isSorting:U,isDragging:D,listeners:L,node:M,overIndex:v,over:O,setNodeRef:B,setActivatorNodeRef:E,setDroppableNodeRef:_,setDraggableNodeRef:A,transform:me??z,transition:Ce()};function Ce(){if(me||re&&K.current.newIndex===S)return YJ;if(!(G&&!zu(k)||!c)&&(U||ne))return Dr.Transition.toString({...c,property:H2})}}function ZJ(e,t){var o,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(o=e?.draggable)!=null?o:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function Hy(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var JJ=[Ee.Down,Ee.Right,Ee.Up,Ee.Left],U2=(e,t)=>{let{context:{active:o,collisionRect:r,droppableRects:n,droppableContainers:a,over:s,scrollableAncestors:i}}=t;if(JJ.includes(e.code)){if(e.preventDefault(),!o||!r)return;let u=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;let p=n.get(f.id);if(p)switch(e.code){case Ee.Down:r.top<p.top&&u.push(f);break;case Ee.Up:r.top>p.top&&u.push(f);break;case Ee.Left:r.left>p.left&&u.push(f);break;case Ee.Right:r.left<p.left&&u.push(f);break}});let c=h2({active:o,collisionRect:r,droppableRects:n,droppableContainers:u,pointerCoordinates:null}),d=kb(c,"id");if(d===s?.id&&c.length>1&&(d=c[1].id),d!=null){let f=a.get(o.id),p=a.get(d),m=p?n.get(p.id):null,y=p?.node.current;if(y&&m&&f&&p){let v=Nf(y).some((R,P)=>i[P]!==R),x=z2(f,p),w=eee(f,p),C=v||!x?{x:0,y:0}:{x:w?r.width-m.width:0,y:w?r.height-m.height:0},S={x:m.left,y:m.top};return C.x&&C.y?S:qi(S,C)}}}};function z2(e,t){return!Hy(e)||!Hy(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function eee(e,t){return!Hy(e)||!Hy(t)||!z2(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}l();import*as jy from"react";l();function Is(e,t){return typeof e=="function"?e(t):e}function Or(e,t){return o=>{t.setState(r=>({...r,[e]:Is(o,r[e])}))}}function Gy(e){return e instanceof Function}function tee(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function oee(e,t){let o=[],r=n=>{n.forEach(a=>{o.push(a);let s=t(a);s!=null&&s.length&&r(s)})};return r(e),o}function fe(e,t,o){let r=[],n;return a=>{let s;o.key&&o.debug&&(s=Date.now());let i=e(a);if(!(i.length!==r.length||i.some((d,f)=>r[f]!==d)))return n;r=i;let c;if(o.key&&o.debug&&(c=Date.now()),n=t(...i),o==null||o.onChange==null||o.onChange(n),o.key&&o.debug&&o!=null&&o.debug()){let d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-c)*100)/100,p=f/16,m=(y,g)=>{for(y=String(y);y.length<g;)y=" "+y;return y};console.info(`%c\u23F1 ${m(f,5)} /${m(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,o?.key)}return n}}function pe(e,t,o,r){return{debug:()=>{var n;return(n=e?.debugAll)!=null?n:e[t]},key:!1,onChange:r}}function ree(e,t,o,r){let n=()=>{var s;return(s=a.getValue())!=null?s:e.options.renderFallbackValue},a={id:`${t.id}_${o.id}`,row:t,column:o,getValue:()=>t.getValue(r),renderValue:n,getContext:fe(()=>[e,o,t,a],(s,i,u,c)=>({table:s,column:i,row:u,cell:c,getValue:c.getValue,renderValue:c.renderValue}),pe(e.options,"debugCells","cell.getContext"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(a,o,t,e)},{}),a}function nee(e,t,o,r){var n,a;let i={...e._getDefaultColumnDef(),...t},u=i.accessorKey,c=(n=(a=i.id)!=null?a:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?n:typeof i.header=="string"?i.header:void 0,d;if(i.accessorFn?d=i.accessorFn:u&&(u.includes(".")?d=p=>{let m=p;for(let g of u.split(".")){var y;m=(y=m)==null?void 0:y[g],m===void 0&&console.warn(`"${g}" in deeply nested key "${u}" returned undefined.`)}return m}:d=p=>p[i.accessorKey]),!c)throw new Error(i.accessorFn?"Columns require an id when using an accessorFn":"Columns require an id when using a non-string header");let f={id:`${String(c)}`,accessorFn:d,parent:r,depth:o,columnDef:i,columns:[],getFlatColumns:fe(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(m=>m.getFlatColumns())]},pe(e.options,"debugColumns","column.getFlatColumns")),getLeafColumns:fe(()=>[e._getOrderColumnsFn()],p=>{var m;if((m=f.columns)!=null&&m.length){let y=f.columns.flatMap(g=>g.getLeafColumns());return p(y)}return[f]},pe(e.options,"debugColumns","column.getLeafColumns"))};for(let p of e._features)p.createColumn==null||p.createColumn(f,e);return f}var Fo="debugHeaders";function q2(e,t,o){var r;let a={id:(r=o.id)!=null?r:t.id,column:t,index:o.index,isPlaceholder:!!o.isPlaceholder,placeholderId:o.placeholderId,depth:o.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{let s=[],i=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(i),s.push(u)};return i(a),s},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(a,e)}),a}var aee={createTable:e=>{e.getHeaderGroups=fe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,o,r,n)=>{var a,s;let i=(a=r?.map(f=>o.find(p=>p.id===f)).filter(Boolean))!=null?a:[],u=(s=n?.map(f=>o.find(p=>p.id===f)).filter(Boolean))!=null?s:[],c=o.filter(f=>!(r!=null&&r.includes(f.id))&&!(n!=null&&n.includes(f.id)));return qy(t,[...i,...c,...u],e)},pe(e.options,Fo,"getHeaderGroups")),e.getCenterHeaderGroups=fe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,o,r,n)=>(o=o.filter(a=>!(r!=null&&r.includes(a.id))&&!(n!=null&&n.includes(a.id))),qy(t,o,e,"center")),pe(e.options,Fo,"getCenterHeaderGroups")),e.getLeftHeaderGroups=fe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,o,r)=>{var n;let a=(n=r?.map(s=>o.find(i=>i.id===s)).filter(Boolean))!=null?n:[];return qy(t,a,e,"left")},pe(e.options,Fo,"getLeftHeaderGroups")),e.getRightHeaderGroups=fe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,o,r)=>{var n;let a=(n=r?.map(s=>o.find(i=>i.id===s)).filter(Boolean))!=null?n:[];return qy(t,a,e,"right")},pe(e.options,Fo,"getRightHeaderGroups")),e.getFooterGroups=fe(()=>[e.getHeaderGroups()],t=>[...t].reverse(),pe(e.options,Fo,"getFooterGroups")),e.getLeftFooterGroups=fe(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),pe(e.options,Fo,"getLeftFooterGroups")),e.getCenterFooterGroups=fe(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),pe(e.options,Fo,"getCenterFooterGroups")),e.getRightFooterGroups=fe(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),pe(e.options,Fo,"getRightFooterGroups")),e.getFlatHeaders=fe(()=>[e.getHeaderGroups()],t=>t.map(o=>o.headers).flat(),pe(e.options,Fo,"getFlatHeaders")),e.getLeftFlatHeaders=fe(()=>[e.getLeftHeaderGroups()],t=>t.map(o=>o.headers).flat(),pe(e.options,Fo,"getLeftFlatHeaders")),e.getCenterFlatHeaders=fe(()=>[e.getCenterHeaderGroups()],t=>t.map(o=>o.headers).flat(),pe(e.options,Fo,"getCenterFlatHeaders")),e.getRightFlatHeaders=fe(()=>[e.getRightHeaderGroups()],t=>t.map(o=>o.headers).flat(),pe(e.options,Fo,"getRightFlatHeaders")),e.getCenterLeafHeaders=fe(()=>[e.getCenterFlatHeaders()],t=>t.filter(o=>{var r;return!((r=o.subHeaders)!=null&&r.length)}),pe(e.options,Fo,"getCenterLeafHeaders")),e.getLeftLeafHeaders=fe(()=>[e.getLeftFlatHeaders()],t=>t.filter(o=>{var r;return!((r=o.subHeaders)!=null&&r.length)}),pe(e.options,Fo,"getLeftLeafHeaders")),e.getRightLeafHeaders=fe(()=>[e.getRightFlatHeaders()],t=>t.filter(o=>{var r;return!((r=o.subHeaders)!=null&&r.length)}),pe(e.options,Fo,"getRightLeafHeaders")),e.getLeafHeaders=fe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,o,r)=>{var n,a,s,i,u,c;return[...(n=(a=t[0])==null?void 0:a.headers)!=null?n:[],...(s=(i=o[0])==null?void 0:i.headers)!=null?s:[],...(u=(c=r[0])==null?void 0:c.headers)!=null?u:[]].map(d=>d.getLeafHeaders()).flat()},pe(e.options,Fo,"getLeafHeaders"))}};function qy(e,t,o,r){var n,a;let s=0,i=function(p,m){m===void 0&&(m=1),s=Math.max(s,m),p.filter(y=>y.getIsVisible()).forEach(y=>{var g;(g=y.columns)!=null&&g.length&&i(y.columns,m+1)},0)};i(e);let u=[],c=(p,m)=>{let y={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},g=[];p.forEach(v=>{let x=[...g].reverse()[0],w=v.column.depth===y.depth,C,S=!1;if(w&&v.column.parent?C=v.column.parent:(C=v.column,S=!0),x&&x?.column===C)x.subHeaders.push(v);else{let b=q2(o,C,{id:[r,m,C.id,v?.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${g.filter(R=>R.column===C).length}`:void 0,depth:m,index:g.length});b.subHeaders.push(v),g.push(b)}y.headers.push(v),v.headerGroup=y}),u.push(y),m>0&&c(g,m-1)},d=t.map((p,m)=>q2(o,p,{depth:s,index:m}));c(d,s-1),u.reverse();let f=p=>p.filter(y=>y.column.getIsVisible()).map(y=>{let g=0,v=0,x=[0];y.subHeaders&&y.subHeaders.length?(x=[],f(y.subHeaders).forEach(C=>{let{colSpan:S,rowSpan:b}=C;g+=S,x.push(b)})):g=1;let w=Math.min(...x);return v=v+w,y.colSpan=g,y.rowSpan=v,{colSpan:g,rowSpan:v}});return f((n=(a=u[0])==null?void 0:a.headers)!=null?n:[]),u}var see=(e,t,o,r,n,a,s)=>{let i={id:t,index:r,original:o,depth:n,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(i._valuesCache.hasOwnProperty(u))return i._valuesCache[u];let c=e.getColumn(u);if(c!=null&&c.accessorFn)return i._valuesCache[u]=c.accessorFn(i.original,r),i._valuesCache[u]},getUniqueValues:u=>{if(i._uniqueValuesCache.hasOwnProperty(u))return i._uniqueValuesCache[u];let c=e.getColumn(u);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(i._uniqueValuesCache[u]=c.columnDef.getUniqueValues(i.original,r),i._uniqueValuesCache[u]):(i._uniqueValuesCache[u]=[i.getValue(u)],i._uniqueValuesCache[u])},renderValue:u=>{var c;return(c=i.getValue(u))!=null?c:e.options.renderFallbackValue},subRows:a??[],getLeafRows:()=>oee(i.subRows,u=>u.subRows),getParentRow:()=>i.parentId?e.getRow(i.parentId,!0):void 0,getParentRows:()=>{let u=[],c=i;for(;;){let d=c.getParentRow();if(!d)break;u.push(d),c=d}return u.reverse()},getAllCells:fe(()=>[e.getAllLeafColumns()],u=>u.map(c=>ree(e,i,c,c.id)),pe(e.options,"debugRows","getAllCells")),_getAllCellsByColumnId:fe(()=>[i.getAllCells()],u=>u.reduce((c,d)=>(c[d.column.id]=d,c),{}),pe(e.options,"debugRows","getAllCellsByColumnId"))};for(let u=0;u<e._features.length;u++){let c=e._features[u];c==null||c.createRow==null||c.createRow(i,e)}return i},iee={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},$2=(e,t,o)=>{var r;let n=o.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(n))};$2.autoRemove=e=>yn(e);var G2=(e,t,o)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(o))};G2.autoRemove=e=>yn(e);var j2=(e,t,o)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===o?.toLowerCase()};j2.autoRemove=e=>yn(e);var K2=(e,t,o)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(o)};K2.autoRemove=e=>yn(e)||!(e!=null&&e.length);var Y2=(e,t,o)=>!o.some(r=>{var n;return!((n=e.getValue(t))!=null&&n.includes(r))});Y2.autoRemove=e=>yn(e)||!(e!=null&&e.length);var X2=(e,t,o)=>o.some(r=>{var n;return(n=e.getValue(t))==null?void 0:n.includes(r)});X2.autoRemove=e=>yn(e)||!(e!=null&&e.length);var Q2=(e,t,o)=>e.getValue(t)===o;Q2.autoRemove=e=>yn(e);var Z2=(e,t,o)=>e.getValue(t)==o;Z2.autoRemove=e=>yn(e);var Yb=(e,t,o)=>{let[r,n]=o,a=e.getValue(t);return a>=r&&a<=n};Yb.resolveFilterValue=e=>{let[t,o]=e,r=typeof t!="number"?parseFloat(t):t,n=typeof o!="number"?parseFloat(o):o,a=t===null||Number.isNaN(r)?-1/0:r,s=o===null||Number.isNaN(n)?1/0:n;if(a>s){let i=a;a=s,s=i}return[a,s]};Yb.autoRemove=e=>yn(e)||yn(e[0])&&yn(e[1]);var Ra={includesString:$2,includesStringSensitive:G2,equalsString:j2,arrIncludes:K2,arrIncludesAll:Y2,arrIncludesSome:X2,equals:Q2,weakEquals:Z2,inNumberRange:Yb};function yn(e){return e==null||e===""}var lee={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Or("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{let o=t.getCoreRowModel().flatRows[0],r=o?.getValue(e.id);return typeof r=="string"?Ra.includesString:typeof r=="number"?Ra.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Ra.equals:Array.isArray(r)?Ra.arrIncludes:Ra.weakEquals},e.getFilterFn=()=>{var o,r;return Gy(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(o=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?o:Ra[e.columnDef.filterFn]},e.getCanFilter=()=>{var o,r,n;return((o=e.columnDef.enableColumnFilter)!=null?o:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((n=t.options.enableFilters)!=null?n:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var o;return(o=t.getState().columnFilters)==null||(o=o.find(r=>r.id===e.id))==null?void 0:o.value},e.getFilterIndex=()=>{var o,r;return(o=(r=t.getState().columnFilters)==null?void 0:r.findIndex(n=>n.id===e.id))!=null?o:-1},e.setFilterValue=o=>{t.setColumnFilters(r=>{let n=e.getFilterFn(),a=r?.find(d=>d.id===e.id),s=Is(o,a?a.value:void 0);if(W2(n,s,e)){var i;return(i=r?.filter(d=>d.id!==e.id))!=null?i:[]}let u={id:e.id,value:s};if(a){var c;return(c=r?.map(d=>d.id===e.id?u:d))!=null?c:[]}return r!=null&&r.length?[...r,u]:[u]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{let o=e.getAllLeafColumns(),r=n=>{var a;return(a=Is(t,n))==null?void 0:a.filter(s=>{let i=o.find(u=>u.id===s.id);if(i){let u=i.getFilterFn();if(W2(u,s.value,i))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var o,r;e.setColumnFilters(t?[]:(o=(r=e.initialState)==null?void 0:r.columnFilters)!=null?o:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function W2(e,t,o){return(e&&e.autoRemove?e.autoRemove(t,o):!1)||typeof t>"u"||typeof t=="string"&&!t}var uee=(e,t,o)=>o.reduce((r,n)=>{let a=n.getValue(e);return r+(typeof a=="number"?a:0)},0),cee=(e,t,o)=>{let r;return o.forEach(n=>{let a=n.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},dee=(e,t,o)=>{let r;return o.forEach(n=>{let a=n.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},fee=(e,t,o)=>{let r,n;return o.forEach(a=>{let s=a.getValue(e);s!=null&&(r===void 0?s>=s&&(r=n=s):(r>s&&(r=s),n<s&&(n=s)))}),[r,n]},pee=(e,t)=>{let o=0,r=0;if(t.forEach(n=>{let a=n.getValue(e);a!=null&&(a=+a)>=a&&(++o,r+=a)}),o)return r/o},mee=(e,t)=>{if(!t.length)return;let o=t.map(a=>a.getValue(e));if(!tee(o))return;if(o.length===1)return o[0];let r=Math.floor(o.length/2),n=o.sort((a,s)=>a-s);return o.length%2!==0?n[r]:(n[r-1]+n[r])/2},hee=(e,t)=>Array.from(new Set(t.map(o=>o.getValue(e))).values()),gee=(e,t)=>new Set(t.map(o=>o.getValue(e))).size,yee=(e,t)=>t.length,Fb={sum:uee,min:cee,max:dee,extent:fee,mean:pee,median:mee,unique:hee,uniqueCount:gee,count:yee},xee={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,o;return(t=(o=e.getValue())==null||o.toString==null?void 0:o.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Or("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(o=>o!=null&&o.includes(e.id)?o.filter(r=>r!==e.id):[...o??[],e.id])},e.getCanGroup=()=>{var o,r;return((o=e.columnDef.enableGrouping)!=null?o:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var o;return(o=t.getState().grouping)==null?void 0:o.includes(e.id)},e.getGroupedIndex=()=>{var o;return(o=t.getState().grouping)==null?void 0:o.indexOf(e.id)},e.getToggleGroupingHandler=()=>{let o=e.getCanGroup();return()=>{o&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{let o=t.getCoreRowModel().flatRows[0],r=o?.getValue(e.id);if(typeof r=="number")return Fb.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Fb.extent},e.getAggregationFn=()=>{var o,r;if(!e)throw new Error;return Gy(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(o=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?o:Fb[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var o,r;e.setGrouping(t?[]:(o=(r=e.initialState)==null?void 0:r.grouping)!=null?o:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=o=>{if(e._groupingValuesCache.hasOwnProperty(o))return e._groupingValuesCache[o];let r=t.getColumn(o);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[o]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[o]):e.getValue(o)},e._groupingValuesCache={}},createCell:(e,t,o,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===o.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var n;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((n=o.subRows)!=null&&n.length)}}};function vee(e,t,o){if(!(t!=null&&t.length)||!o)return e;let r=e.filter(a=>!t.includes(a.id));return o==="remove"?r:[...t.map(a=>e.find(s=>s.id===a)).filter(Boolean),...r]}var wee={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Or("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=fe(o=>[Bf(t,o)],o=>o.findIndex(r=>r.id===e.id),pe(t.options,"debugColumns","getIndex")),e.getIsFirstColumn=o=>{var r;return((r=Bf(t,o)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=o=>{var r;let n=Bf(t,o);return((r=n[n.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var o;e.setColumnOrder(t?[]:(o=e.initialState.columnOrder)!=null?o:[])},e._getOrderColumnsFn=fe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,o,r)=>n=>{let a=[];if(!(t!=null&&t.length))a=n;else{let s=[...t],i=[...n];for(;i.length&&s.length;){let u=s.shift(),c=i.findIndex(d=>d.id===u);c>-1&&a.push(i.splice(c,1)[0])}a=[...a,...i]}return vee(a,o,r)},pe(e.options,"debugTable","_getOrderColumnsFn"))}},Bb=()=>({left:[],right:[]}),Cee={getInitialState:e=>({columnPinning:Bb(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Or("columnPinning",e)}),createColumn:(e,t)=>{e.pin=o=>{let r=e.getLeafColumns().map(n=>n.id).filter(Boolean);t.setColumnPinning(n=>{var a,s;if(o==="right"){var i,u;return{left:((i=n?.left)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((u=n?.right)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(o==="left"){var c,d;return{left:[...((c=n?.left)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=n?.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((a=n?.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:((s=n?.right)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var n,a,s;return((n=r.columnDef.enablePinning)!=null?n:!0)&&((a=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{let o=e.getLeafColumns().map(i=>i.id),{left:r,right:n}=t.getState().columnPinning,a=o.some(i=>r?.includes(i)),s=o.some(i=>n?.includes(i));return a?"left":s?"right":!1},e.getPinnedIndex=()=>{var o,r;let n=e.getIsPinned();return n?(o=(r=t.getState().columnPinning)==null||(r=r[n])==null?void 0:r.indexOf(e.id))!=null?o:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=fe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(o,r,n)=>{let a=[...r??[],...n??[]];return o.filter(s=>!a.includes(s.column.id))},pe(t.options,"debugRows","getCenterVisibleCells")),e.getLeftVisibleCells=fe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(o,r)=>(r??[]).map(a=>o.find(s=>s.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),pe(t.options,"debugRows","getLeftVisibleCells")),e.getRightVisibleCells=fe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(o,r)=>(r??[]).map(a=>o.find(s=>s.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),pe(t.options,"debugRows","getRightVisibleCells"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var o,r;return e.setColumnPinning(t?Bb():(o=(r=e.initialState)==null?void 0:r.columnPinning)!=null?o:Bb())},e.getIsSomeColumnsPinned=t=>{var o;let r=e.getState().columnPinning;if(!t){var n,a;return!!((n=r.left)!=null&&n.length||(a=r.right)!=null&&a.length)}return!!((o=r[t])!=null&&o.length)},e.getLeftLeafColumns=fe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,o)=>(o??[]).map(r=>t.find(n=>n.id===r)).filter(Boolean),pe(e.options,"debugColumns","getLeftLeafColumns")),e.getRightLeafColumns=fe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,o)=>(o??[]).map(r=>t.find(n=>n.id===r)).filter(Boolean),pe(e.options,"debugColumns","getRightLeafColumns")),e.getCenterLeafColumns=fe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,o,r)=>{let n=[...o??[],...r??[]];return t.filter(a=>!n.includes(a.id))},pe(e.options,"debugColumns","getCenterLeafColumns"))}},Wy={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Vb=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),See={getDefaultColumnDef:()=>Wy,getInitialState:e=>({columnSizing:{},columnSizingInfo:Vb(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Or("columnSizing",e),onColumnSizingInfoChange:Or("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var o,r,n;let a=t.getState().columnSizing[e.id];return Math.min(Math.max((o=e.columnDef.minSize)!=null?o:Wy.minSize,(r=a??e.columnDef.size)!=null?r:Wy.size),(n=e.columnDef.maxSize)!=null?n:Wy.maxSize)},e.getStart=fe(o=>[o,Bf(t,o),t.getState().columnSizing],(o,r)=>r.slice(0,e.getIndex(o)).reduce((n,a)=>n+a.getSize(),0),pe(t.options,"debugColumns","getStart")),e.getAfter=fe(o=>[o,Bf(t,o),t.getState().columnSizing],(o,r)=>r.slice(e.getIndex(o)+1).reduce((n,a)=>n+a.getSize(),0),pe(t.options,"debugColumns","getAfter")),e.resetSize=()=>{t.setColumnSizing(o=>{let{[e.id]:r,...n}=o;return n})},e.getCanResize=()=>{var o,r;return((o=e.columnDef.enableResizing)!=null?o:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let o=0,r=n=>{if(n.subHeaders.length)n.subHeaders.forEach(r);else{var a;o+=(a=n.column.getSize())!=null?a:0}};return r(e),o},e.getStart=()=>{if(e.index>0){let o=e.headerGroup.headers[e.index-1];return o.getStart()+o.getSize()}return 0},e.getResizeHandler=o=>{let r=t.getColumn(e.column.id),n=r?.getCanResize();return a=>{if(!r||!n||(a.persist==null||a.persist(),Hb(a)&&a.touches&&a.touches.length>1))return;let s=e.getSize(),i=e?e.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],u=Hb(a)?Math.round(a.touches[0].clientX):a.clientX,c={},d=(x,w)=>{typeof w=="number"&&(t.setColumnSizingInfo(C=>{var S,b;let R=t.options.columnResizeDirection==="rtl"?-1:1,P=(w-((S=C?.startOffset)!=null?S:0))*R,M=Math.max(P/((b=C?.startSize)!=null?b:0),-.999999);return C.columnSizingStart.forEach(T=>{let[_,F]=T;c[_]=Math.round(Math.max(F+F*M,0)*100)/100}),{...C,deltaOffset:P,deltaPercentage:M}}),(t.options.columnResizeMode==="onChange"||x==="end")&&t.setColumnSizing(C=>({...C,...c})))},f=x=>d("move",x),p=x=>{d("end",x),t.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=o||typeof document<"u"?document:null,y={moveHandler:x=>f(x.clientX),upHandler:x=>{m?.removeEventListener("mousemove",y.moveHandler),m?.removeEventListener("mouseup",y.upHandler),p(x.clientX)}},g={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),f(x.touches[0].clientX),!1),upHandler:x=>{var w;m?.removeEventListener("touchmove",g.moveHandler),m?.removeEventListener("touchend",g.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),p((w=x.touches[0])==null?void 0:w.clientX)}},v=bee()?{passive:!1}:!1;Hb(a)?(m?.addEventListener("touchmove",g.moveHandler,v),m?.addEventListener("touchend",g.upHandler,v)):(m?.addEventListener("mousemove",y.moveHandler,v),m?.addEventListener("mouseup",y.upHandler,v)),t.setColumnSizingInfo(x=>({...x,startOffset:u,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:i,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var o;e.setColumnSizing(t?{}:(o=e.initialState.columnSizing)!=null?o:{})},e.resetHeaderSizeInfo=t=>{var o;e.setColumnSizingInfo(t?Vb():(o=e.initialState.columnSizingInfo)!=null?o:Vb())},e.getTotalSize=()=>{var t,o;return(t=(o=e.getHeaderGroups()[0])==null?void 0:o.headers.reduce((r,n)=>r+n.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,o;return(t=(o=e.getLeftHeaderGroups()[0])==null?void 0:o.headers.reduce((r,n)=>r+n.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,o;return(t=(o=e.getCenterHeaderGroups()[0])==null?void 0:o.headers.reduce((r,n)=>r+n.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,o;return(t=(o=e.getRightHeaderGroups()[0])==null?void 0:o.headers.reduce((r,n)=>r+n.getSize(),0))!=null?t:0}}},$y=null;function bee(){if(typeof $y=="boolean")return $y;let e=!1;try{let t={get passive(){return e=!0,!1}},o=()=>{};window.addEventListener("test",o,t),window.removeEventListener("test",o)}catch{e=!1}return $y=e,$y}function Hb(e){return e.type==="touchstart"}var Iee={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Or("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=o=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:o??!e.getIsVisible()}))},e.getIsVisible=()=>{var o,r;let n=e.columns;return(o=n.length?n.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?o:!0},e.getCanHide=()=>{var o,r;return((o=e.columnDef.enableHiding)!=null?o:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>o=>{e.toggleVisibility==null||e.toggleVisibility(o.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=fe(()=>[e.getAllCells(),t.getState().columnVisibility],o=>o.filter(r=>r.column.getIsVisible()),pe(t.options,"debugRows","_getAllVisibleCells")),e.getVisibleCells=fe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(o,r,n)=>[...o,...r,...n],pe(t.options,"debugRows","getVisibleCells"))},createTable:e=>{let t=(o,r)=>fe(()=>[r(),r().filter(n=>n.getIsVisible()).map(n=>n.id).join("_")],n=>n.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),pe(e.options,"debugColumns",o));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=o=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(o),e.resetColumnVisibility=o=>{var r;e.setColumnVisibility(o?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=o=>{var r;o=(r=o)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((n,a)=>({...n,[a.id]:o||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(o=>!(o.getIsVisible!=null&&o.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(o=>o.getIsVisible==null?void 0:o.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>o=>{var r;e.toggleAllColumnsVisible((r=o.target)==null?void 0:r.checked)}}};function Bf(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}var Ree={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Pee={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Or("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var o;let r=(o=e.getCoreRowModel().flatRows[0])==null||(o=o._getAllCellsByColumnId()[t.id])==null?void 0:o.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var o,r,n,a;return((o=e.columnDef.enableGlobalFilter)!=null?o:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((n=t.options.enableFilters)!=null?n:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ra.includesString,e.getGlobalFilterFn=()=>{var t,o;let{globalFilterFn:r}=e.options;return Gy(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(o=e.options.filterFns)==null?void 0:o[r])!=null?t:Ra[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Lee={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Or("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,o=!1;e._autoResetExpanded=()=>{var r,n;if(!t){e._queue(()=>{t=!0});return}if((r=(n=e.options.autoResetAll)!=null?n:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(o)return;o=!0,e._queue(()=>{e.resetExpanded(),o=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var n,a;e.setExpanded(r?{}:(n=(a=e.initialState)==null?void 0:a.expanded)!=null?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{let r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{let r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(n=>!n.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{let s=a.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=o=>{t.setExpanded(r=>{var n;let a=r===!0?!0:!!(r!=null&&r[e.id]),s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(i=>{s[i]=!0}):s=r,o=(n=o)!=null?n:!a,!a&&o)return{...s,[e.id]:!0};if(a&&!o){let{[e.id]:i,...u}=s;return u}return r})},e.getIsExpanded=()=>{var o;let r=t.getState().expanded;return!!((o=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?o:r===!0||r?.[e.id])},e.getCanExpand=()=>{var o,r,n;return(o=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?o:((r=t.options.enableExpanding)!=null?r:!0)&&!!((n=e.subRows)!=null&&n.length)},e.getIsAllParentsExpanded=()=>{let o=!0,r=e;for(;o&&r.parentId;)r=t.getRow(r.parentId,!0),o=r.getIsExpanded();return o},e.getToggleExpandedHandler=()=>{let o=e.getCanExpand();return()=>{o&&e.toggleExpanded()}}}},Wb=0,$b=10,Ub=()=>({pageIndex:Wb,pageSize:$b}),Mee={getInitialState:e=>({...e,pagination:{...Ub(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Or("pagination",e)}),createTable:e=>{let t=!1,o=!1;e._autoResetPageIndex=()=>{var r,n;if(!t){e._queue(()=>{t=!0});return}if((r=(n=e.options.autoResetAll)!=null?n:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(o)return;o=!0,e._queue(()=>{e.resetPageIndex(),o=!1})}},e.setPagination=r=>{let n=a=>Is(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(n)},e.resetPagination=r=>{var n;e.setPagination(r?Ub():(n=e.initialState.pagination)!=null?n:Ub())},e.setPageIndex=r=>{e.setPagination(n=>{let a=Is(r,n.pageIndex),s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,s)),{...n,pageIndex:a}})},e.resetPageIndex=r=>{var n,a;e.setPageIndex(r?Wb:(n=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?n:Wb)},e.resetPageSize=r=>{var n,a;e.setPageSize(r?$b:(n=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?n:$b)},e.setPageSize=r=>{e.setPagination(n=>{let a=Math.max(1,Is(r,n.pageSize)),s=n.pageSize*n.pageIndex,i=Math.floor(s/a);return{...n,pageIndex:i,pageSize:a}})},e.setPageCount=r=>e.setPagination(n=>{var a;let s=Is(r,(a=e.options.pageCount)!=null?a:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...n,pageCount:s}}),e.getPageOptions=fe(()=>[e.getPageCount()],r=>{let n=[];return r&&r>0&&(n=[...new Array(r)].fill(null).map((a,s)=>s)),n},pe(e.options,"debugTable","getPageOptions")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{let{pageIndex:r}=e.getState().pagination,n=e.getPageCount();return n===-1?!0:n===0?!1:r<n-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},zb=()=>({top:[],bottom:[]}),Eee={getInitialState:e=>({rowPinning:zb(),...e}),getDefaultOptions:e=>({onRowPinningChange:Or("rowPinning",e)}),createRow:(e,t)=>{e.pin=(o,r,n)=>{let a=r?e.getLeafRows().map(u=>{let{id:c}=u;return c}):[],s=n?e.getParentRows().map(u=>{let{id:c}=u;return c}):[],i=new Set([...s,e.id,...a]);t.setRowPinning(u=>{var c,d;if(o==="bottom"){var f,p;return{top:((f=u?.top)!=null?f:[]).filter(g=>!(i!=null&&i.has(g))),bottom:[...((p=u?.bottom)!=null?p:[]).filter(g=>!(i!=null&&i.has(g))),...Array.from(i)]}}if(o==="top"){var m,y;return{top:[...((m=u?.top)!=null?m:[]).filter(g=>!(i!=null&&i.has(g))),...Array.from(i)],bottom:((y=u?.bottom)!=null?y:[]).filter(g=>!(i!=null&&i.has(g)))}}return{top:((c=u?.top)!=null?c:[]).filter(g=>!(i!=null&&i.has(g))),bottom:((d=u?.bottom)!=null?d:[]).filter(g=>!(i!=null&&i.has(g)))}})},e.getCanPin=()=>{var o;let{enableRowPinning:r,enablePinning:n}=t.options;return typeof r=="function"?r(e):(o=r??n)!=null?o:!0},e.getIsPinned=()=>{let o=[e.id],{top:r,bottom:n}=t.getState().rowPinning,a=o.some(i=>r?.includes(i)),s=o.some(i=>n?.includes(i));return a?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var o,r;let n=e.getIsPinned();if(!n)return-1;let a=(o=n==="top"?t.getTopRows():t.getBottomRows())==null?void 0:o.map(s=>{let{id:i}=s;return i});return(r=a?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var o,r;return e.setRowPinning(t?zb():(o=(r=e.initialState)==null?void 0:r.rowPinning)!=null?o:zb())},e.getIsSomeRowsPinned=t=>{var o;let r=e.getState().rowPinning;if(!t){var n,a;return!!((n=r.top)!=null&&n.length||(a=r.bottom)!=null&&a.length)}return!!((o=r[t])!=null&&o.length)},e._getPinnedRows=(t,o,r)=>{var n;return((n=e.options.keepPinnedRows)==null||n?(o??[]).map(s=>{let i=e.getRow(s,!0);return i.getIsAllParentsExpanded()?i:null}):(o??[]).map(s=>t.find(i=>i.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=fe(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,o)=>e._getPinnedRows(t,o,"top"),pe(e.options,"debugRows","getTopRows")),e.getBottomRows=fe(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,o)=>e._getPinnedRows(t,o,"bottom"),pe(e.options,"debugRows","getBottomRows")),e.getCenterRows=fe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,o,r)=>{let n=new Set([...o??[],...r??[]]);return t.filter(a=>!n.has(a.id))},pe(e.options,"debugRows","getCenterRows"))}},Tee={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Or("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var o;return e.setRowSelection(t?{}:(o=e.initialState.rowSelection)!=null?o:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(o=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();let r={...o},n=e.getPreGroupedRowModel().flatRows;return t?n.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):n.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(o=>{let r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),n={...o};return e.getRowModel().rows.forEach(a=>{Gb(n,a.id,r,!0,e)}),n}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=fe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,o)=>Object.keys(t).length?qb(e,o):{rows:[],flatRows:[],rowsById:{}},pe(e.options,"debugTable","getSelectedRowModel")),e.getFilteredSelectedRowModel=fe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,o)=>Object.keys(t).length?qb(e,o):{rows:[],flatRows:[],rowsById:{}},pe(e.options,"debugTable","getFilteredSelectedRowModel")),e.getGroupedSelectedRowModel=fe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,o)=>Object.keys(t).length?qb(e,o):{rows:[],flatRows:[],rowsById:{}},pe(e.options,"debugTable","getGroupedSelectedRowModel")),e.getIsAllRowsSelected=()=>{let t=e.getFilteredRowModel().flatRows,{rowSelection:o}=e.getState(),r=!!(t.length&&Object.keys(o).length);return r&&t.some(n=>n.getCanSelect()&&!o[n.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{let t=e.getPaginationRowModel().flatRows.filter(n=>n.getCanSelect()),{rowSelection:o}=e.getState(),r=!!t.length;return r&&t.some(n=>!o[n.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;let o=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return o>0&&o<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{let t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(o=>o.getCanSelect()).some(o=>o.getIsSelected()||o.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(o,r)=>{let n=e.getIsSelected();t.setRowSelection(a=>{var s;if(o=typeof o<"u"?o:!n,e.getCanSelect()&&n===o)return a;let i={...a};return Gb(i,e.id,o,(s=r?.selectChildren)!=null?s:!0,t),i})},e.getIsSelected=()=>{let{rowSelection:o}=t.getState();return Xb(e,o)},e.getIsSomeSelected=()=>{let{rowSelection:o}=t.getState();return jb(e,o)==="some"},e.getIsAllSubRowsSelected=()=>{let{rowSelection:o}=t.getState();return jb(e,o)==="all"},e.getCanSelect=()=>{var o;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(o=t.options.enableRowSelection)!=null?o:!0},e.getCanSelectSubRows=()=>{var o;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(o=t.options.enableSubRowSelection)!=null?o:!0},e.getCanMultiSelect=()=>{var o;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(o=t.options.enableMultiRowSelection)!=null?o:!0},e.getToggleSelectedHandler=()=>{let o=e.getCanSelect();return r=>{var n;o&&e.toggleSelected((n=r.target)==null?void 0:n.checked)}}}},Gb=(e,t,o,r,n)=>{var a;let s=n.getRow(t,!0);o?(s.getCanMultiSelect()||Object.keys(e).forEach(i=>delete e[i]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=s.subRows)!=null&&a.length&&s.getCanSelectSubRows()&&s.subRows.forEach(i=>Gb(e,i.id,o,r,n))};function qb(e,t){let o=e.getState().rowSelection,r=[],n={},a=function(s,i){return s.map(u=>{var c;let d=Xb(u,o);if(d&&(r.push(u),n[u.id]=u),(c=u.subRows)!=null&&c.length&&(u={...u,subRows:a(u.subRows)}),d)return u}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:n}}function Xb(e,t){var o;return(o=t[e.id])!=null?o:!1}function jb(e,t,o){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let n=!0,a=!1;return e.subRows.forEach(s=>{if(!(a&&!n)&&(s.getCanSelect()&&(Xb(s,t)?a=!0:n=!1),s.subRows&&s.subRows.length)){let i=jb(s,t);i==="all"?a=!0:(i==="some"&&(a=!0),n=!1)}}),n?"all":a?"some":!1}var Kb=/([0-9]+)/gm,Dee=(e,t,o)=>J2(Rs(e.getValue(o)).toLowerCase(),Rs(t.getValue(o)).toLowerCase()),Aee=(e,t,o)=>J2(Rs(e.getValue(o)),Rs(t.getValue(o))),kee=(e,t,o)=>Qb(Rs(e.getValue(o)).toLowerCase(),Rs(t.getValue(o)).toLowerCase()),Oee=(e,t,o)=>Qb(Rs(e.getValue(o)),Rs(t.getValue(o))),Nee=(e,t,o)=>{let r=e.getValue(o),n=t.getValue(o);return r>n?1:r<n?-1:0},_ee=(e,t,o)=>Qb(e.getValue(o),t.getValue(o));function Qb(e,t){return e===t?0:e>t?1:-1}function Rs(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function J2(e,t){let o=e.split(Kb).filter(Boolean),r=t.split(Kb).filter(Boolean);for(;o.length&&r.length;){let n=o.shift(),a=r.shift(),s=parseInt(n,10),i=parseInt(a,10),u=[s,i].sort();if(isNaN(u[0])){if(n>a)return 1;if(a>n)return-1;continue}if(isNaN(u[1]))return isNaN(s)?-1:1;if(s>i)return 1;if(i>s)return-1}return o.length-r.length}var Ff={alphanumeric:Dee,alphanumericCaseSensitive:Aee,text:kee,textCaseSensitive:Oee,datetime:Nee,basic:_ee},Fee={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Or("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{let o=t.getFilteredRowModel().flatRows.slice(10),r=!1;for(let n of o){let a=n?.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return Ff.datetime;if(typeof a=="string"&&(r=!0,a.split(Kb).length>1))return Ff.alphanumeric}return r?Ff.text:Ff.basic},e.getAutoSortDir=()=>{let o=t.getFilteredRowModel().flatRows[0];return typeof o?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var o,r;if(!e)throw new Error;return Gy(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(o=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?o:Ff[e.columnDef.sortingFn]},e.toggleSorting=(o,r)=>{let n=e.getNextSortingOrder(),a=typeof o<"u"&&o!==null;t.setSorting(s=>{let i=s?.find(m=>m.id===e.id),u=s?.findIndex(m=>m.id===e.id),c=[],d,f=a?o:n==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?i?d="toggle":d="add":s!=null&&s.length&&u!==s.length-1?d="replace":i?d="toggle":d="replace",d==="toggle"&&(a||n||(d="remove")),d==="add"){var p;c=[...s,{id:e.id,desc:f}],c.splice(0,c.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?c=s.map(m=>m.id===e.id?{...m,desc:f}:m):d==="remove"?c=s.filter(m=>m.id!==e.id):c=[{id:e.id,desc:f}];return c})},e.getFirstSortDir=()=>{var o,r;return((o=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?o:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=o=>{var r,n;let a=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(o&&(n=t.options.enableMultiRemove)!=null)||n)?!1:s==="desc"?"asc":"desc":a},e.getCanSort=()=>{var o,r;return((o=e.columnDef.enableSorting)!=null?o:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var o,r;return(o=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?o:!!e.accessorFn},e.getIsSorted=()=>{var o;let r=(o=t.getState().sorting)==null?void 0:o.find(n=>n.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var o,r;return(o=(r=t.getState().sorting)==null?void 0:r.findIndex(n=>n.id===e.id))!=null?o:-1},e.clearSorting=()=>{t.setSorting(o=>o!=null&&o.length?o.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{let o=e.getCanSort();return r=>{o&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var o,r;e.setSorting(t?[]:(o=(r=e.initialState)==null?void 0:r.sorting)!=null?o:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Bee=[aee,Iee,wee,Cee,iee,lee,Ree,Pee,Fee,xee,Lee,Mee,Eee,Tee,See];function eB(e){var t,o;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let r=[...Bee,...(t=e._features)!=null?t:[]],n={_features:r},a=n._features.reduce((p,m)=>Object.assign(p,m.getDefaultOptions==null?void 0:m.getDefaultOptions(n)),{}),s=p=>n.options.mergeOptions?n.options.mergeOptions(a,p):{...a,...p},u={...{},...(o=e.initialState)!=null?o:{}};n._features.forEach(p=>{var m;u=(m=p.getInitialState==null?void 0:p.getInitialState(u))!=null?m:u});let c=[],d=!1,f={_features:r,options:{...a,...e},initialState:u,_queue:p=>{c.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{n.setState(n.initialState)},setOptions:p=>{let m=Is(p,n.options);n.options=s(m)},getState:()=>n.options.state,setState:p=>{n.options.onStateChange==null||n.options.onStateChange(p)},_getRowId:(p,m,y)=>{var g;return(g=n.options.getRowId==null?void 0:n.options.getRowId(p,m,y))!=null?g:`${y?[y.id,m].join("."):m}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(p,m)=>{let y=(m?n.getPrePaginationRowModel():n.getRowModel()).rowsById[p];if(!y&&(y=n.getCoreRowModel().rowsById[p],!y))throw new Error(`getRow could not find row with ID: ${p}`);return y},_getDefaultColumnDef:fe(()=>[n.options.defaultColumn],p=>{var m;return p=(m=p)!=null?m:{},{header:y=>{let g=y.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:y=>{var g,v;return(g=(v=y.renderValue())==null||v.toString==null?void 0:v.toString())!=null?g:null},...n._features.reduce((y,g)=>Object.assign(y,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...p}},pe(e,"debugColumns","_getDefaultColumnDef")),_getColumnDefs:()=>n.options.columns,getAllColumns:fe(()=>[n._getColumnDefs()],p=>{let m=function(y,g,v){return v===void 0&&(v=0),y.map(x=>{let w=nee(n,x,v,g),C=x;return w.columns=C.columns?m(C.columns,w,v+1):[],w})};return m(p)},pe(e,"debugColumns","getAllColumns")),getAllFlatColumns:fe(()=>[n.getAllColumns()],p=>p.flatMap(m=>m.getFlatColumns()),pe(e,"debugColumns","getAllFlatColumns")),_getAllFlatColumnsById:fe(()=>[n.getAllFlatColumns()],p=>p.reduce((m,y)=>(m[y.id]=y,m),{}),pe(e,"debugColumns","getAllFlatColumnsById")),getAllLeafColumns:fe(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(p,m)=>{let y=p.flatMap(g=>g.getLeafColumns());return m(y)},pe(e,"debugColumns","getAllLeafColumns")),getColumn:p=>{let m=n._getAllFlatColumnsById()[p];return m||console.error(`[Table] Column with id '${p}' does not exist.`),m}};Object.assign(n,f);for(let p=0;p<n._features.length;p++){let m=n._features[p];m==null||m.createTable==null||m.createTable(n)}return n}function tB(){return e=>fe(()=>[e.options.data],t=>{let o={rows:[],flatRows:[],rowsById:{}},r=function(n,a,s){a===void 0&&(a=0);let i=[];for(let c=0;c<n.length;c++){let d=see(e,e._getRowId(n[c],c,s),n[c],c,a,void 0,s?.id);if(o.flatRows.push(d),o.rowsById[d.id]=d,i.push(d),e.options.getSubRows){var u;d.originalSubRows=e.options.getSubRows(n[c],c),(u=d.originalSubRows)!=null&&u.length&&(d.subRows=r(d.originalSubRows,a+1,d))}}return i};return o.rows=r(t),o},pe(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Ky(e){let t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[o]=jy.useState(()=>({current:eB(t)})),[r,n]=jy.useState(()=>o.current.initialState);return o.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:s=>{n(s),e.onStateChange==null||e.onStateChange(s)}})),o.current}import{useEffect as Hee,useMemo as Uee,useState as Zb}from"react";l();import{jsx as oB}from"react/jsx-runtime";function rB({className:e}){return oB("div",{"data-loading-bar":!0,className:W("h-[2px] w-full overflow-hidden bg-table-border z-50",e),children:oB("div",{className:"animate-indeterminate h-full w-1/3 rounded-r-full bg-primary"})})}l();l();import*as nB from"react";import{jsx as Vee}from"react/jsx-runtime";var Yo=nB.forwardRef(({className:e,type:t,...o},r)=>Vee("input",{type:t,className:W("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...o}));Yo.displayName="Input";import{jsx as hr,jsxs as Yy}from"react/jsx-runtime";function aB(e){let{table:t,variant:o="basic"}=e,{pageIndex:r}=t.getState().pagination,n=t.getPageCount();return hr("div",{className:"rounded-b-lg overflow-clip sticky bottom-0 left-0 border-t-0 w-full z-20 p-0",children:hr("div",{className:"flex items-center justify-between gap-2 py-2 px-2 border-t border-table-border backdrop-blur-sm bg-background/90",children:o==="basic"?Yy("div",{className:"flex items-center gap-2",children:[hr(_e,{variant:"outline",size:"icon",className:"h-9",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:"Previous"}),hr(_e,{variant:"outline",size:"icon",className:"h-9",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:"Next"})]}):hr("div",{className:"flex items-center gap-2",children:Yy("div",{className:"flex items-center gap-2",children:[hr(_e,{variant:"outline",size:"icon",className:"w-8",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:hr(Qc,{size:16})}),hr(_e,{variant:"outline",size:"icon",className:"w-8",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:hr(Yc,{size:16})}),Yy("div",{className:"flex items-center gap-1 text-xs font-medium",children:["Page",hr(Yo,{type:"number",min:1,max:n,value:r+1,className:"w-14 h-8",onChange:a=>{let s=a.target.value?Number(a.target.value)-1:0;t.setPageIndex(s)}}),Yy("span",{className:"shrink-0 w-max",children:["of ",n]})]}),hr(_e,{variant:"outline",size:"icon",className:"w-8",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:hr(Ir,{size:16})}),hr(_e,{variant:"outline",size:"icon",className:"w-8",onClick:()=>t.setPageIndex(n-1),disabled:!t.getCanNextPage(),children:hr(Zc,{size:16})})]})})})})}l();function Vf(e,t){let o=e.getIsPinned(),r=o==="left",n=o==="right";return{className:W(t==="cell"&&"group-hover:bg-muted",t==="header"&&"select-none touch-none sticky top-0 bg-table-head","group border-r border-b border-table-border","overflow-hidden whitespace-nowrap text-ellipsis",o&&"sticky",(r||n)&&t==="header"&&"z-20",(r||n)&&t==="cell"&&"z-0",e.id==="__ps_select"&&"p-0"),style:{minWidth:`${e.getSize()}px`,width:`${e.getSize()}px`,left:r?`${e.getStart("left")}px`:void 0,right:n?`${e.getAfter("right")}px`:void 0}}}import{Fragment as qee,jsx as zt,jsxs as Hf}from"react/jsx-runtime";function iB(e){let{columnDefs:t,getBeforeRows:o,isFetching:r,isProcessing:n,onPaginationChange:a,onRowSelectionChange:s,onSortingChange:i,pageCount:u,paginationState:c,rows:d,rowSelectionState:f,sortingState:p}=e,[m,y]=Zb([]),[g,v]=Zb({left:["__ps_select"],right:[]}),[x,w]=Zb({}),C=Uee(()=>sB(p),[p]),S=r||n;Hee(()=>{y(t.map(({accessorKey:T})=>T)),v({left:["__ps_select"],right:[]}),w({})},[t]);function b({active:T,over:_}){_&&T.id!==_.id&&y(F=>{let k=F.indexOf(T.id),N=F.indexOf(_.id);return $u(F,k,N)})}let R=Of(Df,{activationConstraint:{distance:10}}),P=Dy(R),M=Ky({columnResizeMode:"onChange",columns:t,data:d,defaultColumn:{size:200,minSize:50,maxSize:500},enableColumnPinning:!0,enableColumnResizing:!0,enableRowSelection:!0,enableSorting:!!(i&&p),getCoreRowModel:tB(),getRowId:({__ps_rowid:T})=>T,manualPagination:!0,manualSorting:!0,onColumnOrderChange:y,onColumnPinningChange:v,onColumnSizingChange:w,onPaginationChange:a,onRowSelectionChange:s,onSortingChange:T=>i?.(_=>(typeof T=="function"&&(T=T(sB(_))),zee(T))),pageCount:u,state:{columnOrder:m,columnPinning:g,columnSizing:x,pagination:c,rowSelection:f,sorting:C}});return zt(qee,{children:Hf("div",{"data-studio":"content",className:"flex-1 w-0 h-0 min-w-full flex flex-col relative bg-background/50",children:[zt("div",{children:S&&zt(rB,{className:"absolute -top-px left-0 right-0"})}),zt(Oy,{sensors:P,onDragEnd:b,children:Hf(OS,{className:"table-fixed border-separate border-spacing-0 box-border w-auto bg-background/50",children:[zt(NS,{children:M.getHeaderGroups().map(T=>zt(_i,{children:zt(Uy,{items:T.headers.map(_=>_.id),strategy:N2,children:T.headers.map((_,F)=>{if(typeof _.column.columnDef.header=="function"){let k=_.column.columnDef.header(_.getContext());return zt(k,{...Vf(_.column,"header")},F)}return null})})},T.id))}),Hf(_S,{children:[o?.(M),M.getRowModel().rows?.length?M.getRowModel().rows.map(T=>zt(_i,{className:W("bg-table-row group [&:last-of-type_td]:border-b-0","odd:bg-table-cell-odd even:bg-table-cell-even/50"),children:T.getVisibleCells().map((_,F)=>{if(typeof _.column.columnDef.cell=="function"){let k=_.column.columnDef.cell(_.getContext());return zt(k,{...Vf(_.column,"cell")},F)}return null})},T.id)):zt(_i,{children:zt(cf,{colSpan:t.length,className:"h-24 text-left p-(--studio-cell-spacing)",children:r&&Hf("div",{className:"flex flex-col gap-2",children:[zt(iu,{className:"h-4 w-full"}),zt(iu,{className:"h-4 w-4/5"}),zt(iu,{className:"h-4 w-2/3"})]})})})]})]})}),!u||u<2?null:zt(aB,{table:M,variant:"numeric"}),zt(Zr,{mode:"wait",children:M.getRowModel().rows?.length===0&&!r&&!n&&zt(qe.div,{className:"flex items-center justify-center absolute -inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:Hf("div",{className:"flex flex-col gap-1 text-center",children:[zt("div",{className:"text-sm text-muted-foreground",children:"No results found"}),zt("div",{className:"text-xs text-muted-foreground",children:"It doesn't look like you have any data in this table."})]})})})]})})}function sB(e){return e?.map(t=>({id:t.column,desc:t.direction==="desc"}))||[]}function zee(e){return e.map(t=>({column:t.id,direction:t.desc?"desc":"asc"}))}l();import{jsx as lB}from"react/jsx-runtime";var uB=e=>{let{children:t,className:o,header:r,style:n}=e,{attributes:a,listeners:s,transform:i,transition:u,setNodeRef:c,isDragging:d}=zy({id:r.id}),f={...n,cursor:"grab",touchAction:"none",transform:Dr.Transform.toString(i),transition:u},p=W(o,d&&"z-50! border-2 border-primary");return lB(uf,{ref:c,...a,...s,style:f,className:p,children:lB("div",{className:"w-full",children:t})})};l();l();l();import*as Qt from"react";import{jsx as Co}from"react/jsx-runtime";var Jb="DropdownMenu",[Wee,bXe]=so(Jb,[_u]),Xo=_u(),[$ee,cB]=Wee(Jb),dB=e=>{let{__scopeDropdownMenu:t,children:o,dir:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,u=Xo(t),c=Qt.useRef(null),[d=!1,f]=Pr({prop:n,defaultProp:a,onChange:s});return Co($ee,{scope:t,triggerId:ar(),triggerRef:c,contentId:ar(),open:d,onOpenChange:f,onOpenToggle:Qt.useCallback(()=>f(p=>!p),[f]),modal:i,children:Co(ay,{...u,open:d,onOpenChange:f,dir:r,modal:i,children:o})})};dB.displayName=Jb;var fB="DropdownMenuTrigger",pB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,disabled:r=!1,...n}=e,a=cB(fB,o),s=Xo(o);return Co(sy,{asChild:!0,...s,children:Co(he.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:Qs(t,a.triggerRef),onPointerDown:ee(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(a.onOpenToggle(),a.open||i.preventDefault())}),onKeyDown:ee(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&a.onOpenToggle(),i.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});pB.displayName=fB;var Gee="DropdownMenuPortal",mB=e=>{let{__scopeDropdownMenu:t,...o}=e,r=Xo(t);return Co(iy,{...r,...o})};mB.displayName=Gee;var hB="DropdownMenuContent",gB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=cB(hB,o),a=Xo(o),s=Qt.useRef(!1);return Co(ly,{id:n.contentId,"aria-labelledby":n.triggerId,...a,...r,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{s.current||n.triggerRef.current?.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,i=>{let u=i.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0,d=u.button===2||c;(!n.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gB.displayName=hB;var jee="DropdownMenuGroup",Kee=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(uy,{...n,...r,ref:t})});Kee.displayName=jee;var Yee="DropdownMenuLabel",yB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(cy,{...n,...r,ref:t})});yB.displayName=Yee;var Xee="DropdownMenuItem",xB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(dy,{...n,...r,ref:t})});xB.displayName=Xee;var Qee="DropdownMenuCheckboxItem",vB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(fy,{...n,...r,ref:t})});vB.displayName=Qee;var Zee="DropdownMenuRadioGroup",Jee=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(py,{...n,...r,ref:t})});Jee.displayName=Zee;var ete="DropdownMenuRadioItem",wB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(my,{...n,...r,ref:t})});wB.displayName=ete;var tte="DropdownMenuItemIndicator",CB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(hy,{...n,...r,ref:t})});CB.displayName=tte;var ote="DropdownMenuSeparator",SB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(gy,{...n,...r,ref:t})});SB.displayName=ote;var rte="DropdownMenuArrow",nte=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(yy,{...n,...r,ref:t})});nte.displayName=rte;var ate="DropdownMenuSubTrigger",bB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(xy,{...n,...r,ref:t})});bB.displayName=ate;var ste="DropdownMenuSubContent",IB=Qt.forwardRef((e,t)=>{let{__scopeDropdownMenu:o,...r}=e,n=Xo(o);return Co(vy,{...n,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IB.displayName=ste;var RB=dB,PB=pB,LB=mB,e0=gB;var t0=yB,o0=xB,r0=vB;var n0=wB,a0=CB,s0=SB;var i0=bB,l0=IB;import*as Pa from"react";import{jsx as Qo,jsxs as u0}from"react/jsx-runtime";var Xy=RB,Qy=PB;var lte=Pa.forwardRef(({className:e,inset:t,children:o,...r},n)=>u0(i0,{ref:n,className:W("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[o,Qo(Ir,{className:"ml-auto"})]}));lte.displayName=i0.displayName;var ute=Pa.forwardRef(({className:e,...t},o)=>Qo(l0,{ref:o,className:W("z-50 min-w-32 overflow-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-dropdown-menu-content-transform-origin)",e),...t}));ute.displayName=l0.displayName;var Uf=Pa.forwardRef(({className:e,sideOffset:t=4,...o},r)=>Qo(LB,{children:Qo("div",{className:"ps",children:Qo(e0,{ref:r,sideOffset:t,className:W("z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-32 overflow-y-auto overflow-x-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-dropdown-menu-content-transform-origin)",e),...o})})}));Uf.displayName=e0.displayName;var Zy=Pa.forwardRef(({className:e,inset:t,...o},r)=>Qo(o0,{ref:r,className:W("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...o}));Zy.displayName=o0.displayName;var cte=Pa.forwardRef(({className:e,children:t,checked:o,...r},n)=>u0(r0,{ref:n,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e),checked:o,...r,children:[Qo("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Qo(a0,{children:Qo(rn,{className:"h-4 w-4"})})}),t]}));cte.displayName=r0.displayName;var dte=Pa.forwardRef(({className:e,children:t,...o},r)=>u0(n0,{ref:r,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e),...o,children:[Qo("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Qo(a0,{children:Qo(Zs,{className:"h-2 w-2 fill-current"})})}),t]}));dte.displayName=n0.displayName;var fte=Pa.forwardRef(({className:e,inset:t,...o},r)=>Qo(t0,{ref:r,className:W("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...o}));fte.displayName=t0.displayName;var pte=Pa.forwardRef(({className:e,...t},o)=>Qo(s0,{ref:o,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));pte.displayName=s0.displayName;var mte=({className:e,...t})=>Qo("span",{className:W("ml-auto text-xs tracking-widest opacity-60",e),...t});mte.displayName="DropdownMenuShortcut";l();import{jsx as Ki,jsxs as MB}from"react/jsx-runtime";function EB({column:e}){return MB("div",{className:"flex flex-row gap-1 items-center",children:[e.isInPrimaryKey&&Ki(Eu,{delayDuration:120,children:MB(Tu,{children:[Ki(Du,{asChild:!0,children:Ki(od,{size:12,className:"text-primary"})}),Ki(ki,{side:"bottom",className:"text-xs",children:Ki("span",{children:"Primary Key"})})]})}),Ki("span",{className:"font-medium truncate",children:e.name}),Ki("span",{className:"overflow-hidden text-ellipsis text-muted-foreground/70 lowercase truncate",children:e.datatype.affinity||e.datatype.name})]})}import{Fragment as c0,jsx as Mt,jsxs as zn}from"react/jsx-runtime";function TB(e){let{column:t,header:o,className:r}=e;return zn("div",{className:W("flex items-center justify-between",r),children:[zn("div",{className:"flex items-center justify-between w-full",children:[Mt("div",{className:"flex items-center gap-2 overflow-hidden text-ellipsis font-mono text-xs",children:o.isPlaceholder?null:Mt("span",{className:"flex min-w-0",children:Mt("span",{className:"min-w-0 overflow-hidden text-ellipsis text-foreground/90",children:Mt(EB,{column:t})})})}),zn("span",{className:"relative flex shrink-0 gap-1",children:[Mt("span",{className:"flex items-center ml-1",children:Mt(Zr,{mode:"wait",children:o.column.getIsSorted()==="desc"?Mt(qe.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.2},children:Mt(ad,{size:14,className:"text-muted-foreground"})},"desc"):o.column.getIsSorted()==="asc"?Mt(qe.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:4},transition:{duration:.2},children:Mt(sd,{size:14,className:"text-muted-foreground"})},"asc"):null})}),o.column.getCanPin()&&o.column.id!=="select"&&zn(Xy,{children:[Mt(Qy,{asChild:!0,children:Mt(_e,{variant:"ghost",size:"icon",className:"px-0 h-6 w-6",children:Mt(Vr,{size:12})})}),zn(Uf,{children:[o.column.getCanSort()&&Mt(Zy,{onClick:()=>o.column.toggleSorting(),children:Mt("span",{className:"flex items-center gap-2",children:o.column.getNextSortingOrder()==="desc"?zn(c0,{children:[Mt(Za,{size:16}),"Sort descending"]}):o.column.getNextSortingOrder()==="asc"?zn(c0,{children:[Mt(Kc,{size:16}),"Sort ascending"]}):zn(c0,{children:[Mt(as,{size:16}),"Cancel sorting"]})})}),Mt(Zy,{onClick:()=>o.column.pin(o.column.getIsPinned()?!1:"left"),children:o.column.getIsPinned()?zn("span",{className:"flex items-center gap-2",children:[Mt(id,{size:16}),"Unpin column"]}):zn("span",{className:"flex items-center gap-2",children:[Mt(ld,{size:16}),"Pin column"]})})]})]})]})]}),o.column.getCanResize()&&Mt("button",{type:"button",tabIndex:0,onMouseDown:n=>{n.stopPropagation(),o.getResizeHandler()(n)},onTouchStart:n=>{n.stopPropagation(),o.getResizeHandler()(n)},onClick:n=>n.stopPropagation(),onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),n.stopPropagation(),o.getResizeHandler()(n))},className:W("absolute right-0 top-0 h-full w-px cursor-col-resize border border-transparent hover:border-table-border"),"aria-label":"Resize column"})]})}l();l();import Lte,{useState as WB}from"react";l();l();import*as DB from"react";import{jsx as hte}from"react/jsx-runtime";var gte="Label",AB=DB.forwardRef((e,t)=>hte(jt.label,{...e,ref:t,onMouseDown:o=>{o.target.closest("button, input, select, textarea")||(e.onMouseDown?.(o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));AB.displayName=gte;var d0=AB;import*as kB from"react";import{jsx as vte}from"react/jsx-runtime";var xte=uu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),zf=kB.forwardRef(({className:e,...t},o)=>vte(d0,{ref:o,className:W(xte(),e),...t}));zf.displayName=d0.displayName;l();l();import*as xn from"react";l();import*as Jy from"react";function OB(e){let t=Jy.useRef({value:e,previous:e});return Jy.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}import{jsx as ex,jsxs as wte}from"react/jsx-runtime";var tx="Switch",[Cte,d7e]=Pu(tx),[Ste,bte]=Cte(tx),NB=xn.forwardRef((e,t)=>{let{__scopeSwitch:o,name:r,checked:n,defaultChecked:a,required:s,disabled:i,value:u="on",onCheckedChange:c,form:d,...f}=e,[p,m]=xn.useState(null),y=cr(t,C=>m(C)),g=xn.useRef(!1),v=p?d||!!p.closest("form"):!0,[x,w]=Fg({prop:n,defaultProp:a??!1,onChange:c,caller:tx});return wte(Ste,{scope:o,checked:x,disabled:i,children:[ex(jt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":VB(x),"data-disabled":i?"":void 0,disabled:i,value:u,...f,ref:y,onClick:Mr(e.onClick,C=>{w(S=>!S),v&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),v&&ex(BB,{control:p,bubbles:!g.current,name:r,value:u,checked:x,required:s,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});NB.displayName=tx;var _B="SwitchThumb",FB=xn.forwardRef((e,t)=>{let{__scopeSwitch:o,...r}=e,n=bte(_B,o);return ex(jt.span,{"data-state":VB(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});FB.displayName=_B;var Ite="SwitchBubbleInput",BB=xn.forwardRef(({__scopeSwitch:e,control:t,checked:o,bubbles:r=!0,...n},a)=>{let s=xn.useRef(null),i=cr(s,a),u=OB(o),c=kg(t);return xn.useEffect(()=>{let d=s.current;if(!d)return;let f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==o&&m){let y=new Event("click",{bubbles:r});m.call(d,o),d.dispatchEvent(y)}},[u,o,r]),ex("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...n,tabIndex:-1,ref:i,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});BB.displayName=Ite;function VB(e){return e?"checked":"unchecked"}var f0=NB,HB=FB;import*as zB from"react";import{jsx as UB}from"react/jsx-runtime";var qf=zB.forwardRef(({className:e,...t},o)=>UB(f0,{className:W("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:o,children:UB(HB,{className:W("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));qf.displayName=f0.displayName;l();var qB=Cn(ox(),1);import{Fragment as Pte,jsx as Kr,jsxs as Ps}from"react/jsx-runtime";var gr=({onSave:e,onCancel:t,onClose:o,onNullChange:r,isNull:n=!1,readonly:a,onSetNow:s,showSetNow:i})=>Kr("div",{className:"flex flex-row gap-1 border-t border-table-border text-xs p-2",children:!a&&Kr(Pte,{children:Kr("div",{className:"flex flex-col gap-1 w-full",children:Ps("div",{className:"grid grid-cols-2 gap-1 items-start justify-between",children:[Ps("div",{className:"flex flex-col gap-1",children:[Ps("button",{className:"flex flex-row gap-1 items-center cursor-pointer shrink-0",onClick:()=>{e&&e(),o&&o()},children:[Kr("kbd",{className:"inline-flex justify-center items-center h-6 w-6 rounded-md bg-muted text-muted-foreground",children:Kr(Jc,{size:12,strokeWidth:2})})," ","Save changes"]}),Ps("button",{className:"flex flex-row gap-1 items-center cursor-pointer shrink-0",onClick:()=>{t&&t(),o&&o()},children:[Kr("kbd",{className:"inline-flex justify-center items-center h-6 w-6 rounded-md bg-muted text-muted-foreground text-[8px] leading-none font-semibold",children:"Esc"})," ","Cancel changes"]})]}),Ps("div",{className:"flex flex-col gap-1 items-end",children:[r&&Ps("label",{className:"flex flex-row gap-1 items-center cursor-pointer shrink-0 h-6",htmlFor:"set-nullable",children:[Kr(qf,{id:"set-nullable",checked:n,onCheckedChange:f=>{r&&r(f)}}),Kr("span",{children:"Set to NULL"})]}),i&&Kr(Eu,{children:Ps(Tu,{children:[Kr(Du,{asChild:!0,children:Kr("button",{onClick:s,className:"flex flex-row gap-1 items-center cursor-pointer shrink-0 h-6",disabled:n||a,children:"Set to NOW"})}),Kr(ki,{children:Ps("p",{children:["Set to ",(0,qB.default)().format("LLL")]})})]})})]})]})})})});import{Fragment as Mte,jsx as Wf,jsxs as $B}from"react/jsx-runtime";function GB(e){let{value:t,onSubmit:o,column:r,readonly:n}=e,a=r.nullable===!0,[s,i]=WB(t===null?!1:t),[u,c]=WB(t===null),d=t===null?!1:t,f=x=>{i(x)},p=x=>{c(x)},m=Lte.useCallback(()=>{let x=u?null:s;return x!==t?(o(x),!0):!1},[s,t,o,u]),y=()=>{i(d),c(t===null)},{handleSave:g,handleCancel:v}=mr({onSave:m,onCancel:y,readonly:n});return $B(Mte,{children:[$B("div",{className:"flex flex-row items-center h-(--studio-cell-height) gap-4 py-0 px-2",children:[Wf(zf,{htmlFor:"boolean-input",className:"sr-only",children:"Boolean"}),Wf(qe.div,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.24},children:Wf(qf,{id:"boolean-input",checked:s,onCheckedChange:f,disabled:u||n})}),Wf(qe.div,{"data-value":!0,className:"inline-flex items-center text-xs text-muted-foreground font-mono",initial:{x:-40,opacity:1},animate:{x:0,opacity:1},transition:{duration:.12,delay:0},children:u?"NULL":String(s)})]}),Wf(gr,{onSave:g,onCancel:v,onNullChange:a?p:void 0,isNull:u,readonly:n})]})}l();var Jt=Cn(ox(),1),PH=Cn(y0(),1);import{useCallback as qre,useEffect as RH,useMemo as Qi,useState as Zu}from"react";l();l();import xt,{useCallback as Gn,useMemo as O0,useRef as Hre}from"react";l();var le;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(le||(le={}));var Ye;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Ye||(Ye={}));var yr;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(yr||(yr={}));var Zo;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Zo||(Zo={}));l();l();l();var _7e=Symbol.for("constructDateFrom");l();l();l();var Ete={},$f={};function Yi(e,t){try{let r=(Ete[e]||=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format)(t).split("GMT")[1]||"";return r in $f?$f[r]:jB(r,r.split(":"))}catch{if(e in $f)return $f[e];let o=e?.match(Tte);return o?jB(e,o.slice(1)):NaN}}var Tte=/([+-]\d\d):?(\d\d)?/;function jB(e,t){let o=+t[0],r=+(t[1]||0);return $f[e]=o>0?o*60+r:o*60-r}var Ls=class e extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Yi(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),YB(this,NaN),x0(this)):this.setTime(Date.now())}static tz(t,...o){return o.length?new e(...o,t):new e(Date.now(),t)}withTimeZone(t){return new e(+this,t)}getTimezoneOffset(){return-Yi(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),x0(this),+this}[Symbol.for("constructDateFrom")](t){return new e(+new Date(t),this.timeZone)}},KB=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!KB.test(e))return;let t=e.replace(KB,"$1UTC");Ls.prototype[t]&&(e.startsWith("get")?Ls.prototype[e]=function(){return this.internal[t]()}:(Ls.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Dte(this),+this},Ls.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),x0(this),+this}))});function x0(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function Dte(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),YB(e)}function YB(e){let t=Yi(e.timeZone,e),o=new Date(+e);o.setUTCHours(o.getUTCHours()-1);let r=-new Date(+e).getTimezoneOffset(),n=-new Date(+o).getTimezoneOffset(),a=r-n,s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);let i=r-t;i&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+i);let u=Yi(e.timeZone,e),d=-new Date(+e).getTimezoneOffset()-u,f=u!==t,p=d-i;if(f&&p){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+p);let m=Yi(e.timeZone,e),y=u-m;y&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+y),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y))}}var Ms=class e extends Ls{static tz(t,...o){return o.length?new e(...o,t):new e(Date.now(),t)}toISOString(){let[t,o,r]=this.tzComponents(),n=`${t}${o}:${r}`;return this.internal.toISOString().slice(0,-1)+n}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){let[t,o,r,n]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${o} ${n}`}toTimeString(){let t=this.internal.toUTCString().split(" ")[4],[o,r,n]=this.tzComponents();return`${t} GMT${o}${r}${n} (${Ate(this.timeZone,this)})`}toLocaleString(t,o){return Date.prototype.toLocaleString.call(this,t,{...o,timeZone:o?.timeZone||this.timeZone})}toLocaleDateString(t,o){return Date.prototype.toLocaleDateString.call(this,t,{...o,timeZone:o?.timeZone||this.timeZone})}toLocaleTimeString(t,o){return Date.prototype.toLocaleTimeString.call(this,t,{...o,timeZone:o?.timeZone||this.timeZone})}tzComponents(){let t=this.getTimezoneOffset(),o=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),n=String(Math.abs(t)%60).padStart(2,"0");return[o,r,n]}withTimeZone(t){return new e(+this,t)}[Symbol.for("constructDateFrom")](t){return new e(+new Date(t),this.timeZone)}};function Ate(e,t){return new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)}l();l();l();l();l();var kte=Math.pow(10,8)*24*60*60*1e3,iQe=-kte,rx=6048e5,XB=864e5;var Ote=3600;var QB=Ote*24,lQe=QB*7,Nte=QB*365.2425,_te=Nte/12,uQe=_te*3,v0=Symbol.for("constructDateFrom");function Oe(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&v0 in e?e[v0](t):e instanceof Date?new e.constructor(t):new Date(t)}l();function ce(e,t){return Oe(t||e,e)}function nx(e,t,o){let r=ce(e,o?.in);return isNaN(t)?Oe(o?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}l();function ax(e,t,o){let r=ce(e,o?.in);if(isNaN(t))return Oe(o?.in||e,NaN);if(!t)return r;let n=r.getDate(),a=Oe(o?.in||e,r.getTime());a.setMonth(r.getMonth()+t+1,0);let s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}l();l();l();l();var Fte={};function qn(){return Fte}function vn(e,t){let o=qn(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,n=ce(e,t?.in),a=n.getDay(),s=(a<r?7:0)+a-r;return n.setDate(n.getDate()-s),n.setHours(0,0,0,0),n}function La(e,t){return vn(e,{...t,weekStartsOn:1})}function sx(e,t){let o=ce(e,t?.in),r=o.getFullYear(),n=Oe(o,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);let a=La(n),s=Oe(o,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let i=La(s);return o.getTime()>=a.getTime()?r+1:o.getTime()>=i.getTime()?r:r-1}l();l();function w0(e){let t=ce(e),o=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return o.setUTCFullYear(t.getFullYear()),+e-+o}l();function Yr(e,...t){let o=Oe.bind(null,e||t.find(r=>typeof r=="object"));return t.map(o)}l();function Es(e,t){let o=ce(e,t?.in);return o.setHours(0,0,0,0),o}function ix(e,t,o){let[r,n]=Yr(o?.in,e,t),a=Es(r),s=Es(n),i=+a-w0(a),u=+s-w0(s);return Math.round((i-u)/XB)}l();function ZB(e,t){let o=sx(e,t),r=Oe(t?.in||e,0);return r.setFullYear(o,0,4),r.setHours(0,0,0,0),La(r)}l();function JB(e,t,o){return nx(e,t*7,o)}l();function eV(e,t,o){return ax(e,t*12,o)}l();function tV(e,t){let o,r=t?.in;return e.forEach(n=>{!r&&typeof n=="object"&&(r=Oe.bind(null,n));let a=ce(n,r);(!o||o<a||isNaN(+a))&&(o=a)}),Oe(r,o||NaN)}l();function oV(e,t){let o,r=t?.in;return e.forEach(n=>{!r&&typeof n=="object"&&(r=Oe.bind(null,n));let a=ce(n,r);(!o||o>a||isNaN(+a))&&(o=a)}),Oe(r,o||NaN)}l();function rV(e,t,o){let[r,n]=Yr(o?.in,e,t);return+Es(r)==+Es(n)}l();l();function lx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nV(e){return!(!lx(e)&&typeof e!="number"||isNaN(+ce(e)))}l();function aV(e,t,o){let[r,n]=Yr(o?.in,e,t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}l();function sV(e,t){let o=ce(e,t?.in),r=o.getMonth();return o.setFullYear(o.getFullYear(),r+1,0),o.setHours(23,59,59,999),o}l();function iV(e,t){let[o,r]=Yr(e,t.start,t.end);return{start:o,end:r}}l();function lV(e,t){let{start:o,end:r}=iV(t?.in,e),n=+o>+r,a=n?+o:+r,s=n?r:o;s.setHours(0,0,0,0),s.setDate(1);let i=t?.step??1;if(!i)return[];i<0&&(i=-i,n=!n);let u=[];for(;+s<=a;)u.push(Oe(o,s)),s.setMonth(s.getMonth()+i);return n?u.reverse():u}l();function uV(e,t){let o=ce(e,t?.in);return o.setDate(1),o.setHours(0,0,0,0),o}l();function cV(e,t){let o=ce(e,t?.in),r=o.getFullYear();return o.setFullYear(r+1,0,0),o.setHours(23,59,59,999),o}l();function ux(e,t){let o=ce(e,t?.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}l();l();function cx(e,t){let o=qn(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,n=ce(e,t?.in),a=n.getDay(),s=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+s),n.setHours(23,59,59,999),n}function dV(e,t){return cx(e,{...t,weekStartsOn:1})}l();l();l();l();var Bte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fV=(e,t,o)=>{let r,n=Bte[e];return typeof n=="string"?r=n:t===1?r=n.one:r=n.other.replace("{{count}}",t.toString()),o?.addSuffix?o.comparison&&o.comparison>0?"in "+r:r+" ago":r};l();l();function dx(e){return(t={})=>{let o=t.width?String(t.width):e.defaultWidth;return e.formats[o]||e.formats[e.defaultWidth]}}var Vte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ute={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pV={date:dx({formats:Vte,defaultWidth:"full"}),time:dx({formats:Hte,defaultWidth:"full"}),dateTime:dx({formats:Ute,defaultWidth:"full"})};l();var zte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mV=(e,t,o,r)=>zte[e];l();l();function Gu(e){return(t,o)=>{let r=o?.context?String(o.context):"standalone",n;if(r==="formatting"&&e.formattingValues){let s=e.defaultFormattingWidth||e.defaultWidth,i=o?.width?String(o.width):s;n=e.formattingValues[i]||e.formattingValues[s]}else{let s=e.defaultWidth,i=o?.width?String(o.width):e.defaultWidth;n=e.values[i]||e.values[s]}let a=e.argumentCallback?e.argumentCallback(t):t;return n[a]}}var qte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$te={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yte=(e,t)=>{let o=Number(e),r=o%100;if(r>20||r<10)switch(r%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},hV={ordinalNumber:Yte,era:Gu({values:qte,defaultWidth:"wide"}),quarter:Gu({values:Wte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gu({values:$te,defaultWidth:"wide"}),day:Gu({values:Gte,defaultWidth:"wide"}),dayPeriod:Gu({values:jte,defaultWidth:"wide",formattingValues:Kte,defaultFormattingWidth:"wide"})};l();l();function ju(e){return(t,o={})=>{let r=o.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(n);if(!a)return null;let s=a[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(i)?Qte(i,f=>f.test(s)):Xte(i,f=>f.test(s)),c;c=e.valueCallback?e.valueCallback(u):u,c=o.valueCallback?o.valueCallback(c):c;let d=t.slice(s.length);return{value:c,rest:d}}}function Xte(e,t){for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return o}function Qte(e,t){for(let o=0;o<e.length;o++)if(t(e[o]))return o}l();function gV(e){return(t,o={})=>{let r=t.match(e.matchPattern);if(!r)return null;let n=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=o.valueCallback?o.valueCallback(s):s;let i=t.slice(n.length);return{value:s,rest:i}}}var Zte=/^(\d+)(th|st|nd|rd)?/i,Jte=/\d+/i,eoe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},toe={any:[/^b/i,/^(a|c)/i]},ooe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},roe={any:[/1/i,/2/i,/3/i,/4/i]},noe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aoe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},soe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ioe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},loe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uoe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yV={ordinalNumber:gV({matchPattern:Zte,parsePattern:Jte,valueCallback:e=>parseInt(e,10)}),era:ju({matchPatterns:eoe,defaultMatchWidth:"wide",parsePatterns:toe,defaultParseWidth:"any"}),quarter:ju({matchPatterns:ooe,defaultMatchWidth:"wide",parsePatterns:roe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ju({matchPatterns:noe,defaultMatchWidth:"wide",parsePatterns:aoe,defaultParseWidth:"any"}),day:ju({matchPatterns:soe,defaultMatchWidth:"wide",parsePatterns:ioe,defaultParseWidth:"any"}),dayPeriod:ju({matchPatterns:loe,defaultMatchWidth:"any",parsePatterns:uoe,defaultParseWidth:"any"})};var Ts={code:"en-US",formatDistance:fV,formatLong:pV,formatRelative:mV,localize:hV,match:yV,options:{weekStartsOn:0,firstWeekContainsDate:1}};l();l();function xV(e,t){let o=ce(e,t?.in);return ix(o,ux(o))+1}l();function fx(e,t){let o=ce(e,t?.in),r=+La(o)-+ZB(o);return Math.round(r/rx)+1}l();l();l();function px(e,t){let o=ce(e,t?.in),r=o.getFullYear(),n=qn(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=Oe(t?.in||e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);let i=vn(s,t),u=Oe(t?.in||e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);let c=vn(u,t);return+o>=+i?r+1:+o>=+c?r:r-1}function vV(e,t){let o=qn(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,n=px(e,t),a=Oe(t?.in||e,0);return a.setFullYear(n,0,r),a.setHours(0,0,0,0),vn(a,t)}function mx(e,t){let o=ce(e,t?.in),r=+vn(o,t)-+vV(o,t);return Math.round(r/rx)+1}l();function Ue(e,t){let o=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return o+r}l();var Ma={y(e,t){let o=e.getFullYear(),r=o>0?o:1-o;return Ue(t==="yy"?r%100:r,t.length)},M(e,t){let o=e.getMonth();return t==="M"?String(o+1):Ue(o+1,2)},d(e,t){return Ue(e.getDate(),t.length)},a(e,t){let o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(e,t){return Ue(e.getHours()%12||12,t.length)},H(e,t){return Ue(e.getHours(),t.length)},m(e,t){return Ue(e.getMinutes(),t.length)},s(e,t){return Ue(e.getSeconds(),t.length)},S(e,t){let o=t.length,r=e.getMilliseconds(),n=Math.trunc(r*Math.pow(10,o-3));return Ue(n,t.length)}};var Ku={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C0={G:function(e,t,o){let r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})}},y:function(e,t,o){if(t==="yo"){let r=e.getFullYear(),n=r>0?r:1-r;return o.ordinalNumber(n,{unit:"year"})}return Ma.y(e,t)},Y:function(e,t,o,r){let n=px(e,r),a=n>0?n:1-n;if(t==="YY"){let s=a%100;return Ue(s,2)}return t==="Yo"?o.ordinalNumber(a,{unit:"year"}):Ue(a,t.length)},R:function(e,t){let o=sx(e);return Ue(o,t.length)},u:function(e,t){let o=e.getFullYear();return Ue(o,t.length)},Q:function(e,t,o){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ue(r,2);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,o){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ue(r,2);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,o){let r=e.getMonth();switch(t){case"M":case"MM":return Ma.M(e,t);case"Mo":return o.ordinalNumber(r+1,{unit:"month"});case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,o){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ue(r+1,2);case"Lo":return o.ordinalNumber(r+1,{unit:"month"});case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,o,r){let n=mx(e,r);return t==="wo"?o.ordinalNumber(n,{unit:"week"}):Ue(n,t.length)},I:function(e,t,o){let r=fx(e);return t==="Io"?o.ordinalNumber(r,{unit:"week"}):Ue(r,t.length)},d:function(e,t,o){return t==="do"?o.ordinalNumber(e.getDate(),{unit:"date"}):Ma.d(e,t)},D:function(e,t,o){let r=xV(e);return t==="Do"?o.ordinalNumber(r,{unit:"dayOfYear"}):Ue(r,t.length)},E:function(e,t,o){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,o,r){let n=e.getDay(),a=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ue(a,2);case"eo":return o.ordinalNumber(a,{unit:"day"});case"eee":return o.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,o,r){let n=e.getDay(),a=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ue(a,t.length);case"co":return o.ordinalNumber(a,{unit:"day"});case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,o){let r=e.getDay(),n=r===0?7:r;switch(t){case"i":return String(n);case"ii":return Ue(n,t.length);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return o.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(r,{width:"short",context:"formatting"});case"iiii":default:return o.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,o){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,o){let r=e.getHours(),n;switch(r===12?n=Ku.noon:r===0?n=Ku.midnight:n=r/12>=1?"pm":"am",t){case"b":case"bb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,o){let r=e.getHours(),n;switch(r>=17?n=Ku.evening:r>=12?n=Ku.afternoon:r>=4?n=Ku.morning:n=Ku.night,t){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,o){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),o.ordinalNumber(r,{unit:"hour"})}return Ma.h(e,t)},H:function(e,t,o){return t==="Ho"?o.ordinalNumber(e.getHours(),{unit:"hour"}):Ma.H(e,t)},K:function(e,t,o){let r=e.getHours()%12;return t==="Ko"?o.ordinalNumber(r,{unit:"hour"}):Ue(r,t.length)},k:function(e,t,o){let r=e.getHours();return r===0&&(r=24),t==="ko"?o.ordinalNumber(r,{unit:"hour"}):Ue(r,t.length)},m:function(e,t,o){return t==="mo"?o.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ma.m(e,t)},s:function(e,t,o){return t==="so"?o.ordinalNumber(e.getSeconds(),{unit:"second"}):Ma.s(e,t)},S:function(e,t){return Ma.S(e,t)},X:function(e,t,o){let r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return CV(r);case"XXXX":case"XX":return Xi(r);case"XXXXX":case"XXX":default:return Xi(r,":")}},x:function(e,t,o){let r=e.getTimezoneOffset();switch(t){case"x":return CV(r);case"xxxx":case"xx":return Xi(r);case"xxxxx":case"xxx":default:return Xi(r,":")}},O:function(e,t,o){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wV(r,":");case"OOOO":default:return"GMT"+Xi(r,":")}},z:function(e,t,o){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wV(r,":");case"zzzz":default:return"GMT"+Xi(r,":")}},t:function(e,t,o){let r=Math.trunc(+e/1e3);return Ue(r,t.length)},T:function(e,t,o){return Ue(+e,t.length)}};function wV(e,t=""){let o=e>0?"-":"+",r=Math.abs(e),n=Math.trunc(r/60),a=r%60;return a===0?o+String(n):o+String(n)+t+Ue(a,2)}function CV(e,t){return e%60===0?(e>0?"-":"+")+Ue(Math.abs(e)/60,2):Xi(e,t)}function Xi(e,t=""){let o=e>0?"-":"+",r=Math.abs(e),n=Ue(Math.trunc(r/60),2),a=Ue(r%60,2);return o+n+t+a}l();var SV=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},coe=(e,t)=>{let o=e.match(/(P+)(p+)?/)||[],r=o[1],n=o[2];if(!n)return SV(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",SV(r,t)).replace("{{time}}",bV(n,t))},IV={p:bV,P:coe};l();var doe=/^D+$/,foe=/^Y+$/,poe=["D","DD","YY","YYYY"];function RV(e){return doe.test(e)}function PV(e){return foe.test(e)}function LV(e,t,o){let r=moe(e,t,o);if(console.warn(r),poe.includes(e))throw new RangeError(r)}function moe(e,t,o){let r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var hoe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,goe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yoe=/^'([^]*?)'?$/,xoe=/''/g,voe=/[a-zA-Z]/;function MV(e,t,o){let r=qn(),n=o?.locale??r.locale??Ts,a=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=ce(e,o?.in);if(!nV(i))throw new RangeError("Invalid time value");let u=t.match(goe).map(d=>{let f=d[0];if(f==="p"||f==="P"){let p=IV[f];return p(d,n.formatLong)}return d}).join("").match(hoe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};let f=d[0];if(f==="'")return{isToken:!1,value:woe(d)};if(C0[f])return{isToken:!0,value:d};if(f.match(voe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});n.localize.preprocessor&&(u=n.localize.preprocessor(i,u));let c={firstWeekContainsDate:a,weekStartsOn:s,locale:n};return u.map(d=>{if(!d.isToken)return d.value;let f=d.value;(!o?.useAdditionalWeekYearTokens&&PV(f)||!o?.useAdditionalDayOfYearTokens&&RV(f))&&LV(f,t,String(e));let p=C0[f[0]];return p(i,f,n.localize,c)}).join("")}function woe(e){let t=e.match(yoe);return t?t[1].replace(xoe,"'"):e}l();function EV(e,t){let o=ce(e,t?.in),r=o.getFullYear(),n=o.getMonth(),a=Oe(o,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}l();function TV(e,t){return ce(e,t?.in).getMonth()}l();function DV(e,t){return ce(e,t?.in).getFullYear()}l();function AV(e,t){return+ce(e)>+ce(t)}l();function kV(e,t){return+ce(e)<+ce(t)}l();function OV(e,t,o){let[r,n]=Yr(o?.in,e,t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}l();function NV(e,t,o){let[r,n]=Yr(o?.in,e,t);return r.getFullYear()===n.getFullYear()}l();function _V(e,t,o){let r=ce(e,o?.in),n=r.getFullYear(),a=r.getDate(),s=Oe(o?.in||e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);let i=EV(s);return r.setMonth(t,Math.min(a,i)),r}l();function FV(e,t,o){let r=ce(e,o?.in);return isNaN(+r)?Oe(o?.in||e,NaN):(r.setFullYear(t),r)}l();l();function BV(e,t){let o=t.startOfMonth(e),r=o.getDay()>0?o.getDay():7,n=t.addDays(e,-r+1),a=t.addDays(n,5*7-1);return t.getMonth(e)===t.getMonth(a)?5:4}l();function hx(e,t){let o=t.startOfMonth(e),r=o.getDay();return r===1?o:r===0?t.addDays(o,-1*6):t.addDays(o,-1*(r-1))}function VV(e,t){let o=hx(e,t),r=BV(e,t);return t.addDays(o,r*7-1)}var Zt=class{constructor(t,o){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Ms.tz(this.options.timeZone):new this.Date,this.newDate=(r,n,a)=>this.overrides?.newDate?this.overrides.newDate(r,n,a):this.options.timeZone?new Ms(r,n,a,this.options.timeZone):new Date(r,n,a),this.addDays=(r,n)=>this.overrides?.addDays?this.overrides.addDays(r,n):nx(r,n),this.addMonths=(r,n)=>this.overrides?.addMonths?this.overrides.addMonths(r,n):ax(r,n),this.addWeeks=(r,n)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,n):JB(r,n),this.addYears=(r,n)=>this.overrides?.addYears?this.overrides.addYears(r,n):eV(r,n),this.differenceInCalendarDays=(r,n)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,n):ix(r,n),this.differenceInCalendarMonths=(r,n)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,n):aV(r,n),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):lV(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r,this):VV(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):dV(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):sV(r),this.endOfWeek=r=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,this.options):cx(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):cV(r),this.format=(r,n)=>{let a=this.overrides?.format?this.overrides.format(r,n,this.options):MV(r,n,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):fx(r),this.getMonth=r=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):TV(r,this.options),this.getYear=r=>this.overrides?.getYear?this.overrides.getYear(r,this.options):DV(r,this.options),this.getWeek=r=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):mx(r,this.options),this.isAfter=(r,n)=>this.overrides?.isAfter?this.overrides.isAfter(r,n):AV(r,n),this.isBefore=(r,n)=>this.overrides?.isBefore?this.overrides.isBefore(r,n):kV(r,n),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):lx(r),this.isSameDay=(r,n)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,n):rV(r,n),this.isSameMonth=(r,n)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,n):OV(r,n),this.isSameYear=(r,n)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,n):NV(r,n),this.max=r=>this.overrides?.max?this.overrides.max(r):tV(r),this.min=r=>this.overrides?.min?this.overrides.min(r):oV(r),this.setMonth=(r,n)=>this.overrides?.setMonth?this.overrides.setMonth(r,n):_V(r,n),this.setYear=(r,n)=>this.overrides?.setYear?this.overrides.setYear(r,n):FV(r,n),this.startOfBroadcastWeek=r=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):hx(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Es(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):La(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):uV(r),this.startOfWeek=r=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):vn(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):ux(r),this.options={locale:Ts,...t},this.overrides=o}getDigitMap(){let{numerals:t="latn"}=this.options,o=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let n=0;n<10;n++)r[n.toString()]=o.format(n);return r}replaceDigits(t){let o=this.getDigitMap();return t.replace(/\d/g,r=>o[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}},fo=new Zt;l();function HV(e,t,o={}){return Object.entries(e).filter(([,n])=>n===!0).reduce((n,[a])=>(o[a]?n.push(o[a]):t[Ye[a]]?n.push(t[Ye[a]]):t[yr[a]]&&n.push(t[yr[a]]),n),[t[le.Day]])}l();var I0={};Mx(I0,{Button:()=>Soe,CaptionLabel:()=>Ioe,Chevron:()=>Roe,Day:()=>Loe,DayButton:()=>Moe,Dropdown:()=>Eoe,DropdownNav:()=>Doe,Footer:()=>koe,Month:()=>Noe,MonthCaption:()=>Foe,MonthGrid:()=>Voe,Months:()=>Uoe,MonthsDropdown:()=>$oe,Nav:()=>Goe,NextMonthButton:()=>Koe,Option:()=>Xoe,PreviousMonthButton:()=>Zoe,Root:()=>ere,Select:()=>ore,Week:()=>nre,WeekNumber:()=>ure,WeekNumberHeader:()=>dre,Weekday:()=>sre,Weekdays:()=>ire,Weeks:()=>pre,YearsDropdown:()=>hre});l();l();import Coe from"react";function Soe(e){return Coe.createElement("button",{...e})}l();import boe from"react";function Ioe(e){return boe.createElement("span",{...e})}l();import Gf from"react";function Roe(e){let{size:t=24,orientation:o="left",className:r}=e;return Gf.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},o==="up"&&Gf.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),o==="down"&&Gf.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),o==="left"&&Gf.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),o==="right"&&Gf.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}l();import Poe from"react";function Loe(e){let{day:t,modifiers:o,...r}=e;return Poe.createElement("td",{...r})}l();import S0 from"react";function Moe(e){let{day:t,modifiers:o,...r}=e,n=S0.useRef(null);return S0.useEffect(()=>{o.focused&&n.current?.focus()},[o.focused]),S0.createElement("button",{ref:n,...r})}l();import jf from"react";function Eoe(e){let{options:t,className:o,components:r,classNames:n,...a}=e,s=[n[le.Dropdown],o].join(" "),i=t?.find(({value:u})=>u===a.value);return jf.createElement("span",{"data-disabled":a.disabled,className:n[le.DropdownRoot]},jf.createElement(r.Select,{className:s,...a},t?.map(({value:u,label:c,disabled:d})=>jf.createElement(r.Option,{key:u,value:u,disabled:d},c))),jf.createElement("span",{className:n[le.CaptionLabel],"aria-hidden":!0},i?.label,jf.createElement(r.Chevron,{orientation:"down",size:18,className:n[le.Chevron]})))}l();import Toe from"react";function Doe(e){return Toe.createElement("div",{...e})}l();import Aoe from"react";function koe(e){return Aoe.createElement("div",{...e})}l();import Ooe from"react";function Noe(e){let{calendarMonth:t,displayIndex:o,...r}=e;return Ooe.createElement("div",{...r},e.children)}l();import _oe from"react";function Foe(e){let{calendarMonth:t,displayIndex:o,...r}=e;return _oe.createElement("div",{...r})}l();import Boe from"react";function Voe(e){return Boe.createElement("table",{...e})}l();import Hoe from"react";function Uoe(e){return Hoe.createElement("div",{...e})}l();import Woe from"react";l();import{createContext as zoe,useContext as qoe}from"react";var b0=zoe(void 0);function Wn(){let e=qoe(b0);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function $oe(e){let{components:t}=Wn();return Woe.createElement(t.Dropdown,{...e})}l();import Kf,{useCallback as UV}from"react";function Goe(e){let{onPreviousClick:t,onNextClick:o,previousMonth:r,nextMonth:n,...a}=e,{components:s,classNames:i,labels:{labelPrevious:u,labelNext:c}}=Wn(),d=UV(p=>{n&&o?.(p)},[n,o]),f=UV(p=>{r&&t?.(p)},[r,t]);return Kf.createElement("nav",{...a},Kf.createElement(s.PreviousMonthButton,{type:"button",className:i[le.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":u(r),onClick:f},Kf.createElement(s.Chevron,{disabled:r?void 0:!0,className:i[le.Chevron],orientation:"left"})),Kf.createElement(s.NextMonthButton,{type:"button",className:i[le.NextMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:d},Kf.createElement(s.Chevron,{disabled:n?void 0:!0,orientation:"right",className:i[le.Chevron]})))}l();import joe from"react";function Koe(e){let{components:t}=Wn();return joe.createElement(t.Button,{...e})}l();import Yoe from"react";function Xoe(e){return Yoe.createElement("option",{...e})}l();import Qoe from"react";function Zoe(e){let{components:t}=Wn();return Qoe.createElement(t.Button,{...e})}l();import Joe from"react";function ere(e){let{rootRef:t,...o}=e;return Joe.createElement("div",{...o,ref:t})}l();import tre from"react";function ore(e){return tre.createElement("select",{...e})}l();import rre from"react";function nre(e){let{week:t,...o}=e;return rre.createElement("tr",{...o})}l();import are from"react";function sre(e){return are.createElement("th",{...e})}l();import zV from"react";function ire(e){return zV.createElement("thead",{"aria-hidden":!0},zV.createElement("tr",{...e}))}l();import lre from"react";function ure(e){let{week:t,...o}=e;return lre.createElement("th",{...o})}l();import cre from"react";function dre(e){return cre.createElement("th",{...e})}l();import fre from"react";function pre(e){return fre.createElement("tbody",{...e})}l();import mre from"react";function hre(e){let{components:t}=Wn();return mre.createElement(t.Dropdown,{...e})}function qV(e){return{...I0,...e}}l();function WV(e){let t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0};return Object.entries(e).forEach(([o,r])=>{o.startsWith("data-")&&(t[o]=r)}),t}l();function $V(){let e={};for(let t in le)e[le[t]]=`rdp-${le[t]}`;for(let t in Ye)e[Ye[t]]=`rdp-${Ye[t]}`;for(let t in yr)e[yr[t]]=`rdp-${yr[t]}`;for(let t in Zo)e[Zo[t]]=`rdp-${Zo[t]}`;return e}l();var R0={};Mx(R0,{formatCaption:()=>GV,formatDay:()=>yre,formatMonthCaption:()=>gre,formatMonthDropdown:()=>xre,formatWeekNumber:()=>vre,formatWeekNumberHeader:()=>wre,formatWeekdayName:()=>Cre,formatYearCaption:()=>Sre,formatYearDropdown:()=>jV});l();l();function GV(e,t,o){return(o??new Zt(t)).format(e,"LLLL y")}var gre=GV;l();function yre(e,t,o){return(o??new Zt(t)).format(e,"d")}l();function xre(e,t=fo){return t.format(e,"LLLL")}l();function vre(e){return e<10?`0${e.toLocaleString()}`:`${e.toLocaleString()}`}l();function wre(){return""}l();function Cre(e,t,o){return(o??new Zt(t)).format(e,"cccccc")}l();function jV(e,t=fo){return t.format(e,"yyyy")}var Sre=jV;function KV(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...R0,...e}}l();function YV(e,t,o,r,n){let{startOfMonth:a,startOfYear:s,endOfYear:i,eachMonthOfInterval:u,getMonth:c}=n;return u({start:s(e),end:i(e)}).map(p=>{let m=r.formatMonthDropdown(p,n),y=c(p),g=t&&p<a(t)||o&&p>a(o)||!1;return{value:y,label:m,disabled:g}})}l();function XV(e,t={},o={}){let r={...t?.[le.Day]};return Object.entries(e).filter(([,n])=>n===!0).forEach(([n])=>{r={...r,...o?.[n]}}),r}l();function QV(e,t,o){let r=e.today(),n=o?e.startOfBroadcastWeek(r,e):t?e.startOfISOWeek(r):e.startOfWeek(r),a=[];for(let s=0;s<7;s++){let i=e.addDays(n,s);a.push(i)}return a}l();function ZV(e,t,o,r){if(!e||!t)return;let{startOfYear:n,endOfYear:a,addYears:s,getYear:i,isBefore:u,isSameYear:c}=r,d=n(e),f=a(t),p=[],m=d;for(;u(m,f)||c(m,f);)p.push(m),m=s(m,1);return p.map(y=>{let g=o.formatYearDropdown(y,r);return{value:i(y),label:g,disabled:!1}})}var P0={};Mx(P0,{labelCaption:()=>bre,labelDay:()=>Rre,labelDayButton:()=>eH,labelGrid:()=>JV,labelGridcell:()=>Ire,labelMonthDropdown:()=>Lre,labelNav:()=>Pre,labelNext:()=>Mre,labelPrevious:()=>Ere,labelWeekNumber:()=>Dre,labelWeekNumberHeader:()=>Are,labelWeekday:()=>Tre,labelYearDropdown:()=>kre});l();l();function JV(e,t,o){return(o??new Zt(t)).format(e,"LLLL y")}var bre=JV;l();function Ire(e,t,o,r){let n=(r??new Zt(o)).format(e,"PPPP");return t?.today&&(n=`Today, ${n}`),n}l();function eH(e,t,o,r){let n=(r??new Zt(o)).format(e,"PPPP");return t.today&&(n=`Today, ${n}`),t.selected&&(n=`${n}, selected`),n}var Rre=eH;l();function Pre(){return""}l();function Lre(e){return"Choose the Month"}l();function Mre(e){return"Go to the Next Month"}l();function Ere(e){return"Go to the Previous Month"}l();function Tre(e,t,o){return(o??new Zt(t)).format(e,"cccc")}l();function Dre(e,t){return`Week ${e}`}l();function Are(e){return"Week Number"}l();function kre(e){return"Choose the Year"}l();import{useLayoutEffect as Ore,useRef as L0}from"react";var Yf=e=>e instanceof HTMLElement?e:null,M0=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Nre=e=>Yf(e.querySelector("[data-animated-month]")),E0=e=>Yf(e.querySelector("[data-animated-caption]")),T0=e=>Yf(e.querySelector("[data-animated-weeks]")),_re=e=>Yf(e.querySelector("[data-animated-nav]")),Fre=e=>Yf(e.querySelector("[data-animated-weekdays]"));function tH(e,t,{classNames:o,months:r,focused:n,dateLib:a}){let s=L0(null),i=L0(r),u=L0(!1);Ore(()=>{let c=i.current;if(i.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;let d=a.isSameMonth(r[0].date,c[0].date),f=a.isAfter(r[0].date,c[0].date),p=f?o[Zo.caption_after_enter]:o[Zo.caption_before_enter],m=f?o[Zo.weeks_after_enter]:o[Zo.weeks_before_enter],y=s.current,g=e.current.cloneNode(!0);if(g instanceof HTMLElement?(M0(g).forEach(C=>{if(!(C instanceof HTMLElement))return;let S=Nre(C);S&&C.contains(S)&&C.removeChild(S);let b=E0(C);b&&b.classList.remove(p);let R=T0(C);R&&R.classList.remove(m)}),s.current=g):s.current=null,u.current||d||n)return;let v=y instanceof HTMLElement?M0(y):[],x=M0(e.current);if(x&&x.every(w=>w instanceof HTMLElement)&&v&&v.every(w=>w instanceof HTMLElement)){u.current=!0;let w=[];e.current.style.isolation="isolate";let C=_re(e.current);C&&(C.style.zIndex="1"),x.forEach((S,b)=>{let R=v[b];if(!R)return;S.style.position="relative",S.style.overflow="hidden";let P=E0(S);P&&P.classList.add(p);let M=T0(S);M&&M.classList.add(m);let T=()=>{u.current=!1,e.current&&(e.current.style.isolation=""),C&&(C.style.zIndex=""),P&&P.classList.remove(p),M&&M.classList.remove(m),S.style.position="",S.style.overflow="",S.contains(R)&&S.removeChild(R)};w.push(T),R.style.pointerEvents="none",R.style.position="absolute",R.style.overflow="hidden",R.setAttribute("aria-hidden","true");let _=Fre(R);_&&(_.style.opacity="0");let F=E0(R);F&&(F.classList.add(f?o[Zo.caption_before_exit]:o[Zo.caption_after_exit]),F.addEventListener("animationend",T));let k=T0(R);k&&k.classList.add(f?o[Zo.weeks_before_exit]:o[Zo.weeks_after_exit]),S.insertBefore(R,S.firstChild)})}})}l();import{useEffect as Vre}from"react";l();function oH(e,t,o,r){let n=e[0],a=e[e.length-1],{ISOWeek:s,fixedWeeks:i,broadcastCalendar:u}=o??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:f,endOfBroadcastWeek:p,endOfISOWeek:m,endOfMonth:y,endOfWeek:g,isAfter:v,startOfBroadcastWeek:x,startOfISOWeek:w,startOfWeek:C}=r,S=u?x(n,r):s?w(n):C(n),b=u?p(a,r):s?m(y(a)):g(y(a)),R=d(b,S),P=f(a,n)+1,M=[];for(let F=0;F<=R;F++){let k=c(S,F);if(t&&v(k,t))break;M.push(k)}let _=(u?35:42)*P;if(i&&M.length<_){let F=_-M.length;for(let k=0;k<F;k++){let N=c(M[M.length-1],1);M.push(N)}}return M}l();function rH(e){let t=[];return e.reduce((o,r)=>{let n=[],a=r.weeks.reduce((s,i)=>[...s,...i.days],n);return[...o,...a]},t)}l();function nH(e,t,o,r){let{numberOfMonths:n=1}=o,a=[];for(let s=0;s<n;s++){let i=r.addMonths(e,s);if(t&&i>t)break;a.push(i)}return a}l();function D0(e,t){let{month:o,defaultMonth:r,today:n=t.today(),numberOfMonths:a=1,endMonth:s,startMonth:i,timeZone:u}=e,c=o||r||n,{differenceInCalendarMonths:d,addMonths:f,startOfMonth:p}=t;if(s&&d(s,c)<0){let m=-1*(a-1);c=f(s,m)}return i&&d(c,i)<0&&(c=i),c=u?new Ms(c,u):c,p(c)}l();l();var Yu=class{constructor(t,o,r=fo){this.date=t,this.displayMonth=o,this.outside=!!(o&&!r.isSameMonth(t,o)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}};l();var gx=class{constructor(t,o){this.date=t,this.weeks=o}};l();var yx=class{constructor(t,o){this.days=o,this.weekNumber=t}};function aH(e,t,o,r){let{addDays:n,endOfBroadcastWeek:a,endOfISOWeek:s,endOfMonth:i,endOfWeek:u,getISOWeek:c,getWeek:d,startOfBroadcastWeek:f,startOfISOWeek:p,startOfWeek:m}=r,y=e.reduce((g,v)=>{let x=o.broadcastCalendar?f(v,r):o.ISOWeek?p(v):m(v),w=o.broadcastCalendar?a(v,r):o.ISOWeek?s(i(v)):u(i(v)),C=t.filter(P=>P>=x&&P<=w),S=o.broadcastCalendar?35:42;if(o.fixedWeeks&&C.length<S){let P=t.filter(M=>{let T=S-C.length;return M>w&&M<=n(w,T)});C.push(...P)}let b=C.reduce((P,M)=>{let T=o.ISOWeek?c(M):d(M),_=P.find(k=>k.weekNumber===T),F=new Yu(M,v,r);return _?_.days.push(F):P.push(new yx(T,[F])),P},[]),R=new gx(v,b);return g.push(R),g},[]);return o.reverseMonths?y.reverse():y}l();function sH(e,t){let{startMonth:o,endMonth:r}=e,{startOfYear:n,startOfDay:a,startOfMonth:s,endOfMonth:i,addYears:u,endOfYear:c,newDate:d,today:f}=t,{fromYear:p,toYear:m,fromMonth:y,toMonth:g}=e;!o&&y&&(o=y),!o&&p&&(o=t.newDate(p,0,1)),!r&&g&&(r=g),!r&&m&&(r=d(m,11,31));let v=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return o?o=s(o):p?o=d(p,0,1):!o&&v&&(o=n(u(e.today??f(),-100))),r?r=i(r):m?r=d(m,11,31):!r&&v&&(r=c(e.today??f())),[o&&a(o),r&&a(r)]}l();function iH(e,t,o,r){if(o.disableNavigation)return;let{pagedNavigation:n,numberOfMonths:a=1}=o,{startOfMonth:s,addMonths:i,differenceInCalendarMonths:u}=r,c=n?a:1,d=s(e);if(!t)return i(d,c);if(!(u(t,e)<a))return i(d,c)}l();function lH(e,t,o,r){if(o.disableNavigation)return;let{pagedNavigation:n,numberOfMonths:a}=o,{startOfMonth:s,addMonths:i,differenceInCalendarMonths:u}=r,c=n?a??1:1,d=s(e);if(!t)return i(d,-c);if(!(u(d,t)<=0))return i(d,-c)}l();function uH(e){let t=[];return e.reduce((o,r)=>[...o,...r.weeks],t)}l();import{useState as Bre}from"react";function Ds(e,t){let[o,r]=Bre(e);return[t===void 0?o:t,r]}function cH(e,t){let[o,r]=sH(e,t),{startOfMonth:n,endOfMonth:a}=t,s=D0(e,t),[i,u]=Ds(s,e.month?s:void 0);Vre(()=>{let R=D0(e,t);u(R)},[e.timeZone]);let c=nH(i,r,e,t),d=oH(c,e.endMonth?a(e.endMonth):void 0,e,t),f=aH(c,d,e,t),p=uH(f),m=rH(f),y=lH(i,o,e,t),g=iH(i,r,e,t),{disableNavigation:v,onMonthChange:x}=e,w=R=>p.some(P=>P.days.some(M=>M.isEqualTo(R))),C=R=>{if(v)return;let P=n(R);o&&P<n(o)&&(P=n(o)),r&&P>n(r)&&(P=n(r)),u(P),x?.(P)};return{months:f,weeks:p,days:m,navStart:o,navEnd:r,previousMonth:y,nextMonth:g,goToMonth:C,goToDay:R=>{w(R)||C(R.date)}}}l();import{useState as mH}from"react";l();var $n;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})($n||($n={}));function dH(e){return!e[Ye.disabled]&&!e[Ye.hidden]&&!e[Ye.outside]}function fH(e,t,o,r){let n,a=-1;for(let s of e){let i=t(s);dH(i)&&(i[Ye.focused]&&a<$n.FocusedModifier?(n=s,a=$n.FocusedModifier):r?.isEqualTo(s)&&a<$n.LastFocused?(n=s,a=$n.LastFocused):o(s.date)&&a<$n.Selected?(n=s,a=$n.Selected):i[Ye.today]&&a<$n.Today&&(n=s,a=$n.Today))}return n||(n=e.find(s=>dH(t(s)))),n}l();l();l();function xr(e,t,o=!1,r=fo){let{from:n,to:a}=e,{differenceInCalendarDays:s,isSameDay:i}=r;return n&&a?(s(a,n)<0&&([n,a]=[a,n]),s(t,n)>=(o?1:0)&&s(a,t)>=(o?1:0)):!o&&a?i(a,t):!o&&n?i(n,t):!1}l();function xx(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Xu(e){return!!(e&&typeof e=="object"&&"from"in e)}function vx(e){return!!(e&&typeof e=="object"&&"after"in e)}function wx(e){return!!(e&&typeof e=="object"&&"before"in e)}function Cx(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Sx(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Xr(e,t,o=fo){let r=Array.isArray(t)?t:[t],{isSameDay:n,differenceInCalendarDays:a,isAfter:s}=o;return r.some(i=>{if(typeof i=="boolean")return i;if(o.isDate(i))return n(e,i);if(Sx(i,o))return i.includes(e);if(Xu(i))return xr(i,e,!1,o);if(Cx(i))return Array.isArray(i.dayOfWeek)?i.dayOfWeek.includes(e.getDay()):i.dayOfWeek===e.getDay();if(xx(i)){let u=a(i.before,e),c=a(i.after,e),d=u>0,f=c<0;return s(i.before,i.after)?f&&d:d||f}return vx(i)?a(e,i.after)>0:wx(i)?a(i.before,e)>0:typeof i=="function"?i(e):!1})}l();function pH(e,t,o,r,n,a,s){let{ISOWeek:i,broadcastCalendar:u}=a,{addDays:c,addMonths:d,addWeeks:f,addYears:p,endOfBroadcastWeek:m,endOfISOWeek:y,endOfWeek:g,max:v,min:x,startOfBroadcastWeek:w,startOfISOWeek:C,startOfWeek:S}=s,R={day:c,week:f,month:d,year:p,startOfWeek:P=>u?w(P,s):i?C(P):S(P),endOfWeek:P=>u?m(P,s):i?y(P):g(P)}[e](o,t==="after"?1:-1);return t==="before"&&r?R=v([r,R]):t==="after"&&n&&(R=x([n,R])),R}function A0(e,t,o,r,n,a,s,i=0){if(i>365)return;let u=pH(e,t,o.date,r,n,a,s),c=!!(a.disabled&&Xr(u,a.disabled,s)),d=!!(a.hidden&&Xr(u,a.hidden,s)),f=u,p=new Yu(u,f,s);return!c&&!d?p:A0(e,t,p,r,n,a,s,i+1)}function hH(e,t,o,r,n){let{autoFocus:a}=e,[s,i]=mH(),u=fH(t.days,o,r||(()=>!1),s),[c,d]=mH(a?u:void 0);return{isFocusTarget:g=>!!u?.isEqualTo(g),setFocused:d,focused:c,blur:()=>{i(c),d(void 0)},moveFocus:(g,v)=>{if(!c)return;let x=A0(g,v,c,t.navStart,t.navEnd,e,n);x&&(t.goToDay(x),d(x))}}}l();function gH(e,t,o){let{disabled:r,hidden:n,modifiers:a,showOutsideDays:s,broadcastCalendar:i,today:u}=t,{isSameDay:c,isSameMonth:d,startOfMonth:f,isBefore:p,endOfMonth:m,isAfter:y}=o,g=t.startMonth&&f(t.startMonth),v=t.endMonth&&m(t.endMonth),x={[Ye.focused]:[],[Ye.outside]:[],[Ye.disabled]:[],[Ye.hidden]:[],[Ye.today]:[]},w={};for(let C of e){let{date:S,displayMonth:b}=C,R=!!(b&&!d(S,b)),P=!!(g&&p(S,g)),M=!!(v&&y(S,v)),T=!!(r&&Xr(S,r,o)),_=!!(n&&Xr(S,n,o))||P||M||!i&&!s&&R||i&&s===!1&&R,F=c(S,u??o.today());R&&x.outside.push(C),T&&x.disabled.push(C),_&&x.hidden.push(C),F&&x.today.push(C),a&&Object.keys(a).forEach(k=>{let N=a?.[k];N&&Xr(S,N,o)&&(w[k]?w[k].push(C):w[k]=[C])})}return C=>{let S={[Ye.focused]:!1,[Ye.disabled]:!1,[Ye.hidden]:!1,[Ye.outside]:!1,[Ye.today]:!1},b={};for(let R in x){let P=x[R];S[R]=P.some(M=>M===C)}for(let R in w)b[R]=w[R].some(P=>P===C);return{...S,...b}}}l();l();function yH(e,t){let{selected:o,required:r,onSelect:n}=e,[a,s]=Ds(o,n?o:void 0),i=n?o:a,{isSameDay:u}=t,c=m=>i?.some(y=>u(y,m))??!1,{min:d,max:f}=e;return{selected:i,select:(m,y,g)=>{let v=[...i??[]];if(c(m)){if(i?.length===d||r&&i?.length===1)return;v=i?.filter(x=>!u(x,m))}else i?.length===f?v=[m]:v=[...v,m];return n||s(v),n?.(v,m,y,g),v},isSelected:c}}l();l();function xH(e,t,o=0,r=0,n=!1,a=fo){let{from:s,to:i}=t||{},{isSameDay:u,isAfter:c,isBefore:d}=a,f;if(!s&&!i)f={from:e,to:o>0?void 0:e};else if(s&&!i)u(s,e)?n?f={from:s,to:void 0}:f=void 0:d(e,s)?f={from:e,to:s}:f={from:s,to:e};else if(s&&i)if(u(s,e)&&u(i,e))n?f={from:s,to:i}:f=void 0;else if(u(s,e))f={from:s,to:o>0?void 0:e};else if(u(i,e))f={from:e,to:o>0?void 0:e};else if(d(e,s))f={from:e,to:i};else if(c(e,s))f={from:s,to:e};else if(c(e,i))f={from:s,to:e};else throw new Error("Invalid range");if(f?.from&&f?.to){let p=a.differenceInCalendarDays(f.to,f.from);r>0&&p>r?f={from:e,to:void 0}:o>1&&p<o&&(f={from:e,to:void 0})}return f}l();function vH(e,t,o=fo){let r=Array.isArray(t)?t:[t],n=e.from,a=o.differenceInCalendarDays(e.to,e.from),s=Math.min(a,6);for(let i=0;i<=s;i++){if(r.includes(n.getDay()))return!0;n=o.addDays(n,1)}return!1}l();l();function k0(e,t,o=fo){return xr(e,t.from,!1,o)||xr(e,t.to,!1,o)||xr(t,e.from,!1,o)||xr(t,e.to,!1,o)}function wH(e,t,o=fo){let r=Array.isArray(t)?t:[t];if(r.filter(i=>typeof i!="function").some(i=>typeof i=="boolean"?i:o.isDate(i)?xr(e,i,!1,o):Sx(i,o)?i.some(u=>xr(e,u,!1,o)):Xu(i)?i.from&&i.to?k0(e,{from:i.from,to:i.to},o):!1:Cx(i)?vH(e,i.dayOfWeek,o):xx(i)?o.isAfter(i.before,i.after)?k0(e,{from:o.addDays(i.after,1),to:o.addDays(i.before,-1)},o):Xr(e.from,i,o)||Xr(e.to,i,o):vx(i)||wx(i)?Xr(e.from,i,o)||Xr(e.to,i,o):!1))return!0;let s=r.filter(i=>typeof i=="function");if(s.length){let i=e.from,u=o.differenceInCalendarDays(e.to,e.from);for(let c=0;c<=u;c++){if(s.some(d=>d(i)))return!0;i=o.addDays(i,1)}}return!1}function CH(e,t){let{disabled:o,excludeDisabled:r,selected:n,required:a,onSelect:s}=e,[i,u]=Ds(n,s?n:void 0),c=s?n:i;return{selected:c,select:(p,m,y)=>{let{min:g,max:v}=e,x=p?xH(p,c,g,v,a,t):void 0;return r&&o&&x?.from&&x.to&&wH({from:x.from,to:x.to},o,t)&&(x.from=p,x.to=void 0),s||u(x),s?.(x,p,m,y),x},isSelected:p=>c&&xr(c,p,!1,t)}}l();function SH(e,t){let{selected:o,required:r,onSelect:n}=e,[a,s]=Ds(o,n?o:void 0),i=n?o:a,{isSameDay:u}=t;return{selected:i,select:(f,p,m)=>{let y=f;return!r&&i&&i&&u(f,i)&&(y=void 0),n||s(y),n?.(y,f,p,m),y},isSelected:f=>i?u(i,f):!1}}function bH(e,t){let o=SH(e,t),r=yH(e,t),n=CH(e,t);switch(e.mode){case"single":return o;case"multiple":return r;case"range":return n;default:return}}function IH(e){let{components:t,formatters:o,labels:r,dateLib:n,locale:a,classNames:s}=O0(()=>{let de={...Ts,...e.locale};return{dateLib:new Zt({locale:de,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:qV(e.components),formatters:KV(e.formatters),labels:{...P0,...e.labels},locale:de,classNames:{...$V(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:i,mode:u,onDayBlur:c,onDayClick:d,onDayFocus:f,onDayKeyDown:p,onDayMouseEnter:m,onDayMouseLeave:y,onNextClick:g,onPrevClick:v,showWeekNumber:x,styles:w}=e,{formatCaption:C,formatDay:S,formatMonthDropdown:b,formatWeekNumber:R,formatWeekNumberHeader:P,formatWeekdayName:M,formatYearDropdown:T}=o,_=cH(e,n),{days:F,months:k,navStart:N,navEnd:I,previousMonth:A,nextMonth:L,goToMonth:D}=_,O=gH(F,e,n),{isSelected:E,select:V,selected:B}=bH(e,n)??{},{blur:U,focused:$,isFocusTarget:G,moveFocus:H,setFocused:q}=hH(e,_,O,E??(()=>!1),n),{labelDayButton:z,labelGridcell:j,labelGrid:X,labelMonthDropdown:K,labelNav:re,labelWeekday:ne,labelWeekNumber:me,labelWeekNumberHeader:Ce,labelYearDropdown:Me}=r,We=O0(()=>QV(n,e.ISOWeek),[n,e.ISOWeek]),ye=u!==void 0||d!==void 0,oe=Gn(()=>{A&&(D(A),v?.(A))},[A,D,v]),Fe=Gn(()=>{L&&(D(L),g?.(L))},[D,L,g]),Ct=Gn((de,Ae)=>Se=>{Se.preventDefault(),Se.stopPropagation(),q(de),V?.(de.date,Ae,Se),d?.(de.date,Ae,Se)},[V,d,q]),Jo=Gn((de,Ae)=>Se=>{q(de),f?.(de.date,Ae,Se)},[f,q]),Xe=Gn((de,Ae)=>Se=>{U(),c?.(de.date,Ae,Se)},[U,c]),eo=Gn((de,Ae)=>Se=>{let ot={ArrowLeft:["day",e.dir==="rtl"?"after":"before"],ArrowRight:["day",e.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[Se.shiftKey?"year":"month","before"],PageDown:[Se.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ot[Se.key]){Se.preventDefault(),Se.stopPropagation();let[dt,Bo]=ot[Se.key];H(dt,Bo)}p?.(de.date,Ae,Se)},[H,p,e.dir]),bo=Gn((de,Ae)=>Se=>{m?.(de.date,Ae,Se)},[m]),Nr=Gn((de,Ae)=>Se=>{y?.(de.date,Ae,Se)},[y]),Io=Gn(de=>Ae=>{let Se=Number(Ae.target.value),ot=n.setMonth(n.startOfMonth(de),Se);D(ot)},[n,D]),to=Gn(de=>Ae=>{let Se=Number(Ae.target.value),ot=n.setYear(n.startOfMonth(de),Se);D(ot)},[n,D]),{className:oo,style:ro}=O0(()=>({className:[s[le.Root],e.className].filter(Boolean).join(" "),style:{...w?.[le.Root],...e.style}}),[s,e.className,e.style,w]),po=WV(e),Be=Hre(null);tH(Be,!!e.animate,{classNames:s,months:k,focused:$,dateLib:n});let St={dayPickerProps:e,selected:B,select:V,isSelected:E,months:k,nextMonth:L,previousMonth:A,goToMonth:D,getModifiers:O,components:t,classNames:s,styles:w,labels:r,formatters:o};return xt.createElement(b0.Provider,{value:St},xt.createElement(t.Root,{rootRef:e.animate?Be:void 0,className:oo,style:ro,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...po},xt.createElement(t.Months,{className:s[le.Months],style:w?.[le.Months]},!e.hideNavigation&&xt.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:s[le.Nav],style:w?.[le.Nav],"aria-label":re(),onPreviousClick:oe,onNextClick:Fe,previousMonth:A,nextMonth:L}),k.map((de,Ae)=>{let Se=YV(de.date,N,I,o,n),ot=ZV(N,I,o,n);return xt.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:s[le.Month],style:w?.[le.Month],key:Ae,displayIndex:Ae,calendarMonth:de},xt.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:s[le.MonthCaption],style:w?.[le.MonthCaption],calendarMonth:de,displayIndex:Ae},i?.startsWith("dropdown")?xt.createElement(t.DropdownNav,{className:s[le.Dropdowns],style:w?.[le.Dropdowns]},i==="dropdown"||i==="dropdown-months"?xt.createElement(t.MonthsDropdown,{className:s[le.MonthsDropdown],"aria-label":K(),classNames:s,components:t,disabled:!!e.disableNavigation,onChange:Io(de.date),options:Se,style:w?.[le.Dropdown],value:n.getMonth(de.date)}):xt.createElement("span",null,b(de.date,n)),i==="dropdown"||i==="dropdown-years"?xt.createElement(t.YearsDropdown,{className:s[le.YearsDropdown],"aria-label":Me(n.options),classNames:s,components:t,disabled:!!e.disableNavigation,onChange:to(de.date),options:ot,style:w?.[le.Dropdown],value:n.getYear(de.date)}):xt.createElement("span",null,T(de.date,n)),xt.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(de.date,n.options,n))):xt.createElement(t.CaptionLabel,{className:s[le.CaptionLabel],role:"status","aria-live":"polite"},C(de.date,n.options,n))),xt.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":X(de.date,n.options,n)||void 0,className:s[le.MonthGrid],style:w?.[le.MonthGrid]},!e.hideWeekdays&&xt.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:s[le.Weekdays],style:w?.[le.Weekdays]},x&&xt.createElement(t.WeekNumberHeader,{"aria-label":Ce(n.options),className:s[le.WeekNumberHeader],style:w?.[le.WeekNumberHeader],scope:"col"},P()),We.map((dt,Bo)=>xt.createElement(t.Weekday,{"aria-label":ne(dt,n.options,n),className:s[le.Weekday],key:Bo,style:w?.[le.Weekday],scope:"col"},M(dt,n.options,n)))),xt.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:s[le.Weeks],style:w?.[le.Weeks]},de.weeks.map((dt,Bo)=>xt.createElement(t.Week,{className:s[le.Week],key:dt.weekNumber,style:w?.[le.Week],week:dt},x&&xt.createElement(t.WeekNumber,{week:dt,style:w?.[le.WeekNumber],"aria-label":me(dt.weekNumber,{locale:a}),className:s[le.WeekNumber],scope:"row",role:"rowheader"},R(dt.weekNumber)),dt.days.map(Ve=>{let{date:kt}=Ve,Re=O(Ve);if(Re[Ye.focused]=!Re.hidden&&!!$?.isEqualTo(Ve),Re[yr.selected]=E?.(kt)||Re.selected,Xu(B)){let{from:ke,to:Te}=B;Re[yr.range_start]=!!(ke&&Te&&n.isSameDay(kt,ke)),Re[yr.range_end]=!!(ke&&Te&&n.isSameDay(kt,Te)),Re[yr.range_middle]=xr(B,kt,!0,n)}let it=XV(Re,w,e.modifiersStyles),Je=HV(Re,s,e.modifiersClassNames),ae=!ye&&!Re.hidden?j(kt,Re,n.options,n):void 0;return xt.createElement(t.Day,{key:`${n.format(kt,"yyyy-MM-dd")}_${n.format(Ve.displayMonth,"yyyy-MM")}`,day:Ve,modifiers:Re,className:Je.join(" "),style:it,role:"gridcell","aria-selected":Re.selected||void 0,"aria-label":ae,"data-day":n.format(kt,"yyyy-MM-dd"),"data-month":Ve.outside?n.format(kt,"yyyy-MM"):void 0,"data-selected":Re.selected||void 0,"data-disabled":Re.disabled||void 0,"data-hidden":Re.hidden||void 0,"data-outside":Ve.outside||void 0,"data-focused":Re.focused||void 0,"data-today":Re.today||void 0},!Re.hidden&&ye?xt.createElement(t.DayButton,{className:s[le.DayButton],style:w?.[le.DayButton],type:"button",day:Ve,modifiers:Re,disabled:Re.disabled||void 0,tabIndex:G(Ve)?0:-1,"aria-label":z(kt,Re,n.options,n),onClick:Ct(Ve,Re),onBlur:Xe(Ve,Re),onFocus:Jo(Ve,Re),onKeyDown:eo(Ve,Re),onMouseEnter:bo(Ve,Re),onMouseLeave:Nr(Ve,Re)},S(kt,n.options,n)):!Re.hidden&&S(Ve.date,n.options,n))}))))))})),e.footer&&xt.createElement(t.Footer,{className:s[le.Footer],style:w?.[le.Footer],role:"status","aria-live":"polite"},e.footer)))}import{jsx as Ure}from"react/jsx-runtime";function N0({className:e,classNames:t,showOutsideDays:o=!0,hideNavigation:r,...n}){let a=W("relative flex flex-col gap-4 sm:flex-row",n.monthsClassName),s=W("hidden",n.monthCaptionClassName),i=W("flex items-center justify-center gap-2 w-full",r?"w-full":"hidden",n.dropdownsClassName),u=W("pt-3 text-xs",n.footerClassName),c=W("flex",n.weekdaysClassName),d=W("w-9 text-xs font-normal text-muted-foreground",n.weekdayClassName),f=W("truncate text-xs font-medium",n.captionLabelClassName),p=W("mx-auto mt-4",n.monthGridClassName),m=W("mt-0 flex w-max items-start",n.weekClassName),y=W("flex size-9 flex-1 items-center justify-center p-0 text-xs",n.dayClassName),g=W(mC({variant:"ghost"}),"size-8 rounded-md p-0 font-normal text-xs transition-none aria-selected:opacity-100",n.dayButtonClassName),v="bg-accent [&>button]:bg-primary [&>button]:text-primary-foreground [&>button]:hover:bg-primary [&>button]:hover:text-primary-foreground",x=W(v,"rounded-s-md",n.rangeStartClassName),w=W(v,"rounded-e-md",n.rangeEndClassName),C=W("bg-accent text-foreground! [&>button]:bg-transparent [&>button]:text-foreground! [&>button]:hover:bg-transparent [&>button]:hover:text-foreground!",n.rangeMiddleClassName),S=W("[&>button]:bg-primary [&>button]:text-primary-foreground [&>button]:hover:bg-primary [&>button]:hover:text-primary-foreground","[&[aria-selected]>button]:bg-primary [&[aria-selected]>button]:text-primary-foreground",n.selectedClassName),b=W("[&>button]:font-bold [&>button]:text-accent-foreground",n.todayClassName),R=W("text-muted-foreground opacity-50 aria-selected:text-muted-foreground aria-selected:opacity-30",n.outsideClassName),P=W("text-muted-foreground opacity-50",n.disabledClassName),M=W("invisible flex-1",n.hiddenClassName);return Ure(IH,{mode:"single",captionLayout:"label",hideNavigation:!0,showOutsideDays:o,className:W("p-0 text-xs",e),classNames:{caption_label:f,day:y,day_button:g,dropdowns:i,footer:u,month:n.monthClassName,month_caption:s,month_grid:p,months:a,week:m,weekday:d,weekdays:c,range_end:w,range_middle:C,range_start:x,disabled:P,hidden:M,outside:R,today:b,selected:S,nav:"hidden",...t},...n})}N0.displayName="Calendar";l();import{useState as zre}from"react";function Qu(e){let{initialValue:t}=e,[o,r]=zre(t??"");return{handleOnChange:a=>{r(a.target.value)},value:o,setValue:r}}import{Fragment as $re,jsx as So,jsxs as Ju}from"react/jsx-runtime";Jt.default.extend(PH.default);function LH(e){let{onSubmit:t,value:o,readonly:r,column:n}=e,a=String(o),s=Qi(()=>{let H=(0,Jt.default)(a);return H.isValid()?H.toDate():new Date},[a]),i=H=>{switch(H){case"date":return"YYYY-MM-DD";case"time":return"HH:mm:ss.SSSSS";case"timestamp":return"YYYY-MM-DD HH:mm:ss.SSSSSS";case"timestamptz":return"YYYY-MM-DD HH:mm:ss.SSSSSSZ";case"timetz":return"HH:mm:ss.SSSSSSZ";default:return}},[u,c]=Zu(s),[d,f]=Zu(s),[p,m]=Zu(()=>(0,Jt.default)(s).format("HH")),[y,g]=Zu(()=>(0,Jt.default)(s).format("mm")),[v,x]=Zu(()=>(0,Jt.default)(s).format("ss")),{handleOnChange:w,value:C,setValue:S}=Qu({initialValue:a}),b=Qi(()=>n?.datatype?.name||n?.datatype,[n]),R=Qi(()=>i(b),[b]),P=Qi(()=>["time","timestamp","timestamptz","timetz"].includes(b),[b]),M=H=>{w(H);try{let q=H.target.value,z=(0,Jt.default)(q);if(z.isValid()){let j=z.toDate();c(j),f(j),P&&(m(z.format("HH")),g(z.format("mm")),x(z.format("ss")))}}catch{}},T=H=>{if(!H)return;let q=(0,Jt.default)(H),z=q;if(P&&u)z=q.hour((0,Jt.default)(u).hour()).minute((0,Jt.default)(u).minute()).second((0,Jt.default)(u).second());else if(P){let j=(0,Jt.default)();z=q.hour(j.hour()).minute(j.minute()).second(j.second()),m(j.format("HH")),g(j.format("mm")),x(j.format("ss"))}c(z.toDate()),f(z.toDate()),S(R?z.format(R):z.toISOString())},_=Qi(()=>{try{let H=(0,Jt.default)(C);return H.isValid()?C.includes(":")?H.format("LL LTS"):H.format("LL"):C}catch{return C}},[C]);function F(H){H.preventDefault(),C!==a&&t(C)}let k=qre(()=>C!==a?(t(C),!0):!1,[C,a,t]),N=()=>{},{handleSave:I,handleCancel:A}=mr({onSave:k,onCancel:N,readonly:r}),L=H=>{H.preventDefault(),H.stopPropagation();let q=(0,Jt.default)();c(q.toDate()),f(q.toDate()),S(R?q.format(R):q.toISOString()),V(q.year().toString()),P&&(m(q.format("HH")),g(q.format("mm")),x(q.format("ss")))},D=Qi(()=>[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}],[]),O=Qi(()=>d.getMonth().toString(),[d]),[E,V]=Zu(()=>d.getFullYear().toString()),B=H=>{let q=u?(0,Jt.default)(u):(0,Jt.default)();u&&(H.hour!==void 0||H.minute!==void 0||H.second!==void 0)&&H.year===void 0&&H.month===void 0&&H.day===void 0?q=(0,Jt.default)(u):!u&&(H.hour!==void 0||H.minute!==void 0||H.second!==void 0)&&(q=(0,Jt.default)(d));let z=q.set("year",H.year??q.year()).set("month",H.month??q.month()).set("date",H.day??q.date()).set("hour",H.hour??(P?q.hour():0)).set("minute",H.minute??(P?q.minute():0)).set("second",H.second??(P?q.second():0));c(z.toDate()),(H.year!==void 0||H.month!==void 0)&&f(z.toDate()),S(R?z.format(R):z.toISOString()),H.year!==void 0&&V(String(H.year)),P&&(H.hour!==void 0&&m(String(H.hour).padStart(2,"0")),H.minute!==void 0&&g(String(H.minute).padStart(2,"0")),H.second!==void 0&&x(String(H.second).padStart(2,"0")))},U=H=>{let q=parseInt(H);B({month:q})},$=H=>{let q=H.target.value;if(V(q),/^\d{1,4}$/.test(q)){let z=parseInt(q);q.length===4&&B({year:z})}},G=(H,q)=>{let z=parseInt(q);if(isNaN(z))return;let j=H==="hour"?z:parseInt(p),X=H==="minute"?z:parseInt(y),K=H==="second"?z:parseInt(v);H==="hour"&&m(q.padStart(2,"0")),H==="minute"&&g(q.padStart(2,"0")),H==="second"&&x(q.padStart(2,"0"));let re=H==="hour"&&q.length>=1&&z>=0&&z<=23,ne=H==="minute"&&q.length>=1&&z>=0&&z<=59,me=H==="second"&&q.length>=1&&z>=0&&z<=59;(H==="hour"&&re||H==="minute"&&ne||H==="second"&&me)&&B({hour:j,minute:X,second:K})};return RH(()=>{if(u){let H=(0,Jt.default)(u);V(H.year().toString()),P&&(m(H.format("HH")),g(H.format("mm")),x(H.format("ss")))}},[u,P]),RH(()=>{d&&(u||V(d.getFullYear().toString()))},[d,u]),Ju($re,{children:[So("form",{onSubmit:F,children:Ju("div",{className:"flex items-center pr-(--studio-cell-spacing)",children:[So(Yo,{className:"cell-input-leading font-mono border-none shadow-none focus-visible:ring-0 resize-none px-(--studio-cell-spacing)",onChange:M,type:"text",value:C}),So("input",{type:"submit",className:"sr-only"})]})}),Ju("div",{className:"flex flex-col gap-0 p-2 border-t border-table-border",children:[Ju("div",{className:"flex items-center justify-between mb-1 gap-2",children:[Ju(ha,{value:O,onValueChange:U,children:[So(Nn,{className:"text-xs data-[state=open]:border-primary shadow-none",children:So(ga,{placeholder:"Month"})}),So(_n,{children:D.map(H=>So(ut,{value:H.value,children:H.label},H.value))})]}),So(Yo,{className:"text-xs w-20 text-right shadow-none",type:"text",value:E,onChange:$,placeholder:"Year"})]}),So(Wre,{selected:u,month:d,onSelect:T,onMonthChange:f,disabled:r}),P&&Ju("div",{className:"flex items-center justify-start gap-1 mt-1",children:[So(Yo,{className:"text-xs w-16 text-right shadow-none",type:"number",value:p,onChange:H=>G("hour",H.target.value),placeholder:"HH",min:0,max:23,maxLength:2,disabled:r}),So("span",{className:"text-xs text-muted-foreground",children:":"}),So(Yo,{className:"text-xs w-16 text-right shadow-none",type:"number",value:y,onChange:H=>G("minute",H.target.value),placeholder:"mm",min:0,max:59,maxLength:2,disabled:r}),So("span",{className:"text-xs text-muted-foreground",children:":"}),So(Yo,{className:"text-xs w-16 text-right shadow-none ",type:"number",value:v,onChange:H=>G("second",H.target.value),placeholder:"ss",min:0,max:59,maxLength:2,disabled:r})]}),So("code",{className:"sr-only",children:_})]}),So(gr,{onSave:I,onCancel:A,readonly:r,onSetNow:L,showSetNow:!0})]})}function Wre({selected:e,month:t,onSelect:o,onMonthChange:r,disabled:n}){return So(N0,{mode:"single",selected:e,onSelect:o,disabled:n,month:t,onMonthChange:r,className:"w-full",captionLayout:"dropdown"})}l();import{useCallback as Gre,useState as MH}from"react";import{Fragment as jre,jsx as bx,jsxs as Kre}from"react/jsx-runtime";function EH(e){let{onSubmit:t,column:o,value:r,options:n=[],readonly:a}=e,s=o.nullable===!0,i=String(r),[u,c]=MH(i),[d,f]=MH(r===null),p=w=>{c(w)},m=w=>{f(w)},y=Gre(()=>d?r!==null?(t(null),!0):!1:u!==i?(t(u),!0):!1,[u,i,t,d,r]),g=()=>{c(i),f(r===null)},{handleSave:v,handleCancel:x}=mr({onSave:y,onCancel:g,readonly:a});return Kre(jre,{children:[bx("div",{className:"flex items-center gap-2 font-mono h-(--studio-cell-height) px-2 py-0 w-full text-xs text-muted-foreground",children:u}),bx("div",{className:"flex flex-row flex-wrap gap-2 p-2 min-w-(--radix-popover-trigger-width) max-w-[300px] w-full border-t border-table-border overflow-y-scroll max-h-32",children:n.map(w=>bx("button",{onClick:()=>p(w),className:W(gC({variant:w===u?"default":"outline"}),"focus:ring-accent-foreground focus:ring-offset-background focus:ring-offset-1"),disabled:d||a,children:w},w))}),bx(gr,{onSave:v,onCancel:x,onNullChange:s?m:void 0,isNull:d,readonly:a})]})}l();import Yre,{useState as TH}from"react";import{Fragment as Xre,jsx as _0,jsxs as Qre}from"react/jsx-runtime";function DH(e){let{value:t,onSubmit:o,column:r,readonly:n}=e,a=r.nullable===!0,s=t===null?"":JSON.stringify(t,null,2),[i,u]=TH(s),[c,d]=TH(t===null),f=x=>{u(x.target.value)},p=x=>{d(x)},m=Yre.useCallback(()=>{if(c)return t!==null?(o(null),!0):!1;let x=i===""?null:JSON.parse(i);return x!==t?(o(x),!0):!1},[i,t,o,c]),y=()=>{u(s),d(t===null)},{handleSave:g,handleCancel:v}=mr({onSave:m,onCancel:y,readonly:n});return Qre(Xre,{children:[_0("div",{className:"flex flex-row items-center gap-4 py-0",children:_0("textarea",{rows:5,value:i,onChange:f,disabled:c||n,className:"cell-input-base appearance-none w-full font-mono border-none outline-none shadow-none bg-transparent focus-visible:ring-0 resize px-(--studio-cell-spacing)",lang:"en_EN"})}),_0(gr,{onSave:g,onCancel:v,onNullChange:a?p:void 0,isNull:c,readonly:n})]})}l();import Zre,{useState as AH}from"react";import{Fragment as Jre,jsx as F0,jsxs as kH}from"react/jsx-runtime";function OH(e){let{value:t,onSubmit:o,column:r,readonly:n}=e,a=r.nullable===!0,[s,i]=AH(t===null?"":String(t)),[u,c]=AH(t===null),d=t===null?"":String(t),f=x=>{i(x.target.value)},p=x=>{c(x)},m=Zre.useCallback(()=>{if(u)return t!==null?(o(null),!0):!1;let x=s===""?null:Number(s);return s!==t?(o(x),!0):!1},[s,t,o,u]),y=()=>{i(d),c(t===null)},{handleSave:g,handleCancel:v}=mr({onSave:m,onCancel:y,readonly:n});return kH(Jre,{children:[kH("div",{className:"flex flex-row items-center h-(--studio-cell-height) gap-4 py-0",children:[F0(zf,{htmlFor:"numeric-input",className:"sr-only",children:"Numeric"}),F0("input",{type:"text",inputMode:"numeric",pattern:"\\d*",value:s,onChange:f,disabled:u||n,className:"cell-input-leading appearance-none w-full font-mono border-none outline-none shadow-none bg-transparent focus-visible:ring-0 resize-none px-(--studio-cell-spacing)",step:"any",lang:"en_EN"})]}),F0(gr,{onSave:g,onCancel:v,onNullChange:a?p:void 0,isNull:u,readonly:n})]})}l();import ene from"react";import{Fragment as tne,jsx as B0,jsxs as NH}from"react/jsx-runtime";function _H(e){let{onSubmit:t,value:o,readonly:r}=e,n=String(o),{handleOnChange:a,value:s}=Qu({initialValue:n});function i(p){p.preventDefault(),s!==n&&t(s)}let u=ene.useCallback(()=>s!==n?(t(s),!0):!1,[s,n,t]),c=()=>{},{handleSave:d,handleCancel:f}=mr({onSave:u,onCancel:c,readonly:r});return NH(tne,{children:[NH("form",{onSubmit:i,children:[B0(Yo,{className:"cell-input-leading font-mono border-none shadow-none focus-visible:ring-0 resize-none px-(--studio-cell-spacing)",onChange:a,type:"text",value:s,disabled:r}),B0("input",{type:"submit",className:"sr-only"})]}),B0(gr,{onSave:d,onCancel:f,readonly:r})]})}l();var H0=Cn(ox(),1),FH=Cn(y0(),1);import{useCallback as one,useMemo as rne}from"react";import{Fragment as nne,jsx as Xf,jsxs as V0}from"react/jsx-runtime";H0.default.extend(FH.default);function BH(e){let{onSubmit:t,value:o,readonly:r}=e,n=String(o),{handleOnChange:a,value:s}=Qu({initialValue:n}),i=rne(()=>{try{if(!s.includes(":"))return s;let m=/[+-]\d{2}(:\d{2})?$/.test(s),y=(0,H0.default)(`2000-01-01 ${s}`);if(y.isValid())return y.format("h:mm A")+(m?` (${y.format("Z")})`:"");let g=/(\d{1,2}):(\d{2}):(\d{2})(?:\.\d+)?([+-]\d{2}(?::\d{2})?)?/,v=s.match(g);if(v){let x=parseInt(v[1]||"12",10),w=v[2]||"00",C=v[4]||"",S=x>=12?"PM":"AM";return`${x%12===0?12:x%12}:${w} ${S}${C?` (${C})`:""}`}return s}catch{return s}},[s]);function u(m){m.preventDefault(),s!==n&&t(s)}let c=one(()=>s!==n?(t(s),!0):!1,[s,n,t]),d=()=>{},{handleSave:f,handleCancel:p}=mr({onSave:c,onCancel:d,readonly:r});return V0(nne,{children:[V0("form",{onSubmit:u,children:[Xf(Yo,{className:"cell-input-leading font-mono border-none shadow-none focus-visible:ring-0 resize-none px-(--studio-cell-spacing)",onChange:a,type:"text",value:s}),Xf("input",{type:"submit",className:"sr-only"})]}),V0("div",{className:"flex flex-col gap-1 p-2 border-t border-table-border",children:[Xf("div",{className:"text-xs text-muted-foreground",children:"Formatted value"}),Xf("div",{className:"text-xs font-mono text-foreground",children:i})]}),Xf(gr,{onSave:f,onCancel:p,readonly:r})]})}import{jsx as Zi}from"react/jsx-runtime";function Ix(e){let{cell:t,column:o,onSubmit:r}=e,{group:n,options:a,isArray:s}=o.datatype,i=o.isComputed||e.readonly,u=t.getValue(),c=u===void 0?"":u;return n==="datetime"?Zi(LH,{onSubmit:r,value:c,column:o,readonly:i}):n==="time"?Zi(BH,{onSubmit:r,value:c,column:o,readonly:i}):n==="json"||s?Zi(DH,{onSubmit:r,value:c,column:o,readonly:i}):n==="boolean"?Zi(GB,{onSubmit:r,value:c,column:o,readonly:i}):n==="enum"?Zi(EH,{onSubmit:r,value:c,options:a,column:o,readonly:i}):n==="numeric"?Zi(OH,{onSubmit:r,value:c,column:o,readonly:i}):Zi(_H,{onSubmit:r,value:xf(c)?JSON.stringify(c):c,readonly:i})}l();var z0=Cn(Fc(),1);import{jsx as U0}from"react/jsx-runtime";function VH(e){let{cell:t,column:o}=e,{fkSchema:r,fkTable:n,fkColumn:a}=o,{createUrl:s}=Ge(),{data:i}=Tn();if(r!==null&&n!==null&&a!==null){let u=i.schemas[r]?.tables[n];if(u!==void 0)return U0(_e,{size:"xs",variant:"outline",onClick:c=>c.stopPropagation(),asChild:!0,children:U0("a",{href:s({schemaParam:r,tableParam:u.name,filterParam:JSON.stringify({kind:"FilterGroup",id:z0.default.generate(),after:"and",filters:[{kind:"ColumnFilter",id:z0.default.generate(),column:a,operator:"=",value:t.getValue(),after:"and"}]})}),children:U0(jc,{size:12})})})}return null}l();var q0=Cn(Fc(),1);import{Fragment as ane,useEffect as sne,useMemo as ine,useState as Rx}from"react";import{createPortal as lne}from"react-dom";l();function HH(e,t,o){let r=e?.datatype.group;if(r===void 0)return"";if(t==="is"||t==="is not")return o.toLowerCase()==="null"?null:o;if(r==="boolean")return o==="true";if(r==="datetime"||r==="enum"||r==="raw"||r==="string"||r==="time")return o;if(r==="json")try{return JSON.parse(o)}catch{return o}return r==="numeric"?o===""?null:Number(o):o}function UH(e,t,o){let r=e?.datatype.group;if(t&&(t==="is"||t==="is not"))return o===null?"null":String(o);if(r===void 0||o==null)return"";if(r==="boolean"||r==="datetime"||r==="enum"||r==="numeric"||r==="raw"||r==="string"||r==="time")return String(o);if(r==="json"){if(o==="")return"";try{return JSON.stringify(o)}catch{return String(o)}}return String(o)}import{Fragment as GH,jsx as Z,jsxs as vt}from"react/jsx-runtime";var zH=({value:e,onValueChange:t,disabled:o,triggerClassName:r="w-20 text-xs h-8"})=>vt(ha,{value:e,onValueChange:t,disabled:o,children:[Z(Nn,{className:r,children:Z(ga,{placeholder:"Logic"})}),vt(_n,{children:[Z(ut,{value:"and",children:Z("div",{className:"font-semibold",children:"AND"})}),Z(ut,{value:"or",children:Z("div",{className:"font-semibold",children:"OR"})})]})]}),une=({activeId:e,items:t,table:o})=>{let r=t.find(i=>i.id===e);if(!r)return null;let n="and",a=!1,s=t.findIndex(i=>i.id===e);if(s>0){let i=t[s-1];i&&(n=i.after,a=!0)}return r.kind==="ColumnFilter"?Z(qH,{filter:r,onUpdate:()=>{},onDelete:()=>{},table:o,showLeadingOperator:a,leadingOperatorValue:n,onLeadingOperatorChange:()=>{}}):Z(W0,{group:r,onUpdate:()=>{},onDelete:()=>{},isRoot:!1,table:o,showLeadingOperator:a,leadingOperatorValue:n,onLeadingOperatorChange:()=>{},isLeadingOperatorTargetLast:!1})},cne=({items:e,parentGroupId:t,table:o,onUpdateItem:r,onDeleteItem:n,onReorderItems:a,activeDragId:s,onDragStart:i,onDragEndSignal:u})=>{let c=ine(()=>e.map(p=>p.id),[e]),d=Dy(Of(Wu,{activationConstraint:{distance:8}}),Of(qu,{coordinateGetter:U2}));return vt(GH,{children:[Z(Oy,{sensors:d,collisionDetection:m2,onDragStart:i,onDragEnd:p=>{let{active:m,over:y}=p;if(y&&m.id!==y.id){let g=e.findIndex(x=>x.id===m.id),v=e.findIndex(x=>x.id===y.id);g!==-1&&v!==-1&&a(g,v)}u()},children:Z(Uy,{items:c,strategy:F2,children:e.map((p,m)=>{let y=!1,g,v,x=!1;if(m>0){y=!0;let w=e[m-1];g=w.after,v=C=>{let S={...w,after:C};r(m-1,S)},x=m-1===e.length-1}return Z(dne,{filter:p,onUpdate:w=>r(m,w),onDelete:()=>n(m),parentDndId:t,table:o,showLeadingOperator:y,leadingOperatorValue:g,onLeadingOperatorChange:v,isLeadingOperatorTargetLast:x},p.id)})})}),lne(Z(k2,{children:s?Z("div",{className:"opacity-80",children:Z(une,{activeId:s,items:e,table:o})}):null}),document.body)]})},dne=({filter:e,onUpdate:t,onDelete:o,parentDndId:r,table:n,showLeadingOperator:a,leadingOperatorValue:s,onLeadingOperatorChange:i,isLeadingOperatorTargetLast:u})=>{let{attributes:c,listeners:d,setNodeRef:f,transform:p,transition:m,isDragging:y}=zy({id:e.id,data:{type:e.kind,parentId:r}}),g={transform:Dr.Transform.toString(p),transition:m,opacity:y?.5:1};return Z("div",{ref:f,style:g,className:"flex flex-row justify-between gap-2",children:e.kind==="ColumnFilter"?Z(qH,{filter:e,onUpdate:t,onDelete:o,dragHandleProps:{...c,...d},table:n,showLeadingOperator:a,leadingOperatorValue:s,onLeadingOperatorChange:i,isLeadingOperatorTargetLast:u}):Z(W0,{group:e,onUpdate:t,onDelete:o,dragHandleProps:{...c,...d},table:n,showLeadingOperator:a,leadingOperatorValue:s,onLeadingOperatorChange:i,isLeadingOperatorTargetLast:u})})},qH=({filter:e,onUpdate:t,onDelete:o,dragHandleProps:r,table:n,showLeadingOperator:a,leadingOperatorValue:s,onLeadingOperatorChange:i,isLeadingOperatorTargetLast:u})=>{let c=C=>{t({...e,column:C})},d=C=>{t({...e,operator:C})},f=C=>{let S=C.target.value,b=n.columns[e.column];if(b!==void 0){let R=HH(b,e.operator,S);t({...e,value:R})}},p=C=>{n.columns[e.column]!==void 0&&t({...e,value:C})},[m,y]=Rx(UH(n.columns[e.column],e.operator,e.value)),[g,v]=Rx(!0);sne(()=>{v(!1)},[]);let x=n.columns[e.column],w=x?.datatype.group==="enum";return vt(qe.div,{className:"flex items-center gap-2 w-full",initial:g?{opacity:0}:!1,animate:{opacity:1},exit:{opacity:0},transition:{layout:{duration:.12}},children:[vt("div",{className:"flex items-center gap-2 w-full",children:[Z("div",{...r,className:"cursor-grab",children:Z(td,{className:"text-gray-500",size:16})}),vt("div",{className:"flex items-center gap-2",children:[a&&i?Z(zH,{value:s,onValueChange:i,disabled:u}):null,vt(ha,{value:e.column,onValueChange:c,children:[Z(Nn,{className:"w-28 text-xs h-8",children:Z(ga,{placeholder:"Select column"})}),Z(_n,{children:Object.keys(n.columns).map(C=>Z(ut,{value:C,children:C},C))})]}),vt(ha,{value:e.operator,onValueChange:C=>d(C),children:[Z(Nn,{className:"w-20 text-xs h-8",children:Z(ga,{placeholder:"Operator"})}),vt(_n,{children:[Z(ut,{value:"=",children:"="}),Z(ut,{value:"!=",children:"!="}),Z(ut,{value:">",children:">"}),Z(ut,{value:">=",children:">="}),Z(ut,{value:"<",children:"<"}),Z(ut,{value:"<=",children:"<="}),Z(ut,{value:"is",children:"is"}),Z(ut,{value:"is not",children:"is not"}),Z(ut,{value:"like",children:"like"}),Z(ut,{value:"not like",children:"not like"}),Z(ut,{value:"ilike",children:"ilike"}),Z(ut,{value:"not ilike",children:"not ilike"})]})]}),w&&x?.datatype.options?vt(ha,{value:e.value,onValueChange:p,children:[Z(Nn,{className:"w-24 text-xs h-8 font-mono",children:Z(ga,{placeholder:"Select value"})}),Z(_n,{children:x.datatype.options.map(C=>Z(ut,{value:C,className:"font-mono text-xs",children:C},C))})]}):Z(Yo,{value:m,onChange:C=>{y(C.target.value),f(C)},placeholder:"value",className:"w-24 text-xs h-8"})]})]}),Z("div",{className:"flex items-center gap-2",children:Z(_e,{variant:"ghost",size:"icon",onClick:o,children:Z(as,{size:14})})})]})},W0=({group:e,onUpdate:t,onDelete:o,dragHandleProps:r,isRoot:n=!1,table:a,showLeadingOperator:s,leadingOperatorValue:i,onLeadingOperatorChange:u,isLeadingOperatorTargetLast:c})=>{let[d,f]=Rx(!0),[p,m]=Rx(null),y=()=>{let R={id:q0.default.generate(),kind:"ColumnFilter",column:Object.keys(a.columns)[0]??"",operator:"=",value:void 0,after:"and"};t({...e,filters:[...e.filters,R]})},g=()=>{let R={id:q0.default.generate(),kind:"FilterGroup",filters:[],after:"and"};t({...e,filters:[...e.filters,R]})},v=(R,P)=>{let M=[...e.filters];M[R]=P,t({...e,filters:M})},x=R=>{let P=[...e.filters];P.splice(R,1),t({...e,filters:P})},w=R=>{m(R.active.id)},C=()=>{m(null)},S=(R,P)=>{if(R===P)return;let M=$u(e.filters,R,P);t({...e,filters:M})},b=()=>d?!e.filters||e.filters.length===0?Z("div",{className:"text-xs text-muted-foreground py-1",children:"This group is empty. Add a filter or another group."}):Z(qe.div,{transition:{layout:{duration:.12}},children:Z("div",{className:W("flex flex-col relative gap-2",n?"":"pb-2"),children:Z(cne,{items:e.filters,parentGroupId:e.id,table:a,onUpdateItem:v,onDeleteItem:x,onReorderItems:S,activeDragId:p,onDragStart:w,onDragEndSignal:C})})}):null;return Z(qe.div,{className:"w-full",transition:{layout:{duration:.12}},children:vt("div",{className:W("flex flex-col w-full",d?"gap-2":""),children:[vt("div",{className:"flex items-center justify-between w-full",children:[vt("div",{className:"flex items-center gap-2",children:[!n&&Z("div",{...r,className:"cursor-grab",onClick:()=>f(!d),children:d?Z(Vr,{size:16}):Z(Ir,{size:16})}),s&&u&&!n&&Z("div",{className:"flex items-center",children:Z(zH,{value:i,onValueChange:u,disabled:c})}),vt(_e,{variant:"outline",size:"sm",onClick:y,className:W("flex items-center gap-2 overflow-hidden transition-all"),children:["Add Filter",e.filters.length>0&&Z(du,{className:"transition-all",children:Z(sf,{transition:{layout:{duration:.12}},children:e.filters.length})})]}),Z(_e,{variant:"outline",size:"sm",onClick:g,className:"flex items-center gap-1",children:"Add Group"})]}),vt("div",{className:"flex items-center gap-2",children:[n&&vt(Xy,{children:[Z(Qy,{asChild:!0,children:Z(_e,{variant:"ghost",size:"icon",children:Z(es,{className:"size-4"})})}),Z(Uf,{align:"center",className:"w-full",children:e.filters.length===0?Z("div",{className:"p-4 text-center text-sm text-neutral-600",children:"No filters applied yet. Add filters to preview your query."}):Z("div",{className:"p-2 text-center text-sm bg-neutral-100 rounded-sm font-mono",children:Z(WH,{filter:e})})})]}),!n&&Z(_e,{variant:"ghost",size:"icon",onClick:o,children:Z(as,{size:14})})]})]}),Z("div",{className:W(n?"":"ml-6"),children:b()})]})})},WH=({filter:e})=>{let t=0;if(e.filters.length===0)return"( )";let o=e.filters.map((r,n)=>{let a,s=e.filters.length-1===n;if(t===-1&&(t=0),r.after==="and"&&!s&&(t+=1),t&&(s||r.after==="or")&&(t=-1),r.kind==="ColumnFilter"){let{column:i,operator:u}=r;a=vt(GH,{children:[vt("span",{children:[" ",i," "]}),vt("span",{children:[" ",u," "]}),Z("span",{children:" ? "})]})}else a=Z(WH,{filter:r});return vt(ane,{children:[t===1?Z("span",{className:"font-semibold",children:"("}):"",a,t===-1?Z("span",{className:"font-semibold",children:")"}):"",!s&&vt("span",{className:"uppercase text-blue-500 font-semibold",children:[" ",r.after," "]})]},r.id)});return Z("span",{children:o})};function $H({filter:e,setFilter:t,setAppliedFilter:o,table:r}){let n=()=>{o(e)},a=()=>{let s={...e,filters:[]};t(s),o(s)};return vt("div",{className:"flex flex-col gap-4 min-w-[368px]",children:[Z(W0,{group:e,onUpdate:t,onDelete:()=>{},isRoot:!0,table:r}),vt("div",{className:"flex self-end gap-2 items-center",children:[e.filters.length>0&&Z(_e,{variant:"outline",size:"sm",onClick:a,children:"Clear Filters"}),Z(_e,{variant:"default",size:"sm",onClick:n,children:"Apply Filters"})]})]})}l();import{Fragment as fne,jsx as ec}from"react/jsx-runtime";function jH(e){let{table:t,stagedRows:o,setStagedRows:r}=e,n=!!Jg();function a(u,c){r(d=>{let f=[...d];return f[u]={...f[u],...c},f})}let s=Object.values(t.options.columns).map(u=>u.id==="__ps_select"?{...u,cell(){return()=>ec(Sf,{cellComponent:ec(Sy,{}),linkComponent:null,inputComponent:null})}}:{...u,cell({cell:c}){return d=>ec(Sf,{cellComponent:by({cell:c,column:u.meta}),linkComponent:null,inputComponent:Ix({cell:c,column:u.meta,onSubmit(f){a(d.rowIndex,{[u.id]:f})},readonly:n})})}}),i=Ky({...t.options,columns:s,enableSorting:!1,onPaginationChange:void 0,onSortingChange:void 0,data:o,state:pb(t.options.state,["pagination","sorting"])});return ec(fne,{children:i.getRowModel().rows.map((u,c)=>ec(_i,{children:u.getVisibleCells().map((d,f)=>{if(typeof d.column.columnDef.cell=="function"){let p=d.column.columnDef.cell(d.getContext());return ec(p,{...Vf(d.column,"cell"),rowIndex:c},f)}return null})},c))})}import{Fragment as $0,jsx as wt,jsxs as Qf}from"react/jsx-runtime";function KH(e){let t=!!Ac(),{metadata:{activeTable:o}}=Ge(),{sortingState:r,setSortingState:n}=R_(),{paginationState:a,setPaginationState:s}=ey(),[i,u]=mne([]),{appliedFilter:c,setAppliedFilter:d,editingFilter:f,setEditingFilter:p,totalEditingFilters:m}=xE(),{refetch:y}=Tn(),{data:g,isFetching:v,refetch:x}=C_({...a,sortOrder:r,filter:c}),{deleteSelection:w,isSelecting:C,rowSelectionState:S,setRowSelectionState:b}=I_(g),R=!Object.values(o?.columns??{}).some(E=>E.isInPrimaryKey),P=Jg(),M=w_(),T=S_();if(pne(()=>u([]),[o]),!o)return null;function _(){M.mutate(i,{onSuccess(){zl.success("Rows inserted successfully"),u([])}})}async function F(){await y(),await x()}function k(){u(E=>[...E,{}])}function N(){u([])}function I(E,V,B){T.mutate({details:{changes:{[V.name]:E},row:B,table:o},options:{}})}function A(E){E===!0?p(c):d(f)}let L=Object.values(o?.columns??{}).map(E=>({id:E.name,accessorKey:E.name,meta:E,header({table:V,header:B}){return U=>wt(uB,{table:V,header:B,...U,children:wt(TB,{header:B,column:E})})},cell({cell:V}){return B=>wt(Sf,{containerProps:B,cellComponent:by({cell:V,column:E}),linkComponent:VH({cell:V,column:E}),inputComponent:Ix({cell:V,column:E,readonly:R,onSubmit(U){return I(U,E,V.row.original)}})})}})),D=[{id:"__ps_select",accessorKey:"__ps_select",enablePinning:!0,enableResizing:!1,enableSorting:!1,size:35,minSize:35,header({table:E}){return V=>wt(uf,{...V,children:wt(BF,{table:E,readonly:R})})},cell({row:E}){return V=>wt(yf,{"data-select":"true",...V,children:wt(VF,{row:E,readonly:R})})}}],O=[...L,...D].sort(gne);return Qf($0,{children:[Qf(cu,{endContent:wt(_e,{variant:"outline",size:"icon",onClick:()=>void F(),disabled:v,children:wt(ud,{className:W("h-4 w-4",v&&"animate-spin")})}),children:[Qf(y_,{onOpenChange:A,children:[wt(x_,{asChild:!0,children:wt(_e,{variant:"outline",size:"icon",className:W(m>0&&"border-primary"),children:Qf("span",{className:"flex items-center gap-2",children:[wt(ed,{}),m>0&&wt(du,{children:wt(sf,{transition:{layout:{duration:.12}},children:m})})]})})}),wt(kS,{align:"start",side:"bottom",className:"w-max max-h-[520px] overflow-y-auto",children:wt($H,{filter:f,setFilter:p,setAppliedFilter:E=>{p(E),d(E)},table:o})})]}),wt(_e,{variant:"outline",size:"sm",onClick:k,disabled:P>0,children:"Insert row"}),i.length>0&&Qf($0,{children:[wt(_e,{variant:"secondary",size:"sm",onClick:_,children:"Save"}),wt(_e,{variant:"ghost",size:"sm",onClick:N,children:"Cancel"})]}),C&&wt($0,{children:wt(_e,{variant:"secondary",size:"sm",onClick:w,children:"Delete"})})]}),wt(iB,{columnDefs:O,getBeforeRows:E=>wt(jH,{table:E,stagedRows:i,setStagedRows:u}),isFetching:v,isProcessing:t,onPaginationChange:s,onRowSelectionChange:b,onSortingChange:n,pageCount:hne(g?.filteredRowCount??1/0,a.pageSize),paginationState:a,rows:g?.rows??[],rowSelectionState:S,sortingState:r})]})}function hne(e,t){if(e===1/0)return;let o=Number((BigInt(e)+BigInt(t)-BigInt(1))/BigInt(t));return Number.isSafeInteger(o)?o:Number.MAX_SAFE_INTEGER}function gne(e,t){let o=e.meta,r=t.meta;return e.id==="__ps_select"||t.id==="__ps_select"?1:o===void 0||r===void 0?0:o.isInPrimaryKey&&!r.isInPrimaryKey?-1:!o.isInPrimaryKey&&r.isInPrimaryKey?1:o.name.localeCompare(r.name)}l();import{jsx as yne}from"react/jsx-runtime";function G0(e){return yne("div",{children:"This view was incorrectly loaded, please report this bug."})}import{jsx as jn,jsxs as Cne}from"react/jsx-runtime";function xne(e){let{adapter:t,onEvent:o,theme:r}=e;return t?jn(rE,{adapter:t,onEvent:o,theme:r,children:jn(wne,{})}):(console.error("No adapter provided to Studio component"),jn("div",{children:"Error: No adapter provided"}))}var vne={schema:jN,table:KH,console:fA,default:G0};function wne(){let{isFullscreen:e,isNavigationOpen:t}=ao(),{viewParam:o}=Ge(),r=W("flex flex-col w-full h-full",e&&"fixed inset-0 z-900 bg-background p-2"),n=vne[o??"default"]??G0;return jn("div",{className:"ps",style:{width:"100%",height:"100%"},children:jn("div",{"data-fullscreen":e,className:r,children:Cne("div",{className:"flex gap-0 bg-background relative min-h-full rounded-lg",children:[jn(Zr,{mode:"wait",children:t&&jn(qe.div,{initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:{width:0,opacity:0},transition:{duration:.14},children:jn(Lr,{})})}),jn(qe.div,{className:"flex w-full bg-secondary flex-col p-px rounded-lg self-start h-full min-h-full max-h-full overflow-clip",transition:{duration:.14},children:jn(n,{})})]})})})}export{xne as Studio,XM as parseThemeFromCSS};
/*! Bundled license information:

use-sync-external-store/cjs/use-sync-external-store-shim.development.js:
  (**
   * @license React
   * use-sync-external-store-shim.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/shared/src/utils.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/defaultAttributes.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/Icon.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/createLucideIcon.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-down-wide-narrow.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-right.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-up-wide-narrow.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/check.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-down.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-left.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-right.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-up.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevrons-left.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevrons-right.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-alert.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-check-big.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-help.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/copy.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/corner-down-left.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/filter.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/grip-vertical.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/key-round.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/key.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/maximize.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/minimize.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/move-down.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/move-up.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/panel-left-close.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/panel-left-open.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pin-off.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pin.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/refresh-cw.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square-arrow-right.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/table-2.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/triangle-alert.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/x.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.466.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tanstack/table-core/build/lib/index.mjs:
  (**
     * table-core
     *
     * Copyright (c) TanStack
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     *)

@tanstack/react-table/build/lib/index.mjs:
  (**
     * react-table
     *
     * Copyright (c) TanStack
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3V1aWRAOS4wLjEvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9jb21tb25qcy1icm93c2VyL3JuZy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXVpZEA5LjAuMS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2NvbW1vbmpzLWJyb3dzZXIvcmVnZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3V1aWRAOS4wLjEvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9jb21tb25qcy1icm93c2VyL3ZhbGlkYXRlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvY29tbW9uanMtYnJvd3Nlci9zdHJpbmdpZnkuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3V1aWRAOS4wLjEvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9jb21tb25qcy1icm93c2VyL3YxLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvY29tbW9uanMtYnJvd3Nlci9wYXJzZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXVpZEA5LjAuMS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2NvbW1vbmpzLWJyb3dzZXIvdjM1LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvY29tbW9uanMtYnJvd3Nlci9tZDUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3V1aWRAOS4wLjEvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9jb21tb25qcy1icm93c2VyL3YzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvY29tbW9uanMtYnJvd3Nlci9uYXRpdmUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3V1aWRAOS4wLjEvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9jb21tb25qcy1icm93c2VyL3Y0LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvY29tbW9uanMtYnJvd3Nlci9zaGExLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvY29tbW9uanMtYnJvd3Nlci92NS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXVpZEA5LjAuMS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2NvbW1vbmpzLWJyb3dzZXIvbmlsLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvY29tbW9uanMtYnJvd3Nlci92ZXJzaW9uLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvY29tbW9uanMtYnJvd3Nlci9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYW55LWJhc2VAMS4xLjAvbm9kZV9tb2R1bGVzL2FueS1iYXNlL3NyYy9jb252ZXJ0ZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FueS1iYXNlQDEuMS4wL25vZGVfbW9kdWxlcy9hbnktYmFzZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2hvcnQtdXVpZEA1LjIuMC9ub2RlX21vZHVsZXMvc2hvcnQtdXVpZC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmVAMS4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS9janMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtc2hpbS5kZXZlbG9wbWVudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmVAMS4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS9zaGltL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91c2Utc3luYy1leHRlcm5hbC1zdG9yZUAxLjIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlL2Nqcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS1zaGltL3dpdGgtc2VsZWN0b3IuZGV2ZWxvcG1lbnQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlQDEuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvc2hpbS93aXRoLXNlbGVjdG9yLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXlqc0AxLjExLjEzL25vZGVfbW9kdWxlcy9kYXlqcy9kYXlqcy5taW4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RheWpzQDEuMTEuMTMvbm9kZV9tb2R1bGVzL2RheWpzL3BsdWdpbi9sb2NhbGl6ZWRGb3JtYXQuanMiLCAiLi4vLi4vdWkvaW5kZXgudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9TdHVkaW8udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24vbGliL3JlYWN0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZVByZXNlbmNlL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1jb25zdGFudC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtaXNvbW9ycGhpYy1lZmZlY3QubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaXMtYnJvd3Nlci5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS9QcmVzZW5jZUNoaWxkLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvUHJlc2VuY2VDb250ZXh0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZVByZXNlbmNlL1BvcENoaWxkLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvTW90aW9uQ29uZmlnQ29udGV4dC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS91c2UtcHJlc2VuY2UubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvdXRpbHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9MYXlvdXRHcm91cC9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L0RlcHJlY2F0ZWRMYXlvdXRHcm91cENvbnRleHQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLWZvcmNlLXVwZGF0ZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtaXMtbW91bnRlZC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3AvZnJhbWUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvZnJhbWVsb29wL2JhdGNoZXIubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvZnJhbWVsb29wL29yZGVyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9yZW5kZXItc3RlcC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9zdGF0cy9idWZmZXIubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tdXRpbHMvZGlzdC9lcy9nbG9iYWwtY29uZmlnLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvbm9vcC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvZ3JvdXAubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9MYXp5Q29udGV4dC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvbG9hZC1mZWF0dXJlcy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvZGVmaW5pdGlvbnMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9Nb3Rpb25Db25maWcvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9maWx0ZXItcHJvcHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3ZhbGlkLXByb3AubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2NvbXBvbmVudHMvY3JlYXRlLXByb3h5Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvd2Fybi1vbmNlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9jb21wb25lbnRzL2NyZWF0ZS1mYWN0b3J5Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9Nb3Rpb25Db250ZXh0L2NyZWF0ZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbnRleHQvdXRpbHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2lzLWNvbnRyb2xsaW5nLXZhcmlhbnRzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2lzLXZhcmlhbnQtbGFiZWwubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL3ZhcmlhbnQtcHJvcHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3N5bWJvbC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvdXNlLW1vdGlvbi1yZWYubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaXMtcmVmLW9iamVjdC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvdXNlLXZpc3VhbC1lbGVtZW50Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9vcHRpbWl6ZWQtYXBwZWFyL2RhdGEtaWQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9jYW1lbC10by1kYXNoLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9taWNyb3Rhc2subWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lcnJvcnMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91c2UtcmVuZGVyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3VzZS1wcm9wcy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvaXMtZm9yY2VkLW1vdGlvbi12YWx1ZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1jb3JyZWN0aW9uLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1jc3MtdmFyaWFibGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2tleXMtdHJhbnNmb3JtLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy9idWlsZC1zdHlsZXMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXRpbHMvYnVpbGQtdHJhbnNmb3JtLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL3V0aWxzL2dldC1hcy10eXBlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL21hcHMvbnVtYmVyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL2ludC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9udW1iZXJzL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvY2xhbXAubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvbnVtYmVycy91bml0cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9tYXBzL3RyYW5zZm9ybS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy9jcmVhdGUtcmVuZGVyLXN0YXRlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXRpbHMvaXMtc3ZnLWNvbXBvbmVudC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL2xvd2VyY2FzZS1lbGVtZW50cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3VzZS1wcm9wcy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL2J1aWxkLWF0dHJzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvcGF0aC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy91dGlscy9pcy1zdmctdGFnLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL2NvbmZpZy1tb3Rpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3VzZS12aXN1YWwtc3RhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL3Jlc29sdmUtdmFyaWFudHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXRpbHMvcmVzb2x2ZS1tb3Rpb24tdmFsdWUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy9jb25maWctbW90aW9uLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2NvbXBvbmVudHMvbW90aW9uL3Byb3h5Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9jb21wb25lbnRzL21vdGlvbi9jcmVhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2FuaW1hdGlvbnMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2FuaW1hdGlvbi9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvYW5pbWF0aW9uLXN0YXRlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9pbnRlcmZhY2VzL3Zpc3VhbC1lbGVtZW50Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9yZXNvbHZlLWR5bmFtaWMtdmFyaWFudHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2ludGVyZmFjZXMvdmlzdWFsLWVsZW1lbnQtdGFyZ2V0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9zZXR0ZXJzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1rZXlmcmFtZXMtdGFyZ2V0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9zeW5jLXRpbWUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tdXRpbHMvZGlzdC9lcy9zdWJzY3JpcHRpb24tbWFuYWdlci5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi11dGlscy9kaXN0L2VzL2FycmF5Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvdmVsb2NpdHktcGVyLXNlY29uZC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2Utd2lsbC1jaGFuZ2UvYWRkLXdpbGwtY2hhbmdlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3VzZS13aWxsLWNoYW5nZS9pcy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vb3B0aW1pemVkLWFwcGVhci9nZXQtYXBwZWFyLWlkLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9pbnRlcmZhY2VzL21vdGlvbi12YWx1ZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vYW5pbWF0b3JzL3dhYXBpL3V0aWxzL2dldC1maW5hbC1rZXlmcmFtZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvZGVmYXVsdC10cmFuc2l0aW9ucy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvaXMtdHJhbnNpdGlvbi1kZWZpbmVkLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9nZXQtdmFsdWUtdHJhbnNpdGlvbi5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi11dGlscy9kaXN0L2VzL3RpbWUtY29udmVyc2lvbi5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vQXN5bmNNb3Rpb25WYWx1ZUFuaW1hdGlvbi5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vSlNBbmltYXRpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvc3RhdHMvYW5pbWF0aW9uLWNvdW50Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL21peC9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9taXgvY29tcGxleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9jb2xvci9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9jb2xvci9oZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvY29sb3IvcmdiYS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy91dGlscy9zYW5pdGl6ZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9jb2xvci91dGlscy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy91dGlscy9mbG9hdC1yZWdleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy91dGlscy9pcy1udWxsaXNoLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL3V0aWxzL3NpbmdsZS1jb2xvci1yZWdleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9jb2xvci9oc2xhLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbXBsZXgvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvdXRpbHMvY29sb3ItcmVnZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvbWl4L2NvbG9yLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbG9yL2hzbGEtdG8tcmdiYS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9taXgvaW1tZWRpYXRlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL21peC9udW1iZXIubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvbWl4L3Zpc2liaWxpdHkubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tdXRpbHMvZGlzdC9lcy9waXBlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9kcml2ZXJzL2RyaXZlci1mcmFtZWxvb3AubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2dlbmVyYXRvcnMvaW5lcnRpYS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy9zcHJpbmcvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL3dhYXBpL3V0aWxzL2xpbmVhci5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy91dGlscy9jYWxjLWR1cmF0aW9uLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9nZW5lcmF0b3JzL3V0aWxzL2NyZWF0ZS1nZW5lcmF0b3ItZWFzaW5nLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9nZW5lcmF0b3JzL3V0aWxzL3ZlbG9jaXR5Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9nZW5lcmF0b3JzL3NwcmluZy9kZWZhdWx0cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy9zcHJpbmcvZmluZC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy9rZXlmcmFtZXMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvaW50ZXJwb2xhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tdXRpbHMvZGlzdC9lcy9wcm9ncmVzcy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24va2V5ZnJhbWVzL29mZnNldHMvZGVmYXVsdC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24va2V5ZnJhbWVzL29mZnNldHMvZmlsbC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24va2V5ZnJhbWVzL29mZnNldHMvdGltZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy9lYXNlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2N1YmljLWJlemllci5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy91dGlscy9pcy1lYXNpbmctYXJyYXkubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lYXNpbmcvdXRpbHMvbWFwLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2FudGljaXBhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lYXNpbmcvYmFjay5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy9tb2RpZmllcnMvbWlycm9yLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL21vZGlmaWVycy9yZXZlcnNlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2NpcmMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lYXNpbmcvdXRpbHMvaXMtYmV6aWVyLWRlZmluaXRpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2tleWZyYW1lcy9nZXQtZmluYWwubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL3JlcGxhY2UtdHJhbnNpdGlvbi10eXBlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9XaXRoUHJvbWlzZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24va2V5ZnJhbWVzL0tleWZyYW1lc1Jlc29sdmVyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9rZXlmcmFtZXMvdXRpbHMvZmlsbC13aWxkY2FyZHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2tleWZyYW1lcy91dGlscy91bml0LWNvbnZlcnNpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL2RvbS9wYXJzZS10cmFuc2Zvcm0ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL05hdGl2ZUFuaW1hdGlvbkV4dGVuZGVkLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9OYXRpdmVBbmltYXRpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL2RvbS9zdHlsZS1zZXQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL2RvbS9pcy1jc3MtdmFyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL3N1cHBvcnRzL3Njcm9sbC10aW1lbGluZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi11dGlscy9kaXN0L2VzL21lbW8ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL3dhYXBpL3N0YXJ0LXdhYXBpLWFuaW1hdGlvbi5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vd2FhcGkvZWFzaW5nL21hcC1lYXNpbmcubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvc3VwcG9ydHMvbGluZWFyLWVhc2luZy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9zdXBwb3J0cy9tZW1vLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL3N1cHBvcnRzL2ZsYWdzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS9lYXNpbmcvY3ViaWMtYmV6aWVyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS9lYXNpbmcvc3VwcG9ydGVkLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS91dGlscy9hcHBseS1nZW5lcmF0b3IubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2dlbmVyYXRvcnMvdXRpbHMvaXMtZ2VuZXJhdG9yLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS91dGlscy91bnN1cHBvcnRlZC1lYXNpbmcubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2Nhbi1hbmltYXRlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRhYmxlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS9zdXBwb3J0cy93YWFwaS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9yZW5kZXIvdXRpbHMva2V5cy1wb3NpdGlvbi5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vaW50ZXJmYWNlcy92aXN1YWwtZWxlbWVudC12YXJpYW50Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3NoYWxsb3ctY29tcGFyZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvZ2V0LXZhcmlhbnQtY29udGV4dC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvRmVhdHVyZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvYW5pbWF0aW9uL2V4aXQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2RyYWcubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9kcmFnL1Zpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZXZlbnRzL2FkZC1kb20tZXZlbnQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZXZlbnRzL2FkZC1wb2ludGVyLWV2ZW50Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2V2ZW50cy9ldmVudC1pbmZvLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2dlc3R1cmVzL3V0aWxzL2lzLXByaW1hcnktcG9pbnRlci5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L2NvbnZlcnNpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9kZWx0YS1jYWxjLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvbW9kZWxzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vdXRpbHMvZWFjaC1heGlzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vdXRpbHMvbWVhc3VyZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLWFwcGx5Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vdXRpbHMvaGFzLXRyYW5zZm9ybS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9nZXQtY29udGV4dC13aW5kb3cubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvcGFuL1BhblNlc3Npb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvZGlzdGFuY2UubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy91dGlscy9jb25zdHJhaW50cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9nZXN0dXJlcy9kcmFnL3N0YXRlL3NldC1hY3RpdmUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy9zdGF0ZS9pcy1hY3RpdmUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvcGFuL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9sYXlvdXQvTWVhc3VyZUxheW91dC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvc3RhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9zdHlsZXMvc2NhbGUtYm9yZGVyLXJhZGl1cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1ib3gtc2hhZG93Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vbm9kZS9IVE1MUHJvamVjdGlvbk5vZGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9ub2RlL2NyZWF0ZS1wcm9qZWN0aW9uLW5vZGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2FuaW1hdGUvc2luZ2xlLXZhbHVlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXRpbHMvaXMtc3ZnLWVsZW1lbnQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2ZsYXQtdHJlZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvY29tcGFyZS1ieS1kZXB0aC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9kZWxheS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2FuaW1hdGlvbi9taXgtdmFsdWVzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvY29weS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLXJlbW92ZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L3V0aWxzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vc2hhcmVkL3N0YWNrLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vc3R5bGVzL3RyYW5zZm9ybS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvRG9jdW1lbnRQcm9qZWN0aW9uTm9kZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvZ2VzdHVyZXMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvaG92ZXIubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvaG92ZXIubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvdXRpbHMvc2V0dXAubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvcmVzb2x2ZS1lbGVtZW50cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9mb2N1cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9wcmVzcy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9nZXN0dXJlcy9wcmVzcy9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9nZXN0dXJlcy91dGlscy9pcy1ub2RlLW9yLWNoaWxkLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2dlc3R1cmVzL3ByZXNzL3V0aWxzL2lzLWtleWJvYXJkLWFjY2Vzc2libGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvcHJlc3MvdXRpbHMva2V5Ym9hcmQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvcHJlc3MvdXRpbHMvc3RhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL3ZpZXdwb3J0L2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy92aWV3cG9ydC9vYnNlcnZlcnMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2xheW91dC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL2NyZWF0ZS12aXN1YWwtZWxlbWVudC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC9IVE1MVmlzdWFsRWxlbWVudC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL0RPTVZpc3VhbEVsZW1lbnQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL1Zpc3VhbEVsZW1lbnQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvcmVkdWNlZC1tb3Rpb24vaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvcmVkdWNlZC1tb3Rpb24vc3RhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N0b3JlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9tb3Rpb24tdmFsdWVzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvaXMtbnVtZXJpY2FsLXN0cmluZy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi11dGlscy9kaXN0L2VzL2lzLXplcm8tdmFsdWUtc3RyaW5nLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL3V0aWxzL2ZpbmQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvZGltZW5zaW9ucy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9hdXRvLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL3Rlc3QubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvdXRpbHMvYW5pbWF0YWJsZS1ub25lLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbXBsZXgvZmlsdGVyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL21hcHMvZGVmYXVsdHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2tleWZyYW1lcy9ET01LZXlmcmFtZXNSZXNvbHZlci5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvY3NzLXZhcmlhYmxlcy1jb252ZXJzaW9uLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9rZXlmcmFtZXMvdXRpbHMvaXMtbm9uZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24va2V5ZnJhbWVzL3V0aWxzL21ha2Utbm9uZS1hbmltYXRhYmxlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3V0aWxzL3JlbmRlci5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL1NWR1Zpc3VhbEVsZW1lbnQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy91dGlscy9jYW1lbC1jYXNlLWF0dHJzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvcmVuZGVyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9hbmltYXRlL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9hbmltYXRlL3NlcXVlbmNlLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9zZXF1ZW5jZS9jcmVhdGUubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2FuaW1hdGUvcmVzb2x2ZS1zdWJqZWN0cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvaXMtZG9tLWtleWZyYW1lcy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vc2VxdWVuY2UvdXRpbHMvY2FsYy1yZXBlYXQtZHVyYXRpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL3NlcXVlbmNlL3V0aWxzL2NhbGMtdGltZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vc2VxdWVuY2UvdXRpbHMvZWRpdC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy91dGlscy9nZXQtZWFzaW5nLWZvci1zZWdtZW50Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvbW90aW9uLXV0aWxzL2Rpc3QvZXMvd3JhcC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vc2VxdWVuY2UvdXRpbHMvbm9ybWFsaXplLXRpbWVzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9zZXF1ZW5jZS91dGlscy9zb3J0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uQDEyLjkuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uL2Rpc3QvZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9hbmltYXRlL3N1YmplY3QubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2NyZWF0ZS12aXN1YWwtZWxlbWVudC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbkAxMi45LjJfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi9kaXN0L2VzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvb2JqZWN0L09iamVjdFZpc3VhbEVsZW1lbnQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL0dyb3VwQW5pbWF0aW9uV2l0aFRoZW4ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb25AMTIuOS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24vZGlzdC9lcy9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL0dyb3VwQW5pbWF0aW9uLm1qcyIsICIuLi8uLi91aS9ob29rcy91c2UtbmF2aWdhdGlvbi50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL2NvbnRleHQudHN4IiwgIi4uLy4uLy4uLy4uL2NoZWNrcG9pbnQvY2xpZW50L3NyYy9pbmRleC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3RkLWVudkAzLjkuMC9ub2RlX21vZHVsZXMvc3RkLWVudi9kaXN0L2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9jaGVja3BvaW50L2NsaWVudC9zcmMvcmZjMzMzOS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3F1ZXJ5LWNvcmVANS43Mi4yL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9zcmMvc3Vic2NyaWJhYmxlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srcXVlcnktY29yZUA1LjcyLjIvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL3NyYy91dGlscy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3F1ZXJ5LWNvcmVANS43Mi4yL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9zcmMvZm9jdXNNYW5hZ2VyLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srcXVlcnktY29yZUA1LjcyLjIvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL3NyYy9vbmxpbmVNYW5hZ2VyLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srcXVlcnktY29yZUA1LjcyLjIvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL3NyYy90aGVuYWJsZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3F1ZXJ5LWNvcmVANS43Mi4yL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9zcmMvcmV0cnllci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3F1ZXJ5LWNvcmVANS43Mi4yL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9zcmMvbm90aWZ5TWFuYWdlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3F1ZXJ5LWNvcmVANS43Mi4yL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9zcmMvcmVtb3ZhYmxlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srcXVlcnktY29yZUA1LjcyLjIvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL3NyYy9xdWVyeS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3F1ZXJ5LWNvcmVANS43Mi4yL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9zcmMvcXVlcnlDYWNoZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3F1ZXJ5LWNvcmVANS43Mi4yL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9zcmMvbXV0YXRpb24udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjaytxdWVyeS1jb3JlQDUuNzIuMi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvc3JjL211dGF0aW9uQ2FjaGUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjaytxdWVyeS1jb3JlQDUuNzIuMi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvc3JjL2luZmluaXRlUXVlcnlCZWhhdmlvci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3F1ZXJ5LWNvcmVANS43Mi4yL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9zcmMvcXVlcnlDbGllbnQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjaytxdWVyeS1jb3JlQDUuNzIuMi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvc3JjL3F1ZXJ5T2JzZXJ2ZXIudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjaytxdWVyeS1jb3JlQDUuNzIuMi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvc3JjL211dGF0aW9uT2JzZXJ2ZXIudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjaytyZWFjdC1xdWVyeUA1LjcyLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcmVhY3QtcXVlcnkvc3JjL1F1ZXJ5Q2xpZW50UHJvdmlkZXIudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srcmVhY3QtcXVlcnlANS43Mi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5L3NyYy9pc1Jlc3RvcmluZy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3JlYWN0LXF1ZXJ5QDUuNzIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9yZWFjdC1xdWVyeS9zcmMvUXVlcnlFcnJvclJlc2V0Qm91bmRhcnkudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srcmVhY3QtcXVlcnlANS43Mi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5L3NyYy9lcnJvckJvdW5kYXJ5VXRpbHMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjaytyZWFjdC1xdWVyeUA1LjcyLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcmVhY3QtcXVlcnkvc3JjL3V0aWxzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srcmVhY3QtcXVlcnlANS43Mi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5L3NyYy9zdXNwZW5zZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3JlYWN0LXF1ZXJ5QDUuNzIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9yZWFjdC1xdWVyeS9zcmMvdXNlQmFzZVF1ZXJ5LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srcmVhY3QtcXVlcnlANS43Mi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5L3NyYy91c2VRdWVyeS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3JlYWN0LXF1ZXJ5QDUuNzIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9yZWFjdC1xdWVyeS9zcmMvdXNlTXV0YXRpb25TdGF0ZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3JlYWN0LXF1ZXJ5QDUuNzIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9yZWFjdC1xdWVyeS9zcmMvdXNlTXV0YXRpb24udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Nvbm5lckAyLjAuM19yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvc29ubmVyL2Rpc3QvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdGQtZW52QDMuOC4xL25vZGVfbW9kdWxlcy9zdGQtZW52L2Rpc3QvaW5kZXgubWpzIiwgIi4uLy4uL3VpL2NvbXBvbmVudHMvdWkvc29ubmVyLnRzeCIsICIuLi8uLi91aS9ob29rcy91c2UtdGhlbWUudHMiLCAiLi4vLi4vdWkvc3R1ZGlvL051cXNIYXNoQWRhcHRlci50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL251cXNAMi40LjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9udXFzL2Rpc3QvYWRhcHRlcnMvY3VzdG9tLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9udXFzQDIuNC4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2NodW5rLTVXV1RKWUdSLmpzIiwgIi4uLy4uL3VpL2hvb2tzL251cXMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL251cXNAMi40LjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9udXFzL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL251cXNAMi40LjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9udXFzL2Rpc3QvY2h1bmstNllLQUVYRFcuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pdHRAMy4wLjEvbm9kZV9tb2R1bGVzL21pdHQvc3JjL2luZGV4LnRzIiwgIi4uLy4uL3VpL2hvb2tzL3VzZS1maWx0ZXJpbmcudHMiLCAiLi4vLi4vdWkvaG9va3MvdXNlLWludHJvc3BlY3Rpb24udHMiLCAiLi4vLi4vdWkvbGliL3V0aWxzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9jbHN4QDIuMS4xL25vZGVfbW9kdWxlcy9jbHN4L2Rpc3QvY2xzeC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3RhaWx3aW5kLW1lcmdlQDIuNS4yL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9zcmMvbGliL2NsYXNzLWdyb3VwLXV0aWxzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS90YWlsd2luZC1tZXJnZUAyLjUuMi9ub2RlX21vZHVsZXMvdGFpbHdpbmQtbWVyZ2Uvc3JjL2xpYi9scnUtY2FjaGUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3RhaWx3aW5kLW1lcmdlQDIuNS4yL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9zcmMvbGliL3BhcnNlLWNsYXNzLW5hbWUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3RhaWx3aW5kLW1lcmdlQDIuNS4yL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9zcmMvbGliL2NvbmZpZy11dGlscy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdGFpbHdpbmQtbWVyZ2VAMi41LjIvbm9kZV9tb2R1bGVzL3RhaWx3aW5kLW1lcmdlL3NyYy9saWIvbWVyZ2UtY2xhc3NsaXN0LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS90YWlsd2luZC1tZXJnZUAyLjUuMi9ub2RlX21vZHVsZXMvdGFpbHdpbmQtbWVyZ2Uvc3JjL2xpYi90dy1qb2luLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS90YWlsd2luZC1tZXJnZUAyLjUuMi9ub2RlX21vZHVsZXMvdGFpbHdpbmQtbWVyZ2Uvc3JjL2xpYi9jcmVhdGUtdGFpbHdpbmQtbWVyZ2UudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3RhaWx3aW5kLW1lcmdlQDIuNS4yL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9zcmMvbGliL2Zyb20tdGhlbWUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3RhaWx3aW5kLW1lcmdlQDIuNS4yL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9zcmMvbGliL3ZhbGlkYXRvcnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3RhaWx3aW5kLW1lcmdlQDIuNS4yL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9zcmMvbGliL2RlZmF1bHQtY29uZmlnLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS90YWlsd2luZC1tZXJnZUAyLjUuMi9ub2RlX21vZHVsZXMvdGFpbHdpbmQtbWVyZ2Uvc3JjL2xpYi9tZXJnZS1jb25maWdzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS90YWlsd2luZC1tZXJnZUAyLjUuMi9ub2RlX21vZHVsZXMvdGFpbHdpbmQtbWVyZ2Uvc3JjL2xpYi9leHRlbmQtdGFpbHdpbmQtbWVyZ2UudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3RhaWx3aW5kLW1lcmdlQDIuNS4yL25vZGVfbW9kdWxlcy90YWlsd2luZC1tZXJnZS9zcmMvbGliL3R3LW1lcmdlLnRzIiwgIi4uLy4uL3VpL3N0dWRpby9OYXZpZ2F0aW9uLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXNsb3RAMS4xLjJfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1zbG90L3NyYy9zbG90LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LWNvbXBvc2UtcmVmc0AxLjEuMV9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmcy9zcmMvY29tcG9zZVJlZnMudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9sdWNpZGUtcmVhY3QuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvc2hhcmVkL3NyYy91dGlscy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2RlZmF1bHRBdHRyaWJ1dGVzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvSWNvbi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2NyZWF0ZUx1Y2lkZUljb24udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9hcnJvdy1kb3duLXdpZGUtbmFycm93LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvYXJyb3ctcmlnaHQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9hcnJvdy11cC13aWRlLW5hcnJvdy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL2NoZWNrLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvY2hldnJvbi1kb3duLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvY2hldnJvbi1sZWZ0LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvY2hldnJvbi1yaWdodC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL2NoZXZyb24tdXAudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9jaGV2cm9ucy1sZWZ0LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvY2hldnJvbnMtcmlnaHQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9jaXJjbGUtYWxlcnQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9jaXJjbGUtY2hlY2stYmlnLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvY2lyY2xlLWhlbHAudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9jaXJjbGUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9jb3B5LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvY29ybmVyLWRvd24tbGVmdC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL2ZpbHRlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL2dyaXAtdmVydGljYWwudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9rZXktcm91bmQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9rZXkudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9tYXhpbWl6ZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL21pbmltaXplLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvbW92ZS1kb3duLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvbW92ZS11cC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL3BhbmVsLWxlZnQtY2xvc2UudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9wYW5lbC1sZWZ0LW9wZW4udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy9waW4tb2ZmLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvcGluLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sdWNpZGUtcmVhY3RAMC40NjYuMF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9zcmMvaWNvbnMvcmVmcmVzaC1jdy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL3NxdWFyZS1hcnJvdy1yaWdodC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL3NxdWFyZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL3RhYmxlLTIudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2x1Y2lkZS1yZWFjdEAwLjQ2Ni4wX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L3NyYy9pY29ucy90cmlhbmdsZS1hbGVydC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbHVjaWRlLXJlYWN0QDAuNDY2LjBfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3Qvc3JjL2ljb25zL3gudHMiLCAiLi4vLi4vdWkvY29tcG9uZW50cy91aS9zZWxlY3QudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3Qtc2VsZWN0QDIuMS42X0B0eXBlcytyZWFjdC1kb21AMTkuMC40X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1zZWxlY3Qvc3JjL3NlbGVjdC50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStudW1iZXJAMS4xLjAvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9udW1iZXIvc3JjL251bWJlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3ByaW1pdGl2ZUAxLjEuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3ByaW1pdGl2ZS9zcmMvcHJpbWl0aXZlLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LWNvbGxlY3Rpb25AMS4xLjJfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LWNvbGxlY3Rpb24vc3JjL2NvbGxlY3Rpb24udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtY29udGV4dEAxLjEuMV9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LWNvbnRleHQvc3JjL2NyZWF0ZUNvbnRleHQudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtZGlyZWN0aW9uQDEuMS4wX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZGlyZWN0aW9uL3NyYy9EaXJlY3Rpb24udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtZGlzbWlzc2FibGUtbGF5ZXJAMS4xLjVfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LWRpc21pc3NhYmxlLWxheWVyL3NyYy9kaXNtaXNzYWJsZS1sYXllci50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1wcmltaXRpdmVAMi4wLjJfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZS9zcmMvcHJpbWl0aXZlLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXVzZS1jYWxsYmFjay1yZWZAMS4xLjBfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC11c2UtY2FsbGJhY2stcmVmL3NyYy91c2VDYWxsYmFja1JlZi50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC11c2UtZXNjYXBlLWtleWRvd25AMS4xLjBfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC11c2UtZXNjYXBlLWtleWRvd24vc3JjL3VzZUVzY2FwZUtleWRvd24udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtZm9jdXMtZ3VhcmRzQDEuMS4xX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZm9jdXMtZ3VhcmRzL3NyYy9Gb2N1c0d1YXJkcy50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1mb2N1cy1zY29wZUAxLjEuMl9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZm9jdXMtc2NvcGUvc3JjL2ZvY3VzLXNjb3BlLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LWlkQDEuMS4wX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtaWQvc3JjL2lkLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXVzZS1sYXlvdXQtZWZmZWN0QDEuMS4wX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdXNlLWxheW91dC1lZmZlY3Qvc3JjL3VzZUxheW91dEVmZmVjdC50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1wb3BwZXJAMS4yLjJfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXBvcHBlci9zcmMvcG9wcGVyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGZsb2F0aW5nLXVpK3JlYWN0LWRvbUAyLjEuMl9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGZsb2F0aW5nLXVpL3JlYWN0LWRvbS9kaXN0L2Zsb2F0aW5nLXVpLnJlYWN0LWRvbS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BmbG9hdGluZy11aStkb21AMS42LjEzL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvZG9tL2Rpc3QvZmxvYXRpbmctdWkuZG9tLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGZsb2F0aW5nLXVpK2NvcmVAMS42Ljkvbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS9jb3JlL2Rpc3QvZmxvYXRpbmctdWkuY29yZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BmbG9hdGluZy11aSt1dGlsc0AwLjIuOS9ub2RlX21vZHVsZXMvQGZsb2F0aW5nLXVpL3V0aWxzL2Rpc3QvZmxvYXRpbmctdWkudXRpbHMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZmxvYXRpbmctdWkrdXRpbHNAMC4yLjkvbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS91dGlscy9kaXN0L2Zsb2F0aW5nLXVpLnV0aWxzLmRvbS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1hcnJvd0AxLjEuMl9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtYXJyb3cvc3JjL2Fycm93LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXVzZS1zaXplQDEuMS4wX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdXNlLXNpemUvc3JjL3VzZVNpemUudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtcG9ydGFsQDEuMS40X0B0eXBlcytyZWFjdC1kb21AMTkuMC40X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1wb3J0YWwvc3JjL3BvcnRhbC50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC11c2UtY29udHJvbGxhYmxlLXN0YXRlQDEuMS4wX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdXNlLWNvbnRyb2xsYWJsZS1zdGF0ZS9zcmMvdXNlQ29udHJvbGxhYmxlU3RhdGUudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtdXNlLXByZXZpb3VzQDEuMS4wX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdXNlLXByZXZpb3VzL3NyYy91c2VQcmV2aW91cy50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC12aXN1YWxseS1oaWRkZW5AMS4xLjJfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXZpc3VhbGx5LWhpZGRlbi9zcmMvdmlzdWFsbHktaGlkZGVuLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYXJpYS1oaWRkZW5AMS4yLjQvbm9kZV9tb2R1bGVzL2FyaWEtaGlkZGVuL2Rpc3QvZXMyMDE1L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1yZW1vdmUtc2Nyb2xsQDIuNi4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsL2Rpc3QvZXMyMDE1L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1yZW1vdmUtc2Nyb2xsQDIuNi4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsL2Rpc3QvZXMyMDE1L0NvbWJpbmF0aW9uLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS90c2xpYkAyLjguMS9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtcmVtb3ZlLXNjcm9sbEAyLjYuM19AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtcmVtb3ZlLXNjcm9sbC9kaXN0L2VzMjAxNS9VSS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtcmVtb3ZlLXNjcm9sbC1iYXJAMi4zLjhfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwtYmFyL2Rpc3QvZXMyMDE1L2NvbnN0YW50cy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXNlLWNhbGxiYWNrLXJlZkAxLjMuM19AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvdXNlLWNhbGxiYWNrLXJlZi9kaXN0L2VzMjAxNS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXNlLWNhbGxiYWNrLXJlZkAxLjMuM19AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvdXNlLWNhbGxiYWNrLXJlZi9kaXN0L2VzMjAxNS9hc3NpZ25SZWYuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3VzZS1jYWxsYmFjay1yZWZAMS4zLjNfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3VzZS1jYWxsYmFjay1yZWYvZGlzdC9lczIwMTUvdXNlUmVmLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91c2UtY2FsbGJhY2stcmVmQDEuMy4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy91c2UtY2FsbGJhY2stcmVmL2Rpc3QvZXMyMDE1L3VzZU1lcmdlUmVmLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1yZW1vdmUtc2Nyb2xsQDIuNi4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsL2Rpc3QvZXMyMDE1L21lZGl1bS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXNlLXNpZGVjYXJAMS4xLjNfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3VzZS1zaWRlY2FyL2Rpc3QvZXMyMDE1L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91c2Utc2lkZWNhckAxLjEuM19AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvdXNlLXNpZGVjYXIvZGlzdC9lczIwMTUvbWVkaXVtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91c2Utc2lkZWNhckAxLjEuM19AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvdXNlLXNpZGVjYXIvZGlzdC9lczIwMTUvZXhwb3J0cy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtcmVtb3ZlLXNjcm9sbEAyLjYuM19AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtcmVtb3ZlLXNjcm9sbC9kaXN0L2VzMjAxNS9zaWRlY2FyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1yZW1vdmUtc2Nyb2xsQDIuNi4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsL2Rpc3QvZXMyMDE1L1NpZGVFZmZlY3QuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LXJlbW92ZS1zY3JvbGwtYmFyQDIuMy44X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9kaXN0L2VzMjAxNS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtcmVtb3ZlLXNjcm9sbC1iYXJAMi4zLjhfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwtYmFyL2Rpc3QvZXMyMDE1L2NvbXBvbmVudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3Qtc3R5bGUtc2luZ2xldG9uQDIuMi4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1zdHlsZS1zaW5nbGV0b24vZGlzdC9lczIwMTUvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LXN0eWxlLXNpbmdsZXRvbkAyLjIuM19AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3Qtc3R5bGUtc2luZ2xldG9uL2Rpc3QvZXMyMDE1L2NvbXBvbmVudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3Qtc3R5bGUtc2luZ2xldG9uQDIuMi4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1zdHlsZS1zaW5nbGV0b24vZGlzdC9lczIwMTUvaG9vay5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3Qtc3R5bGUtc2luZ2xldG9uQDIuMi4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1zdHlsZS1zaW5nbGV0b24vZGlzdC9lczIwMTUvc2luZ2xldG9uLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9nZXQtbm9uY2VAMS4wLjEvbm9kZV9tb2R1bGVzL2dldC1ub25jZS9kaXN0L2VzMjAxNS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtcmVtb3ZlLXNjcm9sbC1iYXJAMi4zLjhfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwtYmFyL2Rpc3QvZXMyMDE1L3V0aWxzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1yZW1vdmUtc2Nyb2xsQDIuNi4zX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsL2Rpc3QvZXMyMDE1L2FnZ3Jlc2l2ZUNhcHR1cmUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LXJlbW92ZS1zY3JvbGxAMi42LjNfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwvZGlzdC9lczIwMTUvaGFuZGxlU2Nyb2xsLmpzIiwgIi4uLy4uL3VpL2NvbXBvbmVudHMvdWkvc2tlbGV0b24udHN4IiwgIi4uLy4uL3VpL3N0dWRpby92aWV3cy9jb25zb2xlL0NvbnNvbGVWaWV3LnRzeCIsICIuLi8uLi91aS9zdHVkaW8vU3R1ZGlvSGVhZGVyLnRzeCIsICIuLi8uLi91aS9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eUAwLjcuMC9ub2RlX21vZHVsZXMvY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5L2Rpc3QvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9jbHN4QDIuMC4wL25vZGVfbW9kdWxlcy9jbHN4L2Rpc3QvY2xzeC5tanMiLCAiLi4vLi4vdWkvc3R1ZGlvL3ZpZXdzL2NvbnNvbGUvT3BlcmF0aW9uRXZlbnRFbnRyeS50c3giLCAiLi4vLi4vdWkvY29tcG9uZW50cy91aS9iYWRnZS50c3giLCAiLi4vLi4vdWkvY29tcG9uZW50cy91aS9jYXJkLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vdmlld3Mvc2NoZW1hL1NjaGVtYVZpZXcudHN4IiwgIi4uLy4uL3VpL2hvb2tzL3VzZS1zY2hlbWEtdmlzdWFsaXphdGlvbi50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL3ZpZXdzL3NjaGVtYS9WaXN1YWxpc2VyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3RmbG93QDExLjExLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3RmbG93L2Rpc3QvZXNtL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlYWN0Zmxvdytjb3JlQDExLjExLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJlYWN0Zmxvdy9jb3JlL2Rpc3QvZXNtL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vY2xhc3NjYXRANS4wLjUvbm9kZV9tb2R1bGVzL2NsYXNzY2F0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDQuNS41X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS90cmFkaXRpb25hbC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3p1c3RhbmRANC41LjVfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3ZhbmlsbGEubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDQuNS41X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9zaGFsbG93Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtem9vbUAzLjAuMC9ub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXpvb21AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3pvb20uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWRpc3BhdGNoQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1kaXNwYXRjaC9zcmMvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWRpc3BhdGNoQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1kaXNwYXRjaC9zcmMvZGlzcGF0Y2guanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWRyYWdAMy4wLjAvbm9kZV9tb2R1bGVzL2QzLWRyYWcvc3JjL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1kcmFnQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1kcmFnL3NyYy9kcmFnLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9jcmVhdG9yLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3QuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rvci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3RBbGwuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9hcnJheS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NlbGVjdENoaWxkLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbWF0Y2hlci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3RDaGlsZHJlbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9maWx0ZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZGF0YS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbnRlci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zcGFyc2UuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9jb25zdGFudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9leGl0LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2pvaW4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbWVyZ2UuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vb3JkZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc29ydC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9jYWxsLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL25vZGVzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL25vZGUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2l6ZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbXB0eS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lYWNoLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2F0dHIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc3R5bGUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy93aW5kb3cuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcHJvcGVydHkuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2xhc3NlZC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi90ZXh0LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2h0bWwuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmFpc2UuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbG93ZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vYXBwZW5kLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luc2VydC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9yZW1vdmUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2xvbmUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZGF0dW0uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vb24uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZGlzcGF0Y2guanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vaXRlcmF0b3IuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9wb2ludGVyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc291cmNlRXZlbnQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWRyYWdAMy4wLjAvbm9kZV9tb2R1bGVzL2QzLWRyYWcvc3JjL25vZHJhZy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtZHJhZ0AzLjAuMC9ub2RlX21vZHVsZXMvZDMtZHJhZy9zcmMvbm9ldmVudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtZHJhZ0AzLjAuMC9ub2RlX21vZHVsZXMvZDMtZHJhZy9zcmMvY29uc3RhbnQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWRyYWdAMy4wLjAvbm9kZV9tb2R1bGVzL2QzLWRyYWcvc3JjL2V2ZW50LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1pbnRlcnBvbGF0ZUAzLjAuMS9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1jb2xvckAzLjEuMC9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1jb2xvckAzLjEuMC9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1jb2xvckAzLjEuMC9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2RlZmluZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtaW50ZXJwb2xhdGVAMy4wLjEvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9yZ2IuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWludGVycG9sYXRlQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXMuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWludGVycG9sYXRlQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXNDbG9zZWQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWludGVycG9sYXRlQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWludGVycG9sYXRlQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29uc3RhbnQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWludGVycG9sYXRlQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1pbnRlcnBvbGF0ZUAzLjAuMS9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3N0cmluZy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtaW50ZXJwb2xhdGVAMy4wLjEvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy90cmFuc2Zvcm0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWludGVycG9sYXRlQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL3BhcnNlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy1pbnRlcnBvbGF0ZUAzLjAuMS9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9kZWNvbXBvc2UuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWludGVycG9sYXRlQDMuMC4xL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvem9vbS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2ludGVycnVwdC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL2ludGVycnVwdC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc2NoZWR1bGUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRpbWVyQDMuMC4xL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRpbWVyQDMuMC4xL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRpbWVyQDMuMC4xL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZW91dC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3NlbGVjdGlvbi90cmFuc2l0aW9uLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vYXR0ci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdHdlZW4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRyYW5zaXRpb25AMy4wLjFfZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2ludGVycG9sYXRlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9hdHRyVHdlZW4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRyYW5zaXRpb25AMy4wLjFfZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2RlbGF5LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9kdXJhdGlvbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZWFzZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZWFzZVZhcnlpbmcuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRyYW5zaXRpb25AMy4wLjFfZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2ZpbHRlci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vbWVyZ2UuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRyYW5zaXRpb25AMy4wLjFfZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL29uLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9yZW1vdmUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRyYW5zaXRpb25AMy4wLjFfZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtdHJhbnNpdGlvbkAzLjAuMV9kMy1zZWxlY3Rpb25AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc2VsZWN0QWxsLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zZWxlY3Rpb24uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRyYW5zaXRpb25AMy4wLjFfZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3N0eWxlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zdHlsZVR3ZWVuLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy10cmFuc2l0aW9uQDMuMC4xX2QzLXNlbGVjdGlvbkAzLjAuMC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0VHdlZW4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRyYW5zaXRpb25AMy4wLjFfZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RyYW5zaXRpb24uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXRyYW5zaXRpb25AMy4wLjFfZDMtc2VsZWN0aW9uQDMuMC4wL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2VuZC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtZWFzZUAzLjAuMS9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLWVhc2VAMy4wLjEvbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL2N1YmljLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kMy16b29tQDMuMC4wL25vZGVfbW9kdWxlcy9kMy16b29tL3NyYy9jb25zdGFudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtem9vbUAzLjAuMC9ub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvZXZlbnQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2QzLXpvb21AMy4wLjAvbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3RyYW5zZm9ybS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZDMtem9vbUAzLjAuMC9ub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvbm9ldmVudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlYWN0ZmxvdyttaW5pbWFwQDExLjcuMTRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJlYWN0Zmxvdy9taW5pbWFwL2Rpc3QvZXNtL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlYWN0Zmxvdytjb250cm9sc0AxMS4yLjE0X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByZWFjdGZsb3cvY29udHJvbHMvZGlzdC9lc20vaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVhY3RmbG93K2JhY2tncm91bmRAMTEuMy4xNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmVhY3RmbG93L2JhY2tncm91bmQvZGlzdC9lc20vaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVhY3RmbG93K25vZGUtdG9vbGJhckAxLjMuMTRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJlYWN0Zmxvdy9ub2RlLXRvb2xiYXIvZGlzdC9lc20vaW5kZXgubWpzIiwgIi4uLy4uL3VpL2NvbXBvbmVudHMvdWkvdG9vbHRpcC50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC10b29sdGlwQDEuMi40X0B0eXBlcytyZWFjdC1kb21AMTkuMC40X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC10b29sdGlwL3NyYy90b29sdGlwLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3ByaW1pdGl2ZUAxLjEuMi9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3ByaW1pdGl2ZS9zcmMvcHJpbWl0aXZlLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LWNvbXBvc2UtcmVmc0AxLjEuMl9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmcy9zcmMvY29tcG9zZS1yZWZzLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LWNvbnRleHRAMS4xLjJfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1jb250ZXh0L3NyYy9jcmVhdGUtY29udGV4dC50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1kaXNtaXNzYWJsZS1sYXllckAxLjEuN19AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZGlzbWlzc2FibGUtbGF5ZXIvc3JjL2Rpc21pc3NhYmxlLWxheWVyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXByaW1pdGl2ZUAyLjEuMF9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlL3NyYy9wcmltaXRpdmUudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3Qtc2xvdEAxLjIuMF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXNsb3Qvc3JjL3Nsb3QudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtdXNlLWNhbGxiYWNrLXJlZkAxLjEuMV9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWYvc3JjL3VzZS1jYWxsYmFjay1yZWYudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtdXNlLWVzY2FwZS1rZXlkb3duQDEuMS4xX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdXNlLWVzY2FwZS1rZXlkb3duL3NyYy91c2UtZXNjYXBlLWtleWRvd24udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtaWRAMS4xLjFfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1pZC9zcmMvaWQudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtdXNlLWxheW91dC1lZmZlY3RAMS4xLjFfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC11c2UtbGF5b3V0LWVmZmVjdC9zcmMvdXNlLWxheW91dC1lZmZlY3QudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtcG9wcGVyQDEuMi40X0B0eXBlcytyZWFjdC1kb21AMTkuMC40X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1wb3BwZXIvc3JjL3BvcHBlci50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1hcnJvd0AxLjEuNF9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtYXJyb3cvc3JjL2Fycm93LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXVzZS1zaXplQDEuMS4xX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdXNlLXNpemUvc3JjL3VzZS1zaXplLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXBvcnRhbEAxLjEuNl9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtcG9ydGFsL3NyYy9wb3J0YWwudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtcHJlc2VuY2VAMS4xLjRfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXByZXNlbmNlL3NyYy9wcmVzZW5jZS50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1wcmVzZW5jZUAxLjEuNF9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtcHJlc2VuY2Uvc3JjL3VzZS1zdGF0ZS1tYWNoaW5lLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXVzZS1jb250cm9sbGFibGUtc3RhdGVAMS4yLjJfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC11c2UtY29udHJvbGxhYmxlLXN0YXRlL3NyYy91c2UtY29udHJvbGxhYmxlLXN0YXRlLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXVzZS1jb250cm9sbGFibGUtc3RhdGVAMS4yLjJfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC11c2UtY29udHJvbGxhYmxlLXN0YXRlL3NyYy91c2UtY29udHJvbGxhYmxlLXN0YXRlLXJlZHVjZXIudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtdmlzdWFsbHktaGlkZGVuQDEuMi4wX0B0eXBlcytyZWFjdC1kb21AMTkuMC40X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC12aXN1YWxseS1oaWRkZW4vc3JjL3Zpc3VhbGx5LWhpZGRlbi50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL3ZpZXdzL3RhYmxlL0FjdGl2ZVRhYmxlVmlldy50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzQDAuMS42X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy9kaXN0L2VzL3JlYWN0LWVudHJ5Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uLXBsdXMtcmVhY3RAMC4xLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi1wbHVzLXJlYWN0L2Rpc3QvZXMvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0N1cnNvci9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzLXJlYWN0QDAuMS41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy1yZWFjdC9kaXN0L2VzL2NvbXBvbmVudHMvQ3Vyc29yL2dldC1jdXJzb3Itc2l6ZS5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzLXJlYWN0QDAuMS41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy1yZWFjdC9kaXN0L2VzL2NvbXBvbmVudHMvQ3Vyc29yL2hvb2tzL3VzZS1ib2R5LXBvcnRhbC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzLXJlYWN0QDAuMS41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy1yZWFjdC9kaXN0L2VzL2NvbXBvbmVudHMvQ3Vyc29yL2hvb2tzL3VzZS1jdXJzb3ItaW4tdmlldy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzLXJlYWN0QDAuMS41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy1yZWFjdC9kaXN0L2VzL2NvbXBvbmVudHMvQ3Vyc29yL2hvb2tzL3VzZS1jdXJzb3Itc3RhdGUvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0N1cnNvci9ob29rcy91dGlscy9vbmx5LW1vdXNlLWV2ZW50cy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzLXJlYWN0QDAuMS41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy1yZWFjdC9kaXN0L2VzL2NvbXBvbmVudHMvQ3Vyc29yL2hvb2tzL3VzZS1jdXJzb3Itc3RhdGUvZmluZC10YXJnZXQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0N1cnNvci9ob29rcy91c2UtaGFzLXBvaW50ZXItbW92ZWQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0N1cnNvci9ob29rcy91c2Utb2Zmc2V0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uLXBsdXMtcmVhY3RAMC4xLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi1wbHVzLXJlYWN0L2Rpc3QvZXMvY29tcG9uZW50cy9DdXJzb3IvaG9va3MvdXNlLXBvaW50ZXItcG9zaXRpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0N1cnNvci9ob29rcy91c2Utc25hcC10by10YXJnZXQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0N1cnNvci9ob29rcy91c2UtbWl4ZWQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0N1cnNvci91c2UtY3Vyc29yLXN0eWxlcy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzLXJlYWN0QDAuMS41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy1yZWFjdC9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZU51bWJlci9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzLXJlYWN0QDAuMS41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy1yZWFjdC9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZU51bWJlci9NYXNrLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uLXBsdXMtcmVhY3RAMC4xLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi1wbHVzLXJlYWN0L2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlTnVtYmVyL051bWJlclNlY3Rpb24ubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVOdW1iZXIvaG9va3MvdXNlLWlzLWluaXRpYWwtcmVuZGVyLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uLXBsdXMtcmVhY3RAMC4xLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi1wbHVzLXJlYWN0L2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlTnVtYmVyL051bWJlckRpZ2l0Lm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uLXBsdXMtcmVhY3RAMC4xLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi1wbHVzLXJlYWN0L2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlTnVtYmVyL3V0aWxzL2dldC13aWR0aC1pbi1lbXMubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVOdW1iZXIvdXRpbHMvdGFyZ2V0LXdpZHRocy5tanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vdGlvbi1wbHVzLXJlYWN0QDAuMS41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9tb3Rpb24tcGx1cy1yZWFjdC9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZU51bWJlci9OdW1iZXJTeW1ib2wubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVOdW1iZXIvU2VjdGlvbkNvbnRleHQubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tb3Rpb24tcGx1cy1yZWFjdEAwLjEuNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbW90aW9uLXBsdXMtcmVhY3QvZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVOdW1iZXIvdXRpbHMvZm9ybWF0LXBhcnRzLm1qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbW90aW9uLXBsdXMtcmVhY3RAMC4xLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL21vdGlvbi1wbHVzLXJlYWN0L2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlVGV4dC9pbmRleC5tanMiLCAiLi4vLi4vdWkvY29tcG9uZW50cy91aS9wb3BvdmVyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXBvcG92ZXJAMS4xLjZfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXIvc3JjL3BvcG92ZXIudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtcHJlc2VuY2VAMS4xLjJfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXByZXNlbmNlL3NyYy9QcmVzZW5jZS50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1wcmVzZW5jZUAxLjEuMl9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtcHJlc2VuY2Uvc3JjL3VzZVN0YXRlTWFjaGluZS50c3giLCAiLi4vLi4vdWkvY29tcG9uZW50cy91aS90YWJsZS50c3giLCAiLi4vLi4vdWkvaG9va3MvdXNlLWFjdGl2ZS10YWJsZS1pbnNlcnQudHMiLCAiLi4vLi4vdWkvaG9va3MvdXRpbHMvYWRkLXJvdy1pZC10by1yZXN1bHQudHMiLCAiLi4vLi4vdWkvaG9va3MvdXNlLWFjdGl2ZS10YWJsZS1xdWVyeS50cyIsICIuLi8uLi91aS9ob29rcy91c2UtYWN0aXZlLXRhYmxlLXVwZGF0ZS50cyIsICIuLi8uLi91aS9ob29rcy91c2UtaXMtaW5zZXJ0aW5nLnRzIiwgIi4uLy4uL3VpL2hvb2tzL3VzZS1wYWdpbmF0aW9uLnRzIiwgIi4uLy4uL3VpL2hvb2tzL3VzZS1zZWxlY3Rpb24udHMiLCAiLi4vLi4vdWkvaG9va3MvdXNlLWFjdGl2ZS10YWJsZS1kZWxldGUudHMiLCAiLi4vLi4vdWkvaG9va3MvdXNlLXNvcnRpbmcudHMiLCAiLi4vLi4vdWkvc3R1ZGlvL2NlbGwvQ2VsbC50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL2dyaWQvRGF0YUdyaWRDZWxsQ29udGV4dE1lbnUudHN4IiwgIi4uLy4uL3VpL2NvbXBvbmVudHMvdWkvY29udGV4dC1tZW51LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LWNvbnRleHQtbWVudUAyLjIuNl9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtY29udGV4dC1tZW51L3NyYy9jb250ZXh0LW1lbnUudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtbWVudUAyLjEuNl9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtbWVudS9zcmMvbWVudS50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1yb3ZpbmctZm9jdXNAMS4xLjJfQHR5cGVzK3JlYWN0LWRvbUAxOS4wLjRfQHR5cGVzK3JlYWN0QDE5LjEuOF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXJvdmluZy1mb2N1cy9zcmMvcm92aW5nLWZvY3VzLWdyb3VwLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vY2VsbC9nZXQtY2VsbC50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlbWVkYUAyLjIxLjMvbm9kZV9tb2R1bGVzL3JlbWVkYS9kaXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZW1lZGFAMi4yMS4zL25vZGVfbW9kdWxlcy9yZW1lZGEvZGlzdC9jaHVuay1XSU1HV1laTC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVtZWRhQDIuMjEuMy9ub2RlX21vZHVsZXMvcmVtZWRhL2Rpc3QvY2h1bmstRDZGQ0syR0EuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlbWVkYUAyLjIxLjMvbm9kZV9tb2R1bGVzL3JlbWVkYS9kaXN0L2NodW5rLU9BTVhRWEdSLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZW1lZGFAMi4yMS4zL25vZGVfbW9kdWxlcy9yZW1lZGEvZGlzdC9jaHVuay1BM1BWTUk0Sy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVtZWRhQDIuMjEuMy9ub2RlX21vZHVsZXMvcmVtZWRhL2Rpc3QvY2h1bmstTk1DNTNKVkIuanMiLCAiLi4vLi4vdWkvc3R1ZGlvL2NlbGwvQm9vbGVhbkNlbGwudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9jZWxsL0RhdGVDZWxsLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vY2VsbC9FbXB0eUNlbGwudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9jZWxsL0VudW1DZWxsLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vY2VsbC9KU09OQ2VsbC50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL2NlbGwvTnVsbENlbGwudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9jZWxsL051bWVyaWNDZWxsLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vY2VsbC9SYXdDZWxsLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vY2VsbC9UaW1lQ2VsbC50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL2NlbGwvU2VsZWN0SGVhZGVyQ2VsbC50c3giLCAiLi4vLi4vdWkvY29tcG9uZW50cy91aS9jaGVja2JveC10YWJsZS50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByYWRpeC11aStyZWFjdC1jaGVja2JveEAxLjEuNF9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtY2hlY2tib3gvc3JjL2NoZWNrYm94LnRzeCIsICIuLi8uLi91aS9zdHVkaW8vY2VsbC9TZWxlY3RSb3dDZWxsLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vY2VsbC9Xcml0ZWFibGVDZWxsLnRzeCIsICIuLi8uLi91aS9jb21wb25lbnRzL3VpL3BvcG92ZXItY2VsbC50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL2dyaWQvRGF0YUdyaWQudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCt1dGlsaXRpZXNAMy4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvc3JjL2hvb2tzL3VzZUNvbWJpbmVkUmVmcy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy9leGVjdXRpb24tY29udGV4dC9jYW5Vc2VET00udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3V0aWxpdGllc0AzLjIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3V0aWxpdGllcy9zcmMvdHlwZS1ndWFyZHMvaXNXaW5kb3cudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3V0aWxpdGllc0AzLjIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3V0aWxpdGllcy9zcmMvdHlwZS1ndWFyZHMvaXNOb2RlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCt1dGlsaXRpZXNAMy4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvc3JjL2V4ZWN1dGlvbi1jb250ZXh0L2dldFdpbmRvdy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy90eXBlLWd1YXJkcy9pc0RvY3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCt1dGlsaXRpZXNAMy4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvc3JjL3R5cGUtZ3VhcmRzL2lzSFRNTEVsZW1lbnQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3V0aWxpdGllc0AzLjIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3V0aWxpdGllcy9zcmMvdHlwZS1ndWFyZHMvaXNTVkdFbGVtZW50LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCt1dGlsaXRpZXNAMy4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvc3JjL2V4ZWN1dGlvbi1jb250ZXh0L2dldE93bmVyRG9jdW1lbnQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3V0aWxpdGllc0AzLjIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3V0aWxpdGllcy9zcmMvaG9va3MvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy9ob29rcy91c2VFdmVudC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy9ob29rcy91c2VJbnRlcnZhbC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy9ob29rcy91c2VMYXRlc3RWYWx1ZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy9ob29rcy91c2VMYXp5TWVtby50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy9ob29rcy91c2VOb2RlUmVmLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCt1dGlsaXRpZXNAMy4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvc3JjL2hvb2tzL3VzZVByZXZpb3VzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCt1dGlsaXRpZXNAMy4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvc3JjL2hvb2tzL3VzZVVuaXF1ZUlkLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCt1dGlsaXRpZXNAMy4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvc3JjL2FkanVzdG1lbnQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3V0aWxpdGllc0AzLjIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3V0aWxpdGllcy9zcmMvZXZlbnQvaGFzVmlld3BvcnRSZWxhdGl2ZUNvb3JkaW5hdGVzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCt1dGlsaXRpZXNAMy4yLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC91dGlsaXRpZXMvc3JjL2V2ZW50L2lzS2V5Ym9hcmRFdmVudC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy9ldmVudC9pc1RvdWNoRXZlbnQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3V0aWxpdGllc0AzLjIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3V0aWxpdGllcy9zcmMvY29vcmRpbmF0ZXMvZ2V0RXZlbnRDb29yZGluYXRlcy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrdXRpbGl0aWVzQDMuMi4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvdXRpbGl0aWVzL3NyYy9jc3MudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3V0aWxpdGllc0AzLjIuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3V0aWxpdGllcy9zcmMvZm9jdXMvZmluZEZpcnN0Rm9jdXNhYmxlTm9kZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrYWNjZXNzaWJpbGl0eUAzLjEuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2FjY2Vzc2liaWxpdHkvc3JjL2NvbXBvbmVudHMvSGlkZGVuVGV4dC9IaWRkZW5UZXh0LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrYWNjZXNzaWJpbGl0eUAzLjEuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2FjY2Vzc2liaWxpdHkvc3JjL2NvbXBvbmVudHMvTGl2ZVJlZ2lvbi9MaXZlUmVnaW9uLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrYWNjZXNzaWJpbGl0eUAzLjEuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2FjY2Vzc2liaWxpdHkvc3JjL2hvb2tzL3VzZUFubm91bmNlbWVudC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvY29tcG9uZW50cy9EbmRNb25pdG9yL2NvbnRleHQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL2NvbXBvbmVudHMvRG5kTW9uaXRvci91c2VEbmRNb25pdG9yLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0RuZE1vbml0b3IvdXNlRG5kTW9uaXRvclByb3ZpZGVyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvY29tcG9uZW50cy9BY2Nlc3NpYmlsaXR5L2RlZmF1bHRzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0FjY2Vzc2liaWxpdHkvQWNjZXNzaWJpbGl0eS50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3N0b3JlL2FjdGlvbnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9vdGhlci9ub29wLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9zZW5zb3JzL3VzZVNlbnNvci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvc2Vuc29ycy91c2VTZW5zb3JzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvY29vcmRpbmF0ZXMvY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvY29vcmRpbmF0ZXMvZGlzdGFuY2VCZXR3ZWVuUG9pbnRzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvY29vcmRpbmF0ZXMvZ2V0UmVsYXRpdmVUcmFuc2Zvcm1PcmlnaW4udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9hbGdvcml0aG1zL2hlbHBlcnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9hbGdvcml0aG1zL2Nsb3Nlc3RDZW50ZXIudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9hbGdvcml0aG1zL2Nsb3Nlc3RDb3JuZXJzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvYWxnb3JpdGhtcy9yZWN0SW50ZXJzZWN0aW9uLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvYWxnb3JpdGhtcy9wb2ludGVyV2l0aGluLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvcmVjdC9hZGp1c3RTY2FsZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvdXRpbGl0aWVzL3JlY3QvZ2V0UmVjdERlbHRhLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvcmVjdC9yZWN0QWRqdXN0bWVudC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvdXRpbGl0aWVzL3RyYW5zZm9ybS9wYXJzZVRyYW5zZm9ybS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvdXRpbGl0aWVzL3RyYW5zZm9ybS9pbnZlcnNlVHJhbnNmb3JtLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvcmVjdC9nZXRSZWN0LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvcmVjdC9nZXRXaW5kb3dDbGllbnRSZWN0LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvc2Nyb2xsL2lzRml4ZWQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9zY3JvbGwvaXNTY3JvbGxhYmxlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvc2Nyb2xsL2dldFNjcm9sbGFibGVBbmNlc3RvcnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9zY3JvbGwvZ2V0U2Nyb2xsYWJsZUVsZW1lbnQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9zY3JvbGwvZ2V0U2Nyb2xsQ29vcmRpbmF0ZXMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3R5cGVzL2RpcmVjdGlvbi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvdXRpbGl0aWVzL3Njcm9sbC9kb2N1bWVudFNjcm9sbGluZ0VsZW1lbnQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9zY3JvbGwvZ2V0U2Nyb2xsUG9zaXRpb24udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9zY3JvbGwvZ2V0U2Nyb2xsRGlyZWN0aW9uQW5kU3BlZWQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9zY3JvbGwvZ2V0U2Nyb2xsRWxlbWVudFJlY3QudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9zY3JvbGwvZ2V0U2Nyb2xsT2Zmc2V0cy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvdXRpbGl0aWVzL3Njcm9sbC9zY3JvbGxJbnRvVmlld0lmTmVlZGVkLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy91dGlsaXRpZXMvcmVjdC9SZWN0LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9zZW5zb3JzL3V0aWxpdGllcy9MaXN0ZW5lcnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3NlbnNvcnMvdXRpbGl0aWVzL2dldEV2ZW50TGlzdGVuZXJUYXJnZXQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3NlbnNvcnMvdXRpbGl0aWVzL2hhc0V4Y2VlZGVkRGlzdGFuY2UudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3NlbnNvcnMvZXZlbnRzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9zZW5zb3JzL2tleWJvYXJkL3R5cGVzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9zZW5zb3JzL2tleWJvYXJkL2RlZmF1bHRzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9zZW5zb3JzL2tleWJvYXJkL0tleWJvYXJkU2Vuc29yLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9zZW5zb3JzL3BvaW50ZXIvQWJzdHJhY3RQb2ludGVyU2Vuc29yLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9zZW5zb3JzL3BvaW50ZXIvUG9pbnRlclNlbnNvci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvc2Vuc29ycy9tb3VzZS9Nb3VzZVNlbnNvci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvc2Vuc29ycy90b3VjaC9Ub3VjaFNlbnNvci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZUF1dG9TY3JvbGxlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZUNhY2hlZE5vZGUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL2hvb2tzL3V0aWxpdGllcy91c2VDb21iaW5lQWN0aXZhdG9ycy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZURyb3BwYWJsZU1lYXN1cmluZy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZUluaXRpYWxWYWx1ZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZUluaXRpYWxSZWN0LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9ob29rcy91dGlsaXRpZXMvdXNlTXV0YXRpb25PYnNlcnZlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZVJlc2l6ZU9ic2VydmVyLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9ob29rcy91dGlsaXRpZXMvdXNlUmVjdC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZVJlY3REZWx0YS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZVNjcm9sbGFibGVBbmNlc3RvcnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL2hvb2tzL3V0aWxpdGllcy91c2VTY3JvbGxPZmZzZXRzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9ob29rcy91dGlsaXRpZXMvdXNlU2Nyb2xsT2Zmc2V0c0RlbHRhLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9ob29rcy91dGlsaXRpZXMvdXNlU2Vuc29yU2V0dXAudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL2hvb2tzL3V0aWxpdGllcy91c2VTeW50aGV0aWNMaXN0ZW5lcnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL2hvb2tzL3V0aWxpdGllcy91c2VXaW5kb3dSZWN0LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9ob29rcy91dGlsaXRpZXMvdXNlUmVjdHMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3V0aWxpdGllcy9ub2Rlcy9nZXRNZWFzdXJhYmxlTm9kZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZURyYWdPdmVybGF5TWVhc3VyaW5nLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0RuZENvbnRleHQvZGVmYXVsdHMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL3N0b3JlL2NvbnN0cnVjdG9ycy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvc3RvcmUvY29udGV4dC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvc3RvcmUvcmVkdWNlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvY29tcG9uZW50cy9BY2Nlc3NpYmlsaXR5L2NvbXBvbmVudHMvUmVzdG9yZUZvY3VzLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvbW9kaWZpZXJzL2FwcGx5TW9kaWZpZXJzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0RuZENvbnRleHQvaG9va3MvdXNlTWVhc3VyaW5nQ29uZmlndXJhdGlvbi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvY29tcG9uZW50cy9EbmRDb250ZXh0L2hvb2tzL3VzZUxheW91dFNoaWZ0U2Nyb2xsQ29tcGVuc2F0aW9uLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0RuZENvbnRleHQvRG5kQ29udGV4dC50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL2hvb2tzL3VzZURyYWdnYWJsZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXNlRG5kQ29udGV4dC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvaG9va3MvdXNlRHJvcHBhYmxlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0RyYWdPdmVybGF5L2NvbXBvbmVudHMvQW5pbWF0aW9uTWFuYWdlci9BbmltYXRpb25NYW5hZ2VyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29yZS9zcmMvY29tcG9uZW50cy9EcmFnT3ZlcmxheS9jb21wb25lbnRzL051bGxpZmllZENvbnRleHRQcm92aWRlci9OdWxsaWZpZWRDb250ZXh0UHJvdmlkZXIudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0RyYWdPdmVybGF5L2NvbXBvbmVudHMvUG9zaXRpb25lZE92ZXJsYXkvUG9zaXRpb25lZE92ZXJsYXkudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0RyYWdPdmVybGF5L2hvb2tzL3VzZURyb3BBbmltYXRpb24udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2NvcmUvc3JjL2NvbXBvbmVudHMvRHJhZ092ZXJsYXkvaG9va3MvdXNlS2V5LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb3JlL3NyYy9jb21wb25lbnRzL0RyYWdPdmVybGF5L0RyYWdPdmVybGF5LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrc29ydGFibGVAMTAuMC4wX0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9zcmMvdXRpbGl0aWVzL2FycmF5TW92ZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrc29ydGFibGVAMTAuMC4wX0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9zcmMvdXRpbGl0aWVzL2FycmF5U3dhcC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrc29ydGFibGVAMTAuMC4wX0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9zcmMvdXRpbGl0aWVzL2dldFNvcnRlZFJlY3RzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtzb3J0YWJsZUAxMC4wLjBfQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3NvcnRhYmxlL3NyYy91dGlsaXRpZXMvaXNWYWxpZEluZGV4LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtzb3J0YWJsZUAxMC4wLjBfQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3NvcnRhYmxlL3NyYy91dGlsaXRpZXMvaXRlbXNFcXVhbC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrc29ydGFibGVAMTAuMC4wX0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9zcmMvdXRpbGl0aWVzL25vcm1hbGl6ZURpc2FibGVkLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtzb3J0YWJsZUAxMC4wLjBfQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3NvcnRhYmxlL3NyYy9zdHJhdGVnaWVzL2hvcml6b250YWxMaXN0U29ydGluZy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrc29ydGFibGVAMTAuMC4wX0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9zcmMvc3RyYXRlZ2llcy9yZWN0U29ydGluZy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrc29ydGFibGVAMTAuMC4wX0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9zcmMvc3RyYXRlZ2llcy9yZWN0U3dhcHBpbmcudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3NvcnRhYmxlQDEwLjAuMF9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvc29ydGFibGUvc3JjL3N0cmF0ZWdpZXMvdmVydGljYWxMaXN0U29ydGluZy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrc29ydGFibGVAMTAuMC4wX0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9zcmMvY29tcG9uZW50cy9Tb3J0YWJsZUNvbnRleHQudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtzb3J0YWJsZUAxMC4wLjBfQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3NvcnRhYmxlL3NyYy9ob29rcy9kZWZhdWx0cy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrc29ydGFibGVAMTAuMC4wX0BkbmQta2l0K2NvcmVANi4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9zb3J0YWJsZS9zcmMvaG9va3MvdXRpbGl0aWVzL3VzZURlcml2ZWRUcmFuc2Zvcm0udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3NvcnRhYmxlQDEwLjAuMF9AZG5kLWtpdCtjb3JlQDYuMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvc29ydGFibGUvc3JjL2hvb2tzL3VzZVNvcnRhYmxlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtzb3J0YWJsZUAxMC4wLjBfQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3NvcnRhYmxlL3NyYy90eXBlcy90eXBlLWd1YXJkLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtzb3J0YWJsZUAxMC4wLjBfQGRuZC1raXQrY29yZUA2LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3NvcnRhYmxlL3NyYy9zZW5zb3JzL2tleWJvYXJkL3NvcnRhYmxlS2V5Ym9hcmRDb29yZGluYXRlcy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvY29sdW1uSGVscGVyLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy91dGlscy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvY29yZS9jZWxsLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9jb3JlL2NvbHVtbi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvY29yZS9oZWFkZXJzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9jb3JlL3Jvdy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvZmVhdHVyZXMvQ29sdW1uRmFjZXRpbmcudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL2ZpbHRlckZucy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvZmVhdHVyZXMvQ29sdW1uRmlsdGVyaW5nLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9hZ2dyZWdhdGlvbkZucy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvZmVhdHVyZXMvQ29sdW1uR3JvdXBpbmcudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL2ZlYXR1cmVzL0NvbHVtbk9yZGVyaW5nLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9mZWF0dXJlcy9Db2x1bW5QaW5uaW5nLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9mZWF0dXJlcy9Db2x1bW5TaXppbmcudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL2ZlYXR1cmVzL0NvbHVtblZpc2liaWxpdHkudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL2ZlYXR1cmVzL0dsb2JhbEZhY2V0aW5nLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9mZWF0dXJlcy9HbG9iYWxGaWx0ZXJpbmcudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL2ZlYXR1cmVzL1Jvd0V4cGFuZGluZy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvZmVhdHVyZXMvUm93UGFnaW5hdGlvbi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvZmVhdHVyZXMvUm93UGlubmluZy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvZmVhdHVyZXMvUm93U2VsZWN0aW9uLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9zb3J0aW5nRm5zLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9mZWF0dXJlcy9Sb3dTb3J0aW5nLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy9jb3JlL3RhYmxlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy91dGlscy9nZXRDb3JlUm93TW9kZWwudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL3V0aWxzL2dldEV4cGFuZGVkUm93TW9kZWwudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL3V0aWxzL2dldEZhY2V0ZWRNaW5NYXhWYWx1ZXMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL3V0aWxzL2ZpbHRlclJvd3NVdGlscy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvdXRpbHMvZ2V0RmFjZXRlZFJvd01vZGVsLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy91dGlscy9nZXRGYWNldGVkVW5pcXVlVmFsdWVzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy91dGlscy9nZXRGaWx0ZXJlZFJvd01vZGVsLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGFuc3RhY2srdGFibGUtY29yZUA4LjIwLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL3NyYy91dGlscy9nZXRHcm91cGVkUm93TW9kZWwudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjayt0YWJsZS1jb3JlQDguMjAuMS9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3RhYmxlLWNvcmUvc3JjL3V0aWxzL2dldFBhZ2luYXRpb25Sb3dNb2RlbC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbnN0YWNrK3RhYmxlLWNvcmVAOC4yMC4xL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svdGFibGUtY29yZS9zcmMvdXRpbHMvZ2V0U29ydGVkUm93TW9kZWwudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B0YW5zdGFjaytyZWFjdC10YWJsZUA4LjIwLjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9yZWFjdC10YWJsZS9zcmMvaW5kZXgudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9ncmlkL0RhdGFHcmlkTG9hZGluZ0Jhci50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL2dyaWQvRGF0YUdyaWRQYWdpbmF0aW9uLnRzeCIsICIuLi8uLi91aS9jb21wb25lbnRzL3VpL2lucHV0LnRzeCIsICIuLi8uLi91aS9zdHVkaW8vZ3JpZC9mZWF0dXJlcy9jb2x1bW4tcGlubmluZy50cyIsICIuLi8uLi91aS9zdHVkaW8vZ3JpZC9EYXRhR3JpZERyYWdnYWJsZUhlYWRlckNlbGwudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9ncmlkL0RhdGFHcmlkSGVhZGVyLnRzeCIsICIuLi8uLi91aS9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnUudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtZHJvcGRvd24tbWVudUAyLjEuNl9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZHJvcGRvd24tbWVudS9zcmMvZHJvcGRvd24tbWVudS50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL2dyaWQvRGF0YUdyaWRIZWFkZXJDZWxsLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vaW5wdXQvZ2V0LWlucHV0LnRzeCIsICIuLi8uLi91aS9zdHVkaW8vaW5wdXQvQm9vbGVhbklucHV0LnRzeCIsICIuLi8uLi91aS9jb21wb25lbnRzL3VpL2xhYmVsLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LWxhYmVsQDIuMS40X0B0eXBlcytyZWFjdC1kb21AMTkuMC40X0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1sYWJlbC9zcmMvbGFiZWwudHN4IiwgIi4uLy4uL3VpL2NvbXBvbmVudHMvdWkvc3dpdGNoLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHJhZGl4LXVpK3JlYWN0LXN3aXRjaEAxLjIuMl9AdHlwZXMrcmVhY3QtZG9tQDE5LjAuNF9AdHlwZXMrcmVhY3RAMTkuMS44X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3Qtc3dpdGNoL3NyYy9zd2l0Y2gudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmFkaXgtdWkrcmVhY3QtdXNlLXByZXZpb3VzQDEuMS4xX0B0eXBlcytyZWFjdEAxOS4xLjhfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdXNlLXByZXZpb3VzL3NyYy91c2UtcHJldmlvdXMudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9pbnB1dC9pbnB1dC1hY3Rpb25zLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vaW5wdXQvRGF0ZUlucHV0LnRzeCIsICIuLi8uLi91aS9jb21wb25lbnRzL3VpL2NhbGVuZGFyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL0RheVBpY2tlci50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9VSS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2NsYXNzZXMvRGF0ZUxpYi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRhdGUtZm5zK3R6QDEuMi4wL25vZGVfbW9kdWxlcy9AZGF0ZS1mbnMvdHovaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkYXRlLWZucyt0ekAxLjIuMC9ub2RlX21vZHVsZXMvQGRhdGUtZm5zL3R6L2NvbnN0YW50cy9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRhdGUtZm5zK3R6QDEuMi4wL25vZGVfbW9kdWxlcy9AZGF0ZS1mbnMvdHovZGF0ZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRhdGUtZm5zK3R6QDEuMi4wL25vZGVfbW9kdWxlcy9AZGF0ZS1mbnMvdHovZGF0ZS9taW5pLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGF0ZS1mbnMrdHpAMS4yLjAvbm9kZV9tb2R1bGVzL0BkYXRlLWZucy90ei90ek9mZnNldC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRhdGUtZm5zK3R6QDEuMi4wL25vZGVfbW9kdWxlcy9AZGF0ZS1mbnMvdHovdHovaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkYXRlLWZucyt0ekAxLjIuMC9ub2RlX21vZHVsZXMvQGRhdGUtZm5zL3R6L3R6U2Nhbi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZERheXMuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdHJ1Y3RGcm9tLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29uc3RhbnRzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvdG9EYXRlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkTW9udGhzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SVNPV2Vla1llYXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mSVNPV2Vlay5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZXZWVrLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9kZWZhdWx0T3B0aW9ucy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvbm9ybWFsaXplRGF0ZXMuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mRGF5LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZklTT1dlZWtZZWFyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkV2Vla3MuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9hZGRZZWFycy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL21heC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL21pbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzU2FtZURheS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzVmFsaWQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc0RhdGUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5DYWxlbmRhck1vbnRocy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mTW9udGguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL25vcm1hbGl6ZUludGVydmFsLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZWFjaE1vbnRoT2ZJbnRlcnZhbC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZNb250aC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mWWVhci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZZZWFyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZJU09XZWVrLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZXZWVrLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZm9ybWF0LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9kZWZhdWx0TG9jYWxlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0RGlzdGFuY2UuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRMb25nLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRGb3JtYXRMb25nRm4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRSZWxhdGl2ZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2xvY2FsaXplLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRMb2NhbGl6ZUZuLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvbWF0Y2guanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZE1hdGNoRm4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZE1hdGNoUGF0dGVybkZuLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvZm9ybWF0dGVycy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldERheU9mWWVhci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldElTT1dlZWsuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRXZWVrLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZldlZWtZZWFyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0V2Vla1llYXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2FkZExlYWRpbmdaZXJvcy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xpZ2h0Rm9ybWF0dGVycy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xvbmdGb3JtYXR0ZXJzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9wcm90ZWN0ZWRUb2tlbnMuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXREYXlzSW5Nb250aC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldE1vbnRoLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0WWVhci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzQWZ0ZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc0JlZm9yZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzU2FtZU1vbnRoLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNTYW1lWWVhci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3NldE1vbnRoLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc2V0WWVhci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvZW5kT2ZCcm9hZGNhc3RXZWVrLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy9nZXRCcm9hZGNhc3RXZWVrc0luTW9udGgudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9oZWxwZXJzL3N0YXJ0T2ZCcm9hZGNhc3RXZWVrLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy9nZXRDbGFzc05hbWVzRm9yTW9kaWZpZXJzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy9nZXRDb21wb25lbnRzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9jdXN0b20tY29tcG9uZW50cy50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL0J1dHRvbi50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL0NhcHRpb25MYWJlbC50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL0NoZXZyb24udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9EYXkudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9EYXlCdXR0b24udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9Ecm9wZG93bi50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL0Ryb3Bkb3duTmF2LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2NvbXBvbmVudHMvRm9vdGVyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2NvbXBvbmVudHMvTW9udGgudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9Nb250aENhcHRpb24udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9Nb250aEdyaWQudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9Nb250aHMudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9Nb250aHNEcm9wZG93bi50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy91c2VEYXlQaWNrZXIudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL05hdi50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL05leHRNb250aEJ1dHRvbi50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL09wdGlvbi50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL1ByZXZpb3VzTW9udGhCdXR0b24udHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9Sb290LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2NvbXBvbmVudHMvU2VsZWN0LnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2NvbXBvbmVudHMvV2Vlay50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL1dlZWtkYXkudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9XZWVrZGF5cy50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jb21wb25lbnRzL1dlZWtOdW1iZXIudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9XZWVrTnVtYmVySGVhZGVyLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2NvbXBvbmVudHMvV2Vla3MudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY29tcG9uZW50cy9ZZWFyc0Ryb3Bkb3duLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvZ2V0RGF0YUF0dHJpYnV0ZXMudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy9nZXREZWZhdWx0Q2xhc3NOYW1lcy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvZ2V0Rm9ybWF0dGVycy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2Zvcm1hdHRlcnMvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9mb3JtYXR0ZXJzL2Zvcm1hdENhcHRpb24udHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9mb3JtYXR0ZXJzL2Zvcm1hdERheS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2Zvcm1hdHRlcnMvZm9ybWF0TW9udGhEcm9wZG93bi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2Zvcm1hdHRlcnMvZm9ybWF0V2Vla051bWJlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2Zvcm1hdHRlcnMvZm9ybWF0V2Vla051bWJlckhlYWRlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2Zvcm1hdHRlcnMvZm9ybWF0V2Vla2RheU5hbWUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9mb3JtYXR0ZXJzL2Zvcm1hdFllYXJEcm9wZG93bi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvZ2V0TW9udGhPcHRpb25zLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy9nZXRTdHlsZUZvck1vZGlmaWVycy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvZ2V0V2Vla2RheXMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9oZWxwZXJzL2dldFllYXJPcHRpb25zLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvbGFiZWxzL2luZGV4LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvbGFiZWxzL2xhYmVsR3JpZC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2xhYmVscy9sYWJlbEdyaWRjZWxsLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvbGFiZWxzL2xhYmVsRGF5QnV0dG9uLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvbGFiZWxzL2xhYmVsTmF2LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvbGFiZWxzL2xhYmVsTW9udGhEcm9wZG93bi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2xhYmVscy9sYWJlbE5leHQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9sYWJlbHMvbGFiZWxQcmV2aW91cy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2xhYmVscy9sYWJlbFdlZWtkYXkudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9sYWJlbHMvbGFiZWxXZWVrTnVtYmVyLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvbGFiZWxzL2xhYmVsV2Vla051bWJlckhlYWRlci50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2xhYmVscy9sYWJlbFllYXJEcm9wZG93bi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL3VzZUFuaW1hdGlvbi50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL3VzZUNhbGVuZGFyLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy9nZXREYXRlcy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvZ2V0RGF5cy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvZ2V0RGlzcGxheU1vbnRocy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvZ2V0SW5pdGlhbE1vbnRoLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy9nZXRNb250aHMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9jbGFzc2VzL0NhbGVuZGFyRGF5LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY2xhc3Nlcy9DYWxlbmRhck1vbnRoLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvY2xhc3Nlcy9DYWxlbmRhcldlZWsudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9oZWxwZXJzL2dldE5hdk1vbnRoLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy9nZXROZXh0TW9udGgudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9oZWxwZXJzL2dldFByZXZpb3VzTW9udGgudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9oZWxwZXJzL2dldFdlZWtzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvaGVscGVycy91c2VDb250cm9sbGVkVmFsdWUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy91c2VGb2N1cy50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL2hlbHBlcnMvY2FsY3VsYXRlRm9jdXNUYXJnZXQudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9oZWxwZXJzL2dldE5leHRGb2N1cy50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy91dGlscy9kYXRlTWF0Y2hNb2RpZmllcnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy91dGlscy9yYW5nZUluY2x1ZGVzRGF0ZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL3V0aWxzL3R5cGVndWFyZHMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy9oZWxwZXJzL2dldEZvY3VzYWJsZURhdGUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy91c2VHZXRNb2RpZmllcnMudHN4IiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvdXNlU2VsZWN0aW9uLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvc2VsZWN0aW9uL3VzZU11bHRpLnRzeCIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL3NlbGVjdGlvbi91c2VSYW5nZS50c3giLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy91dGlscy9hZGRUb1JhbmdlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvdXRpbHMvcmFuZ2VDb250YWluc0RheU9mV2Vlay50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtZGF5LXBpY2tlckA5LjYuN19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvc3JjL3V0aWxzL3JhbmdlQ29udGFpbnNNb2RpZmllcnMudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWRheS1waWNrZXJAOS42LjdfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL3NyYy91dGlscy9yYW5nZU92ZXJsYXBzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1kYXktcGlja2VyQDkuNi43X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9zcmMvc2VsZWN0aW9uL3VzZVNpbmdsZS50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL2lucHV0L3VzZS1pbnB1dC50cyIsICIuLi8uLi91aS9zdHVkaW8vaW5wdXQvRW51bUlucHV0LnRzeCIsICIuLi8uLi91aS9zdHVkaW8vaW5wdXQvSnNvbklucHV0LnRzeCIsICIuLi8uLi91aS9zdHVkaW8vaW5wdXQvTnVtZXJpY0lucHV0LnRzeCIsICIuLi8uLi91aS9zdHVkaW8vaW5wdXQvUmF3SW5wdXQudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9pbnB1dC9UaW1lSW5wdXQudHN4IiwgIi4uLy4uL3VpL3N0dWRpby9saW5rL2dldC1saW5rLnRzeCIsICIuLi8uLi91aS9zdHVkaW8vdmlld3MvdGFibGUvRmlsdGVyVHJlZS50c3giLCAiLi4vLi4vbGliL2NvbnZlcnNpb25VdGlscy50cyIsICIuLi8uLi91aS9zdHVkaW8vdmlld3MvdGFibGUvU3RhZ2VkUm93cy50c3giLCAiLi4vLi4vdWkvc3R1ZGlvL3ZpZXdzL1ZpZXcudHN4Il0sCiAgInNvdXJjZXNDb250ZW50IjogWyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHJuZztcbi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXG5mdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX2RlZmF1bHQgPSAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfcmVnZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3JlZ2V4LmpzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIF9yZWdleC5kZWZhdWx0LnRlc3QodXVpZCk7XG59XG5cbnZhciBfZGVmYXVsdCA9IHZhbGlkYXRlO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuZXhwb3J0cy51bnNhZmVTdHJpbmdpZnkgPSB1bnNhZmVTdHJpbmdpZnk7XG5cbnZhciBfdmFsaWRhdGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3ZhbGlkYXRlLmpzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5jb25zdCBieXRlVG9IZXggPSBbXTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuXG5mdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV07XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoISgwLCBfdmFsaWRhdGUuZGVmYXVsdCkodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbnZhciBfZGVmYXVsdCA9IHN0cmluZ2lmeTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9ybmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3JuZy5qc1wiKSk7XG5cbnZhciBfc3RyaW5naWZ5ID0gcmVxdWlyZShcIi4vc3RyaW5naWZ5LmpzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5sZXQgX25vZGVJZDtcblxubGV0IF9jbG9ja3NlcTsgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG5cblxubGV0IF9sYXN0TVNlY3MgPSAwO1xubGV0IF9sYXN0TlNlY3MgPSAwOyAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBsZXQgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgY29uc3QgYiA9IGJ1ZiB8fCBuZXcgQXJyYXkoMTYpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGV0IG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgbGV0IGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTsgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG5cbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgY29uc3Qgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IF9ybmcuZGVmYXVsdCkoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIGxldCBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgbGV0IG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgY29uc3QgZHQgPSBtc2VjcyAtIF9sYXN0TVNlY3MgKyAobnNlY3MgLSBfbGFzdE5TZWNzKSAvIDEwMDAwOyAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG5cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfSAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG5cblxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfSAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG5cblxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTsgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG5cbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7IC8vIGB0aW1lX2xvd2BcblxuICBjb25zdCB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7IC8vIGB0aW1lX21pZGBcblxuICBjb25zdCB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yIChsZXQgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8ICgwLCBfc3RyaW5naWZ5LnVuc2FmZVN0cmluZ2lmeSkoYik7XG59XG5cbnZhciBfZGVmYXVsdCA9IHYxO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3ZhbGlkYXRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi92YWxpZGF0ZS5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCEoMCwgX3ZhbGlkYXRlLmRlZmF1bHQpKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuXG4gIGxldCB2O1xuICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheSgxNik7IC8vIFBhcnNlICMjIyMjIyMjLS4uLi4tLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFyclswXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgwLCA4KSwgMTYpKSA+Pj4gMjQ7XG4gIGFyclsxXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzJdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclszXSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0jIyMjLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoOSwgMTMpLCAxNikpID4+PiA4O1xuICBhcnJbNV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0jIyMjLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzZdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxOCksIDE2KSkgPj4+IDg7XG4gIGFycls3XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tIyMjIy0uLi4uLi4uLi4uLi5cblxuICBhcnJbOF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTksIDIzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzldID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0uLi4uLSMjIyMjIyMjIyMjI1xuICAvLyAoVXNlIFwiL1wiIHRvIGF2b2lkIDMyLWJpdCB0cnVuY2F0aW9uIHdoZW4gYml0LXNoaWZ0aW5nIGhpZ2gtb3JkZXIgYnl0ZXMpXG5cbiAgYXJyWzEwXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgyNCwgMzYpLCAxNikpIC8gMHgxMDAwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMV0gPSB2IC8gMHgxMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTJdID0gdiA+Pj4gMjQgJiAweGZmO1xuICBhcnJbMTNdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMTRdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclsxNV0gPSB2ICYgMHhmZjtcbiAgcmV0dXJuIGFycjtcbn1cblxudmFyIF9kZWZhdWx0ID0gcGFyc2U7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlVSTCA9IGV4cG9ydHMuRE5TID0gdm9pZCAwO1xuZXhwb3J0cy5kZWZhdWx0ID0gdjM1O1xuXG52YXIgX3N0cmluZ2lmeSA9IHJlcXVpcmUoXCIuL3N0cmluZ2lmeS5qc1wiKTtcblxudmFyIF9wYXJzZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcGFyc2UuanNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cikge1xuICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgY29uc3QgYnl0ZXMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5jb25zdCBETlMgPSAnNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydHMuRE5TID0gRE5TO1xuY29uc3QgVVJMID0gJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnRzLlVSTCA9IFVSTDtcblxuZnVuY3Rpb24gdjM1KG5hbWUsIHZlcnNpb24sIGhhc2hmdW5jKSB7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCh2YWx1ZSwgbmFtZXNwYWNlLCBidWYsIG9mZnNldCkge1xuICAgIHZhciBfbmFtZXNwYWNlO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gc3RyaW5nVG9CeXRlcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lc3BhY2UgPSAoMCwgX3BhcnNlLmRlZmF1bHQpKG5hbWVzcGFjZSk7XG4gICAgfVxuXG4gICAgaWYgKCgoX25hbWVzcGFjZSA9IG5hbWVzcGFjZSkgPT09IG51bGwgfHwgX25hbWVzcGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25hbWVzcGFjZS5sZW5ndGgpICE9PSAxNikge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdOYW1lc3BhY2UgbXVzdCBiZSBhcnJheS1saWtlICgxNiBpdGVyYWJsZSBpbnRlZ2VyIHZhbHVlcywgMC0yNTUpJyk7XG4gICAgfSAvLyBDb21wdXRlIGhhc2ggb2YgbmFtZXNwYWNlIGFuZCB2YWx1ZSwgUGVyIDQuM1xuICAgIC8vIEZ1dHVyZTogVXNlIHNwcmVhZCBzeW50YXggd2hlbiBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3JtcywgZS5nLiBgYnl0ZXMgPVxuICAgIC8vIGhhc2hmdW5jKFsuLi5uYW1lc3BhY2UsIC4uLiB2YWx1ZV0pYFxuXG5cbiAgICBsZXQgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNiArIHZhbHVlLmxlbmd0aCk7XG4gICAgYnl0ZXMuc2V0KG5hbWVzcGFjZSk7XG4gICAgYnl0ZXMuc2V0KHZhbHVlLCBuYW1lc3BhY2UubGVuZ3RoKTtcbiAgICBieXRlcyA9IGhhc2hmdW5jKGJ5dGVzKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gICAgaWYgKGJ1Zikge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG5cbiAgICByZXR1cm4gKDAsIF9zdHJpbmdpZnkudW5zYWZlU3RyaW5naWZ5KShieXRlcyk7XG4gIH0gLy8gRnVuY3Rpb24jbmFtZSBpcyBub3Qgc2V0dGFibGUgb24gc29tZSBwbGF0Zm9ybXMgKCMyNzApXG5cblxuICB0cnkge1xuICAgIGdlbmVyYXRlVVVJRC5uYW1lID0gbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gIH0gY2F0Y2ggKGVycikge30gLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcblxuXG4gIGdlbmVyYXRlVVVJRC5ETlMgPSBETlM7XG4gIGdlbmVyYXRlVVVJRC5VUkwgPSBVUkw7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUQ7XG59IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG4vKlxuICogQnJvd3Nlci1jb21wYXRpYmxlIEphdmFTY3JpcHQgTUQ1XG4gKlxuICogTW9kaWZpY2F0aW9uIG9mIEphdmFTY3JpcHQgTUQ1XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmx1ZWltcC9KYXZhU2NyaXB0LU1ENVxuICpcbiAqIENvcHlyaWdodCAyMDExLCBTZWJhc3RpYW4gVHNjaGFuXG4gKiBodHRwczovL2JsdWVpbXAubmV0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiBCYXNlZCBvblxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBSU0EgRGF0YSBTZWN1cml0eSwgSW5jLiBNRDUgTWVzc2FnZVxuICogRGlnZXN0IEFsZ29yaXRobSwgYXMgZGVmaW5lZCBpbiBSRkMgMTMyMS5cbiAqIFZlcnNpb24gMi4yIENvcHlyaWdodCAoQykgUGF1bCBKb2huc3RvbiAxOTk5IC0gMjAwOVxuICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldFxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXG4gKiBTZWUgaHR0cDovL3BhamhvbWUub3JnLnVrL2NyeXB0L21kNSBmb3IgbW9yZSBpbmZvLlxuICovXG5mdW5jdGlvbiBtZDUoYnl0ZXMpIHtcbiAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobXNnLmxlbmd0aCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXNbaV0gPSBtc2cuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWQ1VG9IZXhFbmNvZGVkQXJyYXkod29yZHNUb01kNShieXRlc1RvV29yZHMoYnl0ZXMpLCBieXRlcy5sZW5ndGggKiA4KSk7XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGFuIGFycmF5IG9mIGJ5dGVzXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVUb0hleEVuY29kZWRBcnJheShpbnB1dCkge1xuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgY29uc3QgbGVuZ3RoMzIgPSBpbnB1dC5sZW5ndGggKiAzMjtcbiAgY29uc3QgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgIGNvbnN0IHggPSBpbnB1dFtpID4+IDVdID4+PiBpICUgMzIgJiAweGZmO1xuICAgIGNvbnN0IGhleCA9IHBhcnNlSW50KGhleFRhYi5jaGFyQXQoeCA+Pj4gNCAmIDB4MGYpICsgaGV4VGFiLmNoYXJBdCh4ICYgMHgwZiksIDE2KTtcbiAgICBvdXRwdXQucHVzaChoZXgpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIG91dHB1dCBsZW5ndGggd2l0aCBwYWRkaW5nIGFuZCBiaXQgbGVuZ3RoXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRPdXRwdXRMZW5ndGgoaW5wdXRMZW5ndGg4KSB7XG4gIHJldHVybiAoaW5wdXRMZW5ndGg4ICsgNjQgPj4+IDkgPDwgNCkgKyAxNCArIDE7XG59XG4vKlxuICogQ2FsY3VsYXRlIHRoZSBNRDUgb2YgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcywgYW5kIGEgYml0IGxlbmd0aC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHdvcmRzVG9NZDUoeCwgbGVuKSB7XG4gIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gIHhbbGVuID4+IDVdIHw9IDB4ODAgPDwgbGVuICUgMzI7XG4gIHhbZ2V0T3V0cHV0TGVuZ3RoKGxlbikgLSAxXSA9IGxlbjtcbiAgbGV0IGEgPSAxNzMyNTg0MTkzO1xuICBsZXQgYiA9IC0yNzE3MzM4Nzk7XG4gIGxldCBjID0gLTE3MzI1ODQxOTQ7XG4gIGxldCBkID0gMjcxNzMzODc4O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICBjb25zdCBvbGRhID0gYTtcbiAgICBjb25zdCBvbGRiID0gYjtcbiAgICBjb25zdCBvbGRjID0gYztcbiAgICBjb25zdCBvbGRkID0gZDtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNywgNjA2MTA1ODE5KTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMCk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA3LCAtMTc2NDE4ODk3KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgNV0sIDEyLCAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgOF0sIDcsIDE3NzAwMzU0MTYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNywgLTQyMDYzKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDZdLCA5LCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTQsIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgNV0sIDUsIC03MDE1NTg2OTEpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxMF0sIDksIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDRdLCAyMCwgLTQwNTUzNzg0OCk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDldLCA1LCA1Njg0NDY0MzgpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgM10sIDE0LCAtMTg3MzYzOTYxKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgOF0sIDIwLCAxMTYzNTMxNTAxKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2Nyk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDJdLCA5LCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTQsIDE3MzUzMjg0NzMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTYsIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA0XSwgMTEsIDEyNzI4OTMzNTMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNCwgNjgxMjc5MTc0KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyAxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDddLCAxMCwgMTEyNjg5MTQxNSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDYsIDE3MDA0ODU1NzEpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgOF0sIDYsIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMTNdLCAyMSwgMTMwOTE1MTY0OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTUsIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG4gICAgYSA9IHNhZmVBZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVBZGQoYiwgb2xkYik7XG4gICAgYyA9IHNhZmVBZGQoYywgb2xkYyk7XG4gICAgZCA9IHNhZmVBZGQoZCwgb2xkZCk7XG4gIH1cblxuICByZXR1cm4gW2EsIGIsIGMsIGRdO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgYnl0ZXMgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICogQ2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGlnaC1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBieXRlc1RvV29yZHMoaW5wdXQpIHtcbiAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IGxlbmd0aDggPSBpbnB1dC5sZW5ndGggKiA4O1xuICBjb25zdCBvdXRwdXQgPSBuZXcgVWludDMyQXJyYXkoZ2V0T3V0cHV0TGVuZ3RoKGxlbmd0aDgpKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDg7IGkgKz0gOCkge1xuICAgIG91dHB1dFtpID4+IDVdIHw9IChpbnB1dFtpIC8gOF0gJiAweGZmKSA8PCBpICUgMzI7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLypcbiAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHlcbiAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXG4gKi9cblxuXG5mdW5jdGlvbiBzYWZlQWRkKHgsIHkpIHtcbiAgY29uc3QgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpO1xuICBjb25zdCBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgcmV0dXJuIG1zdyA8PCAxNiB8IGxzdyAmIDB4ZmZmZjtcbn1cbi8qXG4gKiBCaXR3aXNlIHJvdGF0ZSBhIDMyLWJpdCBudW1iZXIgdG8gdGhlIGxlZnQuXG4gKi9cblxuXG5mdW5jdGlvbiBiaXRSb3RhdGVMZWZ0KG51bSwgY250KSB7XG4gIHJldHVybiBudW0gPDwgY250IHwgbnVtID4+PiAzMiAtIGNudDtcbn1cbi8qXG4gKiBUaGVzZSBmdW5jdGlvbnMgaW1wbGVtZW50IHRoZSBmb3VyIGJhc2ljIG9wZXJhdGlvbnMgdGhlIGFsZ29yaXRobSB1c2VzLlxuICovXG5cblxuZnVuY3Rpb24gbWQ1Y21uKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIHNhZmVBZGQoYml0Um90YXRlTGVmdChzYWZlQWRkKHNhZmVBZGQoYSwgcSksIHNhZmVBZGQoeCwgdCkpLCBzKSwgYik7XG59XG5cbmZ1bmN0aW9uIG1kNWZmKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiICYgYyB8IH5iICYgZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWdnKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiICYgZCB8IGMgJiB+ZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWhoKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiIF4gYyBeIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVpaShhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYyBeIChiIHwgfmQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxudmFyIF9kZWZhdWx0ID0gbWQ1O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3YzNS5qc1wiKSk7XG5cbnZhciBfbWQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL21kNS5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmNvbnN0IHYzID0gKDAsIF92LmRlZmF1bHQpKCd2MycsIDB4MzAsIF9tZC5kZWZhdWx0KTtcbnZhciBfZGVmYXVsdCA9IHYzO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuY29uc3QgcmFuZG9tVVVJRCA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEICYmIGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgcmFuZG9tVVVJRFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9uYXRpdmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL25hdGl2ZS5qc1wiKSk7XG5cbnZhciBfcm5nID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9ybmcuanNcIikpO1xuXG52YXIgX3N0cmluZ2lmeSA9IHJlcXVpcmUoXCIuL3N0cmluZ2lmeS5qc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKF9uYXRpdmUuZGVmYXVsdC5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gX25hdGl2ZS5kZWZhdWx0LnJhbmRvbVVVSUQoKTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgX3JuZy5kZWZhdWx0KSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiAoMCwgX3N0cmluZ2lmeS51bnNhZmVTdHJpbmdpZnkpKHJuZHMpO1xufVxuXG52YXIgX2RlZmF1bHQgPSB2NDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxuLy8gQWRhcHRlZCBmcm9tIENocmlzIFZlbmVzcycgU0hBMSBjb2RlIGF0XG4vLyBodHRwOi8vd3d3Lm1vdmFibGUtdHlwZS5jby51ay9zY3JpcHRzL3NoYTEuaHRtbFxuZnVuY3Rpb24gZihzLCB4LCB5LCB6KSB7XG4gIHN3aXRjaCAocykge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldHVybiB4ICYgeSBeIH54ICYgejtcblxuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG5cbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4geCAmIHkgXiB4ICYgeiBeIHkgJiB6O1xuXG4gICAgY2FzZSAzOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcbiAgfVxufVxuXG5mdW5jdGlvbiBST1RMKHgsIG4pIHtcbiAgcmV0dXJuIHggPDwgbiB8IHggPj4+IDMyIC0gbjtcbn1cblxuZnVuY3Rpb24gc2hhMShieXRlcykge1xuICBjb25zdCBLID0gWzB4NWE4Mjc5OTksIDB4NmVkOWViYTEsIDB4OGYxYmJjZGMsIDB4Y2E2MmMxZDZdO1xuICBjb25zdCBIID0gWzB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsIDB4MTAzMjU0NzYsIDB4YzNkMmUxZjBdO1xuXG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgbXNnID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGJ5dGVzKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgICBieXRlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyArK2kpIHtcbiAgICAgIGJ5dGVzLnB1c2gobXNnLmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShieXRlcykpIHtcbiAgICAvLyBDb252ZXJ0IEFycmF5LWxpa2UgdG8gQXJyYXlcbiAgICBieXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGJ5dGVzKTtcbiAgfVxuXG4gIGJ5dGVzLnB1c2goMHg4MCk7XG4gIGNvbnN0IGwgPSBieXRlcy5sZW5ndGggLyA0ICsgMjtcbiAgY29uc3QgTiA9IE1hdGguY2VpbChsIC8gMTYpO1xuICBjb25zdCBNID0gbmV3IEFycmF5KE4pO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQzMkFycmF5KDE2KTtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgYXJyW2pdID0gYnl0ZXNbaSAqIDY0ICsgaiAqIDRdIDw8IDI0IHwgYnl0ZXNbaSAqIDY0ICsgaiAqIDQgKyAxXSA8PCAxNiB8IGJ5dGVzW2kgKiA2NCArIGogKiA0ICsgMl0gPDwgOCB8IGJ5dGVzW2kgKiA2NCArIGogKiA0ICsgM107XG4gICAgfVxuXG4gICAgTVtpXSA9IGFycjtcbiAgfVxuXG4gIE1bTiAtIDFdWzE0XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggLyBNYXRoLnBvdygyLCAzMik7XG4gIE1bTiAtIDFdWzE0XSA9IE1hdGguZmxvb3IoTVtOIC0gMV1bMTRdKTtcbiAgTVtOIC0gMV1bMTVdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAmIDB4ZmZmZmZmZmY7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICBjb25zdCBXID0gbmV3IFVpbnQzMkFycmF5KDgwKTtcblxuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgMTY7ICsrdCkge1xuICAgICAgV1t0XSA9IE1baV1bdF07XG4gICAgfVxuXG4gICAgZm9yIChsZXQgdCA9IDE2OyB0IDwgODA7ICsrdCkge1xuICAgICAgV1t0XSA9IFJPVEwoV1t0IC0gM10gXiBXW3QgLSA4XSBeIFdbdCAtIDE0XSBeIFdbdCAtIDE2XSwgMSk7XG4gICAgfVxuXG4gICAgbGV0IGEgPSBIWzBdO1xuICAgIGxldCBiID0gSFsxXTtcbiAgICBsZXQgYyA9IEhbMl07XG4gICAgbGV0IGQgPSBIWzNdO1xuICAgIGxldCBlID0gSFs0XTtcblxuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgODA7ICsrdCkge1xuICAgICAgY29uc3QgcyA9IE1hdGguZmxvb3IodCAvIDIwKTtcbiAgICAgIGNvbnN0IFQgPSBST1RMKGEsIDUpICsgZihzLCBiLCBjLCBkKSArIGUgKyBLW3NdICsgV1t0XSA+Pj4gMDtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gUk9UTChiLCAzMCkgPj4+IDA7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBUO1xuICAgIH1cblxuICAgIEhbMF0gPSBIWzBdICsgYSA+Pj4gMDtcbiAgICBIWzFdID0gSFsxXSArIGIgPj4+IDA7XG4gICAgSFsyXSA9IEhbMl0gKyBjID4+PiAwO1xuICAgIEhbM10gPSBIWzNdICsgZCA+Pj4gMDtcbiAgICBIWzRdID0gSFs0XSArIGUgPj4+IDA7XG4gIH1cblxuICByZXR1cm4gW0hbMF0gPj4gMjQgJiAweGZmLCBIWzBdID4+IDE2ICYgMHhmZiwgSFswXSA+PiA4ICYgMHhmZiwgSFswXSAmIDB4ZmYsIEhbMV0gPj4gMjQgJiAweGZmLCBIWzFdID4+IDE2ICYgMHhmZiwgSFsxXSA+PiA4ICYgMHhmZiwgSFsxXSAmIDB4ZmYsIEhbMl0gPj4gMjQgJiAweGZmLCBIWzJdID4+IDE2ICYgMHhmZiwgSFsyXSA+PiA4ICYgMHhmZiwgSFsyXSAmIDB4ZmYsIEhbM10gPj4gMjQgJiAweGZmLCBIWzNdID4+IDE2ICYgMHhmZiwgSFszXSA+PiA4ICYgMHhmZiwgSFszXSAmIDB4ZmYsIEhbNF0gPj4gMjQgJiAweGZmLCBIWzRdID4+IDE2ICYgMHhmZiwgSFs0XSA+PiA4ICYgMHhmZiwgSFs0XSAmIDB4ZmZdO1xufVxuXG52YXIgX2RlZmF1bHQgPSBzaGExO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3YzNS5qc1wiKSk7XG5cbnZhciBfc2hhID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zaGExLmpzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgdjUgPSAoMCwgX3YuZGVmYXVsdCkoJ3Y1JywgMHg1MCwgX3NoYS5kZWZhdWx0KTtcbnZhciBfZGVmYXVsdCA9IHY1O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9kZWZhdWx0ID0gJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCc7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdmFsaWRhdGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3ZhbGlkYXRlLmpzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghKDAsIF92YWxpZGF0ZS5kZWZhdWx0KSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VJbnQodXVpZC5zbGljZSgxNCwgMTUpLCAxNik7XG59XG5cbnZhciBfZGVmYXVsdCA9IHZlcnNpb247XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJOSUxcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX25pbC5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhcnNlXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9wYXJzZS5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN0cmluZ2lmeVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmRlZmF1bHQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidjFcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX3YuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2M1wiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfdjIuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2NFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfdjMuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2NVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfdjQuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2YWxpZGF0ZVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfdmFsaWRhdGUuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2ZXJzaW9uXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF92ZXJzaW9uLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3YxLmpzXCIpKTtcblxudmFyIF92MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdjMuanNcIikpO1xuXG52YXIgX3YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi92NC5qc1wiKSk7XG5cbnZhciBfdjQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3Y1LmpzXCIpKTtcblxudmFyIF9uaWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL25pbC5qc1wiKSk7XG5cbnZhciBfdmVyc2lvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdmVyc2lvbi5qc1wiKSk7XG5cbnZhciBfdmFsaWRhdGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3ZhbGlkYXRlLmpzXCIpKTtcblxudmFyIF9zdHJpbmdpZnkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3N0cmluZ2lmeS5qc1wiKSk7XG5cbnZhciBfcGFyc2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3BhcnNlLmpzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvbnZlcnRlclxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fSBzcmNBbHBoYWJldFxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXl9IGRzdEFscGhhYmV0XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQ29udmVydGVyKHNyY0FscGhhYmV0LCBkc3RBbHBoYWJldCkge1xuICAgIGlmICghc3JjQWxwaGFiZXQgfHwgIWRzdEFscGhhYmV0IHx8ICFzcmNBbHBoYWJldC5sZW5ndGggfHwgIWRzdEFscGhhYmV0Lmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBhbHBoYWJldCcpO1xuICAgIH1cbiAgICB0aGlzLnNyY0FscGhhYmV0ID0gc3JjQWxwaGFiZXQ7XG4gICAgdGhpcy5kc3RBbHBoYWJldCA9IGRzdEFscGhhYmV0O1xufVxuXG4vKipcbiAqIENvbnZlcnQgbnVtYmVyIGZyb20gc291cmNlIGFscGhhYmV0IHRvIGRlc3RpbmF0aW9uIGFscGhhYmV0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXl9IG51bWJlciAtIG51bWJlciByZXByZXNlbnRlZCBhcyBhIHN0cmluZyBvciBhcnJheSBvZiBwb2ludHNcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfEFycmF5fVxuICovXG5Db252ZXJ0ZXIucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgICB2YXIgaSwgZGl2aWRlLCBuZXdsZW4sXG4gICAgbnVtYmVyTWFwID0ge30sXG4gICAgZnJvbUJhc2UgPSB0aGlzLnNyY0FscGhhYmV0Lmxlbmd0aCxcbiAgICB0b0Jhc2UgPSB0aGlzLmRzdEFscGhhYmV0Lmxlbmd0aCxcbiAgICBsZW5ndGggPSBudW1iZXIubGVuZ3RoLFxuICAgIHJlc3VsdCA9IHR5cGVvZiBudW1iZXIgPT09ICdzdHJpbmcnID8gJycgOiBbXTtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKG51bWJlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOdW1iZXIgXCInICsgbnVtYmVyICsgJ1wiIGNvbnRhaW5zIG9mIG5vbi1hbHBoYWJldGljIGRpZ2l0cyAoJyArIHRoaXMuc3JjQWxwaGFiZXQgKyAnKScpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNyY0FscGhhYmV0ID09PSB0aGlzLmRzdEFscGhhYmV0KSB7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG51bWJlck1hcFtpXSA9IHRoaXMuc3JjQWxwaGFiZXQuaW5kZXhPZihudW1iZXJbaV0pO1xuICAgIH1cbiAgICBkbyB7XG4gICAgICAgIGRpdmlkZSA9IDA7XG4gICAgICAgIG5ld2xlbiA9IDA7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGl2aWRlID0gZGl2aWRlICogZnJvbUJhc2UgKyBudW1iZXJNYXBbaV07XG4gICAgICAgICAgICBpZiAoZGl2aWRlID49IHRvQmFzZSkge1xuICAgICAgICAgICAgICAgIG51bWJlck1hcFtuZXdsZW4rK10gPSBwYXJzZUludChkaXZpZGUgLyB0b0Jhc2UsIDEwKTtcbiAgICAgICAgICAgICAgICBkaXZpZGUgPSBkaXZpZGUgJSB0b0Jhc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5ld2xlbiA+IDApIHtcbiAgICAgICAgICAgICAgICBudW1iZXJNYXBbbmV3bGVuKytdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggPSBuZXdsZW47XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuZHN0QWxwaGFiZXQuc2xpY2UoZGl2aWRlLCBkaXZpZGUgKyAxKS5jb25jYXQocmVzdWx0KTtcbiAgICB9IHdoaWxlIChuZXdsZW4gIT09IDApO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWQgbnVtYmVyIHdpdGggc291cmNlIGFscGhhYmV0XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG51bWJlclxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Db252ZXJ0ZXIucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBudW1iZXIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHRoaXMuc3JjQWxwaGFiZXQuaW5kZXhPZihudW1iZXJbaV0pID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb252ZXJ0ZXI7IiwgInZhciBDb252ZXJ0ZXIgPSByZXF1aXJlKCcuL3NyYy9jb252ZXJ0ZXInKTtcblxuLyoqXG4gKiBGdW5jdGlvbiBnZXQgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBhbHBoYWJldCBhbmQgcmV0dXJuIGNvbnZlcnQgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheX0gc3JjQWxwaGFiZXRcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fSBkc3RBbHBoYWJldFxuICpcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihudW1iZXJ8QXJyYXkpfVxuICovXG5mdW5jdGlvbiBhbnlCYXNlKHNyY0FscGhhYmV0LCBkc3RBbHBoYWJldCkge1xuICAgIHZhciBjb252ZXJ0ZXIgPSBuZXcgQ29udmVydGVyKHNyY0FscGhhYmV0LCBkc3RBbHBoYWJldCk7XG4gICAgLyoqXG4gICAgICogQ29udmVydCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXl9IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfEFycmF5fSBudW1iZXJcbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICByZXR1cm4gY29udmVydGVyLmNvbnZlcnQobnVtYmVyKTtcbiAgICB9XG59O1xuXG5hbnlCYXNlLkJJTiA9ICcwMSc7XG5hbnlCYXNlLk9DVCA9ICcwMTIzNDU2Nyc7XG5hbnlCYXNlLkRFQyA9ICcwMTIzNDU2Nzg5JztcbmFueUJhc2UuSEVYID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFueUJhc2U7IiwgIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgb24gNi80LzIwMTYuXG4gKiBTaW1wbGUgd3JhcHBlciBmdW5jdGlvbnMgdG8gcHJvZHVjZSBzaG9ydGVyIFVVSURzIGZvciBjb29raWVzLCBtYXliZSBldmVyeXRoaW5nP1xuICovXG5cbmNvbnN0IHsgdjQ6IHV1aWRWNCwgdmFsaWRhdGU6IHV1aWRWYWxpZGF0ZSB9ID0gcmVxdWlyZSgndXVpZCcpO1xuY29uc3QgYW55QmFzZSA9IHJlcXVpcmUoJ2FueS1iYXNlJyk7XG5cbmNvbnN0IGNvbnN0YW50cyA9IHtcbiAgY29va2llQmFzZTkwOiBcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaISMkJSYnKCkqKy0uLzo8PT4/QFtdXl9ge3x9flwiLFxuICBmbGlja3JCYXNlNTg6ICcxMjM0NTY3ODlhYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaJyxcbiAgdXVpZDI1QmFzZTM2OiAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Jyxcbn07XG5cbmNvbnN0IGJhc2VPcHRpb25zID0ge1xuICBjb25zaXN0ZW50TGVuZ3RoOiB0cnVlLFxufTtcblxuLy8gQSBkZWZhdWx0IGdlbmVyYXRvciwgaW5zdGFudGlhdGVkIG9ubHkgaWYgdXNlZC5cbmxldCB0b0ZsaWNrcjtcblxuLyoqXG4gKiBUYWtlcyBhIFVVSUQsIHN0cmlwcyB0aGUgZGFzaGVzLCBhbmQgdHJhbnNsYXRlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBsb25nSWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKTpzdHJpbmd9IHRyYW5zbGF0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcGFkZGluZ1BhcmFtc11cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmNvbnN0IHNob3J0ZW5VVUlEID0gKGxvbmdJZCwgdHJhbnNsYXRvciwgcGFkZGluZ1BhcmFtcykgPT4ge1xuICBjb25zdCB0cmFuc2xhdGVkID0gdHJhbnNsYXRvcihsb25nSWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tL2csICcnKSk7XG5cbiAgaWYgKCFwYWRkaW5nUGFyYW1zIHx8ICFwYWRkaW5nUGFyYW1zLmNvbnNpc3RlbnRMZW5ndGgpIHJldHVybiB0cmFuc2xhdGVkO1xuXG4gIHJldHVybiB0cmFuc2xhdGVkLnBhZFN0YXJ0KFxuICAgIHBhZGRpbmdQYXJhbXMuc2hvcnRJZExlbmd0aCxcbiAgICBwYWRkaW5nUGFyYW1zLnBhZGRpbmdDaGFyLFxuICApO1xufTtcblxuLyoqXG4gKiBUcmFuc2xhdGUgYmFjayB0byBoZXggYW5kIHR1cm4gYmFjayBpbnRvIFVVSUQgZm9ybWF0LCB3aXRoIGRhc2hlc1xuICogQHBhcmFtIHtzdHJpbmd9IHNob3J0SWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKX0gdHJhbnNsYXRvclxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuY29uc3QgZW5sYXJnZVVVSUQgPSAoc2hvcnRJZCwgdHJhbnNsYXRvcikgPT4ge1xuICBjb25zdCB1dTEgPSB0cmFuc2xhdG9yKHNob3J0SWQpLnBhZFN0YXJ0KDMyLCAnMCcpO1xuXG4gIC8vIEpvaW4gdGhlIHplcm8gcGFkZGluZyBhbmQgdGhlIFVVSUQgYW5kIHRoZW4gc2xpY2UgaXQgdXAgd2l0aCBtYXRjaFxuICBjb25zdCBtID0gdXUxLm1hdGNoKC8oXFx3ezh9KShcXHd7NH0pKFxcd3s0fSkoXFx3ezR9KShcXHd7MTJ9KS8pO1xuXG4gIC8vIEFjY3VtdWxhdGUgdGhlIG1hdGNoZXMgYW5kIGpvaW4gdGhlbS5cbiAgcmV0dXJuIFttWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdXS5qb2luKCctJyk7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSBsZW5ndGggZm9yIHRoZSBzaG9ydGVuZWQgSURcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYWJldExlbmd0aFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuY29uc3QgZ2V0U2hvcnRJZExlbmd0aCA9IChhbHBoYWJldExlbmd0aCkgPT4gKFxuICBNYXRoLmNlaWwoTWF0aC5sb2coMiAqKiAxMjgpIC8gTWF0aC5sb2coYWxwaGFiZXRMZW5ndGgpKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gKCgpID0+IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b0FscGhhYmV0XG4gICAqIEBwYXJhbSB7eyBjb25zaXN0ZW50TGVuZ3RoOiBib29sZWFuIH19IFtvcHRpb25zXVxuICAgKiBAcmV0dXJucyB7e1xuICAgKiAgYWxwaGFiZXQ6IHN0cmluZyxcbiAgICogIGZyb21VVUlEOiAoZnVuY3Rpb24oKik6IHN0cmluZyksXG4gICAqICBnZW5lcmF0ZTogKGZ1bmN0aW9uKCk6IHN0cmluZyksXG4gICAqICBtYXhMZW5ndGg6IG51bWJlcixcbiAgICogIG5ldzogKGZ1bmN0aW9uKCk6IHN0cmluZyksXG4gICAqICB0b1VVSUQ6IChmdW5jdGlvbigqKTogc3RyaW5nKSxcbiAgICogIHV1aWQ6ICgoZnVuY3Rpb24oKiwgKiwgKik6ICgqKSl8KiksXG4gICAqICB2YWxpZGF0ZTogKChmdW5jdGlvbigqLCBib29sZWFuPWZhbHNlKTogKGJvb2xlYW4pKXwqKX19XG4gICAqL1xuICBjb25zdCBtYWtlQ29udmVydG9yID0gKHRvQWxwaGFiZXQsIG9wdGlvbnMpID0+IHtcbiAgICAvLyBEZWZhdWx0IHRvIEZsaWNrciA1OFxuICAgIGNvbnN0IHVzZUFscGhhYmV0ID0gdG9BbHBoYWJldCB8fCBjb25zdGFudHMuZmxpY2tyQmFzZTU4O1xuXG4gICAgLy8gRGVmYXVsdCB0byBiYXNlT3B0aW9uc1xuICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9ucyA9IHsgLi4uYmFzZU9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcblxuICAgIC8vIENoZWNrIGFscGhhYmV0IGZvciBkdXBsaWNhdGUgZW50cmllc1xuICAgIGlmIChbLi4ubmV3IFNldChBcnJheS5mcm9tKHVzZUFscGhhYmV0KSldLmxlbmd0aCAhPT0gdXNlQWxwaGFiZXQubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBBbHBoYWJldCBoYXMgZHVwbGljYXRlIGNoYXJhY3RlcnMgcmVzdWx0aW5nIGluIHVucmVsaWFibGUgcmVzdWx0cycpO1xuICAgIH1cblxuICAgIGNvbnN0IHNob3J0SWRMZW5ndGggPSBnZXRTaG9ydElkTGVuZ3RoKHVzZUFscGhhYmV0Lmxlbmd0aCk7XG5cbiAgICAvLyBQYWRkaW5nIFBhcmFtc1xuICAgIGNvbnN0IHBhZGRpbmdQYXJhbXMgPSB7XG4gICAgICBzaG9ydElkTGVuZ3RoLFxuICAgICAgY29uc2lzdGVudExlbmd0aDogc2VsZWN0ZWRPcHRpb25zLmNvbnNpc3RlbnRMZW5ndGgsXG4gICAgICBwYWRkaW5nQ2hhcjogdXNlQWxwaGFiZXRbMF0sXG4gICAgfTtcblxuICAgIC8vIFVVSURzIGFyZSBpbiBoZXgsIHNvIHdlIHRyYW5zbGF0ZSB0byBhbmQgZnJvbS5cbiAgICBjb25zdCBmcm9tSGV4ID0gYW55QmFzZShhbnlCYXNlLkhFWCwgdXNlQWxwaGFiZXQpO1xuICAgIGNvbnN0IHRvSGV4ID0gYW55QmFzZSh1c2VBbHBoYWJldCwgYW55QmFzZS5IRVgpO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gc2hvcnQgaWRcbiAgICAgKi9cbiAgICBjb25zdCBnZW5lcmF0ZSA9ICgpID0+IHNob3J0ZW5VVUlEKHV1aWRWNCgpLCBmcm9tSGV4LCBwYWRkaW5nUGFyYW1zKTtcblxuICAgIC8qKlxuICAgICAqIENvbmZpcm0gaWYgc3RyaW5nIGlzIGEgdmFsaWQgaWQuIENoZWNrcyBsZW5ndGggYW5kIGFscGhhYmV0LlxuICAgICAqIElmIHRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIHRydWUgaXQgd2lsbCB0cmFuc2xhdGUgdG8gc3RhbmRhcmQgVVVJRFxuICAgICAqICBhbmQgY2hlY2sgdGhlIHJlc3VsdCBmb3IgVVVJRCB2YWxpZGl0eS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2hvcnRJZCAtIFRoZSBzdHJpbmcgdG8gY2hlY2sgZm9yIHZhbGlkaXR5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmlnb3JvdXM9ZmFsc2VdIC0gSWYgdHJ1ZSwgYWxzbyBjaGVjayBmb3IgYSB2YWxpZCBVVUlEXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgY29uc3QgdmFsaWRhdGUgPSAoc2hvcnRJZCwgcmlnb3JvdXMgPSBmYWxzZSkgPT4ge1xuICAgICAgaWYgKCFzaG9ydElkIHx8IHR5cGVvZiBzaG9ydElkICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICAgICAgY29uc3QgaXNDb3JyZWN0TGVuZ3RoID0gc2VsZWN0ZWRPcHRpb25zLmNvbnNpc3RlbnRMZW5ndGhcbiAgICAgICAgPyBzaG9ydElkLmxlbmd0aCA9PT0gc2hvcnRJZExlbmd0aFxuICAgICAgICA6IHNob3J0SWQubGVuZ3RoIDw9IHNob3J0SWRMZW5ndGg7XG4gICAgICBjb25zdCBvbmx5QWxwaGFiZXQgPSBzaG9ydElkLnNwbGl0KCcnKS5ldmVyeSgobGV0dGVyKSA9PiB1c2VBbHBoYWJldC5pbmNsdWRlcyhsZXR0ZXIpKTtcbiAgICAgIGlmIChyaWdvcm91cyA9PT0gZmFsc2UpIHJldHVybiBpc0NvcnJlY3RMZW5ndGggJiYgb25seUFscGhhYmV0O1xuICAgICAgcmV0dXJuIGlzQ29ycmVjdExlbmd0aCAmJiBvbmx5QWxwaGFiZXQgJiYgdXVpZFZhbGlkYXRlKGVubGFyZ2VVVUlEKHNob3J0SWQsIHRvSGV4KSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHRyYW5zbGF0b3IgPSB7XG4gICAgICBhbHBoYWJldDogdXNlQWxwaGFiZXQsXG4gICAgICBmcm9tVVVJRDogKHV1aWQpID0+IHNob3J0ZW5VVUlEKHV1aWQsIGZyb21IZXgsIHBhZGRpbmdQYXJhbXMpLFxuICAgICAgbWF4TGVuZ3RoOiBzaG9ydElkTGVuZ3RoLFxuICAgICAgZ2VuZXJhdGUsXG4gICAgICBuZXc6IGdlbmVyYXRlLFxuICAgICAgdG9VVUlEOiAoc2hvcnRVdWlkKSA9PiBlbmxhcmdlVVVJRChzaG9ydFV1aWQsIHRvSGV4KSxcbiAgICAgIHV1aWQ6IHV1aWRWNCxcbiAgICAgIHZhbGlkYXRlLFxuICAgIH07XG5cbiAgICBPYmplY3QuZnJlZXplKHRyYW5zbGF0b3IpO1xuXG4gICAgcmV0dXJuIHRyYW5zbGF0b3I7XG4gIH07XG5cbiAgLy8gRXhwb3NlIHRoZSBjb25zdGFudHMgZm9yIG90aGVyIHB1cnBvc2VzLlxuICBtYWtlQ29udmVydG9yLmNvbnN0YW50cyA9IGNvbnN0YW50cztcblxuICAvLyBFeHBvc2UgdGhlIGdlbmVyaWMgdjQgVVVJRCBnZW5lcmF0b3IgZm9yIGNvbnZlbmllbmNlXG4gIG1ha2VDb252ZXJ0b3IudXVpZCA9IHV1aWRWNDtcblxuICAvLyBQcm92aWRlIGEgZ2VuZXJpYyBnZW5lcmF0b3JcbiAgbWFrZUNvbnZlcnRvci5nZW5lcmF0ZSA9ICgpID0+IHtcbiAgICBpZiAoIXRvRmxpY2tyKSB7XG4gICAgICAvLyBHZW5lcmF0ZSBvbiBmaXJzdCB1c2U7XG4gICAgICB0b0ZsaWNrciA9IG1ha2VDb252ZXJ0b3IoY29uc3RhbnRzLmZsaWNrckJhc2U1OCkuZ2VuZXJhdGU7XG4gICAgfVxuICAgIHJldHVybiB0b0ZsaWNrcigpO1xuICB9O1xuXG4gIHJldHVybiBtYWtlQ29udmVydG9yO1xufSkoKTtcbiIsICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiB1c2Utc3luYy1leHRlcm5hbC1zdG9yZS1zaGltLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICd1c2Ugc3RyaWN0JztcblxuLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuaWYgKFxuICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCA9PT1cbiAgICAnZnVuY3Rpb24nXG4pIHtcbiAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChuZXcgRXJyb3IoKSk7XG59XG4gICAgICAgICAgdmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0gUmVhY3QuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG5cbmZ1bmN0aW9uIGVycm9yKGZvcm1hdCkge1xuICB7XG4gICAge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nKCdlcnJvcicsIGZvcm1hdCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByaW50V2FybmluZyhsZXZlbCwgZm9ybWF0LCBhcmdzKSB7XG4gIC8vIFdoZW4gY2hhbmdpbmcgdGhpcyBsb2dpYywgeW91IG1pZ2h0IHdhbnQgdG8gYWxzb1xuICAvLyB1cGRhdGUgY29uc29sZVdpdGhTdGFja0Rldi53d3cuanMgYXMgd2VsbC5cbiAge1xuICAgIHZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbiAgICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcblxuICAgIGlmIChzdGFjayAhPT0gJycpIHtcbiAgICAgIGZvcm1hdCArPSAnJXMnO1xuICAgICAgYXJncyA9IGFyZ3MuY29uY2F0KFtzdGFja10pO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uXG5cblxuICAgIHZhciBhcmdzV2l0aEZvcm1hdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKGl0ZW0pO1xuICAgIH0pOyAvLyBDYXJlZnVsOiBSTiBjdXJyZW50bHkgZGVwZW5kcyBvbiB0aGlzIHByZWZpeFxuXG4gICAgYXJnc1dpdGhGb3JtYXQudW5zaGlmdCgnV2FybmluZzogJyArIGZvcm1hdCk7IC8vIFdlIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIHNwcmVhZCAob3IgLmFwcGx5KSBkaXJlY3RseSBiZWNhdXNlIGl0XG4gICAgLy8gYnJlYWtzIElFOTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMzYxMFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmdcblxuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGVbbGV2ZWxdLCBjb25zb2xlLCBhcmdzV2l0aEZvcm1hdCk7XG4gIH1cbn1cblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICByZXR1cm4geCA9PT0geSAmJiAoeCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHkpIHx8IHggIT09IHggJiYgeSAhPT0geSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICA7XG59XG5cbnZhciBvYmplY3RJcyA9IHR5cGVvZiBPYmplY3QuaXMgPT09ICdmdW5jdGlvbicgPyBPYmplY3QuaXMgOiBpcztcblxuLy8gZGlzcGF0Y2ggZm9yIENvbW1vbkpTIGludGVyb3AgbmFtZWQgaW1wb3J0cy5cblxudmFyIHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUsXG4gICAgdXNlRWZmZWN0ID0gUmVhY3QudXNlRWZmZWN0LFxuICAgIHVzZUxheW91dEVmZmVjdCA9IFJlYWN0LnVzZUxheW91dEVmZmVjdCxcbiAgICB1c2VEZWJ1Z1ZhbHVlID0gUmVhY3QudXNlRGVidWdWYWx1ZTtcbnZhciBkaWRXYXJuT2xkMThBbHBoYSA9IGZhbHNlO1xudmFyIGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90ID0gZmFsc2U7IC8vIERpc2NsYWltZXI6IFRoaXMgc2hpbSBicmVha3MgbWFueSBvZiB0aGUgcnVsZXMgb2YgUmVhY3QsIGFuZCBvbmx5IHdvcmtzXG4vLyBiZWNhdXNlIG9mIGEgdmVyeSBwYXJ0aWN1bGFyIHNldCBvZiBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIGFuZCBhc3N1bXB0aW9uc1xuLy8gLS0gY2hhbmdlIGFueSBvbmUgb2YgdGhlbSBhbmQgaXQgd2lsbCBicmVhay4gVGhlIG1vc3QgaW1wb3J0YW50IGFzc3VtcHRpb25cbi8vIGlzIHRoYXQgdXBkYXRlcyBhcmUgYWx3YXlzIHN5bmNocm9ub3VzLCBiZWNhdXNlIGNvbmN1cnJlbnQgcmVuZGVyaW5nIGlzXG4vLyBvbmx5IGF2YWlsYWJsZSBpbiB2ZXJzaW9ucyBvZiBSZWFjdCB0aGF0IGFsc28gaGF2ZSBhIGJ1aWx0LWluXG4vLyB1c2VTeW5jRXh0ZXJuYWxTdG9yZSBBUEkuIEFuZCB3ZSBvbmx5IHVzZSB0aGlzIHNoaW0gd2hlbiB0aGUgYnVpbHQtaW4gQVBJXG4vLyBkb2VzIG5vdCBleGlzdC5cbi8vXG4vLyBEbyBub3QgYXNzdW1lIHRoYXQgdGhlIGNsZXZlciBoYWNrcyB1c2VkIGJ5IHRoaXMgaG9vayBhbHNvIHdvcmsgaW4gZ2VuZXJhbC5cbi8vIFRoZSBwb2ludCBvZiB0aGlzIHNoaW0gaXMgdG8gcmVwbGFjZSB0aGUgbmVlZCBmb3IgaGFja3MgYnkgb3RoZXIgbGlicmFyaWVzLlxuXG5mdW5jdGlvbiB1c2VTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGdldFNuYXBzaG90LCAvLyBOb3RlOiBUaGUgc2hpbSBkb2VzIG5vdCB1c2UgZ2V0U2VydmVyU25hcHNob3QsIGJlY2F1c2UgcHJlLTE4IHZlcnNpb25zIG9mXG4vLyBSZWFjdCBkbyBub3QgZXhwb3NlIGEgd2F5IHRvIGNoZWNrIGlmIHdlJ3JlIGh5ZHJhdGluZy4gU28gdXNlcnMgb2YgdGhlIHNoaW1cbi8vIHdpbGwgbmVlZCB0byB0cmFjayB0aGF0IHRoZW1zZWx2ZXMgYW5kIHJldHVybiB0aGUgY29ycmVjdCB2YWx1ZVxuLy8gZnJvbSBgZ2V0U25hcHNob3RgLlxuZ2V0U2VydmVyU25hcHNob3QpIHtcbiAge1xuICAgIGlmICghZGlkV2Fybk9sZDE4QWxwaGEpIHtcbiAgICAgIGlmIChSZWFjdC5zdGFydFRyYW5zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkaWRXYXJuT2xkMThBbHBoYSA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJ1lvdSBhcmUgdXNpbmcgYW4gb3V0ZGF0ZWQsIHByZS1yZWxlYXNlIGFscGhhIG9mIFJlYWN0IDE4IHRoYXQgJyArICdkb2VzIG5vdCBzdXBwb3J0IHVzZVN5bmNFeHRlcm5hbFN0b3JlLiBUaGUgJyArICd1c2Utc3luYy1leHRlcm5hbC1zdG9yZSBzaGltIHdpbGwgbm90IHdvcmsgY29ycmVjdGx5LiBVcGdyYWRlICcgKyAndG8gYSBuZXdlciBwcmUtcmVsZWFzZS4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gUmVhZCB0aGUgY3VycmVudCBzbmFwc2hvdCBmcm9tIHRoZSBzdG9yZSBvbiBldmVyeSByZW5kZXIuIEFnYWluLCB0aGlzXG4gIC8vIGJyZWFrcyB0aGUgcnVsZXMgb2YgUmVhY3QsIGFuZCBvbmx5IHdvcmtzIGhlcmUgYmVjYXVzZSBvZiBzcGVjaWZpY1xuICAvLyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLCBtb3N0IGltcG9ydGFudGx5IHRoYXQgdXBkYXRlcyBhcmVcbiAgLy8gYWx3YXlzIHN5bmNocm9ub3VzLlxuXG5cbiAgdmFyIHZhbHVlID0gZ2V0U25hcHNob3QoKTtcblxuICB7XG4gICAgaWYgKCFkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCkge1xuICAgICAgdmFyIGNhY2hlZFZhbHVlID0gZ2V0U25hcHNob3QoKTtcblxuICAgICAgaWYgKCFvYmplY3RJcyh2YWx1ZSwgY2FjaGVkVmFsdWUpKSB7XG4gICAgICAgIGVycm9yKCdUaGUgcmVzdWx0IG9mIGdldFNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcCcpO1xuXG4gICAgICAgIGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gQmVjYXVzZSB1cGRhdGVzIGFyZSBzeW5jaHJvbm91cywgd2UgZG9uJ3QgcXVldWUgdGhlbS4gSW5zdGVhZCB3ZSBmb3JjZSBhXG4gIC8vIHJlLXJlbmRlciB3aGVuZXZlciB0aGUgc3Vic2NyaWJlZCBzdGF0ZSBjaGFuZ2VzIGJ5IHVwZGF0aW5nIGFuIHNvbWVcbiAgLy8gYXJiaXRyYXJ5IHVzZVN0YXRlIGhvb2suIFRoZW4sIGR1cmluZyByZW5kZXIsIHdlIGNhbGwgZ2V0U25hcHNob3QgdG8gcmVhZFxuICAvLyB0aGUgY3VycmVudCB2YWx1ZS5cbiAgLy9cbiAgLy8gQmVjYXVzZSB3ZSBkb24ndCBhY3R1YWxseSB1c2UgdGhlIHN0YXRlIHJldHVybmVkIGJ5IHRoZSB1c2VTdGF0ZSBob29rLCB3ZVxuICAvLyBjYW4gc2F2ZSBhIGJpdCBvZiBtZW1vcnkgYnkgc3RvcmluZyBvdGhlciBzdHVmZiBpbiB0aGF0IHNsb3QuXG4gIC8vXG4gIC8vIFRvIGltcGxlbWVudCB0aGUgZWFybHkgYmFpbG91dCwgd2UgbmVlZCB0byB0cmFjayBzb21lIHRoaW5ncyBvbiBhIG11dGFibGVcbiAgLy8gb2JqZWN0LiBVc3VhbGx5LCB3ZSB3b3VsZCBwdXQgdGhhdCBpbiBhIHVzZVJlZiBob29rLCBidXQgd2UgY2FuIHN0YXNoIGl0IGluXG4gIC8vIG91ciB1c2VTdGF0ZSBob29rIGluc3RlYWQuXG4gIC8vXG4gIC8vIFRvIGZvcmNlIGEgcmUtcmVuZGVyLCB3ZSBjYWxsIGZvcmNlVXBkYXRlKHtpbnN0fSkuIFRoYXQgd29ya3MgYmVjYXVzZSB0aGVcbiAgLy8gbmV3IG9iamVjdCBhbHdheXMgZmFpbHMgYW4gZXF1YWxpdHkgY2hlY2suXG5cblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoe1xuICAgIGluc3Q6IHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGdldFNuYXBzaG90OiBnZXRTbmFwc2hvdFxuICAgIH1cbiAgfSksXG4gICAgICBpbnN0ID0gX3VzZVN0YXRlWzBdLmluc3QsXG4gICAgICBmb3JjZVVwZGF0ZSA9IF91c2VTdGF0ZVsxXTsgLy8gVHJhY2sgdGhlIGxhdGVzdCBnZXRTbmFwc2hvdCBmdW5jdGlvbiB3aXRoIGEgcmVmLiBUaGlzIG5lZWRzIHRvIGJlIHVwZGF0ZWRcbiAgLy8gaW4gdGhlIGxheW91dCBwaGFzZSBzbyB3ZSBjYW4gYWNjZXNzIGl0IGR1cmluZyB0aGUgdGVhcmluZyBjaGVjayB0aGF0XG4gIC8vIGhhcHBlbnMgb24gc3Vic2NyaWJlLlxuXG5cbiAgdXNlTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpbnN0LnZhbHVlID0gdmFsdWU7XG4gICAgaW5zdC5nZXRTbmFwc2hvdCA9IGdldFNuYXBzaG90OyAvLyBXaGVuZXZlciBnZXRTbmFwc2hvdCBvciBzdWJzY3JpYmUgY2hhbmdlcywgd2UgbmVlZCB0byBjaGVjayBpbiB0aGVcbiAgICAvLyBjb21taXQgcGhhc2UgaWYgdGhlcmUgd2FzIGFuIGludGVybGVhdmVkIG11dGF0aW9uLiBJbiBjb25jdXJyZW50IG1vZGVcbiAgICAvLyB0aGlzIGNhbiBoYXBwZW4gYWxsIHRoZSB0aW1lLCBidXQgZXZlbiBpbiBzeW5jaHJvbm91cyBtb2RlLCBhbiBlYXJsaWVyXG4gICAgLy8gZWZmZWN0IG1heSBoYXZlIG11dGF0ZWQgdGhlIHN0b3JlLlxuXG4gICAgaWYgKGNoZWNrSWZTbmFwc2hvdENoYW5nZWQoaW5zdCkpIHtcbiAgICAgIC8vIEZvcmNlIGEgcmUtcmVuZGVyLlxuICAgICAgZm9yY2VVcGRhdGUoe1xuICAgICAgICBpbnN0OiBpbnN0XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtzdWJzY3JpYmUsIHZhbHVlLCBnZXRTbmFwc2hvdF0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIENoZWNrIGZvciBjaGFuZ2VzIHJpZ2h0IGJlZm9yZSBzdWJzY3JpYmluZy4gU3Vic2VxdWVudCBjaGFuZ2VzIHdpbGwgYmVcbiAgICAvLyBkZXRlY3RlZCBpbiB0aGUgc3Vic2NyaXB0aW9uIGhhbmRsZXIuXG4gICAgaWYgKGNoZWNrSWZTbmFwc2hvdENoYW5nZWQoaW5zdCkpIHtcbiAgICAgIC8vIEZvcmNlIGEgcmUtcmVuZGVyLlxuICAgICAgZm9yY2VVcGRhdGUoe1xuICAgICAgICBpbnN0OiBpbnN0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgaGFuZGxlU3RvcmVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBUT0RPOiBCZWNhdXNlIHRoZXJlIGlzIG5vIGNyb3NzLXJlbmRlcmVyIEFQSSBmb3IgYmF0Y2hpbmcgdXBkYXRlcywgaXQnc1xuICAgICAgLy8gdXAgdG8gdGhlIGNvbnN1bWVyIG9mIHRoaXMgbGlicmFyeSB0byB3cmFwIHRoZWlyIHN1YnNjcmlwdGlvbiBldmVudFxuICAgICAgLy8gd2l0aCB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcy4gU2hvdWxkIHdlIHRyeSB0byBkZXRlY3Qgd2hlbiB0aGlzIGlzbid0XG4gICAgICAvLyB0aGUgY2FzZSBhbmQgcHJpbnQgYSB3YXJuaW5nIGluIGRldmVsb3BtZW50P1xuICAgICAgLy8gVGhlIHN0b3JlIGNoYW5nZWQuIENoZWNrIGlmIHRoZSBzbmFwc2hvdCBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgd2VcbiAgICAgIC8vIHJlYWQgZnJvbSB0aGUgc3RvcmUuXG4gICAgICBpZiAoY2hlY2tJZlNuYXBzaG90Q2hhbmdlZChpbnN0KSkge1xuICAgICAgICAvLyBGb3JjZSBhIHJlLXJlbmRlci5cbiAgICAgICAgZm9yY2VVcGRhdGUoe1xuICAgICAgICAgIGluc3Q6IGluc3RcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTsgLy8gU3Vic2NyaWJlIHRvIHRoZSBzdG9yZSBhbmQgcmV0dXJuIGEgY2xlYW4tdXAgZnVuY3Rpb24uXG5cblxuICAgIHJldHVybiBzdWJzY3JpYmUoaGFuZGxlU3RvcmVDaGFuZ2UpO1xuICB9LCBbc3Vic2NyaWJlXSk7XG4gIHVzZURlYnVnVmFsdWUodmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNoZWNrSWZTbmFwc2hvdENoYW5nZWQoaW5zdCkge1xuICB2YXIgbGF0ZXN0R2V0U25hcHNob3QgPSBpbnN0LmdldFNuYXBzaG90O1xuICB2YXIgcHJldlZhbHVlID0gaW5zdC52YWx1ZTtcblxuICB0cnkge1xuICAgIHZhciBuZXh0VmFsdWUgPSBsYXRlc3RHZXRTbmFwc2hvdCgpO1xuICAgIHJldHVybiAhb2JqZWN0SXMocHJldlZhbHVlLCBuZXh0VmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVN5bmNFeHRlcm5hbFN0b3JlJDEoc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpIHtcbiAgLy8gTm90ZTogVGhlIHNoaW0gZG9lcyBub3QgdXNlIGdldFNlcnZlclNuYXBzaG90LCBiZWNhdXNlIHByZS0xOCB2ZXJzaW9ucyBvZlxuICAvLyBSZWFjdCBkbyBub3QgZXhwb3NlIGEgd2F5IHRvIGNoZWNrIGlmIHdlJ3JlIGh5ZHJhdGluZy4gU28gdXNlcnMgb2YgdGhlIHNoaW1cbiAgLy8gd2lsbCBuZWVkIHRvIHRyYWNrIHRoYXQgdGhlbXNlbHZlcyBhbmQgcmV0dXJuIHRoZSBjb3JyZWN0IHZhbHVlXG4gIC8vIGZyb20gYGdldFNuYXBzaG90YC5cbiAgcmV0dXJuIGdldFNuYXBzaG90KCk7XG59XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnKTtcblxudmFyIGlzU2VydmVyRW52aXJvbm1lbnQgPSAhY2FuVXNlRE9NO1xuXG52YXIgc2hpbSA9IGlzU2VydmVyRW52aXJvbm1lbnQgPyB1c2VTeW5jRXh0ZXJuYWxTdG9yZSQxIDogdXNlU3luY0V4dGVybmFsU3RvcmU7XG52YXIgdXNlU3luY0V4dGVybmFsU3RvcmUkMiA9IFJlYWN0LnVzZVN5bmNFeHRlcm5hbFN0b3JlICE9PSB1bmRlZmluZWQgPyBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZSA6IHNoaW07XG5cbmV4cG9ydHMudXNlU3luY0V4dGVybmFsU3RvcmUgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZSQyO1xuICAgICAgICAgIC8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbmlmIChcbiAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCA9PT1cbiAgICAnZnVuY3Rpb24nXG4pIHtcbiAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKG5ldyBFcnJvcigpKTtcbn1cbiAgICAgICAgXG4gIH0pKCk7XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL2Nqcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS1zaGltLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL2Nqcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS1zaGltLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtc2hpbS93aXRoLXNlbGVjdG9yLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICd1c2Ugc3RyaWN0JztcblxuLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuaWYgKFxuICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCA9PT1cbiAgICAnZnVuY3Rpb24nXG4pIHtcbiAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChuZXcgRXJyb3IoKSk7XG59XG4gICAgICAgICAgdmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBzaGltID0gcmVxdWlyZSgndXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvc2hpbScpO1xuXG4vKipcbiAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICovXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gIHJldHVybiB4ID09PSB5ICYmICh4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geSkgfHwgeCAhPT0geCAmJiB5ICE9PSB5IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gIDtcbn1cblxudmFyIG9iamVjdElzID0gdHlwZW9mIE9iamVjdC5pcyA9PT0gJ2Z1bmN0aW9uJyA/IE9iamVjdC5pcyA6IGlzO1xuXG52YXIgdXNlU3luY0V4dGVybmFsU3RvcmUgPSBzaGltLnVzZVN5bmNFeHRlcm5hbFN0b3JlO1xuXG4vLyBmb3IgQ29tbW9uSlMgaW50ZXJvcC5cblxudmFyIHVzZVJlZiA9IFJlYWN0LnVzZVJlZixcbiAgICB1c2VFZmZlY3QgPSBSZWFjdC51c2VFZmZlY3QsXG4gICAgdXNlTWVtbyA9IFJlYWN0LnVzZU1lbW8sXG4gICAgdXNlRGVidWdWYWx1ZSA9IFJlYWN0LnVzZURlYnVnVmFsdWU7IC8vIFNhbWUgYXMgdXNlU3luY0V4dGVybmFsU3RvcmUsIGJ1dCBzdXBwb3J0cyBzZWxlY3RvciBhbmQgaXNFcXVhbCBhcmd1bWVudHMuXG5cbmZ1bmN0aW9uIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90LCBzZWxlY3RvciwgaXNFcXVhbCkge1xuICAvLyBVc2UgdGhpcyB0byB0cmFjayB0aGUgcmVuZGVyZWQgc25hcHNob3QuXG4gIHZhciBpbnN0UmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgaW5zdDtcblxuICBpZiAoaW5zdFJlZi5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgaW5zdCA9IHtcbiAgICAgIGhhc1ZhbHVlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfTtcbiAgICBpbnN0UmVmLmN1cnJlbnQgPSBpbnN0O1xuICB9IGVsc2Uge1xuICAgIGluc3QgPSBpbnN0UmVmLmN1cnJlbnQ7XG4gIH1cblxuICB2YXIgX3VzZU1lbW8gPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUcmFjayB0aGUgbWVtb2l6ZWQgc3RhdGUgdXNpbmcgY2xvc3VyZSB2YXJpYWJsZXMgdGhhdCBhcmUgbG9jYWwgdG8gdGhpc1xuICAgIC8vIG1lbW9pemVkIGluc3RhbmNlIG9mIGEgZ2V0U25hcHNob3QgZnVuY3Rpb24uIEludGVudGlvbmFsbHkgbm90IHVzaW5nIGFcbiAgICAvLyB1c2VSZWYgaG9vaywgYmVjYXVzZSB0aGF0IHN0YXRlIHdvdWxkIGJlIHNoYXJlZCBhY3Jvc3MgYWxsIGNvbmN1cnJlbnRcbiAgICAvLyBjb3BpZXMgb2YgdGhlIGhvb2svY29tcG9uZW50LlxuICAgIHZhciBoYXNNZW1vID0gZmFsc2U7XG4gICAgdmFyIG1lbW9pemVkU25hcHNob3Q7XG4gICAgdmFyIG1lbW9pemVkU2VsZWN0aW9uO1xuXG4gICAgdmFyIG1lbW9pemVkU2VsZWN0b3IgPSBmdW5jdGlvbiAobmV4dFNuYXBzaG90KSB7XG4gICAgICBpZiAoIWhhc01lbW8pIHtcbiAgICAgICAgLy8gVGhlIGZpcnN0IHRpbWUgdGhlIGhvb2sgaXMgY2FsbGVkLCB0aGVyZSBpcyBubyBtZW1vaXplZCByZXN1bHQuXG4gICAgICAgIGhhc01lbW8gPSB0cnVlO1xuICAgICAgICBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90O1xuXG4gICAgICAgIHZhciBfbmV4dFNlbGVjdGlvbiA9IHNlbGVjdG9yKG5leHRTbmFwc2hvdCk7XG5cbiAgICAgICAgaWYgKGlzRXF1YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIEV2ZW4gaWYgdGhlIHNlbGVjdG9yIGhhcyBjaGFuZ2VkLCB0aGUgY3VycmVudGx5IHJlbmRlcmVkIHNlbGVjdGlvblxuICAgICAgICAgIC8vIG1heSBiZSBlcXVhbCB0byB0aGUgbmV3IHNlbGVjdGlvbi4gV2Ugc2hvdWxkIGF0dGVtcHQgdG8gcmV1c2UgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCB2YWx1ZSBpZiBwb3NzaWJsZSwgdG8gcHJlc2VydmUgZG93bnN0cmVhbSBtZW1vaXphdGlvbnMuXG4gICAgICAgICAgaWYgKGluc3QuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gaW5zdC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKGlzRXF1YWwoY3VycmVudFNlbGVjdGlvbiwgX25leHRTZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICAgIG1lbW9pemVkU2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbWVtb2l6ZWRTZWxlY3Rpb24gPSBfbmV4dFNlbGVjdGlvbjtcbiAgICAgICAgcmV0dXJuIF9uZXh0U2VsZWN0aW9uO1xuICAgICAgfSAvLyBXZSBtYXkgYmUgYWJsZSB0byByZXVzZSB0aGUgcHJldmlvdXMgaW52b2NhdGlvbidzIHJlc3VsdC5cblxuXG4gICAgICAvLyBXZSBtYXkgYmUgYWJsZSB0byByZXVzZSB0aGUgcHJldmlvdXMgaW52b2NhdGlvbidzIHJlc3VsdC5cbiAgICAgIHZhciBwcmV2U25hcHNob3QgPSBtZW1vaXplZFNuYXBzaG90O1xuICAgICAgdmFyIHByZXZTZWxlY3Rpb24gPSBtZW1vaXplZFNlbGVjdGlvbjtcblxuICAgICAgaWYgKG9iamVjdElzKHByZXZTbmFwc2hvdCwgbmV4dFNuYXBzaG90KSkge1xuICAgICAgICAvLyBUaGUgc25hcHNob3QgaXMgdGhlIHNhbWUgYXMgbGFzdCB0aW1lLiBSZXVzZSB0aGUgcHJldmlvdXMgc2VsZWN0aW9uLlxuICAgICAgICByZXR1cm4gcHJldlNlbGVjdGlvbjtcbiAgICAgIH0gLy8gVGhlIHNuYXBzaG90IGhhcyBjaGFuZ2VkLCBzbyB3ZSBuZWVkIHRvIGNvbXB1dGUgYSBuZXcgc2VsZWN0aW9uLlxuXG5cbiAgICAgIC8vIFRoZSBzbmFwc2hvdCBoYXMgY2hhbmdlZCwgc28gd2UgbmVlZCB0byBjb21wdXRlIGEgbmV3IHNlbGVjdGlvbi5cbiAgICAgIHZhciBuZXh0U2VsZWN0aW9uID0gc2VsZWN0b3IobmV4dFNuYXBzaG90KTsgLy8gSWYgYSBjdXN0b20gaXNFcXVhbCBmdW5jdGlvbiBpcyBwcm92aWRlZCwgdXNlIHRoYXQgdG8gY2hlY2sgaWYgdGhlIGRhdGFcbiAgICAgIC8vIGhhcyBjaGFuZ2VkLiBJZiBpdCBoYXNuJ3QsIHJldHVybiB0aGUgcHJldmlvdXMgc2VsZWN0aW9uLiBUaGF0IHNpZ25hbHNcbiAgICAgIC8vIHRvIFJlYWN0IHRoYXQgdGhlIHNlbGVjdGlvbnMgYXJlIGNvbmNlcHR1YWxseSBlcXVhbCwgYW5kIHdlIGNhbiBiYWlsXG4gICAgICAvLyBvdXQgb2YgcmVuZGVyaW5nLlxuXG4gICAgICAvLyBJZiBhIGN1c3RvbSBpc0VxdWFsIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCB1c2UgdGhhdCB0byBjaGVjayBpZiB0aGUgZGF0YVxuICAgICAgLy8gaGFzIGNoYW5nZWQuIElmIGl0IGhhc24ndCwgcmV0dXJuIHRoZSBwcmV2aW91cyBzZWxlY3Rpb24uIFRoYXQgc2lnbmFsc1xuICAgICAgLy8gdG8gUmVhY3QgdGhhdCB0aGUgc2VsZWN0aW9ucyBhcmUgY29uY2VwdHVhbGx5IGVxdWFsLCBhbmQgd2UgY2FuIGJhaWxcbiAgICAgIC8vIG91dCBvZiByZW5kZXJpbmcuXG4gICAgICBpZiAoaXNFcXVhbCAhPT0gdW5kZWZpbmVkICYmIGlzRXF1YWwocHJldlNlbGVjdGlvbiwgbmV4dFNlbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTZWxlY3Rpb247XG4gICAgICB9XG5cbiAgICAgIG1lbW9pemVkU25hcHNob3QgPSBuZXh0U25hcHNob3Q7XG4gICAgICBtZW1vaXplZFNlbGVjdGlvbiA9IG5leHRTZWxlY3Rpb247XG4gICAgICByZXR1cm4gbmV4dFNlbGVjdGlvbjtcbiAgICB9OyAvLyBBc3NpZ25pbmcgdGhpcyB0byBhIGNvbnN0YW50IHNvIHRoYXQgRmxvdyBrbm93cyBpdCBjYW4ndCBjaGFuZ2UuXG5cblxuICAgIC8vIEFzc2lnbmluZyB0aGlzIHRvIGEgY29uc3RhbnQgc28gdGhhdCBGbG93IGtub3dzIGl0IGNhbid0IGNoYW5nZS5cbiAgICB2YXIgbWF5YmVHZXRTZXJ2ZXJTbmFwc2hvdCA9IGdldFNlcnZlclNuYXBzaG90ID09PSB1bmRlZmluZWQgPyBudWxsIDogZ2V0U2VydmVyU25hcHNob3Q7XG5cbiAgICB2YXIgZ2V0U25hcHNob3RXaXRoU2VsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3RvcihnZXRTbmFwc2hvdCgpKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFNlcnZlclNuYXBzaG90V2l0aFNlbGVjdG9yID0gbWF5YmVHZXRTZXJ2ZXJTbmFwc2hvdCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdG9yKG1heWJlR2V0U2VydmVyU25hcHNob3QoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gW2dldFNuYXBzaG90V2l0aFNlbGVjdG9yLCBnZXRTZXJ2ZXJTbmFwc2hvdFdpdGhTZWxlY3Rvcl07XG4gIH0sIFtnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QsIHNlbGVjdG9yLCBpc0VxdWFsXSksXG4gICAgICBnZXRTZWxlY3Rpb24gPSBfdXNlTWVtb1swXSxcbiAgICAgIGdldFNlcnZlclNlbGVjdGlvbiA9IF91c2VNZW1vWzFdO1xuXG4gIHZhciB2YWx1ZSA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgZ2V0U2VsZWN0aW9uLCBnZXRTZXJ2ZXJTZWxlY3Rpb24pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGluc3QuaGFzVmFsdWUgPSB0cnVlO1xuICAgIGluc3QudmFsdWUgPSB2YWx1ZTtcbiAgfSwgW3ZhbHVlXSk7XG4gIHVzZURlYnVnVmFsdWUodmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydHMudXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3IgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcjtcbiAgICAgICAgICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG5pZiAoXG4gIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgPT09XG4gICAgJ2Z1bmN0aW9uJ1xuKSB7XG4gIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChuZXcgRXJyb3IoKSk7XG59XG4gICAgICAgIFxuICB9KSgpO1xufVxuIiwgIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9janMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtc2hpbS93aXRoLXNlbGVjdG9yLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL2Nqcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS1zaGltL3dpdGgtc2VsZWN0b3IuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsICIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKToodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmRheWpzPWUoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgdD0xZTMsZT02ZTQsbj0zNmU1LHI9XCJtaWxsaXNlY29uZFwiLGk9XCJzZWNvbmRcIixzPVwibWludXRlXCIsdT1cImhvdXJcIixhPVwiZGF5XCIsbz1cIndlZWtcIixjPVwibW9udGhcIixmPVwicXVhcnRlclwiLGg9XCJ5ZWFyXCIsZD1cImRhdGVcIixsPVwiSW52YWxpZCBEYXRlXCIsJD0vXihcXGR7NH0pWy0vXT8oXFxkezEsMn0pP1stL10/KFxcZHswLDJ9KVtUdFxcc10qKFxcZHsxLDJ9KT86PyhcXGR7MSwyfSk/Oj8oXFxkezEsMn0pP1suOl0/KFxcZCspPyQvLHk9L1xcWyhbXlxcXV0rKV18WXsxLDR9fE17MSw0fXxEezEsMn18ZHsxLDR9fEh7MSwyfXxoezEsMn18YXxBfG17MSwyfXxzezEsMn18WnsxLDJ9fFNTUy9nLE09e25hbWU6XCJlblwiLHdlZWtkYXlzOlwiU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXlcIi5zcGxpdChcIl9cIiksbW9udGhzOlwiSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlclwiLnNwbGl0KFwiX1wiKSxvcmRpbmFsOmZ1bmN0aW9uKHQpe3ZhciBlPVtcInRoXCIsXCJzdFwiLFwibmRcIixcInJkXCJdLG49dCUxMDA7cmV0dXJuXCJbXCIrdCsoZVsobi0yMCklMTBdfHxlW25dfHxlWzBdKStcIl1cIn19LG09ZnVuY3Rpb24odCxlLG4pe3ZhciByPVN0cmluZyh0KTtyZXR1cm4hcnx8ci5sZW5ndGg+PWU/dDpcIlwiK0FycmF5KGUrMS1yLmxlbmd0aCkuam9pbihuKSt0fSx2PXtzOm0sejpmdW5jdGlvbih0KXt2YXIgZT0tdC51dGNPZmZzZXQoKSxuPU1hdGguYWJzKGUpLHI9TWF0aC5mbG9vcihuLzYwKSxpPW4lNjA7cmV0dXJuKGU8PTA/XCIrXCI6XCItXCIpK20ociwyLFwiMFwiKStcIjpcIittKGksMixcIjBcIil9LG06ZnVuY3Rpb24gdChlLG4pe2lmKGUuZGF0ZSgpPG4uZGF0ZSgpKXJldHVybi10KG4sZSk7dmFyIHI9MTIqKG4ueWVhcigpLWUueWVhcigpKSsobi5tb250aCgpLWUubW9udGgoKSksaT1lLmNsb25lKCkuYWRkKHIsYykscz1uLWk8MCx1PWUuY2xvbmUoKS5hZGQocisocz8tMToxKSxjKTtyZXR1cm4rKC0ocisobi1pKS8ocz9pLXU6dS1pKSl8fDApfSxhOmZ1bmN0aW9uKHQpe3JldHVybiB0PDA/TWF0aC5jZWlsKHQpfHwwOk1hdGguZmxvb3IodCl9LHA6ZnVuY3Rpb24odCl7cmV0dXJue006Yyx5OmgsdzpvLGQ6YSxEOmQsaDp1LG06cyxzOmksbXM6cixROmZ9W3RdfHxTdHJpbmcodHx8XCJcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9zJC8sXCJcIil9LHU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXR9fSxnPVwiZW5cIixEPXt9O0RbZ109TTt2YXIgcD1cIiRpc0RheWpzT2JqZWN0XCIsUz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIF98fCEoIXR8fCF0W3BdKX0sdz1mdW5jdGlvbiB0KGUsbixyKXt2YXIgaTtpZighZSlyZXR1cm4gZztpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIHM9ZS50b0xvd2VyQ2FzZSgpO0Rbc10mJihpPXMpLG4mJihEW3NdPW4saT1zKTt2YXIgdT1lLnNwbGl0KFwiLVwiKTtpZighaSYmdS5sZW5ndGg+MSlyZXR1cm4gdCh1WzBdKX1lbHNle3ZhciBhPWUubmFtZTtEW2FdPWUsaT1hfXJldHVybiFyJiZpJiYoZz1pKSxpfHwhciYmZ30sTz1mdW5jdGlvbih0LGUpe2lmKFModCkpcmV0dXJuIHQuY2xvbmUoKTt2YXIgbj1cIm9iamVjdFwiPT10eXBlb2YgZT9lOnt9O3JldHVybiBuLmRhdGU9dCxuLmFyZ3M9YXJndW1lbnRzLG5ldyBfKG4pfSxiPXY7Yi5sPXcsYi5pPVMsYi53PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE8odCx7bG9jYWxlOmUuJEwsdXRjOmUuJHUseDplLiR4LCRvZmZzZXQ6ZS4kb2Zmc2V0fSl9O3ZhciBfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTSh0KXt0aGlzLiRMPXcodC5sb2NhbGUsbnVsbCwhMCksdGhpcy5wYXJzZSh0KSx0aGlzLiR4PXRoaXMuJHh8fHQueHx8e30sdGhpc1twXT0hMH12YXIgbT1NLnByb3RvdHlwZTtyZXR1cm4gbS5wYXJzZT1mdW5jdGlvbih0KXt0aGlzLiRkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0ZSxuPXQudXRjO2lmKG51bGw9PT1lKXJldHVybiBuZXcgRGF0ZShOYU4pO2lmKGIudShlKSlyZXR1cm4gbmV3IERhdGU7aWYoZSBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKGUpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYhL1okL2kudGVzdChlKSl7dmFyIHI9ZS5tYXRjaCgkKTtpZihyKXt2YXIgaT1yWzJdLTF8fDAscz0ocls3XXx8XCIwXCIpLnN1YnN0cmluZygwLDMpO3JldHVybiBuP25ldyBEYXRlKERhdGUuVVRDKHJbMV0saSxyWzNdfHwxLHJbNF18fDAscls1XXx8MCxyWzZdfHwwLHMpKTpuZXcgRGF0ZShyWzFdLGksclszXXx8MSxyWzRdfHwwLHJbNV18fDAscls2XXx8MCxzKX19cmV0dXJuIG5ldyBEYXRlKGUpfSh0KSx0aGlzLmluaXQoKX0sbS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kZDt0aGlzLiR5PXQuZ2V0RnVsbFllYXIoKSx0aGlzLiRNPXQuZ2V0TW9udGgoKSx0aGlzLiREPXQuZ2V0RGF0ZSgpLHRoaXMuJFc9dC5nZXREYXkoKSx0aGlzLiRIPXQuZ2V0SG91cnMoKSx0aGlzLiRtPXQuZ2V0TWludXRlcygpLHRoaXMuJHM9dC5nZXRTZWNvbmRzKCksdGhpcy4kbXM9dC5nZXRNaWxsaXNlY29uZHMoKX0sbS4kdXRpbHM9ZnVuY3Rpb24oKXtyZXR1cm4gYn0sbS5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLiRkLnRvU3RyaW5nKCk9PT1sKX0sbS5pc1NhbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1PKHQpO3JldHVybiB0aGlzLnN0YXJ0T2YoZSk8PW4mJm48PXRoaXMuZW5kT2YoZSl9LG0uaXNBZnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBPKHQpPHRoaXMuc3RhcnRPZihlKX0sbS5pc0JlZm9yZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmVuZE9mKGUpPE8odCl9LG0uJGc9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBiLnUodCk/dGhpc1tlXTp0aGlzLnNldChuLHQpfSxtLnVuaXg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKS8xZTMpfSxtLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC5nZXRUaW1lKCl9LG0uc3RhcnRPZj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj0hIWIudShlKXx8ZSxmPWIucCh0KSxsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9Yi53KG4uJHU/RGF0ZS5VVEMobi4keSxlLHQpOm5ldyBEYXRlKG4uJHksZSx0KSxuKTtyZXR1cm4gcj9pOmkuZW5kT2YoYSl9LCQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYi53KG4udG9EYXRlKClbdF0uYXBwbHkobi50b0RhdGUoXCJzXCIpLChyP1swLDAsMCwwXTpbMjMsNTksNTksOTk5XSkuc2xpY2UoZSkpLG4pfSx5PXRoaXMuJFcsTT10aGlzLiRNLG09dGhpcy4kRCx2PVwic2V0XCIrKHRoaXMuJHU/XCJVVENcIjpcIlwiKTtzd2l0Y2goZil7Y2FzZSBoOnJldHVybiByP2woMSwwKTpsKDMxLDExKTtjYXNlIGM6cmV0dXJuIHI/bCgxLE0pOmwoMCxNKzEpO2Nhc2Ugbzp2YXIgZz10aGlzLiRsb2NhbGUoKS53ZWVrU3RhcnR8fDAsRD0oeTxnP3krNzp5KS1nO3JldHVybiBsKHI/bS1EOm0rKDYtRCksTSk7Y2FzZSBhOmNhc2UgZDpyZXR1cm4gJCh2K1wiSG91cnNcIiwwKTtjYXNlIHU6cmV0dXJuICQoditcIk1pbnV0ZXNcIiwxKTtjYXNlIHM6cmV0dXJuICQoditcIlNlY29uZHNcIiwyKTtjYXNlIGk6cmV0dXJuICQoditcIk1pbGxpc2Vjb25kc1wiLDMpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xvbmUoKX19LG0uZW5kT2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhcnRPZih0LCExKX0sbS4kc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG4sbz1iLnAodCksZj1cInNldFwiKyh0aGlzLiR1P1wiVVRDXCI6XCJcIiksbD0obj17fSxuW2FdPWYrXCJEYXRlXCIsbltkXT1mK1wiRGF0ZVwiLG5bY109ZitcIk1vbnRoXCIsbltoXT1mK1wiRnVsbFllYXJcIixuW3VdPWYrXCJIb3Vyc1wiLG5bc109ZitcIk1pbnV0ZXNcIixuW2ldPWYrXCJTZWNvbmRzXCIsbltyXT1mK1wiTWlsbGlzZWNvbmRzXCIsbilbb10sJD1vPT09YT90aGlzLiREKyhlLXRoaXMuJFcpOmU7aWYobz09PWN8fG89PT1oKXt2YXIgeT10aGlzLmNsb25lKCkuc2V0KGQsMSk7eS4kZFtsXSgkKSx5LmluaXQoKSx0aGlzLiRkPXkuc2V0KGQsTWF0aC5taW4odGhpcy4kRCx5LmRheXNJbk1vbnRoKCkpKS4kZH1lbHNlIGwmJnRoaXMuJGRbbF0oJCk7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXN9LG0uc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS4kc2V0KHQsZSl9LG0uZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW2IucCh0KV0oKX0sbS5hZGQ9ZnVuY3Rpb24ocixmKXt2YXIgZCxsPXRoaXM7cj1OdW1iZXIocik7dmFyICQ9Yi5wKGYpLHk9ZnVuY3Rpb24odCl7dmFyIGU9TyhsKTtyZXR1cm4gYi53KGUuZGF0ZShlLmRhdGUoKStNYXRoLnJvdW5kKHQqcikpLGwpfTtpZigkPT09YylyZXR1cm4gdGhpcy5zZXQoYyx0aGlzLiRNK3IpO2lmKCQ9PT1oKXJldHVybiB0aGlzLnNldChoLHRoaXMuJHkrcik7aWYoJD09PWEpcmV0dXJuIHkoMSk7aWYoJD09PW8pcmV0dXJuIHkoNyk7dmFyIE09KGQ9e30sZFtzXT1lLGRbdV09bixkW2ldPXQsZClbJF18fDEsbT10aGlzLiRkLmdldFRpbWUoKStyKk07cmV0dXJuIGIudyhtLHRoaXMpfSxtLnN1YnRyYWN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkKC0xKnQsZSl9LG0uZm9ybWF0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLiRsb2NhbGUoKTtpZighdGhpcy5pc1ZhbGlkKCkpcmV0dXJuIG4uaW52YWxpZERhdGV8fGw7dmFyIHI9dHx8XCJZWVlZLU1NLUREVEhIOm1tOnNzWlwiLGk9Yi56KHRoaXMpLHM9dGhpcy4kSCx1PXRoaXMuJG0sYT10aGlzLiRNLG89bi53ZWVrZGF5cyxjPW4ubW9udGhzLGY9bi5tZXJpZGllbSxoPWZ1bmN0aW9uKHQsbixpLHMpe3JldHVybiB0JiYodFtuXXx8dChlLHIpKXx8aVtuXS5zbGljZSgwLHMpfSxkPWZ1bmN0aW9uKHQpe3JldHVybiBiLnMocyUxMnx8MTIsdCxcIjBcIil9LCQ9Znx8ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQ8MTI/XCJBTVwiOlwiUE1cIjtyZXR1cm4gbj9yLnRvTG93ZXJDYXNlKCk6cn07cmV0dXJuIHIucmVwbGFjZSh5LChmdW5jdGlvbih0LHIpe3JldHVybiByfHxmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZVwiWVlcIjpyZXR1cm4gU3RyaW5nKGUuJHkpLnNsaWNlKC0yKTtjYXNlXCJZWVlZXCI6cmV0dXJuIGIucyhlLiR5LDQsXCIwXCIpO2Nhc2VcIk1cIjpyZXR1cm4gYSsxO2Nhc2VcIk1NXCI6cmV0dXJuIGIucyhhKzEsMixcIjBcIik7Y2FzZVwiTU1NXCI6cmV0dXJuIGgobi5tb250aHNTaG9ydCxhLGMsMyk7Y2FzZVwiTU1NTVwiOnJldHVybiBoKGMsYSk7Y2FzZVwiRFwiOnJldHVybiBlLiREO2Nhc2VcIkREXCI6cmV0dXJuIGIucyhlLiRELDIsXCIwXCIpO2Nhc2VcImRcIjpyZXR1cm4gU3RyaW5nKGUuJFcpO2Nhc2VcImRkXCI6cmV0dXJuIGgobi53ZWVrZGF5c01pbixlLiRXLG8sMik7Y2FzZVwiZGRkXCI6cmV0dXJuIGgobi53ZWVrZGF5c1Nob3J0LGUuJFcsbywzKTtjYXNlXCJkZGRkXCI6cmV0dXJuIG9bZS4kV107Y2FzZVwiSFwiOnJldHVybiBTdHJpbmcocyk7Y2FzZVwiSEhcIjpyZXR1cm4gYi5zKHMsMixcIjBcIik7Y2FzZVwiaFwiOnJldHVybiBkKDEpO2Nhc2VcImhoXCI6cmV0dXJuIGQoMik7Y2FzZVwiYVwiOnJldHVybiAkKHMsdSwhMCk7Y2FzZVwiQVwiOnJldHVybiAkKHMsdSwhMSk7Y2FzZVwibVwiOnJldHVybiBTdHJpbmcodSk7Y2FzZVwibW1cIjpyZXR1cm4gYi5zKHUsMixcIjBcIik7Y2FzZVwic1wiOnJldHVybiBTdHJpbmcoZS4kcyk7Y2FzZVwic3NcIjpyZXR1cm4gYi5zKGUuJHMsMixcIjBcIik7Y2FzZVwiU1NTXCI6cmV0dXJuIGIucyhlLiRtcywzLFwiMFwiKTtjYXNlXCJaXCI6cmV0dXJuIGl9cmV0dXJuIG51bGx9KHQpfHxpLnJlcGxhY2UoXCI6XCIsXCJcIil9KSl9LG0udXRjT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDE1Ki1NYXRoLnJvdW5kKHRoaXMuJGQuZ2V0VGltZXpvbmVPZmZzZXQoKS8xNSl9LG0uZGlmZj1mdW5jdGlvbihyLGQsbCl7dmFyICQseT10aGlzLE09Yi5wKGQpLG09TyhyKSx2PShtLnV0Y09mZnNldCgpLXRoaXMudXRjT2Zmc2V0KCkpKmUsZz10aGlzLW0sRD1mdW5jdGlvbigpe3JldHVybiBiLm0oeSxtKX07c3dpdGNoKE0pe2Nhc2UgaDokPUQoKS8xMjticmVhaztjYXNlIGM6JD1EKCk7YnJlYWs7Y2FzZSBmOiQ9RCgpLzM7YnJlYWs7Y2FzZSBvOiQ9KGctdikvNjA0OGU1O2JyZWFrO2Nhc2UgYTokPShnLXYpLzg2NGU1O2JyZWFrO2Nhc2UgdTokPWcvbjticmVhaztjYXNlIHM6JD1nL2U7YnJlYWs7Y2FzZSBpOiQ9Zy90O2JyZWFrO2RlZmF1bHQ6JD1nfXJldHVybiBsPyQ6Yi5hKCQpfSxtLmRheXNJbk1vbnRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kT2YoYykuJER9LG0uJGxvY2FsZT1mdW5jdGlvbigpe3JldHVybiBEW3RoaXMuJExdfSxtLmxvY2FsZT1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiB0aGlzLiRMO3ZhciBuPXRoaXMuY2xvbmUoKSxyPXcodCxlLCEwKTtyZXR1cm4gciYmKG4uJEw9ciksbn0sbS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBiLncodGhpcy4kZCx0aGlzKX0sbS50b0RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpfSxtLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVmFsaWQoKT90aGlzLnRvSVNPU3RyaW5nKCk6bnVsbH0sbS50b0lTT1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRkLnRvSVNPU3RyaW5nKCl9LG0udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC50b1VUQ1N0cmluZygpfSxNfSgpLGs9Xy5wcm90b3R5cGU7cmV0dXJuIE8ucHJvdG90eXBlPWssW1tcIiRtc1wiLHJdLFtcIiRzXCIsaV0sW1wiJG1cIixzXSxbXCIkSFwiLHVdLFtcIiRXXCIsYV0sW1wiJE1cIixjXSxbXCIkeVwiLGhdLFtcIiREXCIsZF1dLmZvckVhY2goKGZ1bmN0aW9uKHQpe2tbdFsxXV09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGcoZSx0WzBdLHRbMV0pfX0pKSxPLmV4dGVuZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LiRpfHwodChlLF8sTyksdC4kaT0hMCksT30sTy5sb2NhbGU9dyxPLmlzRGF5anM9UyxPLnVuaXg9ZnVuY3Rpb24odCl7cmV0dXJuIE8oMWUzKnQpfSxPLmVuPURbZ10sTy5Mcz1ELE8ucD17fSxPfSkpOyIsICIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTooZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLmRheWpzX3BsdWdpbl9sb2NhbGl6ZWRGb3JtYXQ9dCgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPXtMVFM6XCJoOm1tOnNzIEFcIixMVDpcImg6bW0gQVwiLEw6XCJNTS9ERC9ZWVlZXCIsTEw6XCJNTU1NIEQsIFlZWVlcIixMTEw6XCJNTU1NIEQsIFlZWVkgaDptbSBBXCIsTExMTDpcImRkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEFcIn07cmV0dXJuIGZ1bmN0aW9uKHQsbyxuKXt2YXIgcj1vLnByb3RvdHlwZSxpPXIuZm9ybWF0O24uZW4uZm9ybWF0cz1lLHIuZm9ybWF0PWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PVwiWVlZWS1NTS1ERFRISDptbTpzc1pcIik7dmFyIG89dGhpcy4kbG9jYWxlKCkuZm9ybWF0cyxuPWZ1bmN0aW9uKHQsbyl7cmV0dXJuIHQucmVwbGFjZSgvKFxcW1teXFxdXStdKXwoTFRTP3xsezEsNH18THsxLDR9KS9nLChmdW5jdGlvbih0LG4scil7dmFyIGk9ciYmci50b1VwcGVyQ2FzZSgpO3JldHVybiBufHxvW3JdfHxlW3JdfHxvW2ldLnJlcGxhY2UoLyhcXFtbXlxcXV0rXSl8KE1NTU18TU18RER8ZGRkZCkvZywoZnVuY3Rpb24oZSx0LG8pe3JldHVybiB0fHxvLnNsaWNlKDEpfSkpfSkpfSh0LHZvaWQgMD09PW8/e306byk7cmV0dXJuIGkuY2FsbCh0aGlzLG4pfX19KSk7IiwgImV4cG9ydCB7IFN0dWRpbywgdHlwZSBTdHVkaW9Qcm9wcyB9IGZyb20gXCIuL3N0dWRpby9TdHVkaW9cIjtcbmV4cG9ydCB7IHR5cGUgQ3VzdG9tVGhlbWUsIHR5cGUgVGhlbWVWYXJpYWJsZXMsIHBhcnNlVGhlbWVGcm9tQ1NTIH0gZnJvbSBcIi4vaG9va3MvdXNlLXRoZW1lXCI7XG5leHBvcnQgdHlwZSAqIGZyb20gXCIuL2hvb2tzL251cXNcIjtcbiIsICJpbXBvcnQgeyBBbmltYXRlUHJlc2VuY2UsIG1vdGlvbiB9IGZyb20gXCJtb3Rpb24vcmVhY3RcIjtcbmltcG9ydCB7IEpTWCB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgdHlwZSB7IEFkYXB0ZXIsIEFkYXB0ZXJFcnJvciwgUXVlcnkgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGlvbiB9IGZyb20gXCIuLi9ob29rcy91c2UtbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgQ3VzdG9tVGhlbWUgfSBmcm9tIFwiLi4vaG9va3MvdXNlLXRoZW1lXCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCIuLi9saWIvdXRpbHNcIjtcbmltcG9ydCB7IFN0dWRpb0NvbnRleHRQcm92aWRlciwgdXNlU3R1ZGlvIH0gZnJvbSBcIi4vY29udGV4dFwiO1xuaW1wb3J0IHsgTmF2aWdhdGlvbiB9IGZyb20gXCIuL05hdmlnYXRpb25cIjtcbmltcG9ydCB7IENvbnNvbGVWaWV3IH0gZnJvbSBcIi4vdmlld3MvY29uc29sZS9Db25zb2xlVmlld1wiO1xuaW1wb3J0IHsgU2NoZW1hVmlldyB9IGZyb20gXCIuL3ZpZXdzL3NjaGVtYS9TY2hlbWFWaWV3XCI7XG5pbXBvcnQgeyBBY3RpdmVUYWJsZVZpZXcgfSBmcm9tIFwiLi92aWV3cy90YWJsZS9BY3RpdmVUYWJsZVZpZXdcIjtcbmltcG9ydCB7IEJhc2ljVmlldywgVmlld1Byb3BzIH0gZnJvbSBcIi4vdmlld3MvVmlld1wiO1xuXG5leHBvcnQgdHlwZSBTdHVkaW9MYXVuY2hlZEV2ZW50QmFzZSA9IHtcbiAgbmFtZTogXCJzdHVkaW9fbGF1bmNoZWRcIjtcbiAgcGF5bG9hZDoge1xuICAgIGVtYmVkZGluZ1R5cGU/OiBzdHJpbmc7XG4gICAgdmVuZG9ySWQ/OiBzdHJpbmc7XG4gICAgdGFibGVDb3VudDogbnVtYmVyO1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgU3R1ZGlvT3BlcmF0aW9uRXJyb3JFdmVudEJhc2UgPSB7XG4gIG5hbWU6IFwic3R1ZGlvX29wZXJhdGlvbl9lcnJvclwiO1xuICBwYXlsb2FkOiB7XG4gICAgb3BlcmF0aW9uOiBzdHJpbmc7XG4gICAgcXVlcnk6IFF1ZXJ5PHVua25vd24+IHwgdW5kZWZpbmVkO1xuICAgIGVycm9yOiBBZGFwdGVyRXJyb3I7XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBTdHVkaW9PcGVyYXRpb25TdWNjZXNzRXZlbnRCYXNlID0ge1xuICBuYW1lOiBcInN0dWRpb19vcGVyYXRpb25fc3VjY2Vzc1wiO1xuICBwYXlsb2FkOiB7XG4gICAgb3BlcmF0aW9uOiBzdHJpbmc7XG4gICAgcXVlcnk6IFF1ZXJ5PHVua25vd24+O1xuICAgIGVycm9yOiB1bmRlZmluZWQ7XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBTdHVkaW9PcGVyYXRpb25FdmVudEJhc2UgPSBTdHVkaW9PcGVyYXRpb25TdWNjZXNzRXZlbnRCYXNlIHwgU3R1ZGlvT3BlcmF0aW9uRXJyb3JFdmVudEJhc2U7XG5leHBvcnQgdHlwZSBTdHVkaW9PcGVyYXRpb25FdmVudCA9IFN0dWRpb09wZXJhdGlvbkV2ZW50QmFzZSAmIHsgZXZlbnRJZDogc3RyaW5nOyB0aW1lc3RhbXA6IHN0cmluZyB9O1xuXG5leHBvcnQgdHlwZSBTdHVkaW9FdmVudEJhc2UgPSBTdHVkaW9MYXVuY2hlZEV2ZW50QmFzZSB8IFN0dWRpb09wZXJhdGlvbkV2ZW50QmFzZTtcbmV4cG9ydCB0eXBlIFN0dWRpb0V2ZW50ID0gU3R1ZGlvRXZlbnRCYXNlICYgeyBldmVudElkOiBzdHJpbmc7IHRpbWVzdGFtcDogc3RyaW5nIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3R1ZGlvUHJvcHMge1xuICBhZGFwdGVyOiBBZGFwdGVyO1xuICBvbkV2ZW50PzogKGVycm9yOiBTdHVkaW9FdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEN1c3RvbSB0aGVtZSBjb25maWd1cmF0aW9uIG9yIENTUyBzdHJpbmcgZnJvbSBzaGFkY25cbiAgICogU3VwcG9ydHMgYm90aCBwYXJzZWQgdGhlbWUgb2JqZWN0IGFuZCByYXcgQ1NTIHN0cmluZ1xuICAgKi9cbiAgdGhlbWU/OiBDdXN0b21UaGVtZSB8IHN0cmluZztcbn1cblxuLyoqXG4gKiBNYWluIFN0dWRpbyBjb21wb25lbnQgdGhhdCBwcm92aWRlcyBkYXRhYmFzZSB2aXN1YWxpemF0aW9uIGFuZCBtYW5hZ2VtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTdHVkaW8ocHJvcHM6IFN0dWRpb1Byb3BzKSB7XG4gIGNvbnN0IHsgYWRhcHRlciwgb25FdmVudCwgdGhlbWUgfSA9IHByb3BzO1xuXG4gIGlmICghYWRhcHRlcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJObyBhZGFwdGVyIHByb3ZpZGVkIHRvIFN0dWRpbyBjb21wb25lbnRcIik7XG4gICAgcmV0dXJuIDxkaXY+RXJyb3I6IE5vIGFkYXB0ZXIgcHJvdmlkZWQ8L2Rpdj47XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxTdHVkaW9Db250ZXh0UHJvdmlkZXIgYWRhcHRlcj17YWRhcHRlcn0gb25FdmVudD17b25FdmVudH0gdGhlbWU9e3RoZW1lfT5cbiAgICAgIDxTdHVkaW9Db250ZW50IC8+XG4gICAgPC9TdHVkaW9Db250ZXh0UHJvdmlkZXI+XG4gICk7XG59XG5cbmNvbnN0IHZpZXdzOiBSZWNvcmQ8c3RyaW5nLCAocHJvcHM6IFZpZXdQcm9wcykgPT4gSlNYLkVsZW1lbnQgfCBudWxsPiA9IHtcbiAgc2NoZW1hOiBTY2hlbWFWaWV3LFxuICB0YWJsZTogQWN0aXZlVGFibGVWaWV3LFxuICBjb25zb2xlOiBDb25zb2xlVmlldyxcbiAgZGVmYXVsdDogQmFzaWNWaWV3LFxufTtcblxuZnVuY3Rpb24gU3R1ZGlvQ29udGVudCgpIHtcbiAgY29uc3QgeyBpc0Z1bGxzY3JlZW4sIGlzTmF2aWdhdGlvbk9wZW4gfSA9IHVzZVN0dWRpbygpO1xuICBjb25zdCB7IHZpZXdQYXJhbSB9ID0gdXNlTmF2aWdhdGlvbigpO1xuXG4gIGNvbnN0IGNvbnRhaW5lckNsYXNzZXMgPSBjbihcImZsZXggZmxleC1jb2wgdy1mdWxsIGgtZnVsbFwiLCBpc0Z1bGxzY3JlZW4gJiYgXCJmaXhlZCBpbnNldC0wIHotOTAwIGJnLWJhY2tncm91bmQgcC0yXCIpO1xuXG4gIGNvbnN0IFZpZXcgPSB2aWV3c1t2aWV3UGFyYW0gPz8gXCJkZWZhdWx0XCJdID8/IEJhc2ljVmlldztcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHNcIiBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDAlXCIgfX0+XG4gICAgICA8ZGl2IGRhdGEtZnVsbHNjcmVlbj17aXNGdWxsc2NyZWVufSBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzZXN9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTAgYmctYmFja2dyb3VuZCByZWxhdGl2ZSBtaW4taC1mdWxsIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlIG1vZGU9XCJ3YWl0XCI+XG4gICAgICAgICAgICB7aXNOYXZpZ2F0aW9uT3BlbiAmJiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyB3aWR0aDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgd2lkdGg6IFwiYXV0b1wiLCBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgICAgZXhpdD17eyB3aWR0aDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMTQgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxOYXZpZ2F0aW9uIC8+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgYmctc2Vjb25kYXJ5IGZsZXgtY29sIHAtcHggcm91bmRlZC1sZyBzZWxmLXN0YXJ0IGgtZnVsbCBtaW4taC1mdWxsIG1heC1oLWZ1bGwgb3ZlcmZsb3ctY2xpcFwiXG4gICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjE0IH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFZpZXcgLz5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCAiXCJ1c2UgY2xpZW50XCI7XG5leHBvcnQgeyBBbmltYXRlUHJlc2VuY2UgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvaW5kZXgubWpzJztcbmV4cG9ydCB7IExheW91dEdyb3VwIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbXBvbmVudHMvTGF5b3V0R3JvdXAvaW5kZXgubWpzJztcbmV4cG9ydCB7IExhenlNb3Rpb24gfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9MYXp5TW90aW9uL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBNb3Rpb25Db25maWcgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9Nb3Rpb25Db25maWcvaW5kZXgubWpzJztcbmV4cG9ydCB7IG0gfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2NvbXBvbmVudHMvbS9wcm94eS5tanMnO1xuZXhwb3J0IHsgbW90aW9uIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9jb21wb25lbnRzL21vdGlvbi9wcm94eS5tanMnO1xuZXhwb3J0IHsgYWRkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2V2ZW50cy9hZGQtcG9pbnRlci1ldmVudC5tanMnO1xuZXhwb3J0IHsgYWRkUG9pbnRlckluZm8gfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZXZlbnRzL2V2ZW50LWluZm8ubWpzJztcbmV4cG9ydCB7IGFuaW1hdGlvbnMgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2FuaW1hdGlvbnMubWpzJztcbmV4cG9ydCB7IG1ha2VVc2VWaXN1YWxTdGF0ZSB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvdXNlLXZpc3VhbC1zdGF0ZS5tanMnO1xuZXhwb3J0IHsgY2FsY0xlbmd0aCB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLWNhbGMubWpzJztcbmV4cG9ydCB7IGNyZWF0ZUJveCB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L21vZGVscy5tanMnO1xuZXhwb3J0IHsgZmlsdGVyUHJvcHMgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9maWx0ZXItcHJvcHMubWpzJztcbmV4cG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9pcy1icm93c2VyLm1qcyc7XG5leHBvcnQgeyB1c2VGb3JjZVVwZGF0ZSB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtZm9yY2UtdXBkYXRlLm1qcyc7XG5leHBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMnO1xuZXhwb3J0IHsgdXNlVW5tb3VudEVmZmVjdCB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtdW5tb3VudC1lZmZlY3QubWpzJztcbmV4cG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5leHBvcnQgeyBkb21BbmltYXRpb24gfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS9mZWF0dXJlcy1hbmltYXRpb24ubWpzJztcbmV4cG9ydCB7IGRvbU1heCB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL2ZlYXR1cmVzLW1heC5tanMnO1xuZXhwb3J0IHsgZG9tTWluIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vZmVhdHVyZXMtbWluLm1qcyc7XG5leHBvcnQgeyB1c2VNb3Rpb25WYWx1ZUV2ZW50IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1tb3Rpb24tdmFsdWUtZXZlbnQubWpzJztcbmV4cG9ydCB7IHVzZUVsZW1lbnRTY3JvbGwgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvc2Nyb2xsL3VzZS1lbGVtZW50LXNjcm9sbC5tanMnO1xuZXhwb3J0IHsgdXNlVmlld3BvcnRTY3JvbGwgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvc2Nyb2xsL3VzZS12aWV3cG9ydC1zY3JvbGwubWpzJztcbmV4cG9ydCB7IHVzZU1vdGlvblRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3VzZS1tb3Rpb24tdGVtcGxhdGUubWpzJztcbmV4cG9ydCB7IHVzZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3VzZS1tb3Rpb24tdmFsdWUubWpzJztcbmV4cG9ydCB7IHVzZVNjcm9sbCB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2Utc2Nyb2xsLm1qcyc7XG5leHBvcnQgeyB1c2VTcHJpbmcgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXNlLXNwcmluZy5tanMnO1xuZXhwb3J0IHsgdXNlVGltZSB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2UtdGltZS5tanMnO1xuZXhwb3J0IHsgdXNlVHJhbnNmb3JtIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3VzZS10cmFuc2Zvcm0ubWpzJztcbmV4cG9ydCB7IHVzZVZlbG9jaXR5IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3VzZS12ZWxvY2l0eS5tanMnO1xuZXhwb3J0IHsgdXNlV2lsbENoYW5nZSB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2Utd2lsbC1jaGFuZ2UvaW5kZXgubWpzJztcbmV4cG9ydCB7IFdpbGxDaGFuZ2VNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2Utd2lsbC1jaGFuZ2UvV2lsbENoYW5nZU1vdGlvblZhbHVlLm1qcyc7XG5leHBvcnQgeyByZXNvbHZlTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXRpbHMvcmVzb2x2ZS1tb3Rpb24tdmFsdWUubWpzJztcbmV4cG9ydCB7IHVzZVJlZHVjZWRNb3Rpb24gfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvcmVkdWNlZC1tb3Rpb24vdXNlLXJlZHVjZWQtbW90aW9uLm1qcyc7XG5leHBvcnQgeyB1c2VSZWR1Y2VkTW90aW9uQ29uZmlnIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3JlZHVjZWQtbW90aW9uL3VzZS1yZWR1Y2VkLW1vdGlvbi1jb25maWcubWpzJztcbmV4cG9ydCB7IE1vdGlvbkdsb2JhbENvbmZpZyB9IGZyb20gJy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2dsb2JhbC1jb25maWcubWpzJztcbmV4cG9ydCB7IGFuaW1hdGlvbkNvbnRyb2xzIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9ob29rcy9hbmltYXRpb24tY29udHJvbHMubWpzJztcbmV4cG9ydCB7IHVzZUFuaW1hdGUgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2hvb2tzL3VzZS1hbmltYXRlLm1qcyc7XG5leHBvcnQgeyB1c2VBbmltYXRlTWluaSB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vaG9va3MvdXNlLWFuaW1hdGUtc3R5bGUubWpzJztcbmV4cG9ydCB7IHVzZUFuaW1hdGlvbiwgdXNlQW5pbWF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2hvb2tzL3VzZS1hbmltYXRpb24ubWpzJztcbmV4cG9ydCB7IGFuaW1hdGVWaXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9pbnRlcmZhY2VzL3Zpc3VhbC1lbGVtZW50Lm1qcyc7XG5leHBvcnQgeyB1c2VJc1ByZXNlbnQsIHVzZVByZXNlbmNlIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZVByZXNlbmNlL3VzZS1wcmVzZW5jZS5tanMnO1xuZXhwb3J0IHsgdXNlUHJlc2VuY2VEYXRhIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZVByZXNlbmNlL3VzZS1wcmVzZW5jZS1kYXRhLm1qcyc7XG5leHBvcnQgeyB1c2VEb21FdmVudCB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9ldmVudHMvdXNlLWRvbS1ldmVudC5tanMnO1xuZXhwb3J0IHsgRHJhZ0NvbnRyb2xzLCB1c2VEcmFnQ29udHJvbHMgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy91c2UtZHJhZy1jb250cm9scy5tanMnO1xuZXhwb3J0IHsgY3JlYXRlUmVuZGVyZXJNb3Rpb25Db21wb25lbnQgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBpc01vdGlvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvaXMtbW90aW9uLWNvbXBvbmVudC5tanMnO1xuZXhwb3J0IHsgdW53cmFwTW90aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi91dGlscy91bndyYXAtbW90aW9uLWNvbXBvbmVudC5tanMnO1xuZXhwb3J0IHsgaXNWYWxpZE1vdGlvblByb3AgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3ZhbGlkLXByb3AubWpzJztcbmV4cG9ydCB7IGFkZFNjYWxlQ29ycmVjdG9yIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWNvcnJlY3Rpb24ubWpzJztcbmV4cG9ydCB7IHVzZUluc3RhbnRMYXlvdXRUcmFuc2l0aW9uIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vdXNlLWluc3RhbnQtbGF5b3V0LXRyYW5zaXRpb24ubWpzJztcbmV4cG9ydCB7IHVzZVJlc2V0UHJvamVjdGlvbiB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3VzZS1yZXNldC1wcm9qZWN0aW9uLm1qcyc7XG5leHBvcnQgeyBidWlsZFRyYW5zZm9ybSB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy9idWlsZC10cmFuc2Zvcm0ubWpzJztcbmV4cG9ydCB7IHZpc3VhbEVsZW1lbnRTdG9yZSB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3RvcmUubWpzJztcbmV4cG9ydCB7IFZpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL1Zpc3VhbEVsZW1lbnQubWpzJztcbmV4cG9ydCB7IHVzZUFuaW1hdGlvbkZyYW1lIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1hbmltYXRpb24tZnJhbWUubWpzJztcbmV4cG9ydCB7IHVzZUN5Y2xlIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1jeWNsZS5tanMnO1xuZXhwb3J0IHsgdXNlSW5WaWV3IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1pbi12aWV3Lm1qcyc7XG5leHBvcnQgeyBkaXNhYmxlSW5zdGFudFRyYW5zaXRpb25zLCB1c2VJbnN0YW50VHJhbnNpdGlvbiB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtaW5zdGFudC10cmFuc2l0aW9uLm1qcyc7XG5leHBvcnQgeyBvcHRpbWl6ZWRBcHBlYXJEYXRhQXR0cmlidXRlIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9vcHRpbWl6ZWQtYXBwZWFyL2RhdGEtaWQubWpzJztcbmV4cG9ydCB7IHN0YXJ0T3B0aW1pemVkQXBwZWFyQW5pbWF0aW9uIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9vcHRpbWl6ZWQtYXBwZWFyL3N0YXJ0Lm1qcyc7XG5leHBvcnQgeyBMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9MYXlvdXRHcm91cENvbnRleHQubWpzJztcbmV4cG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9Nb3Rpb25Db25maWdDb250ZXh0Lm1qcyc7XG5leHBvcnQgeyBNb3Rpb25Db250ZXh0IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvTW90aW9uQ29udGV4dC9pbmRleC5tanMnO1xuZXhwb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvUHJlc2VuY2VDb250ZXh0Lm1qcyc7XG5leHBvcnQgeyBTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9Td2l0Y2hMYXlvdXRHcm91cENvbnRleHQubWpzJztcbmV4cG9ydCB7IEZsYXRUcmVlIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9mbGF0LXRyZWUubWpzJztcbmV4cG9ydCB7IHVzZUFuaW1hdGVkU3RhdGUgYXMgdXNlRGVwcmVjYXRlZEFuaW1hdGVkU3RhdGUgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2hvb2tzL3VzZS1hbmltYXRlZC1zdGF0ZS5tanMnO1xuZXhwb3J0IHsgQW5pbWF0ZVNoYXJlZExheW91dCB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVTaGFyZWRMYXlvdXQubWpzJztcbmV4cG9ydCB7IERlcHJlY2F0ZWRMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9EZXByZWNhdGVkTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5leHBvcnQgeyB1c2VJbnZlcnRlZFNjYWxlIGFzIHVzZURlcHJlY2F0ZWRJbnZlcnRlZFNjYWxlIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3VzZS1pbnZlcnRlZC1zY2FsZS5tanMnO1xuZXhwb3J0IHsgZGVsYXkgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvZGVsYXkubWpzJztcbmV4cG9ydCB7IGFuaW1hdGUsIGNyZWF0ZVNjb3BlZEFuaW1hdGUgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2FuaW1hdGUvaW5kZXgubWpzJztcbmV4cG9ydCB7IGFuaW1hdGVNaW5pIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9hbmltYXRvcnMvd2FhcGkvYW5pbWF0ZS1zdHlsZS5tanMnO1xuZXhwb3J0IHsgc2Nyb2xsIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vc2Nyb2xsL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBzY3JvbGxJbmZvIH0gZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vc2Nyb2xsL3RyYWNrLm1qcyc7XG5leHBvcnQgeyBpblZpZXcgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92aWV3cG9ydC9pbmRleC5tanMnO1xuZXhwb3J0IHsgc3RhZ2dlciB9IGZyb20gJy4uLy4uL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvc3RhZ2dlci5tanMnO1xuZXhwb3J0IHsgZGlzdGFuY2UsIGRpc3RhbmNlMkQgfSBmcm9tICcuLi8uLi9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvZGlzdGFuY2UubWpzJztcbmV4cG9ydCB7IGFkZFVuaXF1ZUl0ZW0sIG1vdmVJdGVtLCByZW1vdmVJdGVtIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvYXJyYXkubWpzJztcbmV4cG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvY2xhbXAubWpzJztcbmV4cG9ydCB7IGludmFyaWFudCwgd2FybmluZyB9IGZyb20gJy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vycm9ycy5tanMnO1xuZXhwb3J0IHsgaXNOdW1lcmljYWxTdHJpbmcgfSBmcm9tICcuLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9pcy1udW1lcmljYWwtc3RyaW5nLm1qcyc7XG5leHBvcnQgeyBpc1plcm9WYWx1ZVN0cmluZyB9IGZyb20gJy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2lzLXplcm8tdmFsdWUtc3RyaW5nLm1qcyc7XG5leHBvcnQgeyBtZW1vIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvbWVtby5tanMnO1xuZXhwb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL25vb3AubWpzJztcbmV4cG9ydCB7IHBpcGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9waXBlLm1qcyc7XG5leHBvcnQgeyBwcm9ncmVzcyB9IGZyb20gJy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3Byb2dyZXNzLm1qcyc7XG5leHBvcnQgeyBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvc3Vic2NyaXB0aW9uLW1hbmFnZXIubWpzJztcbmV4cG9ydCB7IG1pbGxpc2Vjb25kc1RvU2Vjb25kcywgc2Vjb25kc1RvTWlsbGlzZWNvbmRzIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvdGltZS1jb252ZXJzaW9uLm1qcyc7XG5leHBvcnQgeyB2ZWxvY2l0eVBlclNlY29uZCB9IGZyb20gJy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3ZlbG9jaXR5LXBlci1zZWNvbmQubWpzJztcbmV4cG9ydCB7IGhhc1dhcm5lZCwgd2Fybk9uY2UgfSBmcm9tICcuLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy93YXJuLW9uY2UubWpzJztcbmV4cG9ydCB7IHdyYXAgfSBmcm9tICcuLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy93cmFwLm1qcyc7XG5leHBvcnQgeyBhbnRpY2lwYXRlIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2FudGljaXBhdGUubWpzJztcbmV4cG9ydCB7IGJhY2tJbiwgYmFja0luT3V0LCBiYWNrT3V0IH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2JhY2subWpzJztcbmV4cG9ydCB7IGNpcmNJbiwgY2lyY0luT3V0LCBjaXJjT3V0IH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2NpcmMubWpzJztcbmV4cG9ydCB7IGN1YmljQmV6aWVyIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2N1YmljLWJlemllci5tanMnO1xuZXhwb3J0IHsgZWFzZUluLCBlYXNlSW5PdXQsIGVhc2VPdXQgfSBmcm9tICcuLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lYXNpbmcvZWFzZS5tanMnO1xuZXhwb3J0IHsgbWlycm9yRWFzaW5nIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL21vZGlmaWVycy9taXJyb3IubWpzJztcbmV4cG9ydCB7IHJldmVyc2VFYXNpbmcgfSBmcm9tICcuLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lYXNpbmcvbW9kaWZpZXJzL3JldmVyc2UubWpzJztcbmV4cG9ydCB7IHN0ZXBzIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL3N0ZXBzLm1qcyc7XG5leHBvcnQgeyBnZXRFYXNpbmdGb3JTZWdtZW50IH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL3V0aWxzL2dldC1lYXNpbmctZm9yLXNlZ21lbnQubWpzJztcbmV4cG9ydCB7IGlzQmV6aWVyRGVmaW5pdGlvbiB9IGZyb20gJy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy91dGlscy9pcy1iZXppZXItZGVmaW5pdGlvbi5tanMnO1xuZXhwb3J0IHsgaXNFYXNpbmdBcnJheSB9IGZyb20gJy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy91dGlscy9pcy1lYXNpbmctYXJyYXkubWpzJztcbmV4cG9ydCB7IGVhc2luZ0RlZmluaXRpb25Ub0Z1bmN0aW9uIH0gZnJvbSAnLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL3V0aWxzL21hcC5tanMnO1xuZXhwb3J0IHsgQXN5bmNNb3Rpb25WYWx1ZUFuaW1hdGlvbiB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vQXN5bmNNb3Rpb25WYWx1ZUFuaW1hdGlvbi5tanMnO1xuZXhwb3J0IHsgR3JvdXBBbmltYXRpb24gfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL0dyb3VwQW5pbWF0aW9uLm1qcyc7XG5leHBvcnQgeyBHcm91cEFuaW1hdGlvbldpdGhUaGVuIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9Hcm91cEFuaW1hdGlvbldpdGhUaGVuLm1qcyc7XG5leHBvcnQgeyBKU0FuaW1hdGlvbiwgYW5pbWF0ZVZhbHVlIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9KU0FuaW1hdGlvbi5tanMnO1xuZXhwb3J0IHsgTmF0aXZlQW5pbWF0aW9uIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9OYXRpdmVBbmltYXRpb24ubWpzJztcbmV4cG9ydCB7IE5hdGl2ZUFuaW1hdGlvbkV4dGVuZGVkIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9OYXRpdmVBbmltYXRpb25FeHRlbmRlZC5tanMnO1xuZXhwb3J0IHsgTmF0aXZlQW5pbWF0aW9uV3JhcHBlciB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vTmF0aXZlQW5pbWF0aW9uV3JhcHBlci5tanMnO1xuZXhwb3J0IHsgYW5pbWF0aW9uTWFwS2V5LCBnZXRBbmltYXRpb25NYXAgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2FjdGl2ZS1hbmltYXRpb25zLm1qcyc7XG5leHBvcnQgeyBnZXRWYXJpYWJsZVZhbHVlLCBwYXJzZUNTU1ZhcmlhYmxlIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9jc3MtdmFyaWFibGVzLWNvbnZlcnNpb24ubWpzJztcbmV4cG9ydCB7IGdldFZhbHVlVHJhbnNpdGlvbiB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvZ2V0LXZhbHVlLXRyYW5zaXRpb24ubWpzJztcbmV4cG9ydCB7IGlzQ1NTVmFyaWFibGVOYW1lLCBpc0NTU1ZhcmlhYmxlVG9rZW4gfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2lzLWNzcy12YXJpYWJsZS5tanMnO1xuZXhwb3J0IHsgaW5lcnRpYSB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy9pbmVydGlhLm1qcyc7XG5leHBvcnQgeyBkZWZhdWx0RWFzaW5nLCBrZXlmcmFtZXMgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2dlbmVyYXRvcnMva2V5ZnJhbWVzLm1qcyc7XG5leHBvcnQgeyBzcHJpbmcgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2dlbmVyYXRvcnMvc3ByaW5nL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBjYWxjR2VuZXJhdG9yRHVyYXRpb24sIG1heEdlbmVyYXRvckR1cmF0aW9uIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9nZW5lcmF0b3JzL3V0aWxzL2NhbGMtZHVyYXRpb24ubWpzJztcbmV4cG9ydCB7IGNyZWF0ZUdlbmVyYXRvckVhc2luZyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy91dGlscy9jcmVhdGUtZ2VuZXJhdG9yLWVhc2luZy5tanMnO1xuZXhwb3J0IHsgaXNHZW5lcmF0b3IgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2dlbmVyYXRvcnMvdXRpbHMvaXMtZ2VuZXJhdG9yLm1qcyc7XG5leHBvcnQgeyBET01LZXlmcmFtZXNSZXNvbHZlciB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24va2V5ZnJhbWVzL0RPTUtleWZyYW1lc1Jlc29sdmVyLm1qcyc7XG5leHBvcnQgeyBLZXlmcmFtZVJlc29sdmVyLCBmbHVzaEtleWZyYW1lUmVzb2x2ZXJzIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9rZXlmcmFtZXMvS2V5ZnJhbWVzUmVzb2x2ZXIubWpzJztcbmV4cG9ydCB7IGRlZmF1bHRPZmZzZXQgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2tleWZyYW1lcy9vZmZzZXRzL2RlZmF1bHQubWpzJztcbmV4cG9ydCB7IGZpbGxPZmZzZXQgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2tleWZyYW1lcy9vZmZzZXRzL2ZpbGwubWpzJztcbmV4cG9ydCB7IGNvbnZlcnRPZmZzZXRUb1RpbWVzIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9rZXlmcmFtZXMvb2Zmc2V0cy90aW1lLm1qcyc7XG5leHBvcnQgeyBhcHBseVB4RGVmYXVsdHMgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2tleWZyYW1lcy91dGlscy9hcHBseS1weC1kZWZhdWx0cy5tanMnO1xuZXhwb3J0IHsgZmlsbFdpbGRjYXJkcyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24va2V5ZnJhbWVzL3V0aWxzL2ZpbGwtd2lsZGNhcmRzLm1qcyc7XG5leHBvcnQgeyBjdWJpY0JlemllckFzU3RyaW5nIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS9lYXNpbmcvY3ViaWMtYmV6aWVyLm1qcyc7XG5leHBvcnQgeyBpc1dhYXBpU3VwcG9ydGVkRWFzaW5nIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS9lYXNpbmcvaXMtc3VwcG9ydGVkLm1qcyc7XG5leHBvcnQgeyBtYXBFYXNpbmdUb05hdGl2ZUVhc2luZyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vd2FhcGkvZWFzaW5nL21hcC1lYXNpbmcubWpzJztcbmV4cG9ydCB7IHN1cHBvcnRlZFdhYXBpRWFzaW5nIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS9lYXNpbmcvc3VwcG9ydGVkLm1qcyc7XG5leHBvcnQgeyBzdGFydFdhYXBpQW5pbWF0aW9uIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS9zdGFydC13YWFwaS1hbmltYXRpb24ubWpzJztcbmV4cG9ydCB7IHN1cHBvcnRzUGFydGlhbEtleWZyYW1lcyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vd2FhcGkvc3VwcG9ydHMvcGFydGlhbC1rZXlmcmFtZXMubWpzJztcbmV4cG9ydCB7IHN1cHBvcnRzQnJvd3NlckFuaW1hdGlvbiB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vd2FhcGkvc3VwcG9ydHMvd2FhcGkubWpzJztcbmV4cG9ydCB7IGFjY2VsZXJhdGVkVmFsdWVzIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS91dGlscy9hY2NlbGVyYXRlZC12YWx1ZXMubWpzJztcbmV4cG9ydCB7IGdlbmVyYXRlTGluZWFyRWFzaW5nIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi93YWFwaS91dGlscy9saW5lYXIubWpzJztcbmV4cG9ydCB7IHN0eWxlRWZmZWN0IH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2VmZmVjdHMvc3R5bGUtZWZmZWN0Lm1qcyc7XG5leHBvcnQgeyBjcmVhdGVSZW5kZXJCYXRjaGVyIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9iYXRjaGVyLm1qcyc7XG5leHBvcnQgeyBjYW5jZWxNaWNyb3Rhc2ssIG1pY3JvdGFzayB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3AvbWljcm90YXNrLm1qcyc7XG5leHBvcnQgeyB0aW1lIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9zeW5jLXRpbWUubWpzJztcbmV4cG9ydCB7IGlzRHJhZ0FjdGl2ZSwgaXNEcmFnZ2luZyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9nZXN0dXJlcy9kcmFnL3N0YXRlL2lzLWFjdGl2ZS5tanMnO1xuZXhwb3J0IHsgc2V0RHJhZ0xvY2sgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy9zdGF0ZS9zZXQtYWN0aXZlLm1qcyc7XG5leHBvcnQgeyBob3ZlciB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9nZXN0dXJlcy9ob3Zlci5tanMnO1xuZXhwb3J0IHsgcHJlc3MgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvcHJlc3MvaW5kZXgubWpzJztcbmV4cG9ydCB7IGlzTm9kZU9yQ2hpbGQgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvdXRpbHMvaXMtbm9kZS1vci1jaGlsZC5tanMnO1xuZXhwb3J0IHsgaXNQcmltYXJ5UG9pbnRlciB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9nZXN0dXJlcy91dGlscy9pcy1wcmltYXJ5LXBvaW50ZXIubWpzJztcbmV4cG9ydCB7IHBhcnNlVmFsdWVGcm9tVHJhbnNmb3JtLCByZWFkVHJhbnNmb3JtVmFsdWUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL2RvbS9wYXJzZS10cmFuc2Zvcm0ubWpzJztcbmV4cG9ydCB7IGdldENvbXB1dGVkU3R5bGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL2RvbS9zdHlsZS1jb21wdXRlZC5tanMnO1xuZXhwb3J0IHsgc2V0U3R5bGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL2RvbS9zdHlsZS1zZXQubWpzJztcbmV4cG9ydCB7IHBvc2l0aW9uYWxLZXlzIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3JlbmRlci91dGlscy9rZXlzLXBvc2l0aW9uLm1qcyc7XG5leHBvcnQgeyB0cmFuc2Zvcm1Qcm9wT3JkZXIsIHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3JlbmRlci91dGlscy9rZXlzLXRyYW5zZm9ybS5tanMnO1xuZXhwb3J0IHsgb2JzZXJ2ZVRpbWVsaW5lIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3Njcm9sbC9vYnNlcnZlLm1qcyc7XG5leHBvcnQgeyByZWNvcmRTdGF0cyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9zdGF0cy9pbmRleC5tanMnO1xuZXhwb3J0IHsgYWN0aXZlQW5pbWF0aW9ucyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9zdGF0cy9hbmltYXRpb24tY291bnQubWpzJztcbmV4cG9ydCB7IHN0YXRzQnVmZmVyIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3N0YXRzL2J1ZmZlci5tanMnO1xuZXhwb3J0IHsgaW50ZXJwb2xhdGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvaW50ZXJwb2xhdGUubWpzJztcbmV4cG9ydCB7IG1peCB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9taXgvaW5kZXgubWpzJztcbmV4cG9ydCB7IG1peENvbG9yLCBtaXhMaW5lYXJDb2xvciB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9taXgvY29sb3IubWpzJztcbmV4cG9ydCB7IGdldE1peGVyLCBtaXhBcnJheSwgbWl4Q29tcGxleCwgbWl4T2JqZWN0IH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL21peC9jb21wbGV4Lm1qcyc7XG5leHBvcnQgeyBtaXhJbW1lZGlhdGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvbWl4L2ltbWVkaWF0ZS5tanMnO1xuZXhwb3J0IHsgbWl4TnVtYmVyIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL21peC9udW1iZXIubWpzJztcbmV4cG9ydCB7IGludmlzaWJsZVZhbHVlcywgbWl4VmlzaWJpbGl0eSB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9taXgvdmlzaWJpbGl0eS5tanMnO1xuZXhwb3J0IHsgcmVzb2x2ZUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL3Jlc29sdmUtZWxlbWVudHMubWpzJztcbmV4cG9ydCB7IHN1cHBvcnRzRmxhZ3MgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvc3VwcG9ydHMvZmxhZ3MubWpzJztcbmV4cG9ydCB7IHN1cHBvcnRzTGluZWFyRWFzaW5nIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL3N1cHBvcnRzL2xpbmVhci1lYXNpbmcubWpzJztcbmV4cG9ydCB7IHN1cHBvcnRzU2Nyb2xsVGltZWxpbmUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvc3VwcG9ydHMvc2Nyb2xsLXRpbWVsaW5lLm1qcyc7XG5leHBvcnQgeyB0cmFuc2Zvcm0gfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5leHBvcnQgeyBNb3Rpb25WYWx1ZSwgY29sbGVjdE1vdGlvblZhbHVlcywgbW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvaW5kZXgubWpzJztcbmV4cG9ydCB7IG1hcFZhbHVlIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL21hcC12YWx1ZS5tanMnO1xuZXhwb3J0IHsgdHJhbnNmb3JtVmFsdWUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHJhbnNmb3JtLXZhbHVlLm1qcyc7XG5leHBvcnQgeyBjb2xvciB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9jb2xvci9pbmRleC5tanMnO1xuZXhwb3J0IHsgaGV4IH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbG9yL2hleC5tanMnO1xuZXhwb3J0IHsgaHNsYSB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9jb2xvci9oc2xhLm1qcyc7XG5leHBvcnQgeyBoc2xhVG9SZ2JhIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbG9yL2hzbGEtdG8tcmdiYS5tanMnO1xuZXhwb3J0IHsgcmdiVW5pdCwgcmdiYSB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9jb2xvci9yZ2JhLm1qcyc7XG5leHBvcnQgeyBhbmFseXNlQ29tcGxleFZhbHVlLCBjb21wbGV4IH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbXBsZXgvaW5kZXgubWpzJztcbmV4cG9ydCB7IGRpbWVuc2lvblZhbHVlVHlwZXMsIGZpbmREaW1lbnNpb25WYWx1ZVR5cGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvZGltZW5zaW9ucy5tanMnO1xuZXhwb3J0IHsgZGVmYXVsdFZhbHVlVHlwZXMsIGdldERlZmF1bHRWYWx1ZVR5cGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvbWFwcy9kZWZhdWx0cy5tanMnO1xuZXhwb3J0IHsgbnVtYmVyVmFsdWVUeXBlcyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9tYXBzL251bWJlci5tanMnO1xuZXhwb3J0IHsgdHJhbnNmb3JtVmFsdWVUeXBlcyB9IGZyb20gJy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9tYXBzL3RyYW5zZm9ybS5tanMnO1xuZXhwb3J0IHsgYWxwaGEsIG51bWJlciwgc2NhbGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvbnVtYmVycy9pbmRleC5tanMnO1xuZXhwb3J0IHsgZGVncmVlcywgcGVyY2VudCwgcHJvZ3Jlc3NQZXJjZW50YWdlLCBweCwgdmgsIHZ3IH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcbmV4cG9ydCB7IHRlc3RWYWx1ZVR5cGUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvdGVzdC5tanMnO1xuZXhwb3J0IHsgZ2V0QW5pbWF0YWJsZU5vbmUgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvdXRpbHMvYW5pbWF0YWJsZS1ub25lLm1qcyc7XG5leHBvcnQgeyBmaW5kVmFsdWVUeXBlIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL3V0aWxzL2ZpbmQubWpzJztcbmV4cG9ydCB7IGdldFZhbHVlQXNUeXBlIH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL3V0aWxzL2dldC1hcy10eXBlLm1qcyc7XG5leHBvcnQgeyBWaWV3VHJhbnNpdGlvbkJ1aWxkZXIsIGFuaW1hdGVWaWV3IH0gZnJvbSAnLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZpZXcvaW5kZXgubWpzJztcbmV4cG9ydCB7IGNhbmNlbFN5bmMsIHN5bmMgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZnJhbWVsb29wL2luZGV4LWxlZ2FjeS5tanMnO1xuZXhwb3J0IHsgY2FuY2VsRnJhbWUsIGZyYW1lLCBmcmFtZURhdGEsIGZyYW1lU3RlcHMgfSBmcm9tICcuLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5pbXBvcnQgKiBhcyBuYW1lc3BhY2UgZnJvbSAnLi4vLi4vZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbXBvbmVudHMvUmVvcmRlci9uYW1lc3BhY2UubWpzJztcbmV4cG9ydCB7IG5hbWVzcGFjZSBhcyBSZW9yZGVyIH07XG4iLCAiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBqc3gsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyB1c2VDb25zdGFudCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1jb25zdGFudC5tanMnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMnO1xuaW1wb3J0IHsgUHJlc2VuY2VDaGlsZCB9IGZyb20gJy4vUHJlc2VuY2VDaGlsZC5tanMnO1xuaW1wb3J0IHsgdXNlUHJlc2VuY2UgfSBmcm9tICcuL3VzZS1wcmVzZW5jZS5tanMnO1xuaW1wb3J0IHsgb25seUVsZW1lbnRzLCBnZXRDaGlsZEtleSB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuLyoqXG4gKiBgQW5pbWF0ZVByZXNlbmNlYCBlbmFibGVzIHRoZSBhbmltYXRpb24gb2YgY29tcG9uZW50cyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIHRyZWUuXG4gKlxuICogV2hlbiBhZGRpbmcvcmVtb3ZpbmcgbW9yZSB0aGFuIGEgc2luZ2xlIGNoaWxkLCBldmVyeSBjaGlsZCAqKm11c3QqKiBiZSBnaXZlbiBhIHVuaXF1ZSBga2V5YCBwcm9wLlxuICpcbiAqIEFueSBgbW90aW9uYCBjb21wb25lbnRzIHRoYXQgaGF2ZSBhbiBgZXhpdGAgcHJvcGVydHkgZGVmaW5lZCB3aWxsIGFuaW1hdGUgb3V0IHdoZW4gcmVtb3ZlZCBmcm9tXG4gKiB0aGUgdHJlZS5cbiAqXG4gKiBgYGBqc3hcbiAqIGltcG9ydCB7IG1vdGlvbiwgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSAnZnJhbWVyLW1vdGlvbidcbiAqXG4gKiBleHBvcnQgY29uc3QgSXRlbXMgPSAoeyBpdGVtcyB9KSA9PiAoXG4gKiAgIDxBbmltYXRlUHJlc2VuY2U+XG4gKiAgICAge2l0ZW1zLm1hcChpdGVtID0+IChcbiAqICAgICAgIDxtb3Rpb24uZGl2XG4gKiAgICAgICAgIGtleT17aXRlbS5pZH1cbiAqICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gKiAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICogICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAgfX1cbiAqICAgICAgIC8+XG4gKiAgICAgKSl9XG4gKiAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICogKVxuICogYGBgXG4gKlxuICogWW91IGNhbiBzZXF1ZW5jZSBleGl0IGFuaW1hdGlvbnMgdGhyb3VnaG91dCBhIHRyZWUgdXNpbmcgdmFyaWFudHMuXG4gKlxuICogSWYgYSBjaGlsZCBjb250YWlucyBtdWx0aXBsZSBgbW90aW9uYCBjb21wb25lbnRzIHdpdGggYGV4aXRgIHByb3BzLCBpdCB3aWxsIG9ubHkgdW5tb3VudCB0aGUgY2hpbGRcbiAqIG9uY2UgYWxsIGBtb3Rpb25gIGNvbXBvbmVudHMgaGF2ZSBmaW5pc2hlZCBhbmltYXRpbmcgb3V0LiBMaWtld2lzZSwgYW55IGNvbXBvbmVudHMgdXNpbmdcbiAqIGB1c2VQcmVzZW5jZWAgYWxsIG5lZWQgdG8gY2FsbCBgc2FmZVRvUmVtb3ZlYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IEFuaW1hdGVQcmVzZW5jZSA9ICh7IGNoaWxkcmVuLCBjdXN0b20sIGluaXRpYWwgPSB0cnVlLCBvbkV4aXRDb21wbGV0ZSwgcHJlc2VuY2VBZmZlY3RzTGF5b3V0ID0gdHJ1ZSwgbW9kZSA9IFwic3luY1wiLCBwcm9wYWdhdGUgPSBmYWxzZSwgYW5jaG9yWCA9IFwibGVmdFwiLCB9KSA9PiB7XG4gICAgY29uc3QgW2lzUGFyZW50UHJlc2VudCwgc2FmZVRvUmVtb3ZlXSA9IHVzZVByZXNlbmNlKHByb3BhZ2F0ZSk7XG4gICAgLyoqXG4gICAgICogRmlsdGVyIGFueSBjaGlsZHJlbiB0aGF0IGFyZW4ndCBSZWFjdEVsZW1lbnRzLiBXZSBjYW4gb25seSB0cmFjayBjb21wb25lbnRzXG4gICAgICogYmV0d2VlbiByZW5kZXJzIHdpdGggYSBwcm9wcy5rZXkuXG4gICAgICovXG4gICAgY29uc3QgcHJlc2VudENoaWxkcmVuID0gdXNlTWVtbygoKSA9PiBvbmx5RWxlbWVudHMoY2hpbGRyZW4pLCBbY2hpbGRyZW5dKTtcbiAgICAvKipcbiAgICAgKiBUcmFjayB0aGUga2V5cyBvZiB0aGUgY3VycmVudGx5IHJlbmRlcmVkIGNoaWxkcmVuLiBUaGlzIGlzIHVzZWQgdG9cbiAgICAgKiBkZXRlcm1pbmUgd2hpY2ggY2hpbGRyZW4gYXJlIGV4aXRpbmcuXG4gICAgICovXG4gICAgY29uc3QgcHJlc2VudEtleXMgPSBwcm9wYWdhdGUgJiYgIWlzUGFyZW50UHJlc2VudCA/IFtdIDogcHJlc2VudENoaWxkcmVuLm1hcChnZXRDaGlsZEtleSk7XG4gICAgLyoqXG4gICAgICogSWYgYGluaXRpYWw9e2ZhbHNlfWAgd2Ugb25seSB3YW50IHRvIHBhc3MgdGhpcyB0byBjb21wb25lbnRzIGluIHRoZSBmaXJzdCByZW5kZXIuXG4gICAgICovXG4gICAgY29uc3QgaXNJbml0aWFsUmVuZGVyID0gdXNlUmVmKHRydWUpO1xuICAgIC8qKlxuICAgICAqIEEgcmVmIGNvbnRhaW5pbmcgdGhlIGN1cnJlbnRseSBwcmVzZW50IGNoaWxkcmVuLiBXaGVuIGFsbCBleGl0IGFuaW1hdGlvbnNcbiAgICAgKiBhcmUgY29tcGxldGUsIHdlIHVzZSB0aGlzIHRvIHJlLXJlbmRlciB0aGUgY29tcG9uZW50IHdpdGggdGhlIGxhdGVzdCBjaGlsZHJlblxuICAgICAqICpjb21taXR0ZWQqIHJhdGhlciB0aGFuIHRoZSBsYXRlc3QgY2hpbGRyZW4gKnJlbmRlcmVkKi5cbiAgICAgKi9cbiAgICBjb25zdCBwZW5kaW5nUHJlc2VudENoaWxkcmVuID0gdXNlUmVmKHByZXNlbnRDaGlsZHJlbik7XG4gICAgLyoqXG4gICAgICogVHJhY2sgd2hpY2ggZXhpdGluZyBjaGlsZHJlbiBoYXZlIGZpbmlzaGVkIGFuaW1hdGluZyBvdXQuXG4gICAgICovXG4gICAgY29uc3QgZXhpdENvbXBsZXRlID0gdXNlQ29uc3RhbnQoKCkgPT4gbmV3IE1hcCgpKTtcbiAgICAvKipcbiAgICAgKiBTYXZlIGNoaWxkcmVuIHRvIHJlbmRlciBhcyBSZWFjdCBzdGF0ZS4gVG8gZW5zdXJlIHRoaXMgY29tcG9uZW50IGlzIGNvbmN1cnJlbnQtc2FmZSxcbiAgICAgKiB3ZSBjaGVjayBmb3IgZXhpdGluZyBjaGlsZHJlbiB2aWEgYW4gZWZmZWN0LlxuICAgICAqL1xuICAgIGNvbnN0IFtkaWZmZWRDaGlsZHJlbiwgc2V0RGlmZmVkQ2hpbGRyZW5dID0gdXNlU3RhdGUocHJlc2VudENoaWxkcmVuKTtcbiAgICBjb25zdCBbcmVuZGVyZWRDaGlsZHJlbiwgc2V0UmVuZGVyZWRDaGlsZHJlbl0gPSB1c2VTdGF0ZShwcmVzZW50Q2hpbGRyZW4pO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpc0luaXRpYWxSZW5kZXIuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nUHJlc2VudENoaWxkcmVuLmN1cnJlbnQgPSBwcmVzZW50Q2hpbGRyZW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgY29tcGxldGUgc3RhdHVzIG9mIGV4aXRpbmcgY2hpbGRyZW4uXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmVkQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldENoaWxkS2V5KHJlbmRlcmVkQ2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgaWYgKCFwcmVzZW50S2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXRDb21wbGV0ZS5nZXQoa2V5KSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBleGl0Q29tcGxldGUuc2V0KGtleSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4aXRDb21wbGV0ZS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtyZW5kZXJlZENoaWxkcmVuLCBwcmVzZW50S2V5cy5sZW5ndGgsIHByZXNlbnRLZXlzLmpvaW4oXCItXCIpXSk7XG4gICAgY29uc3QgZXhpdGluZ0NoaWxkcmVuID0gW107XG4gICAgaWYgKHByZXNlbnRDaGlsZHJlbiAhPT0gZGlmZmVkQ2hpbGRyZW4pIHtcbiAgICAgICAgbGV0IG5leHRDaGlsZHJlbiA9IFsuLi5wcmVzZW50Q2hpbGRyZW5dO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9vcCB0aHJvdWdoIGFsbCB0aGUgY3VycmVudGx5IHJlbmRlcmVkIGNvbXBvbmVudHMgYW5kIGRlY2lkZSB3aGljaFxuICAgICAgICAgKiBhcmUgZXhpdGluZy5cbiAgICAgICAgICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyZWRDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSByZW5kZXJlZENoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q2hpbGRLZXkoY2hpbGQpO1xuICAgICAgICAgICAgaWYgKCFwcmVzZW50S2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgbmV4dENoaWxkcmVuLnNwbGljZShpLCAwLCBjaGlsZCk7XG4gICAgICAgICAgICAgICAgZXhpdGluZ0NoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSdyZSBpbiBcIndhaXRcIiBtb2RlLCBhbmQgd2UgaGF2ZSBleGl0aW5nIGNoaWxkcmVuLCB3ZSB3YW50IHRvXG4gICAgICAgICAqIG9ubHkgcmVuZGVyIHRoZXNlIHVudGlsIHRoZXkndmUgYWxsIGV4aXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChtb2RlID09PSBcIndhaXRcIiAmJiBleGl0aW5nQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBuZXh0Q2hpbGRyZW4gPSBleGl0aW5nQ2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgc2V0UmVuZGVyZWRDaGlsZHJlbihvbmx5RWxlbWVudHMobmV4dENoaWxkcmVuKSk7XG4gICAgICAgIHNldERpZmZlZENoaWxkcmVuKHByZXNlbnRDaGlsZHJlbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFYXJseSByZXR1cm4gdG8gZW5zdXJlIG9uY2Ugd2UndmUgc2V0IHN0YXRlIHdpdGggdGhlIGxhdGVzdCBkaWZmZWRcbiAgICAgICAgICogY2hpbGRyZW4sIHdlIGNhbiBpbW1lZGlhdGVseSByZS1yZW5kZXIuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICBtb2RlID09PSBcIndhaXRcIiAmJlxuICAgICAgICByZW5kZXJlZENoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBZb3UncmUgYXR0ZW1wdGluZyB0byBhbmltYXRlIG11bHRpcGxlIGNoaWxkcmVuIHdpdGhpbiBBbmltYXRlUHJlc2VuY2UsIGJ1dCBpdHMgbW9kZSBpcyBzZXQgdG8gXCJ3YWl0XCIuIFRoaXMgd2lsbCBsZWFkIHRvIG9kZCB2aXN1YWwgYmVoYXZpb3VyLmApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB3ZSd2ZSBiZWVuIHByb3ZpZGVkIGEgZm9yY2VSZW5kZXIgZnVuY3Rpb24gYnkgdGhlIExheW91dEdyb3VwQ29udGV4dCxcbiAgICAgKiB3ZSBjYW4gdXNlIGl0IHRvIGZvcmNlIGEgcmUtcmVuZGVyIGFtb25nc3QgYWxsIHN1cnJvdW5kaW5nIGNvbXBvbmVudHMgb25jZVxuICAgICAqIGFsbCBjb21wb25lbnRzIGhhdmUgZmluaXNoZWQgYW5pbWF0aW5nIG91dC5cbiAgICAgKi9cbiAgICBjb25zdCB7IGZvcmNlUmVuZGVyIH0gPSB1c2VDb250ZXh0KExheW91dEdyb3VwQ29udGV4dCk7XG4gICAgcmV0dXJuIChqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHJlbmRlcmVkQ2hpbGRyZW4ubWFwKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q2hpbGRLZXkoY2hpbGQpO1xuICAgICAgICAgICAgY29uc3QgaXNQcmVzZW50ID0gcHJvcGFnYXRlICYmICFpc1BhcmVudFByZXNlbnRcbiAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgOiBwcmVzZW50Q2hpbGRyZW4gPT09IHJlbmRlcmVkQ2hpbGRyZW4gfHxcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VudEtleXMuaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgICAgIGNvbnN0IG9uRXhpdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXhpdENvbXBsZXRlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXRDb21wbGV0ZS5zZXQoa2V5LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGlzRXZlcnlFeGl0Q29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGV4aXRDb21wbGV0ZS5mb3JFYWNoKChpc0V4aXRDb21wbGV0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRXhpdENvbXBsZXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFdmVyeUV4aXRDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpc0V2ZXJ5RXhpdENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlUmVuZGVyPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVuZGVyZWRDaGlsZHJlbihwZW5kaW5nUHJlc2VudENoaWxkcmVuLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgJiYgc2FmZVRvUmVtb3ZlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgb25FeGl0Q29tcGxldGUgJiYgb25FeGl0Q29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIChqc3goUHJlc2VuY2VDaGlsZCwgeyBpc1ByZXNlbnQ6IGlzUHJlc2VudCwgaW5pdGlhbDogIWlzSW5pdGlhbFJlbmRlci5jdXJyZW50IHx8IGluaXRpYWxcbiAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgOiBmYWxzZSwgY3VzdG9tOiBjdXN0b20sIHByZXNlbmNlQWZmZWN0c0xheW91dDogcHJlc2VuY2VBZmZlY3RzTGF5b3V0LCBtb2RlOiBtb2RlLCBvbkV4aXRDb21wbGV0ZTogaXNQcmVzZW50ID8gdW5kZWZpbmVkIDogb25FeGl0LCBhbmNob3JYOiBhbmNob3JYLCBjaGlsZHJlbjogY2hpbGQgfSwga2V5KSk7XG4gICAgICAgIH0pIH0pKTtcbn07XG5cbmV4cG9ydCB7IEFuaW1hdGVQcmVzZW5jZSB9O1xuIiwgIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgTGF5b3V0R3JvdXBDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5cbmV4cG9ydCB7IExheW91dEdyb3VwQ29udGV4dCB9O1xuIiwgImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgY29uc3RhbnQgdmFsdWUgb3ZlciB0aGUgbGlmZWN5Y2xlIG9mIGEgY29tcG9uZW50LlxuICpcbiAqIEV2ZW4gaWYgYHVzZU1lbW9gIGlzIHByb3ZpZGVkIGFuIGVtcHR5IGFycmF5IGFzIGl0cyBmaW5hbCBhcmd1bWVudCwgaXQgZG9lc24ndCBvZmZlclxuICogYSBndWFyYW50ZWUgdGhhdCBpdCB3b24ndCByZS1ydW4gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgbGF0ZXIgb24uIEJ5IHVzaW5nIGB1c2VDb25zdGFudGBcbiAqIHlvdSBjYW4gZW5zdXJlIHRoYXQgaW5pdGlhbGlzZXJzIGRvbid0IGV4ZWN1dGUgdHdpY2Ugb3IgbW9yZS5cbiAqL1xuZnVuY3Rpb24gdXNlQ29uc3RhbnQoaW5pdCkge1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBpZiAocmVmLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBpbml0KCk7XG4gICAgfVxuICAgIHJldHVybiByZWYuY3VycmVudDtcbn1cblxuZXhwb3J0IHsgdXNlQ29uc3RhbnQgfTtcbiIsICJpbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4vaXMtYnJvd3Nlci5tanMnO1xuXG5jb25zdCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gaXNCcm93c2VyID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuXG5leHBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH07XG4iLCAiY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcblxuZXhwb3J0IHsgaXNCcm93c2VyIH07XG4iLCAiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJZCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFByZXNlbmNlQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvUHJlc2VuY2VDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyB1c2VDb25zdGFudCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1jb25zdGFudC5tanMnO1xuaW1wb3J0IHsgUG9wQ2hpbGQgfSBmcm9tICcuL1BvcENoaWxkLm1qcyc7XG5cbmNvbnN0IFByZXNlbmNlQ2hpbGQgPSAoeyBjaGlsZHJlbiwgaW5pdGlhbCwgaXNQcmVzZW50LCBvbkV4aXRDb21wbGV0ZSwgY3VzdG9tLCBwcmVzZW5jZUFmZmVjdHNMYXlvdXQsIG1vZGUsIGFuY2hvclgsIH0pID0+IHtcbiAgICBjb25zdCBwcmVzZW5jZUNoaWxkcmVuID0gdXNlQ29uc3RhbnQobmV3Q2hpbGRyZW5NYXApO1xuICAgIGNvbnN0IGlkID0gdXNlSWQoKTtcbiAgICBsZXQgaXNSZXVzZWRDb250ZXh0ID0gdHJ1ZTtcbiAgICBsZXQgY29udGV4dCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpc1JldXNlZENvbnRleHQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgaW5pdGlhbCxcbiAgICAgICAgICAgIGlzUHJlc2VudCxcbiAgICAgICAgICAgIGN1c3RvbSxcbiAgICAgICAgICAgIG9uRXhpdENvbXBsZXRlOiAoY2hpbGRJZCkgPT4ge1xuICAgICAgICAgICAgICAgIHByZXNlbmNlQ2hpbGRyZW4uc2V0KGNoaWxkSWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXNDb21wbGV0ZSBvZiBwcmVzZW5jZUNoaWxkcmVuLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNDb21wbGV0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gY2FuIHN0b3Agc2VhcmNoaW5nIHdoZW4gYW55IGlzIGluY29tcGxldGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25FeGl0Q29tcGxldGUgJiYgb25FeGl0Q29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWdpc3RlcjogKGNoaWxkSWQpID0+IHtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZUNoaWxkcmVuLnNldChjaGlsZElkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHByZXNlbmNlQ2hpbGRyZW4uZGVsZXRlKGNoaWxkSWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9LCBbaXNQcmVzZW50LCBwcmVzZW5jZUNoaWxkcmVuLCBvbkV4aXRDb21wbGV0ZV0pO1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBwcmVzZW5jZSBvZiBhIGNoaWxkIGFmZmVjdHMgdGhlIGxheW91dCBvZiB0aGUgY29tcG9uZW50cyBhcm91bmQgaXQsXG4gICAgICogd2Ugd2FudCB0byBtYWtlIGEgbmV3IGNvbnRleHQgdmFsdWUgdG8gZW5zdXJlIHRoZXkgZ2V0IHJlLXJlbmRlcmVkXG4gICAgICogc28gdGhleSBjYW4gZGV0ZWN0IHRoYXQgbGF5b3V0IGNoYW5nZS5cbiAgICAgKi9cbiAgICBpZiAocHJlc2VuY2VBZmZlY3RzTGF5b3V0ICYmIGlzUmV1c2VkQ29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0geyAuLi5jb250ZXh0IH07XG4gICAgfVxuICAgIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBwcmVzZW5jZUNoaWxkcmVuLmZvckVhY2goKF8sIGtleSkgPT4gcHJlc2VuY2VDaGlsZHJlbi5zZXQoa2V5LCBmYWxzZSkpO1xuICAgIH0sIFtpc1ByZXNlbnRdKTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIG5vIGBtb3Rpb25gIGNvbXBvbmVudHMgdG8gZmlyZSBleGl0IGFuaW1hdGlvbnMsIHdlIHdhbnQgdG8gcmVtb3ZlIHRoaXNcbiAgICAgKiBjb21wb25lbnQgaW1tZWRpYXRlbHkuXG4gICAgICovXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgIWlzUHJlc2VudCAmJlxuICAgICAgICAgICAgIXByZXNlbmNlQ2hpbGRyZW4uc2l6ZSAmJlxuICAgICAgICAgICAgb25FeGl0Q29tcGxldGUgJiZcbiAgICAgICAgICAgIG9uRXhpdENvbXBsZXRlKCk7XG4gICAgfSwgW2lzUHJlc2VudF0pO1xuICAgIGlmIChtb2RlID09PSBcInBvcExheW91dFwiKSB7XG4gICAgICAgIGNoaWxkcmVuID0gKGpzeChQb3BDaGlsZCwgeyBpc1ByZXNlbnQ6IGlzUHJlc2VudCwgYW5jaG9yWDogYW5jaG9yWCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goUHJlc2VuY2VDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0LCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbmZ1bmN0aW9uIG5ld0NoaWxkcmVuTWFwKCkge1xuICAgIHJldHVybiBuZXcgTWFwKCk7XG59XG5cbmV4cG9ydCB7IFByZXNlbmNlQ2hpbGQgfTtcbiIsICJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5jb25zdCBQcmVzZW5jZUNvbnRleHQgPSBcbi8qIEBfX1BVUkVfXyAqLyBjcmVhdGVDb250ZXh0KG51bGwpO1xuXG5leHBvcnQgeyBQcmVzZW5jZUNvbnRleHQgfTtcbiIsICJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlkLCB1c2VSZWYsIHVzZUNvbnRleHQsIHVzZUluc2VydGlvbkVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzJztcblxuLyoqXG4gKiBNZWFzdXJlbWVudCBmdW5jdGlvbmFsaXR5IGhhcyB0byBiZSB3aXRoaW4gYSBzZXBhcmF0ZSBjb21wb25lbnRcbiAqIHRvIGxldmVyYWdlIHNuYXBzaG90IGxpZmVjeWNsZS5cbiAqL1xuY2xhc3MgUG9wQ2hpbGRNZWFzdXJlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMucHJvcHMuY2hpbGRSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgcHJldlByb3BzLmlzUHJlc2VudCAmJiAhdGhpcy5wcm9wcy5pc1ByZXNlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAgICAgICAgICAgY29uc3QgcGFyZW50V2lkdGggPSBwYXJlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IHBhcmVudC5vZmZzZXRXaWR0aCB8fCAwIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnByb3BzLnNpemVSZWYuY3VycmVudDtcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgMDtcbiAgICAgICAgICAgIHNpemUud2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoIHx8IDA7XG4gICAgICAgICAgICBzaXplLnRvcCA9IGVsZW1lbnQub2Zmc2V0VG9wO1xuICAgICAgICAgICAgc2l6ZS5sZWZ0ID0gZWxlbWVudC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgc2l6ZS5yaWdodCA9IHBhcmVudFdpZHRoIC0gc2l6ZS53aWR0aCAtIHNpemUubGVmdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWlyZWQgd2l0aCBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB0byBzdG9wIFJlYWN0IGNvbXBsYWluaW5nLlxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHsgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxufVxuZnVuY3Rpb24gUG9wQ2hpbGQoeyBjaGlsZHJlbiwgaXNQcmVzZW50LCBhbmNob3JYIH0pIHtcbiAgICBjb25zdCBpZCA9IHVzZUlkKCk7XG4gICAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHNpemUgPSB1c2VSZWYoe1xuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgbm9uY2UgfSA9IHVzZUNvbnRleHQoTW90aW9uQ29uZmlnQ29udGV4dCk7XG4gICAgLyoqXG4gICAgICogV2UgY3JlYXRlIGFuZCBpbmplY3QgYSBzdHlsZSBibG9jayBzbyB3ZSBjYW4gYXBwbHkgdGhpcyBleHBsaWNpdFxuICAgICAqIHNpemluZyBpbiBhIG5vbi1kZXN0cnVjdGl2ZSBtYW5uZXIgYnkganVzdCBkZWxldGluZyB0aGUgc3R5bGUgYmxvY2suXG4gICAgICpcbiAgICAgKiBXZSBjYW4ndCBhcHBseSBzaXplIHZpYSByZW5kZXIgYXMgdGhlIG1lYXN1cmVtZW50IGhhcHBlbnNcbiAgICAgKiBpbiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAocG9zdC1yZW5kZXIpLCBsaWtld2lzZSBpZiB3ZSBhcHBseSB0aGVcbiAgICAgKiBzdHlsZXMgZGlyZWN0bHkgb24gdGhlIERPTSBub2RlLCB3ZSBtaWdodCBiZSBvdmVyd3JpdGluZ1xuICAgICAqIHN0eWxlcyBzZXQgdmlhIHRoZSBzdHlsZSBwcm9wLlxuICAgICAqL1xuICAgIHVzZUluc2VydGlvbkVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgdG9wLCBsZWZ0LCByaWdodCB9ID0gc2l6ZS5jdXJyZW50O1xuICAgICAgICBpZiAoaXNQcmVzZW50IHx8ICFyZWYuY3VycmVudCB8fCAhd2lkdGggfHwgIWhlaWdodClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeCA9IGFuY2hvclggPT09IFwibGVmdFwiID8gYGxlZnQ6ICR7bGVmdH1gIDogYHJpZ2h0OiAke3JpZ2h0fWA7XG4gICAgICAgIHJlZi5jdXJyZW50LmRhdGFzZXQubW90aW9uUG9wSWQgPSBpZDtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGlmIChub25jZSlcbiAgICAgICAgICAgIHN0eWxlLm5vbmNlID0gbm9uY2U7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICBpZiAoc3R5bGUuc2hlZXQpIHtcbiAgICAgICAgICAgIHN0eWxlLnNoZWV0Lmluc2VydFJ1bGUoYFxuICAgICAgICAgIFtkYXRhLW1vdGlvbi1wb3AtaWQ9XCIke2lkfVwiXSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIHdpZHRoOiAke3dpZHRofXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBoZWlnaHQ6ICR7aGVpZ2h0fXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAke3h9cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIHRvcDogJHt0b3B9cHggIWltcG9ydGFudDtcbiAgICAgICAgICB9XG4gICAgICAgIGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbaXNQcmVzZW50XSk7XG4gICAgcmV0dXJuIChqc3goUG9wQ2hpbGRNZWFzdXJlLCB7IGlzUHJlc2VudDogaXNQcmVzZW50LCBjaGlsZFJlZjogcmVmLCBzaXplUmVmOiBzaXplLCBjaGlsZHJlbjogUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7IHJlZiB9KSB9KSk7XG59XG5cbmV4cG9ydCB7IFBvcENoaWxkIH07XG4iLCAiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuY29uc3QgTW90aW9uQ29uZmlnQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICAgIHRyYW5zZm9ybVBhZ2VQb2ludDogKHApID0+IHAsXG4gICAgaXNTdGF0aWM6IGZhbHNlLFxuICAgIHJlZHVjZWRNb3Rpb246IFwibmV2ZXJcIixcbn0pO1xuXG5leHBvcnQgeyBNb3Rpb25Db25maWdDb250ZXh0IH07XG4iLCAiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlSWQsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcmVzZW5jZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMnO1xuXG4vKipcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgdGhlIGNoaWxkIG9mIGBBbmltYXRlUHJlc2VuY2VgLCBpdCBjYW4gdXNlIGB1c2VQcmVzZW5jZWBcbiAqIHRvIGFjY2VzcyBpbmZvcm1hdGlvbiBhYm91dCB3aGV0aGVyIGl0J3Mgc3RpbGwgcHJlc2VudCBpbiB0aGUgUmVhY3QgdHJlZS5cbiAqXG4gKiBgYGBqc3hcbiAqIGltcG9ydCB7IHVzZVByZXNlbmNlIH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIlxuICpcbiAqIGV4cG9ydCBjb25zdCBDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgIGNvbnN0IFtpc1ByZXNlbnQsIHNhZmVUb1JlbW92ZV0gPSB1c2VQcmVzZW5jZSgpXG4gKlxuICogICB1c2VFZmZlY3QoKCkgPT4ge1xuICogICAgICFpc1ByZXNlbnQgJiYgc2V0VGltZW91dChzYWZlVG9SZW1vdmUsIDEwMDApXG4gKiAgIH0sIFtpc1ByZXNlbnRdKVxuICpcbiAqICAgcmV0dXJuIDxkaXYgLz5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIElmIGBpc1ByZXNlbnRgIGlzIGBmYWxzZWAsIGl0IG1lYW5zIHRoYXQgYSBjb21wb25lbnQgaGFzIGJlZW4gcmVtb3ZlZCB0aGUgdHJlZSwgYnV0XG4gKiBgQW5pbWF0ZVByZXNlbmNlYCB3b24ndCByZWFsbHkgcmVtb3ZlIGl0IHVudGlsIGBzYWZlVG9SZW1vdmVgIGhhcyBiZWVuIGNhbGxlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVzZVByZXNlbmNlKHN1YnNjcmliZSA9IHRydWUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChQcmVzZW5jZUNvbnRleHQpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgIGNvbnN0IHsgaXNQcmVzZW50LCBvbkV4aXRDb21wbGV0ZSwgcmVnaXN0ZXIgfSA9IGNvbnRleHQ7XG4gICAgLy8gSXQncyBzYWZlIHRvIGNhbGwgdGhlIGZvbGxvd2luZyBob29rcyBjb25kaXRpb25hbGx5IChhZnRlciBhbiBlYXJseSByZXR1cm4pIGJlY2F1c2UgdGhlIGNvbnRleHQgd2lsbCBhbHdheXNcbiAgICAvLyBlaXRoZXIgYmUgbnVsbCBvciBub24tbnVsbCBmb3IgdGhlIGxpZmVzcGFuIG9mIHRoZSBjb21wb25lbnQuXG4gICAgY29uc3QgaWQgPSB1c2VJZCgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlcihpZCk7XG4gICAgICAgIH1cbiAgICB9LCBbc3Vic2NyaWJlXSk7XG4gICAgY29uc3Qgc2FmZVRvUmVtb3ZlID0gdXNlQ2FsbGJhY2soKCkgPT4gc3Vic2NyaWJlICYmIG9uRXhpdENvbXBsZXRlICYmIG9uRXhpdENvbXBsZXRlKGlkKSwgW2lkLCBvbkV4aXRDb21wbGV0ZSwgc3Vic2NyaWJlXSk7XG4gICAgcmV0dXJuICFpc1ByZXNlbnQgJiYgb25FeGl0Q29tcGxldGUgPyBbZmFsc2UsIHNhZmVUb1JlbW92ZV0gOiBbdHJ1ZV07XG59XG4vKipcbiAqIFNpbWlsYXIgdG8gYHVzZVByZXNlbmNlYCwgZXhjZXB0IGB1c2VJc1ByZXNlbnRgIHNpbXBseSByZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBjb21wb25lbnQgaXMgcHJlc2VudC5cbiAqIFRoZXJlIGlzIG5vIGBzYWZlVG9SZW1vdmVgIGZ1bmN0aW9uLlxuICpcbiAqIGBgYGpzeFxuICogaW1wb3J0IHsgdXNlSXNQcmVzZW50IH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIlxuICpcbiAqIGV4cG9ydCBjb25zdCBDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgIGNvbnN0IGlzUHJlc2VudCA9IHVzZUlzUHJlc2VudCgpXG4gKlxuICogICB1c2VFZmZlY3QoKCkgPT4ge1xuICogICAgICFpc1ByZXNlbnQgJiYgY29uc29sZS5sb2coXCJJJ3ZlIGJlZW4gcmVtb3ZlZCFcIilcbiAqICAgfSwgW2lzUHJlc2VudF0pXG4gKlxuICogICByZXR1cm4gPGRpdiAvPlxuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB1c2VJc1ByZXNlbnQoKSB7XG4gICAgcmV0dXJuIGlzUHJlc2VudCh1c2VDb250ZXh0KFByZXNlbmNlQ29udGV4dCkpO1xufVxuZnVuY3Rpb24gaXNQcmVzZW50KGNvbnRleHQpIHtcbiAgICByZXR1cm4gY29udGV4dCA9PT0gbnVsbCA/IHRydWUgOiBjb250ZXh0LmlzUHJlc2VudDtcbn1cblxuZXhwb3J0IHsgaXNQcmVzZW50LCB1c2VJc1ByZXNlbnQsIHVzZVByZXNlbmNlIH07XG4iLCAiaW1wb3J0IHsgQ2hpbGRyZW4sIGlzVmFsaWRFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBnZXRDaGlsZEtleSA9IChjaGlsZCkgPT4gY2hpbGQua2V5IHx8IFwiXCI7XG5mdW5jdGlvbiBvbmx5RWxlbWVudHMoY2hpbGRyZW4pIHtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IFtdO1xuICAgIC8vIFdlIHVzZSBmb3JFYWNoIGhlcmUgaW5zdGVhZCBvZiBtYXAgYXMgbWFwIG11dGF0ZXMgdGhlIGNvbXBvbmVudCBrZXkgYnkgcHJlcHJlbmRpbmcgYC4kYFxuICAgIENoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoY2hpbGQpKVxuICAgICAgICAgICAgZmlsdGVyZWQucHVzaChjaGlsZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpbHRlcmVkO1xufVxuXG5leHBvcnQgeyBnZXRDaGlsZEtleSwgb25seUVsZW1lbnRzIH07XG4iLCAiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L0xheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgRGVwcmVjYXRlZExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvRGVwcmVjYXRlZExheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgdXNlRm9yY2VVcGRhdGUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtZm9yY2UtdXBkYXRlLm1qcyc7XG5pbXBvcnQgeyBub2RlR3JvdXAgfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL25vZGUvZ3JvdXAubWpzJztcblxuY29uc3Qgc2hvdWxkSW5oZXJpdEdyb3VwID0gKGluaGVyaXQpID0+IGluaGVyaXQgPT09IHRydWU7XG5jb25zdCBzaG91bGRJbmhlcml0SWQgPSAoaW5oZXJpdCkgPT4gc2hvdWxkSW5oZXJpdEdyb3VwKGluaGVyaXQgPT09IHRydWUpIHx8IGluaGVyaXQgPT09IFwiaWRcIjtcbmNvbnN0IExheW91dEdyb3VwID0gKHsgY2hpbGRyZW4sIGlkLCBpbmhlcml0ID0gdHJ1ZSB9KSA9PiB7XG4gICAgY29uc3QgbGF5b3V0R3JvdXBDb250ZXh0ID0gdXNlQ29udGV4dChMYXlvdXRHcm91cENvbnRleHQpO1xuICAgIGNvbnN0IGRlcHJlY2F0ZWRMYXlvdXRHcm91cENvbnRleHQgPSB1c2VDb250ZXh0KERlcHJlY2F0ZWRMYXlvdXRHcm91cENvbnRleHQpO1xuICAgIGNvbnN0IFtmb3JjZVJlbmRlciwga2V5XSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB1cHN0cmVhbUlkID0gbGF5b3V0R3JvdXBDb250ZXh0LmlkIHx8IGRlcHJlY2F0ZWRMYXlvdXRHcm91cENvbnRleHQ7XG4gICAgaWYgKGNvbnRleHQuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc2hvdWxkSW5oZXJpdElkKGluaGVyaXQpICYmIHVwc3RyZWFtSWQpIHtcbiAgICAgICAgICAgIGlkID0gaWQgPyB1cHN0cmVhbUlkICsgXCItXCIgKyBpZCA6IHVwc3RyZWFtSWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5jdXJyZW50ID0ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBncm91cDogc2hvdWxkSW5oZXJpdEdyb3VwKGluaGVyaXQpXG4gICAgICAgICAgICAgICAgPyBsYXlvdXRHcm91cENvbnRleHQuZ3JvdXAgfHwgbm9kZUdyb3VwKClcbiAgICAgICAgICAgICAgICA6IG5vZGVHcm91cCgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBtZW1vaXplZENvbnRleHQgPSB1c2VNZW1vKCgpID0+ICh7IC4uLmNvbnRleHQuY3VycmVudCwgZm9yY2VSZW5kZXIgfSksIFtrZXldKTtcbiAgICByZXR1cm4gKGpzeChMYXlvdXRHcm91cENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IG1lbW9pemVkQ29udGV4dCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmV4cG9ydCB7IExheW91dEdyb3VwIH07XG4iLCAiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBOb3RlOiBTdGlsbCB1c2VkIGJ5IGNvbXBvbmVudHMgZ2VuZXJhdGVkIGJ5IG9sZCB2ZXJzaW9ucyBvZiBGcmFtZXJcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5jb25zdCBEZXByZWNhdGVkTGF5b3V0R3JvdXBDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcblxuZXhwb3J0IHsgRGVwcmVjYXRlZExheW91dEdyb3VwQ29udGV4dCB9O1xuIiwgImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzTW91bnRlZCB9IGZyb20gJy4vdXNlLWlzLW1vdW50ZWQubWpzJztcbmltcG9ydCB7IGZyYW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5mdW5jdGlvbiB1c2VGb3JjZVVwZGF0ZSgpIHtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgICBjb25zdCBbZm9yY2VkUmVuZGVyQ291bnQsIHNldEZvcmNlZFJlbmRlckNvdW50XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IGZvcmNlUmVuZGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpc01vdW50ZWQuY3VycmVudCAmJiBzZXRGb3JjZWRSZW5kZXJDb3VudChmb3JjZWRSZW5kZXJDb3VudCArIDEpO1xuICAgIH0sIFtmb3JjZWRSZW5kZXJDb3VudF0pO1xuICAgIC8qKlxuICAgICAqIERlZmVyIHRoaXMgdG8gdGhlIGVuZCBvZiB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUgaW4gY2FzZSB0aGVyZSBhcmUgbXVsdGlwbGVcbiAgICAgKiBzeW5jaHJvbm91cyBjYWxscy5cbiAgICAgKi9cbiAgICBjb25zdCBkZWZlcnJlZEZvcmNlUmVuZGVyID0gdXNlQ2FsbGJhY2soKCkgPT4gZnJhbWUucG9zdFJlbmRlcihmb3JjZVJlbmRlciksIFtmb3JjZVJlbmRlcl0pO1xuICAgIHJldHVybiBbZGVmZXJyZWRGb3JjZVJlbmRlciwgZm9yY2VkUmVuZGVyQ291bnRdO1xufVxuXG5leHBvcnQgeyB1c2VGb3JjZVVwZGF0ZSB9O1xuIiwgImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMnO1xuXG5mdW5jdGlvbiB1c2VJc01vdW50ZWQoKSB7XG4gICAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGlzTW91bnRlZDtcbn1cblxuZXhwb3J0IHsgdXNlSXNNb3VudGVkIH07XG4iLCAiaW1wb3J0IHsgY3JlYXRlUmVuZGVyQmF0Y2hlciB9IGZyb20gJy4vYmF0Y2hlci5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL25vb3AubWpzJztcblxuY29uc3QgeyBzY2hlZHVsZTogZnJhbWUsIGNhbmNlbDogY2FuY2VsRnJhbWUsIHN0YXRlOiBmcmFtZURhdGEsIHN0ZXBzOiBmcmFtZVN0ZXBzLCB9ID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVJlbmRlckJhdGNoZXIodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSAhPT0gXCJ1bmRlZmluZWRcIiA/IHJlcXVlc3RBbmltYXRpb25GcmFtZSA6IG5vb3AsIHRydWUpO1xuXG5leHBvcnQgeyBjYW5jZWxGcmFtZSwgZnJhbWUsIGZyYW1lRGF0YSwgZnJhbWVTdGVwcyB9O1xuIiwgImltcG9ydCB7IHN0ZXBzT3JkZXIgfSBmcm9tICcuL29yZGVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVSZW5kZXJTdGVwIH0gZnJvbSAnLi9yZW5kZXItc3RlcC5tanMnO1xuaW1wb3J0IHsgTW90aW9uR2xvYmFsQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZ2xvYmFsLWNvbmZpZy5tanMnO1xuXG5jb25zdCBtYXhFbGFwc2VkID0gNDA7XG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJCYXRjaGVyKHNjaGVkdWxlTmV4dEJhdGNoLCBhbGxvd0tlZXBBbGl2ZSkge1xuICAgIGxldCBydW5OZXh0RnJhbWUgPSBmYWxzZTtcbiAgICBsZXQgdXNlRGVmYXVsdEVsYXBzZWQgPSB0cnVlO1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBkZWx0YTogMC4wLFxuICAgICAgICB0aW1lc3RhbXA6IDAuMCxcbiAgICAgICAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcbiAgICB9O1xuICAgIGNvbnN0IGZsYWdSdW5OZXh0RnJhbWUgPSAoKSA9PiAocnVuTmV4dEZyYW1lID0gdHJ1ZSk7XG4gICAgY29uc3Qgc3RlcHMgPSBzdGVwc09yZGVyLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgYWNjW2tleV0gPSBjcmVhdGVSZW5kZXJTdGVwKGZsYWdSdW5OZXh0RnJhbWUsIGFsbG93S2VlcEFsaXZlID8ga2V5IDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgY29uc3QgeyBzZXR1cCwgcmVhZCwgcmVzb2x2ZUtleWZyYW1lcywgcHJlVXBkYXRlLCB1cGRhdGUsIHByZVJlbmRlciwgcmVuZGVyLCBwb3N0UmVuZGVyLCB9ID0gc3RlcHM7XG4gICAgY29uc3QgcHJvY2Vzc0JhdGNoID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBNb3Rpb25HbG9iYWxDb25maWcudXNlTWFudWFsVGltaW5nXG4gICAgICAgICAgICA/IHN0YXRlLnRpbWVzdGFtcFxuICAgICAgICAgICAgOiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgcnVuTmV4dEZyYW1lID0gZmFsc2U7XG4gICAgICAgIGlmICghTW90aW9uR2xvYmFsQ29uZmlnLnVzZU1hbnVhbFRpbWluZykge1xuICAgICAgICAgICAgc3RhdGUuZGVsdGEgPSB1c2VEZWZhdWx0RWxhcHNlZFxuICAgICAgICAgICAgICAgID8gMTAwMCAvIDYwXG4gICAgICAgICAgICAgICAgOiBNYXRoLm1heChNYXRoLm1pbih0aW1lc3RhbXAgLSBzdGF0ZS50aW1lc3RhbXAsIG1heEVsYXBzZWQpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICAgIHN0YXRlLmlzUHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICAgIC8vIFVucm9sbGVkIHJlbmRlciBsb29wIGZvciBiZXR0ZXIgcGVyLWZyYW1lIHBlcmZvcm1hbmNlXG4gICAgICAgIHNldHVwLnByb2Nlc3Moc3RhdGUpO1xuICAgICAgICByZWFkLnByb2Nlc3Moc3RhdGUpO1xuICAgICAgICByZXNvbHZlS2V5ZnJhbWVzLnByb2Nlc3Moc3RhdGUpO1xuICAgICAgICBwcmVVcGRhdGUucHJvY2VzcyhzdGF0ZSk7XG4gICAgICAgIHVwZGF0ZS5wcm9jZXNzKHN0YXRlKTtcbiAgICAgICAgcHJlUmVuZGVyLnByb2Nlc3Moc3RhdGUpO1xuICAgICAgICByZW5kZXIucHJvY2VzcyhzdGF0ZSk7XG4gICAgICAgIHBvc3RSZW5kZXIucHJvY2VzcyhzdGF0ZSk7XG4gICAgICAgIHN0YXRlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICBpZiAocnVuTmV4dEZyYW1lICYmIGFsbG93S2VlcEFsaXZlKSB7XG4gICAgICAgICAgICB1c2VEZWZhdWx0RWxhcHNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgc2NoZWR1bGVOZXh0QmF0Y2gocHJvY2Vzc0JhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgd2FrZSA9ICgpID0+IHtcbiAgICAgICAgcnVuTmV4dEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgdXNlRGVmYXVsdEVsYXBzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIXN0YXRlLmlzUHJvY2Vzc2luZykge1xuICAgICAgICAgICAgc2NoZWR1bGVOZXh0QmF0Y2gocHJvY2Vzc0JhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2NoZWR1bGUgPSBzdGVwc09yZGVyLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IHN0ZXBzW2tleV07XG4gICAgICAgIGFjY1trZXldID0gKHByb2Nlc3MsIGtlZXBBbGl2ZSA9IGZhbHNlLCBpbW1lZGlhdGUgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFydW5OZXh0RnJhbWUpXG4gICAgICAgICAgICAgICAgd2FrZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXAuc2NoZWR1bGUocHJvY2Vzcywga2VlcEFsaXZlLCBpbW1lZGlhdGUpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICBjb25zdCBjYW5jZWwgPSAocHJvY2VzcykgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXBzT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN0ZXBzW3N0ZXBzT3JkZXJbaV1dLmNhbmNlbChwcm9jZXNzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHsgc2NoZWR1bGUsIGNhbmNlbCwgc3RhdGUsIHN0ZXBzIH07XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVJlbmRlckJhdGNoZXIgfTtcbiIsICJjb25zdCBzdGVwc09yZGVyID0gW1xuICAgIFwic2V0dXBcIiwgLy8gQ29tcHV0ZVxuICAgIFwicmVhZFwiLCAvLyBSZWFkXG4gICAgXCJyZXNvbHZlS2V5ZnJhbWVzXCIsIC8vIFdyaXRlL1JlYWQvV3JpdGUvUmVhZFxuICAgIFwicHJlVXBkYXRlXCIsIC8vIENvbXB1dGVcbiAgICBcInVwZGF0ZVwiLCAvLyBDb21wdXRlXG4gICAgXCJwcmVSZW5kZXJcIiwgLy8gQ29tcHV0ZVxuICAgIFwicmVuZGVyXCIsIC8vIFdyaXRlXG4gICAgXCJwb3N0UmVuZGVyXCIsIC8vIENvbXB1dGVcbl07XG5cbmV4cG9ydCB7IHN0ZXBzT3JkZXIgfTtcbiIsICJpbXBvcnQgeyBzdGF0c0J1ZmZlciB9IGZyb20gJy4uL3N0YXRzL2J1ZmZlci5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJTdGVwKHJ1bk5leHRGcmFtZSwgc3RlcE5hbWUpIHtcbiAgICAvKipcbiAgICAgKiBXZSBjcmVhdGUgYW5kIHJldXNlIHR3byBxdWV1ZXMsIG9uZSB0byBxdWV1ZSBqb2JzIGZvciB0aGUgY3VycmVudCBmcmFtZVxuICAgICAqIGFuZCBvbmUgZm9yIHRoZSBuZXh0LiBXZSByZXVzZSB0byBhdm9pZCB0cmlnZ2VyaW5nIEdDIGFmdGVyIHggZnJhbWVzLlxuICAgICAqL1xuICAgIGxldCB0aGlzRnJhbWUgPSBuZXcgU2V0KCk7XG4gICAgbGV0IG5leHRGcmFtZSA9IG5ldyBTZXQoKTtcbiAgICAvKipcbiAgICAgKiBUcmFjayB3aGV0aGVyIHdlJ3JlIGN1cnJlbnRseSBwcm9jZXNzaW5nIGpvYnMgaW4gdGhpcyBzdGVwLiBUaGlzIHdheVxuICAgICAqIHdlIGNhbiBkZWNpZGUgd2hldGhlciB0byBzY2hlZHVsZSBuZXcgam9icyBmb3IgdGhpcyBmcmFtZSBvciBuZXh0LlxuICAgICAqL1xuICAgIGxldCBpc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICBsZXQgZmx1c2hOZXh0RnJhbWUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBwcm9jZXNzZXMgd2hpY2ggd2VyZSBtYXJrZWQga2VlcEFsaXZlIHdoZW4gc2NoZWR1bGVkLlxuICAgICAqL1xuICAgIGNvbnN0IHRvS2VlcEFsaXZlID0gbmV3IFdlYWtTZXQoKTtcbiAgICBsZXQgbGF0ZXN0RnJhbWVEYXRhID0ge1xuICAgICAgICBkZWx0YTogMC4wLFxuICAgICAgICB0aW1lc3RhbXA6IDAuMCxcbiAgICAgICAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcbiAgICB9O1xuICAgIGxldCBudW1DYWxscyA9IDA7XG4gICAgZnVuY3Rpb24gdHJpZ2dlckNhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0b0tlZXBBbGl2ZS5oYXMoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICBzdGVwLnNjaGVkdWxlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJ1bk5leHRGcmFtZSgpO1xuICAgICAgICB9XG4gICAgICAgIG51bUNhbGxzKys7XG4gICAgICAgIGNhbGxiYWNrKGxhdGVzdEZyYW1lRGF0YSk7XG4gICAgfVxuICAgIGNvbnN0IHN0ZXAgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2hlZHVsZSBhIHByb2Nlc3MgdG8gcnVuIG9uIHRoZSBuZXh0IGZyYW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NoZWR1bGU6IChjYWxsYmFjaywga2VlcEFsaXZlID0gZmFsc2UsIGltbWVkaWF0ZSA9IGZhbHNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhZGRUb0N1cnJlbnRGcmFtZSA9IGltbWVkaWF0ZSAmJiBpc1Byb2Nlc3Npbmc7XG4gICAgICAgICAgICBjb25zdCBxdWV1ZSA9IGFkZFRvQ3VycmVudEZyYW1lID8gdGhpc0ZyYW1lIDogbmV4dEZyYW1lO1xuICAgICAgICAgICAgaWYgKGtlZXBBbGl2ZSlcbiAgICAgICAgICAgICAgICB0b0tlZXBBbGl2ZS5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKCFxdWV1ZS5oYXMoY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgIHF1ZXVlLmFkZChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2s7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW5jZWwgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZyb20gcnVubmluZyBvbiB0aGUgbmV4dCBmcmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGNhbmNlbDogKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBuZXh0RnJhbWUuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHRvS2VlcEFsaXZlLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeGVjdXRlIGFsbCBzY2hlZHVsZSBjYWxsYmFja3MuXG4gICAgICAgICAqL1xuICAgICAgICBwcm9jZXNzOiAoZnJhbWVEYXRhKSA9PiB7XG4gICAgICAgICAgICBsYXRlc3RGcmFtZURhdGEgPSBmcmFtZURhdGE7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlJ3JlIGFscmVhZHkgcHJvY2Vzc2luZyB3ZSd2ZSBwcm9iYWJseSBiZWVuIHRyaWdnZXJlZCBieSBhIGZsdXNoU3luY1xuICAgICAgICAgICAgICogaW5zaWRlIGFuIGV4aXN0aW5nIHByb2Nlc3MuIEluc3RlYWQgb2YgZXhlY3V0aW5nLCBtYXJrIGZsdXNoTmV4dEZyYW1lXG4gICAgICAgICAgICAgKiBhcyB0cnVlIGFuZCBlbnN1cmUgd2UgZmx1c2ggdGhlIGZvbGxvd2luZyBmcmFtZSBhdCB0aGUgZW5kIG9mIHRoaXMgb25lLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaXNQcm9jZXNzaW5nKSB7XG4gICAgICAgICAgICAgICAgZmx1c2hOZXh0RnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzUHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICAgICAgICBbdGhpc0ZyYW1lLCBuZXh0RnJhbWVdID0gW25leHRGcmFtZSwgdGhpc0ZyYW1lXTtcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhpcyBmcmFtZVxuICAgICAgICAgICAgdGhpc0ZyYW1lLmZvckVhY2godHJpZ2dlckNhbGxiYWNrKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgcmVjb3JkaW5nIHN0YXRzIHRoZW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHN0ZXBOYW1lICYmIHN0YXRzQnVmZmVyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3RhdHNCdWZmZXIudmFsdWUuZnJhbWVsb29wW3N0ZXBOYW1lXS5wdXNoKG51bUNhbGxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG51bUNhbGxzID0gMDtcbiAgICAgICAgICAgIC8vIENsZWFyIHRoZSBmcmFtZSBzbyBubyBjYWxsYmFja3MgcmVtYWluLiBUaGlzIGlzIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBtZW1vcnkgbGVha3Mgc2hvdWxkIHRoaXMgcmVuZGVyIHN0ZXAgbm90IHJ1biBmb3IgYSB3aGlsZS5cbiAgICAgICAgICAgIHRoaXNGcmFtZS5jbGVhcigpO1xuICAgICAgICAgICAgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZmx1c2hOZXh0RnJhbWUpIHtcbiAgICAgICAgICAgICAgICBmbHVzaE5leHRGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0ZXAucHJvY2VzcyhmcmFtZURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHN0ZXA7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVJlbmRlclN0ZXAgfTtcbiIsICJjb25zdCBzdGF0c0J1ZmZlciA9IHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICBhZGRQcm9qZWN0aW9uTWV0cmljczogbnVsbCxcbn07XG5cbmV4cG9ydCB7IHN0YXRzQnVmZmVyIH07XG4iLCAiY29uc3QgTW90aW9uR2xvYmFsQ29uZmlnID0ge307XG5cbmV4cG9ydCB7IE1vdGlvbkdsb2JhbENvbmZpZyB9O1xuIiwgIi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuY29uc3Qgbm9vcCA9IChhbnkpID0+IGFueTtcblxuZXhwb3J0IHsgbm9vcCB9O1xuIiwgImNvbnN0IG5vdGlmeSA9IChub2RlKSA9PiAhbm9kZS5pc0xheW91dERpcnR5ICYmIG5vZGUud2lsbFVwZGF0ZShmYWxzZSk7XG5mdW5jdGlvbiBub2RlR3JvdXAoKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBuZXcgU2V0KCk7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgY29uc3QgZGlydHlBbGwgPSAoKSA9PiBub2Rlcy5mb3JFYWNoKG5vdGlmeSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkOiAobm9kZSkgPT4ge1xuICAgICAgICAgICAgbm9kZXMuYWRkKG5vZGUpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zZXQobm9kZSwgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwid2lsbFVwZGF0ZVwiLCBkaXJ0eUFsbCkpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmU6IChub2RlKSA9PiB7XG4gICAgICAgICAgICBub2Rlcy5kZWxldGUobm9kZSk7XG4gICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN1YnNjcmlwdGlvbnMuZ2V0KG5vZGUpO1xuICAgICAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcnR5QWxsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpcnR5OiBkaXJ0eUFsbCxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBub2RlR3JvdXAgfTtcbiIsICJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IExhenlDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7IHN0cmljdDogZmFsc2UgfSk7XG5cbmV4cG9ydCB7IExhenlDb250ZXh0IH07XG4iLCAiaW1wb3J0IHsgZmVhdHVyZURlZmluaXRpb25zIH0gZnJvbSAnLi9kZWZpbml0aW9ucy5tanMnO1xuXG5mdW5jdGlvbiBsb2FkRmVhdHVyZXMoZmVhdHVyZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmZWF0dXJlcykge1xuICAgICAgICBmZWF0dXJlRGVmaW5pdGlvbnNba2V5XSA9IHtcbiAgICAgICAgICAgIC4uLmZlYXR1cmVEZWZpbml0aW9uc1trZXldLFxuICAgICAgICAgICAgLi4uZmVhdHVyZXNba2V5XSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGxvYWRGZWF0dXJlcyB9O1xuIiwgImNvbnN0IGZlYXR1cmVQcm9wcyA9IHtcbiAgICBhbmltYXRpb246IFtcbiAgICAgICAgXCJhbmltYXRlXCIsXG4gICAgICAgIFwidmFyaWFudHNcIixcbiAgICAgICAgXCJ3aGlsZUhvdmVyXCIsXG4gICAgICAgIFwid2hpbGVUYXBcIixcbiAgICAgICAgXCJleGl0XCIsXG4gICAgICAgIFwid2hpbGVJblZpZXdcIixcbiAgICAgICAgXCJ3aGlsZUZvY3VzXCIsXG4gICAgICAgIFwid2hpbGVEcmFnXCIsXG4gICAgXSxcbiAgICBleGl0OiBbXCJleGl0XCJdLFxuICAgIGRyYWc6IFtcImRyYWdcIiwgXCJkcmFnQ29udHJvbHNcIl0sXG4gICAgZm9jdXM6IFtcIndoaWxlRm9jdXNcIl0sXG4gICAgaG92ZXI6IFtcIndoaWxlSG92ZXJcIiwgXCJvbkhvdmVyU3RhcnRcIiwgXCJvbkhvdmVyRW5kXCJdLFxuICAgIHRhcDogW1wid2hpbGVUYXBcIiwgXCJvblRhcFwiLCBcIm9uVGFwU3RhcnRcIiwgXCJvblRhcENhbmNlbFwiXSxcbiAgICBwYW46IFtcIm9uUGFuXCIsIFwib25QYW5TdGFydFwiLCBcIm9uUGFuU2Vzc2lvblN0YXJ0XCIsIFwib25QYW5FbmRcIl0sXG4gICAgaW5WaWV3OiBbXCJ3aGlsZUluVmlld1wiLCBcIm9uVmlld3BvcnRFbnRlclwiLCBcIm9uVmlld3BvcnRMZWF2ZVwiXSxcbiAgICBsYXlvdXQ6IFtcImxheW91dFwiLCBcImxheW91dElkXCJdLFxufTtcbmNvbnN0IGZlYXR1cmVEZWZpbml0aW9ucyA9IHt9O1xuZm9yIChjb25zdCBrZXkgaW4gZmVhdHVyZVByb3BzKSB7XG4gICAgZmVhdHVyZURlZmluaXRpb25zW2tleV0gPSB7XG4gICAgICAgIGlzRW5hYmxlZDogKHByb3BzKSA9PiBmZWF0dXJlUHJvcHNba2V5XS5zb21lKChuYW1lKSA9PiAhIXByb3BzW25hbWVdKSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBmZWF0dXJlRGVmaW5pdGlvbnMgfTtcbiIsICJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNb3Rpb25Db25maWdDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Nb3Rpb25Db25maWdDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBsb2FkRXh0ZXJuYWxJc1ZhbGlkUHJvcCB9IGZyb20gJy4uLy4uL3JlbmRlci9kb20vdXRpbHMvZmlsdGVyLXByb3BzLm1qcyc7XG5pbXBvcnQgeyB1c2VDb25zdGFudCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1jb25zdGFudC5tanMnO1xuXG4vKipcbiAqIGBNb3Rpb25Db25maWdgIGlzIHVzZWQgdG8gc2V0IGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgYWxsIGNoaWxkcmVuIGBtb3Rpb25gIGNvbXBvbmVudHMuXG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyBtb3Rpb24sIE1vdGlvbkNvbmZpZyB9IGZyb20gXCJmcmFtZXItbW90aW9uXCJcbiAqXG4gKiBleHBvcnQgZnVuY3Rpb24gQXBwKCkge1xuICogICByZXR1cm4gKFxuICogICAgIDxNb3Rpb25Db25maWcgdHJhbnNpdGlvbj17eyB0eXBlOiBcInNwcmluZ1wiIH19PlxuICogICAgICAgPG1vdGlvbi5kaXYgYW5pbWF0ZT17eyB4OiAxMDAgfX0gLz5cbiAqICAgICA8L01vdGlvbkNvbmZpZz5cbiAqICAgKVxuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBNb3Rpb25Db25maWcoeyBjaGlsZHJlbiwgaXNWYWxpZFByb3AsIC4uLmNvbmZpZyB9KSB7XG4gICAgaXNWYWxpZFByb3AgJiYgbG9hZEV4dGVybmFsSXNWYWxpZFByb3AoaXNWYWxpZFByb3ApO1xuICAgIC8qKlxuICAgICAqIEluaGVyaXQgcHJvcHMgZnJvbSBhbnkgcGFyZW50IE1vdGlvbkNvbmZpZyBjb21wb25lbnRzXG4gICAgICovXG4gICAgY29uZmlnID0geyAuLi51c2VDb250ZXh0KE1vdGlvbkNvbmZpZ0NvbnRleHQpLCAuLi5jb25maWcgfTtcbiAgICAvKipcbiAgICAgKiBEb24ndCBhbGxvdyBpc1N0YXRpYyB0byBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzIGFzIGl0IGFmZmVjdHMgaG93IG1hbnkgaG9va3NcbiAgICAgKiBtb3Rpb24gY29tcG9uZW50cyBmaXJlLlxuICAgICAqL1xuICAgIGNvbmZpZy5pc1N0YXRpYyA9IHVzZUNvbnN0YW50KCgpID0+IGNvbmZpZy5pc1N0YXRpYyk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRpbmcgYSBuZXcgY29uZmlnIGNvbnRleHQgb2JqZWN0IHdpbGwgcmUtcmVuZGVyIGV2ZXJ5IGBtb3Rpb25gIGNvbXBvbmVudFxuICAgICAqIGV2ZXJ5IHRpbWUgaXQgcmVuZGVycy4gU28gd2Ugb25seSB3YW50IHRvIGNyZWF0ZSBhIG5ldyBvbmUgc3BhcmluZ2x5LlxuICAgICAqL1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VNZW1vKCgpID0+IGNvbmZpZywgW1xuICAgICAgICBKU09OLnN0cmluZ2lmeShjb25maWcudHJhbnNpdGlvbiksXG4gICAgICAgIGNvbmZpZy50cmFuc2Zvcm1QYWdlUG9pbnQsXG4gICAgICAgIGNvbmZpZy5yZWR1Y2VkTW90aW9uLFxuICAgIF0pO1xuICAgIHJldHVybiAoanN4KE1vdGlvbkNvbmZpZ0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59XG5cbmV4cG9ydCB7IE1vdGlvbkNvbmZpZyB9O1xuIiwgImltcG9ydCB7IGlzVmFsaWRNb3Rpb25Qcm9wIH0gZnJvbSAnLi4vLi4vLi4vbW90aW9uL3V0aWxzL3ZhbGlkLXByb3AubWpzJztcblxubGV0IHNob3VsZEZvcndhcmQgPSAoa2V5KSA9PiAhaXNWYWxpZE1vdGlvblByb3Aoa2V5KTtcbmZ1bmN0aW9uIGxvYWRFeHRlcm5hbElzVmFsaWRQcm9wKGlzVmFsaWRQcm9wKSB7XG4gICAgaWYgKCFpc1ZhbGlkUHJvcClcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIEV4cGxpY2l0bHkgZmlsdGVyIG91ciBldmVudHNcbiAgICBzaG91bGRGb3J3YXJkID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoXCJvblwiKSA/ICFpc1ZhbGlkTW90aW9uUHJvcChrZXkpIDogaXNWYWxpZFByb3Aoa2V5KTtcbn1cbi8qKlxuICogRW1vdGlvbiBhbmQgU3R5bGVkIENvbXBvbmVudHMgYm90aCBhbGxvdyB1c2VycyB0byBwYXNzIHRocm91Z2ggYXJiaXRyYXJ5IHByb3BzIHRvIHRoZWlyIGNvbXBvbmVudHNcbiAqIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlIENTUy4gVGhleSBib3RoIHVzZSB0aGUgYEBlbW90aW9uL2lzLXByb3AtdmFsaWRgIHBhY2thZ2UgdG8gZGV0ZXJtaW5lIHdoaWNoXG4gKiBvZiB0aGVzZSBzaG91bGQgYmUgcGFzc2VkIHRvIHRoZSB1bmRlcmx5aW5nIERPTSBub2RlLlxuICpcbiAqIEhvd2V2ZXIsIHdoZW4gc3R5bGluZyBhIE1vdGlvbiBjb21wb25lbnQgYHN0eWxlZChtb3Rpb24uZGl2KWAsIGJvdGggcGFja2FnZXMgcGFzcyB0aHJvdWdoICphbGwqIHByb3BzXG4gKiBhcyBpdCdzIHNlZW4gYXMgYW4gYXJiaXRyYXJ5IGNvbXBvbmVudCByYXRoZXIgdGhhbiBhIERPTSBub2RlLiBNb3Rpb24gb25seSBhbGxvd3MgYXJiaXRyYXJ5IHByb3BzXG4gKiBwYXNzZWQgdGhyb3VnaCB0aGUgYGN1c3RvbWAgcHJvcCBzbyBpdCBkb2Vzbid0ICpuZWVkKiB0aGUgcGF5bG9hZCBvciBjb21wdXRhdGlvbmFsIG92ZXJoZWFkIG9mXG4gKiBgQGVtb3Rpb24vaXMtcHJvcC12YWxpZGAsIGhvd2V2ZXIgdG8gZml4IHRoaXMgcHJvYmxlbSB3ZSBuZWVkIHRvIHVzZSBpdC5cbiAqXG4gKiBCeSBtYWtpbmcgaXQgYW4gb3B0aW9uYWxEZXBlbmRlbmN5IHdlIGNhbiBvZmZlciB0aGlzIGZ1bmN0aW9uYWxpdHkgb25seSBpbiB0aGUgc2l0dWF0aW9ucyB3aGVyZSBpdCdzXG4gKiBhY3R1YWxseSByZXF1aXJlZC5cbiAqL1xudHJ5IHtcbiAgICAvKipcbiAgICAgKiBXZSBhdHRlbXB0IHRvIGltcG9ydCB0aGlzIHBhY2thZ2UgYnV0IHJlcXVpcmUgd29uJ3QgYmUgZGVmaW5lZCBpbiBlc20gZW52aXJvbm1lbnRzLCBpbiB0aGF0IGNhc2VcbiAgICAgKiBpc1Byb3BWYWxpZCB3aWxsIGhhdmUgdG8gYmUgcHJvdmlkZWQgdmlhIGBNb3Rpb25Db250ZXh0YC4gSW4gYSA2LjAuMCB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSByZW1vdmVkXG4gICAgICogaW4gZmF2b3VyIG9mIGV4cGxpY2l0IGluamVjdGlvbi5cbiAgICAgKi9cbiAgICBsb2FkRXh0ZXJuYWxJc1ZhbGlkUHJvcChyZXF1aXJlKFwiQGVtb3Rpb24vaXMtcHJvcC12YWxpZFwiKS5kZWZhdWx0KTtcbn1cbmNhdGNoIHtcbiAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGFjdHVhbGx5IGRvIGFueXRoaW5nIGhlcmUgLSB0aGUgZmFsbGJhY2sgaXMgdGhlIGV4aXN0aW5nIGBpc1Byb3BWYWxpZGAuXG59XG5mdW5jdGlvbiBmaWx0ZXJQcm9wcyhwcm9wcywgaXNEb20sIGZvcndhcmRNb3Rpb25Qcm9wcykge1xuICAgIGNvbnN0IGZpbHRlcmVkUHJvcHMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogdmFsdWVzIGlzIGNvbnNpZGVyZWQgYSB2YWxpZCBwcm9wIGJ5IEVtb3Rpb24sIHNvIGlmIGl0J3MgcHJlc2VudFxuICAgICAgICAgKiB0aGlzIHdpbGwgYmUgcmVuZGVyZWQgb3V0IHRvIHRoZSBET00gdW5sZXNzIGV4cGxpY2l0bHkgZmlsdGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdlIGNoZWNrIHRoZSB0eXBlIGFzIGl0IGNvdWxkIGJlIHVzZWQgd2l0aCB0aGUgYGZlQ29sb3JNYXRyaXhgXG4gICAgICAgICAqIGVsZW1lbnQsIHdoaWNoIHdlIHN1cHBvcnQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoa2V5ID09PSBcInZhbHVlc1wiICYmIHR5cGVvZiBwcm9wcy52YWx1ZXMgPT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKHNob3VsZEZvcndhcmQoa2V5KSB8fFxuICAgICAgICAgICAgKGZvcndhcmRNb3Rpb25Qcm9wcyA9PT0gdHJ1ZSAmJiBpc1ZhbGlkTW90aW9uUHJvcChrZXkpKSB8fFxuICAgICAgICAgICAgKCFpc0RvbSAmJiAhaXNWYWxpZE1vdGlvblByb3Aoa2V5KSkgfHxcbiAgICAgICAgICAgIC8vIElmIHRyeWluZyB0byB1c2UgbmF0aXZlIEhUTUwgZHJhZyBldmVudHMsIGZvcndhcmQgZHJhZyBsaXN0ZW5lcnNcbiAgICAgICAgICAgIChwcm9wc1tcImRyYWdnYWJsZVwiXSAmJlxuICAgICAgICAgICAgICAgIGtleS5zdGFydHNXaXRoKFwib25EcmFnXCIpKSkge1xuICAgICAgICAgICAgZmlsdGVyZWRQcm9wc1trZXldID1cbiAgICAgICAgICAgICAgICBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJlZFByb3BzO1xufVxuXG5leHBvcnQgeyBmaWx0ZXJQcm9wcywgbG9hZEV4dGVybmFsSXNWYWxpZFByb3AgfTtcbiIsICIvKipcbiAqIEEgbGlzdCBvZiBhbGwgdmFsaWQgTW90aW9uUHJvcHMuXG4gKlxuICogQHByaXZhdGVSZW1hcmtzXG4gKiBUaGlzIGRvZXNuJ3QgdGhyb3cgaWYgYSBgTW90aW9uUHJvcGAgbmFtZSBpcyBtaXNzaW5nIC0gaXQgc2hvdWxkLlxuICovXG5jb25zdCB2YWxpZE1vdGlvblByb3BzID0gbmV3IFNldChbXG4gICAgXCJhbmltYXRlXCIsXG4gICAgXCJleGl0XCIsXG4gICAgXCJ2YXJpYW50c1wiLFxuICAgIFwiaW5pdGlhbFwiLFxuICAgIFwic3R5bGVcIixcbiAgICBcInZhbHVlc1wiLFxuICAgIFwidmFyaWFudHNcIixcbiAgICBcInRyYW5zaXRpb25cIixcbiAgICBcInRyYW5zZm9ybVRlbXBsYXRlXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImluaGVyaXRcIixcbiAgICBcIm9uQmVmb3JlTGF5b3V0TWVhc3VyZVwiLFxuICAgIFwib25BbmltYXRpb25TdGFydFwiLFxuICAgIFwib25BbmltYXRpb25Db21wbGV0ZVwiLFxuICAgIFwib25VcGRhdGVcIixcbiAgICBcIm9uRHJhZ1N0YXJ0XCIsXG4gICAgXCJvbkRyYWdcIixcbiAgICBcIm9uRHJhZ0VuZFwiLFxuICAgIFwib25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzXCIsXG4gICAgXCJvbkRpcmVjdGlvbkxvY2tcIixcbiAgICBcIm9uRHJhZ1RyYW5zaXRpb25FbmRcIixcbiAgICBcIl9kcmFnWFwiLFxuICAgIFwiX2RyYWdZXCIsXG4gICAgXCJvbkhvdmVyU3RhcnRcIixcbiAgICBcIm9uSG92ZXJFbmRcIixcbiAgICBcIm9uVmlld3BvcnRFbnRlclwiLFxuICAgIFwib25WaWV3cG9ydExlYXZlXCIsXG4gICAgXCJnbG9iYWxUYXBUYXJnZXRcIixcbiAgICBcImlnbm9yZVN0cmljdFwiLFxuICAgIFwidmlld3BvcnRcIixcbl0pO1xuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgcHJvcCBuYW1lIGlzIGEgdmFsaWQgYE1vdGlvblByb3BgIGtleS5cbiAqXG4gKiBAcGFyYW0ga2V5IC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gY2hlY2tcbiAqIEByZXR1cm5zIGB0cnVlYCBpcyBrZXkgaXMgYSB2YWxpZCBgTW90aW9uUHJvcGAuXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBpc1ZhbGlkTW90aW9uUHJvcChrZXkpIHtcbiAgICByZXR1cm4gKGtleS5zdGFydHNXaXRoKFwid2hpbGVcIikgfHxcbiAgICAgICAgKGtleS5zdGFydHNXaXRoKFwiZHJhZ1wiKSAmJiBrZXkgIT09IFwiZHJhZ2dhYmxlXCIpIHx8XG4gICAgICAgIGtleS5zdGFydHNXaXRoKFwibGF5b3V0XCIpIHx8XG4gICAgICAgIGtleS5zdGFydHNXaXRoKFwib25UYXBcIikgfHxcbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoXCJvblBhblwiKSB8fFxuICAgICAgICBrZXkuc3RhcnRzV2l0aChcIm9uTGF5b3V0XCIpIHx8XG4gICAgICAgIHZhbGlkTW90aW9uUHJvcHMuaGFzKGtleSkpO1xufVxuXG5leHBvcnQgeyBpc1ZhbGlkTW90aW9uUHJvcCB9O1xuIiwgImltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvd2Fybi1vbmNlLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZURPTU1vdGlvbkNvbXBvbmVudFByb3h5KGNvbXBvbmVudEZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIFByb3h5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRGYWN0b3J5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGNhY2hlIG9mIGdlbmVyYXRlZCBgbW90aW9uYCBjb21wb25lbnRzLCBlLmcgYG1vdGlvbi5kaXZgLCBgbW90aW9uLmlucHV0YCBldGMuXG4gICAgICogUmF0aGVyIHRoYW4gZ2VuZXJhdGluZyB0aGVtIGFuZXcgZXZlcnkgcmVuZGVyLlxuICAgICAqL1xuICAgIGNvbnN0IGNvbXBvbmVudENhY2hlID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlcHJlY2F0ZWRGYWN0b3J5RnVuY3Rpb24gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgICB3YXJuT25jZShmYWxzZSwgXCJtb3Rpb24oKSBpcyBkZXByZWNhdGVkLiBVc2UgbW90aW9uLmNyZWF0ZSgpIGluc3RlYWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnRGYWN0b3J5KC4uLmFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIG5ldyBQcm94eShkZXByZWNhdGVkRmFjdG9yeUZ1bmN0aW9uLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsZWQgd2hlbiBgbW90aW9uYCBpcyByZWZlcmVuY2VkIHdpdGggYSBwcm9wOiBgbW90aW9uLmRpdmAsIGBtb3Rpb24uaW5wdXRgIGV0Yy5cbiAgICAgICAgICogVGhlIHByb3AgbmFtZSBpcyBwYXNzZWQgdGhyb3VnaCBhcyBga2V5YCBhbmQgd2UgY2FuIHVzZSB0aGF0IHRvIGdlbmVyYXRlIGEgYG1vdGlvbmBcbiAgICAgICAgICogRE9NIGNvbXBvbmVudCB3aXRoIHRoYXQgbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogKF90YXJnZXQsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJjcmVhdGVcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50RmFjdG9yeTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBlbGVtZW50IGRvZXNuJ3QgZXhpc3QgaW4gdGhlIGNvbXBvbmVudCBjYWNoZSwgY3JlYXRlIGl0IGFuZCBjYWNoZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFjb21wb25lbnRDYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudENhY2hlLnNldChrZXksIGNvbXBvbmVudEZhY3Rvcnkoa2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZURPTU1vdGlvbkNvbXBvbmVudFByb3h5IH07XG4iLCAiY29uc3Qgd2FybmVkID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gaGFzV2FybmVkKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gd2FybmVkLmhhcyhtZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIHdhcm5PbmNlKGNvbmRpdGlvbiwgbWVzc2FnZSwgZWxlbWVudCkge1xuICAgIGlmIChjb25kaXRpb24gfHwgd2FybmVkLmhhcyhtZXNzYWdlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICBpZiAoZWxlbWVudClcbiAgICAgICAgY29uc29sZS53YXJuKGVsZW1lbnQpO1xuICAgIHdhcm5lZC5hZGQobWVzc2FnZSk7XG59XG5cbmV4cG9ydCB7IGhhc1dhcm5lZCwgd2Fybk9uY2UgfTtcbiIsICJpbXBvcnQgeyBjcmVhdGVSZW5kZXJlck1vdGlvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uL21vdGlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlUmVuZGVyIH0gZnJvbSAnLi4vZG9tL3VzZS1yZW5kZXIubWpzJztcbmltcG9ydCB7IGlzU1ZHQ29tcG9uZW50IH0gZnJvbSAnLi4vZG9tL3V0aWxzL2lzLXN2Zy1jb21wb25lbnQubWpzJztcbmltcG9ydCB7IGh0bWxNb3Rpb25Db25maWcgfSBmcm9tICcuLi9odG1sL2NvbmZpZy1tb3Rpb24ubWpzJztcbmltcG9ydCB7IHN2Z01vdGlvbkNvbmZpZyB9IGZyb20gJy4uL3N2Zy9jb25maWctbW90aW9uLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZU1vdGlvbkNvbXBvbmVudEZhY3RvcnkocHJlbG9hZGVkRmVhdHVyZXMsIGNyZWF0ZVZpc3VhbEVsZW1lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTW90aW9uQ29tcG9uZW50KENvbXBvbmVudCwgeyBmb3J3YXJkTW90aW9uUHJvcHMgfSA9IHsgZm9yd2FyZE1vdGlvblByb3BzOiBmYWxzZSB9KSB7XG4gICAgICAgIGNvbnN0IGJhc2VDb25maWcgPSBpc1NWR0NvbXBvbmVudChDb21wb25lbnQpXG4gICAgICAgICAgICA/IHN2Z01vdGlvbkNvbmZpZ1xuICAgICAgICAgICAgOiBodG1sTW90aW9uQ29uZmlnO1xuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICAuLi5iYXNlQ29uZmlnLFxuICAgICAgICAgICAgcHJlbG9hZGVkRmVhdHVyZXMsXG4gICAgICAgICAgICB1c2VSZW5kZXI6IGNyZWF0ZVVzZVJlbmRlcihmb3J3YXJkTW90aW9uUHJvcHMpLFxuICAgICAgICAgICAgY3JlYXRlVmlzdWFsRWxlbWVudCxcbiAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJlbmRlcmVyTW90aW9uQ29tcG9uZW50KGNvbmZpZyk7XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50RmFjdG9yeSB9O1xuIiwgIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsganN4cywganN4IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBMYXp5Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTGF6eUNvbnRleHQubWpzJztcbmltcG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzJztcbmltcG9ydCB7IE1vdGlvbkNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZUNyZWF0ZU1vdGlvbkNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbnRleHQvY3JlYXRlLm1qcyc7XG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICcuLi91dGlscy9pcy1icm93c2VyLm1qcyc7XG5pbXBvcnQgeyBmZWF0dXJlRGVmaW5pdGlvbnMgfSBmcm9tICcuL2ZlYXR1cmVzL2RlZmluaXRpb25zLm1qcyc7XG5pbXBvcnQgeyBsb2FkRmVhdHVyZXMgfSBmcm9tICcuL2ZlYXR1cmVzL2xvYWQtZmVhdHVyZXMubWpzJztcbmltcG9ydCB7IG1vdGlvbkNvbXBvbmVudFN5bWJvbCB9IGZyb20gJy4vdXRpbHMvc3ltYm9sLm1qcyc7XG5pbXBvcnQgeyB1c2VNb3Rpb25SZWYgfSBmcm9tICcuL3V0aWxzL3VzZS1tb3Rpb24tcmVmLm1qcyc7XG5pbXBvcnQgeyB1c2VWaXN1YWxFbGVtZW50IH0gZnJvbSAnLi91dGlscy91c2UtdmlzdWFsLWVsZW1lbnQubWpzJztcbmltcG9ydCB7IHdhcm5pbmcsIGludmFyaWFudCB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vycm9ycy5tanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhIGBtb3Rpb25gIGNvbXBvbmVudC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYSBDb21wb25lbnQgYXJndW1lbnQsIHdoaWNoIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgKGllIFwiZGl2XCJcbiAqIGZvciBgbW90aW9uLmRpdmApLCBvciBhbiBhY3R1YWwgUmVhY3QgY29tcG9uZW50LlxuICpcbiAqIEFsb25nc2lkZSB0aGlzIGlzIGEgY29uZmlnIG9wdGlvbiB3aGljaCBwcm92aWRlcyBhIHdheSBvZiByZW5kZXJpbmcgdGhlIHByb3ZpZGVkXG4gKiBjb21wb25lbnQgXCJvZmZsaW5lXCIsIG9yIG91dHNpZGUgdGhlIFJlYWN0IHJlbmRlciBjeWNsZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXJNb3Rpb25Db21wb25lbnQoeyBwcmVsb2FkZWRGZWF0dXJlcywgY3JlYXRlVmlzdWFsRWxlbWVudCwgdXNlUmVuZGVyLCB1c2VWaXN1YWxTdGF0ZSwgQ29tcG9uZW50LCB9KSB7XG4gICAgcHJlbG9hZGVkRmVhdHVyZXMgJiYgbG9hZEZlYXR1cmVzKHByZWxvYWRlZEZlYXR1cmVzKTtcbiAgICBmdW5jdGlvbiBNb3Rpb25Db21wb25lbnQocHJvcHMsIGV4dGVybmFsUmVmKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBuZWVkIHRvIG1lYXN1cmUgdGhlIGVsZW1lbnQgd2UgbG9hZCB0aGlzIGZ1bmN0aW9uYWxpdHkgaW4gYVxuICAgICAgICAgKiBzZXBhcmF0ZSBjbGFzcyBjb21wb25lbnQgaW4gb3JkZXIgdG8gZ2FpbiBhY2Nlc3MgdG8gZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUuXG4gICAgICAgICAqL1xuICAgICAgICBsZXQgTWVhc3VyZUxheW91dDtcbiAgICAgICAgY29uc3QgY29uZmlnQW5kUHJvcHMgPSB7XG4gICAgICAgICAgICAuLi51c2VDb250ZXh0KE1vdGlvbkNvbmZpZ0NvbnRleHQpLFxuICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICBsYXlvdXRJZDogdXNlTGF5b3V0SWQocHJvcHMpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IGlzU3RhdGljIH0gPSBjb25maWdBbmRQcm9wcztcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHVzZUNyZWF0ZU1vdGlvbkNvbnRleHQocHJvcHMpO1xuICAgICAgICBjb25zdCB2aXN1YWxTdGF0ZSA9IHVzZVZpc3VhbFN0YXRlKHByb3BzLCBpc1N0YXRpYyk7XG4gICAgICAgIGlmICghaXNTdGF0aWMgJiYgaXNCcm93c2VyKSB7XG4gICAgICAgICAgICB1c2VTdHJpY3RNb2RlKGNvbmZpZ0FuZFByb3BzLCBwcmVsb2FkZWRGZWF0dXJlcyk7XG4gICAgICAgICAgICBjb25zdCBsYXlvdXRQcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbkZ1bmN0aW9uYWxpdHkoY29uZmlnQW5kUHJvcHMpO1xuICAgICAgICAgICAgTWVhc3VyZUxheW91dCA9IGxheW91dFByb2plY3Rpb24uTWVhc3VyZUxheW91dDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ3JlYXRlIGEgVmlzdWFsRWxlbWVudCBmb3IgdGhpcyBjb21wb25lbnQuIEEgVmlzdWFsRWxlbWVudCBwcm92aWRlcyBhIGNvbW1vblxuICAgICAgICAgICAgICogaW50ZXJmYWNlIHRvIHJlbmRlcmVyLXNwZWNpZmljIEFQSXMgKGllIERPTS9UaHJlZS5qcyBldGMpIGFzIHdlbGwgYXNcbiAgICAgICAgICAgICAqIHByb3ZpZGluZyBhIHdheSBvZiByZW5kZXJpbmcgdG8gdGhlc2UgQVBJcyBvdXRzaWRlIG9mIHRoZSBSZWFjdCByZW5kZXIgbG9vcFxuICAgICAgICAgICAgICogZm9yIG1vcmUgcGVyZm9ybWFudCBhbmltYXRpb25zIGFuZCBpbnRlcmFjdGlvbnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29udGV4dC52aXN1YWxFbGVtZW50ID0gdXNlVmlzdWFsRWxlbWVudChDb21wb25lbnQsIHZpc3VhbFN0YXRlLCBjb25maWdBbmRQcm9wcywgY3JlYXRlVmlzdWFsRWxlbWVudCwgbGF5b3V0UHJvamVjdGlvbi5Qcm9qZWN0aW9uTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VudCBvcmRlciBhbmQgaGllcmFyY2h5IGlzIHNwZWNpZmljIHRvIGVuc3VyZSBvdXIgZWxlbWVudCByZWZcbiAgICAgICAgICogaXMgaHlkcmF0ZWQgYnkgdGhlIHRpbWUgZmVhdHVyZXMgZmlyZSB0aGVpciBlZmZlY3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIChqc3hzKE1vdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQsIGNoaWxkcmVuOiBbTWVhc3VyZUxheW91dCAmJiBjb250ZXh0LnZpc3VhbEVsZW1lbnQgPyAoanN4KE1lYXN1cmVMYXlvdXQsIHsgdmlzdWFsRWxlbWVudDogY29udGV4dC52aXN1YWxFbGVtZW50LCAuLi5jb25maWdBbmRQcm9wcyB9KSkgOiBudWxsLCB1c2VSZW5kZXIoQ29tcG9uZW50LCBwcm9wcywgdXNlTW90aW9uUmVmKHZpc3VhbFN0YXRlLCBjb250ZXh0LnZpc3VhbEVsZW1lbnQsIGV4dGVybmFsUmVmKSwgdmlzdWFsU3RhdGUsIGlzU3RhdGljLCBjb250ZXh0LnZpc3VhbEVsZW1lbnQpXSB9KSk7XG4gICAgfVxuICAgIE1vdGlvbkNvbXBvbmVudC5kaXNwbGF5TmFtZSA9IGBtb3Rpb24uJHt0eXBlb2YgQ29tcG9uZW50ID09PSBcInN0cmluZ1wiXG4gICAgICAgID8gQ29tcG9uZW50XG4gICAgICAgIDogYGNyZWF0ZSgke0NvbXBvbmVudC5kaXNwbGF5TmFtZSA/PyBDb21wb25lbnQubmFtZSA/PyBcIlwifSlgfWA7XG4gICAgY29uc3QgRm9yd2FyZFJlZk1vdGlvbkNvbXBvbmVudCA9IGZvcndhcmRSZWYoTW90aW9uQ29tcG9uZW50KTtcbiAgICBGb3J3YXJkUmVmTW90aW9uQ29tcG9uZW50W21vdGlvbkNvbXBvbmVudFN5bWJvbF0gPSBDb21wb25lbnQ7XG4gICAgcmV0dXJuIEZvcndhcmRSZWZNb3Rpb25Db21wb25lbnQ7XG59XG5mdW5jdGlvbiB1c2VMYXlvdXRJZCh7IGxheW91dElkIH0pIHtcbiAgICBjb25zdCBsYXlvdXRHcm91cElkID0gdXNlQ29udGV4dChMYXlvdXRHcm91cENvbnRleHQpLmlkO1xuICAgIHJldHVybiBsYXlvdXRHcm91cElkICYmIGxheW91dElkICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBsYXlvdXRHcm91cElkICsgXCItXCIgKyBsYXlvdXRJZFxuICAgICAgICA6IGxheW91dElkO1xufVxuZnVuY3Rpb24gdXNlU3RyaWN0TW9kZShjb25maWdBbmRQcm9wcywgcHJlbG9hZGVkRmVhdHVyZXMpIHtcbiAgICBjb25zdCBpc1N0cmljdCA9IHVzZUNvbnRleHQoTGF6eUNvbnRleHQpLnN0cmljdDtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCBtb2RlLCBjaGVjayB0byBtYWtlIHN1cmUgd2UncmUgbm90IHJlbmRlcmluZyBhIG1vdGlvbiBjb21wb25lbnRcbiAgICAgKiBhcyBhIGNoaWxkIG9mIExhenlNb3Rpb24sIGFzIHRoaXMgd2lsbCBicmVhayB0aGUgZmlsZS1zaXplIGJlbmVmaXRzIG9mIHVzaW5nIGl0LlxuICAgICAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgcHJlbG9hZGVkRmVhdHVyZXMgJiZcbiAgICAgICAgaXNTdHJpY3QpIHtcbiAgICAgICAgY29uc3Qgc3RyaWN0TWVzc2FnZSA9IFwiWW91IGhhdmUgcmVuZGVyZWQgYSBgbW90aW9uYCBjb21wb25lbnQgd2l0aGluIGEgYExhenlNb3Rpb25gIGNvbXBvbmVudC4gVGhpcyB3aWxsIGJyZWFrIHRyZWUgc2hha2luZy4gSW1wb3J0IGFuZCByZW5kZXIgYSBgbWAgY29tcG9uZW50IGluc3RlYWQuXCI7XG4gICAgICAgIGNvbmZpZ0FuZFByb3BzLmlnbm9yZVN0cmljdFxuICAgICAgICAgICAgPyB3YXJuaW5nKGZhbHNlLCBzdHJpY3RNZXNzYWdlKVxuICAgICAgICAgICAgOiBpbnZhcmlhbnQoZmFsc2UsIHN0cmljdE1lc3NhZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFByb2plY3Rpb25GdW5jdGlvbmFsaXR5KHByb3BzKSB7XG4gICAgY29uc3QgeyBkcmFnLCBsYXlvdXQgfSA9IGZlYXR1cmVEZWZpbml0aW9ucztcbiAgICBpZiAoIWRyYWcgJiYgIWxheW91dClcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IGNvbWJpbmVkID0geyAuLi5kcmFnLCAuLi5sYXlvdXQgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBNZWFzdXJlTGF5b3V0OiBkcmFnPy5pc0VuYWJsZWQocHJvcHMpIHx8IGxheW91dD8uaXNFbmFibGVkKHByb3BzKVxuICAgICAgICAgICAgPyBjb21iaW5lZC5NZWFzdXJlTGF5b3V0XG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgUHJvamVjdGlvbk5vZGU6IGNvbWJpbmVkLlByb2plY3Rpb25Ob2RlLFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVJlbmRlcmVyTW90aW9uQ29tcG9uZW50IH07XG4iLCAiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBNb3Rpb25Db250ZXh0ID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZUNvbnRleHQoe30pO1xuXG5leHBvcnQgeyBNb3Rpb25Db250ZXh0IH07XG4iLCAiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1vdGlvbkNvbnRleHQgfSBmcm9tICcuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VHJlZVZhcmlhbnRzIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5mdW5jdGlvbiB1c2VDcmVhdGVNb3Rpb25Db250ZXh0KHByb3BzKSB7XG4gICAgY29uc3QgeyBpbml0aWFsLCBhbmltYXRlIH0gPSBnZXRDdXJyZW50VHJlZVZhcmlhbnRzKHByb3BzLCB1c2VDb250ZXh0KE1vdGlvbkNvbnRleHQpKTtcbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiAoeyBpbml0aWFsLCBhbmltYXRlIH0pLCBbdmFyaWFudExhYmVsc0FzRGVwZW5kZW5jeShpbml0aWFsKSwgdmFyaWFudExhYmVsc0FzRGVwZW5kZW5jeShhbmltYXRlKV0pO1xufVxuZnVuY3Rpb24gdmFyaWFudExhYmVsc0FzRGVwZW5kZW5jeShwcm9wKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocHJvcCkgPyBwcm9wLmpvaW4oXCIgXCIpIDogcHJvcDtcbn1cblxuZXhwb3J0IHsgdXNlQ3JlYXRlTW90aW9uQ29udGV4dCB9O1xuIiwgImltcG9ydCB7IGlzQ29udHJvbGxpbmdWYXJpYW50cyB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9pcy1jb250cm9sbGluZy12YXJpYW50cy5tanMnO1xuaW1wb3J0IHsgaXNWYXJpYW50TGFiZWwgfSBmcm9tICcuLi8uLi9yZW5kZXIvdXRpbHMvaXMtdmFyaWFudC1sYWJlbC5tanMnO1xuXG5mdW5jdGlvbiBnZXRDdXJyZW50VHJlZVZhcmlhbnRzKHByb3BzLCBjb250ZXh0KSB7XG4gICAgaWYgKGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcykpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWFsLCBhbmltYXRlIH0gPSBwcm9wcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXRpYWw6IGluaXRpYWwgPT09IGZhbHNlIHx8IGlzVmFyaWFudExhYmVsKGluaXRpYWwpXG4gICAgICAgICAgICAgICAgPyBpbml0aWFsXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhbmltYXRlOiBpc1ZhcmlhbnRMYWJlbChhbmltYXRlKSA/IGFuaW1hdGUgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwcm9wcy5pbmhlcml0ICE9PSBmYWxzZSA/IGNvbnRleHQgOiB7fTtcbn1cblxuZXhwb3J0IHsgZ2V0Q3VycmVudFRyZWVWYXJpYW50cyB9O1xuIiwgImltcG9ydCB7IGlzQW5pbWF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvaXMtYW5pbWF0aW9uLWNvbnRyb2xzLm1qcyc7XG5pbXBvcnQgeyBpc1ZhcmlhbnRMYWJlbCB9IGZyb20gJy4vaXMtdmFyaWFudC1sYWJlbC5tanMnO1xuaW1wb3J0IHsgdmFyaWFudFByb3BzIH0gZnJvbSAnLi92YXJpYW50LXByb3BzLm1qcyc7XG5cbmZ1bmN0aW9uIGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcykge1xuICAgIHJldHVybiAoaXNBbmltYXRpb25Db250cm9scyhwcm9wcy5hbmltYXRlKSB8fFxuICAgICAgICB2YXJpYW50UHJvcHMuc29tZSgobmFtZSkgPT4gaXNWYXJpYW50TGFiZWwocHJvcHNbbmFtZV0pKSk7XG59XG5mdW5jdGlvbiBpc1ZhcmlhbnROb2RlKHByb3BzKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKSB8fCBwcm9wcy52YXJpYW50cyk7XG59XG5cbmV4cG9ydCB7IGlzQ29udHJvbGxpbmdWYXJpYW50cywgaXNWYXJpYW50Tm9kZSB9O1xuIiwgImZ1bmN0aW9uIGlzQW5pbWF0aW9uQ29udHJvbHModikge1xuICAgIHJldHVybiAodiAhPT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICB0eXBlb2Ygdi5zdGFydCA9PT0gXCJmdW5jdGlvblwiKTtcbn1cblxuZXhwb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9O1xuIiwgIi8qKlxuICogRGVjaWRlcyBpZiB0aGUgc3VwcGxpZWQgdmFyaWFibGUgaXMgdmFyaWFudCBsYWJlbFxuICovXG5mdW5jdGlvbiBpc1ZhcmlhbnRMYWJlbCh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkodik7XG59XG5cbmV4cG9ydCB7IGlzVmFyaWFudExhYmVsIH07XG4iLCAiY29uc3QgdmFyaWFudFByaW9yaXR5T3JkZXIgPSBbXG4gICAgXCJhbmltYXRlXCIsXG4gICAgXCJ3aGlsZUluVmlld1wiLFxuICAgIFwid2hpbGVGb2N1c1wiLFxuICAgIFwid2hpbGVIb3ZlclwiLFxuICAgIFwid2hpbGVUYXBcIixcbiAgICBcIndoaWxlRHJhZ1wiLFxuICAgIFwiZXhpdFwiLFxuXTtcbmNvbnN0IHZhcmlhbnRQcm9wcyA9IFtcImluaXRpYWxcIiwgLi4udmFyaWFudFByaW9yaXR5T3JkZXJdO1xuXG5leHBvcnQgeyB2YXJpYW50UHJpb3JpdHlPcmRlciwgdmFyaWFudFByb3BzIH07XG4iLCAiY29uc3QgbW90aW9uQ29tcG9uZW50U3ltYm9sID0gU3ltYm9sLmZvcihcIm1vdGlvbkNvbXBvbmVudFN5bWJvbFwiKTtcblxuZXhwb3J0IHsgbW90aW9uQ29tcG9uZW50U3ltYm9sIH07XG4iLCAiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc1JlZk9iamVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLXJlZi1vYmplY3QubWpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVmIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBoeWRyYXRlcyB0aGUgcHJvdmlkZWRcbiAqIGV4dGVybmFsIHJlZiBhbmQgVmlzdWFsRWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gdXNlTW90aW9uUmVmKHZpc3VhbFN0YXRlLCB2aXN1YWxFbGVtZW50LCBleHRlcm5hbFJlZikge1xuICAgIHJldHVybiB1c2VDYWxsYmFjaygoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICB2aXN1YWxTdGF0ZS5vbk1vdW50ICYmIHZpc3VhbFN0YXRlLm9uTW91bnQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aXN1YWxFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50Lm1vdW50KGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQudW5tb3VudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlcm5hbFJlZikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBleHRlcm5hbFJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxSZWYoaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWZPYmplY3QoZXh0ZXJuYWxSZWYpKSB7XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxSZWYuY3VycmVudCA9IGluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgXG4gICAgLyoqXG4gICAgICogT25seSBwYXNzIGEgbmV3IHJlZiBjYWxsYmFjayB0byBSZWFjdCBpZiB3ZSd2ZSByZWNlaXZlZCBhIHZpc3VhbCBlbGVtZW50XG4gICAgICogZmFjdG9yeS4gT3RoZXJ3aXNlIHdlJ2xsIGJlIG1vdW50aW5nL3JlbW91bnRpbmcgZXZlcnkgdGltZSBleHRlcm5hbFJlZlxuICAgICAqIG9yIG90aGVyIGRlcGVuZGVuY2llcyBjaGFuZ2UuXG4gICAgICovXG4gICAgW3Zpc3VhbEVsZW1lbnRdKTtcbn1cblxuZXhwb3J0IHsgdXNlTW90aW9uUmVmIH07XG4iLCAiZnVuY3Rpb24gaXNSZWZPYmplY3QocmVmKSB7XG4gICAgcmV0dXJuIChyZWYgJiZcbiAgICAgICAgdHlwZW9mIHJlZiA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVmLCBcImN1cnJlbnRcIikpO1xufVxuXG5leHBvcnQgeyBpc1JlZk9iamVjdCB9O1xuIiwgImltcG9ydCB7IHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlSW5zZXJ0aW9uRWZmZWN0LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBvcHRpbWl6ZWRBcHBlYXJEYXRhQXR0cmlidXRlIH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL29wdGltaXplZC1hcHBlYXIvZGF0YS1pZC5tanMnO1xuaW1wb3J0IHsgTGF6eUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L0xhenlDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBNb3Rpb25Db25maWdDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Nb3Rpb25Db25maWdDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBNb3Rpb25Db250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Nb3Rpb25Db250ZXh0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBQcmVzZW5jZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Td2l0Y2hMYXlvdXRHcm91cENvbnRleHQubWpzJztcbmltcG9ydCB7IGlzUmVmT2JqZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMtcmVmLW9iamVjdC5tanMnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMnO1xuaW1wb3J0IHsgbWljcm90YXNrIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9taWNyb3Rhc2subWpzJztcblxuZnVuY3Rpb24gdXNlVmlzdWFsRWxlbWVudChDb21wb25lbnQsIHZpc3VhbFN0YXRlLCBwcm9wcywgY3JlYXRlVmlzdWFsRWxlbWVudCwgUHJvamVjdGlvbk5vZGVDb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IHsgdmlzdWFsRWxlbWVudDogcGFyZW50IH0gPSB1c2VDb250ZXh0KE1vdGlvbkNvbnRleHQpO1xuICAgIGNvbnN0IGxhenlDb250ZXh0ID0gdXNlQ29udGV4dChMYXp5Q29udGV4dCk7XG4gICAgY29uc3QgcHJlc2VuY2VDb250ZXh0ID0gdXNlQ29udGV4dChQcmVzZW5jZUNvbnRleHQpO1xuICAgIGNvbnN0IHJlZHVjZWRNb3Rpb25Db25maWcgPSB1c2VDb250ZXh0KE1vdGlvbkNvbmZpZ0NvbnRleHQpLnJlZHVjZWRNb3Rpb247XG4gICAgY29uc3QgdmlzdWFsRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBoYXZlbid0IHByZWxvYWRlZCBhIHJlbmRlcmVyLCBjaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBvbmUgbGF6eS1sb2FkZWRcbiAgICAgKi9cbiAgICBjcmVhdGVWaXN1YWxFbGVtZW50ID0gY3JlYXRlVmlzdWFsRWxlbWVudCB8fCBsYXp5Q29udGV4dC5yZW5kZXJlcjtcbiAgICBpZiAoIXZpc3VhbEVsZW1lbnRSZWYuY3VycmVudCAmJiBjcmVhdGVWaXN1YWxFbGVtZW50KSB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnRSZWYuY3VycmVudCA9IGNyZWF0ZVZpc3VhbEVsZW1lbnQoQ29tcG9uZW50LCB7XG4gICAgICAgICAgICB2aXN1YWxTdGF0ZSxcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgcHJlc2VuY2VDb250ZXh0LFxuICAgICAgICAgICAgYmxvY2tJbml0aWFsQW5pbWF0aW9uOiBwcmVzZW5jZUNvbnRleHRcbiAgICAgICAgICAgICAgICA/IHByZXNlbmNlQ29udGV4dC5pbml0aWFsID09PSBmYWxzZVxuICAgICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICByZWR1Y2VkTW90aW9uQ29uZmlnLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgdmlzdWFsRWxlbWVudCA9IHZpc3VhbEVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAvKipcbiAgICAgKiBMb2FkIE1vdGlvbiBnZXN0dXJlIGFuZCBhbmltYXRpb24gZmVhdHVyZXMuIFRoZXNlIGFyZSByZW5kZXJlZCBhcyByZW5kZXJsZXNzXG4gICAgICogY29tcG9uZW50cyBzbyBlYWNoIGZlYXR1cmUgY2FuIG9wdGlvbmFsbHkgbWFrZSB1c2Ugb2YgUmVhY3QgbGlmZWN5Y2xlIG1ldGhvZHMuXG4gICAgICovXG4gICAgY29uc3QgaW5pdGlhbExheW91dEdyb3VwQ29uZmlnID0gdXNlQ29udGV4dChTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQpO1xuICAgIGlmICh2aXN1YWxFbGVtZW50ICYmXG4gICAgICAgICF2aXN1YWxFbGVtZW50LnByb2plY3Rpb24gJiZcbiAgICAgICAgUHJvamVjdGlvbk5vZGVDb25zdHJ1Y3RvciAmJlxuICAgICAgICAodmlzdWFsRWxlbWVudC50eXBlID09PSBcImh0bWxcIiB8fCB2aXN1YWxFbGVtZW50LnR5cGUgPT09IFwic3ZnXCIpKSB7XG4gICAgICAgIGNyZWF0ZVByb2plY3Rpb25Ob2RlKHZpc3VhbEVsZW1lbnRSZWYuY3VycmVudCwgcHJvcHMsIFByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IsIGluaXRpYWxMYXlvdXRHcm91cENvbmZpZyk7XG4gICAgfVxuICAgIGNvbnN0IGlzTW91bnRlZCA9IHVzZVJlZihmYWxzZSk7XG4gICAgdXNlSW5zZXJ0aW9uRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIHRoZSBjb21wb25lbnQgaGFzIGFscmVhZHkgbW91bnRlZCBiZWZvcmUgY2FsbGluZ1xuICAgICAgICAgKiBgdXBkYXRlYCB1bm5lY2Vzc2FyaWx5LiBUaGlzIGVuc3VyZXMgd2Ugc2tpcCB0aGUgaW5pdGlhbCB1cGRhdGUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodmlzdWFsRWxlbWVudCAmJiBpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgdmlzdWFsRWxlbWVudC51cGRhdGUocHJvcHMsIHByZXNlbmNlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDYWNoZSB0aGlzIHZhbHVlIGFzIHdlIHdhbnQgdG8ga25vdyB3aGV0aGVyIEhhbmRvZmZBcHBlYXJBbmltYXRpb25zXG4gICAgICogd2FzIHByZXNlbnQgb24gaW5pdGlhbCByZW5kZXIgLSBpdCB3aWxsIGJlIGRlbGV0ZWQgYWZ0ZXIgdGhpcy5cbiAgICAgKi9cbiAgICBjb25zdCBvcHRpbWlzZWRBcHBlYXJJZCA9IHByb3BzW29wdGltaXplZEFwcGVhckRhdGFBdHRyaWJ1dGVdO1xuICAgIGNvbnN0IHdhbnRzSGFuZG9mZiA9IHVzZVJlZihCb29sZWFuKG9wdGltaXNlZEFwcGVhcklkKSAmJlxuICAgICAgICAhd2luZG93Lk1vdGlvbkhhbmRvZmZJc0NvbXBsZXRlPy4ob3B0aW1pc2VkQXBwZWFySWQpICYmXG4gICAgICAgIHdpbmRvdy5Nb3Rpb25IYXNPcHRpbWlzZWRBbmltYXRpb24/LihvcHRpbWlzZWRBcHBlYXJJZCkpO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXZpc3VhbEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgd2luZG93Lk1vdGlvbklzTW91bnRlZCA9IHRydWU7XG4gICAgICAgIHZpc3VhbEVsZW1lbnQudXBkYXRlRmVhdHVyZXMoKTtcbiAgICAgICAgbWljcm90YXNrLnJlbmRlcih2aXN1YWxFbGVtZW50LnJlbmRlcik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZGVhbGx5IHRoaXMgZnVuY3Rpb24gd291bGQgYWx3YXlzIHJ1biBpbiBhIHVzZUVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogSG93ZXZlciwgaWYgd2UgaGF2ZSBvcHRpbWlzZWQgYXBwZWFyIGFuaW1hdGlvbnMgdG8gaGFuZG9mZiBmcm9tLFxuICAgICAgICAgKiBpdCBuZWVkcyB0byBoYXBwZW4gc3luY2hyb25vdXNseSB0byBlbnN1cmUgdGhlcmUncyBubyBmbGFzaCBvZlxuICAgICAgICAgKiBpbmNvcnJlY3Qgc3R5bGVzIGluIHRoZSBldmVudCBvZiBhIGh5ZHJhdGlvbiBlcnJvci5cbiAgICAgICAgICpcbiAgICAgICAgICogU28gaWYgd2UgZGV0ZWN0IGEgc2l0dXRhdGlvbiB3aGVyZSBvcHRpbWlzZWQgYXBwZWFyIGFuaW1hdGlvbnNcbiAgICAgICAgICogYXJlIHJ1bm5pbmcsIHdlIHVzZSB1c2VMYXlvdXRFZmZlY3QgdG8gdHJpZ2dlciBhbmltYXRpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHdhbnRzSGFuZG9mZi5jdXJyZW50ICYmIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUuYW5pbWF0ZUNoYW5nZXMoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdmlzdWFsRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCF3YW50c0hhbmRvZmYuY3VycmVudCAmJiB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLmFuaW1hdGVDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhbnRzSGFuZG9mZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgYWxsIGZ1dHVyZSBjYWxscyB0byBhbmltYXRlQ2hhbmdlcygpIGluIHRoaXMgY29tcG9uZW50IHdpbGwgcnVuIGluIHVzZUVmZmVjdFxuICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5Nb3Rpb25IYW5kb2ZmTWFya0FzQ29tcGxldGU/LihvcHRpbWlzZWRBcHBlYXJJZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdhbnRzSGFuZG9mZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmlzdWFsRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3Rpb25Ob2RlKHZpc3VhbEVsZW1lbnQsIHByb3BzLCBQcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yLCBpbml0aWFsUHJvbW90aW9uQ29uZmlnKSB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0LCBkcmFnLCBkcmFnQ29uc3RyYWludHMsIGxheW91dFNjcm9sbCwgbGF5b3V0Um9vdCwgbGF5b3V0Q3Jvc3NmYWRlLCB9ID0gcHJvcHM7XG4gICAgdmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uID0gbmV3IFByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IodmlzdWFsRWxlbWVudC5sYXRlc3RWYWx1ZXMsIHByb3BzW1wiZGF0YS1mcmFtZXItcG9ydGFsLWlkXCJdXG4gICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgIDogZ2V0Q2xvc2VzdFByb2plY3RpbmdOb2RlKHZpc3VhbEVsZW1lbnQucGFyZW50KSk7XG4gICAgdmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uLnNldE9wdGlvbnMoe1xuICAgICAgICBsYXlvdXRJZCxcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICBhbHdheXNNZWFzdXJlTGF5b3V0OiBCb29sZWFuKGRyYWcpIHx8IChkcmFnQ29uc3RyYWludHMgJiYgaXNSZWZPYmplY3QoZHJhZ0NvbnN0cmFpbnRzKSksXG4gICAgICAgIHZpc3VhbEVsZW1lbnQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUT0RPOiBVcGRhdGUgb3B0aW9ucyBpbiBhbiBlZmZlY3QuIFRoaXMgY291bGQgYmUgdHJpY2t5IGFzIGl0J2xsIGJlIHRvbyBsYXRlXG4gICAgICAgICAqIHRvIHVwZGF0ZSBieSB0aGUgdGltZSBsYXlvdXQgYW5pbWF0aW9ucyBydW4uXG4gICAgICAgICAqIFdlIGFsc28gbmVlZCB0byBmaXggdGhpcyBzYWZlVG9SZW1vdmUgYnkgbGlua2luZyBpdCB1cCB0byB0aGUgb25lIHJldHVybmVkIGJ5IHVzZVByZXNlbmNlLFxuICAgICAgICAgKiBlbnN1cmluZyBpdCBnZXRzIGNhbGxlZCBpZiB0aGVyZSdzIG5vIHBvdGVudGlhbCBsYXlvdXQgYW5pbWF0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGFuaW1hdGlvblR5cGU6IHR5cGVvZiBsYXlvdXQgPT09IFwic3RyaW5nXCIgPyBsYXlvdXQgOiBcImJvdGhcIixcbiAgICAgICAgaW5pdGlhbFByb21vdGlvbkNvbmZpZyxcbiAgICAgICAgY3Jvc3NmYWRlOiBsYXlvdXRDcm9zc2ZhZGUsXG4gICAgICAgIGxheW91dFNjcm9sbCxcbiAgICAgICAgbGF5b3V0Um9vdCxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldENsb3Nlc3RQcm9qZWN0aW5nTm9kZSh2aXN1YWxFbGVtZW50KSB7XG4gICAgaWYgKCF2aXN1YWxFbGVtZW50KVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiB2aXN1YWxFbGVtZW50Lm9wdGlvbnMuYWxsb3dQcm9qZWN0aW9uICE9PSBmYWxzZVxuICAgICAgICA/IHZpc3VhbEVsZW1lbnQucHJvamVjdGlvblxuICAgICAgICA6IGdldENsb3Nlc3RQcm9qZWN0aW5nTm9kZSh2aXN1YWxFbGVtZW50LnBhcmVudCk7XG59XG5cbmV4cG9ydCB7IHVzZVZpc3VhbEVsZW1lbnQgfTtcbiIsICJpbXBvcnQgeyBjYW1lbFRvRGFzaCB9IGZyb20gJy4uLy4uL3JlbmRlci9kb20vdXRpbHMvY2FtZWwtdG8tZGFzaC5tanMnO1xuXG5jb25zdCBvcHRpbWl6ZWRBcHBlYXJEYXRhSWQgPSBcImZyYW1lckFwcGVhcklkXCI7XG5jb25zdCBvcHRpbWl6ZWRBcHBlYXJEYXRhQXR0cmlidXRlID0gXCJkYXRhLVwiICsgY2FtZWxUb0Rhc2gob3B0aW1pemVkQXBwZWFyRGF0YUlkKTtcblxuZXhwb3J0IHsgb3B0aW1pemVkQXBwZWFyRGF0YUF0dHJpYnV0ZSwgb3B0aW1pemVkQXBwZWFyRGF0YUlkIH07XG4iLCAiLyoqXG4gKiBDb252ZXJ0IGNhbWVsQ2FzZSB0byBkYXNoLWNhc2UgcHJvcGVydGllcy5cbiAqL1xuY29uc3QgY2FtZWxUb0Rhc2ggPSAoc3RyKSA9PiBzdHIucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZ3UsIFwiJDEtJDJcIikudG9Mb3dlckNhc2UoKTtcblxuZXhwb3J0IHsgY2FtZWxUb0Rhc2ggfTtcbiIsICJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogSW50ZXJuYWwsIGV4cG9ydGVkIG9ubHkgZm9yIHVzYWdlIGluIEZyYW1lclxuICovXG5jb25zdCBTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTtcblxuZXhwb3J0IHsgU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0IH07XG4iLCAiaW1wb3J0IHsgY3JlYXRlUmVuZGVyQmF0Y2hlciB9IGZyb20gJy4vYmF0Y2hlci5tanMnO1xuXG5jb25zdCB7IHNjaGVkdWxlOiBtaWNyb3Rhc2ssIGNhbmNlbDogY2FuY2VsTWljcm90YXNrIH0gPSBcbi8qIEBfX1BVUkVfXyAqLyBjcmVhdGVSZW5kZXJCYXRjaGVyKHF1ZXVlTWljcm90YXNrLCBmYWxzZSk7XG5cbmV4cG9ydCB7IGNhbmNlbE1pY3JvdGFzaywgbWljcm90YXNrIH07XG4iLCAibGV0IHdhcm5pbmcgPSAoKSA9PiB7IH07XG5sZXQgaW52YXJpYW50ID0gKCkgPT4geyB9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHdhcm5pbmcgPSAoY2hlY2ssIG1lc3NhZ2UpID0+IHtcbiAgICAgICAgaWYgKCFjaGVjayAmJiB0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpbnZhcmlhbnQgPSAoY2hlY2ssIG1lc3NhZ2UpID0+IHtcbiAgICAgICAgaWYgKCFjaGVjaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgaW52YXJpYW50LCB3YXJuaW5nIH07XG4iLCAiaW1wb3J0IHsgRnJhZ21lbnQsIHVzZU1lbW8sIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VIVE1MUHJvcHMgfSBmcm9tICcuLi9odG1sL3VzZS1wcm9wcy5tanMnO1xuaW1wb3J0IHsgZmlsdGVyUHJvcHMgfSBmcm9tICcuL3V0aWxzL2ZpbHRlci1wcm9wcy5tanMnO1xuaW1wb3J0IHsgaXNTVkdDb21wb25lbnQgfSBmcm9tICcuL3V0aWxzL2lzLXN2Zy1jb21wb25lbnQubWpzJztcbmltcG9ydCB7IHVzZVNWR1Byb3BzIH0gZnJvbSAnLi4vc3ZnL3VzZS1wcm9wcy5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVVc2VSZW5kZXIoZm9yd2FyZE1vdGlvblByb3BzID0gZmFsc2UpIHtcbiAgICBjb25zdCB1c2VSZW5kZXIgPSAoQ29tcG9uZW50LCBwcm9wcywgcmVmLCB7IGxhdGVzdFZhbHVlcyB9LCBpc1N0YXRpYykgPT4ge1xuICAgICAgICBjb25zdCB1c2VWaXN1YWxQcm9wcyA9IGlzU1ZHQ29tcG9uZW50KENvbXBvbmVudClcbiAgICAgICAgICAgID8gdXNlU1ZHUHJvcHNcbiAgICAgICAgICAgIDogdXNlSFRNTFByb3BzO1xuICAgICAgICBjb25zdCB2aXN1YWxQcm9wcyA9IHVzZVZpc3VhbFByb3BzKHByb3BzLCBsYXRlc3RWYWx1ZXMsIGlzU3RhdGljLCBDb21wb25lbnQpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFByb3BzID0gZmlsdGVyUHJvcHMocHJvcHMsIHR5cGVvZiBDb21wb25lbnQgPT09IFwic3RyaW5nXCIsIGZvcndhcmRNb3Rpb25Qcm9wcyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRQcm9wcyA9IENvbXBvbmVudCAhPT0gRnJhZ21lbnRcbiAgICAgICAgICAgID8geyAuLi5maWx0ZXJlZFByb3BzLCAuLi52aXN1YWxQcm9wcywgcmVmIH1cbiAgICAgICAgICAgIDoge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjb21wb25lbnQgaGFzIGJlZW4gaGFuZGVkIGEgbW90aW9uIHZhbHVlIGFzIGl0cyBjaGlsZCxcbiAgICAgICAgICogbWVtb2lzZSBpdHMgaW5pdGlhbCB2YWx1ZSBhbmQgcmVuZGVyIHRoYXQuIFN1YnNlcXVlbnQgdXBkYXRlc1xuICAgICAgICAgKiB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIG9uQ2hhbmdlIGhhbmRsZXJcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgICAgICBjb25zdCByZW5kZXJlZENoaWxkcmVuID0gdXNlTWVtbygoKSA9PiAoaXNNb3Rpb25WYWx1ZShjaGlsZHJlbikgPyBjaGlsZHJlbi5nZXQoKSA6IGNoaWxkcmVuKSwgW2NoaWxkcmVuXSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KENvbXBvbmVudCwge1xuICAgICAgICAgICAgLi4uZWxlbWVudFByb3BzLFxuICAgICAgICAgICAgY2hpbGRyZW46IHJlbmRlcmVkQ2hpbGRyZW4sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHVzZVJlbmRlcjtcbn1cblxuZXhwb3J0IHsgY3JlYXRlVXNlUmVuZGVyIH07XG4iLCAiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzRm9yY2VkTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi9tb3Rpb24vdXRpbHMvaXMtZm9yY2VkLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRIVE1MU3R5bGVzIH0gZnJvbSAnLi91dGlscy9idWlsZC1zdHlsZXMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSB9IGZyb20gJy4vdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMnO1xuXG5mdW5jdGlvbiBjb3B5UmF3VmFsdWVzT25seSh0YXJnZXQsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFpc01vdGlvblZhbHVlKHNvdXJjZVtrZXldKSAmJiAhaXNGb3JjZWRNb3Rpb25WYWx1ZShrZXksIHByb3BzKSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHVzZUluaXRpYWxNb3Rpb25WYWx1ZXMoeyB0cmFuc2Zvcm1UZW1wbGF0ZSB9LCB2aXN1YWxTdGF0ZSkge1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBjcmVhdGVIdG1sUmVuZGVyU3RhdGUoKTtcbiAgICAgICAgYnVpbGRIVE1MU3R5bGVzKHN0YXRlLCB2aXN1YWxTdGF0ZSwgdHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudmFycywgc3RhdGUuc3R5bGUpO1xuICAgIH0sIFt2aXN1YWxTdGF0ZV0pO1xufVxuZnVuY3Rpb24gdXNlU3R5bGUocHJvcHMsIHZpc3VhbFN0YXRlKSB7XG4gICAgY29uc3Qgc3R5bGVQcm9wID0gcHJvcHMuc3R5bGUgfHwge307XG4gICAgY29uc3Qgc3R5bGUgPSB7fTtcbiAgICAvKipcbiAgICAgKiBDb3B5IG5vbi1Nb3Rpb24gVmFsdWVzIHN0cmFpZ2h0IGludG8gc3R5bGVcbiAgICAgKi9cbiAgICBjb3B5UmF3VmFsdWVzT25seShzdHlsZSwgc3R5bGVQcm9wLCBwcm9wcyk7XG4gICAgT2JqZWN0LmFzc2lnbihzdHlsZSwgdXNlSW5pdGlhbE1vdGlvblZhbHVlcyhwcm9wcywgdmlzdWFsU3RhdGUpKTtcbiAgICByZXR1cm4gc3R5bGU7XG59XG5mdW5jdGlvbiB1c2VIVE1MUHJvcHMocHJvcHMsIHZpc3VhbFN0YXRlKSB7XG4gICAgLy8gVGhlIGBhbnlgIGlzbid0IGlkZWFsIGJ1dCBpdCBpcyB0aGUgdHlwZSBvZiBjcmVhdGVFbGVtZW50IHByb3BzIGFyZ3VtZW50XG4gICAgY29uc3QgaHRtbFByb3BzID0ge307XG4gICAgY29uc3Qgc3R5bGUgPSB1c2VTdHlsZShwcm9wcywgdmlzdWFsU3RhdGUpO1xuICAgIGlmIChwcm9wcy5kcmFnICYmIHByb3BzLmRyYWdMaXN0ZW5lciAhPT0gZmFsc2UpIHtcbiAgICAgICAgLy8gRGlzYWJsZSB0aGUgZ2hvc3QgZWxlbWVudCB3aGVuIGEgdXNlciBkcmFnc1xuICAgICAgICBodG1sUHJvcHMuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIC8vIERpc2FibGUgdGV4dCBzZWxlY3Rpb25cbiAgICAgICAgc3R5bGUudXNlclNlbGVjdCA9XG4gICAgICAgICAgICBzdHlsZS5XZWJraXRVc2VyU2VsZWN0ID1cbiAgICAgICAgICAgICAgICBzdHlsZS5XZWJraXRUb3VjaENhbGxvdXQgPVxuICAgICAgICAgICAgICAgICAgICBcIm5vbmVcIjtcbiAgICAgICAgLy8gRGlzYWJsZSBzY3JvbGxpbmcgb24gdGhlIGRyYWdnYWJsZSBkaXJlY3Rpb25cbiAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPVxuICAgICAgICAgICAgcHJvcHMuZHJhZyA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgID8gXCJub25lXCJcbiAgICAgICAgICAgICAgICA6IGBwYW4tJHtwcm9wcy5kcmFnID09PSBcInhcIiA/IFwieVwiIDogXCJ4XCJ9YDtcbiAgICB9XG4gICAgaWYgKHByb3BzLnRhYkluZGV4ID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgKHByb3BzLm9uVGFwIHx8IHByb3BzLm9uVGFwU3RhcnQgfHwgcHJvcHMud2hpbGVUYXApKSB7XG4gICAgICAgIGh0bWxQcm9wcy50YWJJbmRleCA9IDA7XG4gICAgfVxuICAgIGh0bWxQcm9wcy5zdHlsZSA9IHN0eWxlO1xuICAgIHJldHVybiBodG1sUHJvcHM7XG59XG5cbmV4cG9ydCB7IGNvcHlSYXdWYWx1ZXNPbmx5LCB1c2VIVE1MUHJvcHMgfTtcbiIsICJpbXBvcnQgeyBzY2FsZUNvcnJlY3RvcnMgfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1jb3JyZWN0aW9uLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9yZW5kZXIvdXRpbHMva2V5cy10cmFuc2Zvcm0ubWpzJztcblxuZnVuY3Rpb24gaXNGb3JjZWRNb3Rpb25WYWx1ZShrZXksIHsgbGF5b3V0LCBsYXlvdXRJZCB9KSB7XG4gICAgcmV0dXJuICh0cmFuc2Zvcm1Qcm9wcy5oYXMoa2V5KSB8fFxuICAgICAgICBrZXkuc3RhcnRzV2l0aChcIm9yaWdpblwiKSB8fFxuICAgICAgICAoKGxheW91dCB8fCBsYXlvdXRJZCAhPT0gdW5kZWZpbmVkKSAmJlxuICAgICAgICAgICAgKCEhc2NhbGVDb3JyZWN0b3JzW2tleV0gfHwga2V5ID09PSBcIm9wYWNpdHlcIikpKTtcbn1cblxuZXhwb3J0IHsgaXNGb3JjZWRNb3Rpb25WYWx1ZSB9O1xuIiwgImltcG9ydCB7IGlzQ1NTVmFyaWFibGVOYW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1jc3MtdmFyaWFibGUubWpzJztcblxuY29uc3Qgc2NhbGVDb3JyZWN0b3JzID0ge307XG5mdW5jdGlvbiBhZGRTY2FsZUNvcnJlY3Rvcihjb3JyZWN0b3JzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29ycmVjdG9ycykge1xuICAgICAgICBzY2FsZUNvcnJlY3RvcnNba2V5XSA9IGNvcnJlY3RvcnNba2V5XTtcbiAgICAgICAgaWYgKGlzQ1NTVmFyaWFibGVOYW1lKGtleSkpIHtcbiAgICAgICAgICAgIHNjYWxlQ29ycmVjdG9yc1trZXldLmlzQ1NTVmFyaWFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBhZGRTY2FsZUNvcnJlY3Rvciwgc2NhbGVDb3JyZWN0b3JzIH07XG4iLCAiY29uc3QgY2hlY2tTdHJpbmdTdGFydHNXaXRoID0gKHRva2VuKSA9PiAoa2V5KSA9PiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICYmIGtleS5zdGFydHNXaXRoKHRva2VuKTtcbmNvbnN0IGlzQ1NTVmFyaWFibGVOYW1lID0gXG4vKkBfX1BVUkVfXyovIGNoZWNrU3RyaW5nU3RhcnRzV2l0aChcIi0tXCIpO1xuY29uc3Qgc3RhcnRzQXNWYXJpYWJsZVRva2VuID0gXG4vKkBfX1BVUkVfXyovIGNoZWNrU3RyaW5nU3RhcnRzV2l0aChcInZhcigtLVwiKTtcbmNvbnN0IGlzQ1NTVmFyaWFibGVUb2tlbiA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0c1dpdGhUb2tlbiA9IHN0YXJ0c0FzVmFyaWFibGVUb2tlbih2YWx1ZSk7XG4gICAgaWYgKCFzdGFydHNXaXRoVG9rZW4pXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBFbnN1cmUgYW55IGNvbW1lbnRzIGFyZSBzdHJpcHBlZCBmcm9tIHRoZSB2YWx1ZSBhcyB0aGlzIGNhbiBoYXJtIHBlcmZvcm1hbmNlIG9mIHRoZSByZWdleC5cbiAgICByZXR1cm4gc2luZ2xlQ3NzVmFyaWFibGVSZWdleC50ZXN0KHZhbHVlLnNwbGl0KFwiLypcIilbMF0udHJpbSgpKTtcbn07XG5jb25zdCBzaW5nbGVDc3NWYXJpYWJsZVJlZ2V4ID0gL3ZhclxcKC0tKD86W1xcdy1dK1xccyp8W1xcdy1dK1xccyosKD86XFxzKlteKShcXHNdfFxccypcXCgoPzpbXikoXXxcXChbXikoXSpcXCkpKlxcKSkrXFxzKilcXCkkL2l1O1xuXG5leHBvcnQgeyBpc0NTU1ZhcmlhYmxlTmFtZSwgaXNDU1NWYXJpYWJsZVRva2VuIH07XG4iLCAiLyoqXG4gKiBHZW5lcmF0ZSBhIGxpc3Qgb2YgZXZlcnkgcG9zc2libGUgdHJhbnNmb3JtIGtleS5cbiAqL1xuY29uc3QgdHJhbnNmb3JtUHJvcE9yZGVyID0gW1xuICAgIFwidHJhbnNmb3JtUGVyc3BlY3RpdmVcIixcbiAgICBcInhcIixcbiAgICBcInlcIixcbiAgICBcInpcIixcbiAgICBcInRyYW5zbGF0ZVhcIixcbiAgICBcInRyYW5zbGF0ZVlcIixcbiAgICBcInRyYW5zbGF0ZVpcIixcbiAgICBcInNjYWxlXCIsXG4gICAgXCJzY2FsZVhcIixcbiAgICBcInNjYWxlWVwiLFxuICAgIFwicm90YXRlXCIsXG4gICAgXCJyb3RhdGVYXCIsXG4gICAgXCJyb3RhdGVZXCIsXG4gICAgXCJyb3RhdGVaXCIsXG4gICAgXCJza2V3XCIsXG4gICAgXCJza2V3WFwiLFxuICAgIFwic2tld1lcIixcbl07XG4vKipcbiAqIEEgcXVpY2sgbG9va3VwIGZvciB0cmFuc2Zvcm0gcHJvcHMuXG4gKi9cbmNvbnN0IHRyYW5zZm9ybVByb3BzID0gLypAX19QVVJFX18qLyAoKCkgPT4gbmV3IFNldCh0cmFuc2Zvcm1Qcm9wT3JkZXIpKSgpO1xuXG5leHBvcnQgeyB0cmFuc2Zvcm1Qcm9wT3JkZXIsIHRyYW5zZm9ybVByb3BzIH07XG4iLCAiY29uc3QgaXNNb3Rpb25WYWx1ZSA9ICh2YWx1ZSkgPT4gQm9vbGVhbih2YWx1ZSAmJiB2YWx1ZS5nZXRWZWxvY2l0eSk7XG5cbmV4cG9ydCB7IGlzTW90aW9uVmFsdWUgfTtcbiIsICJpbXBvcnQgeyBidWlsZFRyYW5zZm9ybSB9IGZyb20gJy4vYnVpbGQtdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9yZW5kZXIvdXRpbHMva2V5cy10cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGlzQ1NTVmFyaWFibGVOYW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1jc3MtdmFyaWFibGUubWpzJztcbmltcG9ydCB7IGdldFZhbHVlQXNUeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL3V0aWxzL2dldC1hcy10eXBlLm1qcyc7XG5pbXBvcnQgeyBudW1iZXJWYWx1ZVR5cGVzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL21hcHMvbnVtYmVyLm1qcyc7XG5cbmZ1bmN0aW9uIGJ1aWxkSFRNTFN0eWxlcyhzdGF0ZSwgbGF0ZXN0VmFsdWVzLCB0cmFuc2Zvcm1UZW1wbGF0ZSkge1xuICAgIGNvbnN0IHsgc3R5bGUsIHZhcnMsIHRyYW5zZm9ybU9yaWdpbiB9ID0gc3RhdGU7XG4gICAgLy8gVHJhY2sgd2hldGhlciB3ZSBlbmNvdW50ZXIgYW55IHRyYW5zZm9ybSBvciB0cmFuc2Zvcm1PcmlnaW4gdmFsdWVzLlxuICAgIGxldCBoYXNUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgICBsZXQgaGFzVHJhbnNmb3JtT3JpZ2luID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogTG9vcCBvdmVyIGFsbCBvdXIgbGF0ZXN0IGFuaW1hdGVkIHZhbHVlcyBhbmQgZGVjaWRlIHdoZXRoZXIgdG8gaGFuZGxlIHRoZW1cbiAgICAgKiBhcyBhIHN0eWxlIG9yIENTUyB2YXJpYWJsZS5cbiAgICAgKlxuICAgICAqIFRyYW5zZm9ybXMgYW5kIHRyYW5zZm9ybSBvcmlnaW5zIGFyZSBrZXB0IHNlcGFyYXRlbHkgZm9yIGZ1cnRoZXIgcHJvY2Vzc2luZy5cbiAgICAgKi9cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBsYXRlc3RWYWx1ZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsYXRlc3RWYWx1ZXNba2V5XTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybVByb3BzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgdHJhbnNmb3JtLCBmbGFnIHRvIGVuYWJsZSBmdXJ0aGVyIHRyYW5zZm9ybSBwcm9jZXNzaW5nXG4gICAgICAgICAgICBoYXNUcmFuc2Zvcm0gPSB0cnVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDU1NWYXJpYWJsZU5hbWUoa2V5KSkge1xuICAgICAgICAgICAgdmFyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIGl0cyBkZWZhdWx0IHZhbHVlIHR5cGUsIGllIDAgLT4gXCIwcHhcIlxuICAgICAgICAgICAgY29uc3QgdmFsdWVBc1R5cGUgPSBnZXRWYWx1ZUFzVHlwZSh2YWx1ZSwgbnVtYmVyVmFsdWVUeXBlc1trZXldKTtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIm9yaWdpblwiKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSB0cmFuc2Zvcm0gb3JpZ2luLCBmbGFnIGFuZCBlbmFibGUgZnVydGhlciB0cmFuc2Zvcm0tb3JpZ2luIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICBoYXNUcmFuc2Zvcm1PcmlnaW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbltrZXldID1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWVBc1R5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHlsZVtrZXldID0gdmFsdWVBc1R5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFsYXRlc3RWYWx1ZXMudHJhbnNmb3JtKSB7XG4gICAgICAgIGlmIChoYXNUcmFuc2Zvcm0gfHwgdHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IGJ1aWxkVHJhbnNmb3JtKGxhdGVzdFZhbHVlcywgc3RhdGUudHJhbnNmb3JtLCB0cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgcHJldmlvdXNseSBjcmVhdGVkIGEgdHJhbnNmb3JtIGJ1dCBjdXJyZW50bHkgZG9uJ3QgaGF2ZSBhbnksXG4gICAgICAgICAgICAgKiByZXNldCB0cmFuc2Zvcm0gc3R5bGUgdG8gbm9uZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGQgYSB0cmFuc2Zvcm1PcmlnaW4gc3R5bGUuIFVzZXMgdGhlIHNhbWUgZGVmYXVsdHMgYXMgdGhlIGJyb3dzZXIgZm9yXG4gICAgICogdW5kZWZpbmVkIG9yaWdpbnMuXG4gICAgICovXG4gICAgaWYgKGhhc1RyYW5zZm9ybU9yaWdpbikge1xuICAgICAgICBjb25zdCB7IG9yaWdpblggPSBcIjUwJVwiLCBvcmlnaW5ZID0gXCI1MCVcIiwgb3JpZ2luWiA9IDAsIH0gPSB0cmFuc2Zvcm1PcmlnaW47XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAke29yaWdpblh9ICR7b3JpZ2luWX0gJHtvcmlnaW5afWA7XG4gICAgfVxufVxuXG5leHBvcnQgeyBidWlsZEhUTUxTdHlsZXMgfTtcbiIsICJpbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wT3JkZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2tleXMtdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBnZXRWYWx1ZUFzVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy91dGlscy9nZXQtYXMtdHlwZS5tanMnO1xuaW1wb3J0IHsgbnVtYmVyVmFsdWVUeXBlcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9tYXBzL251bWJlci5tanMnO1xuXG5jb25zdCB0cmFuc2xhdGVBbGlhcyA9IHtcbiAgICB4OiBcInRyYW5zbGF0ZVhcIixcbiAgICB5OiBcInRyYW5zbGF0ZVlcIixcbiAgICB6OiBcInRyYW5zbGF0ZVpcIixcbiAgICB0cmFuc2Zvcm1QZXJzcGVjdGl2ZTogXCJwZXJzcGVjdGl2ZVwiLFxufTtcbmNvbnN0IG51bVRyYW5zZm9ybXMgPSB0cmFuc2Zvcm1Qcm9wT3JkZXIubGVuZ3RoO1xuLyoqXG4gKiBCdWlsZCBhIENTUyB0cmFuc2Zvcm0gc3R5bGUgZnJvbSBpbmRpdmlkdWFsIHgveS9zY2FsZSBldGMgcHJvcGVydGllcy5cbiAqXG4gKiBUaGlzIG91dHB1dHMgd2l0aCBhIGRlZmF1bHQgb3JkZXIgb2YgdHJhbnNmb3Jtcy9zY2FsZXMvcm90YXRpb25zLCB0aGlzIGNhbiBiZSBjdXN0b21pc2VkIGJ5XG4gKiBwcm92aWRpbmcgYSB0cmFuc2Zvcm1UZW1wbGF0ZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYnVpbGRUcmFuc2Zvcm0obGF0ZXN0VmFsdWVzLCB0cmFuc2Zvcm0sIHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgLy8gVGhlIHRyYW5zZm9ybSBzdHJpbmcgd2UncmUgZ29pbmcgdG8gYnVpbGQgaW50by5cbiAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gXCJcIjtcbiAgICBsZXQgdHJhbnNmb3JtSXNEZWZhdWx0ID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBMb29wIG92ZXIgYWxsIHBvc3NpYmxlIHRyYW5zZm9ybXMgaW4gb3JkZXIsIGFkZGluZyB0aGUgb25lcyB0aGF0XG4gICAgICogYXJlIHByZXNlbnQgdG8gdGhlIHRyYW5zZm9ybSBzdHJpbmcuXG4gICAgICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1UcmFuc2Zvcm1zOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdHJhbnNmb3JtUHJvcE9yZGVyW2ldO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGxhdGVzdFZhbHVlc1trZXldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBsZXQgdmFsdWVJc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB2YWx1ZUlzRGVmYXVsdCA9IHZhbHVlID09PSAoa2V5LnN0YXJ0c1dpdGgoXCJzY2FsZVwiKSA/IDEgOiAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlSXNEZWZhdWx0ID0gcGFyc2VGbG9hdCh2YWx1ZSkgPT09IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWx1ZUlzRGVmYXVsdCB8fCB0cmFuc2Zvcm1UZW1wbGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVBc1R5cGUgPSBnZXRWYWx1ZUFzVHlwZSh2YWx1ZSwgbnVtYmVyVmFsdWVUeXBlc1trZXldKTtcbiAgICAgICAgICAgIGlmICghdmFsdWVJc0RlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Jc0RlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1OYW1lID0gdHJhbnNsYXRlQWxpYXNba2V5XSB8fCBrZXk7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtU3RyaW5nICs9IGAke3RyYW5zZm9ybU5hbWV9KCR7dmFsdWVBc1R5cGV9KSBgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtW2tleV0gPSB2YWx1ZUFzVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0cmFuc2Zvcm1TdHJpbmcgPSB0cmFuc2Zvcm1TdHJpbmcudHJpbSgpO1xuICAgIC8vIElmIHdlIGhhdmUgYSBjdXN0b20gYHRyYW5zZm9ybWAgdGVtcGxhdGUsIHBhc3Mgb3VyIHRyYW5zZm9ybSB2YWx1ZXMgYW5kXG4gICAgLy8gZ2VuZXJhdGVkIHRyYW5zZm9ybVN0cmluZyB0byB0aGF0IGJlZm9yZSByZXR1cm5pbmdcbiAgICBpZiAodHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICAgICAgdHJhbnNmb3JtU3RyaW5nID0gdHJhbnNmb3JtVGVtcGxhdGUodHJhbnNmb3JtLCB0cmFuc2Zvcm1Jc0RlZmF1bHQgPyBcIlwiIDogdHJhbnNmb3JtU3RyaW5nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHJhbnNmb3JtSXNEZWZhdWx0KSB7XG4gICAgICAgIHRyYW5zZm9ybVN0cmluZyA9IFwibm9uZVwiO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtU3RyaW5nO1xufVxuXG5leHBvcnQgeyBidWlsZFRyYW5zZm9ybSB9O1xuIiwgIi8qKlxuICogUHJvdmlkZWQgYSB2YWx1ZSBhbmQgYSBWYWx1ZVR5cGUsIHJldHVybnMgdGhlIHZhbHVlIGFzIHRoYXQgdmFsdWUgdHlwZS5cbiAqL1xuY29uc3QgZ2V0VmFsdWVBc1R5cGUgPSAodmFsdWUsIHR5cGUpID0+IHtcbiAgICByZXR1cm4gdHlwZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyB0eXBlLnRyYW5zZm9ybSh2YWx1ZSlcbiAgICAgICAgOiB2YWx1ZTtcbn07XG5cbmV4cG9ydCB7IGdldFZhbHVlQXNUeXBlIH07XG4iLCAiaW1wb3J0IHsgaW50IH0gZnJvbSAnLi4vaW50Lm1qcyc7XG5pbXBvcnQgeyBhbHBoYSB9IGZyb20gJy4uL251bWJlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHB4IH0gZnJvbSAnLi4vbnVtYmVycy91bml0cy5tanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtVmFsdWVUeXBlcyB9IGZyb20gJy4vdHJhbnNmb3JtLm1qcyc7XG5cbmNvbnN0IG51bWJlclZhbHVlVHlwZXMgPSB7XG4gICAgLy8gQm9yZGVyIHByb3BzXG4gICAgYm9yZGVyV2lkdGg6IHB4LFxuICAgIGJvcmRlclRvcFdpZHRoOiBweCxcbiAgICBib3JkZXJSaWdodFdpZHRoOiBweCxcbiAgICBib3JkZXJCb3R0b21XaWR0aDogcHgsXG4gICAgYm9yZGVyTGVmdFdpZHRoOiBweCxcbiAgICBib3JkZXJSYWRpdXM6IHB4LFxuICAgIHJhZGl1czogcHgsXG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1czogcHgsXG4gICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IHB4LFxuICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiBweCxcbiAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiBweCxcbiAgICAvLyBQb3NpdGlvbmluZyBwcm9wc1xuICAgIHdpZHRoOiBweCxcbiAgICBtYXhXaWR0aDogcHgsXG4gICAgaGVpZ2h0OiBweCxcbiAgICBtYXhIZWlnaHQ6IHB4LFxuICAgIHRvcDogcHgsXG4gICAgcmlnaHQ6IHB4LFxuICAgIGJvdHRvbTogcHgsXG4gICAgbGVmdDogcHgsXG4gICAgLy8gU3BhY2luZyBwcm9wc1xuICAgIHBhZGRpbmc6IHB4LFxuICAgIHBhZGRpbmdUb3A6IHB4LFxuICAgIHBhZGRpbmdSaWdodDogcHgsXG4gICAgcGFkZGluZ0JvdHRvbTogcHgsXG4gICAgcGFkZGluZ0xlZnQ6IHB4LFxuICAgIG1hcmdpbjogcHgsXG4gICAgbWFyZ2luVG9wOiBweCxcbiAgICBtYXJnaW5SaWdodDogcHgsXG4gICAgbWFyZ2luQm90dG9tOiBweCxcbiAgICBtYXJnaW5MZWZ0OiBweCxcbiAgICAvLyBNaXNjXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uWDogcHgsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uWTogcHgsXG4gICAgLi4udHJhbnNmb3JtVmFsdWVUeXBlcyxcbiAgICB6SW5kZXg6IGludCxcbiAgICAvLyBTVkdcbiAgICBmaWxsT3BhY2l0eTogYWxwaGEsXG4gICAgc3Ryb2tlT3BhY2l0eTogYWxwaGEsXG4gICAgbnVtT2N0YXZlczogaW50LFxufTtcblxuZXhwb3J0IHsgbnVtYmVyVmFsdWVUeXBlcyB9O1xuIiwgImltcG9ydCB7IG51bWJlciB9IGZyb20gJy4vbnVtYmVycy9pbmRleC5tanMnO1xuXG5jb25zdCBpbnQgPSB7XG4gICAgLi4ubnVtYmVyLFxuICAgIHRyYW5zZm9ybTogTWF0aC5yb3VuZCxcbn07XG5cbmV4cG9ydCB7IGludCB9O1xuIiwgImltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvY2xhbXAubWpzJztcblxuY29uc3QgbnVtYmVyID0ge1xuICAgIHRlc3Q6ICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIixcbiAgICBwYXJzZTogcGFyc2VGbG9hdCxcbiAgICB0cmFuc2Zvcm06ICh2KSA9PiB2LFxufTtcbmNvbnN0IGFscGhhID0ge1xuICAgIC4uLm51bWJlcixcbiAgICB0cmFuc2Zvcm06ICh2KSA9PiBjbGFtcCgwLCAxLCB2KSxcbn07XG5jb25zdCBzY2FsZSA9IHtcbiAgICAuLi5udW1iZXIsXG4gICAgZGVmYXVsdDogMSxcbn07XG5cbmV4cG9ydCB7IGFscGhhLCBudW1iZXIsIHNjYWxlIH07XG4iLCAiY29uc3QgY2xhbXAgPSAobWluLCBtYXgsIHYpID0+IHtcbiAgICBpZiAodiA+IG1heClcbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICBpZiAodiA8IG1pbilcbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICByZXR1cm4gdjtcbn07XG5cbmV4cG9ydCB7IGNsYW1wIH07XG4iLCAiLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5jb25zdCBjcmVhdGVVbml0VHlwZSA9ICh1bml0KSA9PiAoe1xuICAgIHRlc3Q6ICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiAmJiB2LmVuZHNXaXRoKHVuaXQpICYmIHYuc3BsaXQoXCIgXCIpLmxlbmd0aCA9PT0gMSxcbiAgICBwYXJzZTogcGFyc2VGbG9hdCxcbiAgICB0cmFuc2Zvcm06ICh2KSA9PiBgJHt2fSR7dW5pdH1gLFxufSk7XG5jb25zdCBkZWdyZWVzID0gLypAX19QVVJFX18qLyBjcmVhdGVVbml0VHlwZShcImRlZ1wiKTtcbmNvbnN0IHBlcmNlbnQgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZVVuaXRUeXBlKFwiJVwiKTtcbmNvbnN0IHB4ID0gLypAX19QVVJFX18qLyBjcmVhdGVVbml0VHlwZShcInB4XCIpO1xuY29uc3QgdmggPSAvKkBfX1BVUkVfXyovIGNyZWF0ZVVuaXRUeXBlKFwidmhcIik7XG5jb25zdCB2dyA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlVW5pdFR5cGUoXCJ2d1wiKTtcbmNvbnN0IHByb2dyZXNzUGVyY2VudGFnZSA9IC8qQF9fUFVSRV9fKi8gKCgpID0+ICh7XG4gICAgLi4ucGVyY2VudCxcbiAgICBwYXJzZTogKHYpID0+IHBlcmNlbnQucGFyc2UodikgLyAxMDAsXG4gICAgdHJhbnNmb3JtOiAodikgPT4gcGVyY2VudC50cmFuc2Zvcm0odiAqIDEwMCksXG59KSkoKTtcblxuZXhwb3J0IHsgZGVncmVlcywgcGVyY2VudCwgcHJvZ3Jlc3NQZXJjZW50YWdlLCBweCwgdmgsIHZ3IH07XG4iLCAiaW1wb3J0IHsgc2NhbGUsIGFscGhhIH0gZnJvbSAnLi4vbnVtYmVycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgZGVncmVlcywgcHgsIHByb2dyZXNzUGVyY2VudGFnZSB9IGZyb20gJy4uL251bWJlcnMvdW5pdHMubWpzJztcblxuY29uc3QgdHJhbnNmb3JtVmFsdWVUeXBlcyA9IHtcbiAgICByb3RhdGU6IGRlZ3JlZXMsXG4gICAgcm90YXRlWDogZGVncmVlcyxcbiAgICByb3RhdGVZOiBkZWdyZWVzLFxuICAgIHJvdGF0ZVo6IGRlZ3JlZXMsXG4gICAgc2NhbGUsXG4gICAgc2NhbGVYOiBzY2FsZSxcbiAgICBzY2FsZVk6IHNjYWxlLFxuICAgIHNjYWxlWjogc2NhbGUsXG4gICAgc2tldzogZGVncmVlcyxcbiAgICBza2V3WDogZGVncmVlcyxcbiAgICBza2V3WTogZGVncmVlcyxcbiAgICBkaXN0YW5jZTogcHgsXG4gICAgdHJhbnNsYXRlWDogcHgsXG4gICAgdHJhbnNsYXRlWTogcHgsXG4gICAgdHJhbnNsYXRlWjogcHgsXG4gICAgeDogcHgsXG4gICAgeTogcHgsXG4gICAgejogcHgsXG4gICAgcGVyc3BlY3RpdmU6IHB4LFxuICAgIHRyYW5zZm9ybVBlcnNwZWN0aXZlOiBweCxcbiAgICBvcGFjaXR5OiBhbHBoYSxcbiAgICBvcmlnaW5YOiBwcm9ncmVzc1BlcmNlbnRhZ2UsXG4gICAgb3JpZ2luWTogcHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIG9yaWdpblo6IHB4LFxufTtcblxuZXhwb3J0IHsgdHJhbnNmb3JtVmFsdWVUeXBlcyB9O1xuIiwgImNvbnN0IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSA9ICgpID0+ICh7XG4gICAgc3R5bGU6IHt9LFxuICAgIHRyYW5zZm9ybToge30sXG4gICAgdHJhbnNmb3JtT3JpZ2luOiB7fSxcbiAgICB2YXJzOiB7fSxcbn0pO1xuXG5leHBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfTtcbiIsICJpbXBvcnQgeyBsb3dlcmNhc2VTVkdFbGVtZW50cyB9IGZyb20gJy4uLy4uL3N2Zy9sb3dlcmNhc2UtZWxlbWVudHMubWpzJztcblxuZnVuY3Rpb24gaXNTVkdDb21wb25lbnQoQ29tcG9uZW50KSB7XG4gICAgaWYgKFxuICAgIC8qKlxuICAgICAqIElmIGl0J3Mgbm90IGEgc3RyaW5nLCBpdCdzIGEgY3VzdG9tIFJlYWN0IGNvbXBvbmVudC4gQ3VycmVudGx5IHdlIG9ubHkgc3VwcG9ydFxuICAgICAqIEhUTUwgY3VzdG9tIFJlYWN0IGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgdHlwZW9mIENvbXBvbmVudCAhPT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgaXQgY29udGFpbnMgYSBkYXNoLCB0aGUgZWxlbWVudCBpcyBhIGN1c3RvbSBIVE1MIHdlYmNvbXBvbmVudC5cbiAgICAgICAgICovXG4gICAgICAgIENvbXBvbmVudC5pbmNsdWRlcyhcIi1cIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmIChcbiAgICAvKipcbiAgICAgKiBJZiBpdCdzIGluIG91ciBsaXN0IG9mIGxvd2VyY2FzZSBTVkcgdGFncywgaXQncyBhbiBTVkcgY29tcG9uZW50XG4gICAgICovXG4gICAgbG93ZXJjYXNlU1ZHRWxlbWVudHMuaW5kZXhPZihDb21wb25lbnQpID4gLTEgfHxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGl0IGNvbnRhaW5zIGEgY2FwaXRhbCBsZXR0ZXIsIGl0J3MgYW4gU1ZHIGNvbXBvbmVudFxuICAgICAgICAgKi9cbiAgICAgICAgL1tBLVpdL3UudGVzdChDb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7IGlzU1ZHQ29tcG9uZW50IH07XG4iLCAiLyoqXG4gKiBXZSBrZWVwIHRoZXNlIGxpc3RlZCBzZXBhcmF0ZWx5IGFzIHdlIHVzZSB0aGUgbG93ZXJjYXNlIHRhZyBuYW1lcyBhcyBwYXJ0XG4gKiBvZiB0aGUgcnVudGltZSBidW5kbGUgdG8gZGV0ZWN0IFNWRyBjb21wb25lbnRzXG4gKi9cbmNvbnN0IGxvd2VyY2FzZVNWR0VsZW1lbnRzID0gW1xuICAgIFwiYW5pbWF0ZVwiLFxuICAgIFwiY2lyY2xlXCIsXG4gICAgXCJkZWZzXCIsXG4gICAgXCJkZXNjXCIsXG4gICAgXCJlbGxpcHNlXCIsXG4gICAgXCJnXCIsXG4gICAgXCJpbWFnZVwiLFxuICAgIFwibGluZVwiLFxuICAgIFwiZmlsdGVyXCIsXG4gICAgXCJtYXJrZXJcIixcbiAgICBcIm1hc2tcIixcbiAgICBcIm1ldGFkYXRhXCIsXG4gICAgXCJwYXRoXCIsXG4gICAgXCJwYXR0ZXJuXCIsXG4gICAgXCJwb2x5Z29uXCIsXG4gICAgXCJwb2x5bGluZVwiLFxuICAgIFwicmVjdFwiLFxuICAgIFwic3RvcFwiLFxuICAgIFwic3dpdGNoXCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcInN2Z1wiLFxuICAgIFwidGV4dFwiLFxuICAgIFwidHNwYW5cIixcbiAgICBcInVzZVwiLFxuICAgIFwidmlld1wiLFxuXTtcblxuZXhwb3J0IHsgbG93ZXJjYXNlU1ZHRWxlbWVudHMgfTtcbiIsICJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29weVJhd1ZhbHVlc09ubHkgfSBmcm9tICcuLi9odG1sL3VzZS1wcm9wcy5tanMnO1xuaW1wb3J0IHsgYnVpbGRTVkdBdHRycyB9IGZyb20gJy4vdXRpbHMvYnVpbGQtYXR0cnMubWpzJztcbmltcG9ydCB7IGNyZWF0ZVN2Z1JlbmRlclN0YXRlIH0gZnJvbSAnLi91dGlscy9jcmVhdGUtcmVuZGVyLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBpc1NWR1RhZyB9IGZyb20gJy4vdXRpbHMvaXMtc3ZnLXRhZy5tanMnO1xuXG5mdW5jdGlvbiB1c2VTVkdQcm9wcyhwcm9wcywgdmlzdWFsU3RhdGUsIF9pc1N0YXRpYywgQ29tcG9uZW50KSB7XG4gICAgY29uc3QgdmlzdWFsUHJvcHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBjcmVhdGVTdmdSZW5kZXJTdGF0ZSgpO1xuICAgICAgICBidWlsZFNWR0F0dHJzKHN0YXRlLCB2aXN1YWxTdGF0ZSwgaXNTVkdUYWcoQ29tcG9uZW50KSwgcHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUuYXR0cnMsXG4gICAgICAgICAgICBzdHlsZTogeyAuLi5zdGF0ZS5zdHlsZSB9LFxuICAgICAgICB9O1xuICAgIH0sIFt2aXN1YWxTdGF0ZV0pO1xuICAgIGlmIChwcm9wcy5zdHlsZSkge1xuICAgICAgICBjb25zdCByYXdTdHlsZXMgPSB7fTtcbiAgICAgICAgY29weVJhd1ZhbHVlc09ubHkocmF3U3R5bGVzLCBwcm9wcy5zdHlsZSwgcHJvcHMpO1xuICAgICAgICB2aXN1YWxQcm9wcy5zdHlsZSA9IHsgLi4ucmF3U3R5bGVzLCAuLi52aXN1YWxQcm9wcy5zdHlsZSB9O1xuICAgIH1cbiAgICByZXR1cm4gdmlzdWFsUHJvcHM7XG59XG5cbmV4cG9ydCB7IHVzZVNWR1Byb3BzIH07XG4iLCAiaW1wb3J0IHsgYnVpbGRIVE1MU3R5bGVzIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy9idWlsZC1zdHlsZXMubWpzJztcbmltcG9ydCB7IGJ1aWxkU1ZHUGF0aCB9IGZyb20gJy4vcGF0aC5tanMnO1xuXG4vKipcbiAqIEJ1aWxkIFNWRyB2aXN1YWwgYXR0cmJ1dGVzLCBsaWtlIGN4IGFuZCBzdHlsZS50cmFuc2Zvcm1cbiAqL1xuZnVuY3Rpb24gYnVpbGRTVkdBdHRycyhzdGF0ZSwgeyBhdHRyWCwgYXR0clksIGF0dHJTY2FsZSwgcGF0aExlbmd0aCwgcGF0aFNwYWNpbmcgPSAxLCBwYXRoT2Zmc2V0ID0gMCwgXG4vLyBUaGlzIGlzIG9iamVjdCBjcmVhdGlvbiwgd2hpY2ggd2UgdHJ5IHRvIGF2b2lkIHBlci1mcmFtZS5cbi4uLmxhdGVzdCB9LCBpc1NWR1RhZywgdHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICBidWlsZEhUTUxTdHlsZXMoc3RhdGUsIGxhdGVzdCwgdHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgIC8qKlxuICAgICAqIEZvciBzdmcgdGFncyB3ZSBqdXN0IHdhbnQgdG8gbWFrZSBzdXJlIHZpZXdCb3ggaXMgYW5pbWF0YWJsZSBhbmQgdHJlYXQgYWxsIHRoZSBzdHlsZXNcbiAgICAgKiBhcyBub3JtYWwgSFRNTCB0YWdzLlxuICAgICAqL1xuICAgIGlmIChpc1NWR1RhZykge1xuICAgICAgICBpZiAoc3RhdGUuc3R5bGUudmlld0JveCkge1xuICAgICAgICAgICAgc3RhdGUuYXR0cnMudmlld0JveCA9IHN0YXRlLnN0eWxlLnZpZXdCb3g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdGF0ZS5hdHRycyA9IHN0YXRlLnN0eWxlO1xuICAgIHN0YXRlLnN0eWxlID0ge307XG4gICAgY29uc3QgeyBhdHRycywgc3R5bGUgfSA9IHN0YXRlO1xuICAgIC8qKlxuICAgICAqIEhvd2V2ZXIsIHdlIGFwcGx5IHRyYW5zZm9ybXMgYXMgQ1NTIHRyYW5zZm9ybXMuXG4gICAgICogU28gaWYgd2UgZGV0ZWN0IGEgdHJhbnNmb3JtLCB0cmFuc2Zvcm1PcmlnaW4gd2UgdGFrZSBpdCBmcm9tIGF0dHJzIGFuZCBjb3B5IGl0IGludG8gc3R5bGUuXG4gICAgICovXG4gICAgaWYgKGF0dHJzLnRyYW5zZm9ybSkge1xuICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBhdHRycy50cmFuc2Zvcm07XG4gICAgICAgIGRlbGV0ZSBhdHRycy50cmFuc2Zvcm07XG4gICAgfVxuICAgIGlmIChzdHlsZS50cmFuc2Zvcm0gfHwgYXR0cnMudHJhbnNmb3JtT3JpZ2luKSB7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGF0dHJzLnRyYW5zZm9ybU9yaWdpbiA/PyBcIjUwJSA1MCVcIjtcbiAgICAgICAgZGVsZXRlIGF0dHJzLnRyYW5zZm9ybU9yaWdpbjtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogU1ZHJ3MgZWxlbWVudCB0cmFuc2Zvcm0tb3JpZ2luIHVzZXMgaXRzIG93biBtZWRpYW4gYXMgYSByZWZlcmVuY2UuXG4gICAgICAgICAqIFRoZXJlZm9yZSwgdHJhbnNmb3JtQm94IGJlY29tZXMgYSBmaWxsLWJveFxuICAgICAgICAgKi9cbiAgICAgICAgc3R5bGUudHJhbnNmb3JtQm94ID0gXCJmaWxsLWJveFwiO1xuICAgICAgICBkZWxldGUgYXR0cnMudHJhbnNmb3JtQm94O1xuICAgIH1cbiAgICAvLyBSZW5kZXIgYXR0clgvYXR0clkvYXR0clNjYWxlIGFzIGF0dHJpYnV0ZXNcbiAgICBpZiAoYXR0clggIT09IHVuZGVmaW5lZClcbiAgICAgICAgYXR0cnMueCA9IGF0dHJYO1xuICAgIGlmIChhdHRyWSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBhdHRycy55ID0gYXR0clk7XG4gICAgaWYgKGF0dHJTY2FsZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBhdHRycy5zY2FsZSA9IGF0dHJTY2FsZTtcbiAgICAvLyBCdWlsZCBTVkcgcGF0aCBpZiBvbmUgaGFzIGJlZW4gZGVmaW5lZFxuICAgIGlmIChwYXRoTGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYnVpbGRTVkdQYXRoKGF0dHJzLCBwYXRoTGVuZ3RoLCBwYXRoU3BhY2luZywgcGF0aE9mZnNldCwgZmFsc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgYnVpbGRTVkdBdHRycyB9O1xuIiwgImltcG9ydCB7IHB4IH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcblxuY29uc3QgZGFzaEtleXMgPSB7XG4gICAgb2Zmc2V0OiBcInN0cm9rZS1kYXNob2Zmc2V0XCIsXG4gICAgYXJyYXk6IFwic3Ryb2tlLWRhc2hhcnJheVwiLFxufTtcbmNvbnN0IGNhbWVsS2V5cyA9IHtcbiAgICBvZmZzZXQ6IFwic3Ryb2tlRGFzaG9mZnNldFwiLFxuICAgIGFycmF5OiBcInN0cm9rZURhc2hhcnJheVwiLFxufTtcbi8qKlxuICogQnVpbGQgU1ZHIHBhdGggcHJvcGVydGllcy4gVXNlcyB0aGUgcGF0aCdzIG1lYXN1cmVkIGxlbmd0aCB0byBjb252ZXJ0XG4gKiBvdXIgY3VzdG9tIHBhdGhMZW5ndGgsIHBhdGhTcGFjaW5nIGFuZCBwYXRoT2Zmc2V0IGludG8gc3Ryb2tlLWRhc2hvZmZzZXRcbiAqIGFuZCBzdHJva2UtZGFzaGFycmF5IGF0dHJpYnV0ZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBtdXRhdGl2ZSB0byByZWR1Y2UgcGVyLWZyYW1lIEdDLlxuICovXG5mdW5jdGlvbiBidWlsZFNWR1BhdGgoYXR0cnMsIGxlbmd0aCwgc3BhY2luZyA9IDEsIG9mZnNldCA9IDAsIHVzZURhc2hDYXNlID0gdHJ1ZSkge1xuICAgIC8vIE5vcm1hbGlzZSBwYXRoIGxlbmd0aCBieSBzZXR0aW5nIFNWRyBhdHRyaWJ1dGUgcGF0aExlbmd0aCB0byAxXG4gICAgYXR0cnMucGF0aExlbmd0aCA9IDE7XG4gICAgLy8gV2UgdXNlIGRhc2ggY2FzZSB3aGVuIHNldHRpbmcgYXR0cmlidXRlcyBkaXJlY3RseSB0byB0aGUgRE9NIG5vZGUgYW5kIGNhbWVsIGNhc2VcbiAgICAvLyB3aGVuIGRlZmluaW5nIHByb3BzIG9uIGEgUmVhY3QgY29tcG9uZW50LlxuICAgIGNvbnN0IGtleXMgPSB1c2VEYXNoQ2FzZSA/IGRhc2hLZXlzIDogY2FtZWxLZXlzO1xuICAgIC8vIEJ1aWxkIHRoZSBkYXNoIG9mZnNldFxuICAgIGF0dHJzW2tleXMub2Zmc2V0XSA9IHB4LnRyYW5zZm9ybSgtb2Zmc2V0KTtcbiAgICAvLyBCdWlsZCB0aGUgZGFzaCBhcnJheVxuICAgIGNvbnN0IHBhdGhMZW5ndGggPSBweC50cmFuc2Zvcm0obGVuZ3RoKTtcbiAgICBjb25zdCBwYXRoU3BhY2luZyA9IHB4LnRyYW5zZm9ybShzcGFjaW5nKTtcbiAgICBhdHRyc1trZXlzLmFycmF5XSA9IGAke3BhdGhMZW5ndGh9ICR7cGF0aFNwYWNpbmd9YDtcbn1cblxuZXhwb3J0IHsgYnVpbGRTVkdQYXRoIH07XG4iLCAiaW1wb3J0IHsgY3JlYXRlSHRtbFJlbmRlclN0YXRlIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy9jcmVhdGUtcmVuZGVyLXN0YXRlLm1qcyc7XG5cbmNvbnN0IGNyZWF0ZVN2Z1JlbmRlclN0YXRlID0gKCkgPT4gKHtcbiAgICAuLi5jcmVhdGVIdG1sUmVuZGVyU3RhdGUoKSxcbiAgICBhdHRyczoge30sXG59KTtcblxuZXhwb3J0IHsgY3JlYXRlU3ZnUmVuZGVyU3RhdGUgfTtcbiIsICJjb25zdCBpc1NWR1RhZyA9ICh0YWcpID0+IHR5cGVvZiB0YWcgPT09IFwic3RyaW5nXCIgJiYgdGFnLnRvTG93ZXJDYXNlKCkgPT09IFwic3ZnXCI7XG5cbmV4cG9ydCB7IGlzU1ZHVGFnIH07XG4iLCAiaW1wb3J0IHsgbWFrZVVzZVZpc3VhbFN0YXRlIH0gZnJvbSAnLi4vLi4vbW90aW9uL3V0aWxzL3VzZS12aXN1YWwtc3RhdGUubWpzJztcbmltcG9ydCB7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSB9IGZyb20gJy4vdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMnO1xuXG5jb25zdCBodG1sTW90aW9uQ29uZmlnID0ge1xuICAgIHVzZVZpc3VhbFN0YXRlOiBtYWtlVXNlVmlzdWFsU3RhdGUoe1xuICAgICAgICBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMsXG4gICAgICAgIGNyZWF0ZVJlbmRlclN0YXRlOiBjcmVhdGVIdG1sUmVuZGVyU3RhdGUsXG4gICAgfSksXG59O1xuXG5leHBvcnQgeyBodG1sTW90aW9uQ29uZmlnIH07XG4iLCAiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzQW5pbWF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvaXMtYW5pbWF0aW9uLWNvbnRyb2xzLm1qcyc7XG5pbXBvcnQgeyBNb3Rpb25Db250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9Nb3Rpb25Db250ZXh0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBQcmVzZW5jZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgaXNDb250cm9sbGluZ1ZhcmlhbnRzLCBpc1ZhcmlhbnROb2RlIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2lzLWNvbnRyb2xsaW5nLXZhcmlhbnRzLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9yZXNvbHZlLXZhcmlhbnRzLm1qcyc7XG5pbXBvcnQgeyB1c2VDb25zdGFudCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1jb25zdGFudC5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXRpbHMvcmVzb2x2ZS1tb3Rpb24tdmFsdWUubWpzJztcblxuZnVuY3Rpb24gbWFrZVN0YXRlKHsgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzLCBjcmVhdGVSZW5kZXJTdGF0ZSwgfSwgcHJvcHMsIGNvbnRleHQsIHByZXNlbmNlQ29udGV4dCkge1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBsYXRlc3RWYWx1ZXM6IG1ha2VMYXRlc3RWYWx1ZXMocHJvcHMsIGNvbnRleHQsIHByZXNlbmNlQ29udGV4dCwgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKSxcbiAgICAgICAgcmVuZGVyU3RhdGU6IGNyZWF0ZVJlbmRlclN0YXRlKCksXG4gICAgfTtcbiAgICByZXR1cm4gc3RhdGU7XG59XG5jb25zdCBtYWtlVXNlVmlzdWFsU3RhdGUgPSAoY29uZmlnKSA9PiAocHJvcHMsIGlzU3RhdGljKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoTW90aW9uQ29udGV4dCk7XG4gICAgY29uc3QgcHJlc2VuY2VDb250ZXh0ID0gdXNlQ29udGV4dChQcmVzZW5jZUNvbnRleHQpO1xuICAgIGNvbnN0IG1ha2UgPSAoKSA9PiBtYWtlU3RhdGUoY29uZmlnLCBwcm9wcywgY29udGV4dCwgcHJlc2VuY2VDb250ZXh0KTtcbiAgICByZXR1cm4gaXNTdGF0aWMgPyBtYWtlKCkgOiB1c2VDb25zdGFudChtYWtlKTtcbn07XG5mdW5jdGlvbiBtYWtlTGF0ZXN0VmFsdWVzKHByb3BzLCBjb250ZXh0LCBwcmVzZW5jZUNvbnRleHQsIHNjcmFwZU1vdGlvblZhbHVlcykge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIGNvbnN0IG1vdGlvblZhbHVlcyA9IHNjcmFwZU1vdGlvblZhbHVlcyhwcm9wcywge30pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1vdGlvblZhbHVlcykge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IHJlc29sdmVNb3Rpb25WYWx1ZShtb3Rpb25WYWx1ZXNba2V5XSk7XG4gICAgfVxuICAgIGxldCB7IGluaXRpYWwsIGFuaW1hdGUgfSA9IHByb3BzO1xuICAgIGNvbnN0IGlzQ29udHJvbGxpbmdWYXJpYW50cyQxID0gaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKTtcbiAgICBjb25zdCBpc1ZhcmlhbnROb2RlJDEgPSBpc1ZhcmlhbnROb2RlKHByb3BzKTtcbiAgICBpZiAoY29udGV4dCAmJlxuICAgICAgICBpc1ZhcmlhbnROb2RlJDEgJiZcbiAgICAgICAgIWlzQ29udHJvbGxpbmdWYXJpYW50cyQxICYmXG4gICAgICAgIHByb3BzLmluaGVyaXQgIT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChpbml0aWFsID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBpbml0aWFsID0gY29udGV4dC5pbml0aWFsO1xuICAgICAgICBpZiAoYW5pbWF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYW5pbWF0ZSA9IGNvbnRleHQuYW5pbWF0ZTtcbiAgICB9XG4gICAgbGV0IGlzSW5pdGlhbEFuaW1hdGlvbkJsb2NrZWQgPSBwcmVzZW5jZUNvbnRleHRcbiAgICAgICAgPyBwcmVzZW5jZUNvbnRleHQuaW5pdGlhbCA9PT0gZmFsc2VcbiAgICAgICAgOiBmYWxzZTtcbiAgICBpc0luaXRpYWxBbmltYXRpb25CbG9ja2VkID0gaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZCB8fCBpbml0aWFsID09PSBmYWxzZTtcbiAgICBjb25zdCB2YXJpYW50VG9TZXQgPSBpc0luaXRpYWxBbmltYXRpb25CbG9ja2VkID8gYW5pbWF0ZSA6IGluaXRpYWw7XG4gICAgaWYgKHZhcmlhbnRUb1NldCAmJlxuICAgICAgICB0eXBlb2YgdmFyaWFudFRvU2V0ICE9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgICAhaXNBbmltYXRpb25Db250cm9scyh2YXJpYW50VG9TZXQpKSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBBcnJheS5pc0FycmF5KHZhcmlhbnRUb1NldCkgPyB2YXJpYW50VG9TZXQgOiBbdmFyaWFudFRvU2V0XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVWYXJpYW50RnJvbVByb3BzKHByb3BzLCBsaXN0W2ldKTtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdHJhbnNpdGlvbkVuZCwgdHJhbnNpdGlvbiwgLi4udGFyZ2V0IH0gPSByZXNvbHZlZDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlVGFyZ2V0ID0gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBUYWtlIGZpbmFsIGtleWZyYW1lIGlmIHRoZSBpbml0aWFsIGFuaW1hdGlvbiBpcyBibG9ja2VkIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIHdlIHdhbnQgdG8gaW5pdGlhbGlzZSBhdCB0aGUgZW5kIG9mIHRoYXQgYmxvY2tlZCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsdWVUYXJnZXQubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVGFyZ2V0ID0gdmFsdWVUYXJnZXRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVRhcmdldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2tleV0gPSB2YWx1ZVRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFuc2l0aW9uRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1trZXldID0gdHJhbnNpdGlvbkVuZFtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xufVxuXG5leHBvcnQgeyBtYWtlVXNlVmlzdWFsU3RhdGUgfTtcbiIsICJmdW5jdGlvbiBnZXRWYWx1ZVN0YXRlKHZpc3VhbEVsZW1lbnQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IFt7fSwge31dO1xuICAgIHZpc3VhbEVsZW1lbnQ/LnZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIHN0YXRlWzBdW2tleV0gPSB2YWx1ZS5nZXQoKTtcbiAgICAgICAgc3RhdGVbMV1ba2V5XSA9IHZhbHVlLmdldFZlbG9jaXR5KCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMocHJvcHMsIGRlZmluaXRpb24sIGN1c3RvbSwgdmlzdWFsRWxlbWVudCkge1xuICAgIC8qKlxuICAgICAqIElmIHRoZSB2YXJpYW50IGRlZmluaXRpb24gaXMgYSBmdW5jdGlvbiwgcmVzb2x2ZS5cbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCBbY3VycmVudCwgdmVsb2NpdHldID0gZ2V0VmFsdWVTdGF0ZSh2aXN1YWxFbGVtZW50KTtcbiAgICAgICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24oY3VzdG9tICE9PSB1bmRlZmluZWQgPyBjdXN0b20gOiBwcm9wcy5jdXN0b20sIGN1cnJlbnQsIHZlbG9jaXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHZhcmlhbnQgZGVmaW5pdGlvbiBpcyBhIHZhcmlhbnQgbGFiZWwsIG9yXG4gICAgICogdGhlIGZ1bmN0aW9uIHJldHVybmVkIGEgdmFyaWFudCBsYWJlbCwgcmVzb2x2ZS5cbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZGVmaW5pdGlvbiA9IHByb3BzLnZhcmlhbnRzICYmIHByb3BzLnZhcmlhbnRzW2RlZmluaXRpb25dO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdCB0aGlzIHBvaW50IHdlJ3ZlIHJlc29sdmVkIGJvdGggZnVuY3Rpb25zIGFuZCB2YXJpYW50IGxhYmVscyxcbiAgICAgKiBidXQgdGhlIHJlc29sdmVkIHZhcmlhbnQgbGFiZWwgbWlnaHQgaXRzZWxmIGhhdmUgYmVlbiBhIGZ1bmN0aW9uLlxuICAgICAqIElmIHNvLCByZXNvbHZlLiBUaGlzIGNhbiBvbmx5IGhhdmUgcmV0dXJuZWQgYSB2YWxpZCB0YXJnZXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IFtjdXJyZW50LCB2ZWxvY2l0eV0gPSBnZXRWYWx1ZVN0YXRlKHZpc3VhbEVsZW1lbnQpO1xuICAgICAgICBkZWZpbml0aW9uID0gZGVmaW5pdGlvbihjdXN0b20gIT09IHVuZGVmaW5lZCA/IGN1c3RvbSA6IHByb3BzLmN1c3RvbSwgY3VycmVudCwgdmVsb2NpdHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmaW5pdGlvbjtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMgfTtcbiIsICJpbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi9pcy1tb3Rpb24tdmFsdWUubWpzJztcblxuLyoqXG4gKiBJZiB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgYSBNb3Rpb25WYWx1ZSwgdGhpcyByZXR1cm5zIHRoZSBhY3R1YWwgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHRoZSB2YWx1ZSBpdHNlbGZcbiAqXG4gKiBUT0RPOiBSZW1vdmUgYW5kIG1vdmUgdG8gbGlicmFyeVxuICovXG5mdW5jdGlvbiByZXNvbHZlTW90aW9uVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gaXNNb3Rpb25WYWx1ZSh2YWx1ZSkgPyB2YWx1ZS5nZXQoKSA6IHZhbHVlO1xufVxuXG5leHBvcnQgeyByZXNvbHZlTW90aW9uVmFsdWUgfTtcbiIsICJpbXBvcnQgeyBpc0ZvcmNlZE1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vbW90aW9uL3V0aWxzL2lzLWZvcmNlZC1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi8uLi92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcblxuZnVuY3Rpb24gc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKHByb3BzLCBwcmV2UHJvcHMsIHZpc3VhbEVsZW1lbnQpIHtcbiAgICBjb25zdCB7IHN0eWxlIH0gPSBwcm9wcztcbiAgICBjb25zdCBuZXdWYWx1ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZSkge1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShzdHlsZVtrZXldKSB8fFxuICAgICAgICAgICAgKHByZXZQcm9wcy5zdHlsZSAmJlxuICAgICAgICAgICAgICAgIGlzTW90aW9uVmFsdWUocHJldlByb3BzLnN0eWxlW2tleV0pKSB8fFxuICAgICAgICAgICAgaXNGb3JjZWRNb3Rpb25WYWx1ZShrZXksIHByb3BzKSB8fFxuICAgICAgICAgICAgdmlzdWFsRWxlbWVudD8uZ2V0VmFsdWUoa2V5KT8ubGl2ZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlc1trZXldID0gc3R5bGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3VmFsdWVzO1xufVxuXG5leHBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfTtcbiIsICJpbXBvcnQgeyBtYWtlVXNlVmlzdWFsU3RhdGUgfSBmcm9tICcuLi8uLi9tb3Rpb24vdXRpbHMvdXNlLXZpc3VhbC1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlU3ZnUmVuZGVyU3RhdGUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcbmltcG9ydCB7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzJztcblxuY29uc3Qgc3ZnTW90aW9uQ29uZmlnID0ge1xuICAgIHVzZVZpc3VhbFN0YXRlOiBtYWtlVXNlVmlzdWFsU3RhdGUoe1xuICAgICAgICBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHM6IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyxcbiAgICAgICAgY3JlYXRlUmVuZGVyU3RhdGU6IGNyZWF0ZVN2Z1JlbmRlclN0YXRlLFxuICAgIH0pLFxufTtcblxuZXhwb3J0IHsgc3ZnTW90aW9uQ29uZmlnIH07XG4iLCAiaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzIGFzIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyQxIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy9zY3JhcGUtbW90aW9uLXZhbHVlcy5tanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtUHJvcE9yZGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3JlbmRlci91dGlscy9rZXlzLXRyYW5zZm9ybS5tanMnO1xuXG5mdW5jdGlvbiBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMsIHByZXZQcm9wcywgdmlzdWFsRWxlbWVudCkge1xuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyQxKHByb3BzLCBwcmV2UHJvcHMsIHZpc3VhbEVsZW1lbnQpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChpc01vdGlvblZhbHVlKHByb3BzW2tleV0pIHx8XG4gICAgICAgICAgICBpc01vdGlvblZhbHVlKHByZXZQcm9wc1trZXldKSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0S2V5ID0gdHJhbnNmb3JtUHJvcE9yZGVyLmluZGV4T2Yoa2V5KSAhPT0gLTFcbiAgICAgICAgICAgICAgICA/IFwiYXR0clwiICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKVxuICAgICAgICAgICAgICAgIDoga2V5O1xuICAgICAgICAgICAgbmV3VmFsdWVzW3RhcmdldEtleV0gPSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZXM7XG59XG5cbmV4cG9ydCB7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9O1xuIiwgImltcG9ydCB7IGNyZWF0ZURPTU1vdGlvbkNvbXBvbmVudFByb3h5IH0gZnJvbSAnLi4vY3JlYXRlLXByb3h5Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVNb3Rpb25Db21wb25lbnQgfSBmcm9tICcuL2NyZWF0ZS5tanMnO1xuXG5jb25zdCBtb3Rpb24gPSAvKkBfX1BVUkVfXyovIGNyZWF0ZURPTU1vdGlvbkNvbXBvbmVudFByb3h5KGNyZWF0ZU1vdGlvbkNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IG1vdGlvbiB9O1xuIiwgImltcG9ydCB7IGFuaW1hdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9tb3Rpb24vZmVhdHVyZXMvYW5pbWF0aW9ucy5tanMnO1xuaW1wb3J0IHsgZHJhZyB9IGZyb20gJy4uLy4uLy4uL21vdGlvbi9mZWF0dXJlcy9kcmFnLm1qcyc7XG5pbXBvcnQgeyBnZXN0dXJlQW5pbWF0aW9ucyB9IGZyb20gJy4uLy4uLy4uL21vdGlvbi9mZWF0dXJlcy9nZXN0dXJlcy5tanMnO1xuaW1wb3J0IHsgbGF5b3V0IH0gZnJvbSAnLi4vLi4vLi4vbW90aW9uL2ZlYXR1cmVzL2xheW91dC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50RmFjdG9yeSB9IGZyb20gJy4uL2NyZWF0ZS1mYWN0b3J5Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVEb21WaXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vLi4vZG9tL2NyZWF0ZS12aXN1YWwtZWxlbWVudC5tanMnO1xuXG5jb25zdCBjcmVhdGVNb3Rpb25Db21wb25lbnQgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZU1vdGlvbkNvbXBvbmVudEZhY3Rvcnkoe1xuICAgIC4uLmFuaW1hdGlvbnMsXG4gICAgLi4uZ2VzdHVyZUFuaW1hdGlvbnMsXG4gICAgLi4uZHJhZyxcbiAgICAuLi5sYXlvdXQsXG59LCBjcmVhdGVEb21WaXN1YWxFbGVtZW50KTtcblxuZXhwb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50IH07XG4iLCAiaW1wb3J0IHsgQW5pbWF0aW9uRmVhdHVyZSB9IGZyb20gJy4vYW5pbWF0aW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFeGl0QW5pbWF0aW9uRmVhdHVyZSB9IGZyb20gJy4vYW5pbWF0aW9uL2V4aXQubWpzJztcblxuY29uc3QgYW5pbWF0aW9ucyA9IHtcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgRmVhdHVyZTogQW5pbWF0aW9uRmVhdHVyZSxcbiAgICB9LFxuICAgIGV4aXQ6IHtcbiAgICAgICAgRmVhdHVyZTogRXhpdEFuaW1hdGlvbkZlYXR1cmUsXG4gICAgfSxcbn07XG5cbmV4cG9ydCB7IGFuaW1hdGlvbnMgfTtcbiIsICJpbXBvcnQgeyBpc0FuaW1hdGlvbkNvbnRyb2xzIH0gZnJvbSAnLi4vLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWFuaW1hdGlvbi1jb250cm9scy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQW5pbWF0aW9uU3RhdGUgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXIvdXRpbHMvYW5pbWF0aW9uLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSAnLi4vRmVhdHVyZS5tanMnO1xuXG5jbGFzcyBBbmltYXRpb25GZWF0dXJlIGV4dGVuZHMgRmVhdHVyZSB7XG4gICAgLyoqXG4gICAgICogV2UgZHluYW1pY2FsbHkgZ2VuZXJhdGUgdGhlIEFuaW1hdGlvblN0YXRlIG1hbmFnZXIgYXMgaXQgY29udGFpbnMgYSByZWZlcmVuY2VcbiAgICAgKiB0byB0aGUgdW5kZXJseWluZyBhbmltYXRpb24gbGlicmFyeS4gV2Ugb25seSB3YW50IHRvIGxvYWQgdGhhdCBpZiB3ZSBsb2FkIHRoaXMsXG4gICAgICogc28gcGVvcGxlIGNhbiBvcHRpb25hbGx5IGNvZGUgc3BsaXQgaXQgb3V0IHVzaW5nIHRoZSBgbWAgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5vZGUpIHtcbiAgICAgICAgc3VwZXIobm9kZSk7XG4gICAgICAgIG5vZGUuYW5pbWF0aW9uU3RhdGUgfHwgKG5vZGUuYW5pbWF0aW9uU3RhdGUgPSBjcmVhdGVBbmltYXRpb25TdGF0ZShub2RlKSk7XG4gICAgfVxuICAgIHVwZGF0ZUFuaW1hdGlvbkNvbnRyb2xzU3Vic2NyaXB0aW9uKCkge1xuICAgICAgICBjb25zdCB7IGFuaW1hdGUgfSA9IHRoaXMubm9kZS5nZXRQcm9wcygpO1xuICAgICAgICBpZiAoaXNBbmltYXRpb25Db250cm9scyhhbmltYXRlKSkge1xuICAgICAgICAgICAgdGhpcy51bm1vdW50Q29udHJvbHMgPSBhbmltYXRlLnN1YnNjcmliZSh0aGlzLm5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSBhbnkgcHJvdmlkZWQgQW5pbWF0aW9uQ29udHJvbHMgdG8gdGhlIGNvbXBvbmVudCdzIFZpc3VhbEVsZW1lbnRcbiAgICAgKi9cbiAgICBtb3VudCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25Db250cm9sc1N1YnNjcmlwdGlvbigpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgYW5pbWF0ZSB9ID0gdGhpcy5ub2RlLmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IHsgYW5pbWF0ZTogcHJldkFuaW1hdGUgfSA9IHRoaXMubm9kZS5wcmV2UHJvcHMgfHwge307XG4gICAgICAgIGlmIChhbmltYXRlICE9PSBwcmV2QW5pbWF0ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25Db250cm9sc1N1YnNjcmlwdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVubW91bnQoKSB7XG4gICAgICAgIHRoaXMubm9kZS5hbmltYXRpb25TdGF0ZS5yZXNldCgpO1xuICAgICAgICB0aGlzLnVubW91bnRDb250cm9scz8uKCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBBbmltYXRpb25GZWF0dXJlIH07XG4iLCAiaW1wb3J0IHsgYW5pbWF0ZVZpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vaW50ZXJmYWNlcy92aXN1YWwtZWxlbWVudC5tanMnO1xuaW1wb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzJztcbmltcG9ydCB7IGlzS2V5ZnJhbWVzVGFyZ2V0IH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWtleWZyYW1lcy10YXJnZXQubWpzJztcbmltcG9ydCB7IHNoYWxsb3dDb21wYXJlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2hhbGxvdy1jb21wYXJlLm1qcyc7XG5pbXBvcnQgeyBnZXRWYXJpYW50Q29udGV4dCB9IGZyb20gJy4vZ2V0LXZhcmlhbnQtY29udGV4dC5tanMnO1xuaW1wb3J0IHsgaXNWYXJpYW50TGFiZWwgfSBmcm9tICcuL2lzLXZhcmlhbnQtbGFiZWwubWpzJztcbmltcG9ydCB7IHJlc29sdmVWYXJpYW50IH0gZnJvbSAnLi9yZXNvbHZlLWR5bmFtaWMtdmFyaWFudHMubWpzJztcbmltcG9ydCB7IHZhcmlhbnRQcmlvcml0eU9yZGVyIH0gZnJvbSAnLi92YXJpYW50LXByb3BzLm1qcyc7XG5cbmNvbnN0IHJldmVyc2VQcmlvcml0eU9yZGVyID0gWy4uLnZhcmlhbnRQcmlvcml0eU9yZGVyXS5yZXZlcnNlKCk7XG5jb25zdCBudW1BbmltYXRpb25UeXBlcyA9IHZhcmlhbnRQcmlvcml0eU9yZGVyLmxlbmd0aDtcbmZ1bmN0aW9uIGFuaW1hdGVMaXN0KHZpc3VhbEVsZW1lbnQpIHtcbiAgICByZXR1cm4gKGFuaW1hdGlvbnMpID0+IFByb21pc2UuYWxsKGFuaW1hdGlvbnMubWFwKCh7IGFuaW1hdGlvbiwgb3B0aW9ucyB9KSA9PiBhbmltYXRlVmlzdWFsRWxlbWVudCh2aXN1YWxFbGVtZW50LCBhbmltYXRpb24sIG9wdGlvbnMpKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVBbmltYXRpb25TdGF0ZSh2aXN1YWxFbGVtZW50KSB7XG4gICAgbGV0IGFuaW1hdGUgPSBhbmltYXRlTGlzdCh2aXN1YWxFbGVtZW50KTtcbiAgICBsZXQgc3RhdGUgPSBjcmVhdGVTdGF0ZSgpO1xuICAgIGxldCBpc0luaXRpYWxSZW5kZXIgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSB1c2VkIHRvIHJlZHVjZSB0aGUgYW5pbWF0aW9uIGRlZmluaXRpb25zIGZvclxuICAgICAqIGVhY2ggYWN0aXZlIGFuaW1hdGlvbiB0eXBlIGludG8gYW4gb2JqZWN0IG9mIHJlc29sdmVkIHZhbHVlcyBmb3IgaXQuXG4gICAgICovXG4gICAgY29uc3QgYnVpbGRSZXNvbHZlZFR5cGVWYWx1ZXMgPSAodHlwZSkgPT4gKGFjYywgZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIHR5cGUgPT09IFwiZXhpdFwiXG4gICAgICAgICAgICA/IHZpc3VhbEVsZW1lbnQucHJlc2VuY2VDb250ZXh0Py5jdXN0b21cbiAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgICAgICBjb25zdCB7IHRyYW5zaXRpb24sIHRyYW5zaXRpb25FbmQsIC4uLnRhcmdldCB9ID0gcmVzb2x2ZWQ7XG4gICAgICAgICAgICBhY2MgPSB7IC4uLmFjYywgLi4udGFyZ2V0LCAuLi50cmFuc2l0aW9uRW5kIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMganVzdCBhbGxvd3MgdXMgdG8gaW5qZWN0IG1vY2tlZCBhbmltYXRpb24gZnVuY3Rpb25zXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0QW5pbWF0ZUZ1bmN0aW9uKG1ha2VBbmltYXRvcikge1xuICAgICAgICBhbmltYXRlID0gbWFrZUFuaW1hdG9yKHZpc3VhbEVsZW1lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHdlIHJlY2VpdmUgbmV3IHByb3BzLCB3ZSBuZWVkIHRvOlxuICAgICAqIDEuIENyZWF0ZSBhIGxpc3Qgb2YgcHJvdGVjdGVkIGtleXMgZm9yIGVhY2ggdHlwZS4gVGhpcyBpcyBhIGRpcmVjdG9yeSBvZlxuICAgICAqICAgIHZhbHVlIGtleXMgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIFwiaGFuZGxlZFwiIGJ5IHR5cGVzIG9mIGEgaGlnaGVyIHByaW9yaXR5XG4gICAgICogICAgc28gdGhhdCB3aGVuZXZlciBhbiBhbmltYXRpb24gaXMgcGxheWVkIG9mIGEgZ2l2ZW4gdHlwZSwgdGhlc2UgdmFsdWVzIGFyZVxuICAgICAqICAgIHByb3RlY3RlZCBmcm9tIGJlaW5nIGFuaW1hdGVkLlxuICAgICAqIDIuIERldGVybWluZSBpZiBhbiBhbmltYXRpb24gdHlwZSBuZWVkcyBhbmltYXRpbmcuXG4gICAgICogMy4gRGV0ZXJtaW5lIGlmIGFueSB2YWx1ZXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSBhIHR5cGUgYW5kIGZpZ3VyZSBvdXRcbiAgICAgKiAgICB3aGF0IHRvIGFuaW1hdGUgdGhvc2UgdG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYW5pbWF0ZUNoYW5nZXMoY2hhbmdlZEFjdGl2ZVR5cGUpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wcyB9ID0gdmlzdWFsRWxlbWVudDtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGdldFZhcmlhbnRDb250ZXh0KHZpc3VhbEVsZW1lbnQucGFyZW50KSB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBhbmltYXRpb25zIHRoYXQgd2UnbGwgYnVpbGQgaW50byBhcyB3ZSBpdGVyYXRlIHRocm91Z2ggdGhlIGFuaW1hdGlvblxuICAgICAgICAgKiB0eXBlcy4gVGhpcyB3aWxsIGdldCBleGVjdXRlZCBhdCB0aGUgZW5kIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgb2Ygd2hpY2ggdmFsdWVzIGhhdmUgYmVlbiByZW1vdmVkLiBUaGVuLCBhcyB3ZSBoaXQgbG93ZXIgcHJpb3JpdHlcbiAgICAgICAgICogYW5pbWF0aW9uIHR5cGVzLCB3ZSBjYW4gY2hlY2sgaWYgdGhleSBjb250YWluIHJlbW92ZWQgdmFsdWVzIGFuZCBhbmltYXRlIHRvIHRoYXQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCByZW1vdmVkS2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGljdGlvbmFyeSBvZiBhbGwgZW5jb3VudGVyZWQga2V5cy4gVGhpcyBpcyBhbiBvYmplY3QgdG8gbGV0IHVzIGJ1aWxkIGludG8gYW5kXG4gICAgICAgICAqIGNvcHkgaXQgd2l0aG91dCBpdGVyYXRpb24uIEVhY2ggdGltZSB3ZSBoaXQgYW4gYW5pbWF0aW9uIHR5cGUgd2Ugc2V0IGl0cyBwcm90ZWN0ZWRcbiAgICAgICAgICoga2V5cyAtIHRoZSBrZXlzIGl0cyBub3QgYWxsb3dlZCB0byBhbmltYXRlIC0gdG8gdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IGVuY291bnRlcmVkS2V5cyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYSB2YXJpYW50IGhhcyBiZWVuIHJlbW92ZWQgYXQgYSBnaXZlbiBpbmRleCwgYW5kIHRoaXMgY29tcG9uZW50IGlzIGNvbnRyb2xsaW5nXG4gICAgICAgICAqIHZhcmlhbnQgYW5pbWF0aW9ucywgd2Ugd2FudCB0byBlbnN1cmUgbG93ZXItcHJpb3JpdHkgdmFyaWFudHMgYXJlIGZvcmNlZCB0byBhbmltYXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IHJlbW92ZWRWYXJpYW50SW5kZXggPSBJbmZpbml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgYW5pbWF0aW9uIHR5cGVzIGluIHJldmVyc2UgcHJpb3JpdHkgb3JkZXIuIEZvciBlYWNoLCB3ZSB3YW50IHRvXG4gICAgICAgICAqIGRldGVjdCB3aGljaCB2YWx1ZXMgaXQncyBoYW5kbGluZyBhbmQgd2hldGhlciBvciBub3QgdGhleSd2ZSBjaGFuZ2VkIChhbmQgdGhlcmVmb3JlXG4gICAgICAgICAqIG5lZWQgdG8gYmUgYW5pbWF0ZWQpLiBJZiBhbnkgdmFsdWVzIGhhdmUgYmVlbiByZW1vdmVkLCB3ZSB3YW50IHRvIGRldGVjdCB0aG9zZSBpblxuICAgICAgICAgKiBsb3dlciBwcmlvcml0eSBwcm9wcyBhbmQgZmxhZyBmb3IgYW5pbWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1BbmltYXRpb25UeXBlczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcmV2ZXJzZVByaW9yaXR5T3JkZXJbaV07XG4gICAgICAgICAgICBjb25zdCB0eXBlU3RhdGUgPSBzdGF0ZVt0eXBlXTtcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1t0eXBlXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBwcm9wc1t0eXBlXVxuICAgICAgICAgICAgICAgIDogY29udGV4dFt0eXBlXTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BJc1ZhcmlhbnQgPSBpc1ZhcmlhbnRMYWJlbChwcm9wKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyB0eXBlIGhhcyAqanVzdCogY2hhbmdlZCBpc0FjdGl2ZSBzdGF0dXMsIHNldCBhY3RpdmVEZWx0YVxuICAgICAgICAgICAgICogdG8gdGhhdCBzdGF0dXMuIE90aGVyd2lzZSBzZXQgdG8gbnVsbC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlRGVsdGEgPSB0eXBlID09PSBjaGFuZ2VkQWN0aXZlVHlwZSA/IHR5cGVTdGF0ZS5pc0FjdGl2ZSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoYWN0aXZlRGVsdGEgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJlbW92ZWRWYXJpYW50SW5kZXggPSBpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIHByb3AgaXMgYW4gaW5oZXJpdGVkIHZhcmlhbnQsIHJhdGhlciB0aGFuIGJlZW4gc2V0IGRpcmVjdGx5IG9uIHRoZVxuICAgICAgICAgICAgICogY29tcG9uZW50IGl0c2VsZiwgd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgYWxsb3cgdGhlIHBhcmVudCB0byB0cmlnZ2VyIGFuaW1hdGlvbnMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVE9ETzogQ2FuIHByb2JhYmx5IGNoYW5nZSB0aGlzIHRvIGEgIWlzQ29udHJvbGxpbmdWYXJpYW50cyBjaGVja1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgaXNJbmhlcml0ZWQgPSBwcm9wID09PSBjb250ZXh0W3R5cGVdICYmXG4gICAgICAgICAgICAgICAgcHJvcCAhPT0gcHJvcHNbdHlwZV0gJiZcbiAgICAgICAgICAgICAgICBwcm9wSXNWYXJpYW50O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaXNJbmhlcml0ZWQgJiZcbiAgICAgICAgICAgICAgICBpc0luaXRpYWxSZW5kZXIgJiZcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50Lm1hbnVhbGx5QW5pbWF0ZU9uTW91bnQpIHtcbiAgICAgICAgICAgICAgICBpc0luaGVyaXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgYWxsIGVuY291bnRlcmVkIGtleXMgc28gZmFyIGFzIHRoZSBwcm90ZWN0ZWQga2V5cyBmb3IgdGhpcyB0eXBlLiBUaGlzIHdpbGxcbiAgICAgICAgICAgICAqIGJlIGFueSBrZXkgdGhhdCBoYXMgYmVlbiBhbmltYXRlZCBvciBvdGhlcndpc2UgaGFuZGxlZCBieSBhY3RpdmUsIGhpZ2hlci1wcmlvcnRpeSB0eXBlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHlwZVN0YXRlLnByb3RlY3RlZEtleXMgPSB7IC4uLmVuY291bnRlcmVkS2V5cyB9O1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgY2FuIHNraXAgYW5hbHlzaW5nIHRoaXMgcHJvcCBlYXJseVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gSWYgaXQgaXNuJ3QgYWN0aXZlIGFuZCBoYXNuJ3QgKmp1c3QqIGJlZW4gc2V0IGFzIGluYWN0aXZlXG4gICAgICAgICAgICAoIXR5cGVTdGF0ZS5pc0FjdGl2ZSAmJiBhY3RpdmVEZWx0YSA9PT0gbnVsbCkgfHxcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgYW5kIGRvbid0IGhhdmUgYW55IGRlZmluZWQgcHJvcCBmb3IgdGhpcyBhbmltYXRpb24gdHlwZVxuICAgICAgICAgICAgICAgICghcHJvcCAmJiAhdHlwZVN0YXRlLnByZXZQcm9wKSB8fFxuICAgICAgICAgICAgICAgIC8vIE9yIGlmIHRoZSBwcm9wIGRvZXNuJ3QgZGVmaW5lIGFuIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIGlzQW5pbWF0aW9uQ29udHJvbHMocHJvcCkgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgcHJvcCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXMgd2UgZ28gbG9vayB0aHJvdWdoIHRoZSB2YWx1ZXMgZGVmaW5lZCBvbiB0aGlzIHR5cGUsIGlmIHdlIGRldGVjdFxuICAgICAgICAgICAgICogYSBjaGFuZ2VkIHZhbHVlIG9yIGEgdmFsdWUgdGhhdCB3YXMgcmVtb3ZlZCBpbiBhIGhpZ2hlciBwcmlvcml0eSwgd2Ugc2V0XG4gICAgICAgICAgICAgKiB0aGlzIHRvIHRydWUgYW5kIGFkZCB0aGlzIHByb3AgdG8gdGhlIGFuaW1hdGlvbiBsaXN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCB2YXJpYW50RGlkQ2hhbmdlID0gY2hlY2tWYXJpYW50c0RpZENoYW5nZSh0eXBlU3RhdGUucHJldlByb3AsIHByb3ApO1xuICAgICAgICAgICAgbGV0IHNob3VsZEFuaW1hdGVUeXBlID0gdmFyaWFudERpZENoYW5nZSB8fFxuICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIG1ha2luZyB0aGlzIHZhcmlhbnQgYWN0aXZlLCB3ZSB3YW50IHRvIGFsd2F5cyBtYWtlIGl0IGFjdGl2ZVxuICAgICAgICAgICAgICAgICh0eXBlID09PSBjaGFuZ2VkQWN0aXZlVHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlU3RhdGUuaXNBY3RpdmUgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzSW5oZXJpdGVkICYmXG4gICAgICAgICAgICAgICAgICAgIHByb3BJc1ZhcmlhbnQpIHx8XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVtb3ZlZCBhIGhpZ2hlci1wcmlvcml0eSB2YXJpYW50IChpIGlzIGluIHJldmVyc2Ugb3JkZXIpXG4gICAgICAgICAgICAgICAgKGkgPiByZW1vdmVkVmFyaWFudEluZGV4ICYmIHByb3BJc1ZhcmlhbnQpO1xuICAgICAgICAgICAgbGV0IGhhbmRsZWRSZW1vdmVkVmFsdWVzID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFzIGFuaW1hdGlvbnMgY2FuIGJlIHNldCBhcyB2YXJpYW50IGxpc3RzLCB2YXJpYW50cyBvciB0YXJnZXQgb2JqZWN0cywgd2VcbiAgICAgICAgICAgICAqIGNvZXJjZSBldmVyeXRoaW5nIHRvIGFuIGFycmF5IGlmIGl0IGlzbid0IG9uZSBhbHJlYWR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb25MaXN0ID0gQXJyYXkuaXNBcnJheShwcm9wKSA/IHByb3AgOiBbcHJvcF07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJ1aWxkIGFuIG9iamVjdCBvZiBhbGwgdGhlIHJlc29sdmVkIHZhbHVlcy4gV2UnbGwgdXNlIHRoaXMgaW4gdGhlIHN1YnNlcXVlbnRcbiAgICAgICAgICAgICAqIGFuaW1hdGVDaGFuZ2VzIGNhbGxzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgdmFsdWUgaGFzIGNoYW5nZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCByZXNvbHZlZFZhbHVlcyA9IGRlZmluaXRpb25MaXN0LnJlZHVjZShidWlsZFJlc29sdmVkVHlwZVZhbHVlcyh0eXBlKSwge30pO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZURlbHRhID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXNvbHZlZFZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBOb3cgd2UgbmVlZCB0byBsb29wIHRocm91Z2ggYWxsIHRoZSBrZXlzIGluIHRoZSBwcmV2IHByb3AgYW5kIHRoaXMgcHJvcCxcbiAgICAgICAgICAgICAqIGFuZCBkZWNpZGU6XG4gICAgICAgICAgICAgKiAxLiBJZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQsIGFuZCBuZWVkcyBhbmltYXRpbmdcbiAgICAgICAgICAgICAqIDIuIElmIGl0IGhhcyBiZWVuIHJlbW92ZWQsIGFuZCBuZWVkcyBhZGRpbmcgdG8gdGhlIHJlbW92ZWRLZXlzIHNldFxuICAgICAgICAgICAgICogMy4gSWYgaXQgaGFzIGJlZW4gcmVtb3ZlZCBpbiBhIGhpZ2hlciBwcmlvcml0eSB0eXBlIGFuZCBuZWVkcyBhbmltYXRpbmdcbiAgICAgICAgICAgICAqIDQuIElmIGl0IGhhc24ndCBiZWVuIHJlbW92ZWQgaW4gYSBoaWdoZXIgcHJpb3JpdHkgYnV0IGhhc24ndCBjaGFuZ2VkLCBhbmRcbiAgICAgICAgICAgICAqICAgIG5lZWRzIGFkZGluZyB0byB0aGUgdHlwZSdzIHByb3RlY3RlZEtleXMgbGlzdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgeyBwcmV2UmVzb2x2ZWRWYWx1ZXMgPSB7fSB9ID0gdHlwZVN0YXRlO1xuICAgICAgICAgICAgY29uc3QgYWxsS2V5cyA9IHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2UmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAgICAgICAgICAgLi4ucmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbWFya1RvQW5pbWF0ZSA9IChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzaG91bGRBbmltYXRlVHlwZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWRSZW1vdmVkVmFsdWVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZEtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHR5cGVTdGF0ZS5uZWVkc0FuaW1hdGluZ1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3Rpb25WYWx1ZSA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAobW90aW9uVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIG1vdGlvblZhbHVlLmxpdmVTdHlsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gcmVzb2x2ZWRWYWx1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gcHJldlJlc29sdmVkVmFsdWVzW2tleV07XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoaXMgd2UgY2FuIGp1c3Qgc2tpcCBhaGVhZFxuICAgICAgICAgICAgICAgIGlmIChlbmNvdW50ZXJlZEtleXMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkLCB3ZSBwcm9iYWJseSB3YW50IHRvIGFuaW1hdGUgaXQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlSGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChpc0tleWZyYW1lc1RhcmdldChuZXh0KSAmJiBpc0tleWZyYW1lc1RhcmdldChwcmV2KSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZUhhc0NoYW5nZWQgPSAhc2hhbGxvd0NvbXBhcmUobmV4dCwgcHJldik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZUhhc0NoYW5nZWQgPSBuZXh0ICE9PSBwcmV2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWVIYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgbmV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgbmV4dCBpcyBkZWZpbmVkIGFuZCBkb2Vzbid0IGVxdWFsIHByZXYsIGl0IG5lZWRzIGFuaW1hdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya1RvQW5pbWF0ZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQncyB1bmRlZmluZWQsIGl0J3MgYmVlbiByZW1vdmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZEtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmIHJlbW92ZWRLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiBuZXh0IGhhc24ndCBjaGFuZ2VkIGFuZCBpdCBpc24ndCB1bmRlZmluZWQsIHdlIHdhbnQgdG8gY2hlY2sgaWYgaXQnc1xuICAgICAgICAgICAgICAgICAgICAgKiBiZWVuIHJlbW92ZWQgYnkgYSBoaWdoZXIgcHJpb3JpdHlcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIG1hcmtUb0FuaW1hdGUoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiBpdCBoYXNuJ3QgY2hhbmdlZCwgd2UgYWRkIGl0IHRvIHRoZSBsaXN0IG9mIHByb3RlY3RlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICogdG8gZW5zdXJlIGl0IGRvZXNuJ3QgZ2V0IGFuaW1hdGVkLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgdHlwZVN0YXRlLnByb3RlY3RlZEtleXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGUgdGhlIHR5cGVTdGF0ZSBzbyBuZXh0IHRpbWUgYW5pbWF0ZUNoYW5nZXMgaXMgY2FsbGVkIHdlIGNhbiBjb21wYXJlIHRoZVxuICAgICAgICAgICAgICogbGF0ZXN0IHByb3AgYW5kIHJlc29sdmVkVmFsdWVzIHRvIHRoZXNlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0eXBlU3RhdGUucHJldlByb3AgPSBwcm9wO1xuICAgICAgICAgICAgdHlwZVN0YXRlLnByZXZSZXNvbHZlZFZhbHVlcyA9IHJlc29sdmVkVmFsdWVzO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodHlwZVN0YXRlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgZW5jb3VudGVyZWRLZXlzID0geyAuLi5lbmNvdW50ZXJlZEtleXMsIC4uLnJlc29sdmVkVmFsdWVzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNJbml0aWFsUmVuZGVyICYmIHZpc3VhbEVsZW1lbnQuYmxvY2tJbml0aWFsQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkQW5pbWF0ZVR5cGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhbiBpbmhlcml0ZWQgcHJvcCB3ZSB3YW50IHRvIHNraXAgdGhpcyBhbmltYXRpb25cbiAgICAgICAgICAgICAqIHVubGVzcyB0aGUgaW5oZXJpdGVkIHZhcmlhbnRzIGhhdmVuJ3QgY2hhbmdlZCBvbiB0aGlzIHJlbmRlci5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qgd2lsbEFuaW1hdGVWaWFQYXJlbnQgPSBpc0luaGVyaXRlZCAmJiB2YXJpYW50RGlkQ2hhbmdlO1xuICAgICAgICAgICAgY29uc3QgbmVlZHNBbmltYXRpbmcgPSAhd2lsbEFuaW1hdGVWaWFQYXJlbnQgfHwgaGFuZGxlZFJlbW92ZWRWYWx1ZXM7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQW5pbWF0ZVR5cGUgJiYgbmVlZHNBbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goLi4uZGVmaW5pdGlvbkxpc3QubWFwKChhbmltYXRpb24pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogYW5pbWF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7IHR5cGUgfSxcbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGVyZSBhcmUgc29tZSByZW1vdmVkIHZhbHVlIHRoYXQgaGF2ZW4ndCBiZWVuIGRlYWx0IHdpdGgsXG4gICAgICAgICAqIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IGFuaW1hdGlvbiB0aGF0IGZhbGxzIGJhY2sgZWl0aGVyIHRvIHRoZSB2YWx1ZVxuICAgICAgICAgKiBkZWZpbmVkIGluIHRoZSBzdHlsZSBwcm9wLCBvciB0aGUgbGFzdCByZWFkIHZhbHVlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHJlbW92ZWRLZXlzLnNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrQW5pbWF0aW9uID0ge307XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSBpbml0aWFsIHByb3AgY29udGFpbnMgYSB0cmFuc2l0aW9uIHdlIGNhbiB1c2UgdGhhdCwgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgKiBhbGxvdyB0aGUgYW5pbWF0aW9uIGZ1bmN0aW9uIHRvIHVzZSB0aGUgdmlzdWFsIGVsZW1lbnQncyBkZWZhdWx0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BzLmluaXRpYWwgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbFRyYW5zaXRpb24gPSByZXNvbHZlVmFyaWFudCh2aXN1YWxFbGVtZW50LCBBcnJheS5pc0FycmF5KHByb3BzLmluaXRpYWwpXG4gICAgICAgICAgICAgICAgICAgID8gcHJvcHMuaW5pdGlhbFswXVxuICAgICAgICAgICAgICAgICAgICA6IHByb3BzLmluaXRpYWwpO1xuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsVHJhbnNpdGlvbiAmJiBpbml0aWFsVHJhbnNpdGlvbi50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQW5pbWF0aW9uLnRyYW5zaXRpb24gPSBpbml0aWFsVHJhbnNpdGlvbi50cmFuc2l0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZWRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrVGFyZ2V0ID0gdmlzdWFsRWxlbWVudC5nZXRCYXNlVGFyZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW90aW9uVmFsdWUgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKG1vdGlvblZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBtb3Rpb25WYWx1ZS5saXZlU3R5bGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBAbWF0dGdwZXJyeSB0byBmaWd1cmUgaWYgd2Ugc2hvdWxkIGRvIHNvbWV0aGluZyBoZXJlXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tBbmltYXRpb25ba2V5XSA9IGZhbGxiYWNrVGFyZ2V0ID8/IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaCh7IGFuaW1hdGlvbjogZmFsbGJhY2tBbmltYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNob3VsZEFuaW1hdGUgPSBCb29sZWFuKGFuaW1hdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgaWYgKGlzSW5pdGlhbFJlbmRlciAmJlxuICAgICAgICAgICAgKHByb3BzLmluaXRpYWwgPT09IGZhbHNlIHx8IHByb3BzLmluaXRpYWwgPT09IHByb3BzLmFuaW1hdGUpICYmXG4gICAgICAgICAgICAhdmlzdWFsRWxlbWVudC5tYW51YWxseUFuaW1hdGVPbk1vdW50KSB7XG4gICAgICAgICAgICBzaG91bGRBbmltYXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaXNJbml0aWFsUmVuZGVyID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzaG91bGRBbmltYXRlID8gYW5pbWF0ZShhbmltYXRpb25zKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2Ugd2hldGhlciBhIGNlcnRhaW4gYW5pbWF0aW9uIHR5cGUgaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldEFjdGl2ZSh0eXBlLCBpc0FjdGl2ZSkge1xuICAgICAgICAvLyBJZiB0aGUgYWN0aXZlIHN0YXRlIGhhc24ndCBjaGFuZ2VkLCB3ZSBjYW4gc2FmZWx5IGRvIG5vdGhpbmcgaGVyZVxuICAgICAgICBpZiAoc3RhdGVbdHlwZV0uaXNBY3RpdmUgPT09IGlzQWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAvLyBQcm9wYWdhdGUgYWN0aXZlIGNoYW5nZSB0byBjaGlsZHJlblxuICAgICAgICB2aXN1YWxFbGVtZW50LnZhcmlhbnRDaGlsZHJlbj8uZm9yRWFjaCgoY2hpbGQpID0+IGNoaWxkLmFuaW1hdGlvblN0YXRlPy5zZXRBY3RpdmUodHlwZSwgaXNBY3RpdmUpKTtcbiAgICAgICAgc3RhdGVbdHlwZV0uaXNBY3RpdmUgPSBpc0FjdGl2ZTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IGFuaW1hdGVDaGFuZ2VzKHR5cGUpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGVba2V5XS5wcm90ZWN0ZWRLZXlzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1hdGVDaGFuZ2VzLFxuICAgICAgICBzZXRBY3RpdmUsXG4gICAgICAgIHNldEFuaW1hdGVGdW5jdGlvbixcbiAgICAgICAgZ2V0U3RhdGU6ICgpID0+IHN0YXRlLFxuICAgICAgICByZXNldDogKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUgPSBjcmVhdGVTdGF0ZSgpO1xuICAgICAgICAgICAgaXNJbml0aWFsUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hlY2tWYXJpYW50c0RpZENoYW5nZShwcmV2LCBuZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBuZXh0ICE9PSBwcmV2O1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgICAgIHJldHVybiAhc2hhbGxvd0NvbXBhcmUobmV4dCwgcHJldik7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVR5cGVTdGF0ZShpc0FjdGl2ZSA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgIHByb3RlY3RlZEtleXM6IHt9LFxuICAgICAgICBuZWVkc0FuaW1hdGluZzoge30sXG4gICAgICAgIHByZXZSZXNvbHZlZFZhbHVlczoge30sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1hdGU6IGNyZWF0ZVR5cGVTdGF0ZSh0cnVlKSxcbiAgICAgICAgd2hpbGVJblZpZXc6IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICB3aGlsZUhvdmVyOiBjcmVhdGVUeXBlU3RhdGUoKSxcbiAgICAgICAgd2hpbGVUYXA6IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICB3aGlsZURyYWc6IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICB3aGlsZUZvY3VzOiBjcmVhdGVUeXBlU3RhdGUoKSxcbiAgICAgICAgZXhpdDogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgY2hlY2tWYXJpYW50c0RpZENoYW5nZSwgY3JlYXRlQW5pbWF0aW9uU3RhdGUgfTtcbiIsICJpbXBvcnQgeyByZXNvbHZlVmFyaWFudCB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9yZXNvbHZlLWR5bmFtaWMtdmFyaWFudHMubWpzJztcbmltcG9ydCB7IGFuaW1hdGVUYXJnZXQgfSBmcm9tICcuL3Zpc3VhbC1lbGVtZW50LXRhcmdldC5tanMnO1xuaW1wb3J0IHsgYW5pbWF0ZVZhcmlhbnQgfSBmcm9tICcuL3Zpc3VhbC1lbGVtZW50LXZhcmlhbnQubWpzJztcblxuZnVuY3Rpb24gYW5pbWF0ZVZpc3VhbEVsZW1lbnQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmlzdWFsRWxlbWVudC5ub3RpZnkoXCJBbmltYXRpb25TdGFydFwiLCBkZWZpbml0aW9uKTtcbiAgICBsZXQgYW5pbWF0aW9uO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24pKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBkZWZpbml0aW9uLm1hcCgodmFyaWFudCkgPT4gYW5pbWF0ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgdmFyaWFudCwgb3B0aW9ucykpO1xuICAgICAgICBhbmltYXRpb24gPSBQcm9taXNlLmFsbChhbmltYXRpb25zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYW5pbWF0aW9uID0gYW5pbWF0ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZXNvbHZlZERlZmluaXRpb24gPSB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICA/IHJlc29sdmVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIG9wdGlvbnMuY3VzdG9tKVxuICAgICAgICAgICAgOiBkZWZpbml0aW9uO1xuICAgICAgICBhbmltYXRpb24gPSBQcm9taXNlLmFsbChhbmltYXRlVGFyZ2V0KHZpc3VhbEVsZW1lbnQsIHJlc29sdmVkRGVmaW5pdGlvbiwgb3B0aW9ucykpO1xuICAgIH1cbiAgICByZXR1cm4gYW5pbWF0aW9uLnRoZW4oKCkgPT4ge1xuICAgICAgICB2aXN1YWxFbGVtZW50Lm5vdGlmeShcIkFuaW1hdGlvbkNvbXBsZXRlXCIsIGRlZmluaXRpb24pO1xuICAgIH0pO1xufVxuXG5leHBvcnQgeyBhbmltYXRlVmlzdWFsRWxlbWVudCB9O1xuIiwgImltcG9ydCB7IHJlc29sdmVWYXJpYW50RnJvbVByb3BzIH0gZnJvbSAnLi9yZXNvbHZlLXZhcmlhbnRzLm1qcyc7XG5cbmZ1bmN0aW9uIHJlc29sdmVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIGN1c3RvbSkge1xuICAgIGNvbnN0IHByb3BzID0gdmlzdWFsRWxlbWVudC5nZXRQcm9wcygpO1xuICAgIHJldHVybiByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyhwcm9wcywgZGVmaW5pdGlvbiwgY3VzdG9tICE9PSB1bmRlZmluZWQgPyBjdXN0b20gOiBwcm9wcy5jdXN0b20sIHZpc3VhbEVsZW1lbnQpO1xufVxuXG5leHBvcnQgeyByZXNvbHZlVmFyaWFudCB9O1xuIiwgImltcG9ydCB7IHNldFRhcmdldCB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9zZXR0ZXJzLm1qcyc7XG5pbXBvcnQgeyBhZGRWYWx1ZVRvV2lsbENoYW5nZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3VzZS13aWxsLWNoYW5nZS9hZGQtd2lsbC1jaGFuZ2UubWpzJztcbmltcG9ydCB7IGdldE9wdGltaXNlZEFwcGVhcklkIH0gZnJvbSAnLi4vb3B0aW1pemVkLWFwcGVhci9nZXQtYXBwZWFyLWlkLm1qcyc7XG5pbXBvcnQgeyBhbmltYXRlTW90aW9uVmFsdWUgfSBmcm9tICcuL21vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVUcmFuc2l0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9nZXQtdmFsdWUtdHJhbnNpdGlvbi5tanMnO1xuaW1wb3J0IHsgZnJhbWUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5pbXBvcnQgeyBwb3NpdGlvbmFsS2V5cyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9yZW5kZXIvdXRpbHMva2V5cy1wb3NpdGlvbi5tanMnO1xuXG4vKipcbiAqIERlY2lkZSB3aGV0aGVyIHdlIHNob3VsZCBibG9jayB0aGlzIGFuaW1hdGlvbi4gUHJldmlvdXNseSwgd2UgYWNoaWV2ZWQgdGhpc1xuICoganVzdCBieSBjaGVja2luZyB3aGV0aGVyIHRoZSBrZXkgd2FzIGxpc3RlZCBpbiBwcm90ZWN0ZWRLZXlzLCBidXQgdGhpc1xuICogcG9zZWQgcHJvYmxlbXMgaWYgYW4gYW5pbWF0aW9uIHdhcyB0cmlnZ2VyZWQgYnkgYWZ0ZXJDaGlsZHJlbiBhbmQgcHJvdGVjdGVkS2V5c1xuICogaGFkIGJlZW4gc2V0IHRvIHRydWUgaW4gdGhlIG1lYW50aW1lLlxuICovXG5mdW5jdGlvbiBzaG91bGRCbG9ja0FuaW1hdGlvbih7IHByb3RlY3RlZEtleXMsIG5lZWRzQW5pbWF0aW5nIH0sIGtleSkge1xuICAgIGNvbnN0IHNob3VsZEJsb2NrID0gcHJvdGVjdGVkS2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIG5lZWRzQW5pbWF0aW5nW2tleV0gIT09IHRydWU7XG4gICAgbmVlZHNBbmltYXRpbmdba2V5XSA9IGZhbHNlO1xuICAgIHJldHVybiBzaG91bGRCbG9jaztcbn1cbmZ1bmN0aW9uIGFuaW1hdGVUYXJnZXQodmlzdWFsRWxlbWVudCwgdGFyZ2V0QW5kVHJhbnNpdGlvbiwgeyBkZWxheSA9IDAsIHRyYW5zaXRpb25PdmVycmlkZSwgdHlwZSB9ID0ge30pIHtcbiAgICBsZXQgeyB0cmFuc2l0aW9uID0gdmlzdWFsRWxlbWVudC5nZXREZWZhdWx0VHJhbnNpdGlvbigpLCB0cmFuc2l0aW9uRW5kLCAuLi50YXJnZXQgfSA9IHRhcmdldEFuZFRyYW5zaXRpb247XG4gICAgaWYgKHRyYW5zaXRpb25PdmVycmlkZSlcbiAgICAgICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb25PdmVycmlkZTtcbiAgICBjb25zdCBhbmltYXRpb25zID0gW107XG4gICAgY29uc3QgYW5pbWF0aW9uVHlwZVN0YXRlID0gdHlwZSAmJlxuICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlICYmXG4gICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUuZ2V0U3RhdGUoKVt0eXBlXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSwgdmlzdWFsRWxlbWVudC5sYXRlc3RWYWx1ZXNba2V5XSA/PyBudWxsKTtcbiAgICAgICAgY29uc3QgdmFsdWVUYXJnZXQgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlVGFyZ2V0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIChhbmltYXRpb25UeXBlU3RhdGUgJiZcbiAgICAgICAgICAgICAgICBzaG91bGRCbG9ja0FuaW1hdGlvbihhbmltYXRpb25UeXBlU3RhdGUsIGtleSkpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZVRyYW5zaXRpb24gPSB7XG4gICAgICAgICAgICBkZWxheSxcbiAgICAgICAgICAgIC4uLmdldFZhbHVlVHJhbnNpdGlvbih0cmFuc2l0aW9uIHx8IHt9LCBrZXkpLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHZhbHVlIGlzIGFscmVhZHkgYXQgdGhlIGRlZmluZWQgdGFyZ2V0LCBza2lwIHRoZSBhbmltYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB2YWx1ZS5nZXQoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAhdmFsdWUuaXNBbmltYXRpbmcgJiZcbiAgICAgICAgICAgICFBcnJheS5pc0FycmF5KHZhbHVlVGFyZ2V0KSAmJlxuICAgICAgICAgICAgdmFsdWVUYXJnZXQgPT09IGN1cnJlbnRWYWx1ZSAmJlxuICAgICAgICAgICAgIXZhbHVlVHJhbnNpdGlvbi52ZWxvY2l0eSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgYSB2YWx1ZSBpcyBiZWluZyBhbmltYXRlZCwgY2hlY2tcbiAgICAgICAgICogdG8gc2VlIGlmIHdlJ3JlIGhhbmRsaW5nIG9mZiBmcm9tIGFuIGV4aXN0aW5nIGFuaW1hdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGxldCBpc0hhbmRvZmYgPSBmYWxzZTtcbiAgICAgICAgaWYgKHdpbmRvdy5Nb3Rpb25IYW5kb2ZmQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBhcHBlYXJJZCA9IGdldE9wdGltaXNlZEFwcGVhcklkKHZpc3VhbEVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGFwcGVhcklkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gd2luZG93Lk1vdGlvbkhhbmRvZmZBbmltYXRpb24oYXBwZWFySWQsIGtleSwgZnJhbWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydFRpbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUcmFuc2l0aW9uLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgaXNIYW5kb2ZmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWRkVmFsdWVUb1dpbGxDaGFuZ2UodmlzdWFsRWxlbWVudCwga2V5KTtcbiAgICAgICAgdmFsdWUuc3RhcnQoYW5pbWF0ZU1vdGlvblZhbHVlKGtleSwgdmFsdWUsIHZhbHVlVGFyZ2V0LCB2aXN1YWxFbGVtZW50LnNob3VsZFJlZHVjZU1vdGlvbiAmJiBwb3NpdGlvbmFsS2V5cy5oYXMoa2V5KVxuICAgICAgICAgICAgPyB7IHR5cGU6IGZhbHNlIH1cbiAgICAgICAgICAgIDogdmFsdWVUcmFuc2l0aW9uLCB2aXN1YWxFbGVtZW50LCBpc0hhbmRvZmYpKTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gdmFsdWUuYW5pbWF0aW9uO1xuICAgICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHJhbnNpdGlvbkVuZCkge1xuICAgICAgICBQcm9taXNlLmFsbChhbmltYXRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZyYW1lLnVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZCAmJiBzZXRUYXJnZXQodmlzdWFsRWxlbWVudCwgdHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhbmltYXRpb25zO1xufVxuXG5leHBvcnQgeyBhbmltYXRlVGFyZ2V0IH07XG4iLCAiaW1wb3J0IHsgaXNLZXlmcmFtZXNUYXJnZXQgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvaXMta2V5ZnJhbWVzLXRhcmdldC5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnQgfSBmcm9tICcuL3Jlc29sdmUtZHluYW1pYy12YXJpYW50cy5tanMnO1xuaW1wb3J0IHsgbW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvaW5kZXgubWpzJztcblxuLyoqXG4gKiBTZXQgVmlzdWFsRWxlbWVudCdzIE1vdGlvblZhbHVlLCBjcmVhdGluZyBhIG5ldyBNb3Rpb25WYWx1ZSBmb3IgaXQgaWZcbiAqIGl0IGRvZXNuJ3QgZXhpc3QuXG4gKi9cbmZ1bmN0aW9uIHNldE1vdGlvblZhbHVlKHZpc3VhbEVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgICBpZiAodmlzdWFsRWxlbWVudC5oYXNWYWx1ZShrZXkpKSB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoa2V5KS5zZXQodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmlzdWFsRWxlbWVudC5hZGRWYWx1ZShrZXksIG1vdGlvblZhbHVlKHZhbHVlKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyh2KSB7XG4gICAgLy8gVE9ETyBtYXliZSB0aHJvdyBpZiB2Lmxlbmd0aCAtIDEgaXMgcGxhY2Vob2xkZXIgdG9rZW4/XG4gICAgcmV0dXJuIGlzS2V5ZnJhbWVzVGFyZ2V0KHYpID8gdlt2Lmxlbmd0aCAtIDFdIHx8IDAgOiB2O1xufVxuZnVuY3Rpb24gc2V0VGFyZ2V0KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24pIHtcbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24pO1xuICAgIGxldCB7IHRyYW5zaXRpb25FbmQgPSB7fSwgdHJhbnNpdGlvbiA9IHt9LCAuLi50YXJnZXQgfSA9IHJlc29sdmVkIHx8IHt9O1xuICAgIHRhcmdldCA9IHsgLi4udGFyZ2V0LCAuLi50cmFuc2l0aW9uRW5kIH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyh0YXJnZXRba2V5XSk7XG4gICAgICAgIHNldE1vdGlvblZhbHVlKHZpc3VhbEVsZW1lbnQsIGtleSwgdmFsdWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgc2V0VGFyZ2V0IH07XG4iLCAiY29uc3QgaXNLZXlmcmFtZXNUYXJnZXQgPSAodikgPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHYpO1xufTtcblxuZXhwb3J0IHsgaXNLZXlmcmFtZXNUYXJnZXQgfTtcbiIsICJpbXBvcnQgeyB0aW1lIH0gZnJvbSAnLi4vZnJhbWVsb29wL3N5bmMtdGltZS5tanMnO1xuaW1wb3J0IHsgZnJhbWUgfSBmcm9tICcuLi9mcmFtZWxvb3AvZnJhbWUubWpzJztcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvd2Fybi1vbmNlLm1qcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvc3Vic2NyaXB0aW9uLW1hbmFnZXIubWpzJztcbmltcG9ydCB7IHZlbG9jaXR5UGVyU2Vjb25kIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvdmVsb2NpdHktcGVyLXNlY29uZC5tanMnO1xuXG4vKipcbiAqIE1heGltdW0gdGltZSBiZXR3ZWVuIHRoZSB2YWx1ZSBvZiB0d28gZnJhbWVzLCBiZXlvbmQgd2hpY2ggd2VcbiAqIGFzc3VtZSB0aGUgdmVsb2NpdHkgaGFzIHNpbmNlIGJlZW4gMC5cbiAqL1xuY29uc3QgTUFYX1ZFTE9DSVRZX0RFTFRBID0gMzA7XG5jb25zdCBpc0Zsb2F0ID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KHZhbHVlKSk7XG59O1xuY29uc3QgY29sbGVjdE1vdGlvblZhbHVlcyA9IHtcbiAgICBjdXJyZW50OiB1bmRlZmluZWQsXG59O1xuLyoqXG4gKiBgTW90aW9uVmFsdWVgIGlzIHVzZWQgdG8gdHJhY2sgdGhlIHN0YXRlIGFuZCB2ZWxvY2l0eSBvZiBtb3Rpb24gdmFsdWVzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgTW90aW9uVmFsdWUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBpbml0IC0gVGhlIGluaXRpYXRpbmcgdmFsdWVcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAgICpcbiAgICAgKiAtICBgdHJhbnNmb3JtZXJgOiBBIGZ1bmN0aW9uIHRvIHRyYW5zZm9ybSBpbmNvbWluZyB2YWx1ZXMgd2l0aC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihpbml0LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgYnVpbGQgc3RlcCB3aXRoIHRoZSBsYXRlc3QgdmVyc2lvbiBudW1iZXIuXG4gICAgICAgICAqIFdoZW4gTW90aW9uVmFsdWVzIGFyZSBwcm92aWRlZCB0byBtb3Rpb24gY29tcG9uZW50cywgd2FybiBpZiB2ZXJzaW9ucyBhcmUgbWl4ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBcIjEyLjkuMVwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIHdoZXRoZXIgdGhpcyB2YWx1ZSBjYW4gb3V0cHV0IGEgdmVsb2NpdHkuIEN1cnJlbnRseSB0aGlzIGlzIG9ubHkgdHJ1ZVxuICAgICAgICAgKiBpZiB0aGUgdmFsdWUgaXMgbnVtZXJpY2FsLCBidXQgd2UgbWlnaHQgYmUgYWJsZSB0byB3aWRlbiB0aGUgc2NvcGUgaGVyZSBhbmQgc3VwcG9ydFxuICAgICAgICAgKiBvdGhlciB2YWx1ZSB0eXBlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhblRyYWNrVmVsb2NpdHkgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBTdWJzY3JpcHRpb25NYW5hZ2VyIGZvciBlYWNoIGFjdGl2ZSBldmVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgICAgIHRoaXMudXBkYXRlQW5kTm90aWZ5ID0gKHYsIHJlbmRlciA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGltZS5ub3coKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgdXBkYXRpbmcgdGhlIHZhbHVlIGR1cmluZyBhbm90aGVyIGZyYW1lIG9yIGV2ZW50bG9vcFxuICAgICAgICAgICAgICogdGhhbiB0aGUgcHJldmlvdXMgZnJhbWUsIHRoZW4gdGhlIHdlIHNldCB0aGUgcHJldmlvdXMgZnJhbWUgdmFsdWVcbiAgICAgICAgICAgICAqIHRvIGN1cnJlbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZWRBdCAhPT0gY3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByZXZGcmFtZVZhbHVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnByZXYgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnJlbnQodik7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdXBkYXRlIHN1YnNjcmliZXJzXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5jaGFuZ2U/Lm5vdGlmeSh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIHJlbmRlciBzdWJzY3JpYmVyc1xuICAgICAgICAgICAgaWYgKHJlbmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnJlbmRlclJlcXVlc3Q/Lm5vdGlmeSh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhc0FuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudChpbml0KTtcbiAgICAgICAgdGhpcy5vd25lciA9IG9wdGlvbnMub3duZXI7XG4gICAgfVxuICAgIHNldEN1cnJlbnQoY3VycmVudCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBjdXJyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZWRBdCA9IHRpbWUubm93KCk7XG4gICAgICAgIGlmICh0aGlzLmNhblRyYWNrVmVsb2NpdHkgPT09IG51bGwgJiYgY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhblRyYWNrVmVsb2NpdHkgPSBpc0Zsb2F0KHRoaXMuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UHJldkZyYW1lVmFsdWUocHJldkZyYW1lVmFsdWUgPSB0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgdGhpcy5wcmV2RnJhbWVWYWx1ZSA9IHByZXZGcmFtZVZhbHVlO1xuICAgICAgICB0aGlzLnByZXZVcGRhdGVkQXQgPSB0aGlzLnVwZGF0ZWRBdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBub3RpZmllZCB3aGVuIHRoZSBgTW90aW9uVmFsdWVgIGlzIHVwZGF0ZWQuXG4gICAgICpcbiAgICAgKiBJdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIHdpbGwgY2FuY2VsIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxpbmcgYG9uQ2hhbmdlYCBpbnNpZGUgYSBSZWFjdCBjb21wb25lbnQsIGl0IHNob3VsZCBiZSB3cmFwcGVkIHdpdGggdGhlXG4gICAgICogYHVzZUVmZmVjdGAgaG9vay4gQXMgaXQgcmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbiwgdGhpcyBzaG91bGQgYmUgcmV0dXJuZWRcbiAgICAgKiBmcm9tIHRoZSBgdXNlRWZmZWN0YCBmdW5jdGlvbiB0byBlbnN1cmUgeW91IGRvbid0IGFkZCBkdXBsaWNhdGUgc3Vic2NyaWJlcnMuLlxuICAgICAqXG4gICAgICogYGBganN4XG4gICAgICogZXhwb3J0IGNvbnN0IE15Q29tcG9uZW50ID0gKCkgPT4ge1xuICAgICAqICAgY29uc3QgeCA9IHVzZU1vdGlvblZhbHVlKDApXG4gICAgICogICBjb25zdCB5ID0gdXNlTW90aW9uVmFsdWUoMClcbiAgICAgKiAgIGNvbnN0IG9wYWNpdHkgPSB1c2VNb3Rpb25WYWx1ZSgxKVxuICAgICAqXG4gICAgICogICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAqICAgICBmdW5jdGlvbiB1cGRhdGVPcGFjaXR5KCkge1xuICAgICAqICAgICAgIGNvbnN0IG1heFhZID0gTWF0aC5tYXgoeC5nZXQoKSwgeS5nZXQoKSlcbiAgICAgKiAgICAgICBjb25zdCBuZXdPcGFjaXR5ID0gdHJhbnNmb3JtKG1heFhZLCBbMCwgMTAwXSwgWzEsIDBdKVxuICAgICAqICAgICAgIG9wYWNpdHkuc2V0KG5ld09wYWNpdHkpXG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqICAgICBjb25zdCB1bnN1YnNjcmliZVggPSB4Lm9uKFwiY2hhbmdlXCIsIHVwZGF0ZU9wYWNpdHkpXG4gICAgICogICAgIGNvbnN0IHVuc3Vic2NyaWJlWSA9IHkub24oXCJjaGFuZ2VcIiwgdXBkYXRlT3BhY2l0eSlcbiAgICAgKlxuICAgICAqICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAqICAgICAgIHVuc3Vic2NyaWJlWCgpXG4gICAgICogICAgICAgdW5zdWJzY3JpYmVZKClcbiAgICAgKiAgICAgfVxuICAgICAqICAgfSwgW10pXG4gICAgICpcbiAgICAgKiAgIHJldHVybiA8bW90aW9uLmRpdiBzdHlsZT17eyB4IH19IC8+XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHN1YnNjcmliZXIgLSBBIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgdGhlIGxhdGVzdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCB3aWxsIGNhbmNlbCB0aGlzIHN1YnNjcmlwdGlvbi5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgb25DaGFuZ2Uoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKGZhbHNlLCBgdmFsdWUub25DaGFuZ2UoY2FsbGJhY2spIGlzIGRlcHJlY2F0ZWQuIFN3aXRjaCB0byB2YWx1ZS5vbihcImNoYW5nZVwiLCBjYWxsYmFjaykuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub24oXCJjaGFuZ2VcIiwgc3Vic2NyaXB0aW9uKTtcbiAgICB9XG4gICAgb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gdGhpcy5ldmVudHNbZXZlbnROYW1lXS5hZGQoY2FsbGJhY2spO1xuICAgICAgICBpZiAoZXZlbnROYW1lID09PSBcImNoYW5nZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgd2UgaGF2ZSBubyBtb3JlIGNoYW5nZSBsaXN0ZW5lcnMgYnkgdGhlIHN0YXJ0XG4gICAgICAgICAgICAgICAgICogb2YgdGhlIG5leHQgZnJhbWUsIHN0b3AgYWN0aXZlIGFuaW1hdGlvbnMuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnJhbWUucmVhZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5ldmVudHMuY2hhbmdlLmdldFNpemUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xuICAgIH1cbiAgICBjbGVhckxpc3RlbmVycygpIHtcbiAgICAgICAgZm9yIChjb25zdCBldmVudE1hbmFnZXJzIGluIHRoaXMuZXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudE1hbmFnZXJzXS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIGEgcGFzc2l2ZSBlZmZlY3QgdG8gdGhlIGBNb3Rpb25WYWx1ZWAuXG4gICAgICovXG4gICAgYXR0YWNoKHBhc3NpdmVFZmZlY3QsIHN0b3BQYXNzaXZlRWZmZWN0KSB7XG4gICAgICAgIHRoaXMucGFzc2l2ZUVmZmVjdCA9IHBhc3NpdmVFZmZlY3Q7XG4gICAgICAgIHRoaXMuc3RvcFBhc3NpdmVFZmZlY3QgPSBzdG9wUGFzc2l2ZUVmZmVjdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUgb2YgdGhlIGBNb3Rpb25WYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqXG4gICAgICogYGBganN4XG4gICAgICogY29uc3QgeCA9IHVzZU1vdGlvblZhbHVlKDApXG4gICAgICogeC5zZXQoMTApXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGF0ZXN0IC0gTGF0ZXN0IHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0gcmVuZGVyIC0gV2hldGhlciB0byBub3RpZnkgcmVuZGVyIHN1YnNjcmliZXJzLiBEZWZhdWx0cyB0byBgdHJ1ZWBcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZXQodiwgcmVuZGVyID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXJlbmRlciB8fCAhdGhpcy5wYXNzaXZlRWZmZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFuZE5vdGlmeSh2LCByZW5kZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXNzaXZlRWZmZWN0KHYsIHRoaXMudXBkYXRlQW5kTm90aWZ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRXaXRoVmVsb2NpdHkocHJldiwgY3VycmVudCwgZGVsdGEpIHtcbiAgICAgICAgdGhpcy5zZXQoY3VycmVudCk7XG4gICAgICAgIHRoaXMucHJldiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wcmV2RnJhbWVWYWx1ZSA9IHByZXY7XG4gICAgICAgIHRoaXMucHJldlVwZGF0ZWRBdCA9IHRoaXMudXBkYXRlZEF0IC0gZGVsdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3RhdGUgb2YgdGhlIGBNb3Rpb25WYWx1ZWAsIHN0b3BwaW5nIGFueSBhY3RpdmUgYW5pbWF0aW9ucyxcbiAgICAgKiBlZmZlY3RzLCBhbmQgcmVzZXRzIHZlbG9jaXR5IHRvIGAwYC5cbiAgICAgKi9cbiAgICBqdW1wKHYsIGVuZEFuaW1hdGlvbiA9IHRydWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVBbmROb3RpZnkodik7XG4gICAgICAgIHRoaXMucHJldiA9IHY7XG4gICAgICAgIHRoaXMucHJldlVwZGF0ZWRBdCA9IHRoaXMucHJldkZyYW1lVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGVuZEFuaW1hdGlvbiAmJiB0aGlzLnN0b3AoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RvcFBhc3NpdmVFZmZlY3QpXG4gICAgICAgICAgICB0aGlzLnN0b3BQYXNzaXZlRWZmZWN0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxhdGVzdCBzdGF0ZSBvZiBgTW90aW9uVmFsdWVgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBsYXRlc3Qgc3RhdGUgb2YgYE1vdGlvblZhbHVlYFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldCgpIHtcbiAgICAgICAgaWYgKGNvbGxlY3RNb3Rpb25WYWx1ZXMuY3VycmVudCkge1xuICAgICAgICAgICAgY29sbGVjdE1vdGlvblZhbHVlcy5jdXJyZW50LnB1c2godGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldFByZXZpb3VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXRlc3QgdmVsb2NpdHkgb2YgYE1vdGlvblZhbHVlYFxuICAgICAqXG4gICAgICogQHJldHVybnMgLSBUaGUgbGF0ZXN0IHZlbG9jaXR5IG9mIGBNb3Rpb25WYWx1ZWAuIFJldHVybnMgYDBgIGlmIHRoZSBzdGF0ZSBpcyBub24tbnVtZXJpY2FsLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldFZlbG9jaXR5KCkge1xuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IHRpbWUubm93KCk7XG4gICAgICAgIGlmICghdGhpcy5jYW5UcmFja1ZlbG9jaXR5IHx8XG4gICAgICAgICAgICB0aGlzLnByZXZGcmFtZVZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lIC0gdGhpcy51cGRhdGVkQXQgPiBNQVhfVkVMT0NJVFlfREVMVEEpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5taW4odGhpcy51cGRhdGVkQXQgLSB0aGlzLnByZXZVcGRhdGVkQXQsIE1BWF9WRUxPQ0lUWV9ERUxUQSk7XG4gICAgICAgIC8vIENhc3RzIGJlY2F1c2Ugb2YgcGFyc2VGbG9hdCdzIHBvb3IgdHlwaW5nXG4gICAgICAgIHJldHVybiB2ZWxvY2l0eVBlclNlY29uZChwYXJzZUZsb2F0KHRoaXMuY3VycmVudCkgLVxuICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnByZXZGcmFtZVZhbHVlKSwgZGVsdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBuZXcgYW5pbWF0aW9uIHRvIGNvbnRyb2wgdGhpcyBgTW90aW9uVmFsdWVgLiBPbmx5IG9uZVxuICAgICAqIGFuaW1hdGlvbiBjYW4gZHJpdmUgYSBgTW90aW9uVmFsdWVgIGF0IG9uZSB0aW1lLlxuICAgICAqXG4gICAgICogYGBganN4XG4gICAgICogdmFsdWUuc3RhcnQoKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGFuaW1hdGlvbiAtIEEgZnVuY3Rpb24gdGhhdCBzdGFydHMgdGhlIHByb3ZpZGVkIGFuaW1hdGlvblxuICAgICAqL1xuICAgIHN0YXJ0KHN0YXJ0QW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFzQW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBzdGFydEFuaW1hdGlvbihyZXNvbHZlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5hbmltYXRpb25TdGFydCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmFuaW1hdGlvblN0YXJ0Lm5vdGlmeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5hbmltYXRpb25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmFuaW1hdGlvbkNvbXBsZXRlLm5vdGlmeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGVhckFuaW1hdGlvbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgY3VycmVudGx5IGFjdGl2ZSBhbmltYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuYW5pbWF0aW9uQ2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuYW5pbWF0aW9uQ2FuY2VsLm5vdGlmeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJBbmltYXRpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhpcyB2YWx1ZSBpcyBjdXJyZW50bHkgYW5pbWF0aW5nLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGlzQW5pbWF0aW5nKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmFuaW1hdGlvbjtcbiAgICB9XG4gICAgY2xlYXJBbmltYXRpb24oKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmFuaW1hdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgY2xlYW4gdXAgc3Vic2NyaWJlcnMgdG8gdGhpcyBgTW90aW9uVmFsdWVgLlxuICAgICAqXG4gICAgICogVGhlIGBNb3Rpb25WYWx1ZWAgaG9va3MgbGlrZSBgdXNlTW90aW9uVmFsdWVgIGFuZCBgdXNlVHJhbnNmb3JtYCBhdXRvbWF0aWNhbGx5XG4gICAgICogaGFuZGxlIHRoZSBsaWZlY3ljbGUgb2YgdGhlIHJldHVybmVkIGBNb3Rpb25WYWx1ZWAsIHNvIHRoaXMgbWV0aG9kIGlzIG9ubHkgbmVjZXNzYXJ5IGlmIHlvdSd2ZSBtYW51YWxseVxuICAgICAqIGNyZWF0ZWQgYSBgTW90aW9uVmFsdWVgIHZpYSB0aGUgYG1vdGlvblZhbHVlYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmV2ZW50cy5kZXN0cm95Py5ub3RpZnkoKTtcbiAgICAgICAgdGhpcy5jbGVhckxpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RvcFBhc3NpdmVFZmZlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcFBhc3NpdmVFZmZlY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIG1vdGlvblZhbHVlKGluaXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE1vdGlvblZhbHVlKGluaXQsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgeyBNb3Rpb25WYWx1ZSwgY29sbGVjdE1vdGlvblZhbHVlcywgbW90aW9uVmFsdWUgfTtcbiIsICJpbXBvcnQgeyBmcmFtZURhdGEgfSBmcm9tICcuL2ZyYW1lLm1qcyc7XG5pbXBvcnQgeyBNb3Rpb25HbG9iYWxDb25maWcgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9nbG9iYWwtY29uZmlnLm1qcyc7XG5cbmxldCBub3c7XG5mdW5jdGlvbiBjbGVhclRpbWUoKSB7XG4gICAgbm93ID0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBBbiBldmVudGxvb3Atc3luY2hyb25vdXMgYWx0ZXJuYXRpdmUgdG8gcGVyZm9ybWFuY2Uubm93KCkuXG4gKlxuICogRW5zdXJlcyB0aGF0IHRpbWUgbWVhc3VyZW1lbnRzIHJlbWFpbiBjb25zaXN0ZW50IHdpdGhpbiBhIHN5bmNocm9ub3VzIGNvbnRleHQuXG4gKiBVc3VhbGx5IGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCkgdHdpY2Ugd2l0aGluIHRoZSBzYW1lIHN5bmNocm9ub3VzIGNvbnRleHRcbiAqIHdpbGwgcmV0dXJuIGRpZmZlcmVudCB2YWx1ZXMgd2hpY2ggaXNuJ3QgdXNlZnVsIGZvciBhbmltYXRpb25zIHdoZW4gd2UncmUgdXN1YWxseVxuICogdHJ5aW5nIHRvIHN5bmMgYW5pbWF0aW9ucyB0byB0aGUgc2FtZSBmcmFtZS5cbiAqL1xuY29uc3QgdGltZSA9IHtcbiAgICBub3c6ICgpID0+IHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aW1lLnNldChmcmFtZURhdGEuaXNQcm9jZXNzaW5nIHx8IE1vdGlvbkdsb2JhbENvbmZpZy51c2VNYW51YWxUaW1pbmdcbiAgICAgICAgICAgICAgICA/IGZyYW1lRGF0YS50aW1lc3RhbXBcbiAgICAgICAgICAgICAgICA6IHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm93O1xuICAgIH0sXG4gICAgc2V0OiAobmV3VGltZSkgPT4ge1xuICAgICAgICBub3cgPSBuZXdUaW1lO1xuICAgICAgICBxdWV1ZU1pY3JvdGFzayhjbGVhclRpbWUpO1xuICAgIH0sXG59O1xuXG5leHBvcnQgeyB0aW1lIH07XG4iLCAiaW1wb3J0IHsgYWRkVW5pcXVlSXRlbSwgcmVtb3ZlSXRlbSB9IGZyb20gJy4vYXJyYXkubWpzJztcblxuY2xhc3MgU3Vic2NyaXB0aW9uTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBhZGQoaGFuZGxlcikge1xuICAgICAgICBhZGRVbmlxdWVJdGVtKHRoaXMuc3Vic2NyaXB0aW9ucywgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiByZW1vdmVJdGVtKHRoaXMuc3Vic2NyaXB0aW9ucywgaGFuZGxlcik7XG4gICAgfVxuICAgIG5vdGlmeShhLCBiLCBjKSB7XG4gICAgICAgIGNvbnN0IG51bVN1YnNjcmlwdGlvbnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICBpZiAoIW51bVN1YnNjcmlwdGlvbnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChudW1TdWJzY3JpcHRpb25zID09PSAxKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZXJlJ3Mgb25seSBhIHNpbmdsZSBoYW5kbGVyIHdlIGNhbiBqdXN0IGNhbGwgaXQgd2l0aG91dCBpbnZva2luZyBhIGxvb3AuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1swXShhLCBiLCBjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtU3Vic2NyaXB0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ2hlY2sgd2hldGhlciB0aGUgaGFuZGxlciBleGlzdHMgYmVmb3JlIGZpcmluZyBhcyBpdCdzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICogdGhlIHN1YnNjcmlwdGlvbnMgd2VyZSBtb2RpZmllZCBkdXJpbmcgdGhpcyBsb29wIHJ1bm5pbmcuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuc3Vic2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyICYmIGhhbmRsZXIoYSwgYiwgYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoID0gMDtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFN1YnNjcmlwdGlvbk1hbmFnZXIgfTtcbiIsICJmdW5jdGlvbiBhZGRVbmlxdWVJdGVtKGFyciwgaXRlbSkge1xuICAgIGlmIChhcnIuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIGFyci5wdXNoKGl0ZW0pO1xufVxuZnVuY3Rpb24gcmVtb3ZlSXRlbShhcnIsIGl0ZW0pIHtcbiAgICBjb25zdCBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBhcnJheS1tb3ZlXG5mdW5jdGlvbiBtb3ZlSXRlbShbLi4uYXJyXSwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IGZyb21JbmRleCA8IDAgPyBhcnIubGVuZ3RoICsgZnJvbUluZGV4IDogZnJvbUluZGV4O1xuICAgIGlmIChzdGFydEluZGV4ID49IDAgJiYgc3RhcnRJbmRleCA8IGFyci5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSB0b0luZGV4IDwgMCA/IGFyci5sZW5ndGggKyB0b0luZGV4IDogdG9JbmRleDtcbiAgICAgICAgY29uc3QgW2l0ZW1dID0gYXJyLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgICBhcnIuc3BsaWNlKGVuZEluZGV4LCAwLCBpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IHsgYWRkVW5pcXVlSXRlbSwgbW92ZUl0ZW0sIHJlbW92ZUl0ZW0gfTtcbiIsICIvKlxuICBDb252ZXJ0IHZlbG9jaXR5IGludG8gdmVsb2NpdHkgcGVyIHNlY29uZFxuXG4gIEBwYXJhbSBbbnVtYmVyXTogVW5pdCBwZXIgZnJhbWVcbiAgQHBhcmFtIFtudW1iZXJdOiBGcmFtZSBkdXJhdGlvbiBpbiBtc1xuKi9cbmZ1bmN0aW9uIHZlbG9jaXR5UGVyU2Vjb25kKHZlbG9jaXR5LCBmcmFtZUR1cmF0aW9uKSB7XG4gICAgcmV0dXJuIGZyYW1lRHVyYXRpb24gPyB2ZWxvY2l0eSAqICgxMDAwIC8gZnJhbWVEdXJhdGlvbikgOiAwO1xufVxuXG5leHBvcnQgeyB2ZWxvY2l0eVBlclNlY29uZCB9O1xuIiwgImltcG9ydCB7IGlzV2lsbENoYW5nZU1vdGlvblZhbHVlIH0gZnJvbSAnLi9pcy5tanMnO1xuaW1wb3J0IHsgTW90aW9uR2xvYmFsQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZ2xvYmFsLWNvbmZpZy5tanMnO1xuXG5mdW5jdGlvbiBhZGRWYWx1ZVRvV2lsbENoYW5nZSh2aXN1YWxFbGVtZW50LCBrZXkpIHtcbiAgICBjb25zdCB3aWxsQ2hhbmdlID0gdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShcIndpbGxDaGFuZ2VcIik7XG4gICAgLyoqXG4gICAgICogSXQgY291bGQgYmUgdGhhdCBhIHVzZXIgaGFzIHNldCB3aWxsQ2hhbmdlIHRvIGEgcmVndWxhciBNb3Rpb25WYWx1ZSxcbiAgICAgKiBpbiB3aGljaCBjYXNlIHdlIGNhbid0IGFkZCB0aGUgdmFsdWUgdG8gaXQuXG4gICAgICovXG4gICAgaWYgKGlzV2lsbENoYW5nZU1vdGlvblZhbHVlKHdpbGxDaGFuZ2UpKSB7XG4gICAgICAgIHJldHVybiB3aWxsQ2hhbmdlLmFkZChrZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmICghd2lsbENoYW5nZSAmJiBNb3Rpb25HbG9iYWxDb25maWcuV2lsbENoYW5nZSkge1xuICAgICAgICBjb25zdCBuZXdXaWxsQ2hhbmdlID0gbmV3IE1vdGlvbkdsb2JhbENvbmZpZy5XaWxsQ2hhbmdlKFwiYXV0b1wiKTtcbiAgICAgICAgdmlzdWFsRWxlbWVudC5hZGRWYWx1ZShcIndpbGxDaGFuZ2VcIiwgbmV3V2lsbENoYW5nZSk7XG4gICAgICAgIG5ld1dpbGxDaGFuZ2UuYWRkKGtleSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBhZGRWYWx1ZVRvV2lsbENoYW5nZSB9O1xuIiwgImltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcblxuZnVuY3Rpb24gaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gQm9vbGVhbihpc01vdGlvblZhbHVlKHZhbHVlKSAmJiB2YWx1ZS5hZGQpO1xufVxuXG5leHBvcnQgeyBpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSB9O1xuIiwgImltcG9ydCB7IG9wdGltaXplZEFwcGVhckRhdGFBdHRyaWJ1dGUgfSBmcm9tICcuL2RhdGEtaWQubWpzJztcblxuZnVuY3Rpb24gZ2V0T3B0aW1pc2VkQXBwZWFySWQodmlzdWFsRWxlbWVudCkge1xuICAgIHJldHVybiB2aXN1YWxFbGVtZW50LnByb3BzW29wdGltaXplZEFwcGVhckRhdGFBdHRyaWJ1dGVdO1xufVxuXG5leHBvcnQgeyBnZXRPcHRpbWlzZWRBcHBlYXJJZCB9O1xuIiwgImltcG9ydCB7IGdldEZpbmFsS2V5ZnJhbWUgfSBmcm9tICcuLi9hbmltYXRvcnMvd2FhcGkvdXRpbHMvZ2V0LWZpbmFsLWtleWZyYW1lLm1qcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0VHJhbnNpdGlvbiB9IGZyb20gJy4uL3V0aWxzL2RlZmF1bHQtdHJhbnNpdGlvbnMubWpzJztcbmltcG9ydCB7IGlzVHJhbnNpdGlvbkRlZmluZWQgfSBmcm9tICcuLi91dGlscy9pcy10cmFuc2l0aW9uLWRlZmluZWQubWpzJztcbmltcG9ydCB7IGdldFZhbHVlVHJhbnNpdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvZ2V0LXZhbHVlLXRyYW5zaXRpb24ubWpzJztcbmltcG9ydCB7IHNlY29uZHNUb01pbGxpc2Vjb25kcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgTW90aW9uR2xvYmFsQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZ2xvYmFsLWNvbmZpZy5tanMnO1xuaW1wb3J0IHsgZnJhbWUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5pbXBvcnQgeyBBc3luY01vdGlvblZhbHVlQW5pbWF0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9Bc3luY01vdGlvblZhbHVlQW5pbWF0aW9uLm1qcyc7XG5cbmNvbnN0IGFuaW1hdGVNb3Rpb25WYWx1ZSA9IChuYW1lLCB2YWx1ZSwgdGFyZ2V0LCB0cmFuc2l0aW9uID0ge30sIGVsZW1lbnQsIGlzSGFuZG9mZikgPT4gKG9uQ29tcGxldGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZVRyYW5zaXRpb24gPSBnZXRWYWx1ZVRyYW5zaXRpb24odHJhbnNpdGlvbiwgbmFtZSkgfHwge307XG4gICAgLyoqXG4gICAgICogTW9zdCB0cmFuc2l0aW9uIHZhbHVlcyBhcmUgY3VycmVudGx5IGNvbXBsZXRlbHkgb3ZlcndyaXR0ZW4gYnkgdmFsdWUtc3BlY2lmaWNcbiAgICAgKiB0cmFuc2l0aW9ucy4gSW4gdGhlIGZ1dHVyZSBpdCdkIGJlIG5pY2VyIHRvIGJsZW5kIHRoZXNlIHRyYW5zaXRpb25zLiBCdXQgZm9yIG5vd1xuICAgICAqIGRlbGF5IGFjdHVhbGx5IGRvZXMgaW5oZXJpdCBmcm9tIHRoZSByb290IHRyYW5zaXRpb24gaWYgbm90IHZhbHVlLXNwZWNpZmljLlxuICAgICAqL1xuICAgIGNvbnN0IGRlbGF5ID0gdmFsdWVUcmFuc2l0aW9uLmRlbGF5IHx8IHRyYW5zaXRpb24uZGVsYXkgfHwgMDtcbiAgICAvKipcbiAgICAgKiBFbGFwc2VkIGlzbid0IGEgcHVibGljIHRyYW5zaXRpb24gb3B0aW9uIGJ1dCBjYW4gYmUgcGFzc2VkIHRocm91Z2ggZnJvbVxuICAgICAqIG9wdGltaXplZCBhcHBlYXIgZWZmZWN0cyBpbiBtaWxsaXNlY29uZHMuXG4gICAgICovXG4gICAgbGV0IHsgZWxhcHNlZCA9IDAgfSA9IHRyYW5zaXRpb247XG4gICAgZWxhcHNlZCA9IGVsYXBzZWQgLSBzZWNvbmRzVG9NaWxsaXNlY29uZHMoZGVsYXkpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGtleWZyYW1lczogQXJyYXkuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0IDogW251bGwsIHRhcmdldF0sXG4gICAgICAgIGVhc2U6IFwiZWFzZU91dFwiLFxuICAgICAgICB2ZWxvY2l0eTogdmFsdWUuZ2V0VmVsb2NpdHkoKSxcbiAgICAgICAgLi4udmFsdWVUcmFuc2l0aW9uLFxuICAgICAgICBkZWxheTogLWVsYXBzZWQsXG4gICAgICAgIG9uVXBkYXRlOiAodikgPT4ge1xuICAgICAgICAgICAgdmFsdWUuc2V0KHYpO1xuICAgICAgICAgICAgdmFsdWVUcmFuc2l0aW9uLm9uVXBkYXRlICYmIHZhbHVlVHJhbnNpdGlvbi5vblVwZGF0ZSh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgdmFsdWVUcmFuc2l0aW9uLm9uQ29tcGxldGUgJiYgdmFsdWVUcmFuc2l0aW9uLm9uQ29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbW90aW9uVmFsdWU6IHZhbHVlLFxuICAgICAgICBlbGVtZW50OiBpc0hhbmRvZmYgPyB1bmRlZmluZWQgOiBlbGVtZW50LFxuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUncyBubyB0cmFuc2l0aW9uIGRlZmluZWQgZm9yIHRoaXMgdmFsdWUsIHdlIGNhbiBnZW5lcmF0ZVxuICAgICAqIHVuaXF1ZSB0cmFuc2l0aW9uIHNldHRpbmdzIGZvciB0aGlzIHZhbHVlLlxuICAgICAqL1xuICAgIGlmICghaXNUcmFuc2l0aW9uRGVmaW5lZCh2YWx1ZVRyYW5zaXRpb24pKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgZ2V0RGVmYXVsdFRyYW5zaXRpb24obmFtZSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCb3RoIFdBQVBJIGFuZCBvdXIgaW50ZXJuYWwgYW5pbWF0aW9uIGZ1bmN0aW9ucyB1c2UgZHVyYXRpb25zXG4gICAgICogYXMgZGVmaW5lZCBieSBtaWxsaXNlY29uZHMsIHdoaWxlIG91ciBleHRlcm5hbCBBUEkgZGVmaW5lcyB0aGVtXG4gICAgICogYXMgc2Vjb25kcy5cbiAgICAgKi9cbiAgICBvcHRpb25zLmR1cmF0aW9uICYmIChvcHRpb25zLmR1cmF0aW9uID0gc2Vjb25kc1RvTWlsbGlzZWNvbmRzKG9wdGlvbnMuZHVyYXRpb24pKTtcbiAgICBvcHRpb25zLnJlcGVhdERlbGF5ICYmIChvcHRpb25zLnJlcGVhdERlbGF5ID0gc2Vjb25kc1RvTWlsbGlzZWNvbmRzKG9wdGlvbnMucmVwZWF0RGVsYXkpKTtcbiAgICAvKipcbiAgICAgKiBTdXBwb3J0IGRlcHJlY2F0ZWQgd2F5IHRvIHNldCBpbml0aWFsIHZhbHVlLiBQcmVmZXIga2V5ZnJhbWUgc3ludGF4LlxuICAgICAqL1xuICAgIGlmIChvcHRpb25zLmZyb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRpb25zLmtleWZyYW1lc1swXSA9IG9wdGlvbnMuZnJvbTtcbiAgICB9XG4gICAgbGV0IHNob3VsZFNraXAgPSBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy50eXBlID09PSBmYWxzZSB8fFxuICAgICAgICAob3B0aW9ucy5kdXJhdGlvbiA9PT0gMCAmJiAhb3B0aW9ucy5yZXBlYXREZWxheSkpIHtcbiAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIGlmIChvcHRpb25zLmRlbGF5ID09PSAwKSB7XG4gICAgICAgICAgICBzaG91bGRTa2lwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoTW90aW9uR2xvYmFsQ29uZmlnLmluc3RhbnRBbmltYXRpb25zIHx8XG4gICAgICAgIE1vdGlvbkdsb2JhbENvbmZpZy5za2lwQW5pbWF0aW9ucykge1xuICAgICAgICBzaG91bGRTa2lwID0gdHJ1ZTtcbiAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIG9wdGlvbnMuZGVsYXkgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdHJhbnNpdGlvbiB0eXBlIG9yIGVhc2luZyBoYXMgYmVlbiBleHBsaWNpdGx5IHNldCBieSB0aGUgdXNlclxuICAgICAqIHRoZW4gd2UgZG9uJ3Qgd2FudCB0byBhbGxvdyBmbGF0dGVuaW5nIHRoZSBhbmltYXRpb24uXG4gICAgICovXG4gICAgb3B0aW9ucy5hbGxvd0ZsYXR0ZW4gPSAhdmFsdWVUcmFuc2l0aW9uLnR5cGUgJiYgIXZhbHVlVHJhbnNpdGlvbi5lYXNlO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGNhbiBvciBtdXN0IHNraXAgY3JlYXRpbmcgdGhlIGFuaW1hdGlvbiwgYW5kIGFwcGx5IG9ubHlcbiAgICAgKiB0aGUgZmluYWwga2V5ZnJhbWUsIGRvIHNvLiBXZSBhbHNvIGNoZWNrIG9uY2Uga2V5ZnJhbWVzIGFyZSByZXNvbHZlZCBidXRcbiAgICAgKiB0aGlzIGVhcmx5IGNoZWNrIHByZXZlbnRzIHRoZSBuZWVkIHRvIGNyZWF0ZSBhbiBhbmltYXRpb24gYXQgYWxsLlxuICAgICAqL1xuICAgIGlmIChzaG91bGRTa2lwICYmICFpc0hhbmRvZmYgJiYgdmFsdWUuZ2V0KCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBmaW5hbEtleWZyYW1lID0gZ2V0RmluYWxLZXlmcmFtZShvcHRpb25zLmtleWZyYW1lcywgdmFsdWVUcmFuc2l0aW9uKTtcbiAgICAgICAgaWYgKGZpbmFsS2V5ZnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZnJhbWUudXBkYXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm9uVXBkYXRlKGZpbmFsS2V5ZnJhbWUpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBc3luY01vdGlvblZhbHVlQW5pbWF0aW9uKG9wdGlvbnMpO1xufTtcblxuZXhwb3J0IHsgYW5pbWF0ZU1vdGlvblZhbHVlIH07XG4iLCAiY29uc3QgaXNOb3ROdWxsID0gKHZhbHVlKSA9PiB2YWx1ZSAhPT0gbnVsbDtcbmZ1bmN0aW9uIGdldEZpbmFsS2V5ZnJhbWUoa2V5ZnJhbWVzLCB7IHJlcGVhdCwgcmVwZWF0VHlwZSA9IFwibG9vcFwiIH0sIGZpbmFsS2V5ZnJhbWUpIHtcbiAgICBjb25zdCByZXNvbHZlZEtleWZyYW1lcyA9IGtleWZyYW1lcy5maWx0ZXIoaXNOb3ROdWxsKTtcbiAgICBjb25zdCBpbmRleCA9IHJlcGVhdCAmJiByZXBlYXRUeXBlICE9PSBcImxvb3BcIiAmJiByZXBlYXQgJSAyID09PSAxXG4gICAgICAgID8gMFxuICAgICAgICA6IHJlc29sdmVkS2V5ZnJhbWVzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuICFpbmRleCB8fCBmaW5hbEtleWZyYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgPyByZXNvbHZlZEtleWZyYW1lc1tpbmRleF1cbiAgICAgICAgOiBmaW5hbEtleWZyYW1lO1xufVxuXG5leHBvcnQgeyBnZXRGaW5hbEtleWZyYW1lIH07XG4iLCAiaW1wb3J0IHsgdHJhbnNmb3JtUHJvcHMgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2tleXMtdHJhbnNmb3JtLm1qcyc7XG5cbmNvbnN0IHVuZGVyRGFtcGVkU3ByaW5nID0ge1xuICAgIHR5cGU6IFwic3ByaW5nXCIsXG4gICAgc3RpZmZuZXNzOiA1MDAsXG4gICAgZGFtcGluZzogMjUsXG4gICAgcmVzdFNwZWVkOiAxMCxcbn07XG5jb25zdCBjcml0aWNhbGx5RGFtcGVkU3ByaW5nID0gKHRhcmdldCkgPT4gKHtcbiAgICB0eXBlOiBcInNwcmluZ1wiLFxuICAgIHN0aWZmbmVzczogNTUwLFxuICAgIGRhbXBpbmc6IHRhcmdldCA9PT0gMCA/IDIgKiBNYXRoLnNxcnQoNTUwKSA6IDMwLFxuICAgIHJlc3RTcGVlZDogMTAsXG59KTtcbmNvbnN0IGtleWZyYW1lc1RyYW5zaXRpb24gPSB7XG4gICAgdHlwZTogXCJrZXlmcmFtZXNcIixcbiAgICBkdXJhdGlvbjogMC44LFxufTtcbi8qKlxuICogRGVmYXVsdCBlYXNpbmcgY3VydmUgaXMgYSBzbGlnaHRseSBzaGFsbG93ZXIgdmVyc2lvbiBvZlxuICogdGhlIGRlZmF1bHQgYnJvd3NlciBlYXNpbmcgY3VydmUuXG4gKi9cbmNvbnN0IGVhc2UgPSB7XG4gICAgdHlwZTogXCJrZXlmcmFtZXNcIixcbiAgICBlYXNlOiBbMC4yNSwgMC4xLCAwLjM1LCAxXSxcbiAgICBkdXJhdGlvbjogMC4zLFxufTtcbmNvbnN0IGdldERlZmF1bHRUcmFuc2l0aW9uID0gKHZhbHVlS2V5LCB7IGtleWZyYW1lcyB9KSA9PiB7XG4gICAgaWYgKGtleWZyYW1lcy5sZW5ndGggPiAyKSB7XG4gICAgICAgIHJldHVybiBrZXlmcmFtZXNUcmFuc2l0aW9uO1xuICAgIH1cbiAgICBlbHNlIGlmICh0cmFuc2Zvcm1Qcm9wcy5oYXModmFsdWVLZXkpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZUtleS5zdGFydHNXaXRoKFwic2NhbGVcIilcbiAgICAgICAgICAgID8gY3JpdGljYWxseURhbXBlZFNwcmluZyhrZXlmcmFtZXNbMV0pXG4gICAgICAgICAgICA6IHVuZGVyRGFtcGVkU3ByaW5nO1xuICAgIH1cbiAgICByZXR1cm4gZWFzZTtcbn07XG5cbmV4cG9ydCB7IGdldERlZmF1bHRUcmFuc2l0aW9uIH07XG4iLCAiLyoqXG4gKiBEZWNpZGUgd2hldGhlciBhIHRyYW5zaXRpb24gaXMgZGVmaW5lZCBvbiBhIGdpdmVuIFRyYW5zaXRpb24uXG4gKiBUaGlzIGZpbHRlcnMgb3V0IG9yY2hlc3RyYXRpb24gb3B0aW9ucyBhbmQgcmV0dXJucyB0cnVlXG4gKiBpZiBhbnkgb3B0aW9ucyBhcmUgbGVmdC5cbiAqL1xuZnVuY3Rpb24gaXNUcmFuc2l0aW9uRGVmaW5lZCh7IHdoZW4sIGRlbGF5OiBfZGVsYXksIGRlbGF5Q2hpbGRyZW4sIHN0YWdnZXJDaGlsZHJlbiwgc3RhZ2dlckRpcmVjdGlvbiwgcmVwZWF0LCByZXBlYXRUeXBlLCByZXBlYXREZWxheSwgZnJvbSwgZWxhcHNlZCwgLi4udHJhbnNpdGlvbiB9KSB7XG4gICAgcmV0dXJuICEhT2JqZWN0LmtleXModHJhbnNpdGlvbikubGVuZ3RoO1xufVxuXG5leHBvcnQgeyBpc1RyYW5zaXRpb25EZWZpbmVkIH07XG4iLCAiZnVuY3Rpb24gZ2V0VmFsdWVUcmFuc2l0aW9uKHRyYW5zaXRpb24sIGtleSkge1xuICAgIHJldHVybiAodHJhbnNpdGlvbj8uW2tleV0gPz9cbiAgICAgICAgdHJhbnNpdGlvbj8uW1wiZGVmYXVsdFwiXSA/P1xuICAgICAgICB0cmFuc2l0aW9uKTtcbn1cblxuZXhwb3J0IHsgZ2V0VmFsdWVUcmFuc2l0aW9uIH07XG4iLCAiLyoqXG4gKiBDb252ZXJ0cyBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kc1xuICpcbiAqIEBwYXJhbSBzZWNvbmRzIC0gVGltZSBpbiBzZWNvbmRzLlxuICogQHJldHVybiBtaWxsaXNlY29uZHMgLSBDb252ZXJ0ZWQgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuY29uc3Qgc2Vjb25kc1RvTWlsbGlzZWNvbmRzID0gKHNlY29uZHMpID0+IHNlY29uZHMgKiAxMDAwO1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5jb25zdCBtaWxsaXNlY29uZHNUb1NlY29uZHMgPSAobWlsbGlzZWNvbmRzKSA9PiBtaWxsaXNlY29uZHMgLyAxMDAwO1xuXG5leHBvcnQgeyBtaWxsaXNlY29uZHNUb1NlY29uZHMsIHNlY29uZHNUb01pbGxpc2Vjb25kcyB9O1xuIiwgImltcG9ydCB7IHRpbWUgfSBmcm9tICcuLi9mcmFtZWxvb3Avc3luYy10aW1lLm1qcyc7XG5pbXBvcnQgeyBKU0FuaW1hdGlvbiB9IGZyb20gJy4vSlNBbmltYXRpb24ubWpzJztcbmltcG9ydCB7IGdldEZpbmFsS2V5ZnJhbWUgfSBmcm9tICcuL2tleWZyYW1lcy9nZXQtZmluYWwubWpzJztcbmltcG9ydCB7IEtleWZyYW1lUmVzb2x2ZXIsIGZsdXNoS2V5ZnJhbWVSZXNvbHZlcnMgfSBmcm9tICcuL2tleWZyYW1lcy9LZXlmcmFtZXNSZXNvbHZlci5tanMnO1xuaW1wb3J0IHsgTmF0aXZlQW5pbWF0aW9uRXh0ZW5kZWQgfSBmcm9tICcuL05hdGl2ZUFuaW1hdGlvbkV4dGVuZGVkLm1qcyc7XG5pbXBvcnQgeyBjYW5BbmltYXRlIH0gZnJvbSAnLi91dGlscy9jYW4tYW5pbWF0ZS5tanMnO1xuaW1wb3J0IHsgV2l0aFByb21pc2UgfSBmcm9tICcuL3V0aWxzL1dpdGhQcm9taXNlLm1qcyc7XG5pbXBvcnQgeyBzdXBwb3J0c0Jyb3dzZXJBbmltYXRpb24gfSBmcm9tICcuL3dhYXBpL3N1cHBvcnRzL3dhYXBpLm1qcyc7XG5pbXBvcnQgeyBNb3Rpb25HbG9iYWxDb25maWcgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9nbG9iYWwtY29uZmlnLm1qcyc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvbm9vcC5tanMnO1xuXG4vKipcbiAqIE1heGltdW0gdGltZSBhbGxvd2VkIGJldHdlZW4gYW4gYW5pbWF0aW9uIGJlaW5nIGNyZWF0ZWQgYW5kIGl0IGJlaW5nXG4gKiByZXNvbHZlZCBmb3IgdXMgdG8gdXNlIHRoZSBsYXR0ZXIgYXMgdGhlIHN0YXJ0IHRpbWUuXG4gKlxuICogVGhpcyBpcyB0byBlbnN1cmUgdGhhdCB3aGlsZSB3ZSBwcmVmZXIgdG8gXCJzdGFydFwiIGFuIGFuaW1hdGlvbiBhcyBzb29uXG4gKiBhcyBpdCdzIHRyaWdnZXJlZCwgd2UgYWxzbyB3YW50IHRvIGF2b2lkIGEgdmlzdWFsIGp1bXAgaWYgdGhlcmUncyBhIGJpZyBkZWxheVxuICogYmV0d2VlbiB0aGVzZSB0d28gbW9tZW50cy5cbiAqL1xuY29uc3QgTUFYX1JFU09MVkVfREVMQVkgPSA0MDtcbmNsYXNzIEFzeW5jTW90aW9uVmFsdWVBbmltYXRpb24gZXh0ZW5kcyBXaXRoUHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IoeyBhdXRvcGxheSA9IHRydWUsIGRlbGF5ID0gMCwgdHlwZSA9IFwia2V5ZnJhbWVzXCIsIHJlcGVhdCA9IDAsIHJlcGVhdERlbGF5ID0gMCwgcmVwZWF0VHlwZSA9IFwibG9vcFwiLCBrZXlmcmFtZXMsIG5hbWUsIG1vdGlvblZhbHVlLCBlbGVtZW50LCAuLi5vcHRpb25zIH0pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRvIHN1cHBvcnQgcmV0dXJuIGFuaW1hdGlvbi5zdG9wIHBhdHRlcm5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmltYXRpb24uc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVsaW5lPy4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMua2V5ZnJhbWVSZXNvbHZlcj8uY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JlYXRlZEF0ID0gdGltZS5ub3coKTtcbiAgICAgICAgY29uc3Qgb3B0aW9uc1dpdGhEZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGF1dG9wbGF5LFxuICAgICAgICAgICAgZGVsYXksXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmVwZWF0LFxuICAgICAgICAgICAgcmVwZWF0RGVsYXksXG4gICAgICAgICAgICByZXBlYXRUeXBlLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG1vdGlvblZhbHVlLFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IEtleWZyYW1lUmVzb2x2ZXIkMSA9IGVsZW1lbnQ/LktleWZyYW1lUmVzb2x2ZXIgfHwgS2V5ZnJhbWVSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5rZXlmcmFtZVJlc29sdmVyID0gbmV3IEtleWZyYW1lUmVzb2x2ZXIkMShrZXlmcmFtZXMsIChyZXNvbHZlZEtleWZyYW1lcywgZmluYWxLZXlmcmFtZSwgZm9yY2VkKSA9PiB0aGlzLm9uS2V5ZnJhbWVzUmVzb2x2ZWQocmVzb2x2ZWRLZXlmcmFtZXMsIGZpbmFsS2V5ZnJhbWUsIG9wdGlvbnNXaXRoRGVmYXVsdHMsICFmb3JjZWQpLCBuYW1lLCBtb3Rpb25WYWx1ZSwgZWxlbWVudCk7XG4gICAgICAgIHRoaXMua2V5ZnJhbWVSZXNvbHZlcj8uc2NoZWR1bGVSZXNvbHZlKCk7XG4gICAgfVxuICAgIG9uS2V5ZnJhbWVzUmVzb2x2ZWQoa2V5ZnJhbWVzLCBmaW5hbEtleWZyYW1lLCBvcHRpb25zLCBzeW5jKSB7XG4gICAgICAgIHRoaXMua2V5ZnJhbWVSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgeyBuYW1lLCB0eXBlLCB2ZWxvY2l0eSwgZGVsYXksIGlzSGFuZG9mZiwgb25VcGRhdGUgfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRBdCA9IHRpbWUubm93KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBjYW4ndCBhbmltYXRlIHRoaXMgdmFsdWUgd2l0aCB0aGUgcmVzb2x2ZWQga2V5ZnJhbWVzXG4gICAgICAgICAqIHRoZW4gd2Ugc2hvdWxkIGNvbXBsZXRlIGl0IGltbWVkaWF0ZWx5LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFjYW5BbmltYXRlKGtleWZyYW1lcywgbmFtZSwgdHlwZSwgdmVsb2NpdHkpKSB7XG4gICAgICAgICAgICBpZiAoTW90aW9uR2xvYmFsQ29uZmlnLmluc3RhbnRBbmltYXRpb25zIHx8ICFkZWxheSkge1xuICAgICAgICAgICAgICAgIG9uVXBkYXRlPy4oZ2V0RmluYWxLZXlmcmFtZShrZXlmcmFtZXMsIG9wdGlvbnMsIGZpbmFsS2V5ZnJhbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtleWZyYW1lc1swXSA9IGtleWZyYW1lc1trZXlmcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIG9wdGlvbnMucmVwZWF0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVzb2x2ZSBzdGFydFRpbWUgZm9yIHRoZSBhbmltYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIHVzZXMgdGhlIGNyZWF0ZWRBdCBhbmQgcmVzb2x2ZWRBdCB0byBjYWxjdWxhdGUgdGhlXG4gICAgICAgICAqIGFuaW1hdGlvbiBzdGFydFRpbWUuICpJZGVhbGx5Kiwgd2Ugd291bGQgdXNlIHRoZSBjcmVhdGVkQXQgdGltZSBhcyB0PTBcbiAgICAgICAgICogYXMgdGhlIGZvbGxvd2luZyBmcmFtZSB3b3VsZCB0aGVuIGJlIHRoZSBmaXJzdCBmcmFtZSBvZiB0aGUgYW5pbWF0aW9uIGluXG4gICAgICAgICAqIHByb2dyZXNzLCB3aGljaCB3b3VsZCBmZWVsIHNuYXBwaWVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBIb3dldmVyLCBpZiB0aGVyZSdzIGEgZGVsYXkgKG1haW4gdGhyZWFkIHdvcmspIGJldHdlZW4gdGhlIGNyZWF0aW9uIG9mXG4gICAgICAgICAqIHRoZSBhbmltYXRpb24gYW5kIHRoZSBmaXJzdCBjb21taXRlZCBmcmFtZSwgd2UgcHJlZmVyIHRvIHVzZSByZXNvbHZlZEF0XG4gICAgICAgICAqIHRvIGF2b2lkIGEgc3VkZGVuIGp1bXAgaW50byB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gc3luY1xuICAgICAgICAgICAgPyAhdGhpcy5yZXNvbHZlZEF0XG4gICAgICAgICAgICAgICAgPyB0aGlzLmNyZWF0ZWRBdFxuICAgICAgICAgICAgICAgIDogdGhpcy5yZXNvbHZlZEF0IC0gdGhpcy5jcmVhdGVkQXQgPiBNQVhfUkVTT0xWRV9ERUxBWVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucmVzb2x2ZWRBdFxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY3JlYXRlZEF0XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRPcHRpb25zID0ge1xuICAgICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgICAgZmluYWxLZXlmcmFtZSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBrZXlmcmFtZXMsXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmltYXRlIHZpYSBXQUFQSSBpZiBwb3NzaWJsZS4gSWYgdGhpcyBpcyBhIGhhbmRvZmYgYW5pbWF0aW9uLCB0aGUgb3B0aW1pc2VkIGFuaW1hdGlvbiB3aWxsIGJlIHJ1bm5pbmcgdmlhXG4gICAgICAgICAqIFdBQVBJLiBUaGVyZWZvcmUsIHRoaXMgYW5pbWF0aW9uIG11c3QgYmUgSlMgdG8gZW5zdXJlIGl0IHJ1bnMgXCJ1bmRlclwiIHRoZVxuICAgICAgICAgKiBvcHRpbWlzZWQgYW5pbWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gIWlzSGFuZG9mZiAmJiBzdXBwb3J0c0Jyb3dzZXJBbmltYXRpb24ocmVzb2x2ZWRPcHRpb25zKVxuICAgICAgICAgICAgPyBuZXcgTmF0aXZlQW5pbWF0aW9uRXh0ZW5kZWQoe1xuICAgICAgICAgICAgICAgIC4uLnJlc29sdmVkT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiByZXNvbHZlZE9wdGlvbnMubW90aW9uVmFsdWUub3duZXIuY3VycmVudCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IG5ldyBKU0FuaW1hdGlvbihyZXNvbHZlZE9wdGlvbnMpO1xuICAgICAgICBhbmltYXRpb24uZmluaXNoZWQudGhlbigoKSA9PiB0aGlzLm5vdGlmeUZpbmlzaGVkKCkpLmNhdGNoKG5vb3ApO1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nVGltZWxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVsaW5lID0gYW5pbWF0aW9uLmF0dGFjaFRpbWVsaW5lKHRoaXMucGVuZGluZ1RpbWVsaW5lKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1RpbWVsaW5lID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IGFuaW1hdGlvbjtcbiAgICB9XG4gICAgZ2V0IGZpbmlzaGVkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2FuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbmlzaGVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uLmZpbmlzaGVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoZW4ob25SZXNvbHZlLCBfb25SZWplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoZWQuZmluYWxseShvblJlc29sdmUpLnRoZW4oKCkgPT4geyB9KTtcbiAgICB9XG4gICAgZ2V0IGFuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hbmltYXRpb24pIHtcbiAgICAgICAgICAgIGZsdXNoS2V5ZnJhbWVSZXNvbHZlcnMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYW5pbWF0aW9uO1xuICAgIH1cbiAgICBnZXQgZHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbi5kdXJhdGlvbjtcbiAgICB9XG4gICAgZ2V0IHRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbi50aW1lO1xuICAgIH1cbiAgICBzZXQgdGltZShuZXdUaW1lKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLnRpbWUgPSBuZXdUaW1lO1xuICAgIH1cbiAgICBnZXQgc3BlZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbi5zcGVlZDtcbiAgICB9XG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb24uc3RhdGU7XG4gICAgfVxuICAgIHNldCBzcGVlZChuZXdTcGVlZCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbi5zcGVlZCA9IG5ld1NwZWVkO1xuICAgIH1cbiAgICBnZXQgc3RhcnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb24uc3RhcnRUaW1lO1xuICAgIH1cbiAgICBhdHRhY2hUaW1lbGluZSh0aW1lbGluZSkge1xuICAgICAgICBpZiAodGhpcy5fYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lbGluZSA9IHRoaXMuYW5pbWF0aW9uLmF0dGFjaFRpbWVsaW5lKHRpbWVsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1RpbWVsaW5lID0gdGltZWxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHRoaXMuc3RvcCgpO1xuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbi5wbGF5KCk7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbi5wYXVzZSgpO1xuICAgIH1cbiAgICBjb21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb24uY29tcGxldGUoKTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEFzeW5jTW90aW9uVmFsdWVBbmltYXRpb24gfTtcbiIsICJpbXBvcnQgeyB0aW1lIH0gZnJvbSAnLi4vZnJhbWVsb29wL3N5bmMtdGltZS5tanMnO1xuaW1wb3J0IHsgYWN0aXZlQW5pbWF0aW9ucyB9IGZyb20gJy4uL3N0YXRzL2FuaW1hdGlvbi1jb3VudC5tanMnO1xuaW1wb3J0IHsgbWl4IH0gZnJvbSAnLi4vdXRpbHMvbWl4L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBmcmFtZWxvb3BEcml2ZXIgfSBmcm9tICcuL2RyaXZlcnMvZHJpdmVyLWZyYW1lbG9vcC5tanMnO1xuaW1wb3J0IHsgaW5lcnRpYSB9IGZyb20gJy4vZ2VuZXJhdG9ycy9pbmVydGlhLm1qcyc7XG5pbXBvcnQgeyBrZXlmcmFtZXMgfSBmcm9tICcuL2dlbmVyYXRvcnMva2V5ZnJhbWVzLm1qcyc7XG5pbXBvcnQgeyBjYWxjR2VuZXJhdG9yRHVyYXRpb24gfSBmcm9tICcuL2dlbmVyYXRvcnMvdXRpbHMvY2FsYy1kdXJhdGlvbi5tanMnO1xuaW1wb3J0IHsgZ2V0RmluYWxLZXlmcmFtZSB9IGZyb20gJy4va2V5ZnJhbWVzL2dldC1maW5hbC5tanMnO1xuaW1wb3J0IHsgcmVwbGFjZVRyYW5zaXRpb25UeXBlIH0gZnJvbSAnLi91dGlscy9yZXBsYWNlLXRyYW5zaXRpb24tdHlwZS5tanMnO1xuaW1wb3J0IHsgV2l0aFByb21pc2UgfSBmcm9tICcuL3V0aWxzL1dpdGhQcm9taXNlLm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lcnJvcnMubWpzJztcbmltcG9ydCB7IHBpcGUgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9waXBlLm1qcyc7XG5pbXBvcnQgeyBtaWxsaXNlY29uZHNUb1NlY29uZHMsIHNlY29uZHNUb01pbGxpc2Vjb25kcyB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9jbGFtcC5tanMnO1xuXG5jb25zdCBwZXJjZW50VG9Qcm9ncmVzcyA9IChwZXJjZW50KSA9PiBwZXJjZW50IC8gMTAwO1xuY2xhc3MgSlNBbmltYXRpb24gZXh0ZW5kcyBXaXRoUHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJpZGxlXCI7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHRpbWUgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbWUgYXQgd2hpY2ggdGhlIGFuaW1hdGlvbiB3YXMgcGF1c2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ob2xkVGltZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbGF5YmFjayBzcGVlZCBhcyBhIGZhY3Rvci4gMCB3b3VsZCBiZSBzdG9wcGVkLCAtMSByZXZlcnNlIGFuZCAyIGRvdWJsZSBzcGVlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGxheWJhY2tTcGVlZCA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBib3VuZCB0byB0aGUgaW5zdGFuY2UgdG8gZml4IGEgcGF0dGVybiB3aGVyZVxuICAgICAgICAgKiBhbmltYXRpb24uc3RvcCBpcyByZXR1cm5lZCBhcyBhIHJlZmVyZW5jZSBmcm9tIGEgdXNlRWZmZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBtb3Rpb25WYWx1ZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKG1vdGlvblZhbHVlICYmIG1vdGlvblZhbHVlLnVwZGF0ZWRBdCAhPT0gdGltZS5ub3coKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGljayh0aW1lLm5vdygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcImlkbGVcIilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnRlYXJkb3duKCk7XG4gICAgICAgICAgICBjb25zdCB7IG9uU3RvcCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgb25TdG9wICYmIG9uU3RvcCgpO1xuICAgICAgICB9O1xuICAgICAgICBhY3RpdmVBbmltYXRpb25zLm1haW5UaHJlYWQrKztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pbml0QW5pbWF0aW9uKCk7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvcGxheSA9PT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgfVxuICAgIGluaXRBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgcmVwbGFjZVRyYW5zaXRpb25UeXBlKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCB7IHR5cGUgPSBrZXlmcmFtZXMsIHJlcGVhdCA9IDAsIHJlcGVhdERlbGF5ID0gMCwgcmVwZWF0VHlwZSwgdmVsb2NpdHkgPSAwLCB9ID0gb3B0aW9ucztcbiAgICAgICAgbGV0IHsga2V5ZnJhbWVzOiBrZXlmcmFtZXMkMSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgZ2VuZXJhdG9yRmFjdG9yeSA9IHR5cGUgfHwga2V5ZnJhbWVzO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgICAgICBnZW5lcmF0b3JGYWN0b3J5ICE9PSBrZXlmcmFtZXMpIHtcbiAgICAgICAgICAgIGludmFyaWFudChrZXlmcmFtZXMkMS5sZW5ndGggPD0gMiwgYE9ubHkgdHdvIGtleWZyYW1lcyBjdXJyZW50bHkgc3VwcG9ydGVkIHdpdGggc3ByaW5nIGFuZCBpbmVydGlhIGFuaW1hdGlvbnMuIFRyeWluZyB0byBhbmltYXRlICR7a2V5ZnJhbWVzJDF9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlbmVyYXRvckZhY3RvcnkgIT09IGtleWZyYW1lcyAmJlxuICAgICAgICAgICAgdHlwZW9mIGtleWZyYW1lcyQxWzBdICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aGlzLm1peEtleWZyYW1lcyA9IHBpcGUocGVyY2VudFRvUHJvZ3Jlc3MsIG1peChrZXlmcmFtZXMkMVswXSwga2V5ZnJhbWVzJDFbMV0pKTtcbiAgICAgICAgICAgIGtleWZyYW1lcyQxID0gWzAsIDEwMF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VuZXJhdG9yID0gZ2VuZXJhdG9yRmFjdG9yeSh7IC4uLm9wdGlvbnMsIGtleWZyYW1lczoga2V5ZnJhbWVzJDEgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBoYXZlIGEgbWlycm9yIHJlcGVhdCB0eXBlIHdlIG5lZWQgdG8gY3JlYXRlIGEgc2Vjb25kIGdlbmVyYXRvciB0aGF0IG91dHB1dHMgdGhlXG4gICAgICAgICAqIG1pcnJvcmVkIChub3QgcmV2ZXJzZWQpIGFuaW1hdGlvbiBhbmQgbGF0ZXIgcGluZyBwb25nIGJldHdlZW4gdGhlIHR3byBnZW5lcmF0b3JzLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHJlcGVhdFR5cGUgPT09IFwibWlycm9yXCIpIHtcbiAgICAgICAgICAgIHRoaXMubWlycm9yZWRHZW5lcmF0b3IgPSBnZW5lcmF0b3JGYWN0b3J5KHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGtleWZyYW1lczogWy4uLmtleWZyYW1lcyQxXS5yZXZlcnNlKCksXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IC12ZWxvY2l0eSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBkdXJhdGlvbiBpcyB1bmRlZmluZWQgYW5kIHdlIGhhdmUgcmVwZWF0IG9wdGlvbnMsXG4gICAgICAgICAqIHdlIG5lZWQgdG8gY2FsY3VsYXRlIGEgZHVyYXRpb24gZnJvbSB0aGUgZ2VuZXJhdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXZSBzZXQgaXQgdG8gdGhlIGdlbmVyYXRvciBpdHNlbGYgdG8gY2FjaGUgdGhlIGR1cmF0aW9uLlxuICAgICAgICAgKiBBbnkgdGltZWxpbmUgcmVzb2x2ZXIgd2lsbCBuZWVkIHRvIGhhdmUgYWxyZWFkeSBwcmVjYWxjdWxhdGVkXG4gICAgICAgICAqIHRoZSBkdXJhdGlvbiBieSB0aGlzIHN0ZXAuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZ2VuZXJhdG9yLmNhbGN1bGF0ZWREdXJhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZ2VuZXJhdG9yLmNhbGN1bGF0ZWREdXJhdGlvbiA9IGNhbGNHZW5lcmF0b3JEdXJhdGlvbihnZW5lcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY2FsY3VsYXRlZER1cmF0aW9uIH0gPSBnZW5lcmF0b3I7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlZER1cmF0aW9uID0gY2FsY3VsYXRlZER1cmF0aW9uO1xuICAgICAgICB0aGlzLnJlc29sdmVkRHVyYXRpb24gPSBjYWxjdWxhdGVkRHVyYXRpb24gKyByZXBlYXREZWxheTtcbiAgICAgICAgdGhpcy50b3RhbER1cmF0aW9uID0gdGhpcy5yZXNvbHZlZER1cmF0aW9uICogKHJlcGVhdCArIDEpIC0gcmVwZWF0RGVsYXk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xuICAgIH1cbiAgICB1cGRhdGVUaW1lKHRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCBhbmltYXRpb25UaW1lID0gTWF0aC5yb3VuZCh0aW1lc3RhbXAgLSB0aGlzLnN0YXJ0VGltZSkgKiB0aGlzLnBsYXliYWNrU3BlZWQ7XG4gICAgICAgIC8vIFVwZGF0ZSBjdXJyZW50VGltZVxuICAgICAgICBpZiAodGhpcy5ob2xkVGltZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuaG9sZFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSb3VuZGluZyB0aGUgdGltZSBiZWNhdXNlIGZsb2F0aW5nIHBvaW50IGFyaXRobWV0aWMgaXMgbm90IGFsd2F5cyBhY2N1cmF0ZSwgZS5nLiAzMDAwLjM2NyAtIDEwMDAuMzY3ID1cbiAgICAgICAgICAgIC8vIDIwMDAuMDAwMDAwMDAwMDAwMi4gVGhpcyBpcyBhIHByb2JsZW0gd2hlbiB3ZSBhcmUgY29tcGFyaW5nIHRoZSBjdXJyZW50VGltZSB3aXRoIHRoZSBkdXJhdGlvbiwgZm9yXG4gICAgICAgICAgICAvLyBleGFtcGxlLlxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IGFuaW1hdGlvblRpbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGljayh0aW1lc3RhbXAsIHNhbXBsZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHsgZ2VuZXJhdG9yLCB0b3RhbER1cmF0aW9uLCBtaXhLZXlmcmFtZXMsIG1pcnJvcmVkR2VuZXJhdG9yLCByZXNvbHZlZER1cmF0aW9uLCBjYWxjdWxhdGVkRHVyYXRpb24sIH0gPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdGFydFRpbWUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdG9yLm5leHQoMCk7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBrZXlmcmFtZXMsIHJlcGVhdCwgcmVwZWF0VHlwZSwgcmVwZWF0RGVsYXksIHR5cGUsIG9uVXBkYXRlLCBmaW5hbEtleWZyYW1lLCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvKipcbiAgICAgICAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRpbWVzdGFtcHMgY2FuIGNvbWUgdGhyb3VnaCBhcyBsb3dlciB0aGFuXG4gICAgICAgICAqIHRoZSBzdGFydFRpbWUgYXMgc2V0IGJ5IHBlcmZvcm1hbmNlLm5vdygpLiBIZXJlIHdlIHByZXZlbnQgdGhpcyxcbiAgICAgICAgICogdGhvdWdoIGluIHRoZSBmdXR1cmUgaXQgY291bGQgYmUgcG9zc2libGUgdG8gbWFrZSBzZXR0aW5nIHN0YXJ0VGltZVxuICAgICAgICAgKiBhIHBlbmRpbmcgb3BlcmF0aW9uIHRoYXQgZ2V0cyByZXNvbHZlZCBoZXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuc3BlZWQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IE1hdGgubWluKHRoaXMuc3RhcnRUaW1lLCB0aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3BlZWQgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IE1hdGgubWluKHRpbWVzdGFtcCAtIHRvdGFsRHVyYXRpb24gLyB0aGlzLnNwZWVkLCB0aGlzLnN0YXJ0VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNhbXBsZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGltZSh0aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlYmFzZSBvbiBkZWxheVxuICAgICAgICBjb25zdCB0aW1lV2l0aG91dERlbGF5ID0gdGhpcy5jdXJyZW50VGltZSAtIGRlbGF5ICogKHRoaXMucGxheWJhY2tTcGVlZCA+PSAwID8gMSA6IC0xKTtcbiAgICAgICAgY29uc3QgaXNJbkRlbGF5UGhhc2UgPSB0aGlzLnBsYXliYWNrU3BlZWQgPj0gMFxuICAgICAgICAgICAgPyB0aW1lV2l0aG91dERlbGF5IDwgMFxuICAgICAgICAgICAgOiB0aW1lV2l0aG91dERlbGF5ID4gdG90YWxEdXJhdGlvbjtcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IE1hdGgubWF4KHRpbWVXaXRob3V0RGVsYXksIDApO1xuICAgICAgICAvLyBJZiB0aGlzIGFuaW1hdGlvbiBoYXMgZmluaXNoZWQsIHNldCB0aGUgY3VycmVudCB0aW1lICB0byB0aGUgdG90YWwgZHVyYXRpb24uXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcImZpbmlzaGVkXCIgJiYgdGhpcy5ob2xkVGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRvdGFsRHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVsYXBzZWQgPSB0aGlzLmN1cnJlbnRUaW1lO1xuICAgICAgICBsZXQgZnJhbWVHZW5lcmF0b3IgPSBnZW5lcmF0b3I7XG4gICAgICAgIGlmIChyZXBlYXQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IHByb2dyZXNzICgwLTEpIG9mIHRoZSBhbmltYXRpb24uIElmIHQgaXMgPlxuICAgICAgICAgICAgICogdGhhbiBkdXJhdGlvbiB3ZSdsbCBnZXQgdmFsdWVzIGxpa2UgMi41IChtaWR3YXkgdGhyb3VnaCB0aGVcbiAgICAgICAgICAgICAqIHRoaXJkIGl0ZXJhdGlvbilcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbih0aGlzLmN1cnJlbnRUaW1lLCB0b3RhbER1cmF0aW9uKSAvIHJlc29sdmVkRHVyYXRpb247XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdldCB0aGUgY3VycmVudCBpdGVyYXRpb24gKDAgaW5kZXhlZCkuIEZvciBpbnN0YW5jZSB0aGUgZmxvb3Igb2ZcbiAgICAgICAgICAgICAqIDIuNSBpcyAyLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgY3VycmVudEl0ZXJhdGlvbiA9IE1hdGguZmxvb3IocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZXQgdGhlIGN1cnJlbnQgcHJvZ3Jlc3Mgb2YgdGhlIGl0ZXJhdGlvbiBieSB0YWtpbmcgdGhlIHJlbWFpbmRlclxuICAgICAgICAgICAgICogc28gMi41IGlzIDAuNSB0aHJvdWdoIGl0ZXJhdGlvbiAyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCBpdGVyYXRpb25Qcm9ncmVzcyA9IHByb2dyZXNzICUgMS4wO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBpdGVyYXRpb24gcHJvZ3Jlc3MgaXMgMSB3ZSBjb3VudCB0aGF0IGFzIHRoZSBlbmRcbiAgICAgICAgICAgICAqIG9mIHRoZSBwcmV2aW91cyBpdGVyYXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICghaXRlcmF0aW9uUHJvZ3Jlc3MgJiYgcHJvZ3Jlc3MgPj0gMSkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdGlvblByb2dyZXNzID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZXJhdGlvblByb2dyZXNzID09PSAxICYmIGN1cnJlbnRJdGVyYXRpb24tLTtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gPSBNYXRoLm1pbihjdXJyZW50SXRlcmF0aW9uLCByZXBlYXQgKyAxKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmV2ZXJzZSBwcm9ncmVzcyBpZiB3ZSdyZSBub3QgcnVubmluZyBpbiBcIm5vcm1hbFwiIGRpcmVjdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBpc09kZEl0ZXJhdGlvbiA9IEJvb2xlYW4oY3VycmVudEl0ZXJhdGlvbiAlIDIpO1xuICAgICAgICAgICAgaWYgKGlzT2RkSXRlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGVhdFR5cGUgPT09IFwicmV2ZXJzZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvblByb2dyZXNzID0gMSAtIGl0ZXJhdGlvblByb2dyZXNzO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVwZWF0RGVsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvblByb2dyZXNzIC09IHJlcGVhdERlbGF5IC8gcmVzb2x2ZWREdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXBlYXRUeXBlID09PSBcIm1pcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lR2VuZXJhdG9yID0gbWlycm9yZWRHZW5lcmF0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxhcHNlZCA9IGNsYW1wKDAsIDEsIGl0ZXJhdGlvblByb2dyZXNzKSAqIHJlc29sdmVkRHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlJ3JlIGluIG5lZ2F0aXZlIHRpbWUsIHNldCBzdGF0ZSBhcyB0aGUgaW5pdGlhbCBrZXlmcmFtZS5cbiAgICAgICAgICogVGhpcyBwcmV2ZW50cyBkZWxheTogeCwgZHVyYXRpb246IDAgYW5pbWF0aW9ucyBmcm9tIGZpbmlzaGluZ1xuICAgICAgICAgKiBpbnN0YW50bHkuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGlzSW5EZWxheVBoYXNlXG4gICAgICAgICAgICA/IHsgZG9uZTogZmFsc2UsIHZhbHVlOiBrZXlmcmFtZXNbMF0gfVxuICAgICAgICAgICAgOiBmcmFtZUdlbmVyYXRvci5uZXh0KGVsYXBzZWQpO1xuICAgICAgICBpZiAobWl4S2V5ZnJhbWVzKSB7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IG1peEtleWZyYW1lcyhzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgZG9uZSB9ID0gc3RhdGU7XG4gICAgICAgIGlmICghaXNJbkRlbGF5UGhhc2UgJiYgY2FsY3VsYXRlZER1cmF0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkb25lID1cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXliYWNrU3BlZWQgPj0gMFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY3VycmVudFRpbWUgPj0gdG90YWxEdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY3VycmVudFRpbWUgPD0gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0FuaW1hdGlvbkZpbmlzaGVkID0gdGhpcy5ob2xkVGltZSA9PT0gbnVsbCAmJlxuICAgICAgICAgICAgKHRoaXMuc3RhdGUgPT09IFwiZmluaXNoZWRcIiB8fCAodGhpcy5zdGF0ZSA9PT0gXCJydW5uaW5nXCIgJiYgZG9uZSkpO1xuICAgICAgICAvLyBUT0RPOiBUaGUgZXhjZXB0aW9uIGZvciBpbmVydGlhIGNvdWxkIGJlIGNsZWFuZXIgaGVyZVxuICAgICAgICBpZiAoaXNBbmltYXRpb25GaW5pc2hlZCAmJiB0eXBlICE9PSBpbmVydGlhKSB7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IGdldEZpbmFsS2V5ZnJhbWUoa2V5ZnJhbWVzLCB0aGlzLm9wdGlvbnMsIGZpbmFsS2V5ZnJhbWUsIHRoaXMuc3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblVwZGF0ZSkge1xuICAgICAgICAgICAgb25VcGRhdGUoc3RhdGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FuaW1hdGlvbkZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRoZSByZXR1cm5lZCBhbmltYXRpb24gdG8gYmUgYXdhaXRlZCBvciBwcm9taXNlLWNoYWluZWQuIEN1cnJlbnRseVxuICAgICAqIHJlc29sdmVzIHdoZW4gdGhlIGFuaW1hdGlvbiBmaW5pc2hlcyBhdCBhbGwgYnV0IGluIGEgZnV0dXJlIHVwZGF0ZSBjb3VsZC9zaG91bGRcbiAgICAgKiByZWplY3QgaWYgaXRzIGNhbmNlbHMuXG4gICAgICovXG4gICAgdGhlbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoZWQudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH1cbiAgICBnZXQgZHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBtaWxsaXNlY29uZHNUb1NlY29uZHModGhpcy5jYWxjdWxhdGVkRHVyYXRpb24pO1xuICAgIH1cbiAgICBnZXQgdGltZSgpIHtcbiAgICAgICAgcmV0dXJuIG1pbGxpc2Vjb25kc1RvU2Vjb25kcyh0aGlzLmN1cnJlbnRUaW1lKTtcbiAgICB9XG4gICAgc2V0IHRpbWUobmV3VGltZSkge1xuICAgICAgICBuZXdUaW1lID0gc2Vjb25kc1RvTWlsbGlzZWNvbmRzKG5ld1RpbWUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gbmV3VGltZTtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRUaW1lID09PSBudWxsIHx8XG4gICAgICAgICAgICB0aGlzLmhvbGRUaW1lICE9PSBudWxsIHx8XG4gICAgICAgICAgICB0aGlzLnBsYXliYWNrU3BlZWQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaG9sZFRpbWUgPSBuZXdUaW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZHJpdmVyKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IHRoaXMuZHJpdmVyLm5vdygpIC0gbmV3VGltZSAvIHRoaXMucGxheWJhY2tTcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc3BlZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXliYWNrU3BlZWQ7XG4gICAgfVxuICAgIHNldCBzcGVlZChuZXdTcGVlZCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWUodGltZS5ub3coKSk7XG4gICAgICAgIGNvbnN0IGhhc0NoYW5nZWQgPSB0aGlzLnBsYXliYWNrU3BlZWQgIT09IG5ld1NwZWVkO1xuICAgICAgICB0aGlzLnBsYXliYWNrU3BlZWQgPSBuZXdTcGVlZDtcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMudGltZSA9IG1pbGxpc2Vjb25kc1RvU2Vjb25kcyh0aGlzLmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgZHJpdmVyID0gZnJhbWVsb29wRHJpdmVyLCBvblBsYXksIHN0YXJ0VGltZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoIXRoaXMuZHJpdmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRyaXZlciA9IGRyaXZlcigodGltZXN0YW1wKSA9PiB0aGlzLnRpY2sodGltZXN0YW1wKSk7XG4gICAgICAgIH1cbiAgICAgICAgb25QbGF5ICYmIG9uUGxheSgpO1xuICAgICAgICBjb25zdCBub3cgPSB0aGlzLmRyaXZlci5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFwiZmluaXNoZWRcIikge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGaW5pc2hlZCgpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBub3c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5ob2xkVGltZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBub3cgLSB0aGlzLmhvbGRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLnN0YXJ0VGltZSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWUgPz8gbm93O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcImZpbmlzaGVkXCIgJiYgdGhpcy5zcGVlZCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lICs9IHRoaXMuY2FsY3VsYXRlZER1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG9sZFRpbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHBsYXlTdGF0ZSB0byBydW5uaW5nIG9ubHkgYWZ0ZXIgd2UndmUgdXNlZCBpdCBpblxuICAgICAgICAgKiB0aGUgcHJldmlvdXMgbG9naWMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJydW5uaW5nXCI7XG4gICAgICAgIHRoaXMuZHJpdmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJwYXVzZWRcIjtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lKHRpbWUubm93KCkpO1xuICAgICAgICB0aGlzLmhvbGRUaW1lID0gdGhpcy5jdXJyZW50VGltZTtcbiAgICB9XG4gICAgY29tcGxldGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBcInJ1bm5pbmdcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiZmluaXNoZWRcIjtcbiAgICAgICAgdGhpcy5ob2xkVGltZSA9IG51bGw7XG4gICAgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgdGhpcy50ZWFyZG93bigpO1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJmaW5pc2hlZFwiO1xuICAgICAgICBjb25zdCB7IG9uQ29tcGxldGUgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgb25Db21wbGV0ZSAmJiBvbkNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5ob2xkVGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gMDtcbiAgICAgICAgdGhpcy50aWNrKDApO1xuICAgICAgICB0aGlzLnRlYXJkb3duKCk7XG4gICAgfVxuICAgIHRlYXJkb3duKCkge1xuICAgICAgICB0aGlzLm5vdGlmeUZpbmlzaGVkKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImlkbGVcIjtcbiAgICAgICAgdGhpcy5zdG9wRHJpdmVyKCk7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gdGhpcy5ob2xkVGltZSA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUFuaW1hdGlvbnMubWFpblRocmVhZC0tO1xuICAgIH1cbiAgICBzdG9wRHJpdmVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuZHJpdmVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmRyaXZlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuZHJpdmVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzYW1wbGUoc2FtcGxlVGltZSkge1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzLnRpY2soc2FtcGxlVGltZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGF0dGFjaFRpbWVsaW5lKHRpbWVsaW5lKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dGbGF0dGVuKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudHlwZSA9IFwia2V5ZnJhbWVzXCI7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZWFzZSA9IFwibGluZWFyXCI7XG4gICAgICAgICAgICB0aGlzLmluaXRBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGltZWxpbmUub2JzZXJ2ZSh0aGlzKTtcbiAgICB9XG59XG4vLyBMZWdhY3kgZnVuY3Rpb24gc3VwcG9ydFxuZnVuY3Rpb24gYW5pbWF0ZVZhbHVlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IEpTQW5pbWF0aW9uKG9wdGlvbnMpO1xufVxuXG5leHBvcnQgeyBKU0FuaW1hdGlvbiwgYW5pbWF0ZVZhbHVlIH07XG4iLCAiY29uc3QgYWN0aXZlQW5pbWF0aW9ucyA9IHtcbiAgICBsYXlvdXQ6IDAsXG4gICAgbWFpblRocmVhZDogMCxcbiAgICB3YWFwaTogMCxcbn07XG5cbmV4cG9ydCB7IGFjdGl2ZUFuaW1hdGlvbnMgfTtcbiIsICJpbXBvcnQgeyBnZXRNaXhlciB9IGZyb20gJy4vY29tcGxleC5tanMnO1xuaW1wb3J0IHsgbWl4TnVtYmVyIH0gZnJvbSAnLi9udW1iZXIubWpzJztcblxuZnVuY3Rpb24gbWl4KGZyb20sIHRvLCBwKSB7XG4gICAgaWYgKHR5cGVvZiBmcm9tID09PSBcIm51bWJlclwiICYmXG4gICAgICAgIHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICB0eXBlb2YgcCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gbWl4TnVtYmVyKGZyb20sIHRvLCBwKTtcbiAgICB9XG4gICAgY29uc3QgbWl4ZXIgPSBnZXRNaXhlcihmcm9tKTtcbiAgICByZXR1cm4gbWl4ZXIoZnJvbSwgdG8pO1xufVxuXG5leHBvcnQgeyBtaXggfTtcbiIsICJpbXBvcnQgeyBpc0NTU1ZhcmlhYmxlVG9rZW4gfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvaXMtY3NzLXZhcmlhYmxlLm1qcyc7XG5pbXBvcnQgeyBjb2xvciB9IGZyb20gJy4uLy4uL3ZhbHVlL3R5cGVzL2NvbG9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBjb21wbGV4LCBhbmFseXNlQ29tcGxleFZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdHlwZXMvY29tcGxleC9pbmRleC5tanMnO1xuaW1wb3J0IHsgbWl4Q29sb3IgfSBmcm9tICcuL2NvbG9yLm1qcyc7XG5pbXBvcnQgeyBtaXhJbW1lZGlhdGUgfSBmcm9tICcuL2ltbWVkaWF0ZS5tanMnO1xuaW1wb3J0IHsgbWl4TnVtYmVyIGFzIG1peE51bWJlciQxIH0gZnJvbSAnLi9udW1iZXIubWpzJztcbmltcG9ydCB7IGludmlzaWJsZVZhbHVlcywgbWl4VmlzaWJpbGl0eSB9IGZyb20gJy4vdmlzaWJpbGl0eS5tanMnO1xuaW1wb3J0IHsgcGlwZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3BpcGUubWpzJztcbmltcG9ydCB7IHdhcm5pbmcgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lcnJvcnMubWpzJztcblxuZnVuY3Rpb24gbWl4TnVtYmVyKGEsIGIpIHtcbiAgICByZXR1cm4gKHApID0+IG1peE51bWJlciQxKGEsIGIsIHApO1xufVxuZnVuY3Rpb24gZ2V0TWl4ZXIoYSkge1xuICAgIGlmICh0eXBlb2YgYSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gbWl4TnVtYmVyO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gaXNDU1NWYXJpYWJsZVRva2VuKGEpXG4gICAgICAgICAgICA/IG1peEltbWVkaWF0ZVxuICAgICAgICAgICAgOiBjb2xvci50ZXN0KGEpXG4gICAgICAgICAgICAgICAgPyBtaXhDb2xvclxuICAgICAgICAgICAgICAgIDogbWl4Q29tcGxleDtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgICByZXR1cm4gbWl4QXJyYXk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJldHVybiBjb2xvci50ZXN0KGEpID8gbWl4Q29sb3IgOiBtaXhPYmplY3Q7XG4gICAgfVxuICAgIHJldHVybiBtaXhJbW1lZGlhdGU7XG59XG5mdW5jdGlvbiBtaXhBcnJheShhLCBiKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gWy4uLmFdO1xuICAgIGNvbnN0IG51bVZhbHVlcyA9IG91dHB1dC5sZW5ndGg7XG4gICAgY29uc3QgYmxlbmRWYWx1ZSA9IGEubWFwKCh2LCBpKSA9PiBnZXRNaXhlcih2KSh2LCBiW2ldKSk7XG4gICAgcmV0dXJuIChwKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmFsdWVzOyBpKyspIHtcbiAgICAgICAgICAgIG91dHB1dFtpXSA9IGJsZW5kVmFsdWVbaV0ocCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufVxuZnVuY3Rpb24gbWl4T2JqZWN0KGEsIGIpIHtcbiAgICBjb25zdCBvdXRwdXQgPSB7IC4uLmEsIC4uLmIgfTtcbiAgICBjb25zdCBibGVuZFZhbHVlID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3V0cHV0KSB7XG4gICAgICAgIGlmIChhW2tleV0gIT09IHVuZGVmaW5lZCAmJiBiW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmxlbmRWYWx1ZVtrZXldID0gZ2V0TWl4ZXIoYVtrZXldKShhW2tleV0sIGJba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGJsZW5kVmFsdWUpIHtcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gYmxlbmRWYWx1ZVtrZXldKHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1hdGNoT3JkZXIob3JpZ2luLCB0YXJnZXQpIHtcbiAgICBjb25zdCBvcmRlcmVkT3JpZ2luID0gW107XG4gICAgY29uc3QgcG9pbnRlcnMgPSB7IGNvbG9yOiAwLCB2YXI6IDAsIG51bWJlcjogMCB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0LnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0eXBlID0gdGFyZ2V0LnR5cGVzW2ldO1xuICAgICAgICBjb25zdCBvcmlnaW5JbmRleCA9IG9yaWdpbi5pbmRleGVzW3R5cGVdW3BvaW50ZXJzW3R5cGVdXTtcbiAgICAgICAgY29uc3Qgb3JpZ2luVmFsdWUgPSBvcmlnaW4udmFsdWVzW29yaWdpbkluZGV4XSA/PyAwO1xuICAgICAgICBvcmRlcmVkT3JpZ2luW2ldID0gb3JpZ2luVmFsdWU7XG4gICAgICAgIHBvaW50ZXJzW3R5cGVdKys7XG4gICAgfVxuICAgIHJldHVybiBvcmRlcmVkT3JpZ2luO1xufVxuY29uc3QgbWl4Q29tcGxleCA9IChvcmlnaW4sIHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gY29tcGxleC5jcmVhdGVUcmFuc2Zvcm1lcih0YXJnZXQpO1xuICAgIGNvbnN0IG9yaWdpblN0YXRzID0gYW5hbHlzZUNvbXBsZXhWYWx1ZShvcmlnaW4pO1xuICAgIGNvbnN0IHRhcmdldFN0YXRzID0gYW5hbHlzZUNvbXBsZXhWYWx1ZSh0YXJnZXQpO1xuICAgIGNvbnN0IGNhbkludGVycG9sYXRlID0gb3JpZ2luU3RhdHMuaW5kZXhlcy52YXIubGVuZ3RoID09PSB0YXJnZXRTdGF0cy5pbmRleGVzLnZhci5sZW5ndGggJiZcbiAgICAgICAgb3JpZ2luU3RhdHMuaW5kZXhlcy5jb2xvci5sZW5ndGggPT09IHRhcmdldFN0YXRzLmluZGV4ZXMuY29sb3IubGVuZ3RoICYmXG4gICAgICAgIG9yaWdpblN0YXRzLmluZGV4ZXMubnVtYmVyLmxlbmd0aCA+PSB0YXJnZXRTdGF0cy5pbmRleGVzLm51bWJlci5sZW5ndGg7XG4gICAgaWYgKGNhbkludGVycG9sYXRlKSB7XG4gICAgICAgIGlmICgoaW52aXNpYmxlVmFsdWVzLmhhcyhvcmlnaW4pICYmXG4gICAgICAgICAgICAhdGFyZ2V0U3RhdHMudmFsdWVzLmxlbmd0aCkgfHxcbiAgICAgICAgICAgIChpbnZpc2libGVWYWx1ZXMuaGFzKHRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICAhb3JpZ2luU3RhdHMudmFsdWVzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtaXhWaXNpYmlsaXR5KG9yaWdpbiwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZShtaXhBcnJheShtYXRjaE9yZGVyKG9yaWdpblN0YXRzLCB0YXJnZXRTdGF0cyksIHRhcmdldFN0YXRzLnZhbHVlcyksIHRlbXBsYXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdhcm5pbmcodHJ1ZSwgYENvbXBsZXggdmFsdWVzICcke29yaWdpbn0nIGFuZCAnJHt0YXJnZXR9JyB0b28gZGlmZmVyZW50IHRvIG1peC4gRW5zdXJlIGFsbCBjb2xvcnMgYXJlIG9mIHRoZSBzYW1lIHR5cGUsIGFuZCB0aGF0IGVhY2ggY29udGFpbnMgdGhlIHNhbWUgcXVhbnRpdHkgb2YgbnVtYmVyIGFuZCBjb2xvciB2YWx1ZXMuIEZhbGxpbmcgYmFjayB0byBpbnN0YW50IHRyYW5zaXRpb24uYCk7XG4gICAgICAgIHJldHVybiBtaXhJbW1lZGlhdGUob3JpZ2luLCB0YXJnZXQpO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IGdldE1peGVyLCBtaXhBcnJheSwgbWl4Q29tcGxleCwgbWl4T2JqZWN0IH07XG4iLCAiaW1wb3J0IHsgaGV4IH0gZnJvbSAnLi9oZXgubWpzJztcbmltcG9ydCB7IGhzbGEgfSBmcm9tICcuL2hzbGEubWpzJztcbmltcG9ydCB7IHJnYmEgfSBmcm9tICcuL3JnYmEubWpzJztcblxuY29uc3QgY29sb3IgPSB7XG4gICAgdGVzdDogKHYpID0+IHJnYmEudGVzdCh2KSB8fCBoZXgudGVzdCh2KSB8fCBoc2xhLnRlc3QodiksXG4gICAgcGFyc2U6ICh2KSA9PiB7XG4gICAgICAgIGlmIChyZ2JhLnRlc3QodikpIHtcbiAgICAgICAgICAgIHJldHVybiByZ2JhLnBhcnNlKHYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhzbGEudGVzdCh2KSkge1xuICAgICAgICAgICAgcmV0dXJuIGhzbGEucGFyc2Uodik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaGV4LnBhcnNlKHYpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB0cmFuc2Zvcm06ICh2KSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyB2XG4gICAgICAgICAgICA6IHYuaGFzT3duUHJvcGVydHkoXCJyZWRcIilcbiAgICAgICAgICAgICAgICA/IHJnYmEudHJhbnNmb3JtKHYpXG4gICAgICAgICAgICAgICAgOiBoc2xhLnRyYW5zZm9ybSh2KTtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgY29sb3IgfTtcbiIsICJpbXBvcnQgeyByZ2JhIH0gZnJvbSAnLi9yZ2JhLm1qcyc7XG5pbXBvcnQgeyBpc0NvbG9yU3RyaW5nIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBwYXJzZUhleCh2KSB7XG4gICAgbGV0IHIgPSBcIlwiO1xuICAgIGxldCBnID0gXCJcIjtcbiAgICBsZXQgYiA9IFwiXCI7XG4gICAgbGV0IGEgPSBcIlwiO1xuICAgIC8vIElmIHdlIGhhdmUgNiBjaGFyYWN0ZXJzLCBpZSAjRkYwMDAwXG4gICAgaWYgKHYubGVuZ3RoID4gNSkge1xuICAgICAgICByID0gdi5zdWJzdHJpbmcoMSwgMyk7XG4gICAgICAgIGcgPSB2LnN1YnN0cmluZygzLCA1KTtcbiAgICAgICAgYiA9IHYuc3Vic3RyaW5nKDUsIDcpO1xuICAgICAgICBhID0gdi5zdWJzdHJpbmcoNywgOSk7XG4gICAgICAgIC8vIE9yIHdlIGhhdmUgMyBjaGFyYWN0ZXJzLCBpZSAjRjAwXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByID0gdi5zdWJzdHJpbmcoMSwgMik7XG4gICAgICAgIGcgPSB2LnN1YnN0cmluZygyLCAzKTtcbiAgICAgICAgYiA9IHYuc3Vic3RyaW5nKDMsIDQpO1xuICAgICAgICBhID0gdi5zdWJzdHJpbmcoNCwgNSk7XG4gICAgICAgIHIgKz0gcjtcbiAgICAgICAgZyArPSBnO1xuICAgICAgICBiICs9IGI7XG4gICAgICAgIGEgKz0gYTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVkOiBwYXJzZUludChyLCAxNiksXG4gICAgICAgIGdyZWVuOiBwYXJzZUludChnLCAxNiksXG4gICAgICAgIGJsdWU6IHBhcnNlSW50KGIsIDE2KSxcbiAgICAgICAgYWxwaGE6IGEgPyBwYXJzZUludChhLCAxNikgLyAyNTUgOiAxLFxuICAgIH07XG59XG5jb25zdCBoZXggPSB7XG4gICAgdGVzdDogLypAX19QVVJFX18qLyBpc0NvbG9yU3RyaW5nKFwiI1wiKSxcbiAgICBwYXJzZTogcGFyc2VIZXgsXG4gICAgdHJhbnNmb3JtOiByZ2JhLnRyYW5zZm9ybSxcbn07XG5cbmV4cG9ydCB7IGhleCB9O1xuIiwgImltcG9ydCB7IG51bWJlciwgYWxwaGEgfSBmcm9tICcuLi9udW1iZXJzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZSB9IGZyb20gJy4uL3V0aWxzL3Nhbml0aXplLm1qcyc7XG5pbXBvcnQgeyBpc0NvbG9yU3RyaW5nLCBzcGxpdENvbG9yIH0gZnJvbSAnLi91dGlscy5tanMnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9jbGFtcC5tanMnO1xuXG5jb25zdCBjbGFtcFJnYlVuaXQgPSAodikgPT4gY2xhbXAoMCwgMjU1LCB2KTtcbmNvbnN0IHJnYlVuaXQgPSB7XG4gICAgLi4ubnVtYmVyLFxuICAgIHRyYW5zZm9ybTogKHYpID0+IE1hdGgucm91bmQoY2xhbXBSZ2JVbml0KHYpKSxcbn07XG5jb25zdCByZ2JhID0ge1xuICAgIHRlc3Q6IC8qQF9fUFVSRV9fKi8gaXNDb2xvclN0cmluZyhcInJnYlwiLCBcInJlZFwiKSxcbiAgICBwYXJzZTogLypAX19QVVJFX18qLyBzcGxpdENvbG9yKFwicmVkXCIsIFwiZ3JlZW5cIiwgXCJibHVlXCIpLFxuICAgIHRyYW5zZm9ybTogKHsgcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGE6IGFscGhhJDEgPSAxIH0pID0+IFwicmdiYShcIiArXG4gICAgICAgIHJnYlVuaXQudHJhbnNmb3JtKHJlZCkgK1xuICAgICAgICBcIiwgXCIgK1xuICAgICAgICByZ2JVbml0LnRyYW5zZm9ybShncmVlbikgK1xuICAgICAgICBcIiwgXCIgK1xuICAgICAgICByZ2JVbml0LnRyYW5zZm9ybShibHVlKSArXG4gICAgICAgIFwiLCBcIiArXG4gICAgICAgIHNhbml0aXplKGFscGhhLnRyYW5zZm9ybShhbHBoYSQxKSkgK1xuICAgICAgICBcIilcIixcbn07XG5cbmV4cG9ydCB7IHJnYlVuaXQsIHJnYmEgfTtcbiIsICIvLyBJZiB0aGlzIG51bWJlciBpcyBhIGRlY2ltYWwsIG1ha2UgaXQganVzdCBmaXZlIGRlY2ltYWwgcGxhY2VzXG4vLyB0byBhdm9pZCBleHBvbmVudHNcbmNvbnN0IHNhbml0aXplID0gKHYpID0+IE1hdGgucm91bmQodiAqIDEwMDAwMCkgLyAxMDAwMDA7XG5cbmV4cG9ydCB7IHNhbml0aXplIH07XG4iLCAiaW1wb3J0IHsgZmxvYXRSZWdleCB9IGZyb20gJy4uL3V0aWxzL2Zsb2F0LXJlZ2V4Lm1qcyc7XG5pbXBvcnQgeyBpc051bGxpc2ggfSBmcm9tICcuLi91dGlscy9pcy1udWxsaXNoLm1qcyc7XG5pbXBvcnQgeyBzaW5nbGVDb2xvclJlZ2V4IH0gZnJvbSAnLi4vdXRpbHMvc2luZ2xlLWNvbG9yLXJlZ2V4Lm1qcyc7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBzdHJpbmcgaXMgYSBjb2xvciwgaWUgcmdiYSgwLDAsMCwwKSBvciAjMDAwLFxuICogYnV0IGZhbHNlIGlmIGEgbnVtYmVyIG9yIG11bHRpcGxlIGNvbG9yc1xuICovXG5jb25zdCBpc0NvbG9yU3RyaW5nID0gKHR5cGUsIHRlc3RQcm9wKSA9PiAodikgPT4ge1xuICAgIHJldHVybiBCb29sZWFuKCh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICBzaW5nbGVDb2xvclJlZ2V4LnRlc3QodikgJiZcbiAgICAgICAgdi5zdGFydHNXaXRoKHR5cGUpKSB8fFxuICAgICAgICAodGVzdFByb3AgJiZcbiAgICAgICAgICAgICFpc051bGxpc2godikgJiZcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2LCB0ZXN0UHJvcCkpKTtcbn07XG5jb25zdCBzcGxpdENvbG9yID0gKGFOYW1lLCBiTmFtZSwgY05hbWUpID0+ICh2KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2ICE9PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gdjtcbiAgICBjb25zdCBbYSwgYiwgYywgYWxwaGFdID0gdi5tYXRjaChmbG9hdFJlZ2V4KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYU5hbWVdOiBwYXJzZUZsb2F0KGEpLFxuICAgICAgICBbYk5hbWVdOiBwYXJzZUZsb2F0KGIpLFxuICAgICAgICBbY05hbWVdOiBwYXJzZUZsb2F0KGMpLFxuICAgICAgICBhbHBoYTogYWxwaGEgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoYWxwaGEpIDogMSxcbiAgICB9O1xufTtcblxuZXhwb3J0IHsgaXNDb2xvclN0cmluZywgc3BsaXRDb2xvciB9O1xuIiwgImNvbnN0IGZsb2F0UmVnZXggPSAvLT8oPzpcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspL2d1O1xuXG5leHBvcnQgeyBmbG9hdFJlZ2V4IH07XG4iLCAiZnVuY3Rpb24gaXNOdWxsaXNoKHYpIHtcbiAgICByZXR1cm4gdiA9PSBudWxsO1xufVxuXG5leHBvcnQgeyBpc051bGxpc2ggfTtcbiIsICJjb25zdCBzaW5nbGVDb2xvclJlZ2V4ID0gL14oPzojW1xcZGEtZl17Myw4fXwoPzpyZ2J8aHNsKWE/XFwoKD86LT9bXFxkLl0rJT9bLFxcc10rKXsyfS0/W1xcZC5dKyU/XFxzKig/OlssL11cXHMqKT8oPzpcXGJcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspPyU/XFwpKSQvaXU7XG5cbmV4cG9ydCB7IHNpbmdsZUNvbG9yUmVnZXggfTtcbiIsICJpbXBvcnQgeyBhbHBoYSB9IGZyb20gJy4uL251bWJlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHBlcmNlbnQgfSBmcm9tICcuLi9udW1iZXJzL3VuaXRzLm1qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZSB9IGZyb20gJy4uL3V0aWxzL3Nhbml0aXplLm1qcyc7XG5pbXBvcnQgeyBpc0NvbG9yU3RyaW5nLCBzcGxpdENvbG9yIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5jb25zdCBoc2xhID0ge1xuICAgIHRlc3Q6IC8qQF9fUFVSRV9fKi8gaXNDb2xvclN0cmluZyhcImhzbFwiLCBcImh1ZVwiKSxcbiAgICBwYXJzZTogLypAX19QVVJFX18qLyBzcGxpdENvbG9yKFwiaHVlXCIsIFwic2F0dXJhdGlvblwiLCBcImxpZ2h0bmVzc1wiKSxcbiAgICB0cmFuc2Zvcm06ICh7IGh1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzLCBhbHBoYTogYWxwaGEkMSA9IDEgfSkgPT4ge1xuICAgICAgICByZXR1cm4gKFwiaHNsYShcIiArXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGh1ZSkgK1xuICAgICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICAgIHBlcmNlbnQudHJhbnNmb3JtKHNhbml0aXplKHNhdHVyYXRpb24pKSArXG4gICAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgICAgcGVyY2VudC50cmFuc2Zvcm0oc2FuaXRpemUobGlnaHRuZXNzKSkgK1xuICAgICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICAgIHNhbml0aXplKGFscGhhLnRyYW5zZm9ybShhbHBoYSQxKSkgK1xuICAgICAgICAgICAgXCIpXCIpO1xuICAgIH0sXG59O1xuXG5leHBvcnQgeyBoc2xhIH07XG4iLCAiaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi9jb2xvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgY29sb3JSZWdleCB9IGZyb20gJy4uL3V0aWxzL2NvbG9yLXJlZ2V4Lm1qcyc7XG5pbXBvcnQgeyBmbG9hdFJlZ2V4IH0gZnJvbSAnLi4vdXRpbHMvZmxvYXQtcmVnZXgubWpzJztcbmltcG9ydCB7IHNhbml0aXplIH0gZnJvbSAnLi4vdXRpbHMvc2FuaXRpemUubWpzJztcblxuZnVuY3Rpb24gdGVzdCh2KSB7XG4gICAgcmV0dXJuIChpc05hTih2KSAmJlxuICAgICAgICB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAodi5tYXRjaChmbG9hdFJlZ2V4KT8ubGVuZ3RoIHx8IDApICtcbiAgICAgICAgICAgICh2Lm1hdGNoKGNvbG9yUmVnZXgpPy5sZW5ndGggfHwgMCkgPlxuICAgICAgICAgICAgMCk7XG59XG5jb25zdCBOVU1CRVJfVE9LRU4gPSBcIm51bWJlclwiO1xuY29uc3QgQ09MT1JfVE9LRU4gPSBcImNvbG9yXCI7XG5jb25zdCBWQVJfVE9LRU4gPSBcInZhclwiO1xuY29uc3QgVkFSX0ZVTkNUSU9OX1RPS0VOID0gXCJ2YXIoXCI7XG5jb25zdCBTUExJVF9UT0tFTiA9IFwiJHt9XCI7XG4vLyB0aGlzIHJlZ2V4IGNvbnNpc3RzIG9mIHRoZSBgc2luZ2xlQ3NzVmFyaWFibGVSZWdleHxyZ2JIU0xWYWx1ZVJlZ2V4fGRpZ2l0UmVnZXhgXG5jb25zdCBjb21wbGV4UmVnZXggPSAvdmFyXFxzKlxcKFxccyotLSg/OltcXHctXStcXHMqfFtcXHctXStcXHMqLCg/OlxccypbXikoXFxzXXxcXHMqXFwoKD86W14pKF18XFwoW14pKF0qXFwpKSpcXCkpK1xccyopXFwpfCNbXFxkYS1mXXszLDh9fCg/OnJnYnxoc2wpYT9cXCgoPzotP1tcXGQuXSslP1ssXFxzXSspezJ9LT9bXFxkLl0rJT9cXHMqKD86WywvXVxccyopPyg/OlxcYlxcZCsoPzpcXC5cXGQrKT98XFwuXFxkKyk/JT9cXCl8LT8oPzpcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspL2dpdTtcbmZ1bmN0aW9uIGFuYWx5c2VDb21wbGV4VmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBjb25zdCBpbmRleGVzID0ge1xuICAgICAgICBjb2xvcjogW10sXG4gICAgICAgIG51bWJlcjogW10sXG4gICAgICAgIHZhcjogW10sXG4gICAgfTtcbiAgICBjb25zdCB0eXBlcyA9IFtdO1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCB0b2tlbmlzZWQgPSBvcmlnaW5hbFZhbHVlLnJlcGxhY2UoY29tcGxleFJlZ2V4LCAocGFyc2VkVmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGNvbG9yLnRlc3QocGFyc2VkVmFsdWUpKSB7XG4gICAgICAgICAgICBpbmRleGVzLmNvbG9yLnB1c2goaSk7XG4gICAgICAgICAgICB0eXBlcy5wdXNoKENPTE9SX1RPS0VOKTtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGNvbG9yLnBhcnNlKHBhcnNlZFZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyc2VkVmFsdWUuc3RhcnRzV2l0aChWQVJfRlVOQ1RJT05fVE9LRU4pKSB7XG4gICAgICAgICAgICBpbmRleGVzLnZhci5wdXNoKGkpO1xuICAgICAgICAgICAgdHlwZXMucHVzaChWQVJfVE9LRU4pO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2gocGFyc2VkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXhlcy5udW1iZXIucHVzaChpKTtcbiAgICAgICAgICAgIHR5cGVzLnB1c2goTlVNQkVSX1RPS0VOKTtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHBhcnNlRmxvYXQocGFyc2VkVmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICArK2k7XG4gICAgICAgIHJldHVybiBTUExJVF9UT0tFTjtcbiAgICB9KTtcbiAgICBjb25zdCBzcGxpdCA9IHRva2VuaXNlZC5zcGxpdChTUExJVF9UT0tFTik7XG4gICAgcmV0dXJuIHsgdmFsdWVzLCBzcGxpdCwgaW5kZXhlcywgdHlwZXMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlQ29tcGxleFZhbHVlKHYpIHtcbiAgICByZXR1cm4gYW5hbHlzZUNvbXBsZXhWYWx1ZSh2KS52YWx1ZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1lcihzb3VyY2UpIHtcbiAgICBjb25zdCB7IHNwbGl0LCB0eXBlcyB9ID0gYW5hbHlzZUNvbXBsZXhWYWx1ZShzb3VyY2UpO1xuICAgIGNvbnN0IG51bVNlY3Rpb25zID0gc3BsaXQubGVuZ3RoO1xuICAgIHJldHVybiAodikgPT4ge1xuICAgICAgICBsZXQgb3V0cHV0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1TZWN0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gc3BsaXRbaV07XG4gICAgICAgICAgICBpZiAodltpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBOVU1CRVJfVE9LRU4pIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9IHNhbml0aXplKHZbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBDT0xPUl9UT0tFTikge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgKz0gY29sb3IudHJhbnNmb3JtKHZbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9IHZbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn1cbmNvbnN0IGNvbnZlcnROdW1iZXJzVG9aZXJvID0gKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiID8gMCA6IHY7XG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlTm9uZSh2KSB7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VDb21wbGV4VmFsdWUodik7XG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVUcmFuc2Zvcm1lcih2KTtcbiAgICByZXR1cm4gdHJhbnNmb3JtZXIocGFyc2VkLm1hcChjb252ZXJ0TnVtYmVyc1RvWmVybykpO1xufVxuY29uc3QgY29tcGxleCA9IHtcbiAgICB0ZXN0LFxuICAgIHBhcnNlOiBwYXJzZUNvbXBsZXhWYWx1ZSxcbiAgICBjcmVhdGVUcmFuc2Zvcm1lcixcbiAgICBnZXRBbmltYXRhYmxlTm9uZSxcbn07XG5cbmV4cG9ydCB7IGFuYWx5c2VDb21wbGV4VmFsdWUsIGNvbXBsZXggfTtcbiIsICJjb25zdCBjb2xvclJlZ2V4ID0gLyg/OiNbXFxkYS1mXXszLDh9fCg/OnJnYnxoc2wpYT9cXCgoPzotP1tcXGQuXSslP1ssXFxzXSspezJ9LT9bXFxkLl0rJT9cXHMqKD86WywvXVxccyopPyg/OlxcYlxcZCsoPzpcXC5cXGQrKT98XFwuXFxkKyk/JT9cXCkpL2dpdTtcblxuZXhwb3J0IHsgY29sb3JSZWdleCB9O1xuIiwgImltcG9ydCB7IGhleCB9IGZyb20gJy4uLy4uL3ZhbHVlL3R5cGVzL2NvbG9yL2hleC5tanMnO1xuaW1wb3J0IHsgaHNsYSB9IGZyb20gJy4uLy4uL3ZhbHVlL3R5cGVzL2NvbG9yL2hzbGEubWpzJztcbmltcG9ydCB7IGhzbGFUb1JnYmEgfSBmcm9tICcuLi8uLi92YWx1ZS90eXBlcy9jb2xvci9oc2xhLXRvLXJnYmEubWpzJztcbmltcG9ydCB7IHJnYmEgfSBmcm9tICcuLi8uLi92YWx1ZS90eXBlcy9jb2xvci9yZ2JhLm1qcyc7XG5pbXBvcnQgeyBtaXhJbW1lZGlhdGUgfSBmcm9tICcuL2ltbWVkaWF0ZS5tanMnO1xuaW1wb3J0IHsgbWl4TnVtYmVyIH0gZnJvbSAnLi9udW1iZXIubWpzJztcbmltcG9ydCB7IHdhcm5pbmcgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lcnJvcnMubWpzJztcblxuLy8gTGluZWFyIGNvbG9yIHNwYWNlIGJsZW5kaW5nXG4vLyBFeHBsYWluZWQgaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1MS25xRUNjZzZHd1xuLy8gRGVtb25zdHJhdGVkIGh0dHA6Ly9jb2RlcGVuLmlvL29zdWJsYWtlL3Blbi94R1ZWYU5cbmNvbnN0IG1peExpbmVhckNvbG9yID0gKGZyb20sIHRvLCB2KSA9PiB7XG4gICAgY29uc3QgZnJvbUV4cG8gPSBmcm9tICogZnJvbTtcbiAgICBjb25zdCBleHBvID0gdiAqICh0byAqIHRvIC0gZnJvbUV4cG8pICsgZnJvbUV4cG87XG4gICAgcmV0dXJuIGV4cG8gPCAwID8gMCA6IE1hdGguc3FydChleHBvKTtcbn07XG5jb25zdCBjb2xvclR5cGVzID0gW2hleCwgcmdiYSwgaHNsYV07XG5jb25zdCBnZXRDb2xvclR5cGUgPSAodikgPT4gY29sb3JUeXBlcy5maW5kKCh0eXBlKSA9PiB0eXBlLnRlc3QodikpO1xuZnVuY3Rpb24gYXNSR0JBKGNvbG9yKSB7XG4gICAgY29uc3QgdHlwZSA9IGdldENvbG9yVHlwZShjb2xvcik7XG4gICAgd2FybmluZyhCb29sZWFuKHR5cGUpLCBgJyR7Y29sb3J9JyBpcyBub3QgYW4gYW5pbWF0YWJsZSBjb2xvci4gVXNlIHRoZSBlcXVpdmFsZW50IGNvbG9yIGNvZGUgaW5zdGVhZC5gKTtcbiAgICBpZiAoIUJvb2xlYW4odHlwZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgbW9kZWwgPSB0eXBlLnBhcnNlKGNvbG9yKTtcbiAgICBpZiAodHlwZSA9PT0gaHNsYSkge1xuICAgICAgICAvLyBUT0RPIFJlbW92ZSB0aGlzIGNhc3QgLSBuZWVkZWQgc2luY2UgTW90aW9uJ3Mgc3RyaWN0ZXIgdHlwaW5nXG4gICAgICAgIG1vZGVsID0gaHNsYVRvUmdiYShtb2RlbCk7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbDtcbn1cbmNvbnN0IG1peENvbG9yID0gKGZyb20sIHRvKSA9PiB7XG4gICAgY29uc3QgZnJvbVJHQkEgPSBhc1JHQkEoZnJvbSk7XG4gICAgY29uc3QgdG9SR0JBID0gYXNSR0JBKHRvKTtcbiAgICBpZiAoIWZyb21SR0JBIHx8ICF0b1JHQkEpIHtcbiAgICAgICAgcmV0dXJuIG1peEltbWVkaWF0ZShmcm9tLCB0byk7XG4gICAgfVxuICAgIGNvbnN0IGJsZW5kZWQgPSB7IC4uLmZyb21SR0JBIH07XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICAgIGJsZW5kZWQucmVkID0gbWl4TGluZWFyQ29sb3IoZnJvbVJHQkEucmVkLCB0b1JHQkEucmVkLCB2KTtcbiAgICAgICAgYmxlbmRlZC5ncmVlbiA9IG1peExpbmVhckNvbG9yKGZyb21SR0JBLmdyZWVuLCB0b1JHQkEuZ3JlZW4sIHYpO1xuICAgICAgICBibGVuZGVkLmJsdWUgPSBtaXhMaW5lYXJDb2xvcihmcm9tUkdCQS5ibHVlLCB0b1JHQkEuYmx1ZSwgdik7XG4gICAgICAgIGJsZW5kZWQuYWxwaGEgPSBtaXhOdW1iZXIoZnJvbVJHQkEuYWxwaGEsIHRvUkdCQS5hbHBoYSwgdik7XG4gICAgICAgIHJldHVybiByZ2JhLnRyYW5zZm9ybShibGVuZGVkKTtcbiAgICB9O1xufTtcblxuZXhwb3J0IHsgbWl4Q29sb3IsIG1peExpbmVhckNvbG9yIH07XG4iLCAiLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL21qYWNrc29uLzUzMTEyNTZcbmZ1bmN0aW9uIGh1ZVRvUmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApXG4gICAgICAgIHQgKz0gMTtcbiAgICBpZiAodCA+IDEpXG4gICAgICAgIHQgLT0gMTtcbiAgICBpZiAodCA8IDEgLyA2KVxuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcbiAgICBpZiAodCA8IDEgLyAyKVxuICAgICAgICByZXR1cm4gcTtcbiAgICBpZiAodCA8IDIgLyAzKVxuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XG4gICAgcmV0dXJuIHA7XG59XG5mdW5jdGlvbiBoc2xhVG9SZ2JhKHsgaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MsIGFscGhhIH0pIHtcbiAgICBodWUgLz0gMzYwO1xuICAgIHNhdHVyYXRpb24gLz0gMTAwO1xuICAgIGxpZ2h0bmVzcyAvPSAxMDA7XG4gICAgbGV0IHJlZCA9IDA7XG4gICAgbGV0IGdyZWVuID0gMDtcbiAgICBsZXQgYmx1ZSA9IDA7XG4gICAgaWYgKCFzYXR1cmF0aW9uKSB7XG4gICAgICAgIHJlZCA9IGdyZWVuID0gYmx1ZSA9IGxpZ2h0bmVzcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHEgPSBsaWdodG5lc3MgPCAwLjVcbiAgICAgICAgICAgID8gbGlnaHRuZXNzICogKDEgKyBzYXR1cmF0aW9uKVxuICAgICAgICAgICAgOiBsaWdodG5lc3MgKyBzYXR1cmF0aW9uIC0gbGlnaHRuZXNzICogc2F0dXJhdGlvbjtcbiAgICAgICAgY29uc3QgcCA9IDIgKiBsaWdodG5lc3MgLSBxO1xuICAgICAgICByZWQgPSBodWVUb1JnYihwLCBxLCBodWUgKyAxIC8gMyk7XG4gICAgICAgIGdyZWVuID0gaHVlVG9SZ2IocCwgcSwgaHVlKTtcbiAgICAgICAgYmx1ZSA9IGh1ZVRvUmdiKHAsIHEsIGh1ZSAtIDEgLyAzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVkOiBNYXRoLnJvdW5kKHJlZCAqIDI1NSksXG4gICAgICAgIGdyZWVuOiBNYXRoLnJvdW5kKGdyZWVuICogMjU1KSxcbiAgICAgICAgYmx1ZTogTWF0aC5yb3VuZChibHVlICogMjU1KSxcbiAgICAgICAgYWxwaGEsXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgaHNsYVRvUmdiYSB9O1xuIiwgImZ1bmN0aW9uIG1peEltbWVkaWF0ZShhLCBiKSB7XG4gICAgcmV0dXJuIChwKSA9PiAocCA+IDAgPyBiIDogYSk7XG59XG5cbmV4cG9ydCB7IG1peEltbWVkaWF0ZSB9O1xuIiwgIi8qXG4gIFZhbHVlIGluIHJhbmdlIGZyb20gcHJvZ3Jlc3NcblxuICBHaXZlbiBhIGxvd2VyIGxpbWl0IGFuZCBhbiB1cHBlciBsaW1pdCwgd2UgcmV0dXJuIHRoZSB2YWx1ZSB3aXRoaW5cbiAgdGhhdCByYW5nZSBhcyBleHByZXNzZWQgYnkgcHJvZ3Jlc3MgKHVzdWFsbHkgYSBudW1iZXIgZnJvbSAwIHRvIDEpXG5cbiAgU28gcHJvZ3Jlc3MgPSAwLjUgd291bGQgY2hhbmdlXG5cbiAgZnJvbSAtLS0tLS0tLSB0b1xuXG4gIHRvXG5cbiAgZnJvbSAtLS0tIHRvXG5cbiAgRS5nLiBmcm9tID0gMTAsIHRvID0gMjAsIHByb2dyZXNzID0gMC41ID0+IDE1XG5cbiAgQHBhcmFtIFtudW1iZXJdOiBMb3dlciBsaW1pdCBvZiByYW5nZVxuICBAcGFyYW0gW251bWJlcl06IFVwcGVyIGxpbWl0IG9mIHJhbmdlXG4gIEBwYXJhbSBbbnVtYmVyXTogVGhlIHByb2dyZXNzIGJldHdlZW4gbG93ZXIgYW5kIHVwcGVyIGxpbWl0cyBleHByZXNzZWQgMC0xXG4gIEByZXR1cm4gW251bWJlcl06IFZhbHVlIGFzIGNhbGN1bGF0ZWQgZnJvbSBwcm9ncmVzcyB3aXRoaW4gcmFuZ2UgKG5vdCBsaW1pdGVkIHdpdGhpbiByYW5nZSlcbiovXG5jb25zdCBtaXhOdW1iZXIgPSAoZnJvbSwgdG8sIHByb2dyZXNzKSA9PiB7XG4gICAgcmV0dXJuIGZyb20gKyAodG8gLSBmcm9tKSAqIHByb2dyZXNzO1xufTtcblxuZXhwb3J0IHsgbWl4TnVtYmVyIH07XG4iLCAiY29uc3QgaW52aXNpYmxlVmFsdWVzID0gbmV3IFNldChbXCJub25lXCIsIFwiaGlkZGVuXCJdKTtcbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gcHJvdmlkZWQgYSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEsXG4gKiB3aWxsIHJldHVybiB0aGUgXCJub25lXCIgb3IgXCJoaWRkZW5cIiBzdHJpbmcgb25seSB3aGVuIHRoZSBwcm9ncmVzcyBpcyB0aGF0IG9mXG4gKiB0aGUgb3JpZ2luIG9yIHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gbWl4VmlzaWJpbGl0eShvcmlnaW4sIHRhcmdldCkge1xuICAgIGlmIChpbnZpc2libGVWYWx1ZXMuaGFzKG9yaWdpbikpIHtcbiAgICAgICAgcmV0dXJuIChwKSA9PiAocCA8PSAwID8gb3JpZ2luIDogdGFyZ2V0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAocCkgPT4gKHAgPj0gMSA/IHRhcmdldCA6IG9yaWdpbik7XG4gICAgfVxufVxuXG5leHBvcnQgeyBpbnZpc2libGVWYWx1ZXMsIG1peFZpc2liaWxpdHkgfTtcbiIsICIvKipcbiAqIFBpcGVcbiAqIENvbXBvc2Ugb3RoZXIgdHJhbnNmb3JtZXJzIHRvIHJ1biBsaW5lYXJpbHlcbiAqIHBpcGUobWluKDIwKSwgbWF4KDQwKSlcbiAqIEBwYXJhbSAgey4uLmZ1bmN0aW9uc30gdHJhbnNmb3JtZXJzXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAqL1xuY29uc3QgY29tYmluZUZ1bmN0aW9ucyA9IChhLCBiKSA9PiAodikgPT4gYihhKHYpKTtcbmNvbnN0IHBpcGUgPSAoLi4udHJhbnNmb3JtZXJzKSA9PiB0cmFuc2Zvcm1lcnMucmVkdWNlKGNvbWJpbmVGdW5jdGlvbnMpO1xuXG5leHBvcnQgeyBwaXBlIH07XG4iLCAiaW1wb3J0IHsgdGltZSB9IGZyb20gJy4uLy4uL2ZyYW1lbG9vcC9zeW5jLXRpbWUubWpzJztcbmltcG9ydCB7IGZyYW1lLCBjYW5jZWxGcmFtZSwgZnJhbWVEYXRhIH0gZnJvbSAnLi4vLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbmNvbnN0IGZyYW1lbG9vcERyaXZlciA9ICh1cGRhdGUpID0+IHtcbiAgICBjb25zdCBwYXNzVGltZXN0YW1wID0gKHsgdGltZXN0YW1wIH0pID0+IHVwZGF0ZSh0aW1lc3RhbXApO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiAoKSA9PiBmcmFtZS51cGRhdGUocGFzc1RpbWVzdGFtcCwgdHJ1ZSksXG4gICAgICAgIHN0b3A6ICgpID0+IGNhbmNlbEZyYW1lKHBhc3NUaW1lc3RhbXApLFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UncmUgcHJvY2Vzc2luZyB0aGlzIGZyYW1lIHdlIGNhbiB1c2UgdGhlXG4gICAgICAgICAqIGZyYW1lbG9ja2VkIHRpbWVzdGFtcCB0byBrZWVwIHRoaW5ncyBpbiBzeW5jLlxuICAgICAgICAgKi9cbiAgICAgICAgbm93OiAoKSA9PiAoZnJhbWVEYXRhLmlzUHJvY2Vzc2luZyA/IGZyYW1lRGF0YS50aW1lc3RhbXAgOiB0aW1lLm5vdygpKSxcbiAgICB9O1xufTtcblxuZXhwb3J0IHsgZnJhbWVsb29wRHJpdmVyIH07XG4iLCAiaW1wb3J0IHsgc3ByaW5nIH0gZnJvbSAnLi9zcHJpbmcvaW5kZXgubWpzJztcbmltcG9ydCB7IGNhbGNHZW5lcmF0b3JWZWxvY2l0eSB9IGZyb20gJy4vdXRpbHMvdmVsb2NpdHkubWpzJztcblxuZnVuY3Rpb24gaW5lcnRpYSh7IGtleWZyYW1lcywgdmVsb2NpdHkgPSAwLjAsIHBvd2VyID0gMC44LCB0aW1lQ29uc3RhbnQgPSAzMjUsIGJvdW5jZURhbXBpbmcgPSAxMCwgYm91bmNlU3RpZmZuZXNzID0gNTAwLCBtb2RpZnlUYXJnZXQsIG1pbiwgbWF4LCByZXN0RGVsdGEgPSAwLjUsIHJlc3RTcGVlZCwgfSkge1xuICAgIGNvbnN0IG9yaWdpbiA9IGtleWZyYW1lc1swXTtcbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBvcmlnaW4sXG4gICAgfTtcbiAgICBjb25zdCBpc091dE9mQm91bmRzID0gKHYpID0+IChtaW4gIT09IHVuZGVmaW5lZCAmJiB2IDwgbWluKSB8fCAobWF4ICE9PSB1bmRlZmluZWQgJiYgdiA+IG1heCk7XG4gICAgY29uc3QgbmVhcmVzdEJvdW5kYXJ5ID0gKHYpID0+IHtcbiAgICAgICAgaWYgKG1pbiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIG1heDtcbiAgICAgICAgaWYgKG1heCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIG1pbjtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKG1pbiAtIHYpIDwgTWF0aC5hYnMobWF4IC0gdikgPyBtaW4gOiBtYXg7XG4gICAgfTtcbiAgICBsZXQgYW1wbGl0dWRlID0gcG93ZXIgKiB2ZWxvY2l0eTtcbiAgICBjb25zdCBpZGVhbCA9IG9yaWdpbiArIGFtcGxpdHVkZTtcbiAgICBjb25zdCB0YXJnZXQgPSBtb2RpZnlUYXJnZXQgPT09IHVuZGVmaW5lZCA/IGlkZWFsIDogbW9kaWZ5VGFyZ2V0KGlkZWFsKTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdGFyZ2V0IGhhcyBjaGFuZ2VkIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIHRoZSBhbXBsaXR1ZGUsIG90aGVyd2lzZVxuICAgICAqIHRoZSBhbmltYXRpb24gd2lsbCBzdGFydCBmcm9tIHRoZSB3cm9uZyBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBpZiAodGFyZ2V0ICE9PSBpZGVhbClcbiAgICAgICAgYW1wbGl0dWRlID0gdGFyZ2V0IC0gb3JpZ2luO1xuICAgIGNvbnN0IGNhbGNEZWx0YSA9ICh0KSA9PiAtYW1wbGl0dWRlICogTWF0aC5leHAoLXQgLyB0aW1lQ29uc3RhbnQpO1xuICAgIGNvbnN0IGNhbGNMYXRlc3QgPSAodCkgPT4gdGFyZ2V0ICsgY2FsY0RlbHRhKHQpO1xuICAgIGNvbnN0IGFwcGx5RnJpY3Rpb24gPSAodCkgPT4ge1xuICAgICAgICBjb25zdCBkZWx0YSA9IGNhbGNEZWx0YSh0KTtcbiAgICAgICAgY29uc3QgbGF0ZXN0ID0gY2FsY0xhdGVzdCh0KTtcbiAgICAgICAgc3RhdGUuZG9uZSA9IE1hdGguYWJzKGRlbHRhKSA8PSByZXN0RGVsdGE7XG4gICAgICAgIHN0YXRlLnZhbHVlID0gc3RhdGUuZG9uZSA/IHRhcmdldCA6IGxhdGVzdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElkZWFsbHkgdGhpcyB3b3VsZCByZXNvbHZlIGZvciB0IGluIGEgc3RhdGVsZXNzIHdheSwgd2UgY291bGRcbiAgICAgKiBkbyB0aGF0IGJ5IGFsd2F5cyBwcmVjYWxjdWxhdGluZyB0aGUgYW5pbWF0aW9uIGJ1dCBhcyB3ZSBrbm93XG4gICAgICogdGhpcyB3aWxsIGJlIGRvbmUgYW55d2F5IHdlIGNhbiBhc3N1bWUgdGhhdCBzcHJpbmcgd2lsbFxuICAgICAqIGJlIGRpc2NvdmVyZWQgZHVyaW5nIHRoYXQuXG4gICAgICovXG4gICAgbGV0IHRpbWVSZWFjaGVkQm91bmRhcnk7XG4gICAgbGV0IHNwcmluZyQxO1xuICAgIGNvbnN0IGNoZWNrQ2F0Y2hCb3VuZGFyeSA9ICh0KSA9PiB7XG4gICAgICAgIGlmICghaXNPdXRPZkJvdW5kcyhzdGF0ZS52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRpbWVSZWFjaGVkQm91bmRhcnkgPSB0O1xuICAgICAgICBzcHJpbmckMSA9IHNwcmluZyh7XG4gICAgICAgICAgICBrZXlmcmFtZXM6IFtzdGF0ZS52YWx1ZSwgbmVhcmVzdEJvdW5kYXJ5KHN0YXRlLnZhbHVlKV0sXG4gICAgICAgICAgICB2ZWxvY2l0eTogY2FsY0dlbmVyYXRvclZlbG9jaXR5KGNhbGNMYXRlc3QsIHQsIHN0YXRlLnZhbHVlKSwgLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgcGFzc2luZyAqIDEwMDBcbiAgICAgICAgICAgIGRhbXBpbmc6IGJvdW5jZURhbXBpbmcsXG4gICAgICAgICAgICBzdGlmZm5lc3M6IGJvdW5jZVN0aWZmbmVzcyxcbiAgICAgICAgICAgIHJlc3REZWx0YSxcbiAgICAgICAgICAgIHJlc3RTcGVlZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjaGVja0NhdGNoQm91bmRhcnkoMCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FsY3VsYXRlZER1cmF0aW9uOiBudWxsLFxuICAgICAgICBuZXh0OiAodCkgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXZSBuZWVkIHRvIHJlc29sdmUgdGhlIGZyaWN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgd2UgbmVlZCBhXG4gICAgICAgICAgICAgKiBzcHJpbmcgYnV0IHdlIGRvbid0IHdhbnQgdG8gZG8gdGhpcyB0d2ljZSBwZXIgZnJhbWUuIFNvIGhlcmVcbiAgICAgICAgICAgICAqIHdlIGZsYWcgaWYgd2UgdXBkYXRlZCBmb3IgdGhpcyBmcmFtZSBhbmQgbGF0ZXIgaWYgd2UgZGlkXG4gICAgICAgICAgICAgKiB3ZSBjYW4gc2tpcCBkb2luZyBpdCBhZ2Fpbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGV0IGhhc1VwZGF0ZWRGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFzcHJpbmckMSAmJiB0aW1lUmVhY2hlZEJvdW5kYXJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBoYXNVcGRhdGVkRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFwcGx5RnJpY3Rpb24odCk7XG4gICAgICAgICAgICAgICAgY2hlY2tDYXRjaEJvdW5kYXJ5KHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSBoYXZlIGEgc3ByaW5nIGFuZCB0aGUgcHJvdmlkZWQgdCBpcyBiZXlvbmQgdGhlIG1vbWVudCB0aGUgZnJpY3Rpb25cbiAgICAgICAgICAgICAqIGFuaW1hdGlvbiBjcm9zc2VkIHRoZSBtaW4vbWF4IGJvdW5kYXJ5LCB1c2UgdGhlIHNwcmluZy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRpbWVSZWFjaGVkQm91bmRhcnkgIT09IHVuZGVmaW5lZCAmJiB0ID49IHRpbWVSZWFjaGVkQm91bmRhcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ByaW5nJDEubmV4dCh0IC0gdGltZVJlYWNoZWRCb3VuZGFyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAhaGFzVXBkYXRlZEZyYW1lICYmIGFwcGx5RnJpY3Rpb24odCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGluZXJ0aWEgfTtcbiIsICJpbXBvcnQgeyBnZW5lcmF0ZUxpbmVhckVhc2luZyB9IGZyb20gJy4uLy4uL3dhYXBpL3V0aWxzL2xpbmVhci5tanMnO1xuaW1wb3J0IHsgY2FsY0dlbmVyYXRvckR1cmF0aW9uLCBtYXhHZW5lcmF0b3JEdXJhdGlvbiB9IGZyb20gJy4uL3V0aWxzL2NhbGMtZHVyYXRpb24ubWpzJztcbmltcG9ydCB7IGNyZWF0ZUdlbmVyYXRvckVhc2luZyB9IGZyb20gJy4uL3V0aWxzL2NyZWF0ZS1nZW5lcmF0b3ItZWFzaW5nLm1qcyc7XG5pbXBvcnQgeyBjYWxjR2VuZXJhdG9yVmVsb2NpdHkgfSBmcm9tICcuLi91dGlscy92ZWxvY2l0eS5tanMnO1xuaW1wb3J0IHsgc3ByaW5nRGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLm1qcyc7XG5pbXBvcnQgeyBmaW5kU3ByaW5nLCBjYWxjQW5ndWxhckZyZXEgfSBmcm9tICcuL2ZpbmQubWpzJztcbmltcG9ydCB7IG1pbGxpc2Vjb25kc1RvU2Vjb25kcywgc2Vjb25kc1RvTWlsbGlzZWNvbmRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvdGltZS1jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2NsYW1wLm1qcyc7XG5cbmNvbnN0IGR1cmF0aW9uS2V5cyA9IFtcImR1cmF0aW9uXCIsIFwiYm91bmNlXCJdO1xuY29uc3QgcGh5c2ljc0tleXMgPSBbXCJzdGlmZm5lc3NcIiwgXCJkYW1waW5nXCIsIFwibWFzc1wiXTtcbmZ1bmN0aW9uIGlzU3ByaW5nVHlwZShvcHRpb25zLCBrZXlzKSB7XG4gICAgcmV0dXJuIGtleXMuc29tZSgoa2V5KSA9PiBvcHRpb25zW2tleV0gIT09IHVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiBnZXRTcHJpbmdPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBsZXQgc3ByaW5nT3B0aW9ucyA9IHtcbiAgICAgICAgdmVsb2NpdHk6IHNwcmluZ0RlZmF1bHRzLnZlbG9jaXR5LFxuICAgICAgICBzdGlmZm5lc3M6IHNwcmluZ0RlZmF1bHRzLnN0aWZmbmVzcyxcbiAgICAgICAgZGFtcGluZzogc3ByaW5nRGVmYXVsdHMuZGFtcGluZyxcbiAgICAgICAgbWFzczogc3ByaW5nRGVmYXVsdHMubWFzcyxcbiAgICAgICAgaXNSZXNvbHZlZEZyb21EdXJhdGlvbjogZmFsc2UsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcbiAgICAvLyBzdGlmZm5lc3MvZGFtcGluZy9tYXNzIG92ZXJyaWRlcyBkdXJhdGlvbi9ib3VuY2VcbiAgICBpZiAoIWlzU3ByaW5nVHlwZShvcHRpb25zLCBwaHlzaWNzS2V5cykgJiZcbiAgICAgICAgaXNTcHJpbmdUeXBlKG9wdGlvbnMsIGR1cmF0aW9uS2V5cykpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMudmlzdWFsRHVyYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHZpc3VhbER1cmF0aW9uID0gb3B0aW9ucy52aXN1YWxEdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSAoMiAqIE1hdGguUEkpIC8gKHZpc3VhbER1cmF0aW9uICogMS4yKTtcbiAgICAgICAgICAgIGNvbnN0IHN0aWZmbmVzcyA9IHJvb3QgKiByb290O1xuICAgICAgICAgICAgY29uc3QgZGFtcGluZyA9IDIgKlxuICAgICAgICAgICAgICAgIGNsYW1wKDAuMDUsIDEsIDEgLSAob3B0aW9ucy5ib3VuY2UgfHwgMCkpICpcbiAgICAgICAgICAgICAgICBNYXRoLnNxcnQoc3RpZmZuZXNzKTtcbiAgICAgICAgICAgIHNwcmluZ09wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLi4uc3ByaW5nT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBtYXNzOiBzcHJpbmdEZWZhdWx0cy5tYXNzLFxuICAgICAgICAgICAgICAgIHN0aWZmbmVzcyxcbiAgICAgICAgICAgICAgICBkYW1waW5nLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRlcml2ZWQgPSBmaW5kU3ByaW5nKG9wdGlvbnMpO1xuICAgICAgICAgICAgc3ByaW5nT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zcHJpbmdPcHRpb25zLFxuICAgICAgICAgICAgICAgIC4uLmRlcml2ZWQsXG4gICAgICAgICAgICAgICAgbWFzczogc3ByaW5nRGVmYXVsdHMubWFzcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzcHJpbmdPcHRpb25zLmlzUmVzb2x2ZWRGcm9tRHVyYXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzcHJpbmdPcHRpb25zO1xufVxuZnVuY3Rpb24gc3ByaW5nKG9wdGlvbnNPclZpc3VhbER1cmF0aW9uID0gc3ByaW5nRGVmYXVsdHMudmlzdWFsRHVyYXRpb24sIGJvdW5jZSA9IHNwcmluZ0RlZmF1bHRzLmJvdW5jZSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uc09yVmlzdWFsRHVyYXRpb24gIT09IFwib2JqZWN0XCJcbiAgICAgICAgPyB7XG4gICAgICAgICAgICB2aXN1YWxEdXJhdGlvbjogb3B0aW9uc09yVmlzdWFsRHVyYXRpb24sXG4gICAgICAgICAgICBrZXlmcmFtZXM6IFswLCAxXSxcbiAgICAgICAgICAgIGJvdW5jZSxcbiAgICAgICAgfVxuICAgICAgICA6IG9wdGlvbnNPclZpc3VhbER1cmF0aW9uO1xuICAgIGxldCB7IHJlc3RTcGVlZCwgcmVzdERlbHRhIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IG9yaWdpbiA9IG9wdGlvbnMua2V5ZnJhbWVzWzBdO1xuICAgIGNvbnN0IHRhcmdldCA9IG9wdGlvbnMua2V5ZnJhbWVzW29wdGlvbnMua2V5ZnJhbWVzLmxlbmd0aCAtIDFdO1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIEl0ZXJhdG9yLXNwZWMgcmV0dXJuIHZhbHVlLiBXZSBlbnN1cmUgaXQncyBtdXRhYmxlIHJhdGhlciB0aGFuIHVzaW5nIGEgZ2VuZXJhdG9yXG4gICAgICogdG8gcmVkdWNlIEdDIGR1cmluZyBhbmltYXRpb24uXG4gICAgICovXG4gICAgY29uc3Qgc3RhdGUgPSB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb3JpZ2luIH07XG4gICAgY29uc3QgeyBzdGlmZm5lc3MsIGRhbXBpbmcsIG1hc3MsIGR1cmF0aW9uLCB2ZWxvY2l0eSwgaXNSZXNvbHZlZEZyb21EdXJhdGlvbiwgfSA9IGdldFNwcmluZ09wdGlvbnMoe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB2ZWxvY2l0eTogLW1pbGxpc2Vjb25kc1RvU2Vjb25kcyhvcHRpb25zLnZlbG9jaXR5IHx8IDApLFxuICAgIH0pO1xuICAgIGNvbnN0IGluaXRpYWxWZWxvY2l0eSA9IHZlbG9jaXR5IHx8IDAuMDtcbiAgICBjb25zdCBkYW1waW5nUmF0aW8gPSBkYW1waW5nIC8gKDIgKiBNYXRoLnNxcnQoc3RpZmZuZXNzICogbWFzcykpO1xuICAgIGNvbnN0IGluaXRpYWxEZWx0YSA9IHRhcmdldCAtIG9yaWdpbjtcbiAgICBjb25zdCB1bmRhbXBlZEFuZ3VsYXJGcmVxID0gbWlsbGlzZWNvbmRzVG9TZWNvbmRzKE1hdGguc3FydChzdGlmZm5lc3MgLyBtYXNzKSk7XG4gICAgLyoqXG4gICAgICogSWYgd2UncmUgd29ya2luZyBvbiBhIGdyYW51bGFyIHNjYWxlLCB1c2Ugc21hbGxlciBkZWZhdWx0cyBmb3IgZGV0ZXJtaW5pbmdcbiAgICAgKiB3aGVuIHRoZSBzcHJpbmcgaXMgZmluaXNoZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBkZWZhdWx0cyBoYXZlIGJlZW4gc2VsZWN0ZWQgZW1wcmljYWxseSBiYXNlZCBvbiB3aGF0IHN0cmlrZXMgYSBnb29kXG4gICAgICogcmF0aW8gYmV0d2VlbiBmZWVsaW5nIGdvb2QgYW5kIGZpbmlzaGluZyBhcyBzb29uIGFzIGNoYW5nZXMgYXJlIGltcGVyY2VwdGlibGUuXG4gICAgICovXG4gICAgY29uc3QgaXNHcmFudWxhclNjYWxlID0gTWF0aC5hYnMoaW5pdGlhbERlbHRhKSA8IDU7XG4gICAgcmVzdFNwZWVkIHx8IChyZXN0U3BlZWQgPSBpc0dyYW51bGFyU2NhbGVcbiAgICAgICAgPyBzcHJpbmdEZWZhdWx0cy5yZXN0U3BlZWQuZ3JhbnVsYXJcbiAgICAgICAgOiBzcHJpbmdEZWZhdWx0cy5yZXN0U3BlZWQuZGVmYXVsdCk7XG4gICAgcmVzdERlbHRhIHx8IChyZXN0RGVsdGEgPSBpc0dyYW51bGFyU2NhbGVcbiAgICAgICAgPyBzcHJpbmdEZWZhdWx0cy5yZXN0RGVsdGEuZ3JhbnVsYXJcbiAgICAgICAgOiBzcHJpbmdEZWZhdWx0cy5yZXN0RGVsdGEuZGVmYXVsdCk7XG4gICAgbGV0IHJlc29sdmVTcHJpbmc7XG4gICAgaWYgKGRhbXBpbmdSYXRpbyA8IDEpIHtcbiAgICAgICAgY29uc3QgYW5ndWxhckZyZXEgPSBjYWxjQW5ndWxhckZyZXEodW5kYW1wZWRBbmd1bGFyRnJlcSwgZGFtcGluZ1JhdGlvKTtcbiAgICAgICAgLy8gVW5kZXJkYW1wZWQgc3ByaW5nXG4gICAgICAgIHJlc29sdmVTcHJpbmcgPSAodCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW52ZWxvcGUgPSBNYXRoLmV4cCgtZGFtcGluZ1JhdGlvICogdW5kYW1wZWRBbmd1bGFyRnJlcSAqIHQpO1xuICAgICAgICAgICAgcmV0dXJuICh0YXJnZXQgLVxuICAgICAgICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgKCgoaW5pdGlhbFZlbG9jaXR5ICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbXBpbmdSYXRpbyAqIHVuZGFtcGVkQW5ndWxhckZyZXEgKiBpbml0aWFsRGVsdGEpIC9cbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXJGcmVxKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnNpbihhbmd1bGFyRnJlcSAqIHQpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxEZWx0YSAqIE1hdGguY29zKGFuZ3VsYXJGcmVxICogdCkpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGFtcGluZ1JhdGlvID09PSAxKSB7XG4gICAgICAgIC8vIENyaXRpY2FsbHkgZGFtcGVkIHNwcmluZ1xuICAgICAgICByZXNvbHZlU3ByaW5nID0gKHQpID0+IHRhcmdldCAtXG4gICAgICAgICAgICBNYXRoLmV4cCgtdW5kYW1wZWRBbmd1bGFyRnJlcSAqIHQpICpcbiAgICAgICAgICAgICAgICAoaW5pdGlhbERlbHRhICtcbiAgICAgICAgICAgICAgICAgICAgKGluaXRpYWxWZWxvY2l0eSArIHVuZGFtcGVkQW5ndWxhckZyZXEgKiBpbml0aWFsRGVsdGEpICogdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBPdmVyZGFtcGVkIHNwcmluZ1xuICAgICAgICBjb25zdCBkYW1wZWRBbmd1bGFyRnJlcSA9IHVuZGFtcGVkQW5ndWxhckZyZXEgKiBNYXRoLnNxcnQoZGFtcGluZ1JhdGlvICogZGFtcGluZ1JhdGlvIC0gMSk7XG4gICAgICAgIHJlc29sdmVTcHJpbmcgPSAodCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW52ZWxvcGUgPSBNYXRoLmV4cCgtZGFtcGluZ1JhdGlvICogdW5kYW1wZWRBbmd1bGFyRnJlcSAqIHQpO1xuICAgICAgICAgICAgLy8gV2hlbiBwZXJmb3JtaW5nIHNpbmggb3IgY29zaCB2YWx1ZXMgY2FuIGhpdCBJbmZpbml0eSBzbyB3ZSBjYXAgdGhlbSBoZXJlXG4gICAgICAgICAgICBjb25zdCBmcmVxRm9yVCA9IE1hdGgubWluKGRhbXBlZEFuZ3VsYXJGcmVxICogdCwgMzAwKTtcbiAgICAgICAgICAgIHJldHVybiAodGFyZ2V0IC1cbiAgICAgICAgICAgICAgICAoZW52ZWxvcGUgKlxuICAgICAgICAgICAgICAgICAgICAoKGluaXRpYWxWZWxvY2l0eSArXG4gICAgICAgICAgICAgICAgICAgICAgICBkYW1waW5nUmF0aW8gKiB1bmRhbXBlZEFuZ3VsYXJGcmVxICogaW5pdGlhbERlbHRhKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnNpbmgoZnJlcUZvclQpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbXBlZEFuZ3VsYXJGcmVxICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguY29zaChmcmVxRm9yVCkpKSAvXG4gICAgICAgICAgICAgICAgICAgIGRhbXBlZEFuZ3VsYXJGcmVxKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZ2VuZXJhdG9yID0ge1xuICAgICAgICBjYWxjdWxhdGVkRHVyYXRpb246IGlzUmVzb2x2ZWRGcm9tRHVyYXRpb24gPyBkdXJhdGlvbiB8fCBudWxsIDogbnVsbCxcbiAgICAgICAgbmV4dDogKHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSByZXNvbHZlU3ByaW5nKHQpO1xuICAgICAgICAgICAgaWYgKCFpc1Jlc29sdmVkRnJvbUR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRWZWxvY2l0eSA9IHQgPT09IDAgPyBpbml0aWFsVmVsb2NpdHkgOiAwLjA7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2Ugb25seSBuZWVkIHRvIGNhbGN1bGF0ZSB2ZWxvY2l0eSBmb3IgdW5kZXItZGFtcGVkIHNwcmluZ3NcbiAgICAgICAgICAgICAgICAgKiBhcyBvdmVyLSBhbmQgY3JpdGljYWxseS1kYW1wZWQgc3ByaW5ncyBjYW4ndCBvdmVyc2hvb3QsIHNvXG4gICAgICAgICAgICAgICAgICogY2hlY2tpbmcgb25seSBmb3IgZGlzcGxhY2VtZW50IGlzIGVub3VnaC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoZGFtcGluZ1JhdGlvIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVsb2NpdHkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2Vjb25kc1RvTWlsbGlzZWNvbmRzKGluaXRpYWxWZWxvY2l0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhbGNHZW5lcmF0b3JWZWxvY2l0eShyZXNvbHZlU3ByaW5nLCB0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZWxvd1ZlbG9jaXR5VGhyZXNob2xkID0gTWF0aC5hYnMoY3VycmVudFZlbG9jaXR5KSA8PSByZXN0U3BlZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZWxvd0Rpc3BsYWNlbWVudFRocmVzaG9sZCA9IE1hdGguYWJzKHRhcmdldCAtIGN1cnJlbnQpIDw9IHJlc3REZWx0YTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb25lID1cbiAgICAgICAgICAgICAgICAgICAgaXNCZWxvd1ZlbG9jaXR5VGhyZXNob2xkICYmIGlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb25lID0gdCA+PSBkdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gc3RhdGUuZG9uZSA/IHRhcmdldCA6IGN1cnJlbnQ7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHRvU3RyaW5nOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVkRHVyYXRpb24gPSBNYXRoLm1pbihjYWxjR2VuZXJhdG9yRHVyYXRpb24oZ2VuZXJhdG9yKSwgbWF4R2VuZXJhdG9yRHVyYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgZWFzaW5nID0gZ2VuZXJhdGVMaW5lYXJFYXNpbmcoKHByb2dyZXNzKSA9PiBnZW5lcmF0b3IubmV4dChjYWxjdWxhdGVkRHVyYXRpb24gKiBwcm9ncmVzcykudmFsdWUsIGNhbGN1bGF0ZWREdXJhdGlvbiwgMzApO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZWREdXJhdGlvbiArIFwibXMgXCIgKyBlYXNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHRvVHJhbnNpdGlvbjogKCkgPT4geyB9LFxuICAgIH07XG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbn1cbnNwcmluZy5hcHBseVRvT3B0aW9ucyA9IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgZ2VuZXJhdG9yT3B0aW9ucyA9IGNyZWF0ZUdlbmVyYXRvckVhc2luZyhvcHRpb25zLCAxMDAsIHNwcmluZyk7XG4gICAgb3B0aW9ucy5lYXNlID0gZ2VuZXJhdG9yT3B0aW9ucy5lYXNlO1xuICAgIG9wdGlvbnMuZHVyYXRpb24gPSBzZWNvbmRzVG9NaWxsaXNlY29uZHMoZ2VuZXJhdG9yT3B0aW9ucy5kdXJhdGlvbik7XG4gICAgb3B0aW9ucy50eXBlID0gXCJrZXlmcmFtZXNcIjtcbiAgICByZXR1cm4gb3B0aW9ucztcbn07XG5cbmV4cG9ydCB7IHNwcmluZyB9O1xuIiwgImNvbnN0IGdlbmVyYXRlTGluZWFyRWFzaW5nID0gKGVhc2luZywgZHVyYXRpb24sIC8vIGFzIG1pbGxpc2Vjb25kc1xucmVzb2x1dGlvbiA9IDEwIC8vIGFzIG1pbGxpc2Vjb25kc1xuKSA9PiB7XG4gICAgbGV0IHBvaW50cyA9IFwiXCI7XG4gICAgY29uc3QgbnVtUG9pbnRzID0gTWF0aC5tYXgoTWF0aC5yb3VuZChkdXJhdGlvbiAvIHJlc29sdXRpb24pLCAyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBvaW50czsgaSsrKSB7XG4gICAgICAgIHBvaW50cyArPSBlYXNpbmcoaSAvIChudW1Qb2ludHMgLSAxKSkgKyBcIiwgXCI7XG4gICAgfVxuICAgIHJldHVybiBgbGluZWFyKCR7cG9pbnRzLnN1YnN0cmluZygwLCBwb2ludHMubGVuZ3RoIC0gMil9KWA7XG59O1xuXG5leHBvcnQgeyBnZW5lcmF0ZUxpbmVhckVhc2luZyB9O1xuIiwgIi8qKlxuICogSW1wbGVtZW50IGEgcHJhY3RpY2FsIG1heCBkdXJhdGlvbiBmb3Iga2V5ZnJhbWUgZ2VuZXJhdGlvblxuICogdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuICovXG5jb25zdCBtYXhHZW5lcmF0b3JEdXJhdGlvbiA9IDIwMDAwO1xuZnVuY3Rpb24gY2FsY0dlbmVyYXRvckR1cmF0aW9uKGdlbmVyYXRvcikge1xuICAgIGxldCBkdXJhdGlvbiA9IDA7XG4gICAgY29uc3QgdGltZVN0ZXAgPSA1MDtcbiAgICBsZXQgc3RhdGUgPSBnZW5lcmF0b3IubmV4dChkdXJhdGlvbik7XG4gICAgd2hpbGUgKCFzdGF0ZS5kb25lICYmIGR1cmF0aW9uIDwgbWF4R2VuZXJhdG9yRHVyYXRpb24pIHtcbiAgICAgICAgZHVyYXRpb24gKz0gdGltZVN0ZXA7XG4gICAgICAgIHN0YXRlID0gZ2VuZXJhdG9yLm5leHQoZHVyYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gZHVyYXRpb24gPj0gbWF4R2VuZXJhdG9yRHVyYXRpb24gPyBJbmZpbml0eSA6IGR1cmF0aW9uO1xufVxuXG5leHBvcnQgeyBjYWxjR2VuZXJhdG9yRHVyYXRpb24sIG1heEdlbmVyYXRvckR1cmF0aW9uIH07XG4iLCAiaW1wb3J0IHsgY2FsY0dlbmVyYXRvckR1cmF0aW9uLCBtYXhHZW5lcmF0b3JEdXJhdGlvbiB9IGZyb20gJy4vY2FsYy1kdXJhdGlvbi5tanMnO1xuaW1wb3J0IHsgbWlsbGlzZWNvbmRzVG9TZWNvbmRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvdGltZS1jb252ZXJzaW9uLm1qcyc7XG5cbi8qKlxuICogQ3JlYXRlIGEgcHJvZ3Jlc3MgPT4gcHJvZ3Jlc3MgZWFzaW5nIGZ1bmN0aW9uIGZyb20gYSBnZW5lcmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUdlbmVyYXRvckVhc2luZyhvcHRpb25zLCBzY2FsZSA9IDEwMCwgY3JlYXRlR2VuZXJhdG9yKSB7XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gY3JlYXRlR2VuZXJhdG9yKHsgLi4ub3B0aW9ucywga2V5ZnJhbWVzOiBbMCwgc2NhbGVdIH0pO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gTWF0aC5taW4oY2FsY0dlbmVyYXRvckR1cmF0aW9uKGdlbmVyYXRvciksIG1heEdlbmVyYXRvckR1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImtleWZyYW1lc1wiLFxuICAgICAgICBlYXNlOiAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0b3IubmV4dChkdXJhdGlvbiAqIHByb2dyZXNzKS52YWx1ZSAvIHNjYWxlO1xuICAgICAgICB9LFxuICAgICAgICBkdXJhdGlvbjogbWlsbGlzZWNvbmRzVG9TZWNvbmRzKGR1cmF0aW9uKSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVHZW5lcmF0b3JFYXNpbmcgfTtcbiIsICJpbXBvcnQgeyB2ZWxvY2l0eVBlclNlY29uZCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3ZlbG9jaXR5LXBlci1zZWNvbmQubWpzJztcblxuY29uc3QgdmVsb2NpdHlTYW1wbGVEdXJhdGlvbiA9IDU7IC8vIG1zXG5mdW5jdGlvbiBjYWxjR2VuZXJhdG9yVmVsb2NpdHkocmVzb2x2ZVZhbHVlLCB0LCBjdXJyZW50KSB7XG4gICAgY29uc3QgcHJldlQgPSBNYXRoLm1heCh0IC0gdmVsb2NpdHlTYW1wbGVEdXJhdGlvbiwgMCk7XG4gICAgcmV0dXJuIHZlbG9jaXR5UGVyU2Vjb25kKGN1cnJlbnQgLSByZXNvbHZlVmFsdWUocHJldlQpLCB0IC0gcHJldlQpO1xufVxuXG5leHBvcnQgeyBjYWxjR2VuZXJhdG9yVmVsb2NpdHkgfTtcbiIsICJjb25zdCBzcHJpbmdEZWZhdWx0cyA9IHtcbiAgICAvLyBEZWZhdWx0IHNwcmluZyBwaHlzaWNzXG4gICAgc3RpZmZuZXNzOiAxMDAsXG4gICAgZGFtcGluZzogMTAsXG4gICAgbWFzczogMS4wLFxuICAgIHZlbG9jaXR5OiAwLjAsXG4gICAgLy8gRGVmYXVsdCBkdXJhdGlvbi9ib3VuY2UtYmFzZWQgb3B0aW9uc1xuICAgIGR1cmF0aW9uOiA4MDAsIC8vIGluIG1zXG4gICAgYm91bmNlOiAwLjMsXG4gICAgdmlzdWFsRHVyYXRpb246IDAuMywgLy8gaW4gc2Vjb25kc1xuICAgIC8vIFJlc3QgdGhyZXNob2xkc1xuICAgIHJlc3RTcGVlZDoge1xuICAgICAgICBncmFudWxhcjogMC4wMSxcbiAgICAgICAgZGVmYXVsdDogMixcbiAgICB9LFxuICAgIHJlc3REZWx0YToge1xuICAgICAgICBncmFudWxhcjogMC4wMDUsXG4gICAgICAgIGRlZmF1bHQ6IDAuNSxcbiAgICB9LFxuICAgIC8vIExpbWl0c1xuICAgIG1pbkR1cmF0aW9uOiAwLjAxLCAvLyBpbiBzZWNvbmRzXG4gICAgbWF4RHVyYXRpb246IDEwLjAsIC8vIGluIHNlY29uZHNcbiAgICBtaW5EYW1waW5nOiAwLjA1LFxuICAgIG1heERhbXBpbmc6IDEsXG59O1xuXG5leHBvcnQgeyBzcHJpbmdEZWZhdWx0cyB9O1xuIiwgImltcG9ydCB7IHNwcmluZ0RlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy5tanMnO1xuaW1wb3J0IHsgd2FybmluZyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgc2Vjb25kc1RvTWlsbGlzZWNvbmRzLCBtaWxsaXNlY29uZHNUb1NlY29uZHMgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy90aW1lLWNvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvY2xhbXAubWpzJztcblxuY29uc3Qgc2FmZU1pbiA9IDAuMDAxO1xuZnVuY3Rpb24gZmluZFNwcmluZyh7IGR1cmF0aW9uID0gc3ByaW5nRGVmYXVsdHMuZHVyYXRpb24sIGJvdW5jZSA9IHNwcmluZ0RlZmF1bHRzLmJvdW5jZSwgdmVsb2NpdHkgPSBzcHJpbmdEZWZhdWx0cy52ZWxvY2l0eSwgbWFzcyA9IHNwcmluZ0RlZmF1bHRzLm1hc3MsIH0pIHtcbiAgICBsZXQgZW52ZWxvcGU7XG4gICAgbGV0IGRlcml2YXRpdmU7XG4gICAgd2FybmluZyhkdXJhdGlvbiA8PSBzZWNvbmRzVG9NaWxsaXNlY29uZHMoc3ByaW5nRGVmYXVsdHMubWF4RHVyYXRpb24pLCBcIlNwcmluZyBkdXJhdGlvbiBtdXN0IGJlIDEwIHNlY29uZHMgb3IgbGVzc1wiKTtcbiAgICBsZXQgZGFtcGluZ1JhdGlvID0gMSAtIGJvdW5jZTtcbiAgICAvKipcbiAgICAgKiBSZXN0cmljdCBkYW1waW5nUmF0aW8gYW5kIGR1cmF0aW9uIHRvIHdpdGhpbiBhY2NlcHRhYmxlIHJhbmdlcy5cbiAgICAgKi9cbiAgICBkYW1waW5nUmF0aW8gPSBjbGFtcChzcHJpbmdEZWZhdWx0cy5taW5EYW1waW5nLCBzcHJpbmdEZWZhdWx0cy5tYXhEYW1waW5nLCBkYW1waW5nUmF0aW8pO1xuICAgIGR1cmF0aW9uID0gY2xhbXAoc3ByaW5nRGVmYXVsdHMubWluRHVyYXRpb24sIHNwcmluZ0RlZmF1bHRzLm1heER1cmF0aW9uLCBtaWxsaXNlY29uZHNUb1NlY29uZHMoZHVyYXRpb24pKTtcbiAgICBpZiAoZGFtcGluZ1JhdGlvIDwgMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5kZXJkYW1wZWQgc3ByaW5nXG4gICAgICAgICAqL1xuICAgICAgICBlbnZlbG9wZSA9ICh1bmRhbXBlZEZyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9uZW50aWFsRGVjYXkgPSB1bmRhbXBlZEZyZXEgKiBkYW1waW5nUmF0aW87XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGV4cG9uZW50aWFsRGVjYXkgKiBkdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBleHBvbmVudGlhbERlY2F5IC0gdmVsb2NpdHk7XG4gICAgICAgICAgICBjb25zdCBiID0gY2FsY0FuZ3VsYXJGcmVxKHVuZGFtcGVkRnJlcSwgZGFtcGluZ1JhdGlvKTtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBNYXRoLmV4cCgtZGVsdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHNhZmVNaW4gLSAoYSAvIGIpICogYztcbiAgICAgICAgfTtcbiAgICAgICAgZGVyaXZhdGl2ZSA9ICh1bmRhbXBlZEZyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9uZW50aWFsRGVjYXkgPSB1bmRhbXBlZEZyZXEgKiBkYW1waW5nUmF0aW87XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGV4cG9uZW50aWFsRGVjYXkgKiBkdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBkZWx0YSAqIHZlbG9jaXR5ICsgdmVsb2NpdHk7XG4gICAgICAgICAgICBjb25zdCBlID0gTWF0aC5wb3coZGFtcGluZ1JhdGlvLCAyKSAqIE1hdGgucG93KHVuZGFtcGVkRnJlcSwgMikgKiBkdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGYgPSBNYXRoLmV4cCgtZGVsdGEpO1xuICAgICAgICAgICAgY29uc3QgZyA9IGNhbGNBbmd1bGFyRnJlcShNYXRoLnBvdyh1bmRhbXBlZEZyZXEsIDIpLCBkYW1waW5nUmF0aW8pO1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gLWVudmVsb3BlKHVuZGFtcGVkRnJlcSkgKyBzYWZlTWluID4gMCA/IC0xIDogMTtcbiAgICAgICAgICAgIHJldHVybiAoZmFjdG9yICogKChkIC0gZSkgKiBmKSkgLyBnO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyaXRpY2FsbHktZGFtcGVkIHNwcmluZ1xuICAgICAgICAgKi9cbiAgICAgICAgZW52ZWxvcGUgPSAodW5kYW1wZWRGcmVxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gTWF0aC5leHAoLXVuZGFtcGVkRnJlcSAqIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSAodW5kYW1wZWRGcmVxIC0gdmVsb2NpdHkpICogZHVyYXRpb24gKyAxO1xuICAgICAgICAgICAgcmV0dXJuIC1zYWZlTWluICsgYSAqIGI7XG4gICAgICAgIH07XG4gICAgICAgIGRlcml2YXRpdmUgPSAodW5kYW1wZWRGcmVxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gTWF0aC5leHAoLXVuZGFtcGVkRnJlcSAqIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSAodmVsb2NpdHkgLSB1bmRhbXBlZEZyZXEpICogKGR1cmF0aW9uICogZHVyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIGEgKiBiO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBpbml0aWFsR3Vlc3MgPSA1IC8gZHVyYXRpb247XG4gICAgY29uc3QgdW5kYW1wZWRGcmVxID0gYXBwcm94aW1hdGVSb290KGVudmVsb3BlLCBkZXJpdmF0aXZlLCBpbml0aWFsR3Vlc3MpO1xuICAgIGR1cmF0aW9uID0gc2Vjb25kc1RvTWlsbGlzZWNvbmRzKGR1cmF0aW9uKTtcbiAgICBpZiAoaXNOYU4odW5kYW1wZWRGcmVxKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RpZmZuZXNzOiBzcHJpbmdEZWZhdWx0cy5zdGlmZm5lc3MsXG4gICAgICAgICAgICBkYW1waW5nOiBzcHJpbmdEZWZhdWx0cy5kYW1waW5nLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBzdGlmZm5lc3MgPSBNYXRoLnBvdyh1bmRhbXBlZEZyZXEsIDIpICogbWFzcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0aWZmbmVzcyxcbiAgICAgICAgICAgIGRhbXBpbmc6IGRhbXBpbmdSYXRpbyAqIDIgKiBNYXRoLnNxcnQobWFzcyAqIHN0aWZmbmVzcyksXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG59XG5jb25zdCByb290SXRlcmF0aW9ucyA9IDEyO1xuZnVuY3Rpb24gYXBwcm94aW1hdGVSb290KGVudmVsb3BlLCBkZXJpdmF0aXZlLCBpbml0aWFsR3Vlc3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gaW5pdGlhbEd1ZXNzO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcm9vdEl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgLSBlbnZlbG9wZShyZXN1bHQpIC8gZGVyaXZhdGl2ZShyZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2FsY0FuZ3VsYXJGcmVxKHVuZGFtcGVkRnJlcSwgZGFtcGluZ1JhdGlvKSB7XG4gICAgcmV0dXJuIHVuZGFtcGVkRnJlcSAqIE1hdGguc3FydCgxIC0gZGFtcGluZ1JhdGlvICogZGFtcGluZ1JhdGlvKTtcbn1cblxuZXhwb3J0IHsgY2FsY0FuZ3VsYXJGcmVxLCBmaW5kU3ByaW5nIH07XG4iLCAiaW1wb3J0IHsgaW50ZXJwb2xhdGUgfSBmcm9tICcuLi8uLi91dGlscy9pbnRlcnBvbGF0ZS5tanMnO1xuaW1wb3J0IHsgZGVmYXVsdE9mZnNldCB9IGZyb20gJy4uL2tleWZyYW1lcy9vZmZzZXRzL2RlZmF1bHQubWpzJztcbmltcG9ydCB7IGNvbnZlcnRPZmZzZXRUb1RpbWVzIH0gZnJvbSAnLi4va2V5ZnJhbWVzL29mZnNldHMvdGltZS5tanMnO1xuaW1wb3J0IHsgZWFzZUluT3V0IH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2Vhc2UubWpzJztcbmltcG9ydCB7IGlzRWFzaW5nQXJyYXkgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lYXNpbmcvdXRpbHMvaXMtZWFzaW5nLWFycmF5Lm1qcyc7XG5pbXBvcnQgeyBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy91dGlscy9tYXAubWpzJztcblxuZnVuY3Rpb24gZGVmYXVsdEVhc2luZyh2YWx1ZXMsIGVhc2luZykge1xuICAgIHJldHVybiB2YWx1ZXMubWFwKCgpID0+IGVhc2luZyB8fCBlYXNlSW5PdXQpLnNwbGljZSgwLCB2YWx1ZXMubGVuZ3RoIC0gMSk7XG59XG5mdW5jdGlvbiBrZXlmcmFtZXMoeyBkdXJhdGlvbiA9IDMwMCwga2V5ZnJhbWVzOiBrZXlmcmFtZVZhbHVlcywgdGltZXMsIGVhc2UgPSBcImVhc2VJbk91dFwiLCB9KSB7XG4gICAgLyoqXG4gICAgICogRWFzaW5nIGZ1bmN0aW9ucyBjYW4gYmUgZXh0ZXJuYWxseSBkZWZpbmVkIGFzIHN0cmluZ3MuIEhlcmUgd2UgY29udmVydCB0aGVtXG4gICAgICogaW50byBhY3R1YWwgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIGNvbnN0IGVhc2luZ0Z1bmN0aW9ucyA9IGlzRWFzaW5nQXJyYXkoZWFzZSlcbiAgICAgICAgPyBlYXNlLm1hcChlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbilcbiAgICAgICAgOiBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbihlYXNlKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBJdGVyYXRvci1zcGVjIHJldHVybiB2YWx1ZS4gV2UgZW5zdXJlIGl0J3MgbXV0YWJsZSByYXRoZXIgdGhhbiB1c2luZyBhIGdlbmVyYXRvclxuICAgICAqIHRvIHJlZHVjZSBHQyBkdXJpbmcgYW5pbWF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGtleWZyYW1lVmFsdWVzWzBdLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGltZXMgYXJyYXkgYmFzZWQgb24gdGhlIHByb3ZpZGVkIDAtMSBvZmZzZXRzXG4gICAgICovXG4gICAgY29uc3QgYWJzb2x1dGVUaW1lcyA9IGNvbnZlcnRPZmZzZXRUb1RpbWVzKFxuICAgIC8vIE9ubHkgdXNlIHRoZSBwcm92aWRlZCBvZmZzZXRzIGlmIHRoZXkncmUgdGhlIGNvcnJlY3QgbGVuZ3RoXG4gICAgLy8gVE9ETyBNYXliZSB3ZSBzaG91bGQgd2FybiBoZXJlIGlmIHRoZXJlJ3MgYSBsZW5ndGggbWlzbWF0Y2hcbiAgICB0aW1lcyAmJiB0aW1lcy5sZW5ndGggPT09IGtleWZyYW1lVmFsdWVzLmxlbmd0aFxuICAgICAgICA/IHRpbWVzXG4gICAgICAgIDogZGVmYXVsdE9mZnNldChrZXlmcmFtZVZhbHVlcyksIGR1cmF0aW9uKTtcbiAgICBjb25zdCBtYXBUaW1lVG9LZXlmcmFtZSA9IGludGVycG9sYXRlKGFic29sdXRlVGltZXMsIGtleWZyYW1lVmFsdWVzLCB7XG4gICAgICAgIGVhc2U6IEFycmF5LmlzQXJyYXkoZWFzaW5nRnVuY3Rpb25zKVxuICAgICAgICAgICAgPyBlYXNpbmdGdW5jdGlvbnNcbiAgICAgICAgICAgIDogZGVmYXVsdEVhc2luZyhrZXlmcmFtZVZhbHVlcywgZWFzaW5nRnVuY3Rpb25zKSxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjYWxjdWxhdGVkRHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICBuZXh0OiAodCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUudmFsdWUgPSBtYXBUaW1lVG9LZXlmcmFtZSh0KTtcbiAgICAgICAgICAgIHN0YXRlLmRvbmUgPSB0ID49IGR1cmF0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9LFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGRlZmF1bHRFYXNpbmcsIGtleWZyYW1lcyB9O1xuIiwgImltcG9ydCB7IG1peCB9IGZyb20gJy4vbWl4L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lcnJvcnMubWpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvY2xhbXAubWpzJztcbmltcG9ydCB7IE1vdGlvbkdsb2JhbENvbmZpZyB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2dsb2JhbC1jb25maWcubWpzJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9ub29wLm1qcyc7XG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvcGlwZS5tanMnO1xuaW1wb3J0IHsgcHJvZ3Jlc3MgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9wcm9ncmVzcy5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVNaXhlcnMob3V0cHV0LCBlYXNlLCBjdXN0b21NaXhlcikge1xuICAgIGNvbnN0IG1peGVycyA9IFtdO1xuICAgIGNvbnN0IG1peGVyRmFjdG9yeSA9IGN1c3RvbU1peGVyIHx8IE1vdGlvbkdsb2JhbENvbmZpZy5taXggfHwgbWl4O1xuICAgIGNvbnN0IG51bU1peGVycyA9IG91dHB1dC5sZW5ndGggLSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTWl4ZXJzOyBpKyspIHtcbiAgICAgICAgbGV0IG1peGVyID0gbWl4ZXJGYWN0b3J5KG91dHB1dFtpXSwgb3V0cHV0W2kgKyAxXSk7XG4gICAgICAgIGlmIChlYXNlKSB7XG4gICAgICAgICAgICBjb25zdCBlYXNpbmdGdW5jdGlvbiA9IEFycmF5LmlzQXJyYXkoZWFzZSkgPyBlYXNlW2ldIHx8IG5vb3AgOiBlYXNlO1xuICAgICAgICAgICAgbWl4ZXIgPSBwaXBlKGVhc2luZ0Z1bmN0aW9uLCBtaXhlcik7XG4gICAgICAgIH1cbiAgICAgICAgbWl4ZXJzLnB1c2gobWl4ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbWl4ZXJzO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IG1hcHMgZnJvbSBhIG51bWVyaWNhbCBpbnB1dCBhcnJheSB0byBhIGdlbmVyaWMgb3V0cHV0IGFycmF5LlxuICpcbiAqIEFjY2VwdHM6XG4gKiAgIC0gTnVtYmVyc1xuICogICAtIENvbG9ycyAoaGV4LCBoc2wsIGhzbGEsIHJnYiwgcmdiYSlcbiAqICAgLSBDb21wbGV4IChjb21iaW5hdGlvbnMgb2Ygb25lIG9yIG1vcmUgbnVtYmVycyBvciBzdHJpbmdzKVxuICpcbiAqIGBgYGpzeFxuICogY29uc3QgbWl4Q29sb3IgPSBpbnRlcnBvbGF0ZShbMCwgMV0sIFsnI2ZmZicsICcjMDAwJ10pXG4gKlxuICogbWl4Q29sb3IoMC41KSAvLyAncmdiYSgxMjgsIDEyOCwgMTI4LCAxKSdcbiAqIGBgYFxuICpcbiAqIFRPRE8gUmV2aXN0IHRoaXMgYXBwcm9hY2ggb25jZSB3ZSd2ZSBtb3ZlZCB0byBkYXRhIG1vZGVscyBmb3IgdmFsdWVzLFxuICogcHJvYmFibHkgbm90IG5lZWRlZCB0byBwcmVnZW5lcmF0ZSBtaXhlciBmdW5jdGlvbnMuXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZShpbnB1dCwgb3V0cHV0LCB7IGNsYW1wOiBpc0NsYW1wID0gdHJ1ZSwgZWFzZSwgbWl4ZXIgfSA9IHt9KSB7XG4gICAgY29uc3QgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgaW52YXJpYW50KGlucHV0TGVuZ3RoID09PSBvdXRwdXQubGVuZ3RoLCBcIkJvdGggaW5wdXQgYW5kIG91dHB1dCByYW5nZXMgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGhcIik7XG4gICAgLyoqXG4gICAgICogSWYgd2UncmUgb25seSBwcm92aWRlZCBhIHNpbmdsZSBpbnB1dCwgd2UgY2FuIGp1c3QgbWFrZSBhIGZ1bmN0aW9uXG4gICAgICogdGhhdCByZXR1cm5zIHRoZSBvdXRwdXQuXG4gICAgICovXG4gICAgaWYgKGlucHV0TGVuZ3RoID09PSAxKVxuICAgICAgICByZXR1cm4gKCkgPT4gb3V0cHV0WzBdO1xuICAgIGlmIChpbnB1dExlbmd0aCA9PT0gMiAmJiBvdXRwdXRbMF0gPT09IG91dHB1dFsxXSlcbiAgICAgICAgcmV0dXJuICgpID0+IG91dHB1dFsxXTtcbiAgICBjb25zdCBpc1plcm9EZWx0YVJhbmdlID0gaW5wdXRbMF0gPT09IGlucHV0WzFdO1xuICAgIC8vIElmIGlucHV0IHJ1bnMgaGlnaGVzdCAtPiBsb3dlc3QsIHJldmVyc2UgYm90aCBhcnJheXNcbiAgICBpZiAoaW5wdXRbMF0gPiBpbnB1dFtpbnB1dExlbmd0aCAtIDFdKSB7XG4gICAgICAgIGlucHV0ID0gWy4uLmlucHV0XS5yZXZlcnNlKCk7XG4gICAgICAgIG91dHB1dCA9IFsuLi5vdXRwdXRdLnJldmVyc2UoKTtcbiAgICB9XG4gICAgY29uc3QgbWl4ZXJzID0gY3JlYXRlTWl4ZXJzKG91dHB1dCwgZWFzZSwgbWl4ZXIpO1xuICAgIGNvbnN0IG51bU1peGVycyA9IG1peGVycy5sZW5ndGg7XG4gICAgY29uc3QgaW50ZXJwb2xhdG9yID0gKHYpID0+IHtcbiAgICAgICAgaWYgKGlzWmVyb0RlbHRhUmFuZ2UgJiYgdiA8IGlucHV0WzBdKVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dFswXTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBpZiAobnVtTWl4ZXJzID4gMSkge1xuICAgICAgICAgICAgZm9yICg7IGkgPCBpbnB1dC5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodiA8IGlucHV0W2kgKyAxXSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NJblJhbmdlID0gcHJvZ3Jlc3MoaW5wdXRbaV0sIGlucHV0W2kgKyAxXSwgdik7XG4gICAgICAgIHJldHVybiBtaXhlcnNbaV0ocHJvZ3Jlc3NJblJhbmdlKTtcbiAgICB9O1xuICAgIHJldHVybiBpc0NsYW1wXG4gICAgICAgID8gKHYpID0+IGludGVycG9sYXRvcihjbGFtcChpbnB1dFswXSwgaW5wdXRbaW5wdXRMZW5ndGggLSAxXSwgdikpXG4gICAgICAgIDogaW50ZXJwb2xhdG9yO1xufVxuXG5leHBvcnQgeyBpbnRlcnBvbGF0ZSB9O1xuIiwgIi8qXG4gIFByb2dyZXNzIHdpdGhpbiBnaXZlbiByYW5nZVxuXG4gIEdpdmVuIGEgbG93ZXIgbGltaXQgYW5kIGFuIHVwcGVyIGxpbWl0LCB3ZSByZXR1cm4gdGhlIHByb2dyZXNzXG4gIChleHByZXNzZWQgYXMgYSBudW1iZXIgMC0xKSByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gdmFsdWUsIGFuZFxuICBsaW1pdCB0aGF0IHByb2dyZXNzIHRvIHdpdGhpbiAwLTEuXG5cbiAgQHBhcmFtIFtudW1iZXJdOiBMb3dlciBsaW1pdFxuICBAcGFyYW0gW251bWJlcl06IFVwcGVyIGxpbWl0XG4gIEBwYXJhbSBbbnVtYmVyXTogVmFsdWUgdG8gZmluZCBwcm9ncmVzcyB3aXRoaW4gZ2l2ZW4gcmFuZ2VcbiAgQHJldHVybiBbbnVtYmVyXTogUHJvZ3Jlc3Mgb2YgdmFsdWUgd2l0aGluIHJhbmdlIGFzIGV4cHJlc3NlZCAwLTFcbiovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmNvbnN0IHByb2dyZXNzID0gKGZyb20sIHRvLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHRvRnJvbURpZmZlcmVuY2UgPSB0byAtIGZyb207XG4gICAgcmV0dXJuIHRvRnJvbURpZmZlcmVuY2UgPT09IDAgPyAxIDogKHZhbHVlIC0gZnJvbSkgLyB0b0Zyb21EaWZmZXJlbmNlO1xufTtcblxuZXhwb3J0IHsgcHJvZ3Jlc3MgfTtcbiIsICJpbXBvcnQgeyBmaWxsT2Zmc2V0IH0gZnJvbSAnLi9maWxsLm1qcyc7XG5cbmZ1bmN0aW9uIGRlZmF1bHRPZmZzZXQoYXJyKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gWzBdO1xuICAgIGZpbGxPZmZzZXQob2Zmc2V0LCBhcnIubGVuZ3RoIC0gMSk7XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cblxuZXhwb3J0IHsgZGVmYXVsdE9mZnNldCB9O1xuIiwgImltcG9ydCB7IG1peE51bWJlciB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL21peC9udW1iZXIubWpzJztcbmltcG9ydCB7IHByb2dyZXNzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvcHJvZ3Jlc3MubWpzJztcblxuZnVuY3Rpb24gZmlsbE9mZnNldChvZmZzZXQsIHJlbWFpbmluZykge1xuICAgIGNvbnN0IG1pbiA9IG9mZnNldFtvZmZzZXQubGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcmVtYWluaW5nOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0UHJvZ3Jlc3MgPSBwcm9ncmVzcygwLCByZW1haW5pbmcsIGkpO1xuICAgICAgICBvZmZzZXQucHVzaChtaXhOdW1iZXIobWluLCAxLCBvZmZzZXRQcm9ncmVzcykpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgZmlsbE9mZnNldCB9O1xuIiwgImZ1bmN0aW9uIGNvbnZlcnRPZmZzZXRUb1RpbWVzKG9mZnNldCwgZHVyYXRpb24pIHtcbiAgICByZXR1cm4gb2Zmc2V0Lm1hcCgobykgPT4gbyAqIGR1cmF0aW9uKTtcbn1cblxuZXhwb3J0IHsgY29udmVydE9mZnNldFRvVGltZXMgfTtcbiIsICJpbXBvcnQgeyBjdWJpY0JlemllciB9IGZyb20gJy4vY3ViaWMtYmV6aWVyLm1qcyc7XG5cbmNvbnN0IGVhc2VJbiA9IC8qQF9fUFVSRV9fKi8gY3ViaWNCZXppZXIoMC40MiwgMCwgMSwgMSk7XG5jb25zdCBlYXNlT3V0ID0gLypAX19QVVJFX18qLyBjdWJpY0JlemllcigwLCAwLCAwLjU4LCAxKTtcbmNvbnN0IGVhc2VJbk91dCA9IC8qQF9fUFVSRV9fKi8gY3ViaWNCZXppZXIoMC40MiwgMCwgMC41OCwgMSk7XG5cbmV4cG9ydCB7IGVhc2VJbiwgZWFzZUluT3V0LCBlYXNlT3V0IH07XG4iLCAiaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL25vb3AubWpzJztcblxuLypcbiAgQmV6aWVyIGZ1bmN0aW9uIGdlbmVyYXRvclxuICBUaGlzIGhhcyBiZWVuIG1vZGlmaWVkIGZyb20gR2FcdTAwRUJ0YW4gUmVuYXVkZWF1J3MgQmV6aWVyRWFzaW5nXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmUvYmV6aWVyLWVhc2luZy9ibG9iL21hc3Rlci9zcmMvaW5kZXguanNcbiAgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAgXG4gIEkndmUgcmVtb3ZlZCB0aGUgbmV3dG9uUmFwaHNvbkl0ZXJhdGUgYWxnbyBiZWNhdXNlIGluIGJlbmNobWFya2luZyBpdFxuICB3YXNuJ3Qgbm90aWNpYWJseSBmYXN0ZXIgdGhhbiBiaW5hcnlTdWJkaXZpc2lvbiwgaW5kZWVkIHJlbW92aW5nIGl0XG4gIHVzdWFsbHkgaW1wcm92ZWQgdGltZXMsIGRlcGVuZGluZyBvbiB0aGUgY3VydmUuXG4gIEkgYWxzbyByZW1vdmVkIHRoZSBsb29rdXAgdGFibGUsIGFzIGZvciB0aGUgYWRkZWQgYnVuZGxlIHNpemUgYW5kIGxvb3Agd2UncmVcbiAgb25seSBjdXR0aW5nIH40IG9yIHNvIHN1YmRpdmlzaW9uIGl0ZXJhdGlvbnMuIEkgYnVtcGVkIHRoZSBtYXggaXRlcmF0aW9ucyB1cFxuICB0byAxMiB0byBjb21wZW5zYXRlIGFuZCB0aGlzIHN0aWxsIHRlbmRlZCB0byBiZSBmYXN0ZXIgZm9yIG5vIHBlcmNlaXZhYmxlXG4gIGxvc3MgaW4gYWNjdXJhY3kuXG4gIFVzYWdlXG4gICAgY29uc3QgZWFzZU91dCA9IGN1YmljQmV6aWVyKC4xNywuNjcsLjgzLC42Nyk7XG4gICAgY29uc3QgeCA9IGVhc2VPdXQoMC41KTsgLy8gcmV0dXJucyAwLjYyNy4uLlxuKi9cbi8vIFJldHVybnMgeCh0KSBnaXZlbiB0LCB4MSwgYW5kIHgyLCBvciB5KHQpIGdpdmVuIHQsIHkxLCBhbmQgeTIuXG5jb25zdCBjYWxjQmV6aWVyID0gKHQsIGExLCBhMikgPT4gKCgoMS4wIC0gMy4wICogYTIgKyAzLjAgKiBhMSkgKiB0ICsgKDMuMCAqIGEyIC0gNi4wICogYTEpKSAqIHQgKyAzLjAgKiBhMSkgKlxuICAgIHQ7XG5jb25zdCBzdWJkaXZpc2lvblByZWNpc2lvbiA9IDAuMDAwMDAwMTtcbmNvbnN0IHN1YmRpdmlzaW9uTWF4SXRlcmF0aW9ucyA9IDEyO1xuZnVuY3Rpb24gYmluYXJ5U3ViZGl2aWRlKHgsIGxvd2VyQm91bmQsIHVwcGVyQm91bmQsIG1YMSwgbVgyKSB7XG4gICAgbGV0IGN1cnJlbnRYO1xuICAgIGxldCBjdXJyZW50VDtcbiAgICBsZXQgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgICBjdXJyZW50VCA9IGxvd2VyQm91bmQgKyAodXBwZXJCb3VuZCAtIGxvd2VyQm91bmQpIC8gMi4wO1xuICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIHg7XG4gICAgICAgIGlmIChjdXJyZW50WCA+IDAuMCkge1xuICAgICAgICAgICAgdXBwZXJCb3VuZCA9IGN1cnJlbnRUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG93ZXJCb3VuZCA9IGN1cnJlbnRUO1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gc3ViZGl2aXNpb25QcmVjaXNpb24gJiZcbiAgICAgICAgKytpIDwgc3ViZGl2aXNpb25NYXhJdGVyYXRpb25zKTtcbiAgICByZXR1cm4gY3VycmVudFQ7XG59XG5mdW5jdGlvbiBjdWJpY0JlemllcihtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcbiAgICAvLyBJZiB0aGlzIGlzIGEgbGluZWFyIGdyYWRpZW50LCByZXR1cm4gbGluZWFyIGVhc2luZ1xuICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMilcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgZ2V0VEZvclggPSAoYVgpID0+IGJpbmFyeVN1YmRpdmlkZShhWCwgMCwgMSwgbVgxLCBtWDIpO1xuICAgIC8vIElmIGFuaW1hdGlvbiBpcyBhdCBzdGFydC9lbmQsIHJldHVybiB0IHdpdGhvdXQgZWFzaW5nXG4gICAgcmV0dXJuICh0KSA9PiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogY2FsY0JlemllcihnZXRURm9yWCh0KSwgbVkxLCBtWTIpO1xufVxuXG5leHBvcnQgeyBjdWJpY0JlemllciB9O1xuIiwgImNvbnN0IGlzRWFzaW5nQXJyYXkgPSAoZWFzZSkgPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGVhc2UpICYmIHR5cGVvZiBlYXNlWzBdICE9PSBcIm51bWJlclwiO1xufTtcblxuZXhwb3J0IHsgaXNFYXNpbmdBcnJheSB9O1xuIiwgImltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJy4uLy4uL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uL25vb3AubWpzJztcbmltcG9ydCB7IGFudGljaXBhdGUgfSBmcm9tICcuLi9hbnRpY2lwYXRlLm1qcyc7XG5pbXBvcnQgeyBiYWNrSW4sIGJhY2tJbk91dCwgYmFja091dCB9IGZyb20gJy4uL2JhY2subWpzJztcbmltcG9ydCB7IGNpcmNJbiwgY2lyY0luT3V0LCBjaXJjT3V0IH0gZnJvbSAnLi4vY2lyYy5tanMnO1xuaW1wb3J0IHsgY3ViaWNCZXppZXIgfSBmcm9tICcuLi9jdWJpYy1iZXppZXIubWpzJztcbmltcG9ydCB7IGVhc2VJbiwgZWFzZUluT3V0LCBlYXNlT3V0IH0gZnJvbSAnLi4vZWFzZS5tanMnO1xuaW1wb3J0IHsgaXNCZXppZXJEZWZpbml0aW9uIH0gZnJvbSAnLi9pcy1iZXppZXItZGVmaW5pdGlvbi5tanMnO1xuXG5jb25zdCBlYXNpbmdMb29rdXAgPSB7XG4gICAgbGluZWFyOiBub29wLFxuICAgIGVhc2VJbixcbiAgICBlYXNlSW5PdXQsXG4gICAgZWFzZU91dCxcbiAgICBjaXJjSW4sXG4gICAgY2lyY0luT3V0LFxuICAgIGNpcmNPdXQsXG4gICAgYmFja0luLFxuICAgIGJhY2tJbk91dCxcbiAgICBiYWNrT3V0LFxuICAgIGFudGljaXBhdGUsXG59O1xuY29uc3QgaXNWYWxpZEVhc2luZyA9IChlYXNpbmcpID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGVhc2luZyA9PT0gXCJzdHJpbmdcIjtcbn07XG5jb25zdCBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbiA9IChkZWZpbml0aW9uKSA9PiB7XG4gICAgaWYgKGlzQmV6aWVyRGVmaW5pdGlvbihkZWZpbml0aW9uKSkge1xuICAgICAgICAvLyBJZiBjdWJpYyBiZXppZXIgZGVmaW5pdGlvbiwgY3JlYXRlIGJlemllciBjdXJ2ZVxuICAgICAgICBpbnZhcmlhbnQoZGVmaW5pdGlvbi5sZW5ndGggPT09IDQsIGBDdWJpYyBiZXppZXIgYXJyYXlzIG11c3QgY29udGFpbiBmb3VyIG51bWVyaWNhbCB2YWx1ZXMuYCk7XG4gICAgICAgIGNvbnN0IFt4MSwgeTEsIHgyLCB5Ml0gPSBkZWZpbml0aW9uO1xuICAgICAgICByZXR1cm4gY3ViaWNCZXppZXIoeDEsIHkxLCB4MiwgeTIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1ZhbGlkRWFzaW5nKGRlZmluaXRpb24pKSB7XG4gICAgICAgIC8vIEVsc2UgbG9va3VwIGZyb20gdGFibGVcbiAgICAgICAgaW52YXJpYW50KGVhc2luZ0xvb2t1cFtkZWZpbml0aW9uXSAhPT0gdW5kZWZpbmVkLCBgSW52YWxpZCBlYXNpbmcgdHlwZSAnJHtkZWZpbml0aW9ufSdgKTtcbiAgICAgICAgcmV0dXJuIGVhc2luZ0xvb2t1cFtkZWZpbml0aW9uXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmluaXRpb247XG59O1xuXG5leHBvcnQgeyBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbiB9O1xuIiwgImltcG9ydCB7IGJhY2tJbiB9IGZyb20gJy4vYmFjay5tanMnO1xuXG5jb25zdCBhbnRpY2lwYXRlID0gKHApID0+IChwICo9IDIpIDwgMSA/IDAuNSAqIGJhY2tJbihwKSA6IDAuNSAqICgyIC0gTWF0aC5wb3coMiwgLTEwICogKHAgLSAxKSkpO1xuXG5leHBvcnQgeyBhbnRpY2lwYXRlIH07XG4iLCAiaW1wb3J0IHsgY3ViaWNCZXppZXIgfSBmcm9tICcuL2N1YmljLWJlemllci5tanMnO1xuaW1wb3J0IHsgbWlycm9yRWFzaW5nIH0gZnJvbSAnLi9tb2RpZmllcnMvbWlycm9yLm1qcyc7XG5pbXBvcnQgeyByZXZlcnNlRWFzaW5nIH0gZnJvbSAnLi9tb2RpZmllcnMvcmV2ZXJzZS5tanMnO1xuXG5jb25zdCBiYWNrT3V0ID0gLypAX19QVVJFX18qLyBjdWJpY0JlemllcigwLjMzLCAxLjUzLCAwLjY5LCAwLjk5KTtcbmNvbnN0IGJhY2tJbiA9IC8qQF9fUFVSRV9fKi8gcmV2ZXJzZUVhc2luZyhiYWNrT3V0KTtcbmNvbnN0IGJhY2tJbk91dCA9IC8qQF9fUFVSRV9fKi8gbWlycm9yRWFzaW5nKGJhY2tJbik7XG5cbmV4cG9ydCB7IGJhY2tJbiwgYmFja0luT3V0LCBiYWNrT3V0IH07XG4iLCAiLy8gQWNjZXB0cyBhbiBlYXNpbmcgZnVuY3Rpb24gYW5kIHJldHVybnMgYSBuZXcgb25lIHRoYXQgb3V0cHV0cyBtaXJyb3JlZCB2YWx1ZXMgZm9yXG4vLyB0aGUgc2Vjb25kIGhhbGYgb2YgdGhlIGFuaW1hdGlvbi4gVHVybnMgZWFzZUluIGludG8gZWFzZUluT3V0LlxuY29uc3QgbWlycm9yRWFzaW5nID0gKGVhc2luZykgPT4gKHApID0+IHAgPD0gMC41ID8gZWFzaW5nKDIgKiBwKSAvIDIgOiAoMiAtIGVhc2luZygyICogKDEgLSBwKSkpIC8gMjtcblxuZXhwb3J0IHsgbWlycm9yRWFzaW5nIH07XG4iLCAiLy8gQWNjZXB0cyBhbiBlYXNpbmcgZnVuY3Rpb24gYW5kIHJldHVybnMgYSBuZXcgb25lIHRoYXQgb3V0cHV0cyByZXZlcnNlZCB2YWx1ZXMuXG4vLyBUdXJucyBlYXNlSW4gaW50byBlYXNlT3V0LlxuY29uc3QgcmV2ZXJzZUVhc2luZyA9IChlYXNpbmcpID0+IChwKSA9PiAxIC0gZWFzaW5nKDEgLSBwKTtcblxuZXhwb3J0IHsgcmV2ZXJzZUVhc2luZyB9O1xuIiwgImltcG9ydCB7IG1pcnJvckVhc2luZyB9IGZyb20gJy4vbW9kaWZpZXJzL21pcnJvci5tanMnO1xuaW1wb3J0IHsgcmV2ZXJzZUVhc2luZyB9IGZyb20gJy4vbW9kaWZpZXJzL3JldmVyc2UubWpzJztcblxuY29uc3QgY2lyY0luID0gKHApID0+IDEgLSBNYXRoLnNpbihNYXRoLmFjb3MocCkpO1xuY29uc3QgY2lyY091dCA9IHJldmVyc2VFYXNpbmcoY2lyY0luKTtcbmNvbnN0IGNpcmNJbk91dCA9IG1pcnJvckVhc2luZyhjaXJjSW4pO1xuXG5leHBvcnQgeyBjaXJjSW4sIGNpcmNJbk91dCwgY2lyY091dCB9O1xuIiwgImNvbnN0IGlzQmV6aWVyRGVmaW5pdGlvbiA9IChlYXNpbmcpID0+IEFycmF5LmlzQXJyYXkoZWFzaW5nKSAmJiB0eXBlb2YgZWFzaW5nWzBdID09PSBcIm51bWJlclwiO1xuXG5leHBvcnQgeyBpc0JlemllckRlZmluaXRpb24gfTtcbiIsICJjb25zdCBpc05vdE51bGwgPSAodmFsdWUpID0+IHZhbHVlICE9PSBudWxsO1xuZnVuY3Rpb24gZ2V0RmluYWxLZXlmcmFtZShrZXlmcmFtZXMsIHsgcmVwZWF0LCByZXBlYXRUeXBlID0gXCJsb29wXCIgfSwgZmluYWxLZXlmcmFtZSwgc3BlZWQgPSAxKSB7XG4gICAgY29uc3QgcmVzb2x2ZWRLZXlmcmFtZXMgPSBrZXlmcmFtZXMuZmlsdGVyKGlzTm90TnVsbCk7XG4gICAgY29uc3QgdXNlRmlyc3RLZXlmcmFtZSA9IHNwZWVkIDwgMCB8fCAocmVwZWF0ICYmIHJlcGVhdFR5cGUgIT09IFwibG9vcFwiICYmIHJlcGVhdCAlIDIgPT09IDEpO1xuICAgIGNvbnN0IGluZGV4ID0gdXNlRmlyc3RLZXlmcmFtZSA/IDAgOiByZXNvbHZlZEtleWZyYW1lcy5sZW5ndGggLSAxO1xuICAgIHJldHVybiAhaW5kZXggfHwgZmluYWxLZXlmcmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gcmVzb2x2ZWRLZXlmcmFtZXNbaW5kZXhdXG4gICAgICAgIDogZmluYWxLZXlmcmFtZTtcbn1cblxuZXhwb3J0IHsgZ2V0RmluYWxLZXlmcmFtZSB9O1xuIiwgImltcG9ydCB7IGluZXJ0aWEgfSBmcm9tICcuLi9nZW5lcmF0b3JzL2luZXJ0aWEubWpzJztcbmltcG9ydCB7IGtleWZyYW1lcyB9IGZyb20gJy4uL2dlbmVyYXRvcnMva2V5ZnJhbWVzLm1qcyc7XG5pbXBvcnQgeyBzcHJpbmcgfSBmcm9tICcuLi9nZW5lcmF0b3JzL3NwcmluZy9pbmRleC5tanMnO1xuXG5jb25zdCB0cmFuc2l0aW9uVHlwZU1hcCA9IHtcbiAgICBkZWNheTogaW5lcnRpYSxcbiAgICBpbmVydGlhLFxuICAgIHR3ZWVuOiBrZXlmcmFtZXMsXG4gICAga2V5ZnJhbWVzOiBrZXlmcmFtZXMsXG4gICAgc3ByaW5nLFxufTtcbmZ1bmN0aW9uIHJlcGxhY2VUcmFuc2l0aW9uVHlwZSh0cmFuc2l0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiB0cmFuc2l0aW9uLnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdHJhbnNpdGlvbi50eXBlID0gdHJhbnNpdGlvblR5cGVNYXBbdHJhbnNpdGlvbi50eXBlXTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJlcGxhY2VUcmFuc2l0aW9uVHlwZSB9O1xuIiwgImNsYXNzIFdpdGhQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMudXBkYXRlRmluaXNoZWQoKTtcbiAgICB9XG4gICAgZ2V0IGZpbmlzaGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmluaXNoZWQ7XG4gICAgfVxuICAgIHVwZGF0ZUZpbmlzaGVkKCkge1xuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub3RpZnlGaW5pc2hlZCgpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0aGUgYW5pbWF0aW9uIHRvIGJlIGF3YWl0ZWQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYGZpbmlzaGVkYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHRoZW4ob25SZXNvbHZlLCBvblJlamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5pc2hlZC50aGVuKG9uUmVzb2x2ZSwgb25SZWplY3QpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgV2l0aFByb21pc2UgfTtcbiIsICJpbXBvcnQgeyBmaWxsV2lsZGNhcmRzIH0gZnJvbSAnLi91dGlscy9maWxsLXdpbGRjYXJkcy5tanMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybSB9IGZyb20gJy4vdXRpbHMvdW5pdC1jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBmcmFtZSB9IGZyb20gJy4uLy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5jb25zdCB0b1Jlc29sdmUgPSBuZXcgU2V0KCk7XG5sZXQgaXNTY2hlZHVsZWQgPSBmYWxzZTtcbmxldCBhbnlOZWVkc01lYXN1cmVtZW50ID0gZmFsc2U7XG5sZXQgaXNGb3JjZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIG1lYXN1cmVBbGxLZXlmcmFtZXMoKSB7XG4gICAgaWYgKGFueU5lZWRzTWVhc3VyZW1lbnQpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXJzVG9NZWFzdXJlID0gQXJyYXkuZnJvbSh0b1Jlc29sdmUpLmZpbHRlcigocmVzb2x2ZXIpID0+IHJlc29sdmVyLm5lZWRzTWVhc3VyZW1lbnQpO1xuICAgICAgICBjb25zdCBlbGVtZW50c1RvTWVhc3VyZSA9IG5ldyBTZXQocmVzb2x2ZXJzVG9NZWFzdXJlLm1hcCgocmVzb2x2ZXIpID0+IHJlc29sdmVyLmVsZW1lbnQpKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3Jtc1RvUmVzdG9yZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyaXRlIHBhc3NcbiAgICAgICAgICogSWYgd2UncmUgbWVhc3VyaW5nIGVsZW1lbnRzIHdlIHdhbnQgdG8gcmVtb3ZlIGJvdW5kaW5nIGJveC1jaGFuZ2luZyB0cmFuc2Zvcm1zLlxuICAgICAgICAgKi9cbiAgICAgICAgZWxlbWVudHNUb01lYXN1cmUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZFRyYW5zZm9ybXMgPSByZW1vdmVOb25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKCFyZW1vdmVkVHJhbnNmb3Jtcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdHJhbnNmb3Jtc1RvUmVzdG9yZS5zZXQoZWxlbWVudCwgcmVtb3ZlZFRyYW5zZm9ybXMpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlYWRcbiAgICAgICAgcmVzb2x2ZXJzVG9NZWFzdXJlLmZvckVhY2goKHJlc29sdmVyKSA9PiByZXNvbHZlci5tZWFzdXJlSW5pdGlhbFN0YXRlKCkpO1xuICAgICAgICAvLyBXcml0ZVxuICAgICAgICBlbGVtZW50c1RvTWVhc3VyZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbmRlcigpO1xuICAgICAgICAgICAgY29uc3QgcmVzdG9yZSA9IHRyYW5zZm9ybXNUb1Jlc3RvcmUuZ2V0KGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHJlc3RvcmUpIHtcbiAgICAgICAgICAgICAgICByZXN0b3JlLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmdldFZhbHVlKGtleSk/LnNldCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSZWFkXG4gICAgICAgIHJlc29sdmVyc1RvTWVhc3VyZS5mb3JFYWNoKChyZXNvbHZlcikgPT4gcmVzb2x2ZXIubWVhc3VyZUVuZFN0YXRlKCkpO1xuICAgICAgICAvLyBXcml0ZVxuICAgICAgICByZXNvbHZlcnNUb01lYXN1cmUuZm9yRWFjaCgocmVzb2x2ZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlci5zdXNwZW5kZWRTY3JvbGxZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgcmVzb2x2ZXIuc3VzcGVuZGVkU2Nyb2xsWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhbnlOZWVkc01lYXN1cmVtZW50ID0gZmFsc2U7XG4gICAgaXNTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICB0b1Jlc29sdmUuZm9yRWFjaCgocmVzb2x2ZXIpID0+IHJlc29sdmVyLmNvbXBsZXRlKGlzRm9yY2VkKSk7XG4gICAgdG9SZXNvbHZlLmNsZWFyKCk7XG59XG5mdW5jdGlvbiByZWFkQWxsS2V5ZnJhbWVzKCkge1xuICAgIHRvUmVzb2x2ZS5mb3JFYWNoKChyZXNvbHZlcikgPT4ge1xuICAgICAgICByZXNvbHZlci5yZWFkS2V5ZnJhbWVzKCk7XG4gICAgICAgIGlmIChyZXNvbHZlci5uZWVkc01lYXN1cmVtZW50KSB7XG4gICAgICAgICAgICBhbnlOZWVkc01lYXN1cmVtZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gZmx1c2hLZXlmcmFtZVJlc29sdmVycygpIHtcbiAgICBpc0ZvcmNlZCA9IHRydWU7XG4gICAgcmVhZEFsbEtleWZyYW1lcygpO1xuICAgIG1lYXN1cmVBbGxLZXlmcmFtZXMoKTtcbiAgICBpc0ZvcmNlZCA9IGZhbHNlO1xufVxuY2xhc3MgS2V5ZnJhbWVSZXNvbHZlciB7XG4gICAgY29uc3RydWN0b3IodW5yZXNvbHZlZEtleWZyYW1lcywgb25Db21wbGV0ZSwgbmFtZSwgbW90aW9uVmFsdWUsIGVsZW1lbnQsIGlzQXN5bmMgPSBmYWxzZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2sgd2hldGhlciB0aGlzIHJlc29sdmVyIGhhcyBjb21wbGV0ZWQuIE9uY2UgY29tcGxldGUsIGl0IG5ldmVyXG4gICAgICAgICAqIG5lZWRzIHRvIGF0dGVtcHQga2V5ZnJhbWUgcmVzb2x1dGlvbiBhZ2Fpbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2sgd2hldGhlciB0aGlzIHJlc29sdmVyIGlzIGFzeW5jLiBJZiBpdCBpcywgaXQnbGwgYmUgYWRkZWQgdG8gdGhlXG4gICAgICAgICAqIHJlc29sdmVyIHF1ZXVlIGFuZCBmbHVzaGVkIGluIHRoZSBuZXh0IGZyYW1lLiBSZXNvbHZlcnMgdGhhdCBhcmVuJ3QgZ29pbmdcbiAgICAgICAgICogdG8gdHJpZ2dlciByZWFkL3dyaXRlIHRocmFzaGluZyBkb24ndCBuZWVkIHRvIGJlIGFzeW5jLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0FzeW5jID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFjayB3aGV0aGVyIHRoaXMgcmVzb2x2ZXIgbmVlZHMgdG8gcGVyZm9ybSBhIG1lYXN1cmVtZW50XG4gICAgICAgICAqIHRvIHJlc29sdmUgaXRzIGtleWZyYW1lcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmVlZHNNZWFzdXJlbWVudCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2sgd2hldGhlciB0aGlzIHJlc29sdmVyIGlzIGN1cnJlbnRseSBzY2hlZHVsZWQgdG8gcmVzb2x2ZVxuICAgICAgICAgKiB0byBhbGxvdyBpdCB0byBiZSBjYW5jZWxsZWQgYW5kIHJlc3VtZWQgZXh0ZXJuYWxseS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51bnJlc29sdmVkS2V5ZnJhbWVzID0gWy4uLnVucmVzb2x2ZWRLZXlmcmFtZXNdO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm1vdGlvblZhbHVlID0gbW90aW9uVmFsdWU7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuaXNBc3luYyA9IGlzQXN5bmM7XG4gICAgfVxuICAgIHNjaGVkdWxlUmVzb2x2ZSgpIHtcbiAgICAgICAgdGhpcy5pc1NjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmlzQXN5bmMpIHtcbiAgICAgICAgICAgIHRvUmVzb2x2ZS5hZGQodGhpcyk7XG4gICAgICAgICAgICBpZiAoIWlzU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgaXNTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZyYW1lLnJlYWQocmVhZEFsbEtleWZyYW1lcyk7XG4gICAgICAgICAgICAgICAgZnJhbWUucmVzb2x2ZUtleWZyYW1lcyhtZWFzdXJlQWxsS2V5ZnJhbWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVhZEtleWZyYW1lcygpO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWRLZXlmcmFtZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgdW5yZXNvbHZlZEtleWZyYW1lcywgbmFtZSwgZWxlbWVudCwgbW90aW9uVmFsdWUgfSA9IHRoaXM7XG4gICAgICAgIC8vIElmIGluaXRpYWwga2V5ZnJhbWUgaXMgbnVsbCB3ZSBuZWVkIHRvIHJlYWQgaXQgZnJvbSB0aGUgRE9NXG4gICAgICAgIGlmICh1bnJlc29sdmVkS2V5ZnJhbWVzWzBdID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBtb3Rpb25WYWx1ZT8uZ2V0KCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGRvZXNuJ3Qgd29yayBpZiB0aGUgZmluYWwga2V5ZnJhbWUgaXMgYSB3aWxkY2FyZFxuICAgICAgICAgICAgY29uc3QgZmluYWxLZXlmcmFtZSA9IHVucmVzb2x2ZWRLZXlmcmFtZXNbdW5yZXNvbHZlZEtleWZyYW1lcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHVucmVzb2x2ZWRLZXlmcmFtZXNbMF0gPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbGVtZW50ICYmIG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzUmVhZCA9IGVsZW1lbnQucmVhZFZhbHVlKG5hbWUsIGZpbmFsS2V5ZnJhbWUpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUFzUmVhZCAhPT0gdW5kZWZpbmVkICYmIHZhbHVlQXNSZWFkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHVucmVzb2x2ZWRLZXlmcmFtZXNbMF0gPSB2YWx1ZUFzUmVhZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5yZXNvbHZlZEtleWZyYW1lc1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdW5yZXNvbHZlZEtleWZyYW1lc1swXSA9IGZpbmFsS2V5ZnJhbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW90aW9uVmFsdWUgJiYgY3VycmVudFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtb3Rpb25WYWx1ZS5zZXQodW5yZXNvbHZlZEtleWZyYW1lc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmlsbFdpbGRjYXJkcyh1bnJlc29sdmVkS2V5ZnJhbWVzKTtcbiAgICB9XG4gICAgc2V0RmluYWxLZXlmcmFtZSgpIHsgfVxuICAgIG1lYXN1cmVJbml0aWFsU3RhdGUoKSB7IH1cbiAgICByZW5kZXJFbmRTdHlsZXMoKSB7IH1cbiAgICBtZWFzdXJlRW5kU3RhdGUoKSB7IH1cbiAgICBjb21wbGV0ZShpc0ZvcmNlZCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSh0aGlzLnVucmVzb2x2ZWRLZXlmcmFtZXMsIHRoaXMuZmluYWxLZXlmcmFtZSwgaXNGb3JjZWQpO1xuICAgICAgICB0b1Jlc29sdmUuZGVsZXRlKHRoaXMpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmlzU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0b1Jlc29sdmUuZGVsZXRlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29tcGxldGUpXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVzb2x2ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgS2V5ZnJhbWVSZXNvbHZlciwgZmx1c2hLZXlmcmFtZVJlc29sdmVycyB9O1xuIiwgImZ1bmN0aW9uIGZpbGxXaWxkY2FyZHMoa2V5ZnJhbWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBrZXlmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ZnJhbWVzW2ldID8/IChrZXlmcmFtZXNbaV0gPSBrZXlmcmFtZXNbaSAtIDFdKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGZpbGxXaWxkY2FyZHMgfTtcbiIsICJpbXBvcnQgeyBwYXJzZVZhbHVlRnJvbVRyYW5zZm9ybSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlci9kb20vcGFyc2UtdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wT3JkZXIgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXIvdXRpbHMva2V5cy10cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IG51bWJlciB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3R5cGVzL251bWJlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHB4IH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvbnVtYmVycy91bml0cy5tanMnO1xuXG5jb25zdCBpc051bU9yUHhUeXBlID0gKHYpID0+IHYgPT09IG51bWJlciB8fCB2ID09PSBweDtcbmNvbnN0IHRyYW5zZm9ybUtleXMgPSBuZXcgU2V0KFtcInhcIiwgXCJ5XCIsIFwielwiXSk7XG5jb25zdCBub25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtS2V5cyA9IHRyYW5zZm9ybVByb3BPcmRlci5maWx0ZXIoKGtleSkgPT4gIXRyYW5zZm9ybUtleXMuaGFzKGtleSkpO1xuZnVuY3Rpb24gcmVtb3ZlTm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybSh2aXN1YWxFbGVtZW50KSB7XG4gICAgY29uc3QgcmVtb3ZlZFRyYW5zZm9ybXMgPSBbXTtcbiAgICBub25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW1vdmVkVHJhbnNmb3Jtcy5wdXNoKFtrZXksIHZhbHVlLmdldCgpXSk7XG4gICAgICAgICAgICB2YWx1ZS5zZXQoa2V5LnN0YXJ0c1dpdGgoXCJzY2FsZVwiKSA/IDEgOiAwKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZW1vdmVkVHJhbnNmb3Jtcztcbn1cbmNvbnN0IHBvc2l0aW9uYWxWYWx1ZXMgPSB7XG4gICAgLy8gRGltZW5zaW9uc1xuICAgIHdpZHRoOiAoeyB4IH0sIHsgcGFkZGluZ0xlZnQgPSBcIjBcIiwgcGFkZGluZ1JpZ2h0ID0gXCIwXCIgfSkgPT4geC5tYXggLSB4Lm1pbiAtIHBhcnNlRmxvYXQocGFkZGluZ0xlZnQpIC0gcGFyc2VGbG9hdChwYWRkaW5nUmlnaHQpLFxuICAgIGhlaWdodDogKHsgeSB9LCB7IHBhZGRpbmdUb3AgPSBcIjBcIiwgcGFkZGluZ0JvdHRvbSA9IFwiMFwiIH0pID0+IHkubWF4IC0geS5taW4gLSBwYXJzZUZsb2F0KHBhZGRpbmdUb3ApIC0gcGFyc2VGbG9hdChwYWRkaW5nQm90dG9tKSxcbiAgICB0b3A6IChfYmJveCwgeyB0b3AgfSkgPT4gcGFyc2VGbG9hdCh0b3ApLFxuICAgIGxlZnQ6IChfYmJveCwgeyBsZWZ0IH0pID0+IHBhcnNlRmxvYXQobGVmdCksXG4gICAgYm90dG9tOiAoeyB5IH0sIHsgdG9wIH0pID0+IHBhcnNlRmxvYXQodG9wKSArICh5Lm1heCAtIHkubWluKSxcbiAgICByaWdodDogKHsgeCB9LCB7IGxlZnQgfSkgPT4gcGFyc2VGbG9hdChsZWZ0KSArICh4Lm1heCAtIHgubWluKSxcbiAgICAvLyBUcmFuc2Zvcm1cbiAgICB4OiAoX2Jib3gsIHsgdHJhbnNmb3JtIH0pID0+IHBhcnNlVmFsdWVGcm9tVHJhbnNmb3JtKHRyYW5zZm9ybSwgXCJ4XCIpLFxuICAgIHk6IChfYmJveCwgeyB0cmFuc2Zvcm0gfSkgPT4gcGFyc2VWYWx1ZUZyb21UcmFuc2Zvcm0odHJhbnNmb3JtLCBcInlcIiksXG59O1xuLy8gQWxpYXMgdHJhbnNsYXRlIGxvbmdmb3JtIG5hbWVzXG5wb3NpdGlvbmFsVmFsdWVzLnRyYW5zbGF0ZVggPSBwb3NpdGlvbmFsVmFsdWVzLng7XG5wb3NpdGlvbmFsVmFsdWVzLnRyYW5zbGF0ZVkgPSBwb3NpdGlvbmFsVmFsdWVzLnk7XG5cbmV4cG9ydCB7IGlzTnVtT3JQeFR5cGUsIHBvc2l0aW9uYWxWYWx1ZXMsIHJlbW92ZU5vblRyYW5zbGF0aW9uYWxUcmFuc2Zvcm0gfTtcbiIsICJjb25zdCByYWRUb0RlZyA9IChyYWQpID0+IChyYWQgKiAxODApIC8gTWF0aC5QSTtcbmNvbnN0IHJvdGF0ZSA9ICh2KSA9PiB7XG4gICAgY29uc3QgYW5nbGUgPSByYWRUb0RlZyhNYXRoLmF0YW4yKHZbMV0sIHZbMF0pKTtcbiAgICByZXR1cm4gcmViYXNlQW5nbGUoYW5nbGUpO1xufTtcbmNvbnN0IG1hdHJpeDJkUGFyc2VycyA9IHtcbiAgICB4OiA0LFxuICAgIHk6IDUsXG4gICAgdHJhbnNsYXRlWDogNCxcbiAgICB0cmFuc2xhdGVZOiA1LFxuICAgIHNjYWxlWDogMCxcbiAgICBzY2FsZVk6IDMsXG4gICAgc2NhbGU6ICh2KSA9PiAoTWF0aC5hYnModlswXSkgKyBNYXRoLmFicyh2WzNdKSkgLyAyLFxuICAgIHJvdGF0ZSxcbiAgICByb3RhdGVaOiByb3RhdGUsXG4gICAgc2tld1g6ICh2KSA9PiByYWRUb0RlZyhNYXRoLmF0YW4odlsxXSkpLFxuICAgIHNrZXdZOiAodikgPT4gcmFkVG9EZWcoTWF0aC5hdGFuKHZbMl0pKSxcbiAgICBza2V3OiAodikgPT4gKE1hdGguYWJzKHZbMV0pICsgTWF0aC5hYnModlsyXSkpIC8gMixcbn07XG5jb25zdCByZWJhc2VBbmdsZSA9IChhbmdsZSkgPT4ge1xuICAgIGFuZ2xlID0gYW5nbGUgJSAzNjA7XG4gICAgaWYgKGFuZ2xlIDwgMClcbiAgICAgICAgYW5nbGUgKz0gMzYwO1xuICAgIHJldHVybiBhbmdsZTtcbn07XG5jb25zdCByb3RhdGVaID0gcm90YXRlO1xuY29uc3Qgc2NhbGVYID0gKHYpID0+IE1hdGguc3FydCh2WzBdICogdlswXSArIHZbMV0gKiB2WzFdKTtcbmNvbnN0IHNjYWxlWSA9ICh2KSA9PiBNYXRoLnNxcnQodls0XSAqIHZbNF0gKyB2WzVdICogdls1XSk7XG5jb25zdCBtYXRyaXgzZFBhcnNlcnMgPSB7XG4gICAgeDogMTIsXG4gICAgeTogMTMsXG4gICAgejogMTQsXG4gICAgdHJhbnNsYXRlWDogMTIsXG4gICAgdHJhbnNsYXRlWTogMTMsXG4gICAgdHJhbnNsYXRlWjogMTQsXG4gICAgc2NhbGVYLFxuICAgIHNjYWxlWSxcbiAgICBzY2FsZTogKHYpID0+IChzY2FsZVgodikgKyBzY2FsZVkodikpIC8gMixcbiAgICByb3RhdGVYOiAodikgPT4gcmViYXNlQW5nbGUocmFkVG9EZWcoTWF0aC5hdGFuMih2WzZdLCB2WzVdKSkpLFxuICAgIHJvdGF0ZVk6ICh2KSA9PiByZWJhc2VBbmdsZShyYWRUb0RlZyhNYXRoLmF0YW4yKC12WzJdLCB2WzBdKSkpLFxuICAgIHJvdGF0ZVosXG4gICAgcm90YXRlOiByb3RhdGVaLFxuICAgIHNrZXdYOiAodikgPT4gcmFkVG9EZWcoTWF0aC5hdGFuKHZbNF0pKSxcbiAgICBza2V3WTogKHYpID0+IHJhZFRvRGVnKE1hdGguYXRhbih2WzFdKSksXG4gICAgc2tldzogKHYpID0+IChNYXRoLmFicyh2WzFdKSArIE1hdGguYWJzKHZbNF0pKSAvIDIsXG59O1xuZnVuY3Rpb24gZGVmYXVsdFRyYW5zZm9ybVZhbHVlKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZS5pbmNsdWRlcyhcInNjYWxlXCIpID8gMSA6IDA7XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlRnJvbVRyYW5zZm9ybSh0cmFuc2Zvcm0sIG5hbWUpIHtcbiAgICBpZiAoIXRyYW5zZm9ybSB8fCB0cmFuc2Zvcm0gPT09IFwibm9uZVwiKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VHJhbnNmb3JtVmFsdWUobmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IG1hdHJpeDNkTWF0Y2ggPSB0cmFuc2Zvcm0ubWF0Y2goL15tYXRyaXgzZFxcKChbLVxcZC5lXFxzLF0rKVxcKSQvdSk7XG4gICAgbGV0IHBhcnNlcnM7XG4gICAgbGV0IG1hdGNoO1xuICAgIGlmIChtYXRyaXgzZE1hdGNoKSB7XG4gICAgICAgIHBhcnNlcnMgPSBtYXRyaXgzZFBhcnNlcnM7XG4gICAgICAgIG1hdGNoID0gbWF0cml4M2RNYXRjaDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeDJkTWF0Y2ggPSB0cmFuc2Zvcm0ubWF0Y2goL15tYXRyaXhcXCgoWy1cXGQuZVxccyxdKylcXCkkL3UpO1xuICAgICAgICBwYXJzZXJzID0gbWF0cml4MmRQYXJzZXJzO1xuICAgICAgICBtYXRjaCA9IG1hdHJpeDJkTWF0Y2g7XG4gICAgfVxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRUcmFuc2Zvcm1WYWx1ZShuYW1lKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVQYXJzZXIgPSBwYXJzZXJzW25hbWVdO1xuICAgIGNvbnN0IHZhbHVlcyA9IG1hdGNoWzFdLnNwbGl0KFwiLFwiKS5tYXAoY29udmVydFRyYW5zZm9ybVRvTnVtYmVyKTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlUGFyc2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyB2YWx1ZVBhcnNlcih2YWx1ZXMpXG4gICAgICAgIDogdmFsdWVzW3ZhbHVlUGFyc2VyXTtcbn1cbmNvbnN0IHJlYWRUcmFuc2Zvcm1WYWx1ZSA9IChpbnN0YW5jZSwgbmFtZSkgPT4ge1xuICAgIGNvbnN0IHsgdHJhbnNmb3JtID0gXCJub25lXCIgfSA9IGdldENvbXB1dGVkU3R5bGUoaW5zdGFuY2UpO1xuICAgIHJldHVybiBwYXJzZVZhbHVlRnJvbVRyYW5zZm9ybSh0cmFuc2Zvcm0sIG5hbWUpO1xufTtcbmZ1bmN0aW9uIGNvbnZlcnRUcmFuc2Zvcm1Ub051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlLnRyaW0oKSk7XG59XG5cbmV4cG9ydCB7IHBhcnNlVmFsdWVGcm9tVHJhbnNmb3JtLCByZWFkVHJhbnNmb3JtVmFsdWUgfTtcbiIsICJpbXBvcnQgeyBKU0FuaW1hdGlvbiB9IGZyb20gJy4vSlNBbmltYXRpb24ubWpzJztcbmltcG9ydCB7IE5hdGl2ZUFuaW1hdGlvbiB9IGZyb20gJy4vTmF0aXZlQW5pbWF0aW9uLm1qcyc7XG5pbXBvcnQgeyByZXBsYWNlVHJhbnNpdGlvblR5cGUgfSBmcm9tICcuL3V0aWxzL3JlcGxhY2UtdHJhbnNpdGlvbi10eXBlLm1qcyc7XG5pbXBvcnQgeyByZXBsYWNlU3RyaW5nRWFzaW5nIH0gZnJvbSAnLi93YWFwaS91dGlscy91bnN1cHBvcnRlZC1lYXNpbmcubWpzJztcbmltcG9ydCB7IHNlY29uZHNUb01pbGxpc2Vjb25kcyB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuXG4vKipcbiAqIDEwbXMgaXMgY2hvc2VuIGhlcmUgYXMgaXQgc3RyaWtlcyBhIGJhbGFuY2UgYmV0d2VlbiBzbW9vdGhcbiAqIHJlc3VsdHMgKG1vcmUgdGhhbiBvbmUga2V5ZnJhbWUgcGVyIGZyYW1lIGF0IDYwZnBzKSBhbmRcbiAqIGtleWZyYW1lIHF1YW50aXR5LlxuICovXG5jb25zdCBzYW1wbGVEZWx0YSA9IDEwOyAvL21zXG5jbGFzcyBOYXRpdmVBbmltYXRpb25FeHRlbmRlZCBleHRlbmRzIE5hdGl2ZUFuaW1hdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgTmF0aXZlQW5pbWF0aW9uIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgYSBzdWJzZXRcbiAgICAgICAgICogb2YgTW90aW9uIGVhc2luZ3MsIGFuZCBXQUFQSSBhbHNvIG9ubHkgc3VwcG9ydHMgc29tZVxuICAgICAgICAgKiBlYXNpbmcgZnVuY3Rpb25zIHZpYSBzdHJpbmcvY3ViaWMtYmV6aWVyIGRlZmluaXRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlcGxhY2VzIHRob3NlIHVuc3VwcG9ydGVkIGVhc2luZyBmdW5jdGlvbnNcbiAgICAgICAgICogd2l0aCBhIEpTIGVhc2luZyBmdW5jdGlvbi4gVGhpcyB3aWxsIGxhdGVyIGdldCBjb21waWxlZFxuICAgICAgICAgKiB0byBhIGxpbmVhcigpIGVhc2luZyBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHJlcGxhY2VTdHJpbmdFYXNpbmcob3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnN1cmUgd2UgcmVwbGFjZSB0aGUgdHJhbnNpdGlvbiB0eXBlIHdpdGggYSBnZW5lcmF0b3IgZnVuY3Rpb25cbiAgICAgICAgICogYmVmb3JlIHBhc3NpbmcgdG8gV0FBUEkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IERvZXMgdGhpcyBoYXZlIGEgYmV0dGVyIGhvbWU/IEl0IGNvdWxkIGJlIHNoYXJlZCB3aXRoXG4gICAgICAgICAqIEpTQW5pbWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVwbGFjZVRyYW5zaXRpb25UeXBlKG9wdGlvbnMpO1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG9wdGlvbnMuc3RhcnRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdBQVBJIGRvZXNuJ3QgbmF0aXZlbHkgaGF2ZSBhbnkgaW50ZXJydXB0aW9uIGNhcGFiaWxpdGllcy5cbiAgICAgKlxuICAgICAqIFJhdGhlciB0aGFuIHJlYWQgY29tbWl0ZWQgc3R5bGVzIGJhY2sgb3V0IG9mIHRoZSBET00sIHdlIGNhblxuICAgICAqIGNyZWF0ZSBhIHJlbmRlcmxlc3MgSlMgYW5pbWF0aW9uIGFuZCBzYW1wbGUgaXQgdHdpY2UgdG8gY2FsY3VsYXRlXG4gICAgICogaXRzIGN1cnJlbnQgdmFsdWUsIFwicHJldmlvdXNcIiB2YWx1ZSwgYW5kIHRoZXJlZm9yZSBhbGxvd1xuICAgICAqIE1vdGlvbiB0byBjYWxjdWxhdGUgdmVsb2NpdHkgZm9yIGFueSBzdWJzZXF1ZW50IGFuaW1hdGlvbi5cbiAgICAgKi9cbiAgICB1cGRhdGVNb3Rpb25WYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IG1vdGlvblZhbHVlLCBvblVwZGF0ZSwgb25Db21wbGV0ZSwgZWxlbWVudCwgLi4ub3B0aW9ucyB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoIW1vdGlvblZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbW90aW9uVmFsdWUuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYW1wbGVBbmltYXRpb24gPSBuZXcgSlNBbmltYXRpb24oe1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNhbXBsZVRpbWUgPSBzZWNvbmRzVG9NaWxsaXNlY29uZHModGhpcy5maW5pc2hlZFRpbWUgPz8gdGhpcy50aW1lKTtcbiAgICAgICAgbW90aW9uVmFsdWUuc2V0V2l0aFZlbG9jaXR5KHNhbXBsZUFuaW1hdGlvbi5zYW1wbGUoc2FtcGxlVGltZSAtIHNhbXBsZURlbHRhKS52YWx1ZSwgc2FtcGxlQW5pbWF0aW9uLnNhbXBsZShzYW1wbGVUaW1lKS52YWx1ZSwgc2FtcGxlRGVsdGEpO1xuICAgICAgICBzYW1wbGVBbmltYXRpb24uc3RvcCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgTmF0aXZlQW5pbWF0aW9uRXh0ZW5kZWQgfTtcbiIsICJpbXBvcnQgeyBzZXRTdHlsZSB9IGZyb20gJy4uL3JlbmRlci9kb20vc3R5bGUtc2V0Lm1qcyc7XG5pbXBvcnQgeyBzdXBwb3J0c1Njcm9sbFRpbWVsaW5lIH0gZnJvbSAnLi4vdXRpbHMvc3VwcG9ydHMvc2Nyb2xsLXRpbWVsaW5lLm1qcyc7XG5pbXBvcnQgeyBnZXRGaW5hbEtleWZyYW1lIH0gZnJvbSAnLi9rZXlmcmFtZXMvZ2V0LWZpbmFsLm1qcyc7XG5pbXBvcnQgeyBXaXRoUHJvbWlzZSB9IGZyb20gJy4vdXRpbHMvV2l0aFByb21pc2UubWpzJztcbmltcG9ydCB7IHN0YXJ0V2FhcGlBbmltYXRpb24gfSBmcm9tICcuL3dhYXBpL3N0YXJ0LXdhYXBpLWFuaW1hdGlvbi5tanMnO1xuaW1wb3J0IHsgYXBwbHlHZW5lcmF0b3JPcHRpb25zIH0gZnJvbSAnLi93YWFwaS91dGlscy9hcHBseS1nZW5lcmF0b3IubWpzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgbWlsbGlzZWNvbmRzVG9TZWNvbmRzLCBzZWNvbmRzVG9NaWxsaXNlY29uZHMgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy90aW1lLWNvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9ub29wLm1qcyc7XG5cbi8qKlxuICogTmF0aXZlQW5pbWF0aW9uIGltcGxlbWVudHMgQW5pbWF0aW9uUGxheWJhY2tDb250cm9scyBmb3IgdGhlIGJyb3dzZXIncyBXZWIgQW5pbWF0aW9ucyBBUEkuXG4gKi9cbmNsYXNzIE5hdGl2ZUFuaW1hdGlvbiBleHRlbmRzIFdpdGhQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZmluaXNoZWRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQsIG5hbWUsIGtleWZyYW1lcywgcHNldWRvRWxlbWVudCwgYWxsb3dGbGF0dGVuID0gZmFsc2UsIGZpbmFsS2V5ZnJhbWUsIG9uQ29tcGxldGUsIH0gPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmlzUHNldWRvRWxlbWVudCA9IEJvb2xlYW4ocHNldWRvRWxlbWVudCk7XG4gICAgICAgIHRoaXMuYWxsb3dGbGF0dGVuID0gYWxsb3dGbGF0dGVuO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpbnZhcmlhbnQodHlwZW9mIG9wdGlvbnMudHlwZSAhPT0gXCJzdHJpbmdcIiwgYGFuaW1hdGVNaW5pIGRvZXNuJ3Qgc3VwcG9ydCBcInR5cGVcIiBhcyBhIHN0cmluZy4gRGlkIHlvdSBtZWFuIHRvIGltcG9ydCB7IHNwcmluZyB9IGZyb20gXCJtb3Rpb25cIj9gKTtcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IGFwcGx5R2VuZXJhdG9yT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBzdGFydFdhYXBpQW5pbWF0aW9uKGVsZW1lbnQsIG5hbWUsIGtleWZyYW1lcywgdHJhbnNpdGlvbiwgcHNldWRvRWxlbWVudCk7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLmF1dG9wbGF5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5vbmZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWRUaW1lID0gdGhpcy50aW1lO1xuICAgICAgICAgICAgaWYgKCFwc2V1ZG9FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ZnJhbWUgPSBnZXRGaW5hbEtleWZyYW1lKGtleWZyYW1lcywgdGhpcy5vcHRpb25zLCBmaW5hbEtleWZyYW1lLCB0aGlzLnNwZWVkKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51cGRhdGVNb3Rpb25WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1vdGlvblZhbHVlKGtleWZyYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiB3ZSBjYW4sIHdlIHdhbnQgdG8gY29tbWl0IHRoZSBmaW5hbCBzdHlsZSBhcyBzZXQgYnkgdGhlIHVzZXIsXG4gICAgICAgICAgICAgICAgICAgICAqIHJhdGhlciB0aGFuIHRoZSBjb21wdXRlZCBrZXlmcmFtZSB2YWx1ZSBzdXBwbGllZCBieSB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUoZWxlbWVudCwgbmFtZSwga2V5ZnJhbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uQ29tcGxldGU/LigpO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlGaW5pc2hlZCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVE9ETzogSW4gYSBicmVha2luZyBjaGFuZ2UsIHdlIHNob3VsZCByZXBsYWNlIHRoaXMgd2l0aCBgLm5vdGlmeUNhbmNlbCgpYFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb24ub25jYW5jZWwgPSAoKSA9PiB0aGlzLm5vdGlmeUZpbmlzaGVkKCk7XG4gICAgfVxuICAgIHBsYXkoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheSgpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJmaW5pc2hlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZpbmlzaGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLnBhdXNlKCk7XG4gICAgfVxuICAgIGNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbi5maW5pc2g/LigpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICBpZiAoc3RhdGUgPT09IFwiaWRsZVwiIHx8IHN0YXRlID09PSBcImZpbmlzaGVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51cGRhdGVNb3Rpb25WYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNb3Rpb25WYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21taXRTdHlsZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNQc2V1ZG9FbGVtZW50KVxuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV0FBUEkgZG9lc24ndCBuYXRpdmVseSBoYXZlIGFueSBpbnRlcnJ1cHRpb24gY2FwYWJpbGl0aWVzLlxuICAgICAqXG4gICAgICogSW4gdGhpcyBtZXRob2QsIHdlIGNvbW1pdCBzdHlsZXMgYmFjayB0byB0aGUgRE9NIGJlZm9yZSBjYW5jZWxsaW5nXG4gICAgICogdGhlIGFuaW1hdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgZGVzaWduZWQgdG8gYmUgb3ZlcnJpZGRlbiBieSBOYXRpdmVBbmltYXRpb25FeHRlbmRlZCwgd2hpY2hcbiAgICAgKiB3aWxsIGNyZWF0ZSBhIHJlbmRlcmxlc3MgSlMgYW5pbWF0aW9uIGFuZCBzYW1wbGUgaXQgdHdpY2UgdG8gY2FsY3VsYXRlXG4gICAgICogaXRzIGN1cnJlbnQgdmFsdWUsIFwicHJldmlvdXNcIiB2YWx1ZSwgYW5kIHRoZXJlZm9yZSBhbGxvd1xuICAgICAqIE1vdGlvbiB0byBhbHNvIGNvcnJlY3RseSBjYWxjdWxhdGUgdmVsb2NpdHkgZm9yIGFueSBzdWJzZXF1ZW50IGFuaW1hdGlvblxuICAgICAqIHdoaWxlIGRlZmVycmluZyB0aGUgY29tbWl0IHVudGlsIHRoZSBuZXh0IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKi9cbiAgICBjb21taXRTdHlsZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1BzZXVkb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLmNvbW1pdFN0eWxlcz8uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuYW5pbWF0aW9uLmVmZmVjdD8uZ2V0Q29tcHV0ZWRUaW1pbmc/LigpLmR1cmF0aW9uIHx8IDA7XG4gICAgICAgIHJldHVybiBtaWxsaXNlY29uZHNUb1NlY29uZHMoTnVtYmVyKGR1cmF0aW9uKSk7XG4gICAgfVxuICAgIGdldCB0aW1lKCkge1xuICAgICAgICByZXR1cm4gbWlsbGlzZWNvbmRzVG9TZWNvbmRzKE51bWJlcih0aGlzLmFuaW1hdGlvbi5jdXJyZW50VGltZSkgfHwgMCk7XG4gICAgfVxuICAgIHNldCB0aW1lKG5ld1RpbWUpIHtcbiAgICAgICAgdGhpcy5maW5pc2hlZFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbi5jdXJyZW50VGltZSA9IHNlY29uZHNUb01pbGxpc2Vjb25kcyhuZXdUaW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBsYXliYWNrIHNwZWVkIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICogMSA9IG5vcm1hbCBzcGVlZCwgMiA9IGRvdWJsZSBzcGVlZCwgMC41ID0gaGFsZiBzcGVlZC5cbiAgICAgKi9cbiAgICBnZXQgc3BlZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbi5wbGF5YmFja1JhdGU7XG4gICAgfVxuICAgIHNldCBzcGVlZChuZXdTcGVlZCkge1xuICAgICAgICAvLyBBbGxvdyBiYWNrd2FyZHMgcGxheWJhY2sgYWZ0ZXIgZmluaXNoaW5nXG4gICAgICAgIGlmIChuZXdTcGVlZCA8IDApXG4gICAgICAgICAgICB0aGlzLmZpbmlzaGVkVGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLnBsYXliYWNrUmF0ZSA9IG5ld1NwZWVkO1xuICAgIH1cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmlzaGVkVGltZSAhPT0gbnVsbFxuICAgICAgICAgICAgPyBcImZpbmlzaGVkXCJcbiAgICAgICAgICAgIDogdGhpcy5hbmltYXRpb24ucGxheVN0YXRlO1xuICAgIH1cbiAgICBnZXQgc3RhcnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMuYW5pbWF0aW9uLnN0YXJ0VGltZSk7XG4gICAgfVxuICAgIHNldCBzdGFydFRpbWUobmV3U3RhcnRUaW1lKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLnN0YXJ0VGltZSA9IG5ld1N0YXJ0VGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSB0aW1lbGluZSB0byB0aGUgYW5pbWF0aW9uLCBmb3IgaW5zdGFuY2UgdGhlIGBTY3JvbGxUaW1lbGluZWAuXG4gICAgICovXG4gICAgYXR0YWNoVGltZWxpbmUoeyB0aW1lbGluZSwgb2JzZXJ2ZSB9KSB7XG4gICAgICAgIGlmICh0aGlzLmFsbG93RmxhdHRlbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uZWZmZWN0Py51cGRhdGVUaW1pbmcoeyBlYXNpbmc6IFwibGluZWFyXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRpb24ub25maW5pc2ggPSBudWxsO1xuICAgICAgICBpZiAodGltZWxpbmUgJiYgc3VwcG9ydHNTY3JvbGxUaW1lbGluZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi50aW1lbGluZSA9IHRpbWVsaW5lO1xuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHsgTmF0aXZlQW5pbWF0aW9uIH07XG4iLCAiaW1wb3J0IHsgaXNDU1NWYXIgfSBmcm9tICcuL2lzLWNzcy12YXIubWpzJztcblxuZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpc0NTU1ZhcihuYW1lKVxuICAgICAgICA/IGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpXG4gICAgICAgIDogKGVsZW1lbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZSk7XG59XG5cbmV4cG9ydCB7IHNldFN0eWxlIH07XG4iLCAiY29uc3QgaXNDU1NWYXIgPSAobmFtZSkgPT4gbmFtZS5zdGFydHNXaXRoKFwiLS1cIik7XG5cbmV4cG9ydCB7IGlzQ1NTVmFyIH07XG4iLCAiaW1wb3J0IHsgbWVtbyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL21lbW8ubWpzJztcblxuY29uc3Qgc3VwcG9ydHNTY3JvbGxUaW1lbGluZSA9IC8qIEBfX1BVUkVfXyAqLyBtZW1vKCgpID0+IHdpbmRvdy5TY3JvbGxUaW1lbGluZSAhPT0gdW5kZWZpbmVkKTtcblxuZXhwb3J0IHsgc3VwcG9ydHNTY3JvbGxUaW1lbGluZSB9O1xuIiwgIi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZnVuY3Rpb24gbWVtbyhjYWxsYmFjaykge1xuICAgIGxldCByZXN1bHQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBtZW1vIH07XG4iLCAiaW1wb3J0IHsgYWN0aXZlQW5pbWF0aW9ucyB9IGZyb20gJy4uLy4uL3N0YXRzL2FuaW1hdGlvbi1jb3VudC5tanMnO1xuaW1wb3J0IHsgc3RhdHNCdWZmZXIgfSBmcm9tICcuLi8uLi9zdGF0cy9idWZmZXIubWpzJztcbmltcG9ydCB7IG1hcEVhc2luZ1RvTmF0aXZlRWFzaW5nIH0gZnJvbSAnLi9lYXNpbmcvbWFwLWVhc2luZy5tanMnO1xuXG5mdW5jdGlvbiBzdGFydFdhYXBpQW5pbWF0aW9uKGVsZW1lbnQsIHZhbHVlTmFtZSwga2V5ZnJhbWVzLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIHJlcGVhdCA9IDAsIHJlcGVhdFR5cGUgPSBcImxvb3BcIiwgZWFzZSA9IFwiZWFzZU91dFwiLCB0aW1lcywgfSA9IHt9LCBwc2V1ZG9FbGVtZW50ID0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qga2V5ZnJhbWVPcHRpb25zID0ge1xuICAgICAgICBbdmFsdWVOYW1lXToga2V5ZnJhbWVzLFxuICAgIH07XG4gICAgaWYgKHRpbWVzKVxuICAgICAgICBrZXlmcmFtZU9wdGlvbnMub2Zmc2V0ID0gdGltZXM7XG4gICAgY29uc3QgZWFzaW5nID0gbWFwRWFzaW5nVG9OYXRpdmVFYXNpbmcoZWFzZSwgZHVyYXRpb24pO1xuICAgIC8qKlxuICAgICAqIElmIHRoaXMgaXMgYW4gZWFzaW5nIGFycmF5LCBhcHBseSB0byBrZXlmcmFtZXMsIG5vdCBhbmltYXRpb24gYXMgYSB3aG9sZVxuICAgICAqL1xuICAgIGlmIChBcnJheS5pc0FycmF5KGVhc2luZykpXG4gICAgICAgIGtleWZyYW1lT3B0aW9ucy5lYXNpbmcgPSBlYXNpbmc7XG4gICAgaWYgKHN0YXRzQnVmZmVyLnZhbHVlKSB7XG4gICAgICAgIGFjdGl2ZUFuaW1hdGlvbnMud2FhcGkrKztcbiAgICB9XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICFBcnJheS5pc0FycmF5KGVhc2luZykgPyBlYXNpbmcgOiBcImxpbmVhclwiLFxuICAgICAgICBmaWxsOiBcImJvdGhcIixcbiAgICAgICAgaXRlcmF0aW9uczogcmVwZWF0ICsgMSxcbiAgICAgICAgZGlyZWN0aW9uOiByZXBlYXRUeXBlID09PSBcInJldmVyc2VcIiA/IFwiYWx0ZXJuYXRlXCIgOiBcIm5vcm1hbFwiLFxuICAgIH07XG4gICAgaWYgKHBzZXVkb0VsZW1lbnQpXG4gICAgICAgIG9wdGlvbnMucHNldWRvRWxlbWVudCA9IHBzZXVkb0VsZW1lbnQ7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gZWxlbWVudC5hbmltYXRlKGtleWZyYW1lT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgaWYgKHN0YXRzQnVmZmVyLnZhbHVlKSB7XG4gICAgICAgIGFuaW1hdGlvbi5maW5pc2hlZC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbnMud2FhcGktLTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhbmltYXRpb247XG59XG5cbmV4cG9ydCB7IHN0YXJ0V2FhcGlBbmltYXRpb24gfTtcbiIsICJpbXBvcnQgeyBzdXBwb3J0c0xpbmVhckVhc2luZyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3N1cHBvcnRzL2xpbmVhci1lYXNpbmcubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlTGluZWFyRWFzaW5nIH0gZnJvbSAnLi4vdXRpbHMvbGluZWFyLm1qcyc7XG5pbXBvcnQgeyBjdWJpY0JlemllckFzU3RyaW5nIH0gZnJvbSAnLi9jdWJpYy1iZXppZXIubWpzJztcbmltcG9ydCB7IHN1cHBvcnRlZFdhYXBpRWFzaW5nIH0gZnJvbSAnLi9zdXBwb3J0ZWQubWpzJztcbmltcG9ydCB7IGlzQmV6aWVyRGVmaW5pdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy91dGlscy9pcy1iZXppZXItZGVmaW5pdGlvbi5tanMnO1xuXG5mdW5jdGlvbiBtYXBFYXNpbmdUb05hdGl2ZUVhc2luZyhlYXNpbmcsIGR1cmF0aW9uKSB7XG4gICAgaWYgKCFlYXNpbmcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGVhc2luZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBzdXBwb3J0c0xpbmVhckVhc2luZygpXG4gICAgICAgICAgICA/IGdlbmVyYXRlTGluZWFyRWFzaW5nKGVhc2luZywgZHVyYXRpb24pXG4gICAgICAgICAgICA6IFwiZWFzZS1vdXRcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNCZXppZXJEZWZpbml0aW9uKGVhc2luZykpIHtcbiAgICAgICAgcmV0dXJuIGN1YmljQmV6aWVyQXNTdHJpbmcoZWFzaW5nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlYXNpbmcpKSB7XG4gICAgICAgIHJldHVybiBlYXNpbmcubWFwKChzZWdtZW50RWFzaW5nKSA9PiBtYXBFYXNpbmdUb05hdGl2ZUVhc2luZyhzZWdtZW50RWFzaW5nLCBkdXJhdGlvbikgfHxcbiAgICAgICAgICAgIHN1cHBvcnRlZFdhYXBpRWFzaW5nLmVhc2VPdXQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZFdhYXBpRWFzaW5nW2Vhc2luZ107XG4gICAgfVxufVxuXG5leHBvcnQgeyBtYXBFYXNpbmdUb05hdGl2ZUVhc2luZyB9O1xuIiwgImltcG9ydCB7IG1lbW9TdXBwb3J0cyB9IGZyb20gJy4vbWVtby5tanMnO1xuXG5jb25zdCBzdXBwb3J0c0xpbmVhckVhc2luZyA9IC8qQF9fUFVSRV9fKi8gbWVtb1N1cHBvcnRzKCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgICAgLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgICAgIC5hbmltYXRlKHsgb3BhY2l0eTogMCB9LCB7IGVhc2luZzogXCJsaW5lYXIoMCwgMSlcIiB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn0sIFwibGluZWFyRWFzaW5nXCIpO1xuXG5leHBvcnQgeyBzdXBwb3J0c0xpbmVhckVhc2luZyB9O1xuIiwgImltcG9ydCB7IHN1cHBvcnRzRmxhZ3MgfSBmcm9tICcuL2ZsYWdzLm1qcyc7XG5pbXBvcnQgeyBtZW1vIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvbWVtby5tanMnO1xuXG5mdW5jdGlvbiBtZW1vU3VwcG9ydHMoY2FsbGJhY2ssIHN1cHBvcnRzRmxhZykge1xuICAgIGNvbnN0IG1lbW9pemVkID0gbWVtbyhjYWxsYmFjayk7XG4gICAgcmV0dXJuICgpID0+IHN1cHBvcnRzRmxhZ3Nbc3VwcG9ydHNGbGFnXSA/PyBtZW1vaXplZCgpO1xufVxuXG5leHBvcnQgeyBtZW1vU3VwcG9ydHMgfTtcbiIsICIvKipcbiAqIEFkZCB0aGUgYWJpbGl0eSBmb3IgdGVzdCBzdWl0ZXMgdG8gbWFudWFsbHkgc2V0IHN1cHBvcnQgZmxhZ3NcbiAqIHRvIGJldHRlciB0ZXN0IG1vcmUgZW52aXJvbm1lbnRzLlxuICovXG5jb25zdCBzdXBwb3J0c0ZsYWdzID0ge307XG5cbmV4cG9ydCB7IHN1cHBvcnRzRmxhZ3MgfTtcbiIsICJjb25zdCBjdWJpY0JlemllckFzU3RyaW5nID0gKFthLCBiLCBjLCBkXSkgPT4gYGN1YmljLWJlemllcigke2F9LCAke2J9LCAke2N9LCAke2R9KWA7XG5cbmV4cG9ydCB7IGN1YmljQmV6aWVyQXNTdHJpbmcgfTtcbiIsICJpbXBvcnQgeyBjdWJpY0JlemllckFzU3RyaW5nIH0gZnJvbSAnLi9jdWJpYy1iZXppZXIubWpzJztcblxuY29uc3Qgc3VwcG9ydGVkV2FhcGlFYXNpbmcgPSB7XG4gICAgbGluZWFyOiBcImxpbmVhclwiLFxuICAgIGVhc2U6IFwiZWFzZVwiLFxuICAgIGVhc2VJbjogXCJlYXNlLWluXCIsXG4gICAgZWFzZU91dDogXCJlYXNlLW91dFwiLFxuICAgIGVhc2VJbk91dDogXCJlYXNlLWluLW91dFwiLFxuICAgIGNpcmNJbjogLypAX19QVVJFX18qLyBjdWJpY0JlemllckFzU3RyaW5nKFswLCAwLjY1LCAwLjU1LCAxXSksXG4gICAgY2lyY091dDogLypAX19QVVJFX18qLyBjdWJpY0JlemllckFzU3RyaW5nKFswLjU1LCAwLCAxLCAwLjQ1XSksXG4gICAgYmFja0luOiAvKkBfX1BVUkVfXyovIGN1YmljQmV6aWVyQXNTdHJpbmcoWzAuMzEsIDAuMDEsIDAuNjYsIC0wLjU5XSksXG4gICAgYmFja091dDogLypAX19QVVJFX18qLyBjdWJpY0JlemllckFzU3RyaW5nKFswLjMzLCAxLjUzLCAwLjY5LCAwLjk5XSksXG59O1xuXG5leHBvcnQgeyBzdXBwb3J0ZWRXYWFwaUVhc2luZyB9O1xuIiwgImltcG9ydCB7IHN1cHBvcnRzTGluZWFyRWFzaW5nIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvc3VwcG9ydHMvbGluZWFyLWVhc2luZy5tanMnO1xuaW1wb3J0IHsgaXNHZW5lcmF0b3IgfSBmcm9tICcuLi8uLi9nZW5lcmF0b3JzL3V0aWxzL2lzLWdlbmVyYXRvci5tanMnO1xuXG5mdW5jdGlvbiBhcHBseUdlbmVyYXRvck9wdGlvbnMoeyB0eXBlLCAuLi5vcHRpb25zIH0pIHtcbiAgICBpZiAoaXNHZW5lcmF0b3IodHlwZSkgJiYgc3VwcG9ydHNMaW5lYXJFYXNpbmcoKSkge1xuICAgICAgICByZXR1cm4gdHlwZS5hcHBseVRvT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPz8gKG9wdGlvbnMuZHVyYXRpb24gPSAzMDApO1xuICAgICAgICBvcHRpb25zLmVhc2UgPz8gKG9wdGlvbnMuZWFzZSA9IFwiZWFzZU91dFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmV4cG9ydCB7IGFwcGx5R2VuZXJhdG9yT3B0aW9ucyB9O1xuIiwgImZ1bmN0aW9uIGlzR2VuZXJhdG9yKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHR5cGUgPT09IFwiZnVuY3Rpb25cIiAmJiBcImFwcGx5VG9PcHRpb25zXCIgaW4gdHlwZTtcbn1cblxuZXhwb3J0IHsgaXNHZW5lcmF0b3IgfTtcbiIsICJpbXBvcnQgeyBhbnRpY2lwYXRlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvZWFzaW5nL2FudGljaXBhdGUubWpzJztcbmltcG9ydCB7IGJhY2tJbk91dCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy9iYWNrLm1qcyc7XG5pbXBvcnQgeyBjaXJjSW5PdXQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lYXNpbmcvY2lyYy5tanMnO1xuXG5jb25zdCB1bnN1cHBvcnRlZEVhc2luZ0Z1bmN0aW9ucyA9IHtcbiAgICBhbnRpY2lwYXRlLFxuICAgIGJhY2tJbk91dCxcbiAgICBjaXJjSW5PdXQsXG59O1xuZnVuY3Rpb24gaXNVbnN1cHBvcnRlZEVhc2Uoa2V5KSB7XG4gICAgcmV0dXJuIGtleSBpbiB1bnN1cHBvcnRlZEVhc2luZ0Z1bmN0aW9ucztcbn1cbmZ1bmN0aW9uIHJlcGxhY2VTdHJpbmdFYXNpbmcodHJhbnNpdGlvbikge1xuICAgIGlmICh0eXBlb2YgdHJhbnNpdGlvbi5lYXNlID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgIGlzVW5zdXBwb3J0ZWRFYXNlKHRyYW5zaXRpb24uZWFzZSkpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5lYXNlID0gdW5zdXBwb3J0ZWRFYXNpbmdGdW5jdGlvbnNbdHJhbnNpdGlvbi5lYXNlXTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJlcGxhY2VTdHJpbmdFYXNpbmcgfTtcbiIsICJpbXBvcnQgeyBpc0dlbmVyYXRvciB9IGZyb20gJy4uL2dlbmVyYXRvcnMvdXRpbHMvaXMtZ2VuZXJhdG9yLm1qcyc7XG5pbXBvcnQgeyBpc0FuaW1hdGFibGUgfSBmcm9tICcuL2lzLWFuaW1hdGFibGUubWpzJztcbmltcG9ydCB7IHdhcm5pbmcgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lcnJvcnMubWpzJztcblxuZnVuY3Rpb24gaGFzS2V5ZnJhbWVzQ2hhbmdlZChrZXlmcmFtZXMpIHtcbiAgICBjb25zdCBjdXJyZW50ID0ga2V5ZnJhbWVzWzBdO1xuICAgIGlmIChrZXlmcmFtZXMubGVuZ3RoID09PSAxKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoa2V5ZnJhbWVzW2ldICE9PSBjdXJyZW50KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gY2FuQW5pbWF0ZShrZXlmcmFtZXMsIG5hbWUsIHR5cGUsIHZlbG9jaXR5KSB7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgd2UncmUgYWJsZSB0byBhbmltYXRlIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQga2V5ZnJhbWVzLFxuICAgICAqIGFuZCB0aHJvdyBhIHdhcm5pbmcgaWYgd2UncmUgYXR0ZW1wdGluZyB0byBhbmltYXRlIGJldHdlZW4gb25lIHRoYXQnc1xuICAgICAqIGFuaW1hdGFibGUgYW5kIGFub3RoZXIgdGhhdCBpc24ndC5cbiAgICAgKi9cbiAgICBjb25zdCBvcmlnaW5LZXlmcmFtZSA9IGtleWZyYW1lc1swXTtcbiAgICBpZiAob3JpZ2luS2V5ZnJhbWUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGVzZSBhcmVuJ3QgdHJhZGl0aW9uYWxseSBhbmltYXRhYmxlIGJ1dCB3ZSBkbyBzdXBwb3J0IHRoZW0uXG4gICAgICogSW4gZnV0dXJlIHdlIGNvdWxkIGxvb2sgaW50byBtYWtpbmcgdGhpcyBtb3JlIGdlbmVyaWMgb3IgcmVwbGFjaW5nXG4gICAgICogdGhpcyBmdW5jdGlvbiB3aXRoIG1peCgpID09PSBtaXhJbW1lZGlhdGVcbiAgICAgKi9cbiAgICBpZiAobmFtZSA9PT0gXCJkaXNwbGF5XCIgfHwgbmFtZSA9PT0gXCJ2aXNpYmlsaXR5XCIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IHRhcmdldEtleWZyYW1lID0ga2V5ZnJhbWVzW2tleWZyYW1lcy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBpc09yaWdpbkFuaW1hdGFibGUgPSBpc0FuaW1hdGFibGUob3JpZ2luS2V5ZnJhbWUsIG5hbWUpO1xuICAgIGNvbnN0IGlzVGFyZ2V0QW5pbWF0YWJsZSA9IGlzQW5pbWF0YWJsZSh0YXJnZXRLZXlmcmFtZSwgbmFtZSk7XG4gICAgd2FybmluZyhpc09yaWdpbkFuaW1hdGFibGUgPT09IGlzVGFyZ2V0QW5pbWF0YWJsZSwgYFlvdSBhcmUgdHJ5aW5nIHRvIGFuaW1hdGUgJHtuYW1lfSBmcm9tIFwiJHtvcmlnaW5LZXlmcmFtZX1cIiB0byBcIiR7dGFyZ2V0S2V5ZnJhbWV9XCIuICR7b3JpZ2luS2V5ZnJhbWV9IGlzIG5vdCBhbiBhbmltYXRhYmxlIHZhbHVlIC0gdG8gZW5hYmxlIHRoaXMgYW5pbWF0aW9uIHNldCAke29yaWdpbktleWZyYW1lfSB0byBhIHZhbHVlIGFuaW1hdGFibGUgdG8gJHt0YXJnZXRLZXlmcmFtZX0gdmlhIHRoZSBcXGBzdHlsZVxcYCBwcm9wZXJ0eS5gKTtcbiAgICAvLyBBbHdheXMgc2tpcCBpZiBhbnkgb2YgdGhlc2UgYXJlIHRydWVcbiAgICBpZiAoIWlzT3JpZ2luQW5pbWF0YWJsZSB8fCAhaXNUYXJnZXRBbmltYXRhYmxlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChoYXNLZXlmcmFtZXNDaGFuZ2VkKGtleWZyYW1lcykgfHxcbiAgICAgICAgKCh0eXBlID09PSBcInNwcmluZ1wiIHx8IGlzR2VuZXJhdG9yKHR5cGUpKSAmJiB2ZWxvY2l0eSkpO1xufVxuXG5leHBvcnQgeyBjYW5BbmltYXRlIH07XG4iLCAiaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJy4uLy4uL3ZhbHVlL3R5cGVzL2NvbXBsZXgvaW5kZXgubWpzJztcblxuLyoqXG4gKiBDaGVjayBpZiBhIHZhbHVlIGlzIGFuaW1hdGFibGUuIEV4YW1wbGVzOlxuICpcbiAqIFx1MjcwNTogMTAwLCBcIjEwMHB4XCIsIFwiI2ZmZlwiXG4gKiBcdTI3NEM6IFwiYmxvY2tcIiwgXCJ1cmwoMi5qcGcpXCJcbiAqIEBwYXJhbSB2YWx1ZVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBpc0FuaW1hdGFibGUgPSAodmFsdWUsIG5hbWUpID0+IHtcbiAgICAvLyBJZiB0aGUgbGlzdCBvZiBrZXlzIHRhdCBtaWdodCBiZSBub24tYW5pbWF0YWJsZSBncm93cywgcmVwbGFjZSB3aXRoIFNldFxuICAgIGlmIChuYW1lID09PSBcInpJbmRleFwiKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gSWYgaXQncyBhIG51bWJlciBvciBhIGtleWZyYW1lcyBhcnJheSwgd2UgY2FuIGFuaW1hdGUgaXQuIFdlIG1pZ2h0IGF0IHNvbWUgcG9pbnRcbiAgICAvLyBuZWVkIHRvIGRvIGEgZGVlcCBpc0FuaW1hdGFibGUgY2hlY2sgb2Yga2V5ZnJhbWVzLCBvciBsZXQgUG9wbW90aW9uIGhhbmRsZSB0aGlzLFxuICAgIC8vIGJ1dCBmb3Igbm93IGxldHMgbGVhdmUgaXQgbGlrZSB0aGlzIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAvLyBJdCdzIGFuaW1hdGFibGUgaWYgd2UgaGF2ZSBhIHN0cmluZ1xuICAgICAgICAoY29tcGxleC50ZXN0KHZhbHVlKSB8fCB2YWx1ZSA9PT0gXCIwXCIpICYmIC8vIEFuZCBpdCBjb250YWlucyBudW1iZXJzIGFuZC9vciBjb2xvcnNcbiAgICAgICAgIXZhbHVlLnN0YXJ0c1dpdGgoXCJ1cmwoXCIpIC8vIFVubGVzcyBpdCBzdGFydHMgd2l0aCBcInVybChcIlxuICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IHsgaXNBbmltYXRhYmxlIH07XG4iLCAiaW1wb3J0IHsgbWVtbyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL21lbW8ubWpzJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgdmFsdWVzIHRoYXQgY2FuIGJlIGhhcmR3YXJlLWFjY2VsZXJhdGVkLlxuICovXG5jb25zdCBhY2NlbGVyYXRlZFZhbHVlcyA9IG5ldyBTZXQoW1xuICAgIFwib3BhY2l0eVwiLFxuICAgIFwiY2xpcFBhdGhcIixcbiAgICBcImZpbHRlclwiLFxuICAgIFwidHJhbnNmb3JtXCIsXG4gICAgLy8gVE9ETzogQ2FuIGJlIGFjY2VsZXJhdGVkIGJ1dCBjdXJyZW50bHkgZGlzYWJsZWQgdW50aWwgaHR0cHM6Ly9pc3N1ZXMuY2hyb21pdW0ub3JnL2lzc3Vlcy80MTQ5MTA5OCBpcyByZXNvbHZlZFxuICAgIC8vIG9yIHVudGlsIHdlIGltcGxlbWVudCBzdXBwb3J0IGZvciBsaW5lYXIoKSBlYXNpbmcuXG4gICAgLy8gXCJiYWNrZ3JvdW5kLWNvbG9yXCJcbl0pO1xuY29uc3Qgc3VwcG9ydHNXYWFwaSA9IC8qQF9fUFVSRV9fKi8gbWVtbygoKSA9PiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChFbGVtZW50LnByb3RvdHlwZSwgXCJhbmltYXRlXCIpKTtcbmZ1bmN0aW9uIHN1cHBvcnRzQnJvd3NlckFuaW1hdGlvbihvcHRpb25zKSB7XG4gICAgY29uc3QgeyBtb3Rpb25WYWx1ZSwgbmFtZSwgcmVwZWF0RGVsYXksIHJlcGVhdFR5cGUsIGRhbXBpbmcsIHR5cGUgfSA9IG9wdGlvbnM7XG4gICAgaWYgKCFtb3Rpb25WYWx1ZSB8fFxuICAgICAgICAhbW90aW9uVmFsdWUub3duZXIgfHxcbiAgICAgICAgIShtb3Rpb25WYWx1ZS5vd25lci5jdXJyZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgeyBvblVwZGF0ZSwgdHJhbnNmb3JtVGVtcGxhdGUgfSA9IG1vdGlvblZhbHVlLm93bmVyLmdldFByb3BzKCk7XG4gICAgcmV0dXJuIChzdXBwb3J0c1dhYXBpKCkgJiZcbiAgICAgICAgbmFtZSAmJlxuICAgICAgICBhY2NlbGVyYXRlZFZhbHVlcy5oYXMobmFtZSkgJiZcbiAgICAgICAgKG5hbWUgIT09IFwidHJhbnNmb3JtXCIgfHwgIXRyYW5zZm9ybVRlbXBsYXRlKSAmJlxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UncmUgb3V0cHV0dGluZyB2YWx1ZXMgdG8gb25VcGRhdGUgdGhlbiB3ZSBjYW4ndCB1c2UgV0FBUEkgYXMgdGhlcmUnc1xuICAgICAgICAgKiBubyB3YXkgdG8gcmVhZCB0aGUgdmFsdWUgZnJvbSBXQUFQSSBldmVyeSBmcmFtZS5cbiAgICAgICAgICovXG4gICAgICAgICFvblVwZGF0ZSAmJlxuICAgICAgICAhcmVwZWF0RGVsYXkgJiZcbiAgICAgICAgcmVwZWF0VHlwZSAhPT0gXCJtaXJyb3JcIiAmJlxuICAgICAgICBkYW1waW5nICE9PSAwICYmXG4gICAgICAgIHR5cGUgIT09IFwiaW5lcnRpYVwiKTtcbn1cblxuZXhwb3J0IHsgc3VwcG9ydHNCcm93c2VyQW5pbWF0aW9uIH07XG4iLCAiaW1wb3J0IHsgdHJhbnNmb3JtUHJvcE9yZGVyIH0gZnJvbSAnLi9rZXlzLXRyYW5zZm9ybS5tanMnO1xuXG5jb25zdCBwb3NpdGlvbmFsS2V5cyA9IG5ldyBTZXQoW1xuICAgIFwid2lkdGhcIixcbiAgICBcImhlaWdodFwiLFxuICAgIFwidG9wXCIsXG4gICAgXCJsZWZ0XCIsXG4gICAgXCJyaWdodFwiLFxuICAgIFwiYm90dG9tXCIsXG4gICAgLi4udHJhbnNmb3JtUHJvcE9yZGVyLFxuXSk7XG5cbmV4cG9ydCB7IHBvc2l0aW9uYWxLZXlzIH07XG4iLCAiaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnQgfSBmcm9tICcuLi8uLi9yZW5kZXIvdXRpbHMvcmVzb2x2ZS1keW5hbWljLXZhcmlhbnRzLm1qcyc7XG5pbXBvcnQgeyBhbmltYXRlVGFyZ2V0IH0gZnJvbSAnLi92aXN1YWwtZWxlbWVudC10YXJnZXQubWpzJztcblxuZnVuY3Rpb24gYW5pbWF0ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgdmFyaWFudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlVmFyaWFudCh2aXN1YWxFbGVtZW50LCB2YXJpYW50LCBvcHRpb25zLnR5cGUgPT09IFwiZXhpdFwiXG4gICAgICAgID8gdmlzdWFsRWxlbWVudC5wcmVzZW5jZUNvbnRleHQ/LmN1c3RvbVxuICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbGV0IHsgdHJhbnNpdGlvbiA9IHZpc3VhbEVsZW1lbnQuZ2V0RGVmYXVsdFRyYW5zaXRpb24oKSB8fCB7fSB9ID0gcmVzb2x2ZWQgfHwge307XG4gICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbk92ZXJyaWRlKSB7XG4gICAgICAgIHRyYW5zaXRpb24gPSBvcHRpb25zLnRyYW5zaXRpb25PdmVycmlkZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgd2UgaGF2ZSBhIHZhcmlhbnQsIGNyZWF0ZSBhIGNhbGxiYWNrIHRoYXQgcnVucyBpdCBhcyBhbiBhbmltYXRpb24uXG4gICAgICogT3RoZXJ3aXNlLCB3ZSByZXNvbHZlIGEgUHJvbWlzZSBpbW1lZGlhdGVseSBmb3IgYSBjb21wb3NhYmxlIG5vLW9wLlxuICAgICAqL1xuICAgIGNvbnN0IGdldEFuaW1hdGlvbiA9IHJlc29sdmVkXG4gICAgICAgID8gKCkgPT4gUHJvbWlzZS5hbGwoYW5pbWF0ZVRhcmdldCh2aXN1YWxFbGVtZW50LCByZXNvbHZlZCwgb3B0aW9ucykpXG4gICAgICAgIDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgLyoqXG4gICAgICogSWYgd2UgaGF2ZSBjaGlsZHJlbiwgY3JlYXRlIGEgY2FsbGJhY2sgdGhhdCBydW5zIGFsbCB0aGVpciBhbmltYXRpb25zLlxuICAgICAqIE90aGVyd2lzZSwgd2UgcmVzb2x2ZSBhIFByb21pc2UgaW1tZWRpYXRlbHkgZm9yIGEgY29tcG9zYWJsZSBuby1vcC5cbiAgICAgKi9cbiAgICBjb25zdCBnZXRDaGlsZEFuaW1hdGlvbnMgPSB2aXN1YWxFbGVtZW50LnZhcmlhbnRDaGlsZHJlbiAmJiB2aXN1YWxFbGVtZW50LnZhcmlhbnRDaGlsZHJlbi5zaXplXG4gICAgICAgID8gKGZvcndhcmREZWxheSA9IDApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGVsYXlDaGlsZHJlbiA9IDAsIHN0YWdnZXJDaGlsZHJlbiwgc3RhZ2dlckRpcmVjdGlvbiwgfSA9IHRyYW5zaXRpb247XG4gICAgICAgICAgICByZXR1cm4gYW5pbWF0ZUNoaWxkcmVuKHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIGRlbGF5Q2hpbGRyZW4gKyBmb3J3YXJkRGVsYXksIHN0YWdnZXJDaGlsZHJlbiwgc3RhZ2dlckRpcmVjdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdHJhbnNpdGlvbiBleHBsaWNpdGx5IGRlZmluZXMgYSBcIndoZW5cIiBvcHRpb24sIHdlIG5lZWQgdG8gcmVzb2x2ZSBlaXRoZXJcbiAgICAgKiB0aGlzIGFuaW1hdGlvbiBvciBhbGwgY2hpbGRyZW4gYW5pbWF0aW9ucyBiZWZvcmUgcGxheWluZyB0aGUgb3RoZXIuXG4gICAgICovXG4gICAgY29uc3QgeyB3aGVuIH0gPSB0cmFuc2l0aW9uO1xuICAgIGlmICh3aGVuKSB7XG4gICAgICAgIGNvbnN0IFtmaXJzdCwgbGFzdF0gPSB3aGVuID09PSBcImJlZm9yZUNoaWxkcmVuXCJcbiAgICAgICAgICAgID8gW2dldEFuaW1hdGlvbiwgZ2V0Q2hpbGRBbmltYXRpb25zXVxuICAgICAgICAgICAgOiBbZ2V0Q2hpbGRBbmltYXRpb25zLCBnZXRBbmltYXRpb25dO1xuICAgICAgICByZXR1cm4gZmlyc3QoKS50aGVuKCgpID0+IGxhc3QoKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2dldEFuaW1hdGlvbigpLCBnZXRDaGlsZEFuaW1hdGlvbnMob3B0aW9ucy5kZWxheSldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhbmltYXRlQ2hpbGRyZW4odmlzdWFsRWxlbWVudCwgdmFyaWFudCwgZGVsYXlDaGlsZHJlbiA9IDAsIHN0YWdnZXJDaGlsZHJlbiA9IDAsIHN0YWdnZXJEaXJlY3Rpb24gPSAxLCBvcHRpb25zKSB7XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xuICAgIGNvbnN0IG1heFN0YWdnZXJEdXJhdGlvbiA9ICh2aXN1YWxFbGVtZW50LnZhcmlhbnRDaGlsZHJlbi5zaXplIC0gMSkgKiBzdGFnZ2VyQ2hpbGRyZW47XG4gICAgY29uc3QgZ2VuZXJhdGVTdGFnZ2VyRHVyYXRpb24gPSBzdGFnZ2VyRGlyZWN0aW9uID09PSAxXG4gICAgICAgID8gKGkgPSAwKSA9PiBpICogc3RhZ2dlckNoaWxkcmVuXG4gICAgICAgIDogKGkgPSAwKSA9PiBtYXhTdGFnZ2VyRHVyYXRpb24gLSBpICogc3RhZ2dlckNoaWxkcmVuO1xuICAgIEFycmF5LmZyb20odmlzdWFsRWxlbWVudC52YXJpYW50Q2hpbGRyZW4pXG4gICAgICAgIC5zb3J0KHNvcnRCeVRyZWVPcmRlcilcbiAgICAgICAgLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7XG4gICAgICAgIGNoaWxkLm5vdGlmeShcIkFuaW1hdGlvblN0YXJ0XCIsIHZhcmlhbnQpO1xuICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0ZVZhcmlhbnQoY2hpbGQsIHZhcmlhbnQsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBkZWxheTogZGVsYXlDaGlsZHJlbiArIGdlbmVyYXRlU3RhZ2dlckR1cmF0aW9uKGkpLFxuICAgICAgICB9KS50aGVuKCgpID0+IGNoaWxkLm5vdGlmeShcIkFuaW1hdGlvbkNvbXBsZXRlXCIsIHZhcmlhbnQpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGFuaW1hdGlvbnMpO1xufVxuZnVuY3Rpb24gc29ydEJ5VHJlZU9yZGVyKGEsIGIpIHtcbiAgICByZXR1cm4gYS5zb3J0Tm9kZVBvc2l0aW9uKGIpO1xufVxuXG5leHBvcnQgeyBhbmltYXRlVmFyaWFudCwgc29ydEJ5VHJlZU9yZGVyIH07XG4iLCAiZnVuY3Rpb24gc2hhbGxvd0NvbXBhcmUobmV4dCwgcHJldikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwcmV2KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHByZXZMZW5ndGggPSBwcmV2Lmxlbmd0aDtcbiAgICBpZiAocHJldkxlbmd0aCAhPT0gbmV4dC5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZMZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJldltpXSAhPT0gbmV4dFtpXSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCB7IHNoYWxsb3dDb21wYXJlIH07XG4iLCAiaW1wb3J0IHsgaXNWYXJpYW50TGFiZWwgfSBmcm9tICcuL2lzLXZhcmlhbnQtbGFiZWwubWpzJztcbmltcG9ydCB7IHZhcmlhbnRQcm9wcyB9IGZyb20gJy4vdmFyaWFudC1wcm9wcy5tanMnO1xuXG5jb25zdCBudW1WYXJpYW50UHJvcHMgPSB2YXJpYW50UHJvcHMubGVuZ3RoO1xuZnVuY3Rpb24gZ2V0VmFyaWFudENvbnRleHQodmlzdWFsRWxlbWVudCkge1xuICAgIGlmICghdmlzdWFsRWxlbWVudClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBpZiAoIXZpc3VhbEVsZW1lbnQuaXNDb250cm9sbGluZ1ZhcmlhbnRzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB2aXN1YWxFbGVtZW50LnBhcmVudFxuICAgICAgICAgICAgPyBnZXRWYXJpYW50Q29udGV4dCh2aXN1YWxFbGVtZW50LnBhcmVudCkgfHwge31cbiAgICAgICAgICAgIDoge307XG4gICAgICAgIGlmICh2aXN1YWxFbGVtZW50LnByb3BzLmluaXRpYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGV4dC5pbml0aWFsID0gdmlzdWFsRWxlbWVudC5wcm9wcy5pbml0aWFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYXJpYW50UHJvcHM7IGkrKykge1xuICAgICAgICBjb25zdCBuYW1lID0gdmFyaWFudFByb3BzW2ldO1xuICAgICAgICBjb25zdCBwcm9wID0gdmlzdWFsRWxlbWVudC5wcm9wc1tuYW1lXTtcbiAgICAgICAgaWYgKGlzVmFyaWFudExhYmVsKHByb3ApIHx8IHByb3AgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb250ZXh0W25hbWVdID0gcHJvcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn1cblxuZXhwb3J0IHsgZ2V0VmFyaWFudENvbnRleHQgfTtcbiIsICJjbGFzcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlKSB7XG4gICAgICAgIHRoaXMuaXNNb3VudGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHsgfVxufVxuXG5leHBvcnQgeyBGZWF0dXJlIH07XG4iLCAiaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gJy4uL0ZlYXR1cmUubWpzJztcblxubGV0IGlkID0gMDtcbmNsYXNzIEV4aXRBbmltYXRpb25GZWF0dXJlIGV4dGVuZHMgRmVhdHVyZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuaWQgPSBpZCsrO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5ub2RlLnByZXNlbmNlQ29udGV4dClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBpc1ByZXNlbnQsIG9uRXhpdENvbXBsZXRlIH0gPSB0aGlzLm5vZGUucHJlc2VuY2VDb250ZXh0O1xuICAgICAgICBjb25zdCB7IGlzUHJlc2VudDogcHJldklzUHJlc2VudCB9ID0gdGhpcy5ub2RlLnByZXZQcmVzZW5jZUNvbnRleHQgfHwge307XG4gICAgICAgIGlmICghdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlIHx8IGlzUHJlc2VudCA9PT0gcHJldklzUHJlc2VudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4aXRBbmltYXRpb24gPSB0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKFwiZXhpdFwiLCAhaXNQcmVzZW50KTtcbiAgICAgICAgaWYgKG9uRXhpdENvbXBsZXRlICYmICFpc1ByZXNlbnQpIHtcbiAgICAgICAgICAgIGV4aXRBbmltYXRpb24udGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgb25FeGl0Q29tcGxldGUodGhpcy5pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyByZWdpc3Rlciwgb25FeGl0Q29tcGxldGUgfSA9IHRoaXMubm9kZS5wcmVzZW5jZUNvbnRleHQgfHwge307XG4gICAgICAgIGlmIChvbkV4aXRDb21wbGV0ZSkge1xuICAgICAgICAgICAgb25FeGl0Q29tcGxldGUodGhpcy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZ2lzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnVubW91bnQgPSByZWdpc3Rlcih0aGlzLmlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bm1vdW50KCkgeyB9XG59XG5cbmV4cG9ydCB7IEV4aXRBbmltYXRpb25GZWF0dXJlIH07XG4iLCAiaW1wb3J0IHsgRHJhZ0dlc3R1cmUgfSBmcm9tICcuLi8uLi9nZXN0dXJlcy9kcmFnL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBQYW5HZXN0dXJlIH0gZnJvbSAnLi4vLi4vZ2VzdHVyZXMvcGFuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBNZWFzdXJlTGF5b3V0IH0gZnJvbSAnLi9sYXlvdXQvTWVhc3VyZUxheW91dC5tanMnO1xuaW1wb3J0IHsgSFRNTFByb2plY3Rpb25Ob2RlIH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi9ub2RlL0hUTUxQcm9qZWN0aW9uTm9kZS5tanMnO1xuXG5jb25zdCBkcmFnID0ge1xuICAgIHBhbjoge1xuICAgICAgICBGZWF0dXJlOiBQYW5HZXN0dXJlLFxuICAgIH0sXG4gICAgZHJhZzoge1xuICAgICAgICBGZWF0dXJlOiBEcmFnR2VzdHVyZSxcbiAgICAgICAgUHJvamVjdGlvbk5vZGU6IEhUTUxQcm9qZWN0aW9uTm9kZSxcbiAgICAgICAgTWVhc3VyZUxheW91dCxcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgZHJhZyB9O1xuIiwgImltcG9ydCB7IEZlYXR1cmUgfSBmcm9tICcuLi8uLi9tb3Rpb24vZmVhdHVyZXMvRmVhdHVyZS5tanMnO1xuaW1wb3J0IHsgVmlzdWFsRWxlbWVudERyYWdDb250cm9scyB9IGZyb20gJy4vVmlzdWFsRWxlbWVudERyYWdDb250cm9scy5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL25vb3AubWpzJztcblxuY2xhc3MgRHJhZ0dlc3R1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlKSB7XG4gICAgICAgIHN1cGVyKG5vZGUpO1xuICAgICAgICB0aGlzLnJlbW92ZUdyb3VwQ29udHJvbHMgPSBub29wO1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycyA9IG5vb3A7XG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBuZXcgVmlzdWFsRWxlbWVudERyYWdDb250cm9scyhub2RlKTtcbiAgICB9XG4gICAgbW91bnQoKSB7XG4gICAgICAgIC8vIElmIHdlJ3ZlIGJlZW4gcHJvdmlkZWQgYSBEcmFnQ29udHJvbHMgZm9yIG1hbnVhbCBjb250cm9sIG92ZXIgdGhlIGRyYWcgZ2VzdHVyZSxcbiAgICAgICAgLy8gc3Vic2NyaWJlIHRoaXMgY29tcG9uZW50IHRvIGl0IG9uIG1vdW50LlxuICAgICAgICBjb25zdCB7IGRyYWdDb250cm9scyB9ID0gdGhpcy5ub2RlLmdldFByb3BzKCk7XG4gICAgICAgIGlmIChkcmFnQ29udHJvbHMpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlR3JvdXBDb250cm9scyA9IGRyYWdDb250cm9scy5zdWJzY3JpYmUodGhpcy5jb250cm9scyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMgPSB0aGlzLmNvbnRyb2xzLmFkZExpc3RlbmVycygpIHx8IG5vb3A7XG4gICAgfVxuICAgIHVubW91bnQoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlR3JvdXBDb250cm9scygpO1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgRHJhZ0dlc3R1cmUgfTtcbiIsICJpbXBvcnQgeyBhbmltYXRlTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vaW50ZXJmYWNlcy9tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGFkZERvbUV2ZW50IH0gZnJvbSAnLi4vLi4vZXZlbnRzL2FkZC1kb20tZXZlbnQubWpzJztcbmltcG9ydCB7IGFkZFBvaW50ZXJFdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy9hZGQtcG9pbnRlci1ldmVudC5tanMnO1xuaW1wb3J0IHsgZXh0cmFjdEV2ZW50SW5mbyB9IGZyb20gJy4uLy4uL2V2ZW50cy9ldmVudC1pbmZvLm1qcyc7XG5pbXBvcnQgeyBjb252ZXJ0Qm94VG9Cb3VuZGluZ0JveCwgY29udmVydEJvdW5kaW5nQm94VG9Cb3ggfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L2NvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IGNhbGNMZW5ndGggfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLWNhbGMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUJveCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vZ2VvbWV0cnkvbW9kZWxzLm1qcyc7XG5pbXBvcnQgeyBlYWNoQXhpcyB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vdXRpbHMvZWFjaC1heGlzLm1qcyc7XG5pbXBvcnQgeyBtZWFzdXJlUGFnZUJveCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vdXRpbHMvbWVhc3VyZS5tanMnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dFdpbmRvdyB9IGZyb20gJy4uLy4uL3V0aWxzL2dldC1jb250ZXh0LXdpbmRvdy5tanMnO1xuaW1wb3J0IHsgaXNSZWZPYmplY3QgfSBmcm9tICcuLi8uLi91dGlscy9pcy1yZWYtb2JqZWN0Lm1qcyc7XG5pbXBvcnQgeyBhZGRWYWx1ZVRvV2lsbENoYW5nZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3VzZS13aWxsLWNoYW5nZS9hZGQtd2lsbC1jaGFuZ2UubWpzJztcbmltcG9ydCB7IFBhblNlc3Npb24gfSBmcm9tICcuLi9wYW4vUGFuU2Vzc2lvbi5tanMnO1xuaW1wb3J0IHsgYXBwbHlDb25zdHJhaW50cywgY2FsY1JlbGF0aXZlQ29uc3RyYWludHMsIHJlc29sdmVEcmFnRWxhc3RpYywgY2FsY1ZpZXdwb3J0Q29uc3RyYWludHMsIHJlYmFzZUF4aXNDb25zdHJhaW50cywgY2FsY09yaWdpbiwgZGVmYXVsdEVsYXN0aWMgfSBmcm9tICcuL3V0aWxzL2NvbnN0cmFpbnRzLm1qcyc7XG5pbXBvcnQgeyBmcmFtZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3AvZnJhbWUubWpzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgc2V0RHJhZ0xvY2sgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy9zdGF0ZS9zZXQtYWN0aXZlLm1qcyc7XG5pbXBvcnQgeyBwZXJjZW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcbmltcG9ydCB7IG1peE51bWJlciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9taXgvbnVtYmVyLm1qcyc7XG5cbmNvbnN0IGVsZW1lbnREcmFnQ29udHJvbHMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKlxuICovXG4vLyBsZXQgbGF0ZXN0UG9pbnRlckV2ZW50OiBQb2ludGVyRXZlbnRcbmNsYXNzIFZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMge1xuICAgIGNvbnN0cnVjdG9yKHZpc3VhbEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5vcGVuRHJhZ0xvY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50RGlyZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5Qb2ludCA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBlcm1pdHRlZCBib3VuZGFyaWVzIG9mIHRyYXZlbCwgaW4gcGl4ZWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc011dGF0ZWRDb25zdHJhaW50cyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBlci1heGlzIHJlc29sdmVkIGVsYXN0aWMgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGFzdGljID0gY3JlYXRlQm94KCk7XG4gICAgICAgIHRoaXMudmlzdWFsRWxlbWVudCA9IHZpc3VhbEVsZW1lbnQ7XG4gICAgfVxuICAgIHN0YXJ0KG9yaWdpbkV2ZW50LCB7IHNuYXBUb0N1cnNvciA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9uJ3Qgc3RhcnQgZHJhZ2dpbmcgaWYgdGhpcyBjb21wb25lbnQgaXMgZXhpdGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgeyBwcmVzZW5jZUNvbnRleHQgfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgaWYgKHByZXNlbmNlQ29udGV4dCAmJiBwcmVzZW5jZUNvbnRleHQuaXNQcmVzZW50ID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb25TZXNzaW9uU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZHJhZ1NuYXBUb09yaWdpbiB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAgICAgLy8gU3RvcCBvciBwYXVzZSBhbnkgYW5pbWF0aW9ucyBvbiBib3RoIGF4aXMgdmFsdWVzIGltbWVkaWF0ZWx5LiBUaGlzIGFsbG93cyB0aGUgdXNlciB0byB0aHJvdyBhbmQgY2F0Y2hcbiAgICAgICAgICAgIC8vIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAgICBkcmFnU25hcFRvT3JpZ2luID8gdGhpcy5wYXVzZUFuaW1hdGlvbigpIDogdGhpcy5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc25hcFRvQ3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbmFwVG9DdXJzb3IoZXh0cmFjdEV2ZW50SW5mbyhldmVudCkucG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvblN0YXJ0ID0gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGdyYWIgdGhlIGdsb2JhbCBkcmFnIGdlc3R1cmUgbG9jayAtIG1heWJlIG1ha2UgdGhpcyBwYXJ0IG9mIFBhblNlc3Npb25cbiAgICAgICAgICAgIGNvbnN0IHsgZHJhZywgZHJhZ1Byb3BhZ2F0aW9uLCBvbkRyYWdTdGFydCB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAgICAgaWYgKGRyYWcgJiYgIWRyYWdQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wZW5EcmFnTG9jaylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuRHJhZ0xvY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5EcmFnTG9jayA9IHNldERyYWdMb2NrKGRyYWcpO1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbiAndCBoYXZlIHRoZSBsb2NrLCBkb24ndCBzdGFydCBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcGVuRHJhZ0xvY2spXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uLmlzQW5pbWF0aW9uQmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24udGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWNvcmQgZ2VzdHVyZSBvcmlnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpLmdldCgpIHx8IDA7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgdGhlIE1vdGlvblZhbHVlIGlzIGEgcGVyY2VudGFnZSB2YWx1ZSBjb252ZXJ0IHRvIHB4XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQudGVzdChjdXJyZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHByb2plY3Rpb24gfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3Rpb24gJiYgcHJvamVjdGlvbi5sYXlvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lYXN1cmVkQXhpcyA9IHByb2plY3Rpb24ubGF5b3V0LmxheW91dEJveFtheGlzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZWFzdXJlZEF4aXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBjYWxjTGVuZ3RoKG1lYXN1cmVkQXhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGxlbmd0aCAqIChwYXJzZUZsb2F0KGN1cnJlbnQpIC8gMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpblBvaW50W2F4aXNdID0gY3VycmVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gRmlyZSBvbkRyYWdTdGFydCBldmVudFxuICAgICAgICAgICAgaWYgKG9uRHJhZ1N0YXJ0KSB7XG4gICAgICAgICAgICAgICAgZnJhbWUucG9zdFJlbmRlcigoKSA9PiBvbkRyYWdTdGFydChldmVudCwgaW5mbykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVmFsdWVUb1dpbGxDaGFuZ2UodGhpcy52aXN1YWxFbGVtZW50LCBcInRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHsgYW5pbWF0aW9uU3RhdGUgfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgICAgIGFuaW1hdGlvblN0YXRlICYmIGFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlRHJhZ1wiLCB0cnVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25Nb3ZlID0gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICAvLyBsYXRlc3RQb2ludGVyRXZlbnQgPSBldmVudFxuICAgICAgICAgICAgY29uc3QgeyBkcmFnUHJvcGFnYXRpb24sIGRyYWdEaXJlY3Rpb25Mb2NrLCBvbkRpcmVjdGlvbkxvY2ssIG9uRHJhZywgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIC8vIElmIHdlIGRpZG4ndCBzdWNjZXNzZnVsbHkgcmVjZWl2ZSB0aGUgZ2VzdHVyZSBsb2NrLCBlYXJseSByZXR1cm4uXG4gICAgICAgICAgICBpZiAoIWRyYWdQcm9wYWdhdGlvbiAmJiAhdGhpcy5vcGVuRHJhZ0xvY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBvZmZzZXQgfSA9IGluZm87XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGRldGVjdCBkcmFnIGRpcmVjdGlvbiBpZiBkaXJlY3Rpb25Mb2NrIGlzIHRydWVcbiAgICAgICAgICAgIGlmIChkcmFnRGlyZWN0aW9uTG9jayAmJiB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBnZXRDdXJyZW50RGlyZWN0aW9uKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgc3VjY2Vzc2Z1bGx5IHNldCBhIGRpcmVjdGlvbiwgbm90aWZ5IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudERpcmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBvbkRpcmVjdGlvbkxvY2sgJiYgb25EaXJlY3Rpb25Mb2NrKHRoaXMuY3VycmVudERpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBlYWNoIHBvaW50IHdpdGggdGhlIGxhdGVzdCBwb3NpdGlvblxuICAgICAgICAgICAgdGhpcy51cGRhdGVBeGlzKFwieFwiLCBpbmZvLnBvaW50LCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBeGlzKFwieVwiLCBpbmZvLnBvaW50LCBvZmZzZXQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZGVhbGx5IHdlIHdvdWxkIGxlYXZlIHRoZSByZW5kZXJlciB0byBmaXJlIG5hdHVyYWxseSBhdCB0aGUgZW5kIG9mXG4gICAgICAgICAgICAgKiB0aGlzIGZyYW1lIGJ1dCBpZiB0aGUgZWxlbWVudCBpcyBhYm91dCB0byBjaGFuZ2UgbGF5b3V0IGFzIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAqIG9mIGEgcmUtcmVuZGVyIHdlIHdhbnQgdG8gZW5zdXJlIHRoZSBicm93c2VyIGNhbiByZWFkIHRoZSBsYXRlc3RcbiAgICAgICAgICAgICAqIGJvdW5kaW5nIGJveCB0byBlbnN1cmUgdGhlIHBvaW50ZXIgYW5kIGVsZW1lbnQgZG9uJ3QgZmFsbCBvdXQgb2Ygc3luYy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnJlbmRlcigpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGlzIG11c3QgZmlyZSBhZnRlciB0aGUgcmVuZGVyIGNhbGwgYXMgaXQgbWlnaHQgdHJpZ2dlciBhIHN0YXRlXG4gICAgICAgICAgICAgKiBjaGFuZ2Ugd2hpY2ggaXRzZWxmIG1pZ2h0IHRyaWdnZXIgYSBsYXlvdXQgdXBkYXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvbkRyYWcgJiYgb25EcmFnKGV2ZW50LCBpbmZvKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25TZXNzaW9uRW5kID0gKGV2ZW50LCBpbmZvKSA9PiB0aGlzLnN0b3AoZXZlbnQsIGluZm8pO1xuICAgICAgICBjb25zdCByZXN1bWVBbmltYXRpb24gPSAoKSA9PiBlYWNoQXhpcygoYXhpcykgPT4gdGhpcy5nZXRBbmltYXRpb25TdGF0ZShheGlzKSA9PT0gXCJwYXVzZWRcIiAmJlxuICAgICAgICAgICAgdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcykuYW5pbWF0aW9uPy5wbGF5KCkpO1xuICAgICAgICBjb25zdCB7IGRyYWdTbmFwVG9PcmlnaW4gfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgdGhpcy5wYW5TZXNzaW9uID0gbmV3IFBhblNlc3Npb24ob3JpZ2luRXZlbnQsIHtcbiAgICAgICAgICAgIG9uU2Vzc2lvblN0YXJ0LFxuICAgICAgICAgICAgb25TdGFydCxcbiAgICAgICAgICAgIG9uTW92ZSxcbiAgICAgICAgICAgIG9uU2Vzc2lvbkVuZCxcbiAgICAgICAgICAgIHJlc3VtZUFuaW1hdGlvbixcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHJhbnNmb3JtUGFnZVBvaW50OiB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0VHJhbnNmb3JtUGFnZVBvaW50KCksXG4gICAgICAgICAgICBkcmFnU25hcFRvT3JpZ2luLFxuICAgICAgICAgICAgY29udGV4dFdpbmRvdzogZ2V0Q29udGV4dFdpbmRvdyh0aGlzLnZpc3VhbEVsZW1lbnQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RvcChldmVudCwgaW5mbykge1xuICAgICAgICBjb25zdCBpc0RyYWdnaW5nID0gdGhpcy5pc0RyYWdnaW5nO1xuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICBpZiAoIWlzRHJhZ2dpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgdmVsb2NpdHkgfSA9IGluZm87XG4gICAgICAgIHRoaXMuc3RhcnRBbmltYXRpb24odmVsb2NpdHkpO1xuICAgICAgICBjb25zdCB7IG9uRHJhZ0VuZCB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICBpZiAob25EcmFnRW5kKSB7XG4gICAgICAgICAgICBmcmFtZS5wb3N0UmVuZGVyKCgpID0+IG9uRHJhZ0VuZChldmVudCwgaW5mbykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiwgYW5pbWF0aW9uU3RhdGUgfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgaWYgKHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24uaXNBbmltYXRpb25CbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYW5TZXNzaW9uICYmIHRoaXMucGFuU2Vzc2lvbi5lbmQoKTtcbiAgICAgICAgdGhpcy5wYW5TZXNzaW9uID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCB7IGRyYWdQcm9wYWdhdGlvbiB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICBpZiAoIWRyYWdQcm9wYWdhdGlvbiAmJiB0aGlzLm9wZW5EcmFnTG9jaykge1xuICAgICAgICAgICAgdGhpcy5vcGVuRHJhZ0xvY2soKTtcbiAgICAgICAgICAgIHRoaXMub3BlbkRyYWdMb2NrID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBhbmltYXRpb25TdGF0ZSAmJiBhbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZURyYWdcIiwgZmFsc2UpO1xuICAgIH1cbiAgICB1cGRhdGVBeGlzKGF4aXMsIF9wb2ludCwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHsgZHJhZyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAvLyBJZiB3ZSdyZSBub3QgZHJhZ2dpbmcgdGhpcyBheGlzLCBkbyBhbiBlYXJseSByZXR1cm4uXG4gICAgICAgIGlmICghb2Zmc2V0IHx8ICFzaG91bGREcmFnKGF4aXMsIGRyYWcsIHRoaXMuY3VycmVudERpcmVjdGlvbikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGF4aXNWYWx1ZSA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpO1xuICAgICAgICBsZXQgbmV4dCA9IHRoaXMub3JpZ2luUG9pbnRbYXhpc10gKyBvZmZzZXRbYXhpc107XG4gICAgICAgIC8vIEFwcGx5IGNvbnN0cmFpbnRzXG4gICAgICAgIGlmICh0aGlzLmNvbnN0cmFpbnRzICYmIHRoaXMuY29uc3RyYWludHNbYXhpc10pIHtcbiAgICAgICAgICAgIG5leHQgPSBhcHBseUNvbnN0cmFpbnRzKG5leHQsIHRoaXMuY29uc3RyYWludHNbYXhpc10sIHRoaXMuZWxhc3RpY1theGlzXSk7XG4gICAgICAgIH1cbiAgICAgICAgYXhpc1ZhbHVlLnNldChuZXh0KTtcbiAgICB9XG4gICAgcmVzb2x2ZUNvbnN0cmFpbnRzKCkge1xuICAgICAgICBjb25zdCB7IGRyYWdDb25zdHJhaW50cywgZHJhZ0VsYXN0aWMgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24gJiZcbiAgICAgICAgICAgICF0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbi5sYXlvdXRcbiAgICAgICAgICAgID8gdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24ubWVhc3VyZShmYWxzZSlcbiAgICAgICAgICAgIDogdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24/LmxheW91dDtcbiAgICAgICAgY29uc3QgcHJldkNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICAgICAgaWYgKGRyYWdDb25zdHJhaW50cyAmJiBpc1JlZk9iamVjdChkcmFnQ29uc3RyYWludHMpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29uc3RyYWludHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gdGhpcy5yZXNvbHZlUmVmQ29uc3RyYWludHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkcmFnQ29uc3RyYWludHMgJiYgbGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IGNhbGNSZWxhdGl2ZUNvbnN0cmFpbnRzKGxheW91dC5sYXlvdXRCb3gsIGRyYWdDb25zdHJhaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGFzdGljID0gcmVzb2x2ZURyYWdFbGFzdGljKGRyYWdFbGFzdGljKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlJ3JlIG91dHB1dHRpbmcgdG8gZXh0ZXJuYWwgTW90aW9uVmFsdWVzLCB3ZSB3YW50IHRvIHJlYmFzZSB0aGUgbWVhc3VyZWQgY29uc3RyYWludHNcbiAgICAgICAgICogZnJvbSB2aWV3cG9ydC1yZWxhdGl2ZSB0byBjb21wb25lbnQtcmVsYXRpdmUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocHJldkNvbnN0cmFpbnRzICE9PSB0aGlzLmNvbnN0cmFpbnRzICYmXG4gICAgICAgICAgICBsYXlvdXQgJiZcbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWludHMgJiZcbiAgICAgICAgICAgICF0aGlzLmhhc011dGF0ZWRDb25zdHJhaW50cykge1xuICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50cyAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50c1theGlzXSA9IHJlYmFzZUF4aXNDb25zdHJhaW50cyhsYXlvdXQubGF5b3V0Qm94W2F4aXNdLCB0aGlzLmNvbnN0cmFpbnRzW2F4aXNdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNvbHZlUmVmQ29uc3RyYWludHMoKSB7XG4gICAgICAgIGNvbnN0IHsgZHJhZ0NvbnN0cmFpbnRzOiBjb25zdHJhaW50cywgb25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgIGlmICghY29uc3RyYWludHMgfHwgIWlzUmVmT2JqZWN0KGNvbnN0cmFpbnRzKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgY29uc3RyYWludHNFbGVtZW50ID0gY29uc3RyYWludHMuY3VycmVudDtcbiAgICAgICAgaW52YXJpYW50KGNvbnN0cmFpbnRzRWxlbWVudCAhPT0gbnVsbCwgXCJJZiBgZHJhZ0NvbnN0cmFpbnRzYCBpcyBzZXQgYXMgYSBSZWFjdCByZWYsIHRoYXQgcmVmIG11c3QgYmUgcGFzc2VkIHRvIGFub3RoZXIgY29tcG9uZW50J3MgYHJlZmAgcHJvcC5cIik7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy52aXN1YWxFbGVtZW50O1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIGlmICghcHJvamVjdGlvbiB8fCAhcHJvamVjdGlvbi5sYXlvdXQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzQm94ID0gbWVhc3VyZVBhZ2VCb3goY29uc3RyYWludHNFbGVtZW50LCBwcm9qZWN0aW9uLnJvb3QsIHRoaXMudmlzdWFsRWxlbWVudC5nZXRUcmFuc2Zvcm1QYWdlUG9pbnQoKSk7XG4gICAgICAgIGxldCBtZWFzdXJlZENvbnN0cmFpbnRzID0gY2FsY1ZpZXdwb3J0Q29uc3RyYWludHMocHJvamVjdGlvbi5sYXlvdXQubGF5b3V0Qm94LCBjb25zdHJhaW50c0JveCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGVyZSdzIGFuIG9uTWVhc3VyZURyYWdDb25zdHJhaW50cyBsaXN0ZW5lciB3ZSBjYWxsIGl0IGFuZFxuICAgICAgICAgKiBpZiBkaWZmZXJlbnQgY29uc3RyYWludHMgYXJlIHJldHVybmVkLCBzZXQgY29uc3RyYWludHMgdG8gdGhhdFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9uTWVhc3VyZURyYWdDb25zdHJhaW50cykge1xuICAgICAgICAgICAgY29uc3QgdXNlckNvbnN0cmFpbnRzID0gb25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzKGNvbnZlcnRCb3hUb0JvdW5kaW5nQm94KG1lYXN1cmVkQ29uc3RyYWludHMpKTtcbiAgICAgICAgICAgIHRoaXMuaGFzTXV0YXRlZENvbnN0cmFpbnRzID0gISF1c2VyQ29uc3RyYWludHM7XG4gICAgICAgICAgICBpZiAodXNlckNvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICAgICAgbWVhc3VyZWRDb25zdHJhaW50cyA9IGNvbnZlcnRCb3VuZGluZ0JveFRvQm94KHVzZXJDb25zdHJhaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lYXN1cmVkQ29uc3RyYWludHM7XG4gICAgfVxuICAgIHN0YXJ0QW5pbWF0aW9uKHZlbG9jaXR5KSB7XG4gICAgICAgIGNvbnN0IHsgZHJhZywgZHJhZ01vbWVudHVtLCBkcmFnRWxhc3RpYywgZHJhZ1RyYW5zaXRpb24sIGRyYWdTbmFwVG9PcmlnaW4sIG9uRHJhZ1RyYW5zaXRpb25FbmQsIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cyB8fCB7fTtcbiAgICAgICAgY29uc3QgbW9tZW50dW1BbmltYXRpb25zID0gZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkRHJhZyhheGlzLCBkcmFnLCB0aGlzLmN1cnJlbnREaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRyYW5zaXRpb24gPSAoY29uc3RyYWludHMgJiYgY29uc3RyYWludHNbYXhpc10pIHx8IHt9O1xuICAgICAgICAgICAgaWYgKGRyYWdTbmFwVG9PcmlnaW4pXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHsgbWluOiAwLCBtYXg6IDAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT3ZlcmRhbXAgdGhlIGJvdW5kYXJ5IHNwcmluZyBpZiBgZHJhZ0VsYXN0aWNgIGlzIGRpc2FibGVkLiBUaGVyZSdzIHN0aWxsIGEgZnJhbWVcbiAgICAgICAgICAgICAqIG9mIHNwcmluZyBhbmltYXRpb25zIHNvIHdlIHNob3VsZCBsb29rIGludG8gYWRkaW5nIGEgZGlzYWJsZSBzcHJpbmcgb3B0aW9uIHRvIGBpbmVydGlhYC5cbiAgICAgICAgICAgICAqIFdlIGNvdWxkIGRvIHNvbWV0aGluZyBoZXJlIHdoZXJlIHdlIGFmZmVjdCB0aGUgYGJvdW5jZVN0aWZmbmVzc2AgYW5kIGBib3VuY2VEYW1waW5nYFxuICAgICAgICAgICAgICogdXNpbmcgdGhlIHZhbHVlIG9mIGBkcmFnRWxhc3RpY2AuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGJvdW5jZVN0aWZmbmVzcyA9IGRyYWdFbGFzdGljID8gMjAwIDogMTAwMDAwMDtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5jZURhbXBpbmcgPSBkcmFnRWxhc3RpYyA/IDQwIDogMTAwMDAwMDA7XG4gICAgICAgICAgICBjb25zdCBpbmVydGlhID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiaW5lcnRpYVwiLFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5OiBkcmFnTW9tZW50dW0gPyB2ZWxvY2l0eVtheGlzXSA6IDAsXG4gICAgICAgICAgICAgICAgYm91bmNlU3RpZmZuZXNzLFxuICAgICAgICAgICAgICAgIGJvdW5jZURhbXBpbmcsXG4gICAgICAgICAgICAgICAgdGltZUNvbnN0YW50OiA3NTAsXG4gICAgICAgICAgICAgICAgcmVzdERlbHRhOiAxLFxuICAgICAgICAgICAgICAgIHJlc3RTcGVlZDogMTAsXG4gICAgICAgICAgICAgICAgLi4uZHJhZ1RyYW5zaXRpb24sXG4gICAgICAgICAgICAgICAgLi4udHJhbnNpdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBub3QgYW5pbWF0aW5nIG9uIGFuIGV4dGVybmFsbHktcHJvdmlkZWQgYE1vdGlvblZhbHVlYCB3ZSBjYW4gdXNlIHRoZVxuICAgICAgICAgICAgLy8gY29tcG9uZW50J3MgYW5pbWF0aW9uIGNvbnRyb2xzIHdoaWNoIHdpbGwgaGFuZGxlIGludGVyYWN0aW9ucyB3aXRoIHdoaWxlSG92ZXIgKGV0YyksXG4gICAgICAgICAgICAvLyBvdGhlcndpc2Ugd2UganVzdCBoYXZlIHRvIGFuaW1hdGUgdGhlIGBNb3Rpb25WYWx1ZWAgaXRzZWxmLlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRBeGlzVmFsdWVBbmltYXRpb24oYXhpcywgaW5lcnRpYSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSdW4gYWxsIGFuaW1hdGlvbnMgYW5kIHRoZW4gcmVzb2x2ZSB0aGUgbmV3IGRyYWcgY29uc3RyYWludHMuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChtb21lbnR1bUFuaW1hdGlvbnMpLnRoZW4ob25EcmFnVHJhbnNpdGlvbkVuZCk7XG4gICAgfVxuICAgIHN0YXJ0QXhpc1ZhbHVlQW5pbWF0aW9uKGF4aXMsIHRyYW5zaXRpb24pIHtcbiAgICAgICAgY29uc3QgYXhpc1ZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgIGFkZFZhbHVlVG9XaWxsQ2hhbmdlKHRoaXMudmlzdWFsRWxlbWVudCwgYXhpcyk7XG4gICAgICAgIHJldHVybiBheGlzVmFsdWUuc3RhcnQoYW5pbWF0ZU1vdGlvblZhbHVlKGF4aXMsIGF4aXNWYWx1ZSwgMCwgdHJhbnNpdGlvbiwgdGhpcy52aXN1YWxFbGVtZW50LCBmYWxzZSkpO1xuICAgIH1cbiAgICBzdG9wQW5pbWF0aW9uKCkge1xuICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcykuc3RvcCgpKTtcbiAgICB9XG4gICAgcGF1c2VBbmltYXRpb24oKSB7XG4gICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKS5hbmltYXRpb24/LnBhdXNlKCkpO1xuICAgIH1cbiAgICBnZXRBbmltYXRpb25TdGF0ZShheGlzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKS5hbmltYXRpb24/LnN0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEcmFnIHdvcmtzIGRpZmZlcmVudGx5IGRlcGVuZGluZyBvbiB3aGljaCBwcm9wcyBhcmUgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiAtIElmIF9kcmFnWCBhbmQgX2RyYWdZIGFyZSBwcm92aWRlZCwgd2Ugb3V0cHV0IHRoZSBnZXN0dXJlIGRlbHRhIGRpcmVjdGx5IHRvIHRob3NlIG1vdGlvbiB2YWx1ZXMuXG4gICAgICogLSBPdGhlcndpc2UsIHdlIGFwcGx5IHRoZSBkZWx0YSB0byB0aGUgeC95IG1vdGlvbiB2YWx1ZXMuXG4gICAgICovXG4gICAgZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpIHtcbiAgICAgICAgY29uc3QgZHJhZ0tleSA9IGBfZHJhZyR7YXhpcy50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy52aXN1YWxFbGVtZW50LmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IGV4dGVybmFsTW90aW9uVmFsdWUgPSBwcm9wc1tkcmFnS2V5XTtcbiAgICAgICAgcmV0dXJuIGV4dGVybmFsTW90aW9uVmFsdWVcbiAgICAgICAgICAgID8gZXh0ZXJuYWxNb3Rpb25WYWx1ZVxuICAgICAgICAgICAgOiB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoYXhpcywgKHByb3BzLmluaXRpYWxcbiAgICAgICAgICAgICAgICA/IHByb3BzLmluaXRpYWxbYXhpc11cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCkgfHwgMCk7XG4gICAgfVxuICAgIHNuYXBUb0N1cnNvcihwb2ludCkge1xuICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkcmFnIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBub3QgZHJhZ2dpbmcgdGhpcyBheGlzLCBkbyBhbiBlYXJseSByZXR1cm4uXG4gICAgICAgICAgICBpZiAoIXNob3VsZERyYWcoYXhpcywgZHJhZywgdGhpcy5jdXJyZW50RGlyZWN0aW9uKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IHByb2plY3Rpb24gfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNWYWx1ZSA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpO1xuICAgICAgICAgICAgaWYgKHByb2plY3Rpb24gJiYgcHJvamVjdGlvbi5sYXlvdXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSBwcm9qZWN0aW9uLmxheW91dC5sYXlvdXRCb3hbYXhpc107XG4gICAgICAgICAgICAgICAgYXhpc1ZhbHVlLnNldChwb2ludFtheGlzXSAtIG1peE51bWJlcihtaW4sIG1heCwgMC41KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB2aWV3cG9ydCByZXNpemVzIHdlIHdhbnQgdG8gY2hlY2sgaWYgdGhlIG1lYXN1cmVkIGNvbnN0cmFpbnRzXG4gICAgICogaGF2ZSBjaGFuZ2VkIGFuZCwgaWYgc28sIHJlcG9zaXRpb24gdGhlIGVsZW1lbnQgd2l0aGluIHRob3NlIG5ldyBjb25zdHJhaW50c1xuICAgICAqIHJlbGF0aXZlIHRvIHdoZXJlIGl0IHdhcyBiZWZvcmUgdGhlIHJlc2l6ZS5cbiAgICAgKi9cbiAgICBzY2FsZVBvc2l0aW9uV2l0aGluQ29uc3RyYWludHMoKSB7XG4gICAgICAgIGlmICghdGhpcy52aXN1YWxFbGVtZW50LmN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgZHJhZywgZHJhZ0NvbnN0cmFpbnRzIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy52aXN1YWxFbGVtZW50O1xuICAgICAgICBpZiAoIWlzUmVmT2JqZWN0KGRyYWdDb25zdHJhaW50cykgfHwgIXByb2plY3Rpb24gfHwgIXRoaXMuY29uc3RyYWludHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9wIGN1cnJlbnQgYW5pbWF0aW9ucyBhcyB0aGVyZSBjYW4gYmUgdmlzdWFsIGdsaXRjaGluZyBpZiB3ZSB0cnkgdG8gZG9cbiAgICAgICAgICogdGhpcyBtaWQtYW5pbWF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BBbmltYXRpb24oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlY29yZCB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGRyYWdnZWQgZWxlbWVudCByZWxhdGl2ZSB0byB0aGVcbiAgICAgICAgICogY29uc3RyYWludHMgYm94IGFuZCBzYXZlIGFzIGEgcHJvZ3Jlc3MgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBib3hQcm9ncmVzcyA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXhpc1ZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgICAgICBpZiAoYXhpc1ZhbHVlICYmIHRoaXMuY29uc3RyYWludHMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0ID0gYXhpc1ZhbHVlLmdldCgpO1xuICAgICAgICAgICAgICAgIGJveFByb2dyZXNzW2F4aXNdID0gY2FsY09yaWdpbih7IG1pbjogbGF0ZXN0LCBtYXg6IGxhdGVzdCB9LCB0aGlzLmNvbnN0cmFpbnRzW2F4aXNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgdGhlIGxheW91dCBvZiB0aGlzIGVsZW1lbnQgYW5kIHJlc29sdmUgdGhlIGxhdGVzdCBkcmFnIGNvbnN0cmFpbnRzXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB7IHRyYW5zZm9ybVRlbXBsYXRlIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LmN1cnJlbnQuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtVGVtcGxhdGVcbiAgICAgICAgICAgID8gdHJhbnNmb3JtVGVtcGxhdGUoe30sIFwiXCIpXG4gICAgICAgICAgICA6IFwibm9uZVwiO1xuICAgICAgICBwcm9qZWN0aW9uLnJvb3QgJiYgcHJvamVjdGlvbi5yb290LnVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICBwcm9qZWN0aW9uLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICB0aGlzLnJlc29sdmVDb25zdHJhaW50cygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggYXhpcywgY2FsY3VsYXRlIHRoZSBjdXJyZW50IHByb2dyZXNzIG9mIHRoZSBsYXlvdXQgYXhpc1xuICAgICAgICAgKiB3aXRoaW4gdGhlIG5ldyBjb25zdHJhaW50cy5cbiAgICAgICAgICovXG4gICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNob3VsZERyYWcoYXhpcywgZHJhZywgbnVsbCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxjdWxhdGUgYSBuZXcgdHJhbnNmb3JtIGJhc2VkIG9uIHRoZSBwcmV2aW91cyBib3ggcHJvZ3Jlc3NcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYXhpc1ZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLmNvbnN0cmFpbnRzW2F4aXNdO1xuICAgICAgICAgICAgYXhpc1ZhbHVlLnNldChtaXhOdW1iZXIobWluLCBtYXgsIGJveFByb2dyZXNzW2F4aXNdKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGlmICghdGhpcy52aXN1YWxFbGVtZW50LmN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGVsZW1lbnREcmFnQ29udHJvbHMuc2V0KHRoaXMudmlzdWFsRWxlbWVudCwgdGhpcyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnZpc3VhbEVsZW1lbnQuY3VycmVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dGFjaCBhIHBvaW50ZXJkb3duIGV2ZW50IGxpc3RlbmVyIG9uIHRoaXMgRE9NIGVsZW1lbnQgdG8gaW5pdGlhdGUgZHJhZyB0cmFja2luZy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHN0b3BQb2ludGVyTGlzdGVuZXIgPSBhZGRQb2ludGVyRXZlbnQoZWxlbWVudCwgXCJwb2ludGVyZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZHJhZywgZHJhZ0xpc3RlbmVyID0gdHJ1ZSB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAgICAgZHJhZyAmJiBkcmFnTGlzdGVuZXIgJiYgdGhpcy5zdGFydChldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtZWFzdXJlRHJhZ0NvbnN0cmFpbnRzID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkcmFnQ29uc3RyYWludHMgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIGlmIChpc1JlZk9iamVjdChkcmFnQ29uc3RyYWludHMpICYmIGRyYWdDb25zdHJhaW50cy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IHRoaXMucmVzb2x2ZVJlZkNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy52aXN1YWxFbGVtZW50O1xuICAgICAgICBjb25zdCBzdG9wTWVhc3VyZUxheW91dExpc3RlbmVyID0gcHJvamVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwibWVhc3VyZVwiLCBtZWFzdXJlRHJhZ0NvbnN0cmFpbnRzKTtcbiAgICAgICAgaWYgKHByb2plY3Rpb24gJiYgIXByb2plY3Rpb24ubGF5b3V0KSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnJvb3QgJiYgcHJvamVjdGlvbi5yb290LnVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICAgICAgcHJvamVjdGlvbi51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5yZWFkKG1lYXN1cmVEcmFnQ29uc3RyYWludHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoIGEgd2luZG93IHJlc2l6ZSBsaXN0ZW5lciB0byBzY2FsZSB0aGUgZHJhZ2dhYmxlIHRhcmdldCB3aXRoaW4gaXRzIGRlZmluZWRcbiAgICAgICAgICogY29uc3RyYWludHMgYXMgdGhlIHdpbmRvdyByZXNpemVzLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgc3RvcFJlc2l6ZUxpc3RlbmVyID0gYWRkRG9tRXZlbnQod2luZG93LCBcInJlc2l6ZVwiLCAoKSA9PiB0aGlzLnNjYWxlUG9zaXRpb25XaXRoaW5Db25zdHJhaW50cygpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBlbGVtZW50J3MgbGF5b3V0IGNoYW5nZXMsIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYW5kIGFwcGx5IHRoYXQgdG9cbiAgICAgICAgICogdGhlIGRyYWcgZ2VzdHVyZSdzIG9yaWdpbiBwb2ludC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHN0b3BMYXlvdXRVcGRhdGVMaXN0ZW5lciA9IHByb2plY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImRpZFVwZGF0ZVwiLCAoKHsgZGVsdGEsIGhhc0xheW91dENoYW5nZWQgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZyAmJiBoYXNMYXlvdXRDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW90aW9uVmFsdWUgPSB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3Rpb25WYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5Qb2ludFtheGlzXSArPSBkZWx0YVtheGlzXS50cmFuc2xhdGU7XG4gICAgICAgICAgICAgICAgICAgIG1vdGlvblZhbHVlLnNldChtb3Rpb25WYWx1ZS5nZXQoKSArIGRlbHRhW2F4aXNdLnRyYW5zbGF0ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzdG9wUmVzaXplTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHN0b3BQb2ludGVyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHN0b3BNZWFzdXJlTGF5b3V0TGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHN0b3BMYXlvdXRVcGRhdGVMaXN0ZW5lciAmJiBzdG9wTGF5b3V0VXBkYXRlTGlzdGVuZXIoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0UHJvcHMoKSB7XG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy52aXN1YWxFbGVtZW50LmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IHsgZHJhZyA9IGZhbHNlLCBkcmFnRGlyZWN0aW9uTG9jayA9IGZhbHNlLCBkcmFnUHJvcGFnYXRpb24gPSBmYWxzZSwgZHJhZ0NvbnN0cmFpbnRzID0gZmFsc2UsIGRyYWdFbGFzdGljID0gZGVmYXVsdEVsYXN0aWMsIGRyYWdNb21lbnR1bSA9IHRydWUsIH0gPSBwcm9wcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgZHJhZyxcbiAgICAgICAgICAgIGRyYWdEaXJlY3Rpb25Mb2NrLFxuICAgICAgICAgICAgZHJhZ1Byb3BhZ2F0aW9uLFxuICAgICAgICAgICAgZHJhZ0NvbnN0cmFpbnRzLFxuICAgICAgICAgICAgZHJhZ0VsYXN0aWMsXG4gICAgICAgICAgICBkcmFnTW9tZW50dW0sXG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gc2hvdWxkRHJhZyhkaXJlY3Rpb24sIGRyYWcsIGN1cnJlbnREaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gKChkcmFnID09PSB0cnVlIHx8IGRyYWcgPT09IGRpcmVjdGlvbikgJiZcbiAgICAgICAgKGN1cnJlbnREaXJlY3Rpb24gPT09IG51bGwgfHwgY3VycmVudERpcmVjdGlvbiA9PT0gZGlyZWN0aW9uKSk7XG59XG4vKipcbiAqIEJhc2VkIG9uIGFuIHgveSBvZmZzZXQgZGV0ZXJtaW5lIHRoZSBjdXJyZW50IGRyYWcgZGlyZWN0aW9uLiBJZiBib3RoIGF4aXMnIG9mZnNldHMgYXJlIGxvd2VyXG4gKiB0aGFuIHRoZSBwcm92aWRlZCB0aHJlc2hvbGQsIHJldHVybiBgbnVsbGAuXG4gKlxuICogQHBhcmFtIG9mZnNldCAtIFRoZSB4L3kgb2Zmc2V0IGZyb20gb3JpZ2luLlxuICogQHBhcmFtIGxvY2tUaHJlc2hvbGQgLSAoT3B0aW9uYWwpIC0gdGhlIG1pbmltdW0gYWJzb2x1dGUgb2Zmc2V0IGJlZm9yZSB3ZSBjYW4gZGV0ZXJtaW5lIGEgZHJhZyBkaXJlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnREaXJlY3Rpb24ob2Zmc2V0LCBsb2NrVGhyZXNob2xkID0gMTApIHtcbiAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcbiAgICBpZiAoTWF0aC5hYnMob2Zmc2V0LnkpID4gbG9ja1RocmVzaG9sZCkge1xuICAgICAgICBkaXJlY3Rpb24gPSBcInlcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoTWF0aC5hYnMob2Zmc2V0LngpID4gbG9ja1RocmVzaG9sZCkge1xuICAgICAgICBkaXJlY3Rpb24gPSBcInhcIjtcbiAgICB9XG4gICAgcmV0dXJuIGRpcmVjdGlvbjtcbn1cblxuZXhwb3J0IHsgVmlzdWFsRWxlbWVudERyYWdDb250cm9scywgZWxlbWVudERyYWdDb250cm9scyB9O1xuIiwgImZ1bmN0aW9uIGFkZERvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH0pIHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xufVxuXG5leHBvcnQgeyBhZGREb21FdmVudCB9O1xuIiwgImltcG9ydCB7IGFkZERvbUV2ZW50IH0gZnJvbSAnLi9hZGQtZG9tLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBhZGRQb2ludGVySW5mbyB9IGZyb20gJy4vZXZlbnQtaW5mby5tanMnO1xuXG5mdW5jdGlvbiBhZGRQb2ludGVyRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWRkRG9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIGFkZFBvaW50ZXJJbmZvKGhhbmRsZXIpLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IHsgYWRkUG9pbnRlckV2ZW50IH07XG4iLCAiaW1wb3J0IHsgaXNQcmltYXJ5UG9pbnRlciB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9nZXN0dXJlcy91dGlscy9pcy1wcmltYXJ5LXBvaW50ZXIubWpzJztcblxuZnVuY3Rpb24gZXh0cmFjdEV2ZW50SW5mbyhldmVudCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICB4OiBldmVudC5wYWdlWCxcbiAgICAgICAgICAgIHk6IGV2ZW50LnBhZ2VZLFxuICAgICAgICB9LFxuICAgIH07XG59XG5jb25zdCBhZGRQb2ludGVySW5mbyA9IChoYW5kbGVyKSA9PiB7XG4gICAgcmV0dXJuIChldmVudCkgPT4gaXNQcmltYXJ5UG9pbnRlcihldmVudCkgJiYgaGFuZGxlcihldmVudCwgZXh0cmFjdEV2ZW50SW5mbyhldmVudCkpO1xufTtcblxuZXhwb3J0IHsgYWRkUG9pbnRlckluZm8sIGV4dHJhY3RFdmVudEluZm8gfTtcbiIsICJjb25zdCBpc1ByaW1hcnlQb2ludGVyID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBldmVudC5idXR0b24gIT09IFwibnVtYmVyXCIgfHwgZXZlbnQuYnV0dG9uIDw9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvKipcbiAgICAgICAgICogaXNQcmltYXJ5IGlzIHRydWUgZm9yIGFsbCBtaWNlIGJ1dHRvbnMsIHdoZXJlYXMgZXZlcnkgdG91Y2ggcG9pbnRcbiAgICAgICAgICogaXMgcmVnYXJkZWQgYXMgaXRzIG93biBpbnB1dC4gU28gc3Vic2VxdWVudCBjb25jdXJyZW50IHRvdWNoIHBvaW50c1xuICAgICAgICAgKiB3aWxsIGJlIGZhbHNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTcGVjaWZpY2FsbHkgbWF0Y2ggYWdhaW5zdCBmYWxzZSBoZXJlIGFzIGluY29tcGxldGUgdmVyc2lvbnMgb2ZcbiAgICAgICAgICogUG9pbnRlckV2ZW50cyBpbiB2ZXJ5IG9sZCBicm93c2VyIG1pZ2h0IGhhdmUgaXQgc2V0IGFzIHVuZGVmaW5lZC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBldmVudC5pc1ByaW1hcnkgIT09IGZhbHNlO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IGlzUHJpbWFyeVBvaW50ZXIgfTtcbiIsICIvKipcbiAqIEJvdW5kaW5nIGJveGVzIHRlbmQgdG8gYmUgZGVmaW5lZCBhcyB0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b20uIEZvciB2YXJpb3VzIG9wZXJhdGlvbnNcbiAqIGl0J3MgZWFzaWVyIHRvIGNvbnNpZGVyIGVhY2ggYXhpcyBpbmRpdmlkdWFsbHkuIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIGJvdW5kaW5nIGJveFxuICogYXMgYSBtYXAgb2Ygc2luZ2xlLWF4aXMgbWluL21heCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRCb3VuZGluZ0JveFRvQm94KHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeyBtaW46IGxlZnQsIG1heDogcmlnaHQgfSxcbiAgICAgICAgeTogeyBtaW46IHRvcCwgbWF4OiBib3R0b20gfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY29udmVydEJveFRvQm91bmRpbmdCb3goeyB4LCB5IH0pIHtcbiAgICByZXR1cm4geyB0b3A6IHkubWluLCByaWdodDogeC5tYXgsIGJvdHRvbTogeS5tYXgsIGxlZnQ6IHgubWluIH07XG59XG4vKipcbiAqIEFwcGxpZXMgYSBUcmFuc2Zvcm1Qb2ludCBmdW5jdGlvbiB0byBhIGJvdW5kaW5nIGJveC4gVHJhbnNmb3JtUG9pbnQgaXMgdXN1YWxseSBhIGZ1bmN0aW9uXG4gKiBwcm92aWRlZCBieSBGcmFtZXIgdG8gYWxsb3cgbWVhc3VyZWQgcG9pbnRzIHRvIGJlIGNvcnJlY3RlZCBmb3IgZGV2aWNlIHNjYWxpbmcuIFRoaXMgaXMgdXNlZFxuICogd2hlbiBtZWFzdXJpbmcgRE9NIGVsZW1lbnRzIGFuZCBET00gZXZlbnQgcG9pbnRzLlxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1Cb3hQb2ludHMocG9pbnQsIHRyYW5zZm9ybVBvaW50KSB7XG4gICAgaWYgKCF0cmFuc2Zvcm1Qb2ludClcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIGNvbnN0IHRvcExlZnQgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IHBvaW50LmxlZnQsIHk6IHBvaW50LnRvcCB9KTtcbiAgICBjb25zdCBib3R0b21SaWdodCA9IHRyYW5zZm9ybVBvaW50KHsgeDogcG9pbnQucmlnaHQsIHk6IHBvaW50LmJvdHRvbSB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcExlZnQueSxcbiAgICAgICAgbGVmdDogdG9wTGVmdC54LFxuICAgICAgICBib3R0b206IGJvdHRvbVJpZ2h0LnksXG4gICAgICAgIHJpZ2h0OiBib3R0b21SaWdodC54LFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGNvbnZlcnRCb3VuZGluZ0JveFRvQm94LCBjb252ZXJ0Qm94VG9Cb3VuZGluZ0JveCwgdHJhbnNmb3JtQm94UG9pbnRzIH07XG4iLCAiaW1wb3J0IHsgbWl4TnVtYmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL21peC9udW1iZXIubWpzJztcblxuY29uc3QgU0NBTEVfUFJFQ0lTSU9OID0gMC4wMDAxO1xuY29uc3QgU0NBTEVfTUlOID0gMSAtIFNDQUxFX1BSRUNJU0lPTjtcbmNvbnN0IFNDQUxFX01BWCA9IDEgKyBTQ0FMRV9QUkVDSVNJT047XG5jb25zdCBUUkFOU0xBVEVfUFJFQ0lTSU9OID0gMC4wMTtcbmNvbnN0IFRSQU5TTEFURV9NSU4gPSAwIC0gVFJBTlNMQVRFX1BSRUNJU0lPTjtcbmNvbnN0IFRSQU5TTEFURV9NQVggPSAwICsgVFJBTlNMQVRFX1BSRUNJU0lPTjtcbmZ1bmN0aW9uIGNhbGNMZW5ndGgoYXhpcykge1xuICAgIHJldHVybiBheGlzLm1heCAtIGF4aXMubWluO1xufVxuZnVuY3Rpb24gaXNOZWFyKHZhbHVlLCB0YXJnZXQsIG1heERpc3RhbmNlKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHZhbHVlIC0gdGFyZ2V0KSA8PSBtYXhEaXN0YW5jZTtcbn1cbmZ1bmN0aW9uIGNhbGNBeGlzRGVsdGEoZGVsdGEsIHNvdXJjZSwgdGFyZ2V0LCBvcmlnaW4gPSAwLjUpIHtcbiAgICBkZWx0YS5vcmlnaW4gPSBvcmlnaW47XG4gICAgZGVsdGEub3JpZ2luUG9pbnQgPSBtaXhOdW1iZXIoc291cmNlLm1pbiwgc291cmNlLm1heCwgZGVsdGEub3JpZ2luKTtcbiAgICBkZWx0YS5zY2FsZSA9IGNhbGNMZW5ndGgodGFyZ2V0KSAvIGNhbGNMZW5ndGgoc291cmNlKTtcbiAgICBkZWx0YS50cmFuc2xhdGUgPVxuICAgICAgICBtaXhOdW1iZXIodGFyZ2V0Lm1pbiwgdGFyZ2V0Lm1heCwgZGVsdGEub3JpZ2luKSAtIGRlbHRhLm9yaWdpblBvaW50O1xuICAgIGlmICgoZGVsdGEuc2NhbGUgPj0gU0NBTEVfTUlOICYmIGRlbHRhLnNjYWxlIDw9IFNDQUxFX01BWCkgfHxcbiAgICAgICAgaXNOYU4oZGVsdGEuc2NhbGUpKSB7XG4gICAgICAgIGRlbHRhLnNjYWxlID0gMS4wO1xuICAgIH1cbiAgICBpZiAoKGRlbHRhLnRyYW5zbGF0ZSA+PSBUUkFOU0xBVEVfTUlOICYmXG4gICAgICAgIGRlbHRhLnRyYW5zbGF0ZSA8PSBUUkFOU0xBVEVfTUFYKSB8fFxuICAgICAgICBpc05hTihkZWx0YS50cmFuc2xhdGUpKSB7XG4gICAgICAgIGRlbHRhLnRyYW5zbGF0ZSA9IDAuMDtcbiAgICB9XG59XG5mdW5jdGlvbiBjYWxjQm94RGVsdGEoZGVsdGEsIHNvdXJjZSwgdGFyZ2V0LCBvcmlnaW4pIHtcbiAgICBjYWxjQXhpc0RlbHRhKGRlbHRhLngsIHNvdXJjZS54LCB0YXJnZXQueCwgb3JpZ2luID8gb3JpZ2luLm9yaWdpblggOiB1bmRlZmluZWQpO1xuICAgIGNhbGNBeGlzRGVsdGEoZGVsdGEueSwgc291cmNlLnksIHRhcmdldC55LCBvcmlnaW4gPyBvcmlnaW4ub3JpZ2luWSA6IHVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVBeGlzKHRhcmdldCwgcmVsYXRpdmUsIHBhcmVudCkge1xuICAgIHRhcmdldC5taW4gPSBwYXJlbnQubWluICsgcmVsYXRpdmUubWluO1xuICAgIHRhcmdldC5tYXggPSB0YXJnZXQubWluICsgY2FsY0xlbmd0aChyZWxhdGl2ZSk7XG59XG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVCb3godGFyZ2V0LCByZWxhdGl2ZSwgcGFyZW50KSB7XG4gICAgY2FsY1JlbGF0aXZlQXhpcyh0YXJnZXQueCwgcmVsYXRpdmUueCwgcGFyZW50LngpO1xuICAgIGNhbGNSZWxhdGl2ZUF4aXModGFyZ2V0LnksIHJlbGF0aXZlLnksIHBhcmVudC55KTtcbn1cbmZ1bmN0aW9uIGNhbGNSZWxhdGl2ZUF4aXNQb3NpdGlvbih0YXJnZXQsIGxheW91dCwgcGFyZW50KSB7XG4gICAgdGFyZ2V0Lm1pbiA9IGxheW91dC5taW4gLSBwYXJlbnQubWluO1xuICAgIHRhcmdldC5tYXggPSB0YXJnZXQubWluICsgY2FsY0xlbmd0aChsYXlvdXQpO1xufVxuZnVuY3Rpb24gY2FsY1JlbGF0aXZlUG9zaXRpb24odGFyZ2V0LCBsYXlvdXQsIHBhcmVudCkge1xuICAgIGNhbGNSZWxhdGl2ZUF4aXNQb3NpdGlvbih0YXJnZXQueCwgbGF5b3V0LngsIHBhcmVudC54KTtcbiAgICBjYWxjUmVsYXRpdmVBeGlzUG9zaXRpb24odGFyZ2V0LnksIGxheW91dC55LCBwYXJlbnQueSk7XG59XG5cbmV4cG9ydCB7IGNhbGNBeGlzRGVsdGEsIGNhbGNCb3hEZWx0YSwgY2FsY0xlbmd0aCwgY2FsY1JlbGF0aXZlQXhpcywgY2FsY1JlbGF0aXZlQXhpc1Bvc2l0aW9uLCBjYWxjUmVsYXRpdmVCb3gsIGNhbGNSZWxhdGl2ZVBvc2l0aW9uLCBpc05lYXIgfTtcbiIsICJjb25zdCBjcmVhdGVBeGlzRGVsdGEgPSAoKSA9PiAoe1xuICAgIHRyYW5zbGF0ZTogMCxcbiAgICBzY2FsZTogMSxcbiAgICBvcmlnaW46IDAsXG4gICAgb3JpZ2luUG9pbnQ6IDAsXG59KTtcbmNvbnN0IGNyZWF0ZURlbHRhID0gKCkgPT4gKHtcbiAgICB4OiBjcmVhdGVBeGlzRGVsdGEoKSxcbiAgICB5OiBjcmVhdGVBeGlzRGVsdGEoKSxcbn0pO1xuY29uc3QgY3JlYXRlQXhpcyA9ICgpID0+ICh7IG1pbjogMCwgbWF4OiAwIH0pO1xuY29uc3QgY3JlYXRlQm94ID0gKCkgPT4gKHtcbiAgICB4OiBjcmVhdGVBeGlzKCksXG4gICAgeTogY3JlYXRlQXhpcygpLFxufSk7XG5cbmV4cG9ydCB7IGNyZWF0ZUF4aXMsIGNyZWF0ZUF4aXNEZWx0YSwgY3JlYXRlQm94LCBjcmVhdGVEZWx0YSB9O1xuIiwgImZ1bmN0aW9uIGVhY2hBeGlzKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFtjYWxsYmFjayhcInhcIiksIGNhbGxiYWNrKFwieVwiKV07XG59XG5cbmV4cG9ydCB7IGVhY2hBeGlzIH07XG4iLCAiaW1wb3J0IHsgY29udmVydEJvdW5kaW5nQm94VG9Cb3gsIHRyYW5zZm9ybUJveFBvaW50cyB9IGZyb20gJy4uL2dlb21ldHJ5L2NvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IHRyYW5zbGF0ZUF4aXMgfSBmcm9tICcuLi9nZW9tZXRyeS9kZWx0YS1hcHBseS5tanMnO1xuXG5mdW5jdGlvbiBtZWFzdXJlVmlld3BvcnRCb3goaW5zdGFuY2UsIHRyYW5zZm9ybVBvaW50KSB7XG4gICAgcmV0dXJuIGNvbnZlcnRCb3VuZGluZ0JveFRvQm94KHRyYW5zZm9ybUJveFBvaW50cyhpbnN0YW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdHJhbnNmb3JtUG9pbnQpKTtcbn1cbmZ1bmN0aW9uIG1lYXN1cmVQYWdlQm94KGVsZW1lbnQsIHJvb3RQcm9qZWN0aW9uTm9kZSwgdHJhbnNmb3JtUGFnZVBvaW50KSB7XG4gICAgY29uc3Qgdmlld3BvcnRCb3ggPSBtZWFzdXJlVmlld3BvcnRCb3goZWxlbWVudCwgdHJhbnNmb3JtUGFnZVBvaW50KTtcbiAgICBjb25zdCB7IHNjcm9sbCB9ID0gcm9vdFByb2plY3Rpb25Ob2RlO1xuICAgIGlmIChzY3JvbGwpIHtcbiAgICAgICAgdHJhbnNsYXRlQXhpcyh2aWV3cG9ydEJveC54LCBzY3JvbGwub2Zmc2V0LngpO1xuICAgICAgICB0cmFuc2xhdGVBeGlzKHZpZXdwb3J0Qm94LnksIHNjcm9sbC5vZmZzZXQueSk7XG4gICAgfVxuICAgIHJldHVybiB2aWV3cG9ydEJveDtcbn1cblxuZXhwb3J0IHsgbWVhc3VyZVBhZ2VCb3gsIG1lYXN1cmVWaWV3cG9ydEJveCB9O1xuIiwgImltcG9ydCB7IGhhc1RyYW5zZm9ybSB9IGZyb20gJy4uL3V0aWxzL2hhcy10cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IG1peE51bWJlciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9taXgvbnVtYmVyLm1qcyc7XG5cbi8qKlxuICogU2NhbGVzIGEgcG9pbnQgYmFzZWQgb24gYSBmYWN0b3IgYW5kIGFuIG9yaWdpblBvaW50XG4gKi9cbmZ1bmN0aW9uIHNjYWxlUG9pbnQocG9pbnQsIHNjYWxlLCBvcmlnaW5Qb2ludCkge1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbU9yaWdpbiA9IHBvaW50IC0gb3JpZ2luUG9pbnQ7XG4gICAgY29uc3Qgc2NhbGVkID0gc2NhbGUgKiBkaXN0YW5jZUZyb21PcmlnaW47XG4gICAgcmV0dXJuIG9yaWdpblBvaW50ICsgc2NhbGVkO1xufVxuLyoqXG4gKiBBcHBsaWVzIGEgdHJhbnNsYXRlL3NjYWxlIGRlbHRhIHRvIGEgcG9pbnRcbiAqL1xuZnVuY3Rpb24gYXBwbHlQb2ludERlbHRhKHBvaW50LCB0cmFuc2xhdGUsIHNjYWxlLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpIHtcbiAgICBpZiAoYm94U2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2ludCA9IHNjYWxlUG9pbnQocG9pbnQsIGJveFNjYWxlLCBvcmlnaW5Qb2ludCk7XG4gICAgfVxuICAgIHJldHVybiBzY2FsZVBvaW50KHBvaW50LCBzY2FsZSwgb3JpZ2luUG9pbnQpICsgdHJhbnNsYXRlO1xufVxuLyoqXG4gKiBBcHBsaWVzIGEgdHJhbnNsYXRlL3NjYWxlIGRlbHRhIHRvIGFuIGF4aXNcbiAqL1xuZnVuY3Rpb24gYXBwbHlBeGlzRGVsdGEoYXhpcywgdHJhbnNsYXRlID0gMCwgc2NhbGUgPSAxLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpIHtcbiAgICBheGlzLm1pbiA9IGFwcGx5UG9pbnREZWx0YShheGlzLm1pbiwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKTtcbiAgICBheGlzLm1heCA9IGFwcGx5UG9pbnREZWx0YShheGlzLm1heCwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKTtcbn1cbi8qKlxuICogQXBwbGllcyBhIHRyYW5zbGF0ZS9zY2FsZSBkZWx0YSB0byBhIGJveFxuICovXG5mdW5jdGlvbiBhcHBseUJveERlbHRhKGJveCwgeyB4LCB5IH0pIHtcbiAgICBhcHBseUF4aXNEZWx0YShib3gueCwgeC50cmFuc2xhdGUsIHguc2NhbGUsIHgub3JpZ2luUG9pbnQpO1xuICAgIGFwcGx5QXhpc0RlbHRhKGJveC55LCB5LnRyYW5zbGF0ZSwgeS5zY2FsZSwgeS5vcmlnaW5Qb2ludCk7XG59XG5jb25zdCBUUkVFX1NDQUxFX1NOQVBfTUlOID0gMC45OTk5OTk5OTk5OTk7XG5jb25zdCBUUkVFX1NDQUxFX1NOQVBfTUFYID0gMS4wMDAwMDAwMDAwMDAxO1xuLyoqXG4gKiBBcHBseSBhIHRyZWUgb2YgZGVsdGFzIHRvIGEgYm94LiBXZSBkbyB0aGlzIHRvIGNhbGN1bGF0ZSB0aGUgZWZmZWN0IG9mIGFsbCB0aGUgdHJhbnNmb3Jtc1xuICogaW4gYSB0cmVlIHVwb24gb3VyIGJveCBiZWZvcmUgdGhlbiBjYWxjdWxhdGluZyBob3cgdG8gcHJvamVjdCBpdCBpbnRvIG91ciBkZXNpcmVkIHZpZXdwb3J0LXJlbGF0aXZlIGJveFxuICpcbiAqIFRoaXMgaXMgdGhlIGZpbmFsIG5lc3RlZCBsb29wIHdpdGhpbiB1cGRhdGVMYXlvdXREZWx0YSBmb3IgZnV0dXJlIHJlZmFjdG9yaW5nXG4gKi9cbmZ1bmN0aW9uIGFwcGx5VHJlZURlbHRhcyhib3gsIHRyZWVTY2FsZSwgdHJlZVBhdGgsIGlzU2hhcmVkVHJhbnNpdGlvbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgdHJlZUxlbmd0aCA9IHRyZWVQYXRoLmxlbmd0aDtcbiAgICBpZiAoIXRyZWVMZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBSZXNldCB0aGUgdHJlZVNjYWxlXG4gICAgdHJlZVNjYWxlLnggPSB0cmVlU2NhbGUueSA9IDE7XG4gICAgbGV0IG5vZGU7XG4gICAgbGV0IGRlbHRhO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5vZGUgPSB0cmVlUGF0aFtpXTtcbiAgICAgICAgZGVsdGEgPSBub2RlLnByb2plY3Rpb25EZWx0YTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRPRE86IFByZWZlciB0byByZW1vdmUgdGhpcywgYnV0IGN1cnJlbnRseSB3ZSBoYXZlIG1vdGlvbiBjb21wb25lbnRzIHdpdGhcbiAgICAgICAgICogZGlzcGxheTogY29udGVudHMgaW4gRnJhbWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50IH0gPSBub2RlLm9wdGlvbnM7XG4gICAgICAgIGlmICh2aXN1YWxFbGVtZW50ICYmXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LnByb3BzLnN0eWxlICYmXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LnByb3BzLnN0eWxlLmRpc3BsYXkgPT09IFwiY29udGVudHNcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU2hhcmVkVHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgbm9kZS5vcHRpb25zLmxheW91dFNjcm9sbCAmJlxuICAgICAgICAgICAgbm9kZS5zY3JvbGwgJiZcbiAgICAgICAgICAgIG5vZGUgIT09IG5vZGUucm9vdCkge1xuICAgICAgICAgICAgdHJhbnNmb3JtQm94KGJveCwge1xuICAgICAgICAgICAgICAgIHg6IC1ub2RlLnNjcm9sbC5vZmZzZXQueCxcbiAgICAgICAgICAgICAgICB5OiAtbm9kZS5zY3JvbGwub2Zmc2V0LnksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgICAgIC8vIEluY29wb3JhdGUgZWFjaCBhbmNlc3RvcidzIHNjYWxlIGludG8gYSBjdWxtdWxhdGl2ZSB0cmVlU2NhbGUgZm9yIHRoaXMgY29tcG9uZW50XG4gICAgICAgICAgICB0cmVlU2NhbGUueCAqPSBkZWx0YS54LnNjYWxlO1xuICAgICAgICAgICAgdHJlZVNjYWxlLnkgKj0gZGVsdGEueS5zY2FsZTtcbiAgICAgICAgICAgIC8vIEFwcGx5IGVhY2ggYW5jZXN0b3IncyBjYWxjdWxhdGVkIGRlbHRhIGludG8gdGhpcyBjb21wb25lbnQncyByZWNvcmRlZCBsYXlvdXQgYm94XG4gICAgICAgICAgICBhcHBseUJveERlbHRhKGJveCwgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1NoYXJlZFRyYW5zaXRpb24gJiYgaGFzVHJhbnNmb3JtKG5vZGUubGF0ZXN0VmFsdWVzKSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtQm94KGJveCwgbm9kZS5sYXRlc3RWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNuYXAgdHJlZSBzY2FsZSBiYWNrIHRvIDEgaWYgaXQncyB3aXRoaW4gYSBub24tcGVyY2VpdmFibGUgdGhyZXNob2xkLlxuICAgICAqIFRoaXMgd2lsbCBoZWxwIHJlZHVjZSB1c2VsZXNzIHNjYWxlcyBnZXR0aW5nIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIGlmICh0cmVlU2NhbGUueCA8IFRSRUVfU0NBTEVfU05BUF9NQVggJiZcbiAgICAgICAgdHJlZVNjYWxlLnggPiBUUkVFX1NDQUxFX1NOQVBfTUlOKSB7XG4gICAgICAgIHRyZWVTY2FsZS54ID0gMS4wO1xuICAgIH1cbiAgICBpZiAodHJlZVNjYWxlLnkgPCBUUkVFX1NDQUxFX1NOQVBfTUFYICYmXG4gICAgICAgIHRyZWVTY2FsZS55ID4gVFJFRV9TQ0FMRV9TTkFQX01JTikge1xuICAgICAgICB0cmVlU2NhbGUueSA9IDEuMDtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2xhdGVBeGlzKGF4aXMsIGRpc3RhbmNlKSB7XG4gICAgYXhpcy5taW4gPSBheGlzLm1pbiArIGRpc3RhbmNlO1xuICAgIGF4aXMubWF4ID0gYXhpcy5tYXggKyBkaXN0YW5jZTtcbn1cbi8qKlxuICogQXBwbHkgYSB0cmFuc2Zvcm0gdG8gYW4gYXhpcyBmcm9tIHRoZSBsYXRlc3QgcmVzb2x2ZWQgbW90aW9uIHZhbHVlcy5cbiAqIFRoaXMgZnVuY3Rpb24gYmFzaWNhbGx5IGFjdHMgYXMgYSBicmlkZ2UgYmV0d2VlbiBhIGZsYXQgbW90aW9uIHZhbHVlIG1hcFxuICogYW5kIGFwcGx5QXhpc0RlbHRhXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybUF4aXMoYXhpcywgYXhpc1RyYW5zbGF0ZSwgYXhpc1NjYWxlLCBib3hTY2FsZSwgYXhpc09yaWdpbiA9IDAuNSkge1xuICAgIGNvbnN0IG9yaWdpblBvaW50ID0gbWl4TnVtYmVyKGF4aXMubWluLCBheGlzLm1heCwgYXhpc09yaWdpbik7XG4gICAgLy8gQXBwbHkgdGhlIGF4aXMgZGVsdGEgdG8gdGhlIGZpbmFsIGF4aXNcbiAgICBhcHBseUF4aXNEZWx0YShheGlzLCBheGlzVHJhbnNsYXRlLCBheGlzU2NhbGUsIG9yaWdpblBvaW50LCBib3hTY2FsZSk7XG59XG4vKipcbiAqIEFwcGx5IGEgdHJhbnNmb3JtIHRvIGEgYm94IGZyb20gdGhlIGxhdGVzdCByZXNvbHZlZCBtb3Rpb24gdmFsdWVzLlxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1Cb3goYm94LCB0cmFuc2Zvcm0pIHtcbiAgICB0cmFuc2Zvcm1BeGlzKGJveC54LCB0cmFuc2Zvcm0ueCwgdHJhbnNmb3JtLnNjYWxlWCwgdHJhbnNmb3JtLnNjYWxlLCB0cmFuc2Zvcm0ub3JpZ2luWCk7XG4gICAgdHJhbnNmb3JtQXhpcyhib3gueSwgdHJhbnNmb3JtLnksIHRyYW5zZm9ybS5zY2FsZVksIHRyYW5zZm9ybS5zY2FsZSwgdHJhbnNmb3JtLm9yaWdpblkpO1xufVxuXG5leHBvcnQgeyBhcHBseUF4aXNEZWx0YSwgYXBwbHlCb3hEZWx0YSwgYXBwbHlQb2ludERlbHRhLCBhcHBseVRyZWVEZWx0YXMsIHNjYWxlUG9pbnQsIHRyYW5zZm9ybUF4aXMsIHRyYW5zZm9ybUJveCwgdHJhbnNsYXRlQXhpcyB9O1xuIiwgImZ1bmN0aW9uIGlzSWRlbnRpdHlTY2FsZShzY2FsZSkge1xuICAgIHJldHVybiBzY2FsZSA9PT0gdW5kZWZpbmVkIHx8IHNjYWxlID09PSAxO1xufVxuZnVuY3Rpb24gaGFzU2NhbGUoeyBzY2FsZSwgc2NhbGVYLCBzY2FsZVkgfSkge1xuICAgIHJldHVybiAoIWlzSWRlbnRpdHlTY2FsZShzY2FsZSkgfHxcbiAgICAgICAgIWlzSWRlbnRpdHlTY2FsZShzY2FsZVgpIHx8XG4gICAgICAgICFpc0lkZW50aXR5U2NhbGUoc2NhbGVZKSk7XG59XG5mdW5jdGlvbiBoYXNUcmFuc2Zvcm0odmFsdWVzKSB7XG4gICAgcmV0dXJuIChoYXNTY2FsZSh2YWx1ZXMpIHx8XG4gICAgICAgIGhhczJEVHJhbnNsYXRlKHZhbHVlcykgfHxcbiAgICAgICAgdmFsdWVzLnogfHxcbiAgICAgICAgdmFsdWVzLnJvdGF0ZSB8fFxuICAgICAgICB2YWx1ZXMucm90YXRlWCB8fFxuICAgICAgICB2YWx1ZXMucm90YXRlWSB8fFxuICAgICAgICB2YWx1ZXMuc2tld1ggfHxcbiAgICAgICAgdmFsdWVzLnNrZXdZKTtcbn1cbmZ1bmN0aW9uIGhhczJEVHJhbnNsYXRlKHZhbHVlcykge1xuICAgIHJldHVybiBpczJEVHJhbnNsYXRlKHZhbHVlcy54KSB8fCBpczJEVHJhbnNsYXRlKHZhbHVlcy55KTtcbn1cbmZ1bmN0aW9uIGlzMkRUcmFuc2xhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUgIT09IFwiMCVcIjtcbn1cblxuZXhwb3J0IHsgaGFzMkRUcmFuc2xhdGUsIGhhc1NjYWxlLCBoYXNUcmFuc2Zvcm0gfTtcbiIsICIvLyBGaXhlcyBodHRwczovL2dpdGh1Yi5jb20vbW90aW9uZGl2aXNpb24vbW90aW9uL2lzc3Vlcy8yMjcwXG5jb25zdCBnZXRDb250ZXh0V2luZG93ID0gKHsgY3VycmVudCB9KSA9PiB7XG4gICAgcmV0dXJuIGN1cnJlbnQgPyBjdXJyZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBudWxsO1xufTtcblxuZXhwb3J0IHsgZ2V0Q29udGV4dFdpbmRvdyB9O1xuIiwgImltcG9ydCB7IGFkZFBvaW50ZXJFdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy9hZGQtcG9pbnRlci1ldmVudC5tanMnO1xuaW1wb3J0IHsgZXh0cmFjdEV2ZW50SW5mbyB9IGZyb20gJy4uLy4uL2V2ZW50cy9ldmVudC1pbmZvLm1qcyc7XG5pbXBvcnQgeyBkaXN0YW5jZTJEIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGlzdGFuY2UubWpzJztcbmltcG9ydCB7IGZyYW1lLCBjYW5jZWxGcmFtZSwgZnJhbWVEYXRhIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuaW1wb3J0IHsgaXNQcmltYXJ5UG9pbnRlciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9nZXN0dXJlcy91dGlscy9pcy1wcmltYXJ5LXBvaW50ZXIubWpzJztcbmltcG9ydCB7IHBpcGUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9waXBlLm1qcyc7XG5pbXBvcnQgeyBzZWNvbmRzVG9NaWxsaXNlY29uZHMsIG1pbGxpc2Vjb25kc1RvU2Vjb25kcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jbGFzcyBQYW5TZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihldmVudCwgaGFuZGxlcnMsIHsgdHJhbnNmb3JtUGFnZVBvaW50LCBjb250ZXh0V2luZG93LCBkcmFnU25hcFRvT3JpZ2luID0gZmFsc2UsIH0gPSB7fSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0RXZlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RNb3ZlRXZlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RNb3ZlRXZlbnRJbmZvID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHRXaW5kb3cgPSB3aW5kb3c7XG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLmxhc3RNb3ZlRXZlbnQgJiYgdGhpcy5sYXN0TW92ZUV2ZW50SW5mbykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGdldFBhbkluZm8odGhpcy5sYXN0TW92ZUV2ZW50SW5mbywgdGhpcy5oaXN0b3J5KTtcbiAgICAgICAgICAgIGNvbnN0IGlzUGFuU3RhcnRlZCA9IHRoaXMuc3RhcnRFdmVudCAhPT0gbnVsbDtcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhcnQgcGFubmluZyBpZiB0aGUgb2Zmc2V0IGlzIGxhcmdlciB0aGFuIDMgcGl4ZWxzLiBJZiB3ZSBtYWtlIGl0XG4gICAgICAgICAgICAvLyBhbnkgbGFyZ2VyIHRoYW4gdGhpcyB3ZSdsbCB3YW50IHRvIHJlc2V0IHRoZSBwb2ludGVyIGhpc3RvcnlcbiAgICAgICAgICAgIC8vIG9uIHRoZSBmaXJzdCB1cGRhdGUgdG8gYXZvaWQgdmlzdWFsIHNuYXBwaW5nIHRvIHRoZSBjdXJzb2UuXG4gICAgICAgICAgICBjb25zdCBpc0Rpc3RhbmNlUGFzdFRocmVzaG9sZCA9IGRpc3RhbmNlMkQoaW5mby5vZmZzZXQsIHsgeDogMCwgeTogMCB9KSA+PSAzO1xuICAgICAgICAgICAgaWYgKCFpc1BhblN0YXJ0ZWQgJiYgIWlzRGlzdGFuY2VQYXN0VGhyZXNob2xkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgcG9pbnQgfSA9IGluZm87XG4gICAgICAgICAgICBjb25zdCB7IHRpbWVzdGFtcCB9ID0gZnJhbWVEYXRhO1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goeyAuLi5wb2ludCwgdGltZXN0YW1wIH0pO1xuICAgICAgICAgICAgY29uc3QgeyBvblN0YXJ0LCBvbk1vdmUgfSA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgICAgICBpZiAoIWlzUGFuU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIG9uU3RhcnQgJiYgb25TdGFydCh0aGlzLmxhc3RNb3ZlRXZlbnQsIGluZm8pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRFdmVudCA9IHRoaXMubGFzdE1vdmVFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uTW92ZSAmJiBvbk1vdmUodGhpcy5sYXN0TW92ZUV2ZW50LCBpbmZvKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyTW92ZSA9IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZUV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICB0aGlzLmxhc3RNb3ZlRXZlbnRJbmZvID0gdHJhbnNmb3JtUG9pbnQoaW5mbywgdGhpcy50cmFuc2Zvcm1QYWdlUG9pbnQpO1xuICAgICAgICAgICAgLy8gVGhyb3R0bGUgbW91c2UgbW92ZSBldmVudCB0byBvbmNlIHBlciBmcmFtZVxuICAgICAgICAgICAgZnJhbWUudXBkYXRlKHRoaXMudXBkYXRlUG9pbnQsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJVcCA9IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbmQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgb25FbmQsIG9uU2Vzc2lvbkVuZCwgcmVzdW1lQW5pbWF0aW9uIH0gPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ1NuYXBUb09yaWdpbilcbiAgICAgICAgICAgICAgICByZXN1bWVBbmltYXRpb24gJiYgcmVzdW1lQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBpZiAoISh0aGlzLmxhc3RNb3ZlRXZlbnQgJiYgdGhpcy5sYXN0TW92ZUV2ZW50SW5mbykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcGFuSW5mbyA9IGdldFBhbkluZm8oZXZlbnQudHlwZSA9PT0gXCJwb2ludGVyY2FuY2VsXCJcbiAgICAgICAgICAgICAgICA/IHRoaXMubGFzdE1vdmVFdmVudEluZm9cbiAgICAgICAgICAgICAgICA6IHRyYW5zZm9ybVBvaW50KGluZm8sIHRoaXMudHJhbnNmb3JtUGFnZVBvaW50KSwgdGhpcy5oaXN0b3J5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0RXZlbnQgJiYgb25FbmQpIHtcbiAgICAgICAgICAgICAgICBvbkVuZChldmVudCwgcGFuSW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblNlc3Npb25FbmQgJiYgb25TZXNzaW9uRW5kKGV2ZW50LCBwYW5JbmZvKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBtb3JlIHRoYW4gb25lIHRvdWNoLCBkb24ndCBzdGFydCBkZXRlY3RpbmcgdGhpcyBnZXN0dXJlXG4gICAgICAgIGlmICghaXNQcmltYXJ5UG9pbnRlcihldmVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuZHJhZ1NuYXBUb09yaWdpbiA9IGRyYWdTbmFwVG9PcmlnaW47XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVycztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1QYWdlUG9pbnQgPSB0cmFuc2Zvcm1QYWdlUG9pbnQ7XG4gICAgICAgIHRoaXMuY29udGV4dFdpbmRvdyA9IGNvbnRleHRXaW5kb3cgfHwgd2luZG93O1xuICAgICAgICBjb25zdCBpbmZvID0gZXh0cmFjdEV2ZW50SW5mbyhldmVudCk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxJbmZvID0gdHJhbnNmb3JtUG9pbnQoaW5mbywgdGhpcy50cmFuc2Zvcm1QYWdlUG9pbnQpO1xuICAgICAgICBjb25zdCB7IHBvaW50IH0gPSBpbml0aWFsSW5mbztcbiAgICAgICAgY29uc3QgeyB0aW1lc3RhbXAgfSA9IGZyYW1lRGF0YTtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gW3sgLi4ucG9pbnQsIHRpbWVzdGFtcCB9XTtcbiAgICAgICAgY29uc3QgeyBvblNlc3Npb25TdGFydCB9ID0gaGFuZGxlcnM7XG4gICAgICAgIG9uU2Vzc2lvblN0YXJ0ICYmXG4gICAgICAgICAgICBvblNlc3Npb25TdGFydChldmVudCwgZ2V0UGFuSW5mbyhpbml0aWFsSW5mbywgdGhpcy5oaXN0b3J5KSk7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzID0gcGlwZShhZGRQb2ludGVyRXZlbnQodGhpcy5jb250ZXh0V2luZG93LCBcInBvaW50ZXJtb3ZlXCIsIHRoaXMuaGFuZGxlUG9pbnRlck1vdmUpLCBhZGRQb2ludGVyRXZlbnQodGhpcy5jb250ZXh0V2luZG93LCBcInBvaW50ZXJ1cFwiLCB0aGlzLmhhbmRsZVBvaW50ZXJVcCksIGFkZFBvaW50ZXJFdmVudCh0aGlzLmNvbnRleHRXaW5kb3csIFwicG9pbnRlcmNhbmNlbFwiLCB0aGlzLmhhbmRsZVBvaW50ZXJVcCkpO1xuICAgIH1cbiAgICB1cGRhdGVIYW5kbGVycyhoYW5kbGVycykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgfVxuICAgIGVuZCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMgJiYgdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgY2FuY2VsRnJhbWUodGhpcy51cGRhdGVQb2ludCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnQoaW5mbywgdHJhbnNmb3JtUGFnZVBvaW50KSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybVBhZ2VQb2ludCA/IHsgcG9pbnQ6IHRyYW5zZm9ybVBhZ2VQb2ludChpbmZvLnBvaW50KSB9IDogaW5mbztcbn1cbmZ1bmN0aW9uIHN1YnRyYWN0UG9pbnQoYSwgYikge1xuICAgIHJldHVybiB7IHg6IGEueCAtIGIueCwgeTogYS55IC0gYi55IH07XG59XG5mdW5jdGlvbiBnZXRQYW5JbmZvKHsgcG9pbnQgfSwgaGlzdG9yeSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50LFxuICAgICAgICBkZWx0YTogc3VidHJhY3RQb2ludChwb2ludCwgbGFzdERldmljZVBvaW50KGhpc3RvcnkpKSxcbiAgICAgICAgb2Zmc2V0OiBzdWJ0cmFjdFBvaW50KHBvaW50LCBzdGFydERldmljZVBvaW50KGhpc3RvcnkpKSxcbiAgICAgICAgdmVsb2NpdHk6IGdldFZlbG9jaXR5KGhpc3RvcnksIDAuMSksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0YXJ0RGV2aWNlUG9pbnQoaGlzdG9yeSkge1xuICAgIHJldHVybiBoaXN0b3J5WzBdO1xufVxuZnVuY3Rpb24gbGFzdERldmljZVBvaW50KGhpc3RvcnkpIHtcbiAgICByZXR1cm4gaGlzdG9yeVtoaXN0b3J5Lmxlbmd0aCAtIDFdO1xufVxuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoaGlzdG9yeSwgdGltZURlbHRhKSB7XG4gICAgaWYgKGhpc3RvcnkubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG4gICAgfVxuICAgIGxldCBpID0gaGlzdG9yeS5sZW5ndGggLSAxO1xuICAgIGxldCB0aW1lc3RhbXBlZFBvaW50ID0gbnVsbDtcbiAgICBjb25zdCBsYXN0UG9pbnQgPSBsYXN0RGV2aWNlUG9pbnQoaGlzdG9yeSk7XG4gICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgICB0aW1lc3RhbXBlZFBvaW50ID0gaGlzdG9yeVtpXTtcbiAgICAgICAgaWYgKGxhc3RQb2ludC50aW1lc3RhbXAgLSB0aW1lc3RhbXBlZFBvaW50LnRpbWVzdGFtcCA+XG4gICAgICAgICAgICBzZWNvbmRzVG9NaWxsaXNlY29uZHModGltZURlbHRhKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaS0tO1xuICAgIH1cbiAgICBpZiAoIXRpbWVzdGFtcGVkUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xuICAgIH1cbiAgICBjb25zdCB0aW1lID0gbWlsbGlzZWNvbmRzVG9TZWNvbmRzKGxhc3RQb2ludC50aW1lc3RhbXAgLSB0aW1lc3RhbXBlZFBvaW50LnRpbWVzdGFtcCk7XG4gICAgaWYgKHRpbWUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VmVsb2NpdHkgPSB7XG4gICAgICAgIHg6IChsYXN0UG9pbnQueCAtIHRpbWVzdGFtcGVkUG9pbnQueCkgLyB0aW1lLFxuICAgICAgICB5OiAobGFzdFBvaW50LnkgLSB0aW1lc3RhbXBlZFBvaW50LnkpIC8gdGltZSxcbiAgICB9O1xuICAgIGlmIChjdXJyZW50VmVsb2NpdHkueCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgY3VycmVudFZlbG9jaXR5LnggPSAwO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFZlbG9jaXR5LnkgPT09IEluZmluaXR5KSB7XG4gICAgICAgIGN1cnJlbnRWZWxvY2l0eS55ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRWZWxvY2l0eTtcbn1cblxuZXhwb3J0IHsgUGFuU2Vzc2lvbiB9O1xuIiwgImNvbnN0IGRpc3RhbmNlID0gKGEsIGIpID0+IE1hdGguYWJzKGEgLSBiKTtcbmZ1bmN0aW9uIGRpc3RhbmNlMkQoYSwgYikge1xuICAgIC8vIE11bHRpLWRpbWVuc2lvbmFsXG4gICAgY29uc3QgeERlbHRhID0gZGlzdGFuY2UoYS54LCBiLngpO1xuICAgIGNvbnN0IHlEZWx0YSA9IGRpc3RhbmNlKGEueSwgYi55KTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHhEZWx0YSAqKiAyICsgeURlbHRhICoqIDIpO1xufVxuXG5leHBvcnQgeyBkaXN0YW5jZSwgZGlzdGFuY2UyRCB9O1xuIiwgImltcG9ydCB7IGNhbGNMZW5ndGggfSBmcm9tICcuLi8uLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLWNhbGMubWpzJztcbmltcG9ydCB7IG1peE51bWJlciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy91dGlscy9taXgvbnVtYmVyLm1qcyc7XG5pbXBvcnQgeyBwcm9ncmVzcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3Byb2dyZXNzLm1qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2NsYW1wLm1qcyc7XG5cbi8qKlxuICogQXBwbHkgY29uc3RyYWludHMgdG8gYSBwb2ludC4gVGhlc2UgY29uc3RyYWludHMgYXJlIGJvdGggcGh5c2ljYWwgYWxvbmcgYW5cbiAqIGF4aXMsIGFuZCBhbiBlbGFzdGljIGZhY3RvciB0aGF0IGRldGVybWluZXMgaG93IG11Y2ggdG8gY29uc3RyYWluIHRoZSBwb2ludFxuICogYnkgaWYgaXQgZG9lcyBsaWUgb3V0c2lkZSB0aGUgZGVmaW5lZCBwYXJhbWV0ZXJzLlxuICovXG5mdW5jdGlvbiBhcHBseUNvbnN0cmFpbnRzKHBvaW50LCB7IG1pbiwgbWF4IH0sIGVsYXN0aWMpIHtcbiAgICBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgcG9pbnQgPCBtaW4pIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG1pbiBwb2ludCBkZWZpbmVkLCBhbmQgdGhpcyBpcyBvdXRzaWRlIG9mIHRoYXQsIGNvbnN0cmFpblxuICAgICAgICBwb2ludCA9IGVsYXN0aWNcbiAgICAgICAgICAgID8gbWl4TnVtYmVyKG1pbiwgcG9pbnQsIGVsYXN0aWMubWluKVxuICAgICAgICAgICAgOiBNYXRoLm1heChwb2ludCwgbWluKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWF4ICE9PSB1bmRlZmluZWQgJiYgcG9pbnQgPiBtYXgpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG1heCBwb2ludCBkZWZpbmVkLCBhbmQgdGhpcyBpcyBvdXRzaWRlIG9mIHRoYXQsIGNvbnN0cmFpblxuICAgICAgICBwb2ludCA9IGVsYXN0aWNcbiAgICAgICAgICAgID8gbWl4TnVtYmVyKG1heCwgcG9pbnQsIGVsYXN0aWMubWF4KVxuICAgICAgICAgICAgOiBNYXRoLm1pbihwb2ludCwgbWF4KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgY29uc3RyYWludHMgaW4gdGVybXMgb2YgdGhlIHZpZXdwb3J0IHdoZW4gZGVmaW5lZCByZWxhdGl2ZWx5IHRvIHRoZVxuICogbWVhc3VyZWQgYXhpcy4gVGhpcyBpcyBtZWFzdXJlZCBmcm9tIHRoZSBuZWFyZXN0IGVkZ2UsIHNvIGEgbWF4IGNvbnN0cmFpbnQgb2YgMjAwXG4gKiBvbiBhbiBheGlzIHdpdGggYSBtYXggdmFsdWUgb2YgMzAwIHdvdWxkIHJldHVybiBhIGNvbnN0cmFpbnQgb2YgNTAwIC0gYXhpcyBsZW5ndGhcbiAqL1xuZnVuY3Rpb24gY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzKGF4aXMsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWluOiBtaW4gIT09IHVuZGVmaW5lZCA/IGF4aXMubWluICsgbWluIDogdW5kZWZpbmVkLFxuICAgICAgICBtYXg6IG1heCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGF4aXMubWF4ICsgbWF4IC0gKGF4aXMubWF4IC0gYXhpcy5taW4pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgY29uc3RyYWludHMgaW4gdGVybXMgb2YgdGhlIHZpZXdwb3J0IHdoZW5cbiAqIGRlZmluZWQgcmVsYXRpdmVseSB0byB0aGUgbWVhc3VyZWQgYm91bmRpbmcgYm94LlxuICovXG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVDb25zdHJhaW50cyhsYXlvdXRCb3gsIHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBjYWxjUmVsYXRpdmVBeGlzQ29uc3RyYWludHMobGF5b3V0Qm94LngsIGxlZnQsIHJpZ2h0KSxcbiAgICAgICAgeTogY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzKGxheW91dEJveC55LCB0b3AsIGJvdHRvbSksXG4gICAgfTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHZpZXdwb3J0IGNvbnN0cmFpbnRzIHdoZW4gZGVmaW5lZCBhcyBhbm90aGVyIHZpZXdwb3J0LXJlbGF0aXZlIGF4aXNcbiAqL1xuZnVuY3Rpb24gY2FsY1ZpZXdwb3J0QXhpc0NvbnN0cmFpbnRzKGxheW91dEF4aXMsIGNvbnN0cmFpbnRzQXhpcykge1xuICAgIGxldCBtaW4gPSBjb25zdHJhaW50c0F4aXMubWluIC0gbGF5b3V0QXhpcy5taW47XG4gICAgbGV0IG1heCA9IGNvbnN0cmFpbnRzQXhpcy5tYXggLSBsYXlvdXRBeGlzLm1heDtcbiAgICAvLyBJZiB0aGUgY29uc3RyYWludHMgYXhpcyBpcyBhY3R1YWxseSBzbWFsbGVyIHRoYW4gdGhlIGxheW91dCBheGlzIHRoZW4gd2UgY2FuXG4gICAgLy8gZmxpcCB0aGUgY29uc3RyYWludHNcbiAgICBpZiAoY29uc3RyYWludHNBeGlzLm1heCAtIGNvbnN0cmFpbnRzQXhpcy5taW4gPFxuICAgICAgICBsYXlvdXRBeGlzLm1heCAtIGxheW91dEF4aXMubWluKSB7XG4gICAgICAgIFttaW4sIG1heF0gPSBbbWF4LCBtaW5dO1xuICAgIH1cbiAgICByZXR1cm4geyBtaW4sIG1heCB9O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdmlld3BvcnQgY29uc3RyYWludHMgd2hlbiBkZWZpbmVkIGFzIGFub3RoZXIgdmlld3BvcnQtcmVsYXRpdmUgYm94XG4gKi9cbmZ1bmN0aW9uIGNhbGNWaWV3cG9ydENvbnN0cmFpbnRzKGxheW91dEJveCwgY29uc3RyYWludHNCb3gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBjYWxjVmlld3BvcnRBeGlzQ29uc3RyYWludHMobGF5b3V0Qm94LngsIGNvbnN0cmFpbnRzQm94LngpLFxuICAgICAgICB5OiBjYWxjVmlld3BvcnRBeGlzQ29uc3RyYWludHMobGF5b3V0Qm94LnksIGNvbnN0cmFpbnRzQm94LnkpLFxuICAgIH07XG59XG4vKipcbiAqIENhbGN1bGF0ZSBhIHRyYW5zZm9ybSBvcmlnaW4gcmVsYXRpdmUgdG8gdGhlIHNvdXJjZSBheGlzLCBiZXR3ZWVuIDAtMSwgdGhhdCByZXN1bHRzXG4gKiBpbiBhbiBhc3RoZXRpY2FsbHkgcGxlYXNpbmcgc2NhbGUvdHJhbnNmb3JtIG5lZWRlZCB0byBwcm9qZWN0IGZyb20gc291cmNlIHRvIHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gY2FsY09yaWdpbihzb3VyY2UsIHRhcmdldCkge1xuICAgIGxldCBvcmlnaW4gPSAwLjU7XG4gICAgY29uc3Qgc291cmNlTGVuZ3RoID0gY2FsY0xlbmd0aChzb3VyY2UpO1xuICAgIGNvbnN0IHRhcmdldExlbmd0aCA9IGNhbGNMZW5ndGgodGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0TGVuZ3RoID4gc291cmNlTGVuZ3RoKSB7XG4gICAgICAgIG9yaWdpbiA9IHByb2dyZXNzKHRhcmdldC5taW4sIHRhcmdldC5tYXggLSBzb3VyY2VMZW5ndGgsIHNvdXJjZS5taW4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzb3VyY2VMZW5ndGggPiB0YXJnZXRMZW5ndGgpIHtcbiAgICAgICAgb3JpZ2luID0gcHJvZ3Jlc3Moc291cmNlLm1pbiwgc291cmNlLm1heCAtIHRhcmdldExlbmd0aCwgdGFyZ2V0Lm1pbik7XG4gICAgfVxuICAgIHJldHVybiBjbGFtcCgwLCAxLCBvcmlnaW4pO1xufVxuLyoqXG4gKiBSZWJhc2UgdGhlIGNhbGN1bGF0ZWQgdmlld3BvcnQgY29uc3RyYWludHMgcmVsYXRpdmUgdG8gdGhlIGxheW91dC5taW4gcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIHJlYmFzZUF4aXNDb25zdHJhaW50cyhsYXlvdXQsIGNvbnN0cmFpbnRzKSB7XG4gICAgY29uc3QgcmVsYXRpdmVDb25zdHJhaW50cyA9IHt9O1xuICAgIGlmIChjb25zdHJhaW50cy5taW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZWxhdGl2ZUNvbnN0cmFpbnRzLm1pbiA9IGNvbnN0cmFpbnRzLm1pbiAtIGxheW91dC5taW47XG4gICAgfVxuICAgIGlmIChjb25zdHJhaW50cy5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZWxhdGl2ZUNvbnN0cmFpbnRzLm1heCA9IGNvbnN0cmFpbnRzLm1heCAtIGxheW91dC5taW47XG4gICAgfVxuICAgIHJldHVybiByZWxhdGl2ZUNvbnN0cmFpbnRzO1xufVxuY29uc3QgZGVmYXVsdEVsYXN0aWMgPSAwLjM1O1xuLyoqXG4gKiBBY2NlcHRzIGEgZHJhZ0VsYXN0aWMgcHJvcCBhbmQgcmV0dXJucyByZXNvbHZlZCBlbGFzdGljIHZhbHVlcyBmb3IgZWFjaCBheGlzLlxuICovXG5mdW5jdGlvbiByZXNvbHZlRHJhZ0VsYXN0aWMoZHJhZ0VsYXN0aWMgPSBkZWZhdWx0RWxhc3RpYykge1xuICAgIGlmIChkcmFnRWxhc3RpYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgZHJhZ0VsYXN0aWMgPSAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChkcmFnRWxhc3RpYyA9PT0gdHJ1ZSkge1xuICAgICAgICBkcmFnRWxhc3RpYyA9IGRlZmF1bHRFbGFzdGljO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByZXNvbHZlQXhpc0VsYXN0aWMoZHJhZ0VsYXN0aWMsIFwibGVmdFwiLCBcInJpZ2h0XCIpLFxuICAgICAgICB5OiByZXNvbHZlQXhpc0VsYXN0aWMoZHJhZ0VsYXN0aWMsIFwidG9wXCIsIFwiYm90dG9tXCIpLFxuICAgIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQXhpc0VsYXN0aWMoZHJhZ0VsYXN0aWMsIG1pbkxhYmVsLCBtYXhMYWJlbCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogcmVzb2x2ZVBvaW50RWxhc3RpYyhkcmFnRWxhc3RpYywgbWluTGFiZWwpLFxuICAgICAgICBtYXg6IHJlc29sdmVQb2ludEVsYXN0aWMoZHJhZ0VsYXN0aWMsIG1heExhYmVsKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVBvaW50RWxhc3RpYyhkcmFnRWxhc3RpYywgbGFiZWwpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRyYWdFbGFzdGljID09PSBcIm51bWJlclwiXG4gICAgICAgID8gZHJhZ0VsYXN0aWNcbiAgICAgICAgOiBkcmFnRWxhc3RpY1tsYWJlbF0gfHwgMDtcbn1cblxuZXhwb3J0IHsgYXBwbHlDb25zdHJhaW50cywgY2FsY09yaWdpbiwgY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzLCBjYWxjUmVsYXRpdmVDb25zdHJhaW50cywgY2FsY1ZpZXdwb3J0QXhpc0NvbnN0cmFpbnRzLCBjYWxjVmlld3BvcnRDb25zdHJhaW50cywgZGVmYXVsdEVsYXN0aWMsIHJlYmFzZUF4aXNDb25zdHJhaW50cywgcmVzb2x2ZUF4aXNFbGFzdGljLCByZXNvbHZlRHJhZ0VsYXN0aWMsIHJlc29sdmVQb2ludEVsYXN0aWMgfTtcbiIsICJpbXBvcnQgeyBpc0RyYWdnaW5nIH0gZnJvbSAnLi9pcy1hY3RpdmUubWpzJztcblxuZnVuY3Rpb24gc2V0RHJhZ0xvY2soYXhpcykge1xuICAgIGlmIChheGlzID09PSBcInhcIiB8fCBheGlzID09PSBcInlcIikge1xuICAgICAgICBpZiAoaXNEcmFnZ2luZ1theGlzXSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpc0RyYWdnaW5nW2F4aXNdID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXNEcmFnZ2luZ1theGlzXSA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzRHJhZ2dpbmcueCB8fCBpc0RyYWdnaW5nLnkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNEcmFnZ2luZy54ID0gaXNEcmFnZ2luZy55ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXNEcmFnZ2luZy54ID0gaXNEcmFnZ2luZy55ID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBzZXREcmFnTG9jayB9O1xuIiwgImNvbnN0IGlzRHJhZ2dpbmcgPSB7XG4gICAgeDogZmFsc2UsXG4gICAgeTogZmFsc2UsXG59O1xuZnVuY3Rpb24gaXNEcmFnQWN0aXZlKCkge1xuICAgIHJldHVybiBpc0RyYWdnaW5nLnggfHwgaXNEcmFnZ2luZy55O1xufVxuXG5leHBvcnQgeyBpc0RyYWdBY3RpdmUsIGlzRHJhZ2dpbmcgfTtcbiIsICJpbXBvcnQgeyBhZGRQb2ludGVyRXZlbnQgfSBmcm9tICcuLi8uLi9ldmVudHMvYWRkLXBvaW50ZXItZXZlbnQubWpzJztcbmltcG9ydCB7IEZlYXR1cmUgfSBmcm9tICcuLi8uLi9tb3Rpb24vZmVhdHVyZXMvRmVhdHVyZS5tanMnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dFdpbmRvdyB9IGZyb20gJy4uLy4uL3V0aWxzL2dldC1jb250ZXh0LXdpbmRvdy5tanMnO1xuaW1wb3J0IHsgUGFuU2Vzc2lvbiB9IGZyb20gJy4vUGFuU2Vzc2lvbi5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL25vb3AubWpzJztcbmltcG9ydCB7IGZyYW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5jb25zdCBhc3luY0hhbmRsZXIgPSAoaGFuZGxlcikgPT4gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgZnJhbWUucG9zdFJlbmRlcigoKSA9PiBoYW5kbGVyKGV2ZW50LCBpbmZvKSk7XG4gICAgfVxufTtcbmNsYXNzIFBhbkdlc3R1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5yZW1vdmVQb2ludGVyRG93bkxpc3RlbmVyID0gbm9vcDtcbiAgICB9XG4gICAgb25Qb2ludGVyRG93bihwb2ludGVyRG93bkV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG5ldyBQYW5TZXNzaW9uKHBvaW50ZXJEb3duRXZlbnQsIHRoaXMuY3JlYXRlUGFuSGFuZGxlcnMoKSwge1xuICAgICAgICAgICAgdHJhbnNmb3JtUGFnZVBvaW50OiB0aGlzLm5vZGUuZ2V0VHJhbnNmb3JtUGFnZVBvaW50KCksXG4gICAgICAgICAgICBjb250ZXh0V2luZG93OiBnZXRDb250ZXh0V2luZG93KHRoaXMubm9kZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjcmVhdGVQYW5IYW5kbGVycygpIHtcbiAgICAgICAgY29uc3QgeyBvblBhblNlc3Npb25TdGFydCwgb25QYW5TdGFydCwgb25QYW4sIG9uUGFuRW5kIH0gPSB0aGlzLm5vZGUuZ2V0UHJvcHMoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9uU2Vzc2lvblN0YXJ0OiBhc3luY0hhbmRsZXIob25QYW5TZXNzaW9uU3RhcnQpLFxuICAgICAgICAgICAgb25TdGFydDogYXN5bmNIYW5kbGVyKG9uUGFuU3RhcnQpLFxuICAgICAgICAgICAgb25Nb3ZlOiBvblBhbixcbiAgICAgICAgICAgIG9uRW5kOiAoZXZlbnQsIGluZm8pID0+IHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zZXNzaW9uO1xuICAgICAgICAgICAgICAgIGlmIChvblBhbkVuZCkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZS5wb3N0UmVuZGVyKCgpID0+IG9uUGFuRW5kKGV2ZW50LCBpbmZvKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbW91bnQoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUG9pbnRlckRvd25MaXN0ZW5lciA9IGFkZFBvaW50ZXJFdmVudCh0aGlzLm5vZGUuY3VycmVudCwgXCJwb2ludGVyZG93blwiLCAoZXZlbnQpID0+IHRoaXMub25Qb2ludGVyRG93bihldmVudCkpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiAmJiB0aGlzLnNlc3Npb24udXBkYXRlSGFuZGxlcnModGhpcy5jcmVhdGVQYW5IYW5kbGVycygpKTtcbiAgICB9XG4gICAgdW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVQb2ludGVyRG93bkxpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiAmJiB0aGlzLnNlc3Npb24uZW5kKCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBQYW5HZXN0dXJlIH07XG4iLCAiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB1c2VDb250ZXh0LCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VQcmVzZW5jZSB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvQW5pbWF0ZVByZXNlbmNlL3VzZS1wcmVzZW5jZS5tanMnO1xuaW1wb3J0IHsgTGF5b3V0R3JvdXBDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dC9MYXlvdXRHcm91cENvbnRleHQubWpzJztcbmltcG9ydCB7IFN3aXRjaExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQvU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgfSBmcm9tICcuLi8uLi8uLi9wcm9qZWN0aW9uL25vZGUvc3RhdGUubWpzJztcbmltcG9ydCB7IGNvcnJlY3RCb3JkZXJSYWRpdXMgfSBmcm9tICcuLi8uLi8uLi9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1ib3JkZXItcmFkaXVzLm1qcyc7XG5pbXBvcnQgeyBjb3JyZWN0Qm94U2hhZG93IH0gZnJvbSAnLi4vLi4vLi4vcHJvamVjdGlvbi9zdHlsZXMvc2NhbGUtYm94LXNoYWRvdy5tanMnO1xuaW1wb3J0IHsgYWRkU2NhbGVDb3JyZWN0b3IgfSBmcm9tICcuLi8uLi8uLi9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1jb3JyZWN0aW9uLm1qcyc7XG5pbXBvcnQgeyBmcmFtZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3AvZnJhbWUubWpzJztcbmltcG9ydCB7IG1pY3JvdGFzayB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3AvbWljcm90YXNrLm1qcyc7XG5cbmNsYXNzIE1lYXN1cmVMYXlvdXRXaXRoQ29udGV4dCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogVGhpcyBvbmx5IG1vdW50cyBwcm9qZWN0aW9uIG5vZGVzIGZvciBjb21wb25lbnRzIHRoYXRcbiAgICAgKiBuZWVkIG1lYXN1cmluZywgd2UgbWlnaHQgd2FudCB0byBkbyBpdCBmb3IgYWxsIGNvbXBvbmVudHNcbiAgICAgKiBpbiBvcmRlciB0byBpbmNvcnBvcmF0ZSB0cmFuc2Zvcm1zXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHsgdmlzdWFsRWxlbWVudCwgbGF5b3V0R3JvdXAsIHN3aXRjaExheW91dEdyb3VwLCBsYXlvdXRJZCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB2aXN1YWxFbGVtZW50O1xuICAgICAgICBhZGRTY2FsZUNvcnJlY3RvcihkZWZhdWx0U2NhbGVDb3JyZWN0b3JzKTtcbiAgICAgICAgaWYgKHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChsYXlvdXRHcm91cC5ncm91cClcbiAgICAgICAgICAgICAgICBsYXlvdXRHcm91cC5ncm91cC5hZGQocHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAoc3dpdGNoTGF5b3V0R3JvdXAgJiYgc3dpdGNoTGF5b3V0R3JvdXAucmVnaXN0ZXIgJiYgbGF5b3V0SWQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hMYXlvdXRHcm91cC5yZWdpc3Rlcihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3Rpb24ucm9vdC5kaWRVcGRhdGUoKTtcbiAgICAgICAgICAgIHByb2plY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbkNvbXBsZXRlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNhZmVUb1JlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIC4uLnByb2plY3Rpb24ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBvbkV4aXRDb21wbGV0ZTogKCkgPT4gdGhpcy5zYWZlVG9SZW1vdmUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNFdmVyVXBkYXRlZCA9IHRydWU7XG4gICAgfVxuICAgIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBjb25zdCB7IGxheW91dERlcGVuZGVuY3ksIHZpc3VhbEVsZW1lbnQsIGRyYWcsIGlzUHJlc2VudCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHZpc3VhbEVsZW1lbnQucHJvamVjdGlvbjtcbiAgICAgICAgaWYgKCFwcm9qZWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUT0RPOiBXZSB1c2UgdGhpcyBkYXRhIGluIHJlbGVnYXRlIHRvIGRldGVybWluZSB3aGV0aGVyIHRvXG4gICAgICAgICAqIHByb21vdGUgYSBwcmV2aW91cyBlbGVtZW50LiBUaGVyZSdzIG5vIGd1YXJhbnRlZSBpdHMgcHJlc2VuY2UgZGF0YVxuICAgICAgICAgKiB3aWxsIGhhdmUgdXBkYXRlZCBieSB0aGlzIHBvaW50IC0gaWYgYSBidWcgbGlrZSB0aGlzIGFyaXNlcyBpdCB3aWxsXG4gICAgICAgICAqIGhhdmUgdG8gYmUgdGhhdCB3ZSBtYXJrRm9yUmVsZWdhdGlvbiBhbmQgdGhlbiBmaW5kIGEgbmV3IGxlYWQgc29tZSBvdGhlciB3YXksXG4gICAgICAgICAqIHBlcmhhcHMgaW4gZGlkVXBkYXRlXG4gICAgICAgICAqL1xuICAgICAgICBwcm9qZWN0aW9uLmlzUHJlc2VudCA9IGlzUHJlc2VudDtcbiAgICAgICAgaWYgKGRyYWcgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5sYXlvdXREZXBlbmRlbmN5ICE9PSBsYXlvdXREZXBlbmRlbmN5IHx8XG4gICAgICAgICAgICBsYXlvdXREZXBlbmRlbmN5ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5pc1ByZXNlbnQgIT09IGlzUHJlc2VudCkge1xuICAgICAgICAgICAgcHJvamVjdGlvbi53aWxsVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNhZmVUb1JlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2UHJvcHMuaXNQcmVzZW50ICE9PSBpc1ByZXNlbnQpIHtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0aW9uLnByb21vdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFwcm9qZWN0aW9uLnJlbGVnYXRlKCkpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGVyZSdzIGFub3RoZXIgc3RhY2sgbWVtYmVyIHRha2luZyBvdmVyIGZyb20gdGhpcyBvbmUsXG4gICAgICAgICAgICAgICAgICogaXQncyBpbiBjaGFyZ2Ugb2YgdGhlIGV4aXQgYW5pbWF0aW9uIGFuZCB0aGVyZWZvcmUgc2hvdWxkXG4gICAgICAgICAgICAgICAgICogYmUgaW4gY2hhcmdlIG9mIHRoZSBzYWZlIHRvIHJlbW92ZS4gT3RoZXJ3aXNlIHdlIGNhbGwgaXQgaGVyZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmcmFtZS5wb3N0UmVuZGVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBwcm9qZWN0aW9uLmdldFN0YWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhY2sgfHwgIXN0YWNrLm1lbWJlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhZmVUb1JlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB0aGlzLnByb3BzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIGlmIChwcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnJvb3QuZGlkVXBkYXRlKCk7XG4gICAgICAgICAgICBtaWNyb3Rhc2sucG9zdFJlbmRlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9qZWN0aW9uLmN1cnJlbnRBbmltYXRpb24gJiYgcHJvamVjdGlvbi5pc0xlYWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhZmVUb1JlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQsIGxheW91dEdyb3VwLCBzd2l0Y2hMYXlvdXRHcm91cDogcHJvbW90ZUNvbnRleHQsIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7IHByb2plY3Rpb24gfSA9IHZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIGlmIChwcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnNjaGVkdWxlQ2hlY2tBZnRlclVubW91bnQoKTtcbiAgICAgICAgICAgIGlmIChsYXlvdXRHcm91cCAmJiBsYXlvdXRHcm91cC5ncm91cClcbiAgICAgICAgICAgICAgICBsYXlvdXRHcm91cC5ncm91cC5yZW1vdmUocHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAocHJvbW90ZUNvbnRleHQgJiYgcHJvbW90ZUNvbnRleHQuZGVyZWdpc3RlcilcbiAgICAgICAgICAgICAgICBwcm9tb3RlQ29udGV4dC5kZXJlZ2lzdGVyKHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNhZmVUb1JlbW92ZSgpIHtcbiAgICAgICAgY29uc3QgeyBzYWZlVG9SZW1vdmUgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHNhZmVUb1JlbW92ZSAmJiBzYWZlVG9SZW1vdmUoKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBNZWFzdXJlTGF5b3V0KHByb3BzKSB7XG4gICAgY29uc3QgW2lzUHJlc2VudCwgc2FmZVRvUmVtb3ZlXSA9IHVzZVByZXNlbmNlKCk7XG4gICAgY29uc3QgbGF5b3V0R3JvdXAgPSB1c2VDb250ZXh0KExheW91dEdyb3VwQ29udGV4dCk7XG4gICAgcmV0dXJuIChqc3goTWVhc3VyZUxheW91dFdpdGhDb250ZXh0LCB7IC4uLnByb3BzLCBsYXlvdXRHcm91cDogbGF5b3V0R3JvdXAsIHN3aXRjaExheW91dEdyb3VwOiB1c2VDb250ZXh0KFN3aXRjaExheW91dEdyb3VwQ29udGV4dCksIGlzUHJlc2VudDogaXNQcmVzZW50LCBzYWZlVG9SZW1vdmU6IHNhZmVUb1JlbW92ZSB9KSk7XG59XG5jb25zdCBkZWZhdWx0U2NhbGVDb3JyZWN0b3JzID0ge1xuICAgIGJvcmRlclJhZGl1czoge1xuICAgICAgICAuLi5jb3JyZWN0Qm9yZGVyUmFkaXVzLFxuICAgICAgICBhcHBseVRvOiBbXG4gICAgICAgICAgICBcImJvcmRlclRvcExlZnRSYWRpdXNcIixcbiAgICAgICAgICAgIFwiYm9yZGVyVG9wUmlnaHRSYWRpdXNcIixcbiAgICAgICAgICAgIFwiYm9yZGVyQm90dG9tTGVmdFJhZGl1c1wiLFxuICAgICAgICAgICAgXCJib3JkZXJCb3R0b21SaWdodFJhZGl1c1wiLFxuICAgICAgICBdLFxuICAgIH0sXG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1czogY29ycmVjdEJvcmRlclJhZGl1cyxcbiAgICBib3JkZXJUb3BSaWdodFJhZGl1czogY29ycmVjdEJvcmRlclJhZGl1cyxcbiAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiBjb3JyZWN0Qm9yZGVyUmFkaXVzLFxuICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiBjb3JyZWN0Qm9yZGVyUmFkaXVzLFxuICAgIGJveFNoYWRvdzogY29ycmVjdEJveFNoYWRvdyxcbn07XG5cbmV4cG9ydCB7IE1lYXN1cmVMYXlvdXQgfTtcbiIsICIvKipcbiAqIFRoaXMgc2hvdWxkIG9ubHkgZXZlciBiZSBtb2RpZmllZCBvbiB0aGUgY2xpZW50IG90aGVyd2lzZSBpdCdsbFxuICogcGVyc2lzdCB0aHJvdWdoIHNlcnZlciByZXF1ZXN0cy4gSWYgd2UgbmVlZCBpbnN0YW5jZWQgc3RhdGVzIHdlXG4gKiBjb3VsZCBsYXp5LWluaXQgdmlhIHJvb3QuXG4gKi9cbmNvbnN0IGdsb2JhbFByb2plY3Rpb25TdGF0ZSA9IHtcbiAgICAvKipcbiAgICAgKiBHbG9iYWwgZmxhZyBhcyB0byB3aGV0aGVyIHRoZSB0cmVlIGhhcyBhbmltYXRlZCBzaW5jZSB0aGUgbGFzdCB0aW1lXG4gICAgICogd2UgcmVzaXplZCB0aGUgd2luZG93XG4gICAgICovXG4gICAgaGFzQW5pbWF0ZWRTaW5jZVJlc2l6ZTogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBXZSBzZXQgdGhpcyB0byB0cnVlIG9uY2UsIG9uIHRoZSBmaXJzdCB1cGRhdGUuIEFueSBub2RlcyBhZGRlZCB0byB0aGUgdHJlZSBiZXlvbmQgdGhhdFxuICAgICAqIHVwZGF0ZSB3aWxsIGJlIGdpdmVuIGEgYGRhdGEtcHJvamVjdGlvbi1pZGAgYXR0cmlidXRlLlxuICAgICAqL1xuICAgIGhhc0V2ZXJVcGRhdGVkOiBmYWxzZSxcbn07XG5cbmV4cG9ydCB7IGdsb2JhbFByb2plY3Rpb25TdGF0ZSB9O1xuIiwgImltcG9ydCB7IHB4IH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcblxuZnVuY3Rpb24gcGl4ZWxzVG9QZXJjZW50KHBpeGVscywgYXhpcykge1xuICAgIGlmIChheGlzLm1heCA9PT0gYXhpcy5taW4pXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiAocGl4ZWxzIC8gKGF4aXMubWF4IC0gYXhpcy5taW4pKSAqIDEwMDtcbn1cbi8qKlxuICogV2UgYWx3YXlzIGNvcnJlY3QgYm9yZGVyUmFkaXVzIGFzIGEgcGVyY2VudGFnZSByYXRoZXIgdGhhbiBwaXhlbHMgdG8gcmVkdWNlIHBhaW50cy5cbiAqIEZvciBleGFtcGxlLCBpZiB5b3UgYXJlIHByb2plY3RpbmcgYSBib3ggdGhhdCBpcyAxMDBweCB3aWRlIHdpdGggYSAxMHB4IGJvcmRlclJhZGl1c1xuICogaW50byBhIGJveCB0aGF0IGlzIDIwMHB4IHdpZGUgd2l0aCBhIDIwcHggYm9yZGVyUmFkaXVzLCB0aGF0IGlzIGFjdHVhbGx5IGEgMTAlXG4gKiBib3JkZXJSYWRpdXMgaW4gYm90aCBzdGF0ZXMuIElmIHdlIGFuaW1hdGUgYmV0d2VlbiB0aGUgdHdvIGluIHBpeGVscyB0aGF0IHdpbGwgdHJpZ2dlclxuICogYSBwYWludCBlYWNoIHRpbWUuIElmIHdlIGFuaW1hdGUgYmV0d2VlbiB0aGUgdHdvIGluIHBlcmNlbnRhZ2Ugd2UnbGwgYXZvaWQgYSBwYWludC5cbiAqL1xuY29uc3QgY29ycmVjdEJvcmRlclJhZGl1cyA9IHtcbiAgICBjb3JyZWN0OiAobGF0ZXN0LCBub2RlKSA9PiB7XG4gICAgICAgIGlmICghbm9kZS50YXJnZXQpXG4gICAgICAgICAgICByZXR1cm4gbGF0ZXN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgbGF0ZXN0IGlzIGEgc3RyaW5nLCBpZiBpdCdzIGEgcGVyY2VudGFnZSB3ZSBjYW4gcmV0dXJuIGltbWVkaWF0ZWx5IGFzIGl0J3NcbiAgICAgICAgICogZ29pbmcgdG8gYmUgc3RyZXRjaGVkIGFwcHJvcHJpYXRlbHkuIE90aGVyd2lzZSwgaWYgaXQncyBhIHBpeGVsLCBjb252ZXJ0IGl0IHRvIGEgbnVtYmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBsYXRlc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmIChweC50ZXN0KGxhdGVzdCkpIHtcbiAgICAgICAgICAgICAgICBsYXRlc3QgPSBwYXJzZUZsb2F0KGxhdGVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGF0ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBsYXRlc3QgaXMgYSBudW1iZXIsIGl0J3MgYSBwaXhlbCB2YWx1ZS4gV2UgdXNlIHRoZSBjdXJyZW50IHZpZXdwb3J0Qm94IHRvIGNhbGN1bGF0ZSB0aGF0XG4gICAgICAgICAqIHBpeGVsIHZhbHVlIGFzIGEgcGVyY2VudGFnZSBvZiBlYWNoIGF4aXNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHggPSBwaXhlbHNUb1BlcmNlbnQobGF0ZXN0LCBub2RlLnRhcmdldC54KTtcbiAgICAgICAgY29uc3QgeSA9IHBpeGVsc1RvUGVyY2VudChsYXRlc3QsIG5vZGUudGFyZ2V0LnkpO1xuICAgICAgICByZXR1cm4gYCR7eH0lICR7eX0lYDtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgY29ycmVjdEJvcmRlclJhZGl1cywgcGl4ZWxzVG9QZXJjZW50IH07XG4iLCAiaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9jb21wbGV4L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBtaXhOdW1iZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvbWl4L251bWJlci5tanMnO1xuXG5jb25zdCBjb3JyZWN0Qm94U2hhZG93ID0ge1xuICAgIGNvcnJlY3Q6IChsYXRlc3QsIHsgdHJlZVNjYWxlLCBwcm9qZWN0aW9uRGVsdGEgfSkgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGxhdGVzdDtcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gY29tcGxleC5wYXJzZShsYXRlc3QpO1xuICAgICAgICAvLyBUT0RPOiBEb2Vzbid0IHN1cHBvcnQgbXVsdGlwbGUgc2hhZG93c1xuICAgICAgICBpZiAoc2hhZG93Lmxlbmd0aCA+IDUpXG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWw7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gY29tcGxleC5jcmVhdGVUcmFuc2Zvcm1lcihsYXRlc3QpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB0eXBlb2Ygc2hhZG93WzBdICE9PSBcIm51bWJlclwiID8gMSA6IDA7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgb3ZlcmFsbCBjb250ZXh0IHNjYWxlXG4gICAgICAgIGNvbnN0IHhTY2FsZSA9IHByb2plY3Rpb25EZWx0YS54LnNjYWxlICogdHJlZVNjYWxlLng7XG4gICAgICAgIGNvbnN0IHlTY2FsZSA9IHByb2plY3Rpb25EZWx0YS55LnNjYWxlICogdHJlZVNjYWxlLnk7XG4gICAgICAgIHNoYWRvd1swICsgb2Zmc2V0XSAvPSB4U2NhbGU7XG4gICAgICAgIHNoYWRvd1sxICsgb2Zmc2V0XSAvPSB5U2NhbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZGVhbGx5IHdlJ2QgY29ycmVjdCB4IGFuZCB5IHNjYWxlcyBpbmRpdmlkdWFsbHksIGJ1dCBiZWNhdXNlIGJsdXIgYW5kXG4gICAgICAgICAqIHNwcmVhZCBhcHBseSB0byBib3RoIHdlIGhhdmUgdG8gdGFrZSBhIHNjYWxlIGF2ZXJhZ2UgYW5kIGFwcGx5IHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICogV2UgY291bGQgcG90ZW50aWFsbHkgaW1wcm92ZSB0aGUgb3V0Y29tZSBvZiB0aGlzIGJ5IGluY29ycG9yYXRpbmcgdGhlIHJhdGlvIGJldHdlZW5cbiAgICAgICAgICogdGhlIHR3byBzY2FsZXMuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBhdmVyYWdlU2NhbGUgPSBtaXhOdW1iZXIoeFNjYWxlLCB5U2NhbGUsIDAuNSk7XG4gICAgICAgIC8vIEJsdXJcbiAgICAgICAgaWYgKHR5cGVvZiBzaGFkb3dbMiArIG9mZnNldF0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICBzaGFkb3dbMiArIG9mZnNldF0gLz0gYXZlcmFnZVNjYWxlO1xuICAgICAgICAvLyBTcHJlYWRcbiAgICAgICAgaWYgKHR5cGVvZiBzaGFkb3dbMyArIG9mZnNldF0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICBzaGFkb3dbMyArIG9mZnNldF0gLz0gYXZlcmFnZVNjYWxlO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGUoc2hhZG93KTtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgY29ycmVjdEJveFNoYWRvdyB9O1xuIiwgImltcG9ydCB7IGNyZWF0ZVByb2plY3Rpb25Ob2RlIH0gZnJvbSAnLi9jcmVhdGUtcHJvamVjdGlvbi1ub2RlLm1qcyc7XG5pbXBvcnQgeyBEb2N1bWVudFByb2plY3Rpb25Ob2RlIH0gZnJvbSAnLi9Eb2N1bWVudFByb2plY3Rpb25Ob2RlLm1qcyc7XG5cbmNvbnN0IHJvb3RQcm9qZWN0aW9uTm9kZSA9IHtcbiAgICBjdXJyZW50OiB1bmRlZmluZWQsXG59O1xuY29uc3QgSFRNTFByb2plY3Rpb25Ob2RlID0gY3JlYXRlUHJvamVjdGlvbk5vZGUoe1xuICAgIG1lYXN1cmVTY3JvbGw6IChpbnN0YW5jZSkgPT4gKHtcbiAgICAgICAgeDogaW5zdGFuY2Uuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogaW5zdGFuY2Uuc2Nyb2xsVG9wLFxuICAgIH0pLFxuICAgIGRlZmF1bHRQYXJlbnQ6ICgpID0+IHtcbiAgICAgICAgaWYgKCFyb290UHJvamVjdGlvbk5vZGUuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgZG9jdW1lbnROb2RlID0gbmV3IERvY3VtZW50UHJvamVjdGlvbk5vZGUoe30pO1xuICAgICAgICAgICAgZG9jdW1lbnROb2RlLm1vdW50KHdpbmRvdyk7XG4gICAgICAgICAgICBkb2N1bWVudE5vZGUuc2V0T3B0aW9ucyh7IGxheW91dFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJvb3RQcm9qZWN0aW9uTm9kZS5jdXJyZW50ID0gZG9jdW1lbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb290UHJvamVjdGlvbk5vZGUuY3VycmVudDtcbiAgICB9LFxuICAgIHJlc2V0VHJhbnNmb3JtOiAoaW5zdGFuY2UsIHZhbHVlKSA9PiB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlLnRyYW5zZm9ybSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IFwibm9uZVwiO1xuICAgIH0sXG4gICAgY2hlY2tJc1Njcm9sbFJvb3Q6IChpbnN0YW5jZSkgPT4gQm9vbGVhbih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbnN0YW5jZSkucG9zaXRpb24gPT09IFwiZml4ZWRcIiksXG59KTtcblxuZXhwb3J0IHsgSFRNTFByb2plY3Rpb25Ob2RlLCByb290UHJvamVjdGlvbk5vZGUgfTtcbiIsICJpbXBvcnQgeyBhbmltYXRlU2luZ2xlVmFsdWUgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vYW5pbWF0ZS9zaW5nbGUtdmFsdWUubWpzJztcbmltcG9ydCB7IGdldE9wdGltaXNlZEFwcGVhcklkIH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL29wdGltaXplZC1hcHBlYXIvZ2V0LWFwcGVhci1pZC5tanMnO1xuaW1wb3J0IHsgaXNTVkdFbGVtZW50IH0gZnJvbSAnLi4vLi4vcmVuZGVyL2RvbS91dGlscy9pcy1zdmctZWxlbWVudC5tanMnO1xuaW1wb3J0IHsgRmxhdFRyZWUgfSBmcm9tICcuLi8uLi9yZW5kZXIvdXRpbHMvZmxhdC10cmVlLm1qcyc7XG5pbXBvcnQgeyBkZWxheSB9IGZyb20gJy4uLy4uL3V0aWxzL2RlbGF5Lm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91dGlscy9yZXNvbHZlLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgbWl4VmFsdWVzIH0gZnJvbSAnLi4vYW5pbWF0aW9uL21peC12YWx1ZXMubWpzJztcbmltcG9ydCB7IGNvcHlCb3hJbnRvLCBjb3B5QXhpc0RlbHRhSW50byB9IGZyb20gJy4uL2dlb21ldHJ5L2NvcHkubWpzJztcbmltcG9ydCB7IHRyYW5zbGF0ZUF4aXMsIHRyYW5zZm9ybUJveCwgYXBwbHlCb3hEZWx0YSwgYXBwbHlUcmVlRGVsdGFzIH0gZnJvbSAnLi4vZ2VvbWV0cnkvZGVsdGEtYXBwbHkubWpzJztcbmltcG9ydCB7IGNhbGNMZW5ndGgsIGNhbGNSZWxhdGl2ZVBvc2l0aW9uLCBjYWxjUmVsYXRpdmVCb3gsIGNhbGNCb3hEZWx0YSwgaXNOZWFyIH0gZnJvbSAnLi4vZ2VvbWV0cnkvZGVsdGEtY2FsYy5tanMnO1xuaW1wb3J0IHsgcmVtb3ZlQm94VHJhbnNmb3JtcyB9IGZyb20gJy4uL2dlb21ldHJ5L2RlbHRhLXJlbW92ZS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQm94LCBjcmVhdGVEZWx0YSB9IGZyb20gJy4uL2dlb21ldHJ5L21vZGVscy5tanMnO1xuaW1wb3J0IHsgYm94RXF1YWxzUm91bmRlZCwgaXNEZWx0YVplcm8sIGF4aXNEZWx0YUVxdWFscywgYXNwZWN0UmF0aW8sIGJveEVxdWFscyB9IGZyb20gJy4uL2dlb21ldHJ5L3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBOb2RlU3RhY2sgfSBmcm9tICcuLi9zaGFyZWQvc3RhY2subWpzJztcbmltcG9ydCB7IHNjYWxlQ29ycmVjdG9ycyB9IGZyb20gJy4uL3N0eWxlcy9zY2FsZS1jb3JyZWN0aW9uLm1qcyc7XG5pbXBvcnQgeyBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0gfSBmcm9tICcuLi9zdHlsZXMvdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBlYWNoQXhpcyB9IGZyb20gJy4uL3V0aWxzL2VhY2gtYXhpcy5tanMnO1xuaW1wb3J0IHsgaGFzVHJhbnNmb3JtLCBoYXNTY2FsZSwgaGFzMkRUcmFuc2xhdGUgfSBmcm9tICcuLi91dGlscy9oYXMtdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgfSBmcm9tICcuL3N0YXRlLm1qcyc7XG5pbXBvcnQgeyBzdGF0c0J1ZmZlciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9zdGF0cy9idWZmZXIubWpzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbk1hbmFnZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9zdWJzY3JpcHRpb24tbWFuYWdlci5tanMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVUcmFuc2l0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9nZXQtdmFsdWUtdHJhbnNpdGlvbi5tanMnO1xuaW1wb3J0IHsgY2FuY2VsRnJhbWUsIGZyYW1lRGF0YSwgZnJhbWVTdGVwcywgZnJhbWUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5pbXBvcnQgeyB0aW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9zeW5jLXRpbWUubWpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvY2xhbXAubWpzJztcbmltcG9ydCB7IG1pY3JvdGFzayB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3AvbWljcm90YXNrLm1qcyc7XG5pbXBvcnQgeyBhY3RpdmVBbmltYXRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3N0YXRzL2FuaW1hdGlvbi1jb3VudC5tanMnO1xuaW1wb3J0IHsgbWl4TnVtYmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL21peC9udW1iZXIubWpzJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9ub29wLm1qcyc7XG5cbmNvbnN0IG1ldHJpY3MgPSB7XG4gICAgbm9kZXM6IDAsXG4gICAgY2FsY3VsYXRlZFRhcmdldERlbHRhczogMCxcbiAgICBjYWxjdWxhdGVkUHJvamVjdGlvbnM6IDAsXG59O1xuY29uc3QgdHJhbnNmb3JtQXhlcyA9IFtcIlwiLCBcIlhcIiwgXCJZXCIsIFwiWlwiXTtcbmNvbnN0IGhpZGRlblZpc2liaWxpdHkgPSB7IHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfTtcbi8qKlxuICogV2UgdXNlIDEwMDAgYXMgdGhlIGFuaW1hdGlvbiB0YXJnZXQgYXMgMC0xMDAwIG1hcHMgYmV0dGVyIHRvIHBpeGVscyB0aGFuIDAtMVxuICogd2hpY2ggaGFzIGEgbm90aWNlYWJsZSBkaWZmZXJlbmNlIGluIHNwcmluZyBhbmltYXRpb25zXG4gKi9cbmNvbnN0IGFuaW1hdGlvblRhcmdldCA9IDEwMDA7XG5sZXQgaWQgPSAwO1xuZnVuY3Rpb24gcmVzZXREaXN0b3J0aW5nVHJhbnNmb3JtKGtleSwgdmlzdWFsRWxlbWVudCwgdmFsdWVzLCBzaGFyZWRBbmltYXRpb25WYWx1ZXMpIHtcbiAgICBjb25zdCB7IGxhdGVzdFZhbHVlcyB9ID0gdmlzdWFsRWxlbWVudDtcbiAgICAvLyBSZWNvcmQgdGhlIGRpc3RvcnRpbmcgdHJhbnNmb3JtIGFuZCB0aGVuIHRlbXBvcmFyaWx5IHNldCBpdCB0byAwXG4gICAgaWYgKGxhdGVzdFZhbHVlc1trZXldKSB7XG4gICAgICAgIHZhbHVlc1trZXldID0gbGF0ZXN0VmFsdWVzW2tleV07XG4gICAgICAgIHZpc3VhbEVsZW1lbnQuc2V0U3RhdGljVmFsdWUoa2V5LCAwKTtcbiAgICAgICAgaWYgKHNoYXJlZEFuaW1hdGlvblZhbHVlcykge1xuICAgICAgICAgICAgc2hhcmVkQW5pbWF0aW9uVmFsdWVzW2tleV0gPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2FuY2VsVHJlZU9wdGltaXNlZFRyYW5zZm9ybUFuaW1hdGlvbnMocHJvamVjdGlvbk5vZGUpIHtcbiAgICBwcm9qZWN0aW9uTm9kZS5oYXNDaGVja2VkT3B0aW1pc2VkQXBwZWFyID0gdHJ1ZTtcbiAgICBpZiAocHJvamVjdGlvbk5vZGUucm9vdCA9PT0gcHJvamVjdGlvbk5vZGUpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IHByb2plY3Rpb25Ob2RlLm9wdGlvbnM7XG4gICAgaWYgKCF2aXN1YWxFbGVtZW50KVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgYXBwZWFySWQgPSBnZXRPcHRpbWlzZWRBcHBlYXJJZCh2aXN1YWxFbGVtZW50KTtcbiAgICBpZiAod2luZG93Lk1vdGlvbkhhc09wdGltaXNlZEFuaW1hdGlvbihhcHBlYXJJZCwgXCJ0cmFuc2Zvcm1cIikpIHtcbiAgICAgICAgY29uc3QgeyBsYXlvdXQsIGxheW91dElkIH0gPSBwcm9qZWN0aW9uTm9kZS5vcHRpb25zO1xuICAgICAgICB3aW5kb3cuTW90aW9uQ2FuY2VsT3B0aW1pc2VkQW5pbWF0aW9uKGFwcGVhcklkLCBcInRyYW5zZm9ybVwiLCBmcmFtZSwgIShsYXlvdXQgfHwgbGF5b3V0SWQpKTtcbiAgICB9XG4gICAgY29uc3QgeyBwYXJlbnQgfSA9IHByb2plY3Rpb25Ob2RlO1xuICAgIGlmIChwYXJlbnQgJiYgIXBhcmVudC5oYXNDaGVja2VkT3B0aW1pc2VkQXBwZWFyKSB7XG4gICAgICAgIGNhbmNlbFRyZWVPcHRpbWlzZWRUcmFuc2Zvcm1BbmltYXRpb25zKHBhcmVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUHJvamVjdGlvbk5vZGUoeyBhdHRhY2hSZXNpemVMaXN0ZW5lciwgZGVmYXVsdFBhcmVudCwgbWVhc3VyZVNjcm9sbCwgY2hlY2tJc1Njcm9sbFJvb3QsIHJlc2V0VHJhbnNmb3JtLCB9KSB7XG4gICAgcmV0dXJuIGNsYXNzIFByb2plY3Rpb25Ob2RlIHtcbiAgICAgICAgY29uc3RydWN0b3IobGF0ZXN0VmFsdWVzID0ge30sIHBhcmVudCA9IGRlZmF1bHRQYXJlbnQ/LigpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgdW5pcXVlIElEIGdlbmVyYXRlZCBmb3IgZXZlcnkgcHJvamVjdGlvbiBub2RlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlkID0gaWQrKztcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW4gaWQgdGhhdCByZXByZXNlbnRzIGEgdW5pcXVlIHNlc3Npb24gaW5zdGlnYXRlZCBieSBzdGFydFVwZGF0ZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JZCA9IDA7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgU2V0IGNvbnRhaW5pbmcgYWxsIHRoaXMgY29tcG9uZW50J3MgY2hpbGRyZW4uIFRoaXMgaXMgdXNlZCB0byBpdGVyYXRlXG4gICAgICAgICAgICAgKiB0aHJvdWdoIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBUT0RPOiBUaGlzIGNvdWxkIGJlIGZhc3RlciB0byBpdGVyYXRlIGFzIGEgZmxhdCBhcnJheSBzdG9yZWQgb24gdGhlIHJvb3Qgbm9kZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT3B0aW9ucyBmb3IgdGhlIG5vZGUuIFdlIHVzZSB0aGlzIHRvIGNvbmZpZ3VyZSB3aGF0IGtpbmQgb2YgbGF5b3V0IGFuaW1hdGlvbnNcbiAgICAgICAgICAgICAqIHdlIHNob3VsZCBwZXJmb3JtIChpZiBhbnkpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2UgdXNlIHRoaXMgdG8gZGV0ZWN0IHdoZW4gaXRzIHNhZmUgdG8gc2h1dCBkb3duIHBhcnQgb2YgYSBwcm9qZWN0aW9uIHRyZWUuXG4gICAgICAgICAgICAgKiBXZSBoYXZlIHRvIGtlZXAgcHJvamVjdGluZyBjaGlsZHJlbiBmb3Igc2NhbGUgY29ycmVjdGlvbiBhbmQgcmVsYXRpdmUgcHJvamVjdGlvblxuICAgICAgICAgICAgICogdW50aWwgYWxsIHRoZWlyIHBhcmVudHMgc3RvcCBwZXJmb3JtaW5nIGxheW91dCBhbmltYXRpb25zLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzVHJlZUFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGlvbkJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxhZyB0byB0cnVlIGlmIHdlIHRoaW5rIHRoaXMgbGF5b3V0IGhhcyBiZWVuIGNoYW5nZWQuIFdlIGNhbid0IGFsd2F5cyBrbm93IHRoaXMsXG4gICAgICAgICAgICAgKiBjdXJyZW50bHkgd2Ugc2V0IGl0IHRvIHRydWUgZXZlcnkgdGltZSBhIGNvbXBvbmVudCByZW5kZXJzLCBvciBpZiBpdCBoYXMgYSBsYXlvdXREZXBlbmRlbmN5XG4gICAgICAgICAgICAgKiBpZiB0aGF0IGhhcyBjaGFuZ2VkIGJldHdlZW4gcmVuZGVycy4gQWRkaXRpb25hbGx5LCBjb21wb25lbnRzIGNhbiBiZSBncm91cGVkIGJ5IExheW91dEdyb3VwXG4gICAgICAgICAgICAgKiBhbmQgaWYgb25lIG5vZGUgaXMgZGlydGllZCwgdGhleSBhbGwgYXJlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzTGF5b3V0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxhZyB0byB0cnVlIGlmIHdlIHRoaW5rIHRoZSBwcm9qZWN0aW9uIGNhbGN1bGF0aW9ucyBmb3IgdGhpcyBub2RlIG5lZWRzXG4gICAgICAgICAgICAgKiByZWNhbGN1bGF0aW5nIGFzIGEgcmVzdWx0IG9mIGFuIHVwZGF0ZWQgdHJhbnNmb3JtIG9yIGxheW91dCBhbmltYXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaXNQcm9qZWN0aW9uRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxhZyB0byB0cnVlIGlmIHRoZSBsYXlvdXQgKm9yKiB0cmFuc2Zvcm0gaGFzIGNoYW5nZWQuIFRoaXMgdGhlbiBnZXRzIHByb3BhZ2F0ZWRcbiAgICAgICAgICAgICAqIHRocm91Z2hvdXQgdGhlIHByb2plY3Rpb24gdHJlZSwgZm9yY2luZyBhbnkgZWxlbWVudCBiZWxvdyB0byByZWNhbGN1bGF0ZSBvbiB0aGUgbmV4dCBmcmFtZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1NoYXJlZFByb2plY3Rpb25EaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGFnIHRyYW5zZm9ybSBkaXJ0eS4gVGhpcyBnZXRzIHByb3BhZ2F0ZWQgdGhyb3VnaG91dCB0aGUgd2hvbGUgdHJlZSBidXQgaXMgb25seVxuICAgICAgICAgICAgICogcmVzcGVjdGVkIGJ5IHNoYXJlZCBub2Rlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1RyYW5zZm9ybURpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJsb2NrIGxheW91dCB1cGRhdGVzIGZvciBpbnN0YW50IGxheW91dCB0cmFuc2l0aW9ucyB0aHJvdWdob3V0IHRoZSB0cmVlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hbnVhbGx5QmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCbG9ja2VkQnlSZXNpemUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IHRvIHRydWUgYmV0d2VlbiB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGB3aWxsVXBkYXRlYCBjYWxsIGFuZCB0aGUgZW5kIG9mIHRoZSBgZGlkVXBkYXRlYFxuICAgICAgICAgICAgICogY2FsbC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYW4gU1ZHIGVsZW1lbnQgd2UgY3VycmVudGx5IGRpc2FibGUgcHJvamVjdGlvbiB0cmFuc2Zvcm1zXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaXNTVkcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxhZyB0byB0cnVlIChkdXJpbmcgcHJvbW90aW9uKSBpZiBhIG5vZGUgZG9pbmcgYW4gaW5zdGFudCBsYXlvdXQgdHJhbnNpdGlvbiBuZWVkcyB0byByZXNldFxuICAgICAgICAgICAgICogaXRzIHByb2plY3Rpb24gc3R5bGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm5lZWRzUmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxhZ3Mgd2hldGhlciB0aGlzIG5vZGUgc2hvdWxkIGhhdmUgaXRzIHRyYW5zZm9ybSByZXNldCBwcmlvciB0byBtZWFzdXJpbmcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuc2hvdWxkUmVzZXRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RvcmUgd2hldGhlciB0aGlzIG5vZGUgaGFzIGJlZW4gY2hlY2tlZCBmb3Igb3B0aW1pc2VkIGFwcGVhciBhbmltYXRpb25zLiBBc1xuICAgICAgICAgICAgICogZWZmZWN0cyBmaXJlIGJvdHRvbS11cCwgYW5kIHdlIHdhbnQgdG8gbG9vayB1cCB0aGUgdHJlZSBmb3IgYXBwZWFyIGFuaW1hdGlvbnMsXG4gICAgICAgICAgICAgKiB0aGlzIG1ha2VzIHN1cmUgd2Ugb25seSBjaGVjayBlYWNoIHBhdGggb25jZSwgc3RvcHBpbmcgYXQgbm9kZXMgdGhhdFxuICAgICAgICAgICAgICogaGF2ZSBhbHJlYWR5IGJlZW4gY2hlY2tlZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5oYXNDaGVja2VkT3B0aW1pc2VkQXBwZWFyID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGNhbGN1bGF0ZWQgY29udGV4dHVhbC9hY2N1bXVsYXRlZC90cmVlIHNjYWxlLlxuICAgICAgICAgICAgICogVGhpcyB3aWxsIGJlIHVzZWQgdG8gc2NhbGUgY2FsY3VsY2F0ZWQgcHJvamVjdGlvbiB0cmFuc2Zvcm1zLCBhcyB0aGVzZSBhcmVcbiAgICAgICAgICAgICAqIGNhbGN1bGF0ZWQgaW4gc2NyZWVuLXNwYWNlIGJ1dCBuZWVkIHRvIGJlIHNjYWxlZCBmb3IgZWxlbWVudHMgdG8gbGF5b3V0bHlcbiAgICAgICAgICAgICAqIG1ha2UgaXQgdG8gdGhlaXIgY2FsY3VsYXRlZCBkZXN0aW5hdGlvbnMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVE9ETzogTGF6eS1pbml0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMudHJlZVNjYWxlID0geyB4OiAxLCB5OiAxIH07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuaGFzVHJlZUFuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBOb3RlOiBDdXJyZW50bHkgb25seSBydW5uaW5nIG9uIHJvb3Qgbm9kZVxuICAgICAgICAgICAgdGhpcy51cGRhdGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVVcGRhdGUgPSAoKSA9PiB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uVXBkYXRlU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNoZWNrVXBkYXRlRmFpbGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJBbGxTbmFwc2hvdHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGlzIGlzIGEgbXVsdGktc3RlcCBwcm9jZXNzIGFzIHNoYXJlZCBub2RlcyBtaWdodCBiZSBvZiBkaWZmZXJlbnQgZGVwdGhzLiBOb2Rlc1xuICAgICAgICAgICAgICogYXJlIHNvcnRlZCBieSBkZXB0aCBvcmRlciwgc28gd2UgbmVlZCB0byByZXNvbHZlIHRoZSBlbnRpcmUgdHJlZSBiZWZvcmUgbW92aW5nIHRvXG4gICAgICAgICAgICAgKiB0aGUgbmV4dCBzdGVwLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2plY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uVXBkYXRlU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVzZXQgZGVidWcgY291bnRzLiBNYW51YWxseSByZXNldHRpbmcgcmF0aGVyIHRoYW4gY3JlYXRpbmcgYSBuZXdcbiAgICAgICAgICAgICAgICAgKiBvYmplY3QgZWFjaCBmcmFtZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoc3RhdHNCdWZmZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0cmljcy5ub2RlcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRyaWNzLmNhbGN1bGF0ZWRUYXJnZXREZWx0YXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3MuY2FsY3VsYXRlZFByb2plY3Rpb25zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKHByb3BhZ2F0ZURpcnR5Tm9kZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChyZXNvbHZlVGFyZ2V0RGVsdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChjYWxjUHJvamVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGNsZWFuRGlydHlOb2Rlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRzQnVmZmVyLmFkZFByb2plY3Rpb25NZXRyaWNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRzQnVmZmVyLmFkZFByb2plY3Rpb25NZXRyaWNzKG1ldHJpY3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZyYW1lIGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkUmVsYXRpdmVUYXJnZXRBdCA9IDAuMDtcbiAgICAgICAgICAgIHRoaXMuaGFzUHJvamVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblByb2dyZXNzID0gMDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhcmVkIGxheW91dFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBUT0RPIE9ubHkgcnVubmluZyBvbiByb290IG5vZGVcbiAgICAgICAgICAgIHRoaXMuc2hhcmVkTm9kZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLmxhdGVzdFZhbHVlcyA9IGxhdGVzdFZhbHVlcztcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHBhcmVudCA/IHBhcmVudC5yb290IHx8IHBhcmVudCA6IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBwYXJlbnQgPyBbLi4ucGFyZW50LnBhdGgsIHBhcmVudF0gOiBbXTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgdGhpcy5kZXB0aCA9IHBhcmVudCA/IHBhcmVudC5kZXB0aCArIDEgOiAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGhbaV0uc2hvdWxkUmVzZXRUcmFuc2Zvcm0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucm9vdCA9PT0gdGhpcylcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzID0gbmV3IEZsYXRUcmVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZXZlbnRIYW5kbGVycy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMuc2V0KG5hbWUsIG5ldyBTdWJzY3JpcHRpb25NYW5hZ2VyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRIYW5kbGVycy5nZXQobmFtZSkuYWRkKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIG5vdGlmeUxpc3RlbmVycyhuYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25NYW5hZ2VyID0gdGhpcy5ldmVudEhhbmRsZXJzLmdldChuYW1lKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk1hbmFnZXIgJiYgc3Vic2NyaXB0aW9uTWFuYWdlci5ub3RpZnkoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzTGlzdGVuZXJzKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50SGFuZGxlcnMuaGFzKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaWZlY3ljbGVzXG4gICAgICAgICAqL1xuICAgICAgICBtb3VudChpbnN0YW5jZSwgaXNMYXlvdXREaXJ0eSA9IHRoaXMucm9vdC5oYXNUcmVlQW5pbWF0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNTVkcgPSBpc1NWR0VsZW1lbnQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0LCB2aXN1YWxFbGVtZW50IH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAodmlzdWFsRWxlbWVudCAmJiAhdmlzdWFsRWxlbWVudC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5tb3VudChpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJvb3Qubm9kZXMuYWRkKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuY2hpbGRyZW4uYWRkKHRoaXMpO1xuICAgICAgICAgICAgaWYgKGlzTGF5b3V0RGlydHkgJiYgKGxheW91dCB8fCBsYXlvdXRJZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTGF5b3V0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF0dGFjaFJlc2l6ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNhbmNlbERlbGF5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2l6ZVVuYmxvY2tVcGRhdGUgPSAoKSA9PiAodGhpcy5yb290LnVwZGF0ZUJsb2NrZWRCeVJlc2l6ZSA9IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBhdHRhY2hSZXNpemVMaXN0ZW5lcihpbnN0YW5jZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3QudXBkYXRlQmxvY2tlZEJ5UmVzaXplID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsRGVsYXkgJiYgY2FuY2VsRGVsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsRGVsYXkgPSBkZWxheShyZXNpemVVbmJsb2NrVXBkYXRlLCAyNTApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsUHJvamVjdGlvblN0YXRlLmhhc0FuaW1hdGVkU2luY2VSZXNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNBbmltYXRlZFNpbmNlUmVzaXplID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goZmluaXNoQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxheW91dElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290LnJlZ2lzdGVyU2hhcmVkTm9kZShsYXlvdXRJZCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmx5IHJlZ2lzdGVyIHRoZSBoYW5kbGVyIGlmIGl0IHJlcXVpcmVzIGxheW91dCBhbmltYXRpb25cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0ZSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgKGxheW91dElkIHx8IGxheW91dCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJkaWRVcGRhdGVcIiwgKHsgZGVsdGEsIGhhc0xheW91dENoYW5nZWQsIGhhc1JlbGF0aXZlTGF5b3V0Q2hhbmdlZCwgbGF5b3V0OiBuZXdMYXlvdXQsIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNUcmVlQW5pbWF0aW9uQmxvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQ2hlY2sgaGVyZSBpZiBhbiBhbmltYXRpb24gZXhpc3RzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxheW91dFRyYW5zaXRpb24gPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5nZXREZWZhdWx0VHJhbnNpdGlvbigpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TGF5b3V0VHJhbnNpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBvbkxheW91dEFuaW1hdGlvblN0YXJ0LCBvbkxheW91dEFuaW1hdGlvbkNvbXBsZXRlLCB9ID0gdmlzdWFsRWxlbWVudC5nZXRQcm9wcygpO1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGhlIHRhcmdldCBsYXlvdXQgb2YgdGhlIGVsZW1lbnQgbWlnaHQgc3RheSB0aGUgc2FtZSxcbiAgICAgICAgICAgICAgICAgICAgICogYnV0IGl0cyBwb3NpdGlvbiByZWxhdGl2ZSB0byBpdHMgcGFyZW50IGhhcyBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzVGFyZ2V0Q2hhbmdlZCA9ICF0aGlzLnRhcmdldExheW91dCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWJveEVxdWFsc1JvdW5kZWQodGhpcy50YXJnZXRMYXlvdXQsIG5ld0xheW91dCk7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAqIE5vdGU6IERpc2FibGVkIHRvIGZpeCByZWxhdGl2ZSBhbmltYXRpb25zIGFsd2F5cyB0cmlnZ2VyaW5nIG5ld1xuICAgICAgICAgICAgICAgICAgICAgKiBsYXlvdXQgYW5pbWF0aW9ucy4gSWYgdGhpcyBjYXVzZXMgZnVydGhlciBpc3N1ZXMsIHdlIGNhbiB0cnlcbiAgICAgICAgICAgICAgICAgICAgICogYSBkaWZmZXJlbnQgYXBwcm9hY2ggdG8gZGV0ZWN0aW5nIHJlbGF0aXZlIHRhcmdldCBjaGFuZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgLy8gfHwgaGFzUmVsYXRpdmVMYXlvdXRDaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiB0aGUgbGF5b3V0IGhhc24ndCBzZWVtZWQgdG8gaGF2ZSBjaGFuZ2VkLCBpdCBtaWdodCBiZSB0aGF0IHRoZVxuICAgICAgICAgICAgICAgICAgICAgKiBlbGVtZW50IGlzIHZpc3VhbGx5IGluIHRoZSBzYW1lIHBsYWNlIGluIHRoZSBkb2N1bWVudCBidXQgaXRzIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAqIHJlbGF0aXZlIHRvIGl0cyBwYXJlbnQgaGFzIGluZGVlZCBjaGFuZ2VkLiBTbyBoZXJlIHdlIGNoZWNrIGZvciB0aGF0LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzT25seVJlbGF0aXZlVGFyZ2V0Q2hhbmdlZCA9ICFoYXNMYXlvdXRDaGFuZ2VkICYmIGhhc1JlbGF0aXZlTGF5b3V0Q2hhbmdlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYXlvdXRSb290IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VtZUZyb20gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChoYXNMYXlvdXRDaGFuZ2VkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGhhc1RhcmdldENoYW5nZWQgfHwgIXRoaXMuY3VycmVudEFuaW1hdGlvbikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXN1bWVGcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20gPSB0aGlzLnJlc3VtZUZyb207XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20ucmVzdW1pbmdGcm9tID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBbmltYXRpb25PcmlnaW4oZGVsdGEsIGhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5nZXRWYWx1ZVRyYW5zaXRpb24obGF5b3V0VHJhbnNpdGlvbiwgXCJsYXlvdXRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25QbGF5OiBvbkxheW91dEFuaW1hdGlvblN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IG9uTGF5b3V0QW5pbWF0aW9uQ29tcGxldGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc3VhbEVsZW1lbnQuc2hvdWxkUmVkdWNlTW90aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxheW91dFJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zLmRlbGF5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zLnR5cGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRBbmltYXRpb24oYW5pbWF0aW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIElmIHRoZSBsYXlvdXQgaGFzbid0IGNoYW5nZWQgYW5kIHdlIGhhdmUgYW4gYW5pbWF0aW9uIHRoYXQgaGFzbid0IHN0YXJ0ZWQgeWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICogZmluaXNoIGl0IGltbWVkaWF0ZWx5LiBPdGhlcndpc2UgaXQgd2lsbCBiZSBhbmltYXRpbmcgZnJvbSBhIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGF0IHdhcyBwcm9iYWJseSBuZXZlciBjb21taXRlZCB0byBzY3JlZW4gYW5kIGxvb2sgbGlrZSBhIGp1bXB5IGJveC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNMYXlvdXRDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoQW5pbWF0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNMZWFkKCkgJiYgdGhpcy5vcHRpb25zLm9uRXhpdENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uRXhpdENvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRMYXlvdXQgPSBuZXdMYXlvdXQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5sYXlvdXRJZCAmJiB0aGlzLndpbGxVcGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucm9vdC5ub2Rlcy5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIHN0YWNrICYmIHN0YWNrLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmNoaWxkcmVuLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYW5jZWxGcmFtZSh0aGlzLnVwZGF0ZVByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgb24gdGhlIHJvb3RcbiAgICAgICAgYmxvY2tVcGRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hbnVhbGx5QmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdW5ibG9ja1VwZGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWFudWFsbHlCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaXNVcGRhdGVCbG9ja2VkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlTWFudWFsbHlCbG9ja2VkIHx8IHRoaXMudXBkYXRlQmxvY2tlZEJ5UmVzaXplO1xuICAgICAgICB9XG4gICAgICAgIGlzVHJlZUFuaW1hdGlvbkJsb2NrZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuaXNBbmltYXRpb25CbG9ja2VkIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmlzVHJlZUFuaW1hdGlvbkJsb2NrZWQoKSkgfHxcbiAgICAgICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogY3VycmVudGx5IG9ubHkgcnVubmluZyBvbiByb290IG5vZGVcbiAgICAgICAgc3RhcnRVcGRhdGUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1VwZGF0ZUJsb2NrZWQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5ub2RlcyAmJiB0aGlzLm5vZGVzLmZvckVhY2gocmVzZXRTa2V3QW5kUm90YXRpb24pO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JZCsrO1xuICAgICAgICB9XG4gICAgICAgIGdldFRyYW5zZm9ybVRlbXBsYXRlKCkge1xuICAgICAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50IH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICByZXR1cm4gdmlzdWFsRWxlbWVudCAmJiB2aXN1YWxFbGVtZW50LmdldFByb3BzKCkudHJhbnNmb3JtVGVtcGxhdGU7XG4gICAgICAgIH1cbiAgICAgICAgd2lsbFVwZGF0ZShzaG91bGROb3RpZnlMaXN0ZW5lcnMgPSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QuaGFzVHJlZUFuaW1hdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJvb3QuaXNVcGRhdGVCbG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25FeGl0Q29tcGxldGUgJiYgdGhpcy5vcHRpb25zLm9uRXhpdENvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSBydW5uaW5nIG9wdGltaXNlZCBhcHBlYXIgYW5pbWF0aW9ucyB0aGVuIHRoZXNlIG11c3QgYmVcbiAgICAgICAgICAgICAqIGNhbmNlbGxlZCBiZWZvcmUgbWVhc3VyaW5nIHRoZSBET00uIFRoaXMgaXMgc28gd2UgY2FuIG1lYXN1cmVcbiAgICAgICAgICAgICAqIHRoZSB0cnVlIGxheW91dCBvZiB0aGUgZWxlbWVudCByYXRoZXIgdGhhbiB0aGUgV0FBUEkgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKiB3aGljaCB3aWxsIGJlIHVuYWZmZWN0ZWQgYnkgdGhlIHJlc2V0U2tld0FuZFJvdGF0ZSBzdGVwLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIE5vdGU6IFRoaXMgaXMgYSBET00gd3JpdGUuIFdvcnN0IGNhc2Ugc2NlbmFyaW8gaXMgdGhpcyBpcyBzYW5kd2ljaGVkXG4gICAgICAgICAgICAgKiBiZXR3ZWVuIG90aGVyIHNuYXBzaG90IHJlYWRzIHdoaWNoIHdpbGwgY2F1c2UgdW5uZWNlc3Nhcnkgc3R5bGUgcmVjYWxjdWxhdGlvbnMuXG4gICAgICAgICAgICAgKiBUaGlzIGhhcyB0byBoYXBwZW4gaGVyZSB0aG91Z2gsIGFzIHdlIGRvbid0IHlldCBrbm93IHdoaWNoIG5vZGVzIHdpbGwgbmVlZFxuICAgICAgICAgICAgICogc25hcHNob3RzIGluIHN0YXJ0VXBkYXRlKCksIGJ1dCB3ZSBvbmx5IHdhbnQgdG8gY2FuY2VsIG9wdGltaXNlZCBhbmltYXRpb25zXG4gICAgICAgICAgICAgKiBpZiBhIGxheW91dCBhbmltYXRpb24gbWVhc3VyZW1lbnQgaXMgYWN0dWFsbHkgZ29pbmcgdG8gYmUgYWZmZWN0ZWQgYnkgdGhlbS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5Nb3Rpb25DYW5jZWxPcHRpbWlzZWRBbmltYXRpb24gJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5oYXNDaGVja2VkT3B0aW1pc2VkQXBwZWFyKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsVHJlZU9wdGltaXNlZFRyYW5zZm9ybUFuaW1hdGlvbnModGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAhdGhpcy5yb290LmlzVXBkYXRpbmcgJiYgdGhpcy5yb290LnN0YXJ0VXBkYXRlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0xheW91dERpcnR5KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNMYXlvdXREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgbm9kZS5zaG91bGRSZXNldFRyYW5zZm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9kZS51cGRhdGVTY3JvbGwoXCJzbmFwc2hvdFwiKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5vcHRpb25zLmxheW91dFJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS53aWxsVXBkYXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmIChsYXlvdXRJZCA9PT0gdW5kZWZpbmVkICYmICFsYXlvdXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtVGVtcGxhdGUgPSB0aGlzLmdldFRyYW5zZm9ybVRlbXBsYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlID0gdHJhbnNmb3JtVGVtcGxhdGVcbiAgICAgICAgICAgICAgICA/IHRyYW5zZm9ybVRlbXBsYXRlKHRoaXMubGF0ZXN0VmFsdWVzLCBcIlwiKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTbmFwc2hvdCgpO1xuICAgICAgICAgICAgc2hvdWxkTm90aWZ5TGlzdGVuZXJzICYmIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwid2lsbFVwZGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlV2FzQmxvY2tlZCA9IHRoaXMuaXNVcGRhdGVCbG9ja2VkKCk7XG4gICAgICAgICAgICAvLyBXaGVuIGRvaW5nIGFuIGluc3RhbnQgdHJhbnNpdGlvbiwgd2Ugc2tpcCB0aGUgbGF5b3V0IHVwZGF0ZSxcbiAgICAgICAgICAgIC8vIGJ1dCBzaG91bGQgc3RpbGwgY2xlYW4gdXAgdGhlIG1lYXN1cmVtZW50cyBzbyB0aGF0IHRoZSBuZXh0XG4gICAgICAgICAgICAvLyBzbmFwc2hvdCBjb3VsZCBiZSB0YWtlbiBjb3JyZWN0bHkuXG4gICAgICAgICAgICBpZiAodXBkYXRlV2FzQmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5ibG9ja1VwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJBbGxTbmFwc2hvdHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goY2xlYXJNZWFzdXJlbWVudHMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5pc1VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGNsZWFySXNMYXlvdXREaXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV3JpdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKHJlc2V0VHJhbnNmb3JtU3R5bGUpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWFkID09PT09PT09PT09PT09PT09PVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBVcGRhdGUgbGF5b3V0IG1lYXN1cmVtZW50cyBvZiB1cGRhdGVkIGNoaWxkcmVuXG4gICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2godXBkYXRlTGF5b3V0KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV3JpdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycyB0aGF0IHRoZSBsYXlvdXQgaXMgdXBkYXRlZFxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKG5vdGlmeUxheW91dFVwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQWxsU25hcHNob3RzKCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE1hbnVhbGx5IGZsdXNoIGFueSBwZW5kaW5nIHVwZGF0ZXMuIElkZWFsbHlcbiAgICAgICAgICAgICAqIHdlIGNvdWxkIGxlYXZlIHRoaXMgdG8gdGhlIGZvbGxvd2luZyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgYnV0IHRoaXMgc2VlbXNcbiAgICAgICAgICAgICAqIHRvIGxlYXZlIGEgZmxhc2ggb2YgaW5jb3JyZWN0bHkgc3R5bGVkIGNvbnRlbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHRpbWUubm93KCk7XG4gICAgICAgICAgICBmcmFtZURhdGEuZGVsdGEgPSBjbGFtcCgwLCAxMDAwIC8gNjAsIG5vdyAtIGZyYW1lRGF0YS50aW1lc3RhbXApO1xuICAgICAgICAgICAgZnJhbWVEYXRhLnRpbWVzdGFtcCA9IG5vdztcbiAgICAgICAgICAgIGZyYW1lRGF0YS5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWVTdGVwcy51cGRhdGUucHJvY2VzcyhmcmFtZURhdGEpO1xuICAgICAgICAgICAgZnJhbWVTdGVwcy5wcmVSZW5kZXIucHJvY2VzcyhmcmFtZURhdGEpO1xuICAgICAgICAgICAgZnJhbWVTdGVwcy5yZW5kZXIucHJvY2VzcyhmcmFtZURhdGEpO1xuICAgICAgICAgICAgZnJhbWVEYXRhLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRpZFVwZGF0ZSgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy51cGRhdGVTY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbWljcm90YXNrLnJlYWQodGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJBbGxTbmFwc2hvdHMoKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goY2xlYXJTbmFwc2hvdCk7XG4gICAgICAgICAgICB0aGlzLnNoYXJlZE5vZGVzLmZvckVhY2gocmVtb3ZlTGVhZFNuYXBzaG90cyk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVVcGRhdGVQcm9qZWN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnByb2plY3Rpb25VcGRhdGVTY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb25VcGRhdGVTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZyYW1lLnByZVJlbmRlcih0aGlzLnVwZGF0ZVByb2plY3Rpb24sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZUNoZWNrQWZ0ZXJVbm1vdW50KCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGUgdW5tb3VudGluZyBub2RlIGlzIGluIGEgbGF5b3V0R3JvdXAgYW5kIGRpZCB0cmlnZ2VyIGEgd2lsbFVwZGF0ZSxcbiAgICAgICAgICAgICAqIHdlIG1hbnVhbGx5IGNhbGwgZGlkVXBkYXRlIHRvIGdpdmUgYSBjaGFuY2UgdG8gdGhlIHNpYmxpbmdzIHRvIGFuaW1hdGUuXG4gICAgICAgICAgICAgKiBPdGhlcndpc2UsIGNsZWFudXAgYWxsIHNuYXBzaG90cyB0byBwcmV2ZW50cyBmdXR1cmUgbm9kZXMgZnJvbSByZXVzaW5nIHRoZW0uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZyYW1lLnBvc3RSZW5kZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTGF5b3V0RGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290LmRpZFVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290LmNoZWNrVXBkYXRlRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBtZWFzdXJlbWVudHNcbiAgICAgICAgICovXG4gICAgICAgIHVwZGF0ZVNuYXBzaG90KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc25hcHNob3QgfHwgIXRoaXMuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zbmFwc2hvdCA9IHRoaXMubWVhc3VyZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc25hcHNob3QgJiZcbiAgICAgICAgICAgICAgICAhY2FsY0xlbmd0aCh0aGlzLnNuYXBzaG90Lm1lYXN1cmVkQm94LngpICYmXG4gICAgICAgICAgICAgICAgIWNhbGNMZW5ndGgodGhpcy5zbmFwc2hvdC5tZWFzdXJlZEJveC55KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlTGF5b3V0KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIFRPRE86IEluY29ycG9yYXRlIGludG8gYSBmb3J3YXJkZWQgc2Nyb2xsIG9mZnNldFxuICAgICAgICAgICAgdGhpcy51cGRhdGVTY3JvbGwoKTtcbiAgICAgICAgICAgIGlmICghKHRoaXMub3B0aW9ucy5hbHdheXNNZWFzdXJlTGF5b3V0ICYmIHRoaXMuaXNMZWFkKCkpICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNMYXlvdXREaXJ0eSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hlbiBhIG5vZGUgaXMgbW91bnRlZCwgaXQgc2ltcGx5IHJlc3VtZXMgZnJvbSB0aGUgcHJldkxlYWQnc1xuICAgICAgICAgICAgICogc25hcHNob3QgaW5zdGVhZCBvZiB0YWtpbmcgYSBuZXcgb25lLCBidXQgdGhlIGFuY2VzdG9ycyBzY3JvbGxcbiAgICAgICAgICAgICAqIG1pZ2h0IGhhdmUgdXBkYXRlZCB3aGlsZSB0aGUgcHJldkxlYWQgaXMgdW5tb3VudGVkLiBXZSBuZWVkIHRvXG4gICAgICAgICAgICAgKiB1cGRhdGUgdGhlIHNjcm9sbCBhZ2FpbiB0byBtYWtlIHN1cmUgdGhlIGxheW91dCB3ZSBtZWFzdXJlIGlzXG4gICAgICAgICAgICAgKiB1cCB0byBkYXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bWVGcm9tICYmICF0aGlzLnJlc3VtZUZyb20uaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5wYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByZXZMYXlvdXQgPSB0aGlzLmxheW91dDtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0ID0gdGhpcy5tZWFzdXJlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0Q29ycmVjdGVkID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICB0aGlzLmlzTGF5b3V0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbkRlbHRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoXCJtZWFzdXJlXCIsIHRoaXMubGF5b3V0LmxheW91dEJveCk7XG4gICAgICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50Lm5vdGlmeShcIkxheW91dE1lYXN1cmVcIiwgdGhpcy5sYXlvdXQubGF5b3V0Qm94LCBwcmV2TGF5b3V0ID8gcHJldkxheW91dC5sYXlvdXRCb3ggOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVNjcm9sbChwaGFzZSA9IFwibWVhc3VyZVwiKSB7XG4gICAgICAgICAgICBsZXQgbmVlZHNNZWFzdXJlbWVudCA9IEJvb2xlYW4odGhpcy5vcHRpb25zLmxheW91dFNjcm9sbCAmJiB0aGlzLmluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmFuaW1hdGlvbklkID09PSB0aGlzLnJvb3QuYW5pbWF0aW9uSWQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbC5waGFzZSA9PT0gcGhhc2UpIHtcbiAgICAgICAgICAgICAgICBuZWVkc01lYXN1cmVtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmVlZHNNZWFzdXJlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUm9vdCA9IGNoZWNrSXNTY3JvbGxSb290KHRoaXMuaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsID0ge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25JZDogdGhpcy5yb290LmFuaW1hdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBwaGFzZSxcbiAgICAgICAgICAgICAgICAgICAgaXNSb290LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IG1lYXN1cmVTY3JvbGwodGhpcy5pbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgICAgIHdhc1Jvb3Q6IHRoaXMuc2Nyb2xsID8gdGhpcy5zY3JvbGwuaXNSb290IDogaXNSb290LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRUcmFuc2Zvcm0oKSB7XG4gICAgICAgICAgICBpZiAoIXJlc2V0VHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGlzUmVzZXRSZXF1ZXN0ZWQgPSB0aGlzLmlzTGF5b3V0RGlydHkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFJlc2V0VHJhbnNmb3JtIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmFsd2F5c01lYXN1cmVMYXlvdXQ7XG4gICAgICAgICAgICBjb25zdCBoYXNQcm9qZWN0aW9uID0gdGhpcy5wcm9qZWN0aW9uRGVsdGEgJiYgIWlzRGVsdGFaZXJvKHRoaXMucHJvamVjdGlvbkRlbHRhKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVRlbXBsYXRlID0gdGhpcy5nZXRUcmFuc2Zvcm1UZW1wbGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtVGVtcGxhdGVWYWx1ZSA9IHRyYW5zZm9ybVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgPyB0cmFuc2Zvcm1UZW1wbGF0ZSh0aGlzLmxhdGVzdFZhbHVlcywgXCJcIilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVRlbXBsYXRlSGFzQ2hhbmdlZCA9IHRyYW5zZm9ybVRlbXBsYXRlVmFsdWUgIT09IHRoaXMucHJldlRyYW5zZm9ybVRlbXBsYXRlVmFsdWU7XG4gICAgICAgICAgICBpZiAoaXNSZXNldFJlcXVlc3RlZCAmJlxuICAgICAgICAgICAgICAgIChoYXNQcm9qZWN0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgIGhhc1RyYW5zZm9ybSh0aGlzLmxhdGVzdFZhbHVlcykgfHxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtVGVtcGxhdGVIYXNDaGFuZ2VkKSkge1xuICAgICAgICAgICAgICAgIHJlc2V0VHJhbnNmb3JtKHRoaXMuaW5zdGFuY2UsIHRyYW5zZm9ybVRlbXBsYXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkUmVzZXRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVhc3VyZShyZW1vdmVUcmFuc2Zvcm0gPSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBwYWdlQm94ID0gdGhpcy5tZWFzdXJlUGFnZUJveCgpO1xuICAgICAgICAgICAgbGV0IGxheW91dEJveCA9IHRoaXMucmVtb3ZlRWxlbWVudFNjcm9sbChwYWdlQm94KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWVhc3VyZW1lbnRzIHRha2VuIGR1cmluZyB0aGUgcHJlLXJlbmRlciBzdGFnZVxuICAgICAgICAgICAgICogc3RpbGwgaGF2ZSB0cmFuc2Zvcm1zIGFwcGxpZWQgc28gd2UgcmVtb3ZlIHRoZW1cbiAgICAgICAgICAgICAqIHZpYSBjYWxjdWxhdGlvbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHJlbW92ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIGxheW91dEJveCA9IHRoaXMucmVtb3ZlVHJhbnNmb3JtKGxheW91dEJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3VuZEJveChsYXlvdXRCb3gpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25JZDogdGhpcy5yb290LmFuaW1hdGlvbklkLFxuICAgICAgICAgICAgICAgIG1lYXN1cmVkQm94OiBwYWdlQm94LFxuICAgICAgICAgICAgICAgIGxheW91dEJveCxcbiAgICAgICAgICAgICAgICBsYXRlc3RWYWx1ZXM6IHt9LFxuICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgbWVhc3VyZVBhZ2VCb3goKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmICghdmlzdWFsRWxlbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICBjb25zdCBib3ggPSB2aXN1YWxFbGVtZW50Lm1lYXN1cmVWaWV3cG9ydEJveCgpO1xuICAgICAgICAgICAgY29uc3Qgd2FzSW5TY3JvbGxSb290ID0gdGhpcy5zY3JvbGw/Lndhc1Jvb3QgfHwgdGhpcy5wYXRoLnNvbWUoY2hlY2tOb2RlV2FzU2Nyb2xsUm9vdCk7XG4gICAgICAgICAgICBpZiAoIXdhc0luU2Nyb2xsUm9vdCkge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB2aWV3cG9ydCBzY3JvbGwgdG8gZ2l2ZSBwYWdlLXJlbGF0aXZlIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGwgfSA9IHRoaXMucm9vdDtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94LngsIHNjcm9sbC5vZmZzZXQueCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94LnksIHNjcm9sbC5vZmZzZXQueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJveDtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVFbGVtZW50U2Nyb2xsKGJveCkge1xuICAgICAgICAgICAgY29uc3QgYm94V2l0aG91dFNjcm9sbCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29weUJveEludG8oYm94V2l0aG91dFNjcm9sbCwgYm94KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbD8ud2FzUm9vdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBib3hXaXRob3V0U2Nyb2xsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQZXJmb3JtYW5jZSBUT0RPOiBLZWVwIGEgY3VtdWxhdGl2ZSBzY3JvbGwgb2Zmc2V0IGRvd24gdGhlIHRyZWVcbiAgICAgICAgICAgICAqIHJhdGhlciB0aGFuIGxvb3AgYmFjayB1cCB0aGUgcGF0aC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5wYXRoW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsLCBvcHRpb25zIH0gPSBub2RlO1xuICAgICAgICAgICAgICAgIGlmIChub2RlICE9PSB0aGlzLnJvb3QgJiYgc2Nyb2xsICYmIG9wdGlvbnMubGF5b3V0U2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiB0aGlzIGlzIGEgbmV3IHNjcm9sbCByb290LCB3ZSB3YW50IHRvIHJlbW92ZSBhbGwgcHJldmlvdXMgc2Nyb2xsc1xuICAgICAgICAgICAgICAgICAgICAgKiBmcm9tIHRoZSB2aWV3cG9ydCBib3guXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsLndhc1Jvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKGJveFdpdGhvdXRTY3JvbGwsIGJveCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlQXhpcyhib3hXaXRob3V0U2Nyb2xsLngsIHNjcm9sbC5vZmZzZXQueCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94V2l0aG91dFNjcm9sbC55LCBzY3JvbGwub2Zmc2V0LnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3hXaXRob3V0U2Nyb2xsO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGJveCwgdHJhbnNmb3JtT25seSA9IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCB3aXRoVHJhbnNmb3JtcyA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29weUJveEludG8od2l0aFRyYW5zZm9ybXMsIGJveCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1Pbmx5ICYmXG4gICAgICAgICAgICAgICAgICAgIG5vZGUub3B0aW9ucy5sYXlvdXRTY3JvbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zY3JvbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgbm9kZSAhPT0gbm9kZS5yb290KSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUJveCh3aXRoVHJhbnNmb3Jtcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogLW5vZGUuc2Nyb2xsLm9mZnNldC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogLW5vZGUuc2Nyb2xsLm9mZnNldC55LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNUcmFuc2Zvcm0obm9kZS5sYXRlc3RWYWx1ZXMpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Cb3god2l0aFRyYW5zZm9ybXMsIG5vZGUubGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtQm94KHdpdGhUcmFuc2Zvcm1zLCB0aGlzLmxhdGVzdFZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2l0aFRyYW5zZm9ybXM7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNmb3JtKGJveCkge1xuICAgICAgICAgICAgY29uc3QgYm94V2l0aG91dFRyYW5zZm9ybSA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29weUJveEludG8oYm94V2l0aG91dFRyYW5zZm9ybSwgYm94KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMucGF0aFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICghaGFzVHJhbnNmb3JtKG5vZGUubGF0ZXN0VmFsdWVzKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaGFzU2NhbGUobm9kZS5sYXRlc3RWYWx1ZXMpICYmIG5vZGUudXBkYXRlU25hcHNob3QoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VCb3ggPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlQm94ID0gbm9kZS5tZWFzdXJlUGFnZUJveCgpO1xuICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHNvdXJjZUJveCwgbm9kZUJveCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQm94VHJhbnNmb3Jtcyhib3hXaXRob3V0VHJhbnNmb3JtLCBub2RlLmxhdGVzdFZhbHVlcywgbm9kZS5zbmFwc2hvdCA/IG5vZGUuc25hcHNob3QubGF5b3V0Qm94IDogdW5kZWZpbmVkLCBzb3VyY2VCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc1RyYW5zZm9ybSh0aGlzLmxhdGVzdFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVCb3hUcmFuc2Zvcm1zKGJveFdpdGhvdXRUcmFuc2Zvcm0sIHRoaXMubGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3hXaXRob3V0VHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHNldFRhcmdldERlbHRhKGRlbHRhKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldERlbHRhID0gZGVsdGE7XG4gICAgICAgICAgICB0aGlzLnJvb3Quc2NoZWR1bGVVcGRhdGVQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmlzUHJvamVjdGlvbkRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBjcm9zc2ZhZGU6IG9wdGlvbnMuY3Jvc3NmYWRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzZmFkZSA6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyTWVhc3VyZW1lbnRzKCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmxheW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuc25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy50YXJnZXREZWx0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5pc0xheW91dERpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yY2VSZWxhdGl2ZVBhcmVudFRvUmVzb2x2ZVRhcmdldCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWxhdGl2ZVBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSBwYXJlbnQgdGFyZ2V0IGlzbid0IHVwLXRvLWRhdGUsIGZvcmNlIGl0IHRvIHVwZGF0ZS5cbiAgICAgICAgICAgICAqIFRoaXMgaXMgYW4gdW5mb3J0dW5hdGUgZGUtb3B0aW1pc2F0aW9uIGFzIGl0IG1lYW5zIGFueSB1cGRhdGluZyByZWxhdGl2ZVxuICAgICAgICAgICAgICogcHJvamVjdGlvbiB3aWxsIGNhdXNlIGFsbCB0aGUgcmVsYXRpdmUgcGFyZW50cyB0byByZWNhbGN1bGF0ZSBiYWNrXG4gICAgICAgICAgICAgKiB1cCB0aGUgdHJlZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucmVsYXRpdmVQYXJlbnQucmVzb2x2ZWRSZWxhdGl2ZVRhcmdldEF0ICE9PVxuICAgICAgICAgICAgICAgIGZyYW1lRGF0YS50aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50LnJlc29sdmVUYXJnZXREZWx0YSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlVGFyZ2V0RGVsdGEoZm9yY2VSZWNhbGN1bGF0aW9uID0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT25jZSB0aGUgZGlydHkgc3RhdHVzIG9mIG5vZGVzIGhhcyBiZWVuIHNwcmVhZCB0aHJvdWdoIHRoZSB0cmVlLCB3ZSBhbHNvXG4gICAgICAgICAgICAgKiBuZWVkIHRvIGNoZWNrIGlmIHdlIGhhdmUgYSBzaGFyZWQgbm9kZSBvZiBhIGRpZmZlcmVudCBkZXB0aCB0aGF0IGhhcyBpdHNlbGZcbiAgICAgICAgICAgICAqIGJlZW4gZGlydGllZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgbGVhZCA9IHRoaXMuZ2V0TGVhZCgpO1xuICAgICAgICAgICAgdGhpcy5pc1Byb2plY3Rpb25EaXJ0eSB8fCAodGhpcy5pc1Byb2plY3Rpb25EaXJ0eSA9IGxlYWQuaXNQcm9qZWN0aW9uRGlydHkpO1xuICAgICAgICAgICAgdGhpcy5pc1RyYW5zZm9ybURpcnR5IHx8ICh0aGlzLmlzVHJhbnNmb3JtRGlydHkgPSBsZWFkLmlzVHJhbnNmb3JtRGlydHkpO1xuICAgICAgICAgICAgdGhpcy5pc1NoYXJlZFByb2plY3Rpb25EaXJ0eSB8fCAodGhpcy5pc1NoYXJlZFByb2plY3Rpb25EaXJ0eSA9IGxlYWQuaXNTaGFyZWRQcm9qZWN0aW9uRGlydHkpO1xuICAgICAgICAgICAgY29uc3QgaXNTaGFyZWQgPSBCb29sZWFuKHRoaXMucmVzdW1pbmdGcm9tKSB8fCB0aGlzICE9PSBsZWFkO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXZSBkb24ndCB1c2UgdHJhbnNmb3JtIGZvciB0aGlzIHN0ZXAgb2YgcHJvY2Vzc2luZyBzbyB3ZSBkb24ndFxuICAgICAgICAgICAgICogbmVlZCB0byBjaGVjayB3aGV0aGVyIGFueSBub2RlcyBoYXZlIGNoYW5nZWQgdHJhbnNmb3JtLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBjYW5Ta2lwID0gIShmb3JjZVJlY2FsY3VsYXRpb24gfHxcbiAgICAgICAgICAgICAgICAoaXNTaGFyZWQgJiYgdGhpcy5pc1NoYXJlZFByb2plY3Rpb25EaXJ0eSkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmlzUHJvamVjdGlvbkRpcnR5IHx8XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQ/LmlzUHJvamVjdGlvbkRpcnR5IHx8XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRlbXB0VG9SZXNvbHZlUmVsYXRpdmVUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QudXBkYXRlQmxvY2tlZEJ5UmVzaXplKTtcbiAgICAgICAgICAgIGlmIChjYW5Ta2lwKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0LCBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSBoYXZlIG5vIGxheW91dCwgd2UgY2FuJ3QgcGVyZm9ybSBwcm9qZWN0aW9uLCBzbyBlYXJseSByZXR1cm5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxheW91dCB8fCAhKGxheW91dCB8fCBsYXlvdXRJZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlZFJlbGF0aXZlVGFyZ2V0QXQgPSBmcmFtZURhdGEudGltZXN0YW1wO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSBkb24ndCBoYXZlIGEgdGFyZ2V0RGVsdGEgYnV0IGRvIGhhdmUgYSBsYXlvdXQsIHdlIGNhbiBhdHRlbXB0IHRvIHJlc29sdmVcbiAgICAgICAgICAgICAqIGEgcmVsYXRpdmVQYXJlbnQuIFRoaXMgd2lsbCBhbGxvdyBhIGNvbXBvbmVudCB0byBwZXJmb3JtIHNjYWxlIGNvcnJlY3Rpb25cbiAgICAgICAgICAgICAqIGV2ZW4gaWYgbm8gYW5pbWF0aW9uIGhhcyBzdGFydGVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIXRoaXMudGFyZ2V0RGVsdGEgJiYgIXRoaXMucmVsYXRpdmVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhcmVudCA9IHRoaXMuZ2V0Q2xvc2VzdFByb2plY3RpbmdQYXJlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVQYXJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXJlbnQubGF5b3V0ICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUHJvZ3Jlc3MgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCA9IHJlbGF0aXZlUGFyZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcmNlUmVsYXRpdmVQYXJlbnRUb1Jlc29sdmVUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRhcmdldCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGNSZWxhdGl2ZVBvc2l0aW9uKHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4sIHRoaXMubGF5b3V0LmxheW91dEJveCwgcmVsYXRpdmVQYXJlbnQubGF5b3V0LmxheW91dEJveCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMucmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCA9IHRoaXMucmVsYXRpdmVUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSBoYXZlIG5vIHJlbGF0aXZlIHRhcmdldCBvciBubyB0YXJnZXQgZGVsdGEgb3VyIHRhcmdldCBpc24ndCB2YWxpZFxuICAgICAgICAgICAgICogZm9yIHRoaXMgZnJhbWUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICghdGhpcy5yZWxhdGl2ZVRhcmdldCAmJiAhdGhpcy50YXJnZXREZWx0YSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIExhenktaW5pdCB0YXJnZXQgZGF0YSBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRXaXRoVHJhbnNmb3JtcyA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSd2ZSBnb3QgYSByZWxhdGl2ZSBib3ggZm9yIHRoaXMgY29tcG9uZW50LCByZXNvbHZlIGl0IGludG8gYSB0YXJnZXQgcmVsYXRpdmUgdG8gdGhlIHBhcmVudC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucmVsYXRpdmVUYXJnZXQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luICYmXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCAmJlxuICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVQYXJlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JjZVJlbGF0aXZlUGFyZW50VG9SZXNvbHZlVGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlQm94KHRoaXMudGFyZ2V0LCB0aGlzLnJlbGF0aXZlVGFyZ2V0LCB0aGlzLnJlbGF0aXZlUGFyZW50LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgd2UndmUgb25seSBnb3QgYSB0YXJnZXREZWx0YSwgcmVzb2x2ZSBpdCBpbnRvIGEgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRhcmdldERlbHRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJvb2xlYW4odGhpcy5yZXN1bWluZ0Zyb20pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgaXMgY3JlYXRpbmcgYSBuZXcgb2JqZWN0IGV2ZXJ5IGZyYW1lXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5hcHBseVRyYW5zZm9ybSh0aGlzLmxheW91dC5sYXlvdXRCb3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29weUJveEludG8odGhpcy50YXJnZXQsIHRoaXMubGF5b3V0LmxheW91dEJveCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFwcGx5Qm94RGVsdGEodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0RGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgbm8gdGFyZ2V0LCB1c2Ugb3duIGxheW91dCBhcyB0YXJnZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb3B5Qm94SW50byh0aGlzLnRhcmdldCwgdGhpcy5sYXlvdXQubGF5b3V0Qm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UndmUgYmVlbiB0b2xkIHRvIGF0dGVtcHQgdG8gcmVzb2x2ZSBhIHJlbGF0aXZlIHRhcmdldCwgZG8gc28uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmF0dGVtcHRUb1Jlc29sdmVSZWxhdGl2ZVRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFRvUmVzb2x2ZVJlbGF0aXZlVGFyZ2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXJlbnQgPSB0aGlzLmdldENsb3Nlc3RQcm9qZWN0aW5nUGFyZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGFyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIEJvb2xlYW4ocmVsYXRpdmVQYXJlbnQucmVzdW1pbmdGcm9tKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIEJvb2xlYW4odGhpcy5yZXN1bWluZ0Zyb20pICYmXG4gICAgICAgICAgICAgICAgICAgICFyZWxhdGl2ZVBhcmVudC5vcHRpb25zLmxheW91dFNjcm9sbCAmJlxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhcmVudC50YXJnZXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9ncmVzcyAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50ID0gcmVsYXRpdmVQYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VSZWxhdGl2ZVBhcmVudFRvUmVzb2x2ZVRhcmdldCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4gPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlUG9zaXRpb24odGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiwgdGhpcy50YXJnZXQsIHJlbGF0aXZlUGFyZW50LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMucmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCA9IHRoaXMucmVsYXRpdmVUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbmNyZWFzZSBkZWJ1ZyBjb3VudGVyIGZvciByZXNvbHZlZCB0YXJnZXQgZGVsdGFzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChzdGF0c0J1ZmZlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1ldHJpY3MuY2FsY3VsYXRlZFRhcmdldERlbHRhcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldENsb3Nlc3RQcm9qZWN0aW5nUGFyZW50KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCB8fFxuICAgICAgICAgICAgICAgIGhhc1NjYWxlKHRoaXMucGFyZW50LmxhdGVzdFZhbHVlcykgfHxcbiAgICAgICAgICAgICAgICBoYXMyRFRyYW5zbGF0ZSh0aGlzLnBhcmVudC5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5pc1Byb2plY3RpbmcoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRDbG9zZXN0UHJvamVjdGluZ1BhcmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlzUHJvamVjdGluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKCh0aGlzLnJlbGF0aXZlVGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXREZWx0YSB8fFxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5sYXlvdXRSb290KSAmJlxuICAgICAgICAgICAgICAgIHRoaXMubGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICBjYWxjUHJvamVjdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlYWQgPSB0aGlzLmdldExlYWQoKTtcbiAgICAgICAgICAgIGNvbnN0IGlzU2hhcmVkID0gQm9vbGVhbih0aGlzLnJlc3VtaW5nRnJvbSkgfHwgdGhpcyAhPT0gbGVhZDtcbiAgICAgICAgICAgIGxldCBjYW5Ta2lwID0gdHJ1ZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhIG5vcm1hbCBsYXlvdXQgYW5pbWF0aW9uIGFuZCBuZWl0aGVyIHRoaXMgbm9kZSBub3IgaXRzIG5lYXJlc3QgcHJvamVjdGluZ1xuICAgICAgICAgICAgICogaXMgZGlydHkgdGhlbiB3ZSBjYW4ndCBza2lwLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcy5pc1Byb2plY3Rpb25EaXJ0eSB8fCB0aGlzLnBhcmVudD8uaXNQcm9qZWN0aW9uRGlydHkpIHtcbiAgICAgICAgICAgICAgICBjYW5Ta2lwID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYSBzaGFyZWQgbGF5b3V0IGFuaW1hdGlvbiBhbmQgdGhpcyBub2RlJ3Mgc2hhcmVkIHByb2plY3Rpb24gaXMgZGlydHkgdGhlblxuICAgICAgICAgICAgICogd2UgY2FuJ3Qgc2tpcC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGlzU2hhcmVkICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuaXNTaGFyZWRQcm9qZWN0aW9uRGlydHkgfHwgdGhpcy5pc1RyYW5zZm9ybURpcnR5KSkge1xuICAgICAgICAgICAgICAgIGNhblNraXAgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UgaGF2ZSByZXNvbHZlZCB0aGUgdGFyZ2V0IHRoaXMgZnJhbWUgd2UgbXVzdCByZWNhbGN1bGF0ZSB0aGVcbiAgICAgICAgICAgICAqIHByb2plY3Rpb24gdG8gZW5zdXJlIGl0IHZpc3VhbGx5IHJlcHJlc2VudHMgdGhlIGludGVybmFsIGNhbGN1bGF0aW9ucy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzb2x2ZWRSZWxhdGl2ZVRhcmdldEF0ID09PSBmcmFtZURhdGEudGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgY2FuU2tpcCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhblNraXApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXQsIGxheW91dElkIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgc2VjdGlvbiBvZiB0aGUgdHJlZSBpc24ndCBhbmltYXRpbmcgd2UgY2FuXG4gICAgICAgICAgICAgKiBkZWxldGUgb3VyIHRhcmdldCBzb3VyY2VzIGZvciB0aGUgZm9sbG93aW5nIGZyYW1lLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzVHJlZUFuaW1hdGluZyA9IEJvb2xlYW4oKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmlzVHJlZUFuaW1hdGluZykgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb24gfHxcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdBbmltYXRpb24pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzVHJlZUFuaW1hdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RGVsdGEgPSB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmxheW91dCB8fCAhKGxheW91dCB8fCBsYXlvdXRJZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXNldCB0aGUgY29ycmVjdGVkIGJveCB3aXRoIHRoZSBsYXRlc3QgdmFsdWVzIGZyb20gYm94LCBhcyB3ZSdyZSB0aGVuIGdvaW5nXG4gICAgICAgICAgICAgKiB0byBwZXJmb3JtIG11dGF0aXZlIG9wZXJhdGlvbnMgb24gaXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMubGF5b3V0Q29ycmVjdGVkLCB0aGlzLmxheW91dC5sYXlvdXRCb3gpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWNvcmQgcHJldmlvdXMgdHJlZSBzY2FsZXMgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBwcmV2VHJlZVNjYWxlWCA9IHRoaXMudHJlZVNjYWxlLng7XG4gICAgICAgICAgICBjb25zdCBwcmV2VHJlZVNjYWxlWSA9IHRoaXMudHJlZVNjYWxlLnk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFwcGx5IGFsbCB0aGUgcGFyZW50IGRlbHRhcyB0byB0aGlzIGJveCB0byBwcm9kdWNlIHRoZSBjb3JyZWN0ZWQgYm94LiBUaGlzXG4gICAgICAgICAgICAgKiBpcyB0aGUgbGF5b3V0IGJveCwgYXMgaXQgd2lsbCBhcHBlYXIgb24gc2NyZWVuIGFzIGEgcmVzdWx0IG9mIHRoZSB0cmFuc2Zvcm1zIG9mIGl0cyBwYXJlbnRzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBhcHBseVRyZWVEZWx0YXModGhpcy5sYXlvdXRDb3JyZWN0ZWQsIHRoaXMudHJlZVNjYWxlLCB0aGlzLnBhdGgsIGlzU2hhcmVkKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBsYXllciBuZWVkcyB0byBwZXJmb3JtIHNjYWxlIGNvcnJlY3Rpb24gYnV0IGRvZXNuJ3QgaGF2ZSBhIHRhcmdldCxcbiAgICAgICAgICAgICAqIHVzZSB0aGUgbGF5b3V0IGFzIHRoZSB0YXJnZXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChsZWFkLmxheW91dCAmJlxuICAgICAgICAgICAgICAgICFsZWFkLnRhcmdldCAmJlxuICAgICAgICAgICAgICAgICh0aGlzLnRyZWVTY2FsZS54ICE9PSAxIHx8IHRoaXMudHJlZVNjYWxlLnkgIT09IDEpKSB7XG4gICAgICAgICAgICAgICAgbGVhZC50YXJnZXQgPSBsZWFkLmxheW91dC5sYXlvdXRCb3g7XG4gICAgICAgICAgICAgICAgbGVhZC50YXJnZXRXaXRoVHJhbnNmb3JtcyA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGxlYWQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHdlIGRvbid0IGhhdmUgYSB0YXJnZXQgdG8gcHJvamVjdCBpbnRvLCBidXQgd2Ugd2VyZSBwcmV2aW91c2x5XG4gICAgICAgICAgICAgICAgICogcHJvamVjdGluZywgd2Ugd2FudCB0byByZW1vdmUgdGhlIHN0b3JlZCB0cmFuc2Zvcm0gYW5kIHNjaGVkdWxlXG4gICAgICAgICAgICAgICAgICogYSByZW5kZXIgdG8gZW5zdXJlIHRoZSBlbGVtZW50cyByZWZsZWN0IHRoZSByZW1vdmVkIHRyYW5zZm9ybS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2UHJvamVjdGlvbkRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvamVjdGlvbkRlbHRhcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9qZWN0aW9uRGVsdGEgfHwgIXRoaXMucHJldlByb2plY3Rpb25EZWx0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvamVjdGlvbkRlbHRhcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29weUF4aXNEZWx0YUludG8odGhpcy5wcmV2UHJvamVjdGlvbkRlbHRhLngsIHRoaXMucHJvamVjdGlvbkRlbHRhLngpO1xuICAgICAgICAgICAgICAgIGNvcHlBeGlzRGVsdGFJbnRvKHRoaXMucHJldlByb2plY3Rpb25EZWx0YS55LCB0aGlzLnByb2plY3Rpb25EZWx0YS55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXBkYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIHRoZSBjb3JyZWN0ZWQgYm94IGFuZCB0aGUgdGFyZ2V0IGJveCBiZWZvcmUgdXNlci1zZXQgdHJhbnNmb3JtcyB3ZXJlIGFwcGxpZWQuXG4gICAgICAgICAgICAgKiBUaGlzIHdpbGwgYWxsb3cgdXMgdG8gY2FsY3VsYXRlIHRoZSBjb3JyZWN0ZWQgYm9yZGVyUmFkaXVzIGFuZCBib3hTaGFkb3cgdG8gY29tcGVuc2F0ZVxuICAgICAgICAgICAgICogZm9yIG91ciBsYXlvdXQgcmVwcm9qZWN0aW9uLCBidXQgc3RpbGwgYWxsb3cgdGhlbSB0byBiZSBzY2FsZWQgY29ycmVjdGx5IGJ5IHRoZSB1c2VyLlxuICAgICAgICAgICAgICogSXQgbWlnaHQgYmUgdGhhdCB0byBzaW1wbGlmeSB0aGlzIHdlIG1heSB3YW50IHRvIGFjY2VwdCB0aGF0IHVzZXItc2V0IHNjYWxlIGlzIGFsc28gY29ycmVjdGVkXG4gICAgICAgICAgICAgKiBhbmQgd2Ugd291bGRuJ3QgaGF2ZSB0byBrZWVwIGFuZCBjYWxjIGJvdGggZGVsdGFzLCBPUiB3ZSBjb3VsZCBzdXBwb3J0IGEgdXNlciBzZXR0aW5nXG4gICAgICAgICAgICAgKiB0byBhbGxvdyBwZW9wbGUgdG8gY2hvb3NlIHdoZXRoZXIgdGhlc2Ugc3R5bGVzIGFyZSBjb3JyZWN0ZWQgYmFzZWQgb24ganVzdCB0aGVcbiAgICAgICAgICAgICAqIGxheW91dCByZXByb2plY3Rpb24gb3IgdGhlIGZpbmFsIGJvdW5kaW5nIGJveC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FsY0JveERlbHRhKHRoaXMucHJvamVjdGlvbkRlbHRhLCB0aGlzLmxheW91dENvcnJlY3RlZCwgdGFyZ2V0LCB0aGlzLmxhdGVzdFZhbHVlcyk7XG4gICAgICAgICAgICBpZiAodGhpcy50cmVlU2NhbGUueCAhPT0gcHJldlRyZWVTY2FsZVggfHxcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWVTY2FsZS55ICE9PSBwcmV2VHJlZVNjYWxlWSB8fFxuICAgICAgICAgICAgICAgICFheGlzRGVsdGFFcXVhbHModGhpcy5wcm9qZWN0aW9uRGVsdGEueCwgdGhpcy5wcmV2UHJvamVjdGlvbkRlbHRhLngpIHx8XG4gICAgICAgICAgICAgICAgIWF4aXNEZWx0YUVxdWFscyh0aGlzLnByb2plY3Rpb25EZWx0YS55LCB0aGlzLnByZXZQcm9qZWN0aW9uRGVsdGEueSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1Byb2plY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwicHJvamVjdGlvblVwZGF0ZVwiLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbmNyZWFzZSBkZWJ1ZyBjb3VudGVyIGZvciByZWNhbGN1bGF0ZWQgcHJvamVjdGlvbnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHN0YXRzQnVmZmVyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljcy5jYWxjdWxhdGVkUHJvamVjdGlvbnMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoaWRlKCkge1xuICAgICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFRPRE86IFNjaGVkdWxlIHJlbmRlclxuICAgICAgICB9XG4gICAgICAgIHNob3coKSB7XG4gICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBUT0RPOiBTY2hlZHVsZSByZW5kZXJcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZVJlbmRlcihub3RpZnlBbGwgPSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudmlzdWFsRWxlbWVudD8uc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgIGlmIChub3RpZnlBbGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuZ2V0U3RhY2soKTtcbiAgICAgICAgICAgICAgICBzdGFjayAmJiBzdGFjay5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucmVzdW1pbmdGcm9tICYmICF0aGlzLnJlc3VtaW5nRnJvbS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdW1pbmdGcm9tID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZVByb2plY3Rpb25EZWx0YXMoKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZQcm9qZWN0aW9uRGVsdGEgPSBjcmVhdGVEZWx0YSgpO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uRGVsdGEgPSBjcmVhdGVEZWx0YSgpO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uRGVsdGFXaXRoVHJhbnNmb3JtID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRBbmltYXRpb25PcmlnaW4oZGVsdGEsIGhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQgPSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSB0aGlzLnNuYXBzaG90O1xuICAgICAgICAgICAgY29uc3Qgc25hcHNob3RMYXRlc3RWYWx1ZXMgPSBzbmFwc2hvdCA/IHNuYXBzaG90LmxhdGVzdFZhbHVlcyA6IHt9O1xuICAgICAgICAgICAgY29uc3QgbWl4ZWRWYWx1ZXMgPSB7IC4uLnRoaXMubGF0ZXN0VmFsdWVzIH07XG4gICAgICAgICAgICBjb25zdCB0YXJnZXREZWx0YSA9IGNyZWF0ZURlbHRhKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVsYXRpdmVQYXJlbnQgfHxcbiAgICAgICAgICAgICAgICAhdGhpcy5yZWxhdGl2ZVBhcmVudC5vcHRpb25zLmxheW91dFJvb3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFRvUmVzb2x2ZVJlbGF0aXZlVGFyZ2V0ID0gIWhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQ7XG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZUxheW91dCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29uc3Qgc25hcHNob3RTb3VyY2UgPSBzbmFwc2hvdCA/IHNuYXBzaG90LnNvdXJjZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGxheW91dFNvdXJjZSA9IHRoaXMubGF5b3V0ID8gdGhpcy5sYXlvdXQuc291cmNlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXNTaGFyZWRMYXlvdXRBbmltYXRpb24gPSBzbmFwc2hvdFNvdXJjZSAhPT0gbGF5b3V0U291cmNlO1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmdldFN0YWNrKCk7XG4gICAgICAgICAgICBjb25zdCBpc09ubHlNZW1iZXIgPSAhc3RhY2sgfHwgc3RhY2subWVtYmVycy5sZW5ndGggPD0gMTtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZENyb3NzZmFkZU9wYWNpdHkgPSBCb29sZWFuKGlzU2hhcmVkTGF5b3V0QW5pbWF0aW9uICYmXG4gICAgICAgICAgICAgICAgIWlzT25seU1lbWJlciAmJlxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jcm9zc2ZhZGUgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5wYXRoLnNvbWUoaGFzT3BhY2l0eUNyb3NzZmFkZSkpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICBsZXQgcHJldlJlbGF0aXZlVGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5taXhUYXJnZXREZWx0YSA9IChsYXRlc3QpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGxhdGVzdCAvIDEwMDA7XG4gICAgICAgICAgICAgICAgbWl4QXhpc0RlbHRhKHRhcmdldERlbHRhLngsIGRlbHRhLngsIHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICBtaXhBeGlzRGVsdGEodGFyZ2V0RGVsdGEueSwgZGVsdGEueSwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGFyZ2V0RGVsdGEodGFyZ2V0RGVsdGEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlbGF0aXZlVGFyZ2V0ICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4gJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXlvdXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50LmxheW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxjUmVsYXRpdmVQb3NpdGlvbihyZWxhdGl2ZUxheW91dCwgdGhpcy5sYXlvdXQubGF5b3V0Qm94LCB0aGlzLnJlbGF0aXZlUGFyZW50LmxheW91dC5sYXlvdXRCb3gpO1xuICAgICAgICAgICAgICAgICAgICBtaXhCb3godGhpcy5yZWxhdGl2ZVRhcmdldCwgdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiwgcmVsYXRpdmVMYXlvdXQsIHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYW4gdW5jaGFuZ2VkIHJlbGF0aXZlIHRhcmdldCB3ZSBjYW4gY29uc2lkZXIgdGhlXG4gICAgICAgICAgICAgICAgICAgICAqIHByb2plY3Rpb24gbm90IGRpcnR5LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZSZWxhdGl2ZVRhcmdldCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYm94RXF1YWxzKHRoaXMucmVsYXRpdmVUYXJnZXQsIHByZXZSZWxhdGl2ZVRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQcm9qZWN0aW9uRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZSZWxhdGl2ZVRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZSZWxhdGl2ZVRhcmdldCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICBjb3B5Qm94SW50byhwcmV2UmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNTaGFyZWRMYXlvdXRBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25WYWx1ZXMgPSBtaXhlZFZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgbWl4VmFsdWVzKG1peGVkVmFsdWVzLCBzbmFwc2hvdExhdGVzdFZhbHVlcywgdGhpcy5sYXRlc3RWYWx1ZXMsIHByb2dyZXNzLCBzaG91bGRDcm9zc2ZhZGVPcGFjaXR5LCBpc09ubHlNZW1iZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJvb3Quc2NoZWR1bGVVcGRhdGVQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLm1peFRhcmdldERlbHRhKHRoaXMub3B0aW9ucy5sYXlvdXRSb290ID8gMTAwMCA6IDApO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0QW5pbWF0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwiYW5pbWF0aW9uU3RhcnRcIik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb24gJiYgdGhpcy5jdXJyZW50QW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VtaW5nRnJvbSAmJiB0aGlzLnJlc3VtaW5nRnJvbS5jdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20uY3VycmVudEFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsRnJhbWUodGhpcy5wZW5kaW5nQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdBbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXJ0IHRoZSBhbmltYXRpb24gaW4gdGhlIG5leHQgZnJhbWUgdG8gaGF2ZSBhIGZyYW1lIHdpdGggcHJvZ3Jlc3MgMCxcbiAgICAgICAgICAgICAqIHdoZXJlIHRoZSB0YXJnZXQgaXMgdGhlIHNhbWUgYXMgd2hlbiB0aGUgYW5pbWF0aW9uIHN0YXJ0ZWQsIHNvIHdlIGNhblxuICAgICAgICAgICAgICogY2FsY3VsYXRlIHRoZSByZWxhdGl2ZSBwb3NpdGlvbnMgY29ycmVjdGx5IGZvciBpbnN0YW50IHRyYW5zaXRpb25zLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdBbmltYXRpb24gPSBmcmFtZS51cGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNBbmltYXRlZFNpbmNlUmVzaXplID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhY3RpdmVBbmltYXRpb25zLmxheW91dCsrO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbiA9IGFuaW1hdGVTaW5nbGVWYWx1ZSgwLCBhbmltYXRpb25UYXJnZXQsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU6IChsYXRlc3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWl4VGFyZ2V0RGVsdGEobGF0ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25VcGRhdGUgJiYgb3B0aW9ucy5vblVwZGF0ZShsYXRlc3QpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvblN0b3A6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbnMubGF5b3V0LS07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbnMubGF5b3V0LS07XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uQ29tcGxldGUgJiYgb3B0aW9ucy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdW1pbmdGcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdW1pbmdGcm9tLmN1cnJlbnRBbmltYXRpb24gPSB0aGlzLmN1cnJlbnRBbmltYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0FuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBsZXRlQW5pbWF0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzdW1pbmdGcm9tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20uY3VycmVudEFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbS5wcmVzZXJ2ZU9wYWNpdHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIHN0YWNrICYmIHN0YWNrLmV4aXRBbmltYXRpb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20gPVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVmFsdWVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwiYW5pbWF0aW9uQ29tcGxldGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoQW5pbWF0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubWl4VGFyZ2V0RGVsdGEgJiYgdGhpcy5taXhUYXJnZXREZWx0YShhbmltYXRpb25UYXJnZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlUcmFuc2Zvcm1zVG9UYXJnZXQoKSB7XG4gICAgICAgICAgICBjb25zdCBsZWFkID0gdGhpcy5nZXRMZWFkKCk7XG4gICAgICAgICAgICBsZXQgeyB0YXJnZXRXaXRoVHJhbnNmb3JtcywgdGFyZ2V0LCBsYXlvdXQsIGxhdGVzdFZhbHVlcyB9ID0gbGVhZDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0V2l0aFRyYW5zZm9ybXMgfHwgIXRhcmdldCB8fCAhbGF5b3V0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgb25seSBhbmltYXRpbmcgcG9zaXRpb24sIGFuZCB0aGlzIGVsZW1lbnQgaXNuJ3QgdGhlIGxlYWQgZWxlbWVudCxcbiAgICAgICAgICAgICAqIHRoZW4gaW5zdGVhZCBvZiBwcm9qZWN0aW5nIGludG8gdGhlIGxlYWQgYm94IHdlIGluc3RlYWQgd2FudCB0byBjYWxjdWxhdGVcbiAgICAgICAgICAgICAqIGEgbmV3IHRhcmdldCB0aGF0IGFsaWducyB0aGUgdHdvIGJveGVzIGJ1dCBtYWludGFpbnMgdGhlIGxheW91dCBzaGFwZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMgIT09IGxlYWQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmxheW91dCAmJlxuICAgICAgICAgICAgICAgIGxheW91dCAmJlxuICAgICAgICAgICAgICAgIHNob3VsZEFuaW1hdGVQb3NpdGlvbk9ubHkodGhpcy5vcHRpb25zLmFuaW1hdGlvblR5cGUsIHRoaXMubGF5b3V0LmxheW91dEJveCwgbGF5b3V0LmxheW91dEJveCkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldCB8fCBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICBjb25zdCB4TGVuZ3RoID0gY2FsY0xlbmd0aCh0aGlzLmxheW91dC5sYXlvdXRCb3gueCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LngubWluID0gbGVhZC50YXJnZXQueC5taW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0LngubWF4ID0gdGFyZ2V0LngubWluICsgeExlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCB5TGVuZ3RoID0gY2FsY0xlbmd0aCh0aGlzLmxheW91dC5sYXlvdXRCb3gueSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnkubWluID0gbGVhZC50YXJnZXQueS5taW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnkubWF4ID0gdGFyZ2V0LnkubWluICsgeUxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRhcmdldFdpdGhUcmFuc2Zvcm1zLCB0YXJnZXQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcHBseSB0aGUgbGF0ZXN0IHVzZXItc2V0IHRyYW5zZm9ybXMgdG8gdGhlIHRhcmdldEJveCB0byBwcm9kdWNlIHRoZSB0YXJnZXRCb3hGaW5hbC5cbiAgICAgICAgICAgICAqIFRoaXMgaXMgdGhlIGZpbmFsIGJveCB0aGF0IHdlIHdpbGwgdGhlbiBwcm9qZWN0IGludG8gYnkgY2FsY3VsYXRpbmcgYSB0cmFuc2Zvcm0gZGVsdGEgYW5kXG4gICAgICAgICAgICAgKiBhcHBseWluZyBpdCB0byB0aGUgY29ycmVjdGVkIGJveC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHJhbnNmb3JtQm94KHRhcmdldFdpdGhUcmFuc2Zvcm1zLCBsYXRlc3RWYWx1ZXMpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGUgdGhlIGRlbHRhIGJldHdlZW4gdGhlIGNvcnJlY3RlZCBib3ggYW5kIHRoZSBmaW5hbCB0YXJnZXQgYm94LCBhZnRlclxuICAgICAgICAgICAgICogdXNlci1zZXQgdHJhbnNmb3JtcyBhcmUgYXBwbGllZCB0byBpdC4gVGhpcyB3aWxsIGJlIHVzZWQgYnkgdGhlIHJlbmRlcmVyIHRvXG4gICAgICAgICAgICAgKiBjcmVhdGUgYSB0cmFuc2Zvcm0gc3R5bGUgdGhhdCB3aWxsIHJlcHJvamVjdCB0aGUgZWxlbWVudCBmcm9tIGl0cyBsYXlvdXQgbGF5b3V0XG4gICAgICAgICAgICAgKiBpbnRvIHRoZSBkZXNpcmVkIGJvdW5kaW5nIGJveC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FsY0JveERlbHRhKHRoaXMucHJvamVjdGlvbkRlbHRhV2l0aFRyYW5zZm9ybSwgdGhpcy5sYXlvdXRDb3JyZWN0ZWQsIHRhcmdldFdpdGhUcmFuc2Zvcm1zLCBsYXRlc3RWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJlZ2lzdGVyU2hhcmVkTm9kZShsYXlvdXRJZCwgbm9kZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNoYXJlZE5vZGVzLmhhcyhsYXlvdXRJZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXJlZE5vZGVzLnNldChsYXlvdXRJZCwgbmV3IE5vZGVTdGFjaygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zaGFyZWROb2Rlcy5nZXQobGF5b3V0SWQpO1xuICAgICAgICAgICAgc3RhY2suYWRkKG5vZGUpO1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbm9kZS5vcHRpb25zLmluaXRpYWxQcm9tb3Rpb25Db25maWc7XG4gICAgICAgICAgICBub2RlLnByb21vdGUoe1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGNvbmZpZyA/IGNvbmZpZy50cmFuc2l0aW9uIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRm9sbG93T3BhY2l0eTogY29uZmlnICYmIGNvbmZpZy5zaG91bGRQcmVzZXJ2ZUZvbGxvd09wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuc2hvdWxkUHJlc2VydmVGb2xsb3dPcGFjaXR5KG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaXNMZWFkKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmdldFN0YWNrKCk7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2sgPyBzdGFjay5sZWFkID09PSB0aGlzIDogdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXRMZWFkKCkge1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGxheW91dElkID8gdGhpcy5nZXRTdGFjaygpPy5sZWFkIHx8IHRoaXMgOiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGdldFByZXZMZWFkKCkge1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGxheW91dElkID8gdGhpcy5nZXRTdGFjaygpPy5wcmV2TGVhZCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBnZXRTdGFjaygpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmIChsYXlvdXRJZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LnNoYXJlZE5vZGVzLmdldChsYXlvdXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvbW90ZSh7IG5lZWRzUmVzZXQsIHRyYW5zaXRpb24sIHByZXNlcnZlRm9sbG93T3BhY2l0eSwgfSA9IHt9KSB7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIGlmIChzdGFjaylcbiAgICAgICAgICAgICAgICBzdGFjay5wcm9tb3RlKHRoaXMsIHByZXNlcnZlRm9sbG93T3BhY2l0eSk7XG4gICAgICAgICAgICBpZiAobmVlZHNSZXNldCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbkRlbHRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNSZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbilcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9wdGlvbnMoeyB0cmFuc2l0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlbGVnYXRlKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmdldFN0YWNrKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhY2sucmVsZWdhdGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRTa2V3QW5kUm90YXRpb24oKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmICghdmlzdWFsRWxlbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGRldGVjdGVkIHNrZXcgb3Igcm90YXRpb24gdmFsdWVzLCB3ZSBjYW4gZWFybHkgcmV0dXJuIHdpdGhvdXQgYSBmb3JjZWQgcmVuZGVyLlxuICAgICAgICAgICAgbGV0IGhhc0Rpc3RvcnRpbmdUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW4gdW5yb2xsZWQgY2hlY2sgZm9yIHJvdGF0aW9uIHZhbHVlcy4gTW9zdCBlbGVtZW50cyBkb24ndCBoYXZlIGFueSByb3RhdGlvbiBhbmRcbiAgICAgICAgICAgICAqIHNraXBwaW5nIHRoZSBuZXN0ZWQgbG9vcCBhbmQgbmV3IG9iamVjdCBjcmVhdGlvbiBpcyA1MCUgZmFzdGVyLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCB7IGxhdGVzdFZhbHVlcyB9ID0gdmlzdWFsRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChsYXRlc3RWYWx1ZXMueiB8fFxuICAgICAgICAgICAgICAgIGxhdGVzdFZhbHVlcy5yb3RhdGUgfHxcbiAgICAgICAgICAgICAgICBsYXRlc3RWYWx1ZXMucm90YXRlWCB8fFxuICAgICAgICAgICAgICAgIGxhdGVzdFZhbHVlcy5yb3RhdGVZIHx8XG4gICAgICAgICAgICAgICAgbGF0ZXN0VmFsdWVzLnJvdGF0ZVogfHxcbiAgICAgICAgICAgICAgICBsYXRlc3RWYWx1ZXMuc2tld1ggfHxcbiAgICAgICAgICAgICAgICBsYXRlc3RWYWx1ZXMuc2tld1kpIHtcbiAgICAgICAgICAgICAgICBoYXNEaXN0b3J0aW5nVHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gZGlzdG9ydGluZyB2YWx1ZXMsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55IG1vcmUuXG4gICAgICAgICAgICBpZiAoIWhhc0Rpc3RvcnRpbmdUcmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcmVzZXRWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgIGlmIChsYXRlc3RWYWx1ZXMueikge1xuICAgICAgICAgICAgICAgIHJlc2V0RGlzdG9ydGluZ1RyYW5zZm9ybShcInpcIiwgdmlzdWFsRWxlbWVudCwgcmVzZXRWYWx1ZXMsIHRoaXMuYW5pbWF0aW9uVmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIHRoZSBza2V3IGFuZCByb3RhdGUgdmFsdWUgb2YgYWxsIGF4ZXMgYW5kIHJlc2V0IHRvIDBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhbnNmb3JtQXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc2V0RGlzdG9ydGluZ1RyYW5zZm9ybShgcm90YXRlJHt0cmFuc2Zvcm1BeGVzW2ldfWAsIHZpc3VhbEVsZW1lbnQsIHJlc2V0VmFsdWVzLCB0aGlzLmFuaW1hdGlvblZhbHVlcyk7XG4gICAgICAgICAgICAgICAgcmVzZXREaXN0b3J0aW5nVHJhbnNmb3JtKGBza2V3JHt0cmFuc2Zvcm1BeGVzW2ldfWAsIHZpc3VhbEVsZW1lbnQsIHJlc2V0VmFsdWVzLCB0aGlzLmFuaW1hdGlvblZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3JjZSBhIHJlbmRlciBvZiB0aGlzIGVsZW1lbnQgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybSB3aXRoIGFsbCBza2V3cyBhbmQgcm90YXRpb25zXG4gICAgICAgICAgICAvLyBzZXQgdG8gMC5cbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQucmVuZGVyKCk7XG4gICAgICAgICAgICAvLyBQdXQgYmFjayBhbGwgdGhlIHZhbHVlcyB3ZSByZXNldFxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVzZXRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNldFN0YXRpY1ZhbHVlKGtleSwgcmVzZXRWYWx1ZXNba2V5XSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVmFsdWVzW2tleV0gPSByZXNldFZhbHVlc1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIGEgcmVuZGVyIGZvciB0aGUgbmV4dCBmcmFtZS4gVGhpcyBlbnN1cmVzIHdlIHdvbid0IHZpc3VhbGx5XG4gICAgICAgICAgICAvLyBzZWUgdGhlIGVsZW1lbnQgd2l0aCB0aGUgcmVzZXQgcm90YXRlIHZhbHVlIGFwcGxpZWQuXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0UHJvamVjdGlvblN0eWxlcyhzdHlsZVByb3ApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbnN0YW5jZSB8fCB0aGlzLmlzU1ZHKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhpZGRlblZpc2liaWxpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1UZW1wbGF0ZSA9IHRoaXMuZ2V0VHJhbnNmb3JtVGVtcGxhdGUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm5lZWRzUmVzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzUmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdHlsZXMub3BhY2l0eSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgc3R5bGVzLnBvaW50ZXJFdmVudHMgPVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlTW90aW9uVmFsdWUoc3R5bGVQcm9wPy5wb2ludGVyRXZlbnRzKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIHN0eWxlcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1UZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICA/IHRyYW5zZm9ybVRlbXBsYXRlKHRoaXMubGF0ZXN0VmFsdWVzLCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICA6IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsZWFkID0gdGhpcy5nZXRMZWFkKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvamVjdGlvbkRlbHRhIHx8ICF0aGlzLmxheW91dCB8fCAhbGVhZC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbXB0eVN0eWxlcyA9IHt9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGF5b3V0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHlTdHlsZXMub3BhY2l0eSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdFZhbHVlcy5vcGFjaXR5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMubGF0ZXN0VmFsdWVzLm9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDE7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5U3R5bGVzLnBvaW50ZXJFdmVudHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZU1vdGlvblZhbHVlKHN0eWxlUHJvcD8ucG9pbnRlckV2ZW50cykgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzUHJvamVjdGVkICYmICFoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5U3R5bGVzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRyYW5zZm9ybVRlbXBsYXRlKHt9LCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNQcm9qZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5U3R5bGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzVG9SZW5kZXIgPSBsZWFkLmFuaW1hdGlvblZhbHVlcyB8fCBsZWFkLmxhdGVzdFZhbHVlcztcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1zVG9UYXJnZXQoKTtcbiAgICAgICAgICAgIHN0eWxlcy50cmFuc2Zvcm0gPSBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0odGhpcy5wcm9qZWN0aW9uRGVsdGFXaXRoVHJhbnNmb3JtLCB0aGlzLnRyZWVTY2FsZSwgdmFsdWVzVG9SZW5kZXIpO1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVRlbXBsYXRlKHZhbHVlc1RvUmVuZGVyLCBzdHlsZXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5wcm9qZWN0aW9uRGVsdGE7XG4gICAgICAgICAgICBzdHlsZXMudHJhbnNmb3JtT3JpZ2luID0gYCR7eC5vcmlnaW4gKiAxMDB9JSAke3kub3JpZ2luICogMTAwfSUgMGA7XG4gICAgICAgICAgICBpZiAobGVhZC5hbmltYXRpb25WYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGUgbGVhZCBjb21wb25lbnQgaXMgYW5pbWF0aW5nLCBhc3NpZ24gdGhpcyBlaXRoZXIgdGhlIGVudGVyaW5nL2xlYXZpbmdcbiAgICAgICAgICAgICAgICAgKiBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc3R5bGVzLm9wYWNpdHkgPVxuICAgICAgICAgICAgICAgICAgICBsZWFkID09PSB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHkgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdFZhbHVlcy5vcGFjaXR5ID8/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnByZXNlcnZlT3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5sYXRlc3RWYWx1ZXMub3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsdWVzVG9SZW5kZXIub3BhY2l0eUV4aXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBPciB3ZSdyZSBub3QgYW5pbWF0aW5nIGF0IGFsbCwgc2V0IHRoZSBsZWFkIGNvbXBvbmVudCB0byBpdHMgbGF5b3V0XG4gICAgICAgICAgICAgICAgICogb3BhY2l0eSBhbmQgb3RoZXIgY29tcG9uZW50cyB0byBoaWRkZW4uXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc3R5bGVzLm9wYWNpdHkgPVxuICAgICAgICAgICAgICAgICAgICBsZWFkID09PSB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHkgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsdWVzVG9SZW5kZXIub3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiB2YWx1ZXNUb1JlbmRlci5vcGFjaXR5RXhpdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZXNUb1JlbmRlci5vcGFjaXR5RXhpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXBwbHkgc2NhbGUgY29ycmVjdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2FsZUNvcnJlY3RvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzVG9SZW5kZXJba2V5XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvcnJlY3QsIGFwcGx5VG8sIGlzQ1NTVmFyaWFibGUgfSA9IHNjYWxlQ29ycmVjdG9yc1trZXldO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIE9ubHkgYXBwbHkgc2NhbGUgY29ycmVjdGlvbiB0byB0aGUgdmFsdWUgaWYgd2UgaGF2ZSBhblxuICAgICAgICAgICAgICAgICAqIGFjdGl2ZSBwcm9qZWN0aW9uIHRyYW5zZm9ybS4gT3RoZXJ3aXNlIHRoZXNlIHZhbHVlcyBiZWNvbWVcbiAgICAgICAgICAgICAgICAgKiB2dWxuZXJhYmxlIHRvIGRpc3RvcnRpb24gaWYgdGhlIGVsZW1lbnQgY2hhbmdlcyBzaXplIHdpdGhvdXRcbiAgICAgICAgICAgICAgICAgKiBhIGNvcnJlc3BvbmRpbmcgbGF5b3V0IGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBjb3JyZWN0ZWQgPSBzdHlsZXMudHJhbnNmb3JtID09PSBcIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICA/IHZhbHVlc1RvUmVuZGVyW2tleV1cbiAgICAgICAgICAgICAgICAgICAgOiBjb3JyZWN0KHZhbHVlc1RvUmVuZGVyW2tleV0sIGxlYWQpO1xuICAgICAgICAgICAgICAgIGlmIChhcHBseVRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IGFwcGx5VG8ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXNbYXBwbHlUb1tpXV0gPSBjb3JyZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBDU1MgdmFyaWFibGUsIHNldCBpdCBkaXJlY3RseSBvbiB0aGUgaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2luZyB0aGlzIGZ1bmN0aW9uIGZyb20gY3JlYXRpbmcgc3R5bGVzIHRvIHNldHRpbmcgdGhlbVxuICAgICAgICAgICAgICAgICAgICAvLyB3b3VsZCBiZSBhIGdvb2QgcGxhY2UgdG8gcmVtb3ZlIHBlciBmcmFtZSBvYmplY3QgY3JlYXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ1NTVmFyaWFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy52aXN1YWxFbGVtZW50LnJlbmRlclN0YXRlLnZhcnNba2V5XSA9IGNvcnJlY3RlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlc1trZXldID0gY29ycmVjdGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEaXNhYmxlIHBvaW50ZXIgZXZlbnRzIG9uIGZvbGxvdyBjb21wb25lbnRzLiBUaGlzIGlzIHRvIGVuc3VyZVxuICAgICAgICAgICAgICogdGhhdCBpZiBhIGZvbGxvdyBjb21wb25lbnQgY292ZXJzIGEgbGVhZCBjb21wb25lbnQgaXQgZG9lc24ndCBibG9ja1xuICAgICAgICAgICAgICogcG9pbnRlciBldmVudHMgb24gdGhlIGxlYWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGF5b3V0SWQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMucG9pbnRlckV2ZW50cyA9XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPT09IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzb2x2ZU1vdGlvblZhbHVlKHN0eWxlUHJvcD8ucG9pbnRlckV2ZW50cykgfHwgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJTbmFwc2hvdCgpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdW1lRnJvbSA9IHRoaXMuc25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSBydW4gb24gcm9vdFxuICAgICAgICByZXNldFRyZWUoKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3Qubm9kZXMuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS5jdXJyZW50QW5pbWF0aW9uPy5zdG9wKCkpO1xuICAgICAgICAgICAgdGhpcy5yb290Lm5vZGVzLmZvckVhY2goY2xlYXJNZWFzdXJlbWVudHMpO1xuICAgICAgICAgICAgdGhpcy5yb290LnNoYXJlZE5vZGVzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gdXBkYXRlTGF5b3V0KG5vZGUpIHtcbiAgICBub2RlLnVwZGF0ZUxheW91dCgpO1xufVxuZnVuY3Rpb24gbm90aWZ5TGF5b3V0VXBkYXRlKG5vZGUpIHtcbiAgICBjb25zdCBzbmFwc2hvdCA9IG5vZGUucmVzdW1lRnJvbT8uc25hcHNob3QgfHwgbm9kZS5zbmFwc2hvdDtcbiAgICBpZiAobm9kZS5pc0xlYWQoKSAmJlxuICAgICAgICBub2RlLmxheW91dCAmJlxuICAgICAgICBzbmFwc2hvdCAmJlxuICAgICAgICBub2RlLmhhc0xpc3RlbmVycyhcImRpZFVwZGF0ZVwiKSkge1xuICAgICAgICBjb25zdCB7IGxheW91dEJveDogbGF5b3V0LCBtZWFzdXJlZEJveDogbWVhc3VyZWRMYXlvdXQgfSA9IG5vZGUubGF5b3V0O1xuICAgICAgICBjb25zdCB7IGFuaW1hdGlvblR5cGUgfSA9IG5vZGUub3B0aW9ucztcbiAgICAgICAgY29uc3QgaXNTaGFyZWQgPSBzbmFwc2hvdC5zb3VyY2UgIT09IG5vZGUubGF5b3V0LnNvdXJjZTtcbiAgICAgICAgLy8gVE9ETyBNYXliZSB3ZSB3YW50IHRvIGFsc28gcmVzaXplIHRoZSBsYXlvdXQgc25hcHNob3Qgc28gd2UgZG9uJ3QgdHJpZ2dlclxuICAgICAgICAvLyBhbmltYXRpb25zIGZvciBpbnN0YW5jZSBpZiBsYXlvdXQ9XCJzaXplXCIgYW5kIGFuIGVsZW1lbnQgaGFzIG9ubHkgY2hhbmdlZCBwb3NpdGlvblxuICAgICAgICBpZiAoYW5pbWF0aW9uVHlwZSA9PT0gXCJzaXplXCIpIHtcbiAgICAgICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc1NuYXBzaG90ID0gaXNTaGFyZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzbmFwc2hvdC5tZWFzdXJlZEJveFtheGlzXVxuICAgICAgICAgICAgICAgICAgICA6IHNuYXBzaG90LmxheW91dEJveFtheGlzXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBjYWxjTGVuZ3RoKGF4aXNTbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgYXhpc1NuYXBzaG90Lm1pbiA9IGxheW91dFtheGlzXS5taW47XG4gICAgICAgICAgICAgICAgYXhpc1NuYXBzaG90Lm1heCA9IGF4aXNTbmFwc2hvdC5taW4gKyBsZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaG91bGRBbmltYXRlUG9zaXRpb25Pbmx5KGFuaW1hdGlvblR5cGUsIHNuYXBzaG90LmxheW91dEJveCwgbGF5b3V0KSkge1xuICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzU25hcHNob3QgPSBpc1NoYXJlZFxuICAgICAgICAgICAgICAgICAgICA/IHNuYXBzaG90Lm1lYXN1cmVkQm94W2F4aXNdXG4gICAgICAgICAgICAgICAgICAgIDogc25hcHNob3QubGF5b3V0Qm94W2F4aXNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhbGNMZW5ndGgobGF5b3V0W2F4aXNdKTtcbiAgICAgICAgICAgICAgICBheGlzU25hcHNob3QubWF4ID0gYXhpc1NuYXBzaG90Lm1pbiArIGxlbmd0aDtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnN1cmUgcmVsYXRpdmUgdGFyZ2V0IGdldHMgcmVzaXplZCBhbmQgcmVyZW5kZXJlcmRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5yZWxhdGl2ZVRhcmdldCAmJiAhbm9kZS5jdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXNQcm9qZWN0aW9uRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnJlbGF0aXZlVGFyZ2V0W2F4aXNdLm1heCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbGF0aXZlVGFyZ2V0W2F4aXNdLm1pbiArIGxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXlvdXREZWx0YSA9IGNyZWF0ZURlbHRhKCk7XG4gICAgICAgIGNhbGNCb3hEZWx0YShsYXlvdXREZWx0YSwgbGF5b3V0LCBzbmFwc2hvdC5sYXlvdXRCb3gpO1xuICAgICAgICBjb25zdCB2aXN1YWxEZWx0YSA9IGNyZWF0ZURlbHRhKCk7XG4gICAgICAgIGlmIChpc1NoYXJlZCkge1xuICAgICAgICAgICAgY2FsY0JveERlbHRhKHZpc3VhbERlbHRhLCBub2RlLmFwcGx5VHJhbnNmb3JtKG1lYXN1cmVkTGF5b3V0LCB0cnVlKSwgc25hcHNob3QubWVhc3VyZWRCb3gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsY0JveERlbHRhKHZpc3VhbERlbHRhLCBsYXlvdXQsIHNuYXBzaG90LmxheW91dEJveCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzTGF5b3V0Q2hhbmdlZCA9ICFpc0RlbHRhWmVybyhsYXlvdXREZWx0YSk7XG4gICAgICAgIGxldCBoYXNSZWxhdGl2ZUxheW91dENoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFub2RlLnJlc3VtZUZyb20pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGFyZW50ID0gbm9kZS5nZXRDbG9zZXN0UHJvamVjdGluZ1BhcmVudCgpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGUgcmVsYXRpdmVQYXJlbnQgaXMgaXRzZWxmIHJlc3VtaW5nIGZyb20gYSBkaWZmZXJlbnQgZWxlbWVudCB0aGVuXG4gICAgICAgICAgICAgKiB0aGUgcmVsYXRpdmUgc25hcHNob3QgaXMgbm90IHJlbGF2ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhcmVudCAmJiAhcmVsYXRpdmVQYXJlbnQucmVzdW1lRnJvbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc25hcHNob3Q6IHBhcmVudFNuYXBzaG90LCBsYXlvdXQ6IHBhcmVudExheW91dCB9ID0gcmVsYXRpdmVQYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFNuYXBzaG90ICYmIHBhcmVudExheW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVNuYXBzaG90ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGNSZWxhdGl2ZVBvc2l0aW9uKHJlbGF0aXZlU25hcHNob3QsIHNuYXBzaG90LmxheW91dEJveCwgcGFyZW50U25hcHNob3QubGF5b3V0Qm94KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVMYXlvdXQgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlUG9zaXRpb24ocmVsYXRpdmVMYXlvdXQsIGxheW91dCwgcGFyZW50TGF5b3V0LmxheW91dEJveCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYm94RXF1YWxzUm91bmRlZChyZWxhdGl2ZVNuYXBzaG90LCByZWxhdGl2ZUxheW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlbGF0aXZlTGF5b3V0Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGFyZW50Lm9wdGlvbnMubGF5b3V0Um9vdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZWxhdGl2ZVRhcmdldCA9IHJlbGF0aXZlTGF5b3V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZWxhdGl2ZVRhcmdldE9yaWdpbiA9IHJlbGF0aXZlU25hcHNob3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbGF0aXZlUGFyZW50ID0gcmVsYXRpdmVQYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5ub3RpZnlMaXN0ZW5lcnMoXCJkaWRVcGRhdGVcIiwge1xuICAgICAgICAgICAgbGF5b3V0LFxuICAgICAgICAgICAgc25hcHNob3QsXG4gICAgICAgICAgICBkZWx0YTogdmlzdWFsRGVsdGEsXG4gICAgICAgICAgICBsYXlvdXREZWx0YSxcbiAgICAgICAgICAgIGhhc0xheW91dENoYW5nZWQsXG4gICAgICAgICAgICBoYXNSZWxhdGl2ZUxheW91dENoYW5nZWQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLmlzTGVhZCgpKSB7XG4gICAgICAgIGNvbnN0IHsgb25FeGl0Q29tcGxldGUgfSA9IG5vZGUub3B0aW9ucztcbiAgICAgICAgb25FeGl0Q29tcGxldGUgJiYgb25FeGl0Q29tcGxldGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJpbmcgdHJhbnNpdGlvblxuICAgICAqIFRPRE86IEludmVzdGlnYXRlIHdoeSB0aGlzIHRyYW5zaXRpb24gaXMgYmVpbmcgcGFzc2VkIGluIGFzIHt0eXBlOiBmYWxzZSB9IGZyb20gRnJhbWVyXG4gICAgICogYW5kIHdoeSB3ZSBuZWVkIGl0IGF0IGFsbFxuICAgICAqL1xuICAgIG5vZGUub3B0aW9ucy50cmFuc2l0aW9uID0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gcHJvcGFnYXRlRGlydHlOb2Rlcyhub2RlKSB7XG4gICAgLyoqXG4gICAgICogSW5jcmVhc2UgZGVidWcgY291bnRlciBmb3Igbm9kZXMgZW5jb3VudGVyZWQgdGhpcyBmcmFtZVxuICAgICAqL1xuICAgIGlmIChzdGF0c0J1ZmZlci52YWx1ZSkge1xuICAgICAgICBtZXRyaWNzLm5vZGVzKys7XG4gICAgfVxuICAgIGlmICghbm9kZS5wYXJlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICAvKipcbiAgICAgKiBJZiB0aGlzIG5vZGUgaXNuJ3QgcHJvamVjdGluZywgcHJvcGFnYXRlIGlzUHJvamVjdGlvbkRpcnR5LiBJdCB3aWxsIGhhdmVcbiAgICAgKiBubyBwZXJmb3JtYW5jZSBpbXBhY3QgYnV0IGl0IHdpbGwgYWxsb3cgdGhlIG5leHQgY2hpbGQgdGhhdCAqaXMqIHByb2plY3RpbmdcbiAgICAgKiBidXQgKmlzbid0KiBkaXJ0eSB0byBqdXN0IGNoZWNrIGl0cyBwYXJlbnQgdG8gc2VlIGlmICphbnkqIGFuY2VzdG9yIG5lZWRzXG4gICAgICogY29ycmVjdGluZy5cbiAgICAgKi9cbiAgICBpZiAoIW5vZGUuaXNQcm9qZWN0aW5nKCkpIHtcbiAgICAgICAgbm9kZS5pc1Byb2plY3Rpb25EaXJ0eSA9IG5vZGUucGFyZW50LmlzUHJvamVjdGlvbkRpcnR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9wYWdhdGUgaXNTaGFyZWRQcm9qZWN0aW9uRGlydHkgYW5kIGlzVHJhbnNmb3JtRGlydHlcbiAgICAgKiB0aHJvdWdob3V0IHRoZSB3aG9sZSB0cmVlLiBBIGZ1dHVyZSByZXZpc2lvbiBjYW4gdGFrZSBhbm90aGVyIGxvb2sgYXRcbiAgICAgKiB0aGlzIGJ1dCBmb3Igc2FmZXR5IHdlIHN0aWxsIHJlY2FsY3VhbHRlIHNoYXJlZCBub2Rlcy5cbiAgICAgKi9cbiAgICBub2RlLmlzU2hhcmVkUHJvamVjdGlvbkRpcnR5IHx8IChub2RlLmlzU2hhcmVkUHJvamVjdGlvbkRpcnR5ID0gQm9vbGVhbihub2RlLmlzUHJvamVjdGlvbkRpcnR5IHx8XG4gICAgICAgIG5vZGUucGFyZW50LmlzUHJvamVjdGlvbkRpcnR5IHx8XG4gICAgICAgIG5vZGUucGFyZW50LmlzU2hhcmVkUHJvamVjdGlvbkRpcnR5KSk7XG4gICAgbm9kZS5pc1RyYW5zZm9ybURpcnR5IHx8IChub2RlLmlzVHJhbnNmb3JtRGlydHkgPSBub2RlLnBhcmVudC5pc1RyYW5zZm9ybURpcnR5KTtcbn1cbmZ1bmN0aW9uIGNsZWFuRGlydHlOb2Rlcyhub2RlKSB7XG4gICAgbm9kZS5pc1Byb2plY3Rpb25EaXJ0eSA9XG4gICAgICAgIG5vZGUuaXNTaGFyZWRQcm9qZWN0aW9uRGlydHkgPVxuICAgICAgICAgICAgbm9kZS5pc1RyYW5zZm9ybURpcnR5ID1cbiAgICAgICAgICAgICAgICBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNsZWFyU25hcHNob3Qobm9kZSkge1xuICAgIG5vZGUuY2xlYXJTbmFwc2hvdCgpO1xufVxuZnVuY3Rpb24gY2xlYXJNZWFzdXJlbWVudHMobm9kZSkge1xuICAgIG5vZGUuY2xlYXJNZWFzdXJlbWVudHMoKTtcbn1cbmZ1bmN0aW9uIGNsZWFySXNMYXlvdXREaXJ0eShub2RlKSB7XG4gICAgbm9kZS5pc0xheW91dERpcnR5ID0gZmFsc2U7XG59XG5mdW5jdGlvbiByZXNldFRyYW5zZm9ybVN0eWxlKG5vZGUpIHtcbiAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IG5vZGUub3B0aW9ucztcbiAgICBpZiAodmlzdWFsRWxlbWVudCAmJiB2aXN1YWxFbGVtZW50LmdldFByb3BzKCkub25CZWZvcmVMYXlvdXRNZWFzdXJlKSB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnQubm90aWZ5KFwiQmVmb3JlTGF5b3V0TWVhc3VyZVwiKTtcbiAgICB9XG4gICAgbm9kZS5yZXNldFRyYW5zZm9ybSgpO1xufVxuZnVuY3Rpb24gZmluaXNoQW5pbWF0aW9uKG5vZGUpIHtcbiAgICBub2RlLmZpbmlzaEFuaW1hdGlvbigpO1xuICAgIG5vZGUudGFyZ2V0RGVsdGEgPSBub2RlLnJlbGF0aXZlVGFyZ2V0ID0gbm9kZS50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgbm9kZS5pc1Byb2plY3Rpb25EaXJ0eSA9IHRydWU7XG59XG5mdW5jdGlvbiByZXNvbHZlVGFyZ2V0RGVsdGEobm9kZSkge1xuICAgIG5vZGUucmVzb2x2ZVRhcmdldERlbHRhKCk7XG59XG5mdW5jdGlvbiBjYWxjUHJvamVjdGlvbihub2RlKSB7XG4gICAgbm9kZS5jYWxjUHJvamVjdGlvbigpO1xufVxuZnVuY3Rpb24gcmVzZXRTa2V3QW5kUm90YXRpb24obm9kZSkge1xuICAgIG5vZGUucmVzZXRTa2V3QW5kUm90YXRpb24oKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUxlYWRTbmFwc2hvdHMoc3RhY2spIHtcbiAgICBzdGFjay5yZW1vdmVMZWFkU25hcHNob3QoKTtcbn1cbmZ1bmN0aW9uIG1peEF4aXNEZWx0YShvdXRwdXQsIGRlbHRhLCBwKSB7XG4gICAgb3V0cHV0LnRyYW5zbGF0ZSA9IG1peE51bWJlcihkZWx0YS50cmFuc2xhdGUsIDAsIHApO1xuICAgIG91dHB1dC5zY2FsZSA9IG1peE51bWJlcihkZWx0YS5zY2FsZSwgMSwgcCk7XG4gICAgb3V0cHV0Lm9yaWdpbiA9IGRlbHRhLm9yaWdpbjtcbiAgICBvdXRwdXQub3JpZ2luUG9pbnQgPSBkZWx0YS5vcmlnaW5Qb2ludDtcbn1cbmZ1bmN0aW9uIG1peEF4aXMob3V0cHV0LCBmcm9tLCB0bywgcCkge1xuICAgIG91dHB1dC5taW4gPSBtaXhOdW1iZXIoZnJvbS5taW4sIHRvLm1pbiwgcCk7XG4gICAgb3V0cHV0Lm1heCA9IG1peE51bWJlcihmcm9tLm1heCwgdG8ubWF4LCBwKTtcbn1cbmZ1bmN0aW9uIG1peEJveChvdXRwdXQsIGZyb20sIHRvLCBwKSB7XG4gICAgbWl4QXhpcyhvdXRwdXQueCwgZnJvbS54LCB0by54LCBwKTtcbiAgICBtaXhBeGlzKG91dHB1dC55LCBmcm9tLnksIHRvLnksIHApO1xufVxuZnVuY3Rpb24gaGFzT3BhY2l0eUNyb3NzZmFkZShub2RlKSB7XG4gICAgcmV0dXJuIChub2RlLmFuaW1hdGlvblZhbHVlcyAmJiBub2RlLmFuaW1hdGlvblZhbHVlcy5vcGFjaXR5RXhpdCAhPT0gdW5kZWZpbmVkKTtcbn1cbmNvbnN0IGRlZmF1bHRMYXlvdXRUcmFuc2l0aW9uID0ge1xuICAgIGR1cmF0aW9uOiAwLjQ1LFxuICAgIGVhc2U6IFswLjQsIDAsIDAuMSwgMV0sXG59O1xuY29uc3QgdXNlckFnZW50Q29udGFpbnMgPSAoc3RyaW5nKSA9PiB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJlxuICAgIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzdHJpbmcpO1xuLyoqXG4gKiBNZWFzdXJlZCBib3VuZGluZyBib3hlcyBtdXN0IGJlIHJvdW5kZWQgaW4gU2FmYXJpIGFuZFxuICogbGVmdCB1bnRvdWNoZWQgaW4gQ2hyb21lLCBvdGhlcndpc2Ugbm9uLWludGVnZXIgbGF5b3V0cyB3aXRoaW4gc2NhbGVkLXVwIGVsZW1lbnRzXG4gKiBjYW4gYXBwZWFyIHRvIGp1bXAuXG4gKi9cbmNvbnN0IHJvdW5kUG9pbnQgPSB1c2VyQWdlbnRDb250YWlucyhcImFwcGxld2Via2l0L1wiKSAmJiAhdXNlckFnZW50Q29udGFpbnMoXCJjaHJvbWUvXCIpXG4gICAgPyBNYXRoLnJvdW5kXG4gICAgOiBub29wO1xuZnVuY3Rpb24gcm91bmRBeGlzKGF4aXMpIHtcbiAgICAvLyBSb3VuZCB0byB0aGUgbmVhcmVzdCAuNSBwaXhlbHMgdG8gc3VwcG9ydCBzdWJwaXhlbCBsYXlvdXRzXG4gICAgYXhpcy5taW4gPSByb3VuZFBvaW50KGF4aXMubWluKTtcbiAgICBheGlzLm1heCA9IHJvdW5kUG9pbnQoYXhpcy5tYXgpO1xufVxuZnVuY3Rpb24gcm91bmRCb3goYm94KSB7XG4gICAgcm91bmRBeGlzKGJveC54KTtcbiAgICByb3VuZEF4aXMoYm94LnkpO1xufVxuZnVuY3Rpb24gc2hvdWxkQW5pbWF0ZVBvc2l0aW9uT25seShhbmltYXRpb25UeXBlLCBzbmFwc2hvdCwgbGF5b3V0KSB7XG4gICAgcmV0dXJuIChhbmltYXRpb25UeXBlID09PSBcInBvc2l0aW9uXCIgfHxcbiAgICAgICAgKGFuaW1hdGlvblR5cGUgPT09IFwicHJlc2VydmUtYXNwZWN0XCIgJiZcbiAgICAgICAgICAgICFpc05lYXIoYXNwZWN0UmF0aW8oc25hcHNob3QpLCBhc3BlY3RSYXRpbyhsYXlvdXQpLCAwLjIpKSk7XG59XG5mdW5jdGlvbiBjaGVja05vZGVXYXNTY3JvbGxSb290KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSAhPT0gbm9kZS5yb290ICYmIG5vZGUuc2Nyb2xsPy53YXNSb290O1xufVxuXG5leHBvcnQgeyBjbGVhbkRpcnR5Tm9kZXMsIGNyZWF0ZVByb2plY3Rpb25Ob2RlLCBtaXhBeGlzLCBtaXhBeGlzRGVsdGEsIG1peEJveCwgcHJvcGFnYXRlRGlydHlOb2RlcyB9O1xuIiwgImltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGFuaW1hdGVNb3Rpb25WYWx1ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBtb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS9pbmRleC5tanMnO1xuXG5mdW5jdGlvbiBhbmltYXRlU2luZ2xlVmFsdWUodmFsdWUsIGtleWZyYW1lcywgb3B0aW9ucykge1xuICAgIGNvbnN0IG1vdGlvblZhbHVlJDEgPSBpc01vdGlvblZhbHVlKHZhbHVlKSA/IHZhbHVlIDogbW90aW9uVmFsdWUodmFsdWUpO1xuICAgIG1vdGlvblZhbHVlJDEuc3RhcnQoYW5pbWF0ZU1vdGlvblZhbHVlKFwiXCIsIG1vdGlvblZhbHVlJDEsIGtleWZyYW1lcywgb3B0aW9ucykpO1xuICAgIHJldHVybiBtb3Rpb25WYWx1ZSQxLmFuaW1hdGlvbjtcbn1cblxuZXhwb3J0IHsgYW5pbWF0ZVNpbmdsZVZhbHVlIH07XG4iLCAiZnVuY3Rpb24gaXNTVkdFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgZWxlbWVudC50YWdOYW1lICE9PSBcInN2Z1wiO1xufVxuXG5leHBvcnQgeyBpc1NWR0VsZW1lbnQgfTtcbiIsICJpbXBvcnQgeyBjb21wYXJlQnlEZXB0aCB9IGZyb20gJy4vY29tcGFyZS1ieS1kZXB0aC5tanMnO1xuaW1wb3J0IHsgYWRkVW5pcXVlSXRlbSwgcmVtb3ZlSXRlbSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2FycmF5Lm1qcyc7XG5cbmNsYXNzIEZsYXRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICB9XG4gICAgYWRkKGNoaWxkKSB7XG4gICAgICAgIGFkZFVuaXF1ZUl0ZW0odGhpcy5jaGlsZHJlbiwgY2hpbGQpO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICByZW1vdmUoY2hpbGQpIHtcbiAgICAgICAgcmVtb3ZlSXRlbSh0aGlzLmNoaWxkcmVuLCBjaGlsZCk7XG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5pc0RpcnR5ICYmIHRoaXMuY2hpbGRyZW4uc29ydChjb21wYXJlQnlEZXB0aCk7XG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goY2FsbGJhY2spO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgRmxhdFRyZWUgfTtcbiIsICJjb25zdCBjb21wYXJlQnlEZXB0aCA9IChhLCBiKSA9PiBhLmRlcHRoIC0gYi5kZXB0aDtcblxuZXhwb3J0IHsgY29tcGFyZUJ5RGVwdGggfTtcbiIsICJpbXBvcnQgeyB0aW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9zeW5jLXRpbWUubWpzJztcbmltcG9ydCB7IGZyYW1lLCBjYW5jZWxGcmFtZSB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3AvZnJhbWUubWpzJztcbmltcG9ydCB7IHNlY29uZHNUb01pbGxpc2Vjb25kcyB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuXG4vKipcbiAqIFRpbWVvdXQgZGVmaW5lZCBpbiBtc1xuICovXG5mdW5jdGlvbiBkZWxheShjYWxsYmFjaywgdGltZW91dCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gdGltZS5ub3coKTtcbiAgICBjb25zdCBjaGVja0VsYXBzZWQgPSAoeyB0aW1lc3RhbXAgfSkgPT4ge1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gdGltZXN0YW1wIC0gc3RhcnQ7XG4gICAgICAgIGlmIChlbGFwc2VkID49IHRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNhbmNlbEZyYW1lKGNoZWNrRWxhcHNlZCk7XG4gICAgICAgICAgICBjYWxsYmFjayhlbGFwc2VkIC0gdGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZyYW1lLnNldHVwKGNoZWNrRWxhcHNlZCwgdHJ1ZSk7XG4gICAgcmV0dXJuICgpID0+IGNhbmNlbEZyYW1lKGNoZWNrRWxhcHNlZCk7XG59XG5mdW5jdGlvbiBkZWxheUluU2Vjb25kcyhjYWxsYmFjaywgdGltZW91dCkge1xuICAgIHJldHVybiBkZWxheShjYWxsYmFjaywgc2Vjb25kc1RvTWlsbGlzZWNvbmRzKHRpbWVvdXQpKTtcbn1cblxuZXhwb3J0IHsgZGVsYXksIGRlbGF5SW5TZWNvbmRzIH07XG4iLCAiaW1wb3J0IHsgbWl4TnVtYmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL21peC9udW1iZXIubWpzJztcbmltcG9ydCB7IHBlcmNlbnQsIHB4IH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcbmltcG9ydCB7IHByb2dyZXNzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvcHJvZ3Jlc3MubWpzJztcbmltcG9ydCB7IGNpcmNPdXQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lYXNpbmcvY2lyYy5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL25vb3AubWpzJztcblxuY29uc3QgYm9yZGVycyA9IFtcIlRvcExlZnRcIiwgXCJUb3BSaWdodFwiLCBcIkJvdHRvbUxlZnRcIiwgXCJCb3R0b21SaWdodFwiXTtcbmNvbnN0IG51bUJvcmRlcnMgPSBib3JkZXJzLmxlbmd0aDtcbmNvbnN0IGFzTnVtYmVyID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IHZhbHVlO1xuY29uc3QgaXNQeCA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8IHB4LnRlc3QodmFsdWUpO1xuZnVuY3Rpb24gbWl4VmFsdWVzKHRhcmdldCwgZm9sbG93LCBsZWFkLCBwcm9ncmVzcywgc2hvdWxkQ3Jvc3NmYWRlT3BhY2l0eSwgaXNPbmx5TWVtYmVyKSB7XG4gICAgaWYgKHNob3VsZENyb3NzZmFkZU9wYWNpdHkpIHtcbiAgICAgICAgdGFyZ2V0Lm9wYWNpdHkgPSBtaXhOdW1iZXIoMCwgbGVhZC5vcGFjaXR5ID8/IDEsIGVhc2VDcm9zc2ZhZGVJbihwcm9ncmVzcykpO1xuICAgICAgICB0YXJnZXQub3BhY2l0eUV4aXQgPSBtaXhOdW1iZXIoZm9sbG93Lm9wYWNpdHkgPz8gMSwgMCwgZWFzZUNyb3NzZmFkZU91dChwcm9ncmVzcykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09ubHlNZW1iZXIpIHtcbiAgICAgICAgdGFyZ2V0Lm9wYWNpdHkgPSBtaXhOdW1iZXIoZm9sbG93Lm9wYWNpdHkgPz8gMSwgbGVhZC5vcGFjaXR5ID8/IDEsIHByb2dyZXNzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4IGJvcmRlciByYWRpdXNcbiAgICAgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUJvcmRlcnM7IGkrKykge1xuICAgICAgICBjb25zdCBib3JkZXJMYWJlbCA9IGBib3JkZXIke2JvcmRlcnNbaV19UmFkaXVzYDtcbiAgICAgICAgbGV0IGZvbGxvd1JhZGl1cyA9IGdldFJhZGl1cyhmb2xsb3csIGJvcmRlckxhYmVsKTtcbiAgICAgICAgbGV0IGxlYWRSYWRpdXMgPSBnZXRSYWRpdXMobGVhZCwgYm9yZGVyTGFiZWwpO1xuICAgICAgICBpZiAoZm9sbG93UmFkaXVzID09PSB1bmRlZmluZWQgJiYgbGVhZFJhZGl1cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGZvbGxvd1JhZGl1cyB8fCAoZm9sbG93UmFkaXVzID0gMCk7XG4gICAgICAgIGxlYWRSYWRpdXMgfHwgKGxlYWRSYWRpdXMgPSAwKTtcbiAgICAgICAgY29uc3QgY2FuTWl4ID0gZm9sbG93UmFkaXVzID09PSAwIHx8XG4gICAgICAgICAgICBsZWFkUmFkaXVzID09PSAwIHx8XG4gICAgICAgICAgICBpc1B4KGZvbGxvd1JhZGl1cykgPT09IGlzUHgobGVhZFJhZGl1cyk7XG4gICAgICAgIGlmIChjYW5NaXgpIHtcbiAgICAgICAgICAgIHRhcmdldFtib3JkZXJMYWJlbF0gPSBNYXRoLm1heChtaXhOdW1iZXIoYXNOdW1iZXIoZm9sbG93UmFkaXVzKSwgYXNOdW1iZXIobGVhZFJhZGl1cyksIHByb2dyZXNzKSwgMCk7XG4gICAgICAgICAgICBpZiAocGVyY2VudC50ZXN0KGxlYWRSYWRpdXMpIHx8IHBlcmNlbnQudGVzdChmb2xsb3dSYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2JvcmRlckxhYmVsXSArPSBcIiVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtib3JkZXJMYWJlbF0gPSBsZWFkUmFkaXVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1peCByb3RhdGlvblxuICAgICAqL1xuICAgIGlmIChmb2xsb3cucm90YXRlIHx8IGxlYWQucm90YXRlKSB7XG4gICAgICAgIHRhcmdldC5yb3RhdGUgPSBtaXhOdW1iZXIoZm9sbG93LnJvdGF0ZSB8fCAwLCBsZWFkLnJvdGF0ZSB8fCAwLCBwcm9ncmVzcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0UmFkaXVzKHZhbHVlcywgcmFkaXVzTmFtZSkge1xuICAgIHJldHVybiB2YWx1ZXNbcmFkaXVzTmFtZV0gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHZhbHVlc1tyYWRpdXNOYW1lXVxuICAgICAgICA6IHZhbHVlcy5ib3JkZXJSYWRpdXM7XG59XG4vLyAvKipcbi8vICAqIFdlIG9ubHkgd2FudCB0byBtaXggdGhlIGJhY2tncm91bmQgY29sb3IgaWYgdGhlcmUncyBhIGZvbGxvdyBlbGVtZW50XG4vLyAgKiB0aGF0IHdlJ3JlIG5vdCBjcm9zc2ZhZGluZyBvcGFjaXR5IGJldHdlZW4uIEZvciBpbnN0YW5jZSB3aXRoIHN3aXRjaFxuLy8gICogQW5pbWF0ZVNoYXJlZExheW91dCBhbmltYXRpb25zLCB0aGlzIGhlbHBzIHRoZSBpbGx1c2lvbiBvZiBhIGNvbnRpbnVvdXNcbi8vICAqIGVsZW1lbnQgYmVpbmcgYW5pbWF0ZWQgYnV0IGFsc28gY3V0cyBkb3duIG9uIHRoZSBudW1iZXIgb2YgcGFpbnRzIHRyaWdnZXJlZFxuLy8gICogZm9yIGVsZW1lbnRzIHdoZXJlIG9wYWNpdHkgaXMgZG9pbmcgdGhhdCB3b3JrIGZvciB1cy5cbi8vICAqL1xuLy8gaWYgKFxuLy8gICAgICFoYXNGb2xsb3dFbGVtZW50ICYmXG4vLyAgICAgbGF0ZXN0TGVhZFZhbHVlcy5iYWNrZ3JvdW5kQ29sb3IgJiZcbi8vICAgICBsYXRlc3RGb2xsb3dWYWx1ZXMuYmFja2dyb3VuZENvbG9yXG4vLyApIHtcbi8vICAgICAvKipcbi8vICAgICAgKiBUaGlzIGlzbid0IGlkZWFsIHBlcmZvcm1hbmNlLXdpc2UgYXMgbWl4Q29sb3IgaXMgY3JlYXRpbmcgYSBuZXcgZnVuY3Rpb24gZXZlcnkgZnJhbWUuXG4vLyAgICAgICogV2UgY291bGQgcHJvYmFibHkgY3JlYXRlIGEgbWl4ZXIgdGhhdCBydW5zIGF0IHRoZSBzdGFydCBvZiB0aGUgYW5pbWF0aW9uIGJ1dFxuLy8gICAgICAqIHRoZSBpZGVhIGJlaGluZCB0aGUgY3Jvc3NmYWRlciBpcyB0aGF0IGl0IHJ1bnMgZHluYW1pY2FsbHkgYmV0d2VlbiB0d28gcG90ZW50aWFsbHlcbi8vICAgICAgKiBjaGFuZ2luZyB0YXJnZXRzIChpZSBvcGFjaXR5IG9yIGJvcmRlclJhZGl1cyBtYXkgYmUgYW5pbWF0aW5nIGluZGVwZW5kZW50bHkgdmlhIHZhcmlhbnRzKVxuLy8gICAgICAqL1xuLy8gICAgIGxlYWRTdGF0ZS5iYWNrZ3JvdW5kQ29sb3IgPSBmb2xsb3dTdGF0ZS5iYWNrZ3JvdW5kQ29sb3IgPSBtaXhDb2xvcihcbi8vICAgICAgICAgbGF0ZXN0Rm9sbG93VmFsdWVzLmJhY2tncm91bmRDb2xvciBhcyBzdHJpbmcsXG4vLyAgICAgICAgIGxhdGVzdExlYWRWYWx1ZXMuYmFja2dyb3VuZENvbG9yIGFzIHN0cmluZ1xuLy8gICAgICkocClcbi8vIH1cbmNvbnN0IGVhc2VDcm9zc2ZhZGVJbiA9IC8qQF9fUFVSRV9fKi8gY29tcHJlc3MoMCwgMC41LCBjaXJjT3V0KTtcbmNvbnN0IGVhc2VDcm9zc2ZhZGVPdXQgPSAvKkBfX1BVUkVfXyovIGNvbXByZXNzKDAuNSwgMC45NSwgbm9vcCk7XG5mdW5jdGlvbiBjb21wcmVzcyhtaW4sIG1heCwgZWFzaW5nKSB7XG4gICAgcmV0dXJuIChwKSA9PiB7XG4gICAgICAgIC8vIENvdWxkIHJlcGxhY2UgaWZzIHdpdGggY2xhbXBcbiAgICAgICAgaWYgKHAgPCBtaW4pXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgaWYgKHAgPiBtYXgpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgcmV0dXJuIGVhc2luZyhwcm9ncmVzcyhtaW4sIG1heCwgcCkpO1xuICAgIH07XG59XG5cbmV4cG9ydCB7IG1peFZhbHVlcyB9O1xuIiwgIi8qKlxuICogUmVzZXQgYW4gYXhpcyB0byB0aGUgcHJvdmlkZWQgb3JpZ2luIGJveC5cbiAqXG4gKiBUaGlzIGlzIGEgbXV0YXRpdmUgb3BlcmF0aW9uLlxuICovXG5mdW5jdGlvbiBjb3B5QXhpc0ludG8oYXhpcywgb3JpZ2luQXhpcykge1xuICAgIGF4aXMubWluID0gb3JpZ2luQXhpcy5taW47XG4gICAgYXhpcy5tYXggPSBvcmlnaW5BeGlzLm1heDtcbn1cbi8qKlxuICogUmVzZXQgYSBib3ggdG8gdGhlIHByb3ZpZGVkIG9yaWdpbiBib3guXG4gKlxuICogVGhpcyBpcyBhIG11dGF0aXZlIG9wZXJhdGlvbi5cbiAqL1xuZnVuY3Rpb24gY29weUJveEludG8oYm94LCBvcmlnaW5Cb3gpIHtcbiAgICBjb3B5QXhpc0ludG8oYm94LngsIG9yaWdpbkJveC54KTtcbiAgICBjb3B5QXhpc0ludG8oYm94LnksIG9yaWdpbkJveC55KTtcbn1cbi8qKlxuICogUmVzZXQgYSBkZWx0YSB0byB0aGUgcHJvdmlkZWQgb3JpZ2luIGJveC5cbiAqXG4gKiBUaGlzIGlzIGEgbXV0YXRpdmUgb3BlcmF0aW9uLlxuICovXG5mdW5jdGlvbiBjb3B5QXhpc0RlbHRhSW50byhkZWx0YSwgb3JpZ2luRGVsdGEpIHtcbiAgICBkZWx0YS50cmFuc2xhdGUgPSBvcmlnaW5EZWx0YS50cmFuc2xhdGU7XG4gICAgZGVsdGEuc2NhbGUgPSBvcmlnaW5EZWx0YS5zY2FsZTtcbiAgICBkZWx0YS5vcmlnaW5Qb2ludCA9IG9yaWdpbkRlbHRhLm9yaWdpblBvaW50O1xuICAgIGRlbHRhLm9yaWdpbiA9IG9yaWdpbkRlbHRhLm9yaWdpbjtcbn1cblxuZXhwb3J0IHsgY29weUF4aXNEZWx0YUludG8sIGNvcHlBeGlzSW50bywgY29weUJveEludG8gfTtcbiIsICJpbXBvcnQgeyBzY2FsZVBvaW50IH0gZnJvbSAnLi9kZWx0YS1hcHBseS5tanMnO1xuaW1wb3J0IHsgcGVyY2VudCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS90eXBlcy9udW1iZXJzL3VuaXRzLm1qcyc7XG5pbXBvcnQgeyBtaXhOdW1iZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvbWl4L251bWJlci5tanMnO1xuXG4vKipcbiAqIFJlbW92ZSBhIGRlbHRhIGZyb20gYSBwb2ludC4gVGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgc3RlcHMgb2YgYXBwbHlQb2ludERlbHRhIGluIHJldmVyc2VcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlUG9pbnREZWx0YShwb2ludCwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKSB7XG4gICAgcG9pbnQgLT0gdHJhbnNsYXRlO1xuICAgIHBvaW50ID0gc2NhbGVQb2ludChwb2ludCwgMSAvIHNjYWxlLCBvcmlnaW5Qb2ludCk7XG4gICAgaWYgKGJveFNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcG9pbnQgPSBzY2FsZVBvaW50KHBvaW50LCAxIC8gYm94U2NhbGUsIG9yaWdpblBvaW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufVxuLyoqXG4gKiBSZW1vdmUgYSBkZWx0YSBmcm9tIGFuIGF4aXMuIFRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIHN0ZXBzIG9mIGFwcGx5QXhpc0RlbHRhIGluIHJldmVyc2VcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQXhpc0RlbHRhKGF4aXMsIHRyYW5zbGF0ZSA9IDAsIHNjYWxlID0gMSwgb3JpZ2luID0gMC41LCBib3hTY2FsZSwgb3JpZ2luQXhpcyA9IGF4aXMsIHNvdXJjZUF4aXMgPSBheGlzKSB7XG4gICAgaWYgKHBlcmNlbnQudGVzdCh0cmFuc2xhdGUpKSB7XG4gICAgICAgIHRyYW5zbGF0ZSA9IHBhcnNlRmxvYXQodHJhbnNsYXRlKTtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVQcm9ncmVzcyA9IG1peE51bWJlcihzb3VyY2VBeGlzLm1pbiwgc291cmNlQXhpcy5tYXgsIHRyYW5zbGF0ZSAvIDEwMCk7XG4gICAgICAgIHRyYW5zbGF0ZSA9IHJlbGF0aXZlUHJvZ3Jlc3MgLSBzb3VyY2VBeGlzLm1pbjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0cmFuc2xhdGUgIT09IFwibnVtYmVyXCIpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgb3JpZ2luUG9pbnQgPSBtaXhOdW1iZXIob3JpZ2luQXhpcy5taW4sIG9yaWdpbkF4aXMubWF4LCBvcmlnaW4pO1xuICAgIGlmIChheGlzID09PSBvcmlnaW5BeGlzKVxuICAgICAgICBvcmlnaW5Qb2ludCAtPSB0cmFuc2xhdGU7XG4gICAgYXhpcy5taW4gPSByZW1vdmVQb2ludERlbHRhKGF4aXMubWluLCB0cmFuc2xhdGUsIHNjYWxlLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpO1xuICAgIGF4aXMubWF4ID0gcmVtb3ZlUG9pbnREZWx0YShheGlzLm1heCwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKTtcbn1cbi8qKlxuICogUmVtb3ZlIGEgdHJhbnNmb3JtcyBmcm9tIGFuIGF4aXMuIFRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIHN0ZXBzIG9mIGFwcGx5QXhpc1RyYW5zZm9ybXMgaW4gcmV2ZXJzZVxuICogYW5kIGFjdHMgYXMgYSBicmlkZ2UgYmV0d2VlbiBtb3Rpb24gdmFsdWVzIGFuZCByZW1vdmVBeGlzRGVsdGFcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQXhpc1RyYW5zZm9ybXMoYXhpcywgdHJhbnNmb3JtcywgW2tleSwgc2NhbGVLZXksIG9yaWdpbktleV0sIG9yaWdpbiwgc291cmNlQXhpcykge1xuICAgIHJlbW92ZUF4aXNEZWx0YShheGlzLCB0cmFuc2Zvcm1zW2tleV0sIHRyYW5zZm9ybXNbc2NhbGVLZXldLCB0cmFuc2Zvcm1zW29yaWdpbktleV0sIHRyYW5zZm9ybXMuc2NhbGUsIG9yaWdpbiwgc291cmNlQXhpcyk7XG59XG4vKipcbiAqIFRoZSBuYW1lcyBvZiB0aGUgbW90aW9uIHZhbHVlcyB3ZSB3YW50IHRvIGFwcGx5IGFzIHRyYW5zbGF0aW9uLCBzY2FsZSBhbmQgb3JpZ2luLlxuICovXG5jb25zdCB4S2V5cyA9IFtcInhcIiwgXCJzY2FsZVhcIiwgXCJvcmlnaW5YXCJdO1xuY29uc3QgeUtleXMgPSBbXCJ5XCIsIFwic2NhbGVZXCIsIFwib3JpZ2luWVwiXTtcbi8qKlxuICogUmVtb3ZlIGEgdHJhbnNmb3JtcyBmcm9tIGFuIGJveC4gVGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgc3RlcHMgb2YgYXBwbHlBeGlzQm94IGluIHJldmVyc2VcbiAqIGFuZCBhY3RzIGFzIGEgYnJpZGdlIGJldHdlZW4gbW90aW9uIHZhbHVlcyBhbmQgcmVtb3ZlQXhpc0RlbHRhXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJveFRyYW5zZm9ybXMoYm94LCB0cmFuc2Zvcm1zLCBvcmlnaW5Cb3gsIHNvdXJjZUJveCkge1xuICAgIHJlbW92ZUF4aXNUcmFuc2Zvcm1zKGJveC54LCB0cmFuc2Zvcm1zLCB4S2V5cywgb3JpZ2luQm94ID8gb3JpZ2luQm94LnggOiB1bmRlZmluZWQsIHNvdXJjZUJveCA/IHNvdXJjZUJveC54IDogdW5kZWZpbmVkKTtcbiAgICByZW1vdmVBeGlzVHJhbnNmb3Jtcyhib3gueSwgdHJhbnNmb3JtcywgeUtleXMsIG9yaWdpbkJveCA/IG9yaWdpbkJveC55IDogdW5kZWZpbmVkLCBzb3VyY2VCb3ggPyBzb3VyY2VCb3gueSA6IHVuZGVmaW5lZCk7XG59XG5cbmV4cG9ydCB7IHJlbW92ZUF4aXNEZWx0YSwgcmVtb3ZlQXhpc1RyYW5zZm9ybXMsIHJlbW92ZUJveFRyYW5zZm9ybXMsIHJlbW92ZVBvaW50RGVsdGEgfTtcbiIsICJpbXBvcnQgeyBjYWxjTGVuZ3RoIH0gZnJvbSAnLi9kZWx0YS1jYWxjLm1qcyc7XG5cbmZ1bmN0aW9uIGlzQXhpc0RlbHRhWmVybyhkZWx0YSkge1xuICAgIHJldHVybiBkZWx0YS50cmFuc2xhdGUgPT09IDAgJiYgZGVsdGEuc2NhbGUgPT09IDE7XG59XG5mdW5jdGlvbiBpc0RlbHRhWmVybyhkZWx0YSkge1xuICAgIHJldHVybiBpc0F4aXNEZWx0YVplcm8oZGVsdGEueCkgJiYgaXNBeGlzRGVsdGFaZXJvKGRlbHRhLnkpO1xufVxuZnVuY3Rpb24gYXhpc0VxdWFscyhhLCBiKSB7XG4gICAgcmV0dXJuIGEubWluID09PSBiLm1pbiAmJiBhLm1heCA9PT0gYi5tYXg7XG59XG5mdW5jdGlvbiBib3hFcXVhbHMoYSwgYikge1xuICAgIHJldHVybiBheGlzRXF1YWxzKGEueCwgYi54KSAmJiBheGlzRXF1YWxzKGEueSwgYi55KTtcbn1cbmZ1bmN0aW9uIGF4aXNFcXVhbHNSb3VuZGVkKGEsIGIpIHtcbiAgICByZXR1cm4gKE1hdGgucm91bmQoYS5taW4pID09PSBNYXRoLnJvdW5kKGIubWluKSAmJlxuICAgICAgICBNYXRoLnJvdW5kKGEubWF4KSA9PT0gTWF0aC5yb3VuZChiLm1heCkpO1xufVxuZnVuY3Rpb24gYm94RXF1YWxzUm91bmRlZChhLCBiKSB7XG4gICAgcmV0dXJuIGF4aXNFcXVhbHNSb3VuZGVkKGEueCwgYi54KSAmJiBheGlzRXF1YWxzUm91bmRlZChhLnksIGIueSk7XG59XG5mdW5jdGlvbiBhc3BlY3RSYXRpbyhib3gpIHtcbiAgICByZXR1cm4gY2FsY0xlbmd0aChib3gueCkgLyBjYWxjTGVuZ3RoKGJveC55KTtcbn1cbmZ1bmN0aW9uIGF4aXNEZWx0YUVxdWFscyhhLCBiKSB7XG4gICAgcmV0dXJuIChhLnRyYW5zbGF0ZSA9PT0gYi50cmFuc2xhdGUgJiZcbiAgICAgICAgYS5zY2FsZSA9PT0gYi5zY2FsZSAmJlxuICAgICAgICBhLm9yaWdpblBvaW50ID09PSBiLm9yaWdpblBvaW50KTtcbn1cblxuZXhwb3J0IHsgYXNwZWN0UmF0aW8sIGF4aXNEZWx0YUVxdWFscywgYXhpc0VxdWFscywgYXhpc0VxdWFsc1JvdW5kZWQsIGJveEVxdWFscywgYm94RXF1YWxzUm91bmRlZCwgaXNEZWx0YVplcm8gfTtcbiIsICJpbXBvcnQgeyBhZGRVbmlxdWVJdGVtLCByZW1vdmVJdGVtIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvYXJyYXkubWpzJztcblxuY2xhc3MgTm9kZVN0YWNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZW1iZXJzID0gW107XG4gICAgfVxuICAgIGFkZChub2RlKSB7XG4gICAgICAgIGFkZFVuaXF1ZUl0ZW0odGhpcy5tZW1iZXJzLCBub2RlKTtcbiAgICAgICAgbm9kZS5zY2hlZHVsZVJlbmRlcigpO1xuICAgIH1cbiAgICByZW1vdmUobm9kZSkge1xuICAgICAgICByZW1vdmVJdGVtKHRoaXMubWVtYmVycywgbm9kZSk7XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLnByZXZMZWFkKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZMZWFkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLmxlYWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZMZWFkID0gdGhpcy5tZW1iZXJzW3RoaXMubWVtYmVycy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChwcmV2TGVhZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvbW90ZShwcmV2TGVhZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVsZWdhdGUobm9kZSkge1xuICAgICAgICBjb25zdCBpbmRleE9mTm9kZSA9IHRoaXMubWVtYmVycy5maW5kSW5kZXgoKG1lbWJlcikgPT4gbm9kZSA9PT0gbWVtYmVyKTtcbiAgICAgICAgaWYgKGluZGV4T2ZOb2RlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCB0aGUgbmV4dCBwcm9qZWN0aW9uIG5vZGUgdGhhdCBpcyBwcmVzZW50XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgcHJldkxlYWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleE9mTm9kZTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IHRoaXMubWVtYmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChtZW1iZXIuaXNQcmVzZW50ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHByZXZMZWFkID0gbWVtYmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2TGVhZCkge1xuICAgICAgICAgICAgdGhpcy5wcm9tb3RlKHByZXZMZWFkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb21vdGUobm9kZSwgcHJlc2VydmVGb2xsb3dPcGFjaXR5KSB7XG4gICAgICAgIGNvbnN0IHByZXZMZWFkID0gdGhpcy5sZWFkO1xuICAgICAgICBpZiAobm9kZSA9PT0gcHJldkxlYWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMucHJldkxlYWQgPSBwcmV2TGVhZDtcbiAgICAgICAgdGhpcy5sZWFkID0gbm9kZTtcbiAgICAgICAgbm9kZS5zaG93KCk7XG4gICAgICAgIGlmIChwcmV2TGVhZCkge1xuICAgICAgICAgICAgcHJldkxlYWQuaW5zdGFuY2UgJiYgcHJldkxlYWQuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgIG5vZGUuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgIG5vZGUucmVzdW1lRnJvbSA9IHByZXZMZWFkO1xuICAgICAgICAgICAgaWYgKHByZXNlcnZlRm9sbG93T3BhY2l0eSkge1xuICAgICAgICAgICAgICAgIG5vZGUucmVzdW1lRnJvbS5wcmVzZXJ2ZU9wYWNpdHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZMZWFkLnNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5zbmFwc2hvdCA9IHByZXZMZWFkLnNuYXBzaG90O1xuICAgICAgICAgICAgICAgIG5vZGUuc25hcHNob3QubGF0ZXN0VmFsdWVzID1cbiAgICAgICAgICAgICAgICAgICAgcHJldkxlYWQuYW5pbWF0aW9uVmFsdWVzIHx8IHByZXZMZWFkLmxhdGVzdFZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLnJvb3QgJiYgbm9kZS5yb290LmlzVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBub2RlLmlzTGF5b3V0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBjcm9zc2ZhZGUgfSA9IG5vZGUub3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjcm9zc2ZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcHJldkxlYWQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUT0RPOlxuICAgICAgICAgICAgICogICAtIFRlc3QgYm9yZGVyIHJhZGl1cyB3aGVuIHByZXZpb3VzIG5vZGUgd2FzIGRlbGV0ZWRcbiAgICAgICAgICAgICAqICAgLSBib3hTaGFkb3cgbWl4aW5nXG4gICAgICAgICAgICAgKiAgIC0gU2hhcmVkIGJldHdlZW4gZWxlbWVudCBBIGluIHNjcm9sbGVkIGNvbnRhaW5lciBhbmQgZWxlbWVudCBCIChzY3JvbGwgc3RheXMgdGhlIHNhbWUgb3IgY2hhbmdlcylcbiAgICAgICAgICAgICAqICAgLSBTaGFyZWQgYmV0d2VlbiBlbGVtZW50IEEgaW4gdHJhbnNmb3JtZWQgY29udGFpbmVyIGFuZCBlbGVtZW50IEIgKHRyYW5zZm9ybSBzdGF5cyB0aGUgc2FtZSBvciBjaGFuZ2VzKVxuICAgICAgICAgICAgICogICAtIFNoYXJlZCBiZXR3ZWVuIGVsZW1lbnQgQSBpbiBzY3JvbGxlZCBwYWdlIGFuZCBlbGVtZW50IEIgKHNjcm9sbCBzdGF5cyB0aGUgc2FtZSBvciBjaGFuZ2VzKVxuICAgICAgICAgICAgICogLS0tXG4gICAgICAgICAgICAgKiAgIC0gQ3Jvc3NmYWRlIG9wYWNpdHkgb2Ygcm9vdCBub2Rlc1xuICAgICAgICAgICAgICogICAtIGxheW91dElkIGNoYW5nZXMgYWZ0ZXIgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKiAgIC0gbGF5b3V0SWQgY2hhbmdlcyBtaWQgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgfVxuICAgIH1cbiAgICBleGl0QW5pbWF0aW9uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMubWVtYmVycy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHJlc3VtaW5nRnJvbSB9ID0gbm9kZTtcbiAgICAgICAgICAgIG9wdGlvbnMub25FeGl0Q29tcGxldGUgJiYgb3B0aW9ucy5vbkV4aXRDb21wbGV0ZSgpO1xuICAgICAgICAgICAgaWYgKHJlc3VtaW5nRnJvbSkge1xuICAgICAgICAgICAgICAgIHJlc3VtaW5nRnJvbS5vcHRpb25zLm9uRXhpdENvbXBsZXRlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlc3VtaW5nRnJvbS5vcHRpb25zLm9uRXhpdENvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY2hlZHVsZVJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5tZW1iZXJzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgIG5vZGUuaW5zdGFuY2UgJiYgbm9kZS5zY2hlZHVsZVJlbmRlcihmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbnkgbGVhZHMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCB0aGlzIHJlbmRlciB0byBwcmV2ZW50IHRoZW0gZnJvbSBiZWluZ1xuICAgICAqIHVzZWQgaW4gZnV0dXJlIGFuaW1hdGlvbnMgYW5kIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICovXG4gICAgcmVtb3ZlTGVhZFNuYXBzaG90KCkge1xuICAgICAgICBpZiAodGhpcy5sZWFkICYmIHRoaXMubGVhZC5zbmFwc2hvdCkge1xuICAgICAgICAgICAgdGhpcy5sZWFkLnNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBOb2RlU3RhY2sgfTtcbiIsICJmdW5jdGlvbiBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0oZGVsdGEsIHRyZWVTY2FsZSwgbGF0ZXN0VHJhbnNmb3JtKSB7XG4gICAgbGV0IHRyYW5zZm9ybSA9IFwiXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zbGF0aW9ucyB3ZSB1c2UgdG8gY2FsY3VsYXRlIGFyZSBhbHdheXMgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IGNvb3JkaW5hdGUgc3BhY2UuXG4gICAgICogQnV0IHdoZW4gd2UgYXBwbHkgc2NhbGVzLCB3ZSBhbHNvIHNjYWxlIHRoZSBjb29yZGluYXRlIHNwYWNlIG9mIGFuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKiBGb3IgaW5zdGFuY2UgaWYgd2UgaGF2ZSBhIHRyZWVTY2FsZSAodGhlIGN1bG1pbmF0aW9uIG9mIGFsbCBwYXJlbnQgc2NhbGVzKSBvZiAwLjUgYW5kIHdlIG5lZWRcbiAgICAgKiB0byBtb3ZlIGFuIGVsZW1lbnQgMTAwIHBpeGVscywgd2UgYWN0dWFsbHkgbmVlZCB0byBtb3ZlIGl0IDIwMCBpbiB3aXRoaW4gdGhhdCBzY2FsZWQgc3BhY2UuXG4gICAgICovXG4gICAgY29uc3QgeFRyYW5zbGF0ZSA9IGRlbHRhLngudHJhbnNsYXRlIC8gdHJlZVNjYWxlLng7XG4gICAgY29uc3QgeVRyYW5zbGF0ZSA9IGRlbHRhLnkudHJhbnNsYXRlIC8gdHJlZVNjYWxlLnk7XG4gICAgY29uc3QgelRyYW5zbGF0ZSA9IGxhdGVzdFRyYW5zZm9ybT8ueiB8fCAwO1xuICAgIGlmICh4VHJhbnNsYXRlIHx8IHlUcmFuc2xhdGUgfHwgelRyYW5zbGF0ZSkge1xuICAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt4VHJhbnNsYXRlfXB4LCAke3lUcmFuc2xhdGV9cHgsICR7elRyYW5zbGF0ZX1weCkgYDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbHkgc2NhbGUgY29ycmVjdGlvbiBmb3IgdGhlIHRyZWUgdHJhbnNmb3JtLlxuICAgICAqIFRoaXMgd2lsbCBhcHBseSBzY2FsZSB0byB0aGUgc2NyZWVuLW9yaWVudGF0ZWQgYXhlcy5cbiAgICAgKi9cbiAgICBpZiAodHJlZVNjYWxlLnggIT09IDEgfHwgdHJlZVNjYWxlLnkgIT09IDEpIHtcbiAgICAgICAgdHJhbnNmb3JtICs9IGBzY2FsZSgkezEgLyB0cmVlU2NhbGUueH0sICR7MSAvIHRyZWVTY2FsZS55fSkgYDtcbiAgICB9XG4gICAgaWYgKGxhdGVzdFRyYW5zZm9ybSkge1xuICAgICAgICBjb25zdCB7IHRyYW5zZm9ybVBlcnNwZWN0aXZlLCByb3RhdGUsIHJvdGF0ZVgsIHJvdGF0ZVksIHNrZXdYLCBza2V3WSB9ID0gbGF0ZXN0VHJhbnNmb3JtO1xuICAgICAgICBpZiAodHJhbnNmb3JtUGVyc3BlY3RpdmUpXG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSBgcGVyc3BlY3RpdmUoJHt0cmFuc2Zvcm1QZXJzcGVjdGl2ZX1weCkgJHt0cmFuc2Zvcm19YDtcbiAgICAgICAgaWYgKHJvdGF0ZSlcbiAgICAgICAgICAgIHRyYW5zZm9ybSArPSBgcm90YXRlKCR7cm90YXRlfWRlZykgYDtcbiAgICAgICAgaWYgKHJvdGF0ZVgpXG4gICAgICAgICAgICB0cmFuc2Zvcm0gKz0gYHJvdGF0ZVgoJHtyb3RhdGVYfWRlZykgYDtcbiAgICAgICAgaWYgKHJvdGF0ZVkpXG4gICAgICAgICAgICB0cmFuc2Zvcm0gKz0gYHJvdGF0ZVkoJHtyb3RhdGVZfWRlZykgYDtcbiAgICAgICAgaWYgKHNrZXdYKVxuICAgICAgICAgICAgdHJhbnNmb3JtICs9IGBza2V3WCgke3NrZXdYfWRlZykgYDtcbiAgICAgICAgaWYgKHNrZXdZKVxuICAgICAgICAgICAgdHJhbnNmb3JtICs9IGBza2V3WSgke3NrZXdZfWRlZykgYDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbHkgc2NhbGUgdG8gbWF0Y2ggdGhlIHNpemUgb2YgdGhlIGVsZW1lbnQgdG8gdGhlIHNpemUgd2Ugd2FudCBpdC5cbiAgICAgKiBUaGlzIHdpbGwgYXBwbHkgc2NhbGUgdG8gdGhlIGVsZW1lbnQtb3JpZW50YXRlZCBheGVzLlxuICAgICAqL1xuICAgIGNvbnN0IGVsZW1lbnRTY2FsZVggPSBkZWx0YS54LnNjYWxlICogdHJlZVNjYWxlLng7XG4gICAgY29uc3QgZWxlbWVudFNjYWxlWSA9IGRlbHRhLnkuc2NhbGUgKiB0cmVlU2NhbGUueTtcbiAgICBpZiAoZWxlbWVudFNjYWxlWCAhPT0gMSB8fCBlbGVtZW50U2NhbGVZICE9PSAxKSB7XG4gICAgICAgIHRyYW5zZm9ybSArPSBgc2NhbGUoJHtlbGVtZW50U2NhbGVYfSwgJHtlbGVtZW50U2NhbGVZfSlgO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtIHx8IFwibm9uZVwiO1xufVxuXG5leHBvcnQgeyBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0gfTtcbiIsICJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0aW9uTm9kZSB9IGZyb20gJy4vY3JlYXRlLXByb2plY3Rpb24tbm9kZS5tanMnO1xuaW1wb3J0IHsgYWRkRG9tRXZlbnQgfSBmcm9tICcuLi8uLi9ldmVudHMvYWRkLWRvbS1ldmVudC5tanMnO1xuXG5jb25zdCBEb2N1bWVudFByb2plY3Rpb25Ob2RlID0gY3JlYXRlUHJvamVjdGlvbk5vZGUoe1xuICAgIGF0dGFjaFJlc2l6ZUxpc3RlbmVyOiAocmVmLCBub3RpZnkpID0+IGFkZERvbUV2ZW50KHJlZiwgXCJyZXNpemVcIiwgbm90aWZ5KSxcbiAgICBtZWFzdXJlU2Nyb2xsOiAoKSA9PiAoe1xuICAgICAgICB4OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsXG4gICAgICAgIHk6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsXG4gICAgfSksXG4gICAgY2hlY2tJc1Njcm9sbFJvb3Q6ICgpID0+IHRydWUsXG59KTtcblxuZXhwb3J0IHsgRG9jdW1lbnRQcm9qZWN0aW9uTm9kZSB9O1xuIiwgImltcG9ydCB7IEhvdmVyR2VzdHVyZSB9IGZyb20gJy4uLy4uL2dlc3R1cmVzL2hvdmVyLm1qcyc7XG5pbXBvcnQgeyBGb2N1c0dlc3R1cmUgfSBmcm9tICcuLi8uLi9nZXN0dXJlcy9mb2N1cy5tanMnO1xuaW1wb3J0IHsgUHJlc3NHZXN0dXJlIH0gZnJvbSAnLi4vLi4vZ2VzdHVyZXMvcHJlc3MubWpzJztcbmltcG9ydCB7IEluVmlld0ZlYXR1cmUgfSBmcm9tICcuL3ZpZXdwb3J0L2luZGV4Lm1qcyc7XG5cbmNvbnN0IGdlc3R1cmVBbmltYXRpb25zID0ge1xuICAgIGluVmlldzoge1xuICAgICAgICBGZWF0dXJlOiBJblZpZXdGZWF0dXJlLFxuICAgIH0sXG4gICAgdGFwOiB7XG4gICAgICAgIEZlYXR1cmU6IFByZXNzR2VzdHVyZSxcbiAgICB9LFxuICAgIGZvY3VzOiB7XG4gICAgICAgIEZlYXR1cmU6IEZvY3VzR2VzdHVyZSxcbiAgICB9LFxuICAgIGhvdmVyOiB7XG4gICAgICAgIEZlYXR1cmU6IEhvdmVyR2VzdHVyZSxcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgZ2VzdHVyZUFuaW1hdGlvbnMgfTtcbiIsICJpbXBvcnQgeyBleHRyYWN0RXZlbnRJbmZvIH0gZnJvbSAnLi4vZXZlbnRzL2V2ZW50LWluZm8ubWpzJztcbmltcG9ydCB7IEZlYXR1cmUgfSBmcm9tICcuLi9tb3Rpb24vZmVhdHVyZXMvRmVhdHVyZS5tanMnO1xuaW1wb3J0IHsgaG92ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZ2VzdHVyZXMvaG92ZXIubWpzJztcbmltcG9ydCB7IGZyYW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5mdW5jdGlvbiBoYW5kbGVIb3ZlckV2ZW50KG5vZGUsIGV2ZW50LCBsaWZlY3ljbGUpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBub2RlO1xuICAgIGlmIChub2RlLmFuaW1hdGlvblN0YXRlICYmIHByb3BzLndoaWxlSG92ZXIpIHtcbiAgICAgICAgbm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZUhvdmVyXCIsIGxpZmVjeWNsZSA9PT0gXCJTdGFydFwiKTtcbiAgICB9XG4gICAgY29uc3QgZXZlbnROYW1lID0gKFwib25Ib3ZlclwiICsgbGlmZWN5Y2xlKTtcbiAgICBjb25zdCBjYWxsYmFjayA9IHByb3BzW2V2ZW50TmFtZV07XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGZyYW1lLnBvc3RSZW5kZXIoKCkgPT4gY2FsbGJhY2soZXZlbnQsIGV4dHJhY3RFdmVudEluZm8oZXZlbnQpKSk7XG4gICAgfVxufVxuY2xhc3MgSG92ZXJHZXN0dXJlIGV4dGVuZHMgRmVhdHVyZSB7XG4gICAgbW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudCB9ID0gdGhpcy5ub2RlO1xuICAgICAgICBpZiAoIWN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudW5tb3VudCA9IGhvdmVyKGN1cnJlbnQsIChfZWxlbWVudCwgc3RhcnRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlSG92ZXJFdmVudCh0aGlzLm5vZGUsIHN0YXJ0RXZlbnQsIFwiU3RhcnRcIik7XG4gICAgICAgICAgICByZXR1cm4gKGVuZEV2ZW50KSA9PiBoYW5kbGVIb3ZlckV2ZW50KHRoaXMubm9kZSwgZW5kRXZlbnQsIFwiRW5kXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW5tb3VudCgpIHsgfVxufVxuXG5leHBvcnQgeyBIb3Zlckdlc3R1cmUgfTtcbiIsICJpbXBvcnQgeyBpc0RyYWdBY3RpdmUgfSBmcm9tICcuL2RyYWcvc3RhdGUvaXMtYWN0aXZlLm1qcyc7XG5pbXBvcnQgeyBzZXR1cEdlc3R1cmUgfSBmcm9tICcuL3V0aWxzL3NldHVwLm1qcyc7XG5cbmZ1bmN0aW9uIGlzVmFsaWRIb3ZlcihldmVudCkge1xuICAgIHJldHVybiAhKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIgfHwgaXNEcmFnQWN0aXZlKCkpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBob3ZlciBnZXN0dXJlLiBob3ZlcigpIGlzIGRpZmZlcmVudCB0byAuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJlbnRlclwiKVxuICogaW4gdGhhdCBpdCBoYXMgYW4gZWFzaWVyIHN5bnRheCwgZmlsdGVycyBvdXQgcG9seWZpbGxlZCB0b3VjaCBldmVudHMsIGludGVyb3BlcmF0ZXNcbiAqIHdpdGggZHJhZyBnZXN0dXJlcywgYW5kIGF1dG9tYXRpY2FsbHkgcmVtb3ZlcyB0aGUgXCJwb2ludGVyZW5uZFwiIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhlIGhvdmVyIGVuZHMuXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBob3ZlcihlbGVtZW50T3JTZWxlY3Rvciwgb25Ib3ZlclN0YXJ0LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBbZWxlbWVudHMsIGV2ZW50T3B0aW9ucywgY2FuY2VsXSA9IHNldHVwR2VzdHVyZShlbGVtZW50T3JTZWxlY3Rvciwgb3B0aW9ucyk7XG4gICAgY29uc3Qgb25Qb2ludGVyRW50ZXIgPSAoZW50ZXJFdmVudCkgPT4ge1xuICAgICAgICBpZiAoIWlzVmFsaWRIb3ZlcihlbnRlckV2ZW50KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGVudGVyRXZlbnQ7XG4gICAgICAgIGNvbnN0IG9uSG92ZXJFbmQgPSBvbkhvdmVyU3RhcnQodGFyZ2V0LCBlbnRlckV2ZW50KTtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkhvdmVyRW5kICE9PSBcImZ1bmN0aW9uXCIgfHwgIXRhcmdldClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb25Qb2ludGVyTGVhdmUgPSAobGVhdmVFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSG92ZXIobGVhdmVFdmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgb25Ib3ZlckVuZChsZWF2ZUV2ZW50KTtcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmxlYXZlXCIsIG9uUG9pbnRlckxlYXZlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIiwgb25Qb2ludGVyTGVhdmUsIGV2ZW50T3B0aW9ucyk7XG4gICAgfTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJlbnRlclwiLCBvblBvaW50ZXJFbnRlciwgZXZlbnRPcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2FuY2VsO1xufVxuXG5leHBvcnQgeyBob3ZlciB9O1xuIiwgImltcG9ydCB7IHJlc29sdmVFbGVtZW50cyB9IGZyb20gJy4uLy4uL3V0aWxzL3Jlc29sdmUtZWxlbWVudHMubWpzJztcblxuZnVuY3Rpb24gc2V0dXBHZXN0dXJlKGVsZW1lbnRPclNlbGVjdG9yLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSByZXNvbHZlRWxlbWVudHMoZWxlbWVudE9yU2VsZWN0b3IpO1xuICAgIGNvbnN0IGdlc3R1cmVBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgZXZlbnRPcHRpb25zID0ge1xuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBzaWduYWw6IGdlc3R1cmVBYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgIH07XG4gICAgY29uc3QgY2FuY2VsID0gKCkgPT4gZ2VzdHVyZUFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIHJldHVybiBbZWxlbWVudHMsIGV2ZW50T3B0aW9ucywgY2FuY2VsXTtcbn1cblxuZXhwb3J0IHsgc2V0dXBHZXN0dXJlIH07XG4iLCAiZnVuY3Rpb24gcmVzb2x2ZUVsZW1lbnRzKGVsZW1lbnRPclNlbGVjdG9yLCBzY29wZSwgc2VsZWN0b3JDYWNoZSkge1xuICAgIGlmIChlbGVtZW50T3JTZWxlY3RvciBpbnN0YW5jZW9mIEV2ZW50VGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBbZWxlbWVudE9yU2VsZWN0b3JdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZWxlbWVudE9yU2VsZWN0b3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgbGV0IHJvb3QgPSBkb2N1bWVudDtcbiAgICAgICAgaWYgKHNjb3BlKSB7XG4gICAgICAgICAgICByb290ID0gc2NvcGUuY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHNlbGVjdG9yQ2FjaGU/LltlbGVtZW50T3JTZWxlY3Rvcl0gPz9cbiAgICAgICAgICAgIHJvb3QucXVlcnlTZWxlY3RvckFsbChlbGVtZW50T3JTZWxlY3Rvcik7XG4gICAgICAgIHJldHVybiBlbGVtZW50cyA/IEFycmF5LmZyb20oZWxlbWVudHMpIDogW107XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnRPclNlbGVjdG9yKTtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZUVsZW1lbnRzIH07XG4iLCAiaW1wb3J0IHsgYWRkRG9tRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvYWRkLWRvbS1ldmVudC5tanMnO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gJy4uL21vdGlvbi9mZWF0dXJlcy9GZWF0dXJlLm1qcyc7XG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvcGlwZS5tanMnO1xuXG5jbGFzcyBGb2N1c0dlc3R1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBvbkZvY3VzKCkge1xuICAgICAgICBsZXQgaXNGb2N1c1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgZWxlbWVudCBkb2Vzbid0IG1hdGNoIGZvY3VzLXZpc2libGUgdGhlbiBkb24ndFxuICAgICAgICAgKiBhcHBseSB3aGlsZUhvdmVyLiBCdXQsIGlmIG1hdGNoZXMgdGhyb3dzIHRoYXQgZm9jdXMtdmlzaWJsZVxuICAgICAgICAgKiBpcyBub3QgYSB2YWxpZCBzZWxlY3RvciB0aGVuIGluIHRoYXQgYnJvd3NlciBvdXRsaW5lIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWRcbiAgICAgICAgICogdG8gdGhlIGVsZW1lbnQgYnkgZGVmYXVsdCBhbmQgd2Ugd2FudCB0byBtYXRjaCB0aGF0IGJlaGF2aW91ciB3aXRoIHdoaWxlRm9jdXMuXG4gICAgICAgICAqL1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaXNGb2N1c1Zpc2libGUgPSB0aGlzLm5vZGUuY3VycmVudC5tYXRjaGVzKFwiOmZvY3VzLXZpc2libGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlzRm9jdXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRm9jdXNWaXNpYmxlIHx8ICF0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMubm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZUZvY3VzXCIsIHRydWUpO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgb25CbHVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgIXRoaXMubm9kZS5hbmltYXRpb25TdGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlRm9jdXNcIiwgZmFsc2UpO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIG1vdW50KCkge1xuICAgICAgICB0aGlzLnVubW91bnQgPSBwaXBlKGFkZERvbUV2ZW50KHRoaXMubm9kZS5jdXJyZW50LCBcImZvY3VzXCIsICgpID0+IHRoaXMub25Gb2N1cygpKSwgYWRkRG9tRXZlbnQodGhpcy5ub2RlLmN1cnJlbnQsIFwiYmx1clwiLCAoKSA9PiB0aGlzLm9uQmx1cigpKSk7XG4gICAgfVxuICAgIHVubW91bnQoKSB7IH1cbn1cblxuZXhwb3J0IHsgRm9jdXNHZXN0dXJlIH07XG4iLCAiaW1wb3J0IHsgZXh0cmFjdEV2ZW50SW5mbyB9IGZyb20gJy4uL2V2ZW50cy9ldmVudC1pbmZvLm1qcyc7XG5pbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSAnLi4vbW90aW9uL2ZlYXR1cmVzL0ZlYXR1cmUubWpzJztcbmltcG9ydCB7IHByZXNzIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2dlc3R1cmVzL3ByZXNzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBmcmFtZSB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3AvZnJhbWUubWpzJztcblxuZnVuY3Rpb24gaGFuZGxlUHJlc3NFdmVudChub2RlLCBldmVudCwgbGlmZWN5Y2xlKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gbm9kZTtcbiAgICBpZiAobm9kZS5jdXJyZW50IGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQgJiYgbm9kZS5jdXJyZW50LmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUuYW5pbWF0aW9uU3RhdGUgJiYgcHJvcHMud2hpbGVUYXApIHtcbiAgICAgICAgbm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZVRhcFwiLCBsaWZlY3ljbGUgPT09IFwiU3RhcnRcIik7XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50TmFtZSA9IChcIm9uVGFwXCIgKyAobGlmZWN5Y2xlID09PSBcIkVuZFwiID8gXCJcIiA6IGxpZmVjeWNsZSkpO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gcHJvcHNbZXZlbnROYW1lXTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgZnJhbWUucG9zdFJlbmRlcigoKSA9PiBjYWxsYmFjayhldmVudCwgZXh0cmFjdEV2ZW50SW5mbyhldmVudCkpKTtcbiAgICB9XG59XG5jbGFzcyBQcmVzc0dlc3R1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBtb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50IH0gPSB0aGlzLm5vZGU7XG4gICAgICAgIGlmICghY3VycmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy51bm1vdW50ID0gcHJlc3MoY3VycmVudCwgKF9lbGVtZW50LCBzdGFydEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVQcmVzc0V2ZW50KHRoaXMubm9kZSwgc3RhcnRFdmVudCwgXCJTdGFydFwiKTtcbiAgICAgICAgICAgIHJldHVybiAoZW5kRXZlbnQsIHsgc3VjY2VzcyB9KSA9PiBoYW5kbGVQcmVzc0V2ZW50KHRoaXMubm9kZSwgZW5kRXZlbnQsIHN1Y2Nlc3MgPyBcIkVuZFwiIDogXCJDYW5jZWxcIik7XG4gICAgICAgIH0sIHsgdXNlR2xvYmFsVGFyZ2V0OiB0aGlzLm5vZGUucHJvcHMuZ2xvYmFsVGFwVGFyZ2V0IH0pO1xuICAgIH1cbiAgICB1bm1vdW50KCkgeyB9XG59XG5cbmV4cG9ydCB7IFByZXNzR2VzdHVyZSB9O1xuIiwgImltcG9ydCB7IGlzRHJhZ0FjdGl2ZSB9IGZyb20gJy4uL2RyYWcvc3RhdGUvaXMtYWN0aXZlLm1qcyc7XG5pbXBvcnQgeyBpc05vZGVPckNoaWxkIH0gZnJvbSAnLi4vdXRpbHMvaXMtbm9kZS1vci1jaGlsZC5tanMnO1xuaW1wb3J0IHsgaXNQcmltYXJ5UG9pbnRlciB9IGZyb20gJy4uL3V0aWxzL2lzLXByaW1hcnktcG9pbnRlci5tanMnO1xuaW1wb3J0IHsgc2V0dXBHZXN0dXJlIH0gZnJvbSAnLi4vdXRpbHMvc2V0dXAubWpzJztcbmltcG9ydCB7IGlzRWxlbWVudEtleWJvYXJkQWNjZXNzaWJsZSB9IGZyb20gJy4vdXRpbHMvaXMta2V5Ym9hcmQtYWNjZXNzaWJsZS5tanMnO1xuaW1wb3J0IHsgZW5hYmxlS2V5Ym9hcmRQcmVzcyB9IGZyb20gJy4vdXRpbHMva2V5Ym9hcmQubWpzJztcbmltcG9ydCB7IGlzUHJlc3NpbmcgfSBmcm9tICcuL3V0aWxzL3N0YXRlLm1qcyc7XG5cbi8qKlxuICogRmlsdGVyIG91dCBldmVudHMgdGhhdCBhcmUgbm90IHByaW1hcnkgcG9pbnRlciBldmVudHMsIG9yIGFyZSB0cmlnZ2VyaW5nXG4gKiB3aGlsZSBhIE1vdGlvbiBnZXN0dXJlIGlzIGFjdGl2ZS5cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZFByZXNzRXZlbnQoZXZlbnQpIHtcbiAgICByZXR1cm4gaXNQcmltYXJ5UG9pbnRlcihldmVudCkgJiYgIWlzRHJhZ0FjdGl2ZSgpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBwcmVzcyBnZXN0dXJlLlxuICpcbiAqIFByZXNzIGlzIGRpZmZlcmVudCB0byBgXCJwb2ludGVyZG93blwiYCwgYFwicG9pbnRlcnVwXCJgIGluIHRoYXQgaXRcbiAqIGF1dG9tYXRpY2FsbHkgZmlsdGVycyBvdXQgc2Vjb25kYXJ5IHBvaW50ZXIgZXZlbnRzIGxpa2UgcmlnaHRcbiAqIGNsaWNrIGFuZCBtdWx0aXRvdWNoLlxuICpcbiAqIEl0IGFsc28gYWRkcyBhY2Nlc3NpYmlsaXR5IHN1cHBvcnQgZm9yIGtleWJvYXJkcywgd2hlcmVcbiAqIGFuIGVsZW1lbnQgd2l0aCBhIHByZXNzIGdlc3R1cmUgd2lsbCByZWNlaXZlIGZvY3VzIGFuZFxuICogIHRyaWdnZXIgb24gRW50ZXIgYFwia2V5ZG93blwiYCBhbmQgYFwia2V5dXBcImAgZXZlbnRzLlxuICpcbiAqIFRoaXMgaXMgZGlmZmVyZW50IHRvIGEgYnJvd3NlcidzIGBcImNsaWNrXCJgIGV2ZW50LCB3aGljaCBkb2VzXG4gKiByZXNwb25kIHRvIGtleWJvYXJkcyBidXQgb25seSBmb3IgdGhlIGBcImNsaWNrXCJgIGl0c2VsZiwgcmF0aGVyXG4gKiB0aGFuIHRoZSBwcmVzcyBzdGFydCBhbmQgZW5kL2NhbmNlbC4gVGhlIGVsZW1lbnQgYWxzbyBuZWVkc1xuICogdG8gYmUgZm9jdXNhYmxlIGZvciB0aGlzIHRvIHdvcmssIHdoZXJlYXMgYSBwcmVzcyBnZXN0dXJlIHdpbGxcbiAqIG1ha2UgYW4gZWxlbWVudCBmb2N1c2FibGUgYnkgZGVmYXVsdC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHByZXNzKHRhcmdldE9yU2VsZWN0b3IsIG9uUHJlc3NTdGFydCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgW3RhcmdldHMsIGV2ZW50T3B0aW9ucywgY2FuY2VsRXZlbnRzXSA9IHNldHVwR2VzdHVyZSh0YXJnZXRPclNlbGVjdG9yLCBvcHRpb25zKTtcbiAgICBjb25zdCBzdGFydFByZXNzID0gKHN0YXJ0RXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gc3RhcnRFdmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBpZiAoIWlzVmFsaWRQcmVzc0V2ZW50KHN0YXJ0RXZlbnQpIHx8IGlzUHJlc3NpbmcuaGFzKHRhcmdldCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlzUHJlc3NpbmcuYWRkKHRhcmdldCk7XG4gICAgICAgIGNvbnN0IG9uUHJlc3NFbmQgPSBvblByZXNzU3RhcnQodGFyZ2V0LCBzdGFydEV2ZW50KTtcbiAgICAgICAgY29uc3Qgb25Qb2ludGVyRW5kID0gKGVuZEV2ZW50LCBzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBvblBvaW50ZXJVcCk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJjYW5jZWxcIiwgb25Qb2ludGVyQ2FuY2VsKTtcbiAgICAgICAgICAgIGlmICghaXNWYWxpZFByZXNzRXZlbnQoZW5kRXZlbnQpIHx8ICFpc1ByZXNzaW5nLmhhcyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNQcmVzc2luZy5kZWxldGUodGFyZ2V0KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25QcmVzc0VuZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgb25QcmVzc0VuZChlbmRFdmVudCwgeyBzdWNjZXNzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvblBvaW50ZXJVcCA9ICh1cEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBvblBvaW50ZXJFbmQodXBFdmVudCwgdGFyZ2V0ID09PSB3aW5kb3cgfHxcbiAgICAgICAgICAgICAgICB0YXJnZXQgPT09IGRvY3VtZW50IHx8XG4gICAgICAgICAgICAgICAgb3B0aW9ucy51c2VHbG9iYWxUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICBpc05vZGVPckNoaWxkKHRhcmdldCwgdXBFdmVudC50YXJnZXQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25Qb2ludGVyQ2FuY2VsID0gKGNhbmNlbEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBvblBvaW50ZXJFbmQoY2FuY2VsRXZlbnQsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgb25Qb2ludGVyVXAsIGV2ZW50T3B0aW9ucyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLCBvblBvaW50ZXJDYW5jZWwsIGV2ZW50T3B0aW9ucyk7XG4gICAgfTtcbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVyRG93blRhcmdldCA9IG9wdGlvbnMudXNlR2xvYmFsVGFyZ2V0ID8gd2luZG93IDogdGFyZ2V0O1xuICAgICAgICBwb2ludGVyRG93blRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgc3RhcnRQcmVzcywgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIChldmVudCkgPT4gZW5hYmxlS2V5Ym9hcmRQcmVzcyhldmVudCwgZXZlbnRPcHRpb25zKSk7XG4gICAgICAgICAgICBpZiAoIWlzRWxlbWVudEtleWJvYXJkQWNjZXNzaWJsZSh0YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIXRhcmdldC5oYXNBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldC50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2FuY2VsRXZlbnRzO1xufVxuXG5leHBvcnQgeyBwcmVzcyB9O1xuIiwgIi8qKlxuICogUmVjdXJzaXZlbHkgdHJhdmVyc2UgdXAgdGhlIHRyZWUgdG8gY2hlY2sgd2hldGhlciB0aGUgcHJvdmlkZWQgY2hpbGQgbm9kZVxuICogaXMgdGhlIHBhcmVudCBvciBhIGRlc2NlbmRhbnQgb2YgaXQuXG4gKlxuICogQHBhcmFtIHBhcmVudCAtIEVsZW1lbnQgdG8gZmluZFxuICogQHBhcmFtIGNoaWxkIC0gRWxlbWVudCB0byB0ZXN0IGFnYWluc3QgcGFyZW50XG4gKi9cbmNvbnN0IGlzTm9kZU9yQ2hpbGQgPSAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmIChwYXJlbnQgPT09IGNoaWxkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzTm9kZU9yQ2hpbGQocGFyZW50LCBjaGlsZC5wYXJlbnRFbGVtZW50KTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBpc05vZGVPckNoaWxkIH07XG4iLCAiY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBuZXcgU2V0KFtcbiAgICBcIkJVVFRPTlwiLFxuICAgIFwiSU5QVVRcIixcbiAgICBcIlNFTEVDVFwiLFxuICAgIFwiVEVYVEFSRUFcIixcbiAgICBcIkFcIixcbl0pO1xuZnVuY3Rpb24gaXNFbGVtZW50S2V5Ym9hcmRBY2Nlc3NpYmxlKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKGZvY3VzYWJsZUVsZW1lbnRzLmhhcyhlbGVtZW50LnRhZ05hbWUpIHx8XG4gICAgICAgIGVsZW1lbnQudGFiSW5kZXggIT09IC0xKTtcbn1cblxuZXhwb3J0IHsgaXNFbGVtZW50S2V5Ym9hcmRBY2Nlc3NpYmxlIH07XG4iLCAiaW1wb3J0IHsgaXNQcmVzc2luZyB9IGZyb20gJy4vc3RhdGUubWpzJztcblxuLyoqXG4gKiBGaWx0ZXIgb3V0IGV2ZW50cyB0aGF0IGFyZSBub3QgXCJFbnRlclwiIGtleXMuXG4gKi9cbmZ1bmN0aW9uIGZpbHRlckV2ZW50cyhjYWxsYmFjaykge1xuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gXCJFbnRlclwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGZpcmVQb2ludGVyRXZlbnQodGFyZ2V0LCB0eXBlKSB7XG4gICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IFBvaW50ZXJFdmVudChcInBvaW50ZXJcIiArIHR5cGUsIHsgaXNQcmltYXJ5OiB0cnVlLCBidWJibGVzOiB0cnVlIH0pKTtcbn1cbmNvbnN0IGVuYWJsZUtleWJvYXJkUHJlc3MgPSAoZm9jdXNFdmVudCwgZXZlbnRPcHRpb25zKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGZvY3VzRXZlbnQuY3VycmVudFRhcmdldDtcbiAgICBpZiAoIWVsZW1lbnQpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBoYW5kbGVLZXlkb3duID0gZmlsdGVyRXZlbnRzKCgpID0+IHtcbiAgICAgICAgaWYgKGlzUHJlc3NpbmcuaGFzKGVsZW1lbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmaXJlUG9pbnRlckV2ZW50KGVsZW1lbnQsIFwiZG93blwiKTtcbiAgICAgICAgY29uc3QgaGFuZGxlS2V5dXAgPSBmaWx0ZXJFdmVudHMoKCkgPT4ge1xuICAgICAgICAgICAgZmlyZVBvaW50ZXJFdmVudChlbGVtZW50LCBcInVwXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaGFuZGxlQmx1ciA9ICgpID0+IGZpcmVQb2ludGVyRXZlbnQoZWxlbWVudCwgXCJjYW5jZWxcIik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGhhbmRsZUtleXVwLCBldmVudE9wdGlvbnMpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIGhhbmRsZUJsdXIsIGV2ZW50T3B0aW9ucyk7XG4gICAgfSk7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlkb3duLCBldmVudE9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzIG9uIGJsdXIgdG8gcmVtb3ZlIHRoZSBrZXlkb3duIGV2ZW50cy5cbiAgICAgKi9cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICgpID0+IGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5ZG93biksIGV2ZW50T3B0aW9ucyk7XG59O1xuXG5leHBvcnQgeyBlbmFibGVLZXlib2FyZFByZXNzIH07XG4iLCAiY29uc3QgaXNQcmVzc2luZyA9IG5ldyBXZWFrU2V0KCk7XG5cbmV4cG9ydCB7IGlzUHJlc3NpbmcgfTtcbiIsICJpbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSAnLi4vRmVhdHVyZS5tanMnO1xuaW1wb3J0IHsgb2JzZXJ2ZUludGVyc2VjdGlvbiB9IGZyb20gJy4vb2JzZXJ2ZXJzLm1qcyc7XG5cbmNvbnN0IHRocmVzaG9sZE5hbWVzID0ge1xuICAgIHNvbWU6IDAsXG4gICAgYWxsOiAxLFxufTtcbmNsYXNzIEluVmlld0ZlYXR1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5oYXNFbnRlcmVkVmlldyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzSW5WaWV3ID0gZmFsc2U7XG4gICAgfVxuICAgIHN0YXJ0T2JzZXJ2ZXIoKSB7XG4gICAgICAgIHRoaXMudW5tb3VudCgpO1xuICAgICAgICBjb25zdCB7IHZpZXdwb3J0ID0ge30gfSA9IHRoaXMubm9kZS5nZXRQcm9wcygpO1xuICAgICAgICBjb25zdCB7IHJvb3QsIG1hcmdpbjogcm9vdE1hcmdpbiwgYW1vdW50ID0gXCJzb21lXCIsIG9uY2UgfSA9IHZpZXdwb3J0O1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgcm9vdDogcm9vdCA/IHJvb3QuY3VycmVudCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJvb3RNYXJnaW4sXG4gICAgICAgICAgICB0aHJlc2hvbGQ6IHR5cGVvZiBhbW91bnQgPT09IFwibnVtYmVyXCIgPyBhbW91bnQgOiB0aHJlc2hvbGROYW1lc1thbW91bnRdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvbkludGVyc2VjdGlvblVwZGF0ZSA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpc0ludGVyc2VjdGluZyB9ID0gZW50cnk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZXJlJ3MgYmVlbiBubyBjaGFuZ2UgaW4gdGhlIHZpZXdwb3J0IHN0YXRlLCBlYXJseSByZXR1cm4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5WaWV3ID09PSBpc0ludGVyc2VjdGluZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzSW5WaWV3ID0gaXNJbnRlcnNlY3Rpbmc7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhhbmRsZSBoYXNFbnRlcmVkVmlldy4gSWYgdGhpcyBpcyBvbmx5IG1lYW50IHRvIHJ1biBvbmNlLCBhbmRcbiAgICAgICAgICAgICAqIGVsZW1lbnQgaXNuJ3QgdmlzaWJsZSwgZWFybHkgcmV0dXJuLiBPdGhlcndpc2Ugc2V0IGhhc0VudGVyZWRWaWV3IHRvIHRydWUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChvbmNlICYmICFpc0ludGVyc2VjdGluZyAmJiB0aGlzLmhhc0VudGVyZWRWaWV3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0VudGVyZWRWaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKFwid2hpbGVJblZpZXdcIiwgaXNJbnRlcnNlY3RpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVc2UgdGhlIGxhdGVzdCBjb21taXR0ZWQgcHJvcHMgcmF0aGVyIHRoYW4gdGhlIG9uZXMgaW4gc2NvcGVcbiAgICAgICAgICAgICAqIHdoZW4gdGhpcyBvYnNlcnZlciBpcyBjcmVhdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHsgb25WaWV3cG9ydEVudGVyLCBvblZpZXdwb3J0TGVhdmUgfSA9IHRoaXMubm9kZS5nZXRQcm9wcygpO1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBpc0ludGVyc2VjdGluZyA/IG9uVmlld3BvcnRFbnRlciA6IG9uVmlld3BvcnRMZWF2ZTtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVudHJ5KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVJbnRlcnNlY3Rpb24odGhpcy5ub2RlLmN1cnJlbnQsIG9wdGlvbnMsIG9uSW50ZXJzZWN0aW9uVXBkYXRlKTtcbiAgICB9XG4gICAgbW91bnQoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRPYnNlcnZlcigpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgcHJvcHMsIHByZXZQcm9wcyB9ID0gdGhpcy5ub2RlO1xuICAgICAgICBjb25zdCBoYXNPcHRpb25zQ2hhbmdlZCA9IFtcImFtb3VudFwiLCBcIm1hcmdpblwiLCBcInJvb3RcIl0uc29tZShoYXNWaWV3cG9ydE9wdGlvbkNoYW5nZWQocHJvcHMsIHByZXZQcm9wcykpO1xuICAgICAgICBpZiAoaGFzT3B0aW9uc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRPYnNlcnZlcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVubW91bnQoKSB7IH1cbn1cbmZ1bmN0aW9uIGhhc1ZpZXdwb3J0T3B0aW9uQ2hhbmdlZCh7IHZpZXdwb3J0ID0ge30gfSwgeyB2aWV3cG9ydDogcHJldlZpZXdwb3J0ID0ge30gfSA9IHt9KSB7XG4gICAgcmV0dXJuIChuYW1lKSA9PiB2aWV3cG9ydFtuYW1lXSAhPT0gcHJldlZpZXdwb3J0W25hbWVdO1xufVxuXG5leHBvcnQgeyBJblZpZXdGZWF0dXJlIH07XG4iLCAiLyoqXG4gKiBNYXAgYW4gSW50ZXJzZWN0aW9uSGFuZGxlciBjYWxsYmFjayB0byBhbiBlbGVtZW50LiBXZSBvbmx5IGV2ZXIgbWFrZSBvbmUgaGFuZGxlciBmb3Igb25lXG4gKiBlbGVtZW50LCBzbyBldmVuIHRob3VnaCB0aGVzZSBoYW5kbGVycyBtaWdodCBhbGwgYmUgdHJpZ2dlcmVkIGJ5IGRpZmZlcmVudFxuICogb2JzZXJ2ZXJzLCB3ZSBjYW4ga2VlcCB0aGVtIGluIHRoZSBzYW1lIG1hcC5cbiAqL1xuY29uc3Qgb2JzZXJ2ZXJDYWxsYmFja3MgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBNdWx0aXBsZSBvYnNlcnZlcnMgY2FuIGJlIGNyZWF0ZWQgZm9yIG11bHRpcGxlIGVsZW1lbnQvZG9jdW1lbnQgcm9vdHMuIEVhY2ggd2l0aFxuICogZGlmZmVyZW50IHNldHRpbmdzLiBTbyBoZXJlIHdlIHN0b3JlIGRpY3Rpb25hcmllcyBvZiBvYnNlcnZlcnMgdG8gZWFjaCByb290LFxuICogdXNpbmcgc2VyaWFsaXNlZCBzZXR0aW5ncyAodGhyZXNob2xkL21hcmdpbikgYXMgbG9va3VwIGtleXMuXG4gKi9cbmNvbnN0IG9ic2VydmVycyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBmaXJlT2JzZXJ2ZXJDYWxsYmFjayA9IChlbnRyeSkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gb2JzZXJ2ZXJDYWxsYmFja3MuZ2V0KGVudHJ5LnRhcmdldCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW50cnkpO1xufTtcbmNvbnN0IGZpcmVBbGxPYnNlcnZlckNhbGxiYWNrcyA9IChlbnRyaWVzKSA9PiB7XG4gICAgZW50cmllcy5mb3JFYWNoKGZpcmVPYnNlcnZlckNhbGxiYWNrKTtcbn07XG5mdW5jdGlvbiBpbml0SW50ZXJzZWN0aW9uT2JzZXJ2ZXIoeyByb290LCAuLi5vcHRpb25zIH0pIHtcbiAgICBjb25zdCBsb29rdXBSb290ID0gcm9vdCB8fCBkb2N1bWVudDtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBkb24ndCBoYXZlIGFuIG9ic2VydmVyIGxvb2t1cCBtYXAgZm9yIHRoaXMgcm9vdCwgY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIW9ic2VydmVycy5oYXMobG9va3VwUm9vdCkpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLnNldChsb29rdXBSb290LCB7fSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RPYnNlcnZlcnMgPSBvYnNlcnZlcnMuZ2V0KGxvb2t1cFJvb3QpO1xuICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGRvbid0IGhhdmUgYW4gb2JzZXJ2ZXIgZm9yIHRoaXMgY29tYmluYXRpb24gb2Ygcm9vdCBhbmQgc2V0dGluZ3MsXG4gICAgICogY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIXJvb3RPYnNlcnZlcnNba2V5XSkge1xuICAgICAgICByb290T2JzZXJ2ZXJzW2tleV0gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZmlyZUFsbE9ic2VydmVyQ2FsbGJhY2tzLCB7IHJvb3QsIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIHJldHVybiByb290T2JzZXJ2ZXJzW2tleV07XG59XG5mdW5jdGlvbiBvYnNlcnZlSW50ZXJzZWN0aW9uKGVsZW1lbnQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgcm9vdEludGVyZXNlY3Rpb25PYnNlcnZlciA9IGluaXRJbnRlcnNlY3Rpb25PYnNlcnZlcihvcHRpb25zKTtcbiAgICBvYnNlcnZlckNhbGxiYWNrcy5zZXQoZWxlbWVudCwgY2FsbGJhY2spO1xuICAgIHJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlckNhbGxiYWNrcy5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgIHJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIH07XG59XG5cbmV4cG9ydCB7IG9ic2VydmVJbnRlcnNlY3Rpb24gfTtcbiIsICJpbXBvcnQgeyBIVE1MUHJvamVjdGlvbk5vZGUgfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL25vZGUvSFRNTFByb2plY3Rpb25Ob2RlLm1qcyc7XG5pbXBvcnQgeyBNZWFzdXJlTGF5b3V0IH0gZnJvbSAnLi9sYXlvdXQvTWVhc3VyZUxheW91dC5tanMnO1xuXG5jb25zdCBsYXlvdXQgPSB7XG4gICAgbGF5b3V0OiB7XG4gICAgICAgIFByb2plY3Rpb25Ob2RlOiBIVE1MUHJvamVjdGlvbk5vZGUsXG4gICAgICAgIE1lYXN1cmVMYXlvdXQsXG4gICAgfSxcbn07XG5cbmV4cG9ydCB7IGxheW91dCB9O1xuIiwgImltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSFRNTFZpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi9odG1sL0hUTUxWaXN1YWxFbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBTVkdWaXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vc3ZnL1NWR1Zpc3VhbEVsZW1lbnQubWpzJztcbmltcG9ydCB7IGlzU1ZHQ29tcG9uZW50IH0gZnJvbSAnLi91dGlscy9pcy1zdmctY29tcG9uZW50Lm1qcyc7XG5cbmNvbnN0IGNyZWF0ZURvbVZpc3VhbEVsZW1lbnQgPSAoQ29tcG9uZW50LCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIGlzU1ZHQ29tcG9uZW50KENvbXBvbmVudClcbiAgICAgICAgPyBuZXcgU1ZHVmlzdWFsRWxlbWVudChvcHRpb25zKVxuICAgICAgICA6IG5ldyBIVE1MVmlzdWFsRWxlbWVudChvcHRpb25zLCB7XG4gICAgICAgICAgICBhbGxvd1Byb2plY3Rpb246IENvbXBvbmVudCAhPT0gRnJhZ21lbnQsXG4gICAgICAgIH0pO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlRG9tVmlzdWFsRWxlbWVudCB9O1xuIiwgImltcG9ydCB7IG1lYXN1cmVWaWV3cG9ydEJveCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vdXRpbHMvbWVhc3VyZS5tanMnO1xuaW1wb3J0IHsgRE9NVmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL2RvbS9ET01WaXN1YWxFbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBidWlsZEhUTUxTdHlsZXMgfSBmcm9tICcuL3V0aWxzL2J1aWxkLXN0eWxlcy5tanMnO1xuaW1wb3J0IHsgcmVuZGVySFRNTCB9IGZyb20gJy4vdXRpbHMvcmVuZGVyLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9yZW5kZXIvdXRpbHMva2V5cy10cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IHJlYWRUcmFuc2Zvcm1WYWx1ZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9yZW5kZXIvZG9tL3BhcnNlLXRyYW5zZm9ybS5tanMnO1xuaW1wb3J0IHsgaXNDU1NWYXJpYWJsZU5hbWUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2lzLWNzcy12YXJpYWJsZS5tanMnO1xuXG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG59XG5jbGFzcyBIVE1MVmlzdWFsRWxlbWVudCBleHRlbmRzIERPTVZpc3VhbEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnR5cGUgPSBcImh0bWxcIjtcbiAgICAgICAgdGhpcy5yZW5kZXJJbnN0YW5jZSA9IHJlbmRlckhUTUw7XG4gICAgfVxuICAgIHJlYWRWYWx1ZUZyb21JbnN0YW5jZShpbnN0YW5jZSwga2V5KSB7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1Qcm9wcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRUcmFuc2Zvcm1WYWx1ZShpbnN0YW5jZSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGluc3RhbmNlKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKGlzQ1NTVmFyaWFibGVOYW1lKGtleSlcbiAgICAgICAgICAgICAgICA/IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShrZXkpXG4gICAgICAgICAgICAgICAgOiBjb21wdXRlZFN0eWxlW2tleV0pIHx8IDA7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUudHJpbSgpIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZUluc3RhbmNlVmlld3BvcnRCb3goaW5zdGFuY2UsIHsgdHJhbnNmb3JtUGFnZVBvaW50IH0pIHtcbiAgICAgICAgcmV0dXJuIG1lYXN1cmVWaWV3cG9ydEJveChpbnN0YW5jZSwgdHJhbnNmb3JtUGFnZVBvaW50KTtcbiAgICB9XG4gICAgYnVpbGQocmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgcHJvcHMpIHtcbiAgICAgICAgYnVpbGRIVE1MU3R5bGVzKHJlbmRlclN0YXRlLCBsYXRlc3RWYWx1ZXMsIHByb3BzLnRyYW5zZm9ybVRlbXBsYXRlKTtcbiAgICB9XG4gICAgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKHByb3BzLCBwcmV2UHJvcHMsIHZpc3VhbEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhwcm9wcywgcHJldlByb3BzLCB2aXN1YWxFbGVtZW50KTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEhUTUxWaXN1YWxFbGVtZW50LCBnZXRDb21wdXRlZFN0eWxlIH07XG4iLCAiaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgVmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL1Zpc3VhbEVsZW1lbnQubWpzJztcbmltcG9ydCB7IERPTUtleWZyYW1lc1Jlc29sdmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9rZXlmcmFtZXMvRE9NS2V5ZnJhbWVzUmVzb2x2ZXIubWpzJztcblxuY2xhc3MgRE9NVmlzdWFsRWxlbWVudCBleHRlbmRzIFZpc3VhbEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLktleWZyYW1lUmVzb2x2ZXIgPSBET01LZXlmcmFtZXNSZXNvbHZlcjtcbiAgICB9XG4gICAgc29ydEluc3RhbmNlTm9kZVBvc2l0aW9uKGEsIGIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIHJldHVybnMgYSBiaXRtYXNrLCBieSB1c2luZyB0aGUgYml0d2lzZSAmXG4gICAgICAgICAqIHdlJ3JlIHJldHVybmluZyB0cnVlIGlmIDIgaW4gdGhhdCBiaXRtYXNrIGlzIHNldCB0byB0cnVlLiAyIGlzIHNldFxuICAgICAgICAgKiB0byB0cnVlIGlmIGIgcHJlY2VlZHMgYS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpICYgMiA/IDEgOiAtMTtcbiAgICB9XG4gICAgZ2V0QmFzZVRhcmdldEZyb21Qcm9wcyhwcm9wcywga2V5KSB7XG4gICAgICAgIHJldHVybiBwcm9wcy5zdHlsZVxuICAgICAgICAgICAgPyBwcm9wcy5zdHlsZVtrZXldXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUoa2V5LCB7IHZhcnMsIHN0eWxlIH0pIHtcbiAgICAgICAgZGVsZXRlIHZhcnNba2V5XTtcbiAgICAgICAgZGVsZXRlIHN0eWxlW2tleV07XG4gICAgfVxuICAgIGhhbmRsZUNoaWxkTW90aW9uVmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jaGlsZFN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRTdWJzY3JpcHRpb24gPSBjaGlsZHJlbi5vbihcImNoYW5nZVwiLCAobGF0ZXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQudGV4dENvbnRlbnQgPSBgJHtsYXRlc3R9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHsgRE9NVmlzdWFsRWxlbWVudCB9O1xuIiwgImltcG9ydCB7IGZlYXR1cmVEZWZpbml0aW9ucyB9IGZyb20gJy4uL21vdGlvbi9mZWF0dXJlcy9kZWZpbml0aW9ucy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQm94IH0gZnJvbSAnLi4vcHJvamVjdGlvbi9nZW9tZXRyeS9tb2RlbHMubWpzJztcbmltcG9ydCB7IGluaXRQcmVmZXJzUmVkdWNlZE1vdGlvbiB9IGZyb20gJy4uL3V0aWxzL3JlZHVjZWQtbW90aW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIsIHByZWZlcnNSZWR1Y2VkTW90aW9uIH0gZnJvbSAnLi4vdXRpbHMvcmVkdWNlZC1tb3Rpb24vc3RhdGUubWpzJztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IHZpc3VhbEVsZW1lbnRTdG9yZSB9IGZyb20gJy4vc3RvcmUubWpzJztcbmltcG9ydCB7IGlzQ29udHJvbGxpbmdWYXJpYW50cywgaXNWYXJpYW50Tm9kZSB9IGZyb20gJy4vdXRpbHMvaXMtY29udHJvbGxpbmctdmFyaWFudHMubWpzJztcbmltcG9ydCB7IHVwZGF0ZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvbW90aW9uLXZhbHVlcy5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3Jlc29sdmUtdmFyaWFudHMubWpzJztcbmltcG9ydCB7IEtleWZyYW1lUmVzb2x2ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2tleWZyYW1lcy9LZXlmcmFtZXNSZXNvbHZlci5tanMnO1xuaW1wb3J0IHsgdGltZSB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9mcmFtZWxvb3Avc3luYy10aW1lLm1qcyc7XG5pbXBvcnQgeyBmcmFtZSwgY2FuY2VsRnJhbWUgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3dhcm4tb25jZS5tanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtUHJvcHMgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2tleXMtdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBtb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNOdW1lcmljYWxTdHJpbmcgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9pcy1udW1lcmljYWwtc3RyaW5nLm1qcyc7XG5pbXBvcnQgeyBpc1plcm9WYWx1ZVN0cmluZyB9IGZyb20gJy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2lzLXplcm8tdmFsdWUtc3RyaW5nLm1qcyc7XG5pbXBvcnQgeyBmaW5kVmFsdWVUeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3ZhbHVlL3R5cGVzL3V0aWxzL2ZpbmQubWpzJztcbmltcG9ydCB7IGNvbXBsZXggfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvY29tcGxleC9pbmRleC5tanMnO1xuaW1wb3J0IHsgZ2V0QW5pbWF0YWJsZU5vbmUgfSBmcm9tICcuLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvdXRpbHMvYW5pbWF0YWJsZS1ub25lLm1qcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvc3Vic2NyaXB0aW9uLW1hbmFnZXIubWpzJztcblxuY29uc3QgcHJvcEV2ZW50SGFuZGxlcnMgPSBbXG4gICAgXCJBbmltYXRpb25TdGFydFwiLFxuICAgIFwiQW5pbWF0aW9uQ29tcGxldGVcIixcbiAgICBcIlVwZGF0ZVwiLFxuICAgIFwiQmVmb3JlTGF5b3V0TWVhc3VyZVwiLFxuICAgIFwiTGF5b3V0TWVhc3VyZVwiLFxuICAgIFwiTGF5b3V0QW5pbWF0aW9uU3RhcnRcIixcbiAgICBcIkxheW91dEFuaW1hdGlvbkNvbXBsZXRlXCIsXG5dO1xuLyoqXG4gKiBBIFZpc3VhbEVsZW1lbnQgaXMgYW4gaW1wZXJhdGl2ZSBhYnN0cmFjdGlvbiBhcm91bmQgVUkgZWxlbWVudHMgc3VjaCBhc1xuICogSFRNTEVsZW1lbnQsIFNWR0VsZW1lbnQsIFRocmVlLk9iamVjdDNEIGV0Yy5cbiAqL1xuY2xhc3MgVmlzdWFsRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgdGFrZXMgUmVhY3QgcHJvcHMgYW5kIHJldHVybnMgZm91bmQgTW90aW9uVmFsdWVzLiBGb3IgZXhhbXBsZSwgSFRNTFxuICAgICAqIE1vdGlvblZhbHVlcyB3aWxsIGJlIGZvdW5kIHdpdGhpbiB0aGUgc3R5bGUgcHJvcCwgd2hlcmVhcyBmb3IgVGhyZWUuanMgd2l0aGluIGF0dHJpYnV0ZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzbid0IGFuIGFic3RyYWN0IG1ldGhvZCBhcyBpdCBuZWVkcyBjYWxsaW5nIGluIHRoZSBjb25zdHJ1Y3RvciwgYnV0IGl0IGlzXG4gICAgICogaW50ZW5kZWQgdG8gYmUgb25lLlxuICAgICAqL1xuICAgIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhfcHJvcHMsIF9wcmV2UHJvcHMsIF92aXN1YWxFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoeyBwYXJlbnQsIHByb3BzLCBwcmVzZW5jZUNvbnRleHQsIHJlZHVjZWRNb3Rpb25Db25maWcsIGJsb2NrSW5pdGlhbEFuaW1hdGlvbiwgdmlzdWFsU3RhdGUsIH0sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgdW5kZXJseWluZyBJbnN0YW5jZSwgZS5nLiBhIEhUTUxFbGVtZW50XG4gICAgICAgICAqIG9yIFRocmVlLk1lc2ggZXRjLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2V0IGNvbnRhaW5pbmcgcmVmZXJlbmNlcyB0byB0aGlzIFZpc3VhbEVsZW1lbnQncyBjaGlsZHJlbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmUgd2hhdCByb2xlIHRoaXMgdmlzdWFsIGVsZW1lbnQgc2hvdWxkIHRha2UgaW4gdGhlIHZhcmlhbnQgdHJlZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNWYXJpYW50Tm9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzQ29udHJvbGxpbmdWYXJpYW50cyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVjaWRlcyB3aGV0aGVyIHRoaXMgVmlzdWFsRWxlbWVudCBzaG91bGQgYW5pbWF0ZSBpbiByZWR1Y2VkIG1vdGlvblxuICAgICAgICAgKiBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBUaGlzIGlzIGN1cnJlbnRseSBzZXQgb24gZXZlcnkgaW5kaXZpZHVhbCBWaXN1YWxFbGVtZW50IGJ1dCBmZWVsc1xuICAgICAgICAgKiBsaWtlIGl0IGNvdWxkIGJlIHNldCBnbG9iYWxseS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hvdWxkUmVkdWNlTW90aW9uID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIGFsbCBtb3Rpb24gdmFsdWVzIGF0dGFjaGVkIHRvIHRoaXMgdmlzdWFsIGVsZW1lbnQuIE1vdGlvblxuICAgICAgICAgKiB2YWx1ZXMgYXJlIHNvdXJjZSBvZiB0cnV0aCBmb3IgYW55IGdpdmVuIGFuaW1hdGVkIHZhbHVlLiBBIG1vdGlvblxuICAgICAgICAgKiB2YWx1ZSBtaWdodCBiZSBwcm92aWRlZCBleHRlcm5hbGx5IGJ5IHRoZSBjb21wb25lbnQgdmlhIHByb3BzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuS2V5ZnJhbWVSZXNvbHZlciA9IEtleWZyYW1lUmVzb2x2ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGVhbnVwIGZ1bmN0aW9ucyBmb3IgYWN0aXZlIGZlYXR1cmVzIChob3Zlci90YXAvZXhpdCBldGMpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZlYXR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiBldmVyeSBzdWJzY3JpcHRpb24gdGhhdCBiaW5kcyB0aGUgcHJvdmlkZWQgb3IgZ2VuZXJhdGVkXG4gICAgICAgICAqIG1vdGlvbiB2YWx1ZXMgb25DaGFuZ2UgbGlzdGVuZXJzIHRvIHRoaXMgdmlzdWFsIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91c2x5LXByb3ZpZGVkIG1vdGlvbiB2YWx1ZXMgYXMgcmV0dXJuZWRcbiAgICAgICAgICogZnJvbSBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMuIFdlIHVzZSB0aGUga2V5cyBpbiBoZXJlIHRvIGRldGVybWluZVxuICAgICAgICAgKiBpZiBhbnkgbW90aW9uIHZhbHVlcyBuZWVkIHRvIGJlIHJlbW92ZWQgYWZ0ZXIgcHJvcHMgYXJlIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZNb3Rpb25WYWx1ZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9iamVjdCBjb250YWluaW5nIGEgU3Vic2NyaXB0aW9uTWFuYWdlciBmb3IgZWFjaCBhY3RpdmUgZXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV2ZW50cyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gZm9yIGVhY2ggcHJvcCBldmVudCBzdWJzY3JpcHRpb24uXG4gICAgICAgICAqIEZvciBleGFtcGxlLCBldmVyeSBcIlVwZGF0ZVwiIGV2ZW50IGNhbiBoYXZlIG11bHRpcGxlIHN1YnNjcmliZXJzIHZpYVxuICAgICAgICAgKiBWaXN1YWxFbGVtZW50Lm9uKCksIGJ1dCBvbmx5IG9uZSBvZiB0aG9zZSBjYW4gYmUgZGVmaW5lZCB2aWEgdGhlIG9uVXBkYXRlIHByb3AuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5ub3RpZnlVcGRhdGUgPSAoKSA9PiB0aGlzLm5vdGlmeShcIlVwZGF0ZVwiLCB0aGlzLmxhdGVzdFZhbHVlcyk7XG4gICAgICAgIHRoaXMucmVuZGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyQnVpbGQoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVySW5zdGFuY2UodGhpcy5jdXJyZW50LCB0aGlzLnJlbmRlclN0YXRlLCB0aGlzLnByb3BzLnN0eWxlLCB0aGlzLnByb2plY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlbmRlclNjaGVkdWxlZEF0ID0gMC4wO1xuICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gdGltZS5ub3coKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlclNjaGVkdWxlZEF0IDwgbm93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTY2hlZHVsZWRBdCA9IG5vdztcbiAgICAgICAgICAgICAgICBmcmFtZS5yZW5kZXIodGhpcy5yZW5kZXIsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBsYXRlc3RWYWx1ZXMsIHJlbmRlclN0YXRlIH0gPSB2aXN1YWxTdGF0ZTtcbiAgICAgICAgdGhpcy5sYXRlc3RWYWx1ZXMgPSBsYXRlc3RWYWx1ZXM7XG4gICAgICAgIHRoaXMuYmFzZVRhcmdldCA9IHsgLi4ubGF0ZXN0VmFsdWVzIH07XG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlcyA9IHByb3BzLmluaXRpYWwgPyB7IC4uLmxhdGVzdFZhbHVlcyB9IDoge307XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdGUgPSByZW5kZXJTdGF0ZTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5wcmVzZW5jZUNvbnRleHQgPSBwcmVzZW5jZUNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVwdGggPSBwYXJlbnQgPyBwYXJlbnQuZGVwdGggKyAxIDogMDtcbiAgICAgICAgdGhpcy5yZWR1Y2VkTW90aW9uQ29uZmlnID0gcmVkdWNlZE1vdGlvbkNvbmZpZztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5ibG9ja0luaXRpYWxBbmltYXRpb24gPSBCb29sZWFuKGJsb2NrSW5pdGlhbEFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMuaXNDb250cm9sbGluZ1ZhcmlhbnRzID0gaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKTtcbiAgICAgICAgdGhpcy5pc1ZhcmlhbnROb2RlID0gaXNWYXJpYW50Tm9kZShwcm9wcyk7XG4gICAgICAgIGlmICh0aGlzLmlzVmFyaWFudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFudENoaWxkcmVuID0gbmV3IFNldCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFudWFsbHlBbmltYXRlT25Nb3VudCA9IEJvb2xlYW4ocGFyZW50ICYmIHBhcmVudC5jdXJyZW50KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFueSBtb3Rpb24gdmFsdWVzIHRoYXQgYXJlIHByb3ZpZGVkIHRvIHRoZSBlbGVtZW50IHdoZW4gY3JlYXRlZFxuICAgICAgICAgKiBhcmVuJ3QgeWV0IGJvdW5kIHRvIHRoZSBlbGVtZW50LCBhcyB0aGlzIHdvdWxkIHRlY2huaWNhbGx5IGJlIGltcHVyZS5cbiAgICAgICAgICogSG93ZXZlciwgd2UgaXRlcmF0ZSB0aHJvdWdoIHRoZSBtb3Rpb24gdmFsdWVzIGFuZCBzZXQgdGhlbSB0byB0aGVcbiAgICAgICAgICogaW5pdGlhbCB2YWx1ZXMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBUaGlzIGlzIGltcHVyZSBhbmQgd2Ugc2hvdWxkIGxvb2sgYXQgY2hhbmdpbmcgdGhpcyB0byBydW4gb24gbW91bnQuXG4gICAgICAgICAqIERvaW5nIHNvIHdpbGwgYnJlYWsgc29tZSB0ZXN0cyBidXQgdGhpcyBpc24ndCBuZWNlc3NhcmlseSBhIGJyZWFraW5nIGNoYW5nZSxcbiAgICAgICAgICogbW9yZSBhIHJlZmxlY3Rpb24gb2YgdGhlIHRlc3QuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB7IHdpbGxDaGFuZ2UsIC4uLmluaXRpYWxNb3Rpb25WYWx1ZXMgfSA9IHRoaXMuc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKHByb3BzLCB7fSwgdGhpcyk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGluaXRpYWxNb3Rpb25WYWx1ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbE1vdGlvblZhbHVlc1trZXldO1xuICAgICAgICAgICAgaWYgKGxhdGVzdFZhbHVlc1trZXldICE9PSB1bmRlZmluZWQgJiYgaXNNb3Rpb25WYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5zZXQobGF0ZXN0VmFsdWVzW2tleV0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3VudChpbnN0YW5jZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBpbnN0YW5jZTtcbiAgICAgICAgdmlzdWFsRWxlbWVudFN0b3JlLnNldChpbnN0YW5jZSwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24gJiYgIXRoaXMucHJvamVjdGlvbi5pbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uLm1vdW50KGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5pc1ZhcmlhbnROb2RlICYmICF0aGlzLmlzQ29udHJvbGxpbmdWYXJpYW50cykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGcm9tVmFyaWFudFRyZWUgPSB0aGlzLnBhcmVudC5hZGRWYXJpYW50Q2hpbGQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gdGhpcy5iaW5kVG9Nb3Rpb25WYWx1ZShrZXksIHZhbHVlKSk7XG4gICAgICAgIGlmICghaGFzUmVkdWNlZE1vdGlvbkxpc3RlbmVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGluaXRQcmVmZXJzUmVkdWNlZE1vdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvdWxkUmVkdWNlTW90aW9uID1cbiAgICAgICAgICAgIHRoaXMucmVkdWNlZE1vdGlvbkNvbmZpZyA9PT0gXCJuZXZlclwiXG4gICAgICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgICAgIDogdGhpcy5yZWR1Y2VkTW90aW9uQ29uZmlnID09PSBcImFsd2F5c1wiXG4gICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICA6IHByZWZlcnNSZWR1Y2VkTW90aW9uLmN1cnJlbnQ7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKHRoaXMuc2hvdWxkUmVkdWNlTW90aW9uICE9PSB0cnVlLCBcIllvdSBoYXZlIFJlZHVjZWQgTW90aW9uIGVuYWJsZWQgb24geW91ciBkZXZpY2UuIEFuaW1hdGlvbnMgbWF5IG5vdCBhcHBlYXIgYXMgZXhwZWN0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNoaWxkcmVuLmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wcm9wcywgdGhpcy5wcmVzZW5jZUNvbnRleHQpO1xuICAgIH1cbiAgICB1bm1vdW50KCkge1xuICAgICAgICB0aGlzLnByb2plY3Rpb24gJiYgdGhpcy5wcm9qZWN0aW9uLnVubW91bnQoKTtcbiAgICAgICAgY2FuY2VsRnJhbWUodGhpcy5ub3RpZnlVcGRhdGUpO1xuICAgICAgICBjYW5jZWxGcmFtZSh0aGlzLnJlbmRlcik7XG4gICAgICAgIHRoaXMudmFsdWVTdWJzY3JpcHRpb25zLmZvckVhY2goKHJlbW92ZSkgPT4gcmVtb3ZlKCkpO1xuICAgICAgICB0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJlbW92ZUZyb21WYXJpYW50VHJlZSAmJiB0aGlzLnJlbW92ZUZyb21WYXJpYW50VHJlZSgpO1xuICAgICAgICB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5jaGlsZHJlbi5kZWxldGUodGhpcyk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuZXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1trZXldLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5mZWF0dXJlcykge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IHRoaXMuZmVhdHVyZXNba2V5XTtcbiAgICAgICAgICAgIGlmIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS51bm1vdW50KCk7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBiaW5kVG9Nb3Rpb25WYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuZ2V0KGtleSkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZUlzVHJhbnNmb3JtID0gdHJhbnNmb3JtUHJvcHMuaGFzKGtleSk7XG4gICAgICAgIGlmICh2YWx1ZUlzVHJhbnNmb3JtICYmIHRoaXMub25CaW5kVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLm9uQmluZFRyYW5zZm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZU9uQ2hhbmdlID0gdmFsdWUub24oXCJjaGFuZ2VcIiwgKGxhdGVzdFZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxhdGVzdFZhbHVlc1trZXldID0gbGF0ZXN0VmFsdWU7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlICYmIGZyYW1lLnByZVJlbmRlcih0aGlzLm5vdGlmeVVwZGF0ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWVJc1RyYW5zZm9ybSAmJiB0aGlzLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb24uaXNUcmFuc2Zvcm1EaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZW1vdmVPblJlbmRlclJlcXVlc3QgPSB2YWx1ZS5vbihcInJlbmRlclJlcXVlc3RcIiwgdGhpcy5zY2hlZHVsZVJlbmRlcik7XG4gICAgICAgIGxldCByZW1vdmVTeW5jQ2hlY2s7XG4gICAgICAgIGlmICh3aW5kb3cuTW90aW9uQ2hlY2tBcHBlYXJTeW5jKSB7XG4gICAgICAgICAgICByZW1vdmVTeW5jQ2hlY2sgPSB3aW5kb3cuTW90aW9uQ2hlY2tBcHBlYXJTeW5jKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVTdWJzY3JpcHRpb25zLnNldChrZXksICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZU9uQ2hhbmdlKCk7XG4gICAgICAgICAgICByZW1vdmVPblJlbmRlclJlcXVlc3QoKTtcbiAgICAgICAgICAgIGlmIChyZW1vdmVTeW5jQ2hlY2spXG4gICAgICAgICAgICAgICAgcmVtb3ZlU3luY0NoZWNrKCk7XG4gICAgICAgICAgICBpZiAodmFsdWUub3duZXIpXG4gICAgICAgICAgICAgICAgdmFsdWUuc3RvcCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc29ydE5vZGVQb3NpdGlvbihvdGhlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlc2Ugbm9kZXMgYXJlbid0IGV2ZW4gb2YgdGhlIHNhbWUgdHlwZSB3ZSBjYW4ndCBjb21wYXJlIHRoZWlyIGRlcHRoLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQgfHxcbiAgICAgICAgICAgICF0aGlzLnNvcnRJbnN0YW5jZU5vZGVQb3NpdGlvbiB8fFxuICAgICAgICAgICAgdGhpcy50eXBlICE9PSBvdGhlci50eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zb3J0SW5zdGFuY2VOb2RlUG9zaXRpb24odGhpcy5jdXJyZW50LCBvdGhlci5jdXJyZW50KTtcbiAgICB9XG4gICAgdXBkYXRlRmVhdHVyZXMoKSB7XG4gICAgICAgIGxldCBrZXkgPSBcImFuaW1hdGlvblwiO1xuICAgICAgICBmb3IgKGtleSBpbiBmZWF0dXJlRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVEZWZpbml0aW9uID0gZmVhdHVyZURlZmluaXRpb25zW2tleV07XG4gICAgICAgICAgICBpZiAoIWZlYXR1cmVEZWZpbml0aW9uKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgeyBpc0VuYWJsZWQsIEZlYXR1cmU6IEZlYXR1cmVDb25zdHJ1Y3RvciB9ID0gZmVhdHVyZURlZmluaXRpb247XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgZmVhdHVyZSBpcyBlbmFibGVkIGJ1dCBub3QgYWN0aXZlLCBtYWtlIGEgbmV3IGluc3RhbmNlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIXRoaXMuZmVhdHVyZXNba2V5XSAmJlxuICAgICAgICAgICAgICAgIEZlYXR1cmVDb25zdHJ1Y3RvciAmJlxuICAgICAgICAgICAgICAgIGlzRW5hYmxlZCh0aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNba2V5XSA9IG5ldyBGZWF0dXJlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgYSBmZWF0dXJlLCBtb3VudCBvciB1cGRhdGUgaXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzW2tleV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5mZWF0dXJlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5tb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLmlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRyaWdnZXJCdWlsZCgpIHtcbiAgICAgICAgdGhpcy5idWlsZCh0aGlzLnJlbmRlclN0YXRlLCB0aGlzLmxhdGVzdFZhbHVlcywgdGhpcy5wcm9wcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lYXN1cmUgdGhlIGN1cnJlbnQgdmlld3BvcnQgYm94IHdpdGggb3Igd2l0aG91dCB0cmFuc2Zvcm1zLlxuICAgICAqIE9ubHkgbWVhc3VyZXMgYXhpcy1hbGlnbmVkIGJveGVzLCByb3RhdGUgYW5kIHNrZXcgbXVzdCBiZSBtYW51YWxseVxuICAgICAqIHJlbW92ZWQgd2l0aCBhIHJlLXJlbmRlciB0byB3b3JrLlxuICAgICAqL1xuICAgIG1lYXN1cmVWaWV3cG9ydEJveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFxuICAgICAgICAgICAgPyB0aGlzLm1lYXN1cmVJbnN0YW5jZVZpZXdwb3J0Qm94KHRoaXMuY3VycmVudCwgdGhpcy5wcm9wcylcbiAgICAgICAgICAgIDogY3JlYXRlQm94KCk7XG4gICAgfVxuICAgIGdldFN0YXRpY1ZhbHVlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXRlc3RWYWx1ZXNba2V5XTtcbiAgICB9XG4gICAgc2V0U3RhdGljVmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmxhdGVzdFZhbHVlc1trZXldID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgcHJvdmlkZWQgcHJvcHMuIEVuc3VyZSBhbnkgbmV3bHktYWRkZWQgbW90aW9uIHZhbHVlcyBhcmVcbiAgICAgKiBhZGRlZCB0byBvdXIgbWFwLCBvbGQgb25lcyByZW1vdmVkLCBhbmQgbGlzdGVuZXJzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgdXBkYXRlKHByb3BzLCBwcmVzZW5jZUNvbnRleHQpIHtcbiAgICAgICAgaWYgKHByb3BzLnRyYW5zZm9ybVRlbXBsYXRlIHx8IHRoaXMucHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXZQcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5wcmV2UHJlc2VuY2VDb250ZXh0ID0gdGhpcy5wcmVzZW5jZUNvbnRleHQ7XG4gICAgICAgIHRoaXMucHJlc2VuY2VDb250ZXh0ID0gcHJlc2VuY2VDb250ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIHByb3AgZXZlbnQgaGFuZGxlcnMgaWUgb25BbmltYXRpb25TdGFydCwgb25BbmltYXRpb25Db21wbGV0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wRXZlbnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcEV2ZW50SGFuZGxlcnNbaV07XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wRXZlbnRTdWJzY3JpcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnNba2V5XSgpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyTmFtZSA9IChcIm9uXCIgKyBrZXkpO1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBwcm9wc1tsaXN0ZW5lck5hbWVdO1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wRXZlbnRTdWJzY3JpcHRpb25zW2tleV0gPSB0aGlzLm9uKGtleSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJldk1vdGlvblZhbHVlcyA9IHVwZGF0ZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyh0aGlzLCB0aGlzLnNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhwcm9wcywgdGhpcy5wcmV2UHJvcHMsIHRoaXMpLCB0aGlzLnByZXZNb3Rpb25WYWx1ZXMpO1xuICAgICAgICBpZiAodGhpcy5oYW5kbGVDaGlsZE1vdGlvblZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNoaWxkTW90aW9uVmFsdWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhcmlhbnQgZGVmaW5pdGlvbiB3aXRoIGEgZ2l2ZW4gbmFtZS5cbiAgICAgKi9cbiAgICBnZXRWYXJpYW50KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudmFyaWFudHMgPyB0aGlzLnByb3BzLnZhcmlhbnRzW25hbWVdIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkZWZpbmVkIGRlZmF1bHQgdHJhbnNpdGlvbiBvbiB0aGlzIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBnZXREZWZhdWx0VHJhbnNpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudHJhbnNpdGlvbjtcbiAgICB9XG4gICAgZ2V0VHJhbnNmb3JtUGFnZVBvaW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy50cmFuc2Zvcm1QYWdlUG9pbnQ7XG4gICAgfVxuICAgIGdldENsb3Nlc3RWYXJpYW50Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYXJpYW50Tm9kZVxuICAgICAgICAgICAgPyB0aGlzXG4gICAgICAgICAgICA6IHRoaXMucGFyZW50XG4gICAgICAgICAgICAgICAgPyB0aGlzLnBhcmVudC5nZXRDbG9zZXN0VmFyaWFudE5vZGUoKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjaGlsZCB2aXN1YWwgZWxlbWVudCB0byBvdXIgc2V0IG9mIGNoaWxkcmVuLlxuICAgICAqL1xuICAgIGFkZFZhcmlhbnRDaGlsZChjaGlsZCkge1xuICAgICAgICBjb25zdCBjbG9zZXN0VmFyaWFudE5vZGUgPSB0aGlzLmdldENsb3Nlc3RWYXJpYW50Tm9kZSgpO1xuICAgICAgICBpZiAoY2xvc2VzdFZhcmlhbnROb2RlKSB7XG4gICAgICAgICAgICBjbG9zZXN0VmFyaWFudE5vZGUudmFyaWFudENoaWxkcmVuICYmXG4gICAgICAgICAgICAgICAgY2xvc2VzdFZhcmlhbnROb2RlLnZhcmlhbnRDaGlsZHJlbi5hZGQoY2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsb3Nlc3RWYXJpYW50Tm9kZS52YXJpYW50Q2hpbGRyZW4uZGVsZXRlKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBtb3Rpb24gdmFsdWUgYW5kIGJpbmQgaXQgdG8gdGhpcyB2aXN1YWwgZWxlbWVudC5cbiAgICAgKi9cbiAgICBhZGRWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIC8vIFJlbW92ZSBleGlzdGluZyB2YWx1ZSBpZiBpdCBleGlzdHNcbiAgICAgICAgY29uc3QgZXhpc3RpbmdWYWx1ZSA9IHRoaXMudmFsdWVzLmdldChrZXkpO1xuICAgICAgICBpZiAodmFsdWUgIT09IGV4aXN0aW5nVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1ZhbHVlKVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVmFsdWUoa2V5KTtcbiAgICAgICAgICAgIHRoaXMuYmluZFRvTW90aW9uVmFsdWUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmxhdGVzdFZhbHVlc1trZXldID0gdmFsdWUuZ2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgbW90aW9uIHZhbHVlIGFuZCB1bmJpbmQgYW55IGFjdGl2ZSBzdWJzY3JpcHRpb25zLlxuICAgICAqL1xuICAgIHJlbW92ZVZhbHVlKGtleSkge1xuICAgICAgICB0aGlzLnZhbHVlcy5kZWxldGUoa2V5KTtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMubGF0ZXN0VmFsdWVzW2tleV07XG4gICAgICAgIHRoaXMucmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUoa2V5LCB0aGlzLnJlbmRlclN0YXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgbW90aW9uIHZhbHVlIGZvciB0aGlzIGtleVxuICAgICAqL1xuICAgIGhhc1ZhbHVlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMuaGFzKGtleSk7XG4gICAgfVxuICAgIGdldFZhbHVlKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlcyAmJiB0aGlzLnByb3BzLnZhbHVlc1trZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy52YWx1ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnZhbHVlcy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbW90aW9uVmFsdWUoZGVmYXVsdFZhbHVlID09PSBudWxsID8gdW5kZWZpbmVkIDogZGVmYXVsdFZhbHVlLCB7IG93bmVyOiB0aGlzIH0pO1xuICAgICAgICAgICAgdGhpcy5hZGRWYWx1ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHdlJ3JlIHRyeWluZyB0byBhbmltYXRlIHRvIGEgcHJldmlvdXNseSB1bmVuY291bnRlcmVkIHZhbHVlLFxuICAgICAqIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGl0IGluIG91ciBzdGF0ZSBhbmQgYXMgYSBsYXN0IHJlc29ydCByZWFkIGl0XG4gICAgICogZGlyZWN0bHkgZnJvbSB0aGUgaW5zdGFuY2UgKHdoaWNoIG1pZ2h0IGhhdmUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zKS5cbiAgICAgKi9cbiAgICByZWFkVmFsdWUoa2V5LCB0YXJnZXQpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5sYXRlc3RWYWx1ZXNba2V5XSAhPT0gdW5kZWZpbmVkIHx8ICF0aGlzLmN1cnJlbnRcbiAgICAgICAgICAgID8gdGhpcy5sYXRlc3RWYWx1ZXNba2V5XVxuICAgICAgICAgICAgOiB0aGlzLmdldEJhc2VUYXJnZXRGcm9tUHJvcHModGhpcy5wcm9wcywga2V5KSA/P1xuICAgICAgICAgICAgICAgIHRoaXMucmVhZFZhbHVlRnJvbUluc3RhbmNlKHRoaXMuY3VycmVudCwga2V5LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIChpc051bWVyaWNhbFN0cmluZyh2YWx1ZSkgfHwgaXNaZXJvVmFsdWVTdHJpbmcodmFsdWUpKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBudW1iZXIgcmVhZCBhcyBhIHN0cmluZywgaWUgXCIwXCIgb3IgXCIyMDBcIiwgY29udmVydCBpdCB0byBhIG51bWJlclxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghZmluZFZhbHVlVHlwZSh2YWx1ZSkgJiYgY29tcGxleC50ZXN0KHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGdldEFuaW1hdGFibGVOb25lKGtleSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0QmFzZVRhcmdldChrZXksIGlzTW90aW9uVmFsdWUodmFsdWUpID8gdmFsdWUuZ2V0KCkgOiB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzTW90aW9uVmFsdWUodmFsdWUpID8gdmFsdWUuZ2V0KCkgOiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBiYXNlIHRhcmdldCB0byBsYXRlciBhbmltYXRlIGJhY2sgdG8uIFRoaXMgaXMgY3VycmVudGx5XG4gICAgICogb25seSBoeWRyYXRlZCBvbiBjcmVhdGlvbiBhbmQgd2hlbiB3ZSBmaXJzdCByZWFkIGEgdmFsdWUuXG4gICAgICovXG4gICAgc2V0QmFzZVRhcmdldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYmFzZVRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGJhc2UgdGFyZ2V0IGZvciBhIHZhbHVlIHRoYXRzIGJlZW4gcmVtb3ZlZCBmcm9tIGFsbCBhbmltYXRpb25cbiAgICAgKiBwcm9wcy5cbiAgICAgKi9cbiAgICBnZXRCYXNlVGFyZ2V0KGtleSkge1xuICAgICAgICBjb25zdCB7IGluaXRpYWwgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGxldCB2YWx1ZUZyb21Jbml0aWFsO1xuICAgICAgICBpZiAodHlwZW9mIGluaXRpYWwgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGluaXRpYWwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnQgPSByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyh0aGlzLnByb3BzLCBpbml0aWFsLCB0aGlzLnByZXNlbmNlQ29udGV4dD8uY3VzdG9tKTtcbiAgICAgICAgICAgIGlmICh2YXJpYW50KSB7XG4gICAgICAgICAgICAgICAgdmFsdWVGcm9tSW5pdGlhbCA9IHZhcmlhbnRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyB2YWx1ZSBzdGlsbCBleGlzdHMgaW4gdGhlIGN1cnJlbnQgaW5pdGlhbCB2YXJpYW50LCByZWFkIHRoYXQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaW5pdGlhbCAmJiB2YWx1ZUZyb21Jbml0aWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZUZyb21Jbml0aWFsO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbHRlcm5hdGl2ZWx5LCBpZiB0aGlzIFZpc3VhbEVsZW1lbnQgY29uZmlnIGhhcyBkZWZpbmVkIGEgZ2V0QmFzZVRhcmdldFxuICAgICAgICAgKiBzbyB3ZSBjYW4gcmVhZCB0aGUgdmFsdWUgZnJvbSBhbiBhbHRlcm5hdGl2ZSBzb3VyY2UsIHRyeSB0aGF0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5nZXRCYXNlVGFyZ2V0RnJvbVByb3BzKHRoaXMucHJvcHMsIGtleSk7XG4gICAgICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCAmJiAhaXNNb3Rpb25WYWx1ZSh0YXJnZXQpKVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSB2YWx1ZSB3YXMgaW5pdGlhbGx5IGRlZmluZWQgb24gaW5pdGlhbCwgYnV0IGl0IGRvZXNuJ3QgYW55IG1vcmUsXG4gICAgICAgICAqIHJldHVybiB1bmRlZmluZWQuIE90aGVyd2lzZSByZXR1cm4gdGhlIHZhbHVlIGFzIGluaXRpYWxseSByZWFkIGZyb20gdGhlIERPTS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxWYWx1ZXNba2V5XSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICB2YWx1ZUZyb21Jbml0aWFsID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IHRoaXMuYmFzZVRhcmdldFtrZXldO1xuICAgIH1cbiAgICBvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5ldmVudHNbZXZlbnROYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IG5ldyBTdWJzY3JpcHRpb25NYW5hZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uYWRkKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgbm90aWZ5KGV2ZW50TmFtZSwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy5ldmVudHNbZXZlbnROYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5ub3RpZnkoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7IFZpc3VhbEVsZW1lbnQgfTtcbiIsICJpbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICcuLi9pcy1icm93c2VyLm1qcyc7XG5pbXBvcnQgeyBoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIsIHByZWZlcnNSZWR1Y2VkTW90aW9uIH0gZnJvbSAnLi9zdGF0ZS5tanMnO1xuXG5mdW5jdGlvbiBpbml0UHJlZmVyc1JlZHVjZWRNb3Rpb24oKSB7XG4gICAgaGFzUmVkdWNlZE1vdGlvbkxpc3RlbmVyLmN1cnJlbnQgPSB0cnVlO1xuICAgIGlmICghaXNCcm93c2VyKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKSB7XG4gICAgICAgIGNvbnN0IG1vdGlvbk1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uKVwiKTtcbiAgICAgICAgY29uc3Qgc2V0UmVkdWNlZE1vdGlvblByZWZlcmVuY2VzID0gKCkgPT4gKHByZWZlcnNSZWR1Y2VkTW90aW9uLmN1cnJlbnQgPSBtb3Rpb25NZWRpYVF1ZXJ5Lm1hdGNoZXMpO1xuICAgICAgICBtb3Rpb25NZWRpYVF1ZXJ5LmFkZExpc3RlbmVyKHNldFJlZHVjZWRNb3Rpb25QcmVmZXJlbmNlcyk7XG4gICAgICAgIHNldFJlZHVjZWRNb3Rpb25QcmVmZXJlbmNlcygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJlZmVyc1JlZHVjZWRNb3Rpb24uY3VycmVudCA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgaW5pdFByZWZlcnNSZWR1Y2VkTW90aW9uIH07XG4iLCAiLy8gRG9lcyB0aGlzIGRldmljZSBwcmVmZXIgcmVkdWNlZCBtb3Rpb24/IFJldHVybnMgYG51bGxgIHNlcnZlci1zaWRlLlxuY29uc3QgcHJlZmVyc1JlZHVjZWRNb3Rpb24gPSB7IGN1cnJlbnQ6IG51bGwgfTtcbmNvbnN0IGhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lciA9IHsgY3VycmVudDogZmFsc2UgfTtcblxuZXhwb3J0IHsgaGFzUmVkdWNlZE1vdGlvbkxpc3RlbmVyLCBwcmVmZXJzUmVkdWNlZE1vdGlvbiB9O1xuIiwgImNvbnN0IHZpc3VhbEVsZW1lbnRTdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG5cbmV4cG9ydCB7IHZpc3VhbEVsZW1lbnRTdG9yZSB9O1xuIiwgImltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvd2Fybi1vbmNlLm1qcyc7XG5pbXBvcnQgeyBtb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy92YWx1ZS9pbmRleC5tanMnO1xuXG5mdW5jdGlvbiB1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMoZWxlbWVudCwgbmV4dCwgcHJldikge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcbiAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gbmV4dFtrZXldO1xuICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBwcmV2W2tleV07XG4gICAgICAgIGlmIChpc01vdGlvblZhbHVlKG5leHRWYWx1ZSkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhIG1vdGlvbiB2YWx1ZSBmb3VuZCBpbiBwcm9wcyBvciBzdHlsZSwgd2Ugd2FudCB0byBhZGQgaXRcbiAgICAgICAgICAgICAqIHRvIG91ciB2aXN1YWwgZWxlbWVudCdzIG1vdGlvbiB2YWx1ZSBtYXAuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkVmFsdWUoa2V5LCBuZXh0VmFsdWUpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDaGVjayB0aGUgdmVyc2lvbiBvZiB0aGUgaW5jb21pbmcgbW90aW9uIHZhbHVlIHdpdGggdGhpcyB2ZXJzaW9uXG4gICAgICAgICAgICAgKiBhbmQgd2FybiBhZ2FpbnN0IG1pc21hdGNoZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgICAgICAgd2Fybk9uY2UobmV4dFZhbHVlLnZlcnNpb24gPT09IFwiMTIuOS4yXCIsIGBBdHRlbXB0aW5nIHRvIG1peCBNb3Rpb24gdmVyc2lvbnMgJHtuZXh0VmFsdWUudmVyc2lvbn0gd2l0aCAxMi45LjIgbWF5IG5vdCB3b3JrIGFzIGV4cGVjdGVkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTW90aW9uVmFsdWUocHJldlZhbHVlKSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSBzd2FwcGluZyBmcm9tIGEgbW90aW9uIHZhbHVlIHRvIGEgc3RhdGljIHZhbHVlLFxuICAgICAgICAgICAgICogY3JlYXRlIGEgbmV3IG1vdGlvbiB2YWx1ZSBmcm9tIHRoYXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZWxlbWVudC5hZGRWYWx1ZShrZXksIG1vdGlvblZhbHVlKG5leHRWYWx1ZSwgeyBvd25lcjogZWxlbWVudCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldlZhbHVlICE9PSBuZXh0VmFsdWUpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhIGZsYXQgdmFsdWUgdGhhdCBoYXMgY2hhbmdlZCwgdXBkYXRlIHRoZSBtb3Rpb24gdmFsdWVcbiAgICAgICAgICAgICAqIG9yIGNyZWF0ZSBvbmUgaWYgaXQgZG9lc24ndCBleGlzdC4gV2Ugb25seSB3YW50IHRvIGRvIHRoaXMgaWYgd2UncmVcbiAgICAgICAgICAgICAqIG5vdCBoYW5kbGluZyB0aGUgdmFsdWUgd2l0aCBvdXIgYW5pbWF0aW9uIHN0YXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNWYWx1ZShrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdWYWx1ZSA9IGVsZW1lbnQuZ2V0VmFsdWUoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdWYWx1ZS5saXZlU3R5bGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdWYWx1ZS5qdW1wKG5leHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFleGlzdGluZ1ZhbHVlLmhhc0FuaW1hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVmFsdWUuc2V0KG5leHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0VmFsdWUgPSBlbGVtZW50LmdldFN0YXRpY1ZhbHVlKGtleSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRWYWx1ZShrZXksIG1vdGlvblZhbHVlKGxhdGVzdFZhbHVlICE9PSB1bmRlZmluZWQgPyBsYXRlc3RWYWx1ZSA6IG5leHRWYWx1ZSwgeyBvd25lcjogZWxlbWVudCB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSGFuZGxlIHJlbW92ZWQgdmFsdWVzXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xuICAgICAgICBpZiAobmV4dFtrZXldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZVZhbHVlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0O1xufVxuXG5leHBvcnQgeyB1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfTtcbiIsICIvKipcbiAqIENoZWNrIGlmIHZhbHVlIGlzIGEgbnVtZXJpY2FsIHN0cmluZywgaWUgYSBzdHJpbmcgdGhhdCBpcyBwdXJlbHkgYSBudW1iZXIgZWcgXCIxMDBcIiBvciBcIi0xMDAuMVwiXG4gKi9cbmNvbnN0IGlzTnVtZXJpY2FsU3RyaW5nID0gKHYpID0+IC9eLT8oPzpcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspJC91LnRlc3Qodik7XG5cbmV4cG9ydCB7IGlzTnVtZXJpY2FsU3RyaW5nIH07XG4iLCAiLyoqXG4gKiBDaGVjayBpZiB0aGUgdmFsdWUgaXMgYSB6ZXJvIHZhbHVlIHN0cmluZyBsaWtlIFwiMHB4XCIgb3IgXCIwJVwiXG4gKi9cbmNvbnN0IGlzWmVyb1ZhbHVlU3RyaW5nID0gKHYpID0+IC9eMFteLlxcc10rJC91LnRlc3Qodik7XG5cbmV4cG9ydCB7IGlzWmVyb1ZhbHVlU3RyaW5nIH07XG4iLCAiaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi9jb2xvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJy4uL2NvbXBsZXgvaW5kZXgubWpzJztcbmltcG9ydCB7IGRpbWVuc2lvblZhbHVlVHlwZXMgfSBmcm9tICcuLi9kaW1lbnNpb25zLm1qcyc7XG5pbXBvcnQgeyB0ZXN0VmFsdWVUeXBlIH0gZnJvbSAnLi4vdGVzdC5tanMnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBhbGwgVmFsdWVUeXBlc1xuICovXG5jb25zdCB2YWx1ZVR5cGVzID0gWy4uLmRpbWVuc2lvblZhbHVlVHlwZXMsIGNvbG9yLCBjb21wbGV4XTtcbi8qKlxuICogVGVzdHMgYSB2YWx1ZSBhZ2FpbnN0IHRoZSBsaXN0IG9mIFZhbHVlVHlwZXNcbiAqL1xuY29uc3QgZmluZFZhbHVlVHlwZSA9ICh2KSA9PiB2YWx1ZVR5cGVzLmZpbmQodGVzdFZhbHVlVHlwZSh2KSk7XG5cbmV4cG9ydCB7IGZpbmRWYWx1ZVR5cGUgfTtcbiIsICJpbXBvcnQgeyBhdXRvIH0gZnJvbSAnLi9hdXRvLm1qcyc7XG5pbXBvcnQgeyBudW1iZXIgfSBmcm9tICcuL251bWJlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHB4LCBwZXJjZW50LCBkZWdyZWVzLCB2dywgdmggfSBmcm9tICcuL251bWJlcnMvdW5pdHMubWpzJztcbmltcG9ydCB7IHRlc3RWYWx1ZVR5cGUgfSBmcm9tICcuL3Rlc3QubWpzJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgdmFsdWUgdHlwZXMgY29tbW9ubHkgdXNlZCBmb3IgZGltZW5zaW9uc1xuICovXG5jb25zdCBkaW1lbnNpb25WYWx1ZVR5cGVzID0gW251bWJlciwgcHgsIHBlcmNlbnQsIGRlZ3JlZXMsIHZ3LCB2aCwgYXV0b107XG4vKipcbiAqIFRlc3RzIGEgZGltZW5zaW9uYWwgdmFsdWUgYWdhaW5zdCB0aGUgbGlzdCBvZiBkaW1lbnNpb24gVmFsdWVUeXBlc1xuICovXG5jb25zdCBmaW5kRGltZW5zaW9uVmFsdWVUeXBlID0gKHYpID0+IGRpbWVuc2lvblZhbHVlVHlwZXMuZmluZCh0ZXN0VmFsdWVUeXBlKHYpKTtcblxuZXhwb3J0IHsgZGltZW5zaW9uVmFsdWVUeXBlcywgZmluZERpbWVuc2lvblZhbHVlVHlwZSB9O1xuIiwgIi8qKlxuICogVmFsdWVUeXBlIGZvciBcImF1dG9cIlxuICovXG5jb25zdCBhdXRvID0ge1xuICAgIHRlc3Q6ICh2KSA9PiB2ID09PSBcImF1dG9cIixcbiAgICBwYXJzZTogKHYpID0+IHYsXG59O1xuXG5leHBvcnQgeyBhdXRvIH07XG4iLCAiLyoqXG4gKiBUZXN0cyBhIHByb3ZpZGVkIHZhbHVlIGFnYWluc3QgYSBWYWx1ZVR5cGVcbiAqL1xuY29uc3QgdGVzdFZhbHVlVHlwZSA9ICh2KSA9PiAodHlwZSkgPT4gdHlwZS50ZXN0KHYpO1xuXG5leHBvcnQgeyB0ZXN0VmFsdWVUeXBlIH07XG4iLCAiaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJy4uL2NvbXBsZXgvaW5kZXgubWpzJztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4uL2NvbXBsZXgvZmlsdGVyLm1qcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0VmFsdWVUeXBlIH0gZnJvbSAnLi4vbWFwcy9kZWZhdWx0cy5tanMnO1xuXG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlTm9uZShrZXksIHZhbHVlKSB7XG4gICAgbGV0IGRlZmF1bHRWYWx1ZVR5cGUgPSBnZXREZWZhdWx0VmFsdWVUeXBlKGtleSk7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZVR5cGUgIT09IGZpbHRlcilcbiAgICAgICAgZGVmYXVsdFZhbHVlVHlwZSA9IGNvbXBsZXg7XG4gICAgLy8gSWYgdmFsdWUgaXMgbm90IHJlY29nbmlzZWQgYXMgYW5pbWF0YWJsZSwgaWUgXCJub25lXCIsIGNyZWF0ZSBhbiBhbmltYXRhYmxlIHZlcnNpb24gb3JpZ2luIGJhc2VkIG9uIHRoZSB0YXJnZXRcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlVHlwZS5nZXRBbmltYXRhYmxlTm9uZVxuICAgICAgICA/IGRlZmF1bHRWYWx1ZVR5cGUuZ2V0QW5pbWF0YWJsZU5vbmUodmFsdWUpXG4gICAgICAgIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgeyBnZXRBbmltYXRhYmxlTm9uZSB9O1xuIiwgImltcG9ydCB7IGNvbXBsZXggfSBmcm9tICcuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBmbG9hdFJlZ2V4IH0gZnJvbSAnLi4vdXRpbHMvZmxvYXQtcmVnZXgubWpzJztcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGRlZmF1bHQgdG8gMSBvciAxMDAlXG4gKi9cbmNvbnN0IG1heERlZmF1bHRzID0gbmV3IFNldChbXCJicmlnaHRuZXNzXCIsIFwiY29udHJhc3RcIiwgXCJzYXR1cmF0ZVwiLCBcIm9wYWNpdHlcIl0pO1xuZnVuY3Rpb24gYXBwbHlEZWZhdWx0RmlsdGVyKHYpIHtcbiAgICBjb25zdCBbbmFtZSwgdmFsdWVdID0gdi5zbGljZSgwLCAtMSkuc3BsaXQoXCIoXCIpO1xuICAgIGlmIChuYW1lID09PSBcImRyb3Atc2hhZG93XCIpXG4gICAgICAgIHJldHVybiB2O1xuICAgIGNvbnN0IFtudW1iZXJdID0gdmFsdWUubWF0Y2goZmxvYXRSZWdleCkgfHwgW107XG4gICAgaWYgKCFudW1iZXIpXG4gICAgICAgIHJldHVybiB2O1xuICAgIGNvbnN0IHVuaXQgPSB2YWx1ZS5yZXBsYWNlKG51bWJlciwgXCJcIik7XG4gICAgbGV0IGRlZmF1bHRWYWx1ZSA9IG1heERlZmF1bHRzLmhhcyhuYW1lKSA/IDEgOiAwO1xuICAgIGlmIChudW1iZXIgIT09IHZhbHVlKVxuICAgICAgICBkZWZhdWx0VmFsdWUgKj0gMTAwO1xuICAgIHJldHVybiBuYW1lICsgXCIoXCIgKyBkZWZhdWx0VmFsdWUgKyB1bml0ICsgXCIpXCI7XG59XG5jb25zdCBmdW5jdGlvblJlZ2V4ID0gL1xcYihbYS16LV0qKVxcKC4qP1xcKS9ndTtcbmNvbnN0IGZpbHRlciA9IHtcbiAgICAuLi5jb21wbGV4LFxuICAgIGdldEFuaW1hdGFibGVOb25lOiAodikgPT4ge1xuICAgICAgICBjb25zdCBmdW5jdGlvbnMgPSB2Lm1hdGNoKGZ1bmN0aW9uUmVnZXgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25zID8gZnVuY3Rpb25zLm1hcChhcHBseURlZmF1bHRGaWx0ZXIpLmpvaW4oXCIgXCIpIDogdjtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgZmlsdGVyIH07XG4iLCAiaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi9jb2xvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi4vY29tcGxleC9maWx0ZXIubWpzJztcbmltcG9ydCB7IG51bWJlclZhbHVlVHlwZXMgfSBmcm9tICcuL251bWJlci5tanMnO1xuXG4vKipcbiAqIEEgbWFwIG9mIGRlZmF1bHQgdmFsdWUgdHlwZXMgZm9yIGNvbW1vbiB2YWx1ZXNcbiAqL1xuY29uc3QgZGVmYXVsdFZhbHVlVHlwZXMgPSB7XG4gICAgLi4ubnVtYmVyVmFsdWVUeXBlcyxcbiAgICAvLyBDb2xvciBwcm9wc1xuICAgIGNvbG9yLFxuICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IsXG4gICAgb3V0bGluZUNvbG9yOiBjb2xvcixcbiAgICBmaWxsOiBjb2xvcixcbiAgICBzdHJva2U6IGNvbG9yLFxuICAgIC8vIEJvcmRlciBwcm9wc1xuICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICBib3JkZXJUb3BDb2xvcjogY29sb3IsXG4gICAgYm9yZGVyUmlnaHRDb2xvcjogY29sb3IsXG4gICAgYm9yZGVyQm90dG9tQ29sb3I6IGNvbG9yLFxuICAgIGJvcmRlckxlZnRDb2xvcjogY29sb3IsXG4gICAgZmlsdGVyLFxuICAgIFdlYmtpdEZpbHRlcjogZmlsdGVyLFxufTtcbi8qKlxuICogR2V0cyB0aGUgZGVmYXVsdCBWYWx1ZVR5cGUgZm9yIHRoZSBwcm92aWRlZCB2YWx1ZSBrZXlcbiAqL1xuY29uc3QgZ2V0RGVmYXVsdFZhbHVlVHlwZSA9IChrZXkpID0+IGRlZmF1bHRWYWx1ZVR5cGVzW2tleV07XG5cbmV4cG9ydCB7IGRlZmF1bHRWYWx1ZVR5cGVzLCBnZXREZWZhdWx0VmFsdWVUeXBlIH07XG4iLCAiaW1wb3J0IHsgcG9zaXRpb25hbEtleXMgfSBmcm9tICcuLi8uLi9yZW5kZXIvdXRpbHMva2V5cy1wb3NpdGlvbi5tanMnO1xuaW1wb3J0IHsgZmluZERpbWVuc2lvblZhbHVlVHlwZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3R5cGVzL2RpbWVuc2lvbnMubWpzJztcbmltcG9ydCB7IGdldFZhcmlhYmxlVmFsdWUgfSBmcm9tICcuLi91dGlscy9jc3MtdmFyaWFibGVzLWNvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IGlzQ1NTVmFyaWFibGVUb2tlbiB9IGZyb20gJy4uL3V0aWxzL2lzLWNzcy12YXJpYWJsZS5tanMnO1xuaW1wb3J0IHsgS2V5ZnJhbWVSZXNvbHZlciB9IGZyb20gJy4vS2V5ZnJhbWVzUmVzb2x2ZXIubWpzJztcbmltcG9ydCB7IGlzTm9uZSB9IGZyb20gJy4vdXRpbHMvaXMtbm9uZS5tanMnO1xuaW1wb3J0IHsgbWFrZU5vbmVLZXlmcmFtZXNBbmltYXRhYmxlIH0gZnJvbSAnLi91dGlscy9tYWtlLW5vbmUtYW5pbWF0YWJsZS5tanMnO1xuaW1wb3J0IHsgaXNOdW1PclB4VHlwZSwgcG9zaXRpb25hbFZhbHVlcyB9IGZyb20gJy4vdXRpbHMvdW5pdC1jb252ZXJzaW9uLm1qcyc7XG5cbmNsYXNzIERPTUtleWZyYW1lc1Jlc29sdmVyIGV4dGVuZHMgS2V5ZnJhbWVSZXNvbHZlciB7XG4gICAgY29uc3RydWN0b3IodW5yZXNvbHZlZEtleWZyYW1lcywgb25Db21wbGV0ZSwgbmFtZSwgbW90aW9uVmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIodW5yZXNvbHZlZEtleWZyYW1lcywgb25Db21wbGV0ZSwgbmFtZSwgbW90aW9uVmFsdWUsIGVsZW1lbnQsIHRydWUpO1xuICAgIH1cbiAgICByZWFkS2V5ZnJhbWVzKCkge1xuICAgICAgICBjb25zdCB7IHVucmVzb2x2ZWRLZXlmcmFtZXMsIGVsZW1lbnQsIG5hbWUgfSA9IHRoaXM7XG4gICAgICAgIGlmICghZWxlbWVudCB8fCAhZWxlbWVudC5jdXJyZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzdXBlci5yZWFkS2V5ZnJhbWVzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBhbnkga2V5ZnJhbWUgaXMgYSBDU1MgdmFyaWFibGUsIHdlIG5lZWQgdG8gZmluZCBpdHMgdmFsdWUgYnkgc2FtcGxpbmcgdGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5yZXNvbHZlZEtleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGtleWZyYW1lID0gdW5yZXNvbHZlZEtleWZyYW1lc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ZnJhbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBrZXlmcmFtZSA9IGtleWZyYW1lLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNDU1NWYXJpYWJsZVRva2VuKGtleWZyYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IGdldFZhcmlhYmxlVmFsdWUoa2V5ZnJhbWUsIGVsZW1lbnQuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnJlc29sdmVkS2V5ZnJhbWVzW2ldID0gcmVzb2x2ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHVucmVzb2x2ZWRLZXlmcmFtZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5hbEtleWZyYW1lID0ga2V5ZnJhbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdmUgXCJub25lXCIgdmFsdWVzLiBXZSBkbyB0aGlzIHBvdGVudGlhbGx5IHR3aWNlIC0gb25jZSBiZWZvcmUgYW5kIG9uY2UgYWZ0ZXIgbWVhc3VyaW5nIGtleWZyYW1lcy5cbiAgICAgICAgICogVGhpcyBjb3VsZCBiZSBzZWVuIGFzIGluZWZmaWNpZW50IGJ1dCBpdCdzIGEgdHJhZGUtb2ZmIHRvIGF2b2lkIG1lYXN1cmVtZW50cyBpbiBtb3JlIHNpdHVhdGlvbnMsIHdoaWNoXG4gICAgICAgICAqIGhhdmUgYSBmYXIgYmlnZ2VyIHBlcmZvcm1hbmNlIGltcGFjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x2ZU5vbmVLZXlmcmFtZXMoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIHRvIHNlZSBpZiB1bml0IHR5cGUgaGFzIGNoYW5nZWQuIElmIHNvIHNjaGVkdWxlIGpvYnMgdGhhdCB3aWxsXG4gICAgICAgICAqIHRlbXBvcmFyaWx5IHNldCBzdHlsZXMgdG8gdGhlIGRlc3RpbmF0aW9uIGtleWZyYW1lcy5cbiAgICAgICAgICogU2tpcCBpZiB3ZSBoYXZlIG1vcmUgdGhhbiB0d28ga2V5ZnJhbWVzIG9yIHRoaXMgaXNuJ3QgYSBwb3NpdGlvbmFsIHZhbHVlLlxuICAgICAgICAgKiBUT0RPOiBXZSBjYW4gdGhyb3cgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGtleWZyYW1lcyBhbmQgdGhlIHZhbHVlIHR5cGUgY2hhbmdlcy5cbiAgICAgICAgICovXG4gICAgICAgIGlmICghcG9zaXRpb25hbEtleXMuaGFzKG5hbWUpIHx8IHVucmVzb2x2ZWRLZXlmcmFtZXMubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW29yaWdpbiwgdGFyZ2V0XSA9IHVucmVzb2x2ZWRLZXlmcmFtZXM7XG4gICAgICAgIGNvbnN0IG9yaWdpblR5cGUgPSBmaW5kRGltZW5zaW9uVmFsdWVUeXBlKG9yaWdpbik7XG4gICAgICAgIGNvbnN0IHRhcmdldFR5cGUgPSBmaW5kRGltZW5zaW9uVmFsdWVUeXBlKHRhcmdldCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFaXRoZXIgd2UgZG9uJ3QgcmVjb2duaXNlIHRoZXNlIHZhbHVlIHR5cGVzIG9yIHdlIGNhbiBhbmltYXRlIGJldHdlZW4gdGhlbS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcmlnaW5UeXBlID09PSB0YXJnZXRUeXBlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYm90aCB2YWx1ZXMgYXJlIG51bWJlcnMgb3IgcGl4ZWxzLCB3ZSBjYW4gYW5pbWF0ZSBiZXR3ZWVuIHRoZW0gYnlcbiAgICAgICAgICogY29udmVydGluZyB0aGVtIHRvIG51bWJlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaXNOdW1PclB4VHlwZShvcmlnaW5UeXBlKSAmJiBpc051bU9yUHhUeXBlKHRhcmdldFR5cGUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVucmVzb2x2ZWRLZXlmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHVucmVzb2x2ZWRLZXlmcmFtZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB1bnJlc29sdmVkS2V5ZnJhbWVzW2ldID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFbHNlLCB0aGUgb25seSB3YXkgdG8gcmVzb2x2ZSB0aGlzIGlzIGJ5IG1lYXN1cmluZyB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5uZWVkc01lYXN1cmVtZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNvbHZlTm9uZUtleWZyYW1lcygpIHtcbiAgICAgICAgY29uc3QgeyB1bnJlc29sdmVkS2V5ZnJhbWVzLCBuYW1lIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBub25lS2V5ZnJhbWVJbmRleGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5yZXNvbHZlZEtleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHVucmVzb2x2ZWRLZXlmcmFtZXNbaV0gPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBpc05vbmUodW5yZXNvbHZlZEtleWZyYW1lc1tpXSkpIHtcbiAgICAgICAgICAgICAgICBub25lS2V5ZnJhbWVJbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vbmVLZXlmcmFtZUluZGV4ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYWtlTm9uZUtleWZyYW1lc0FuaW1hdGFibGUodW5yZXNvbHZlZEtleWZyYW1lcywgbm9uZUtleWZyYW1lSW5kZXhlcywgbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZUluaXRpYWxTdGF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCB1bnJlc29sdmVkS2V5ZnJhbWVzLCBuYW1lIH0gPSB0aGlzO1xuICAgICAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQuY3VycmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwiaGVpZ2h0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuc3VzcGVuZGVkU2Nyb2xsWSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lYXN1cmVkT3JpZ2luID0gcG9zaXRpb25hbFZhbHVlc1tuYW1lXShlbGVtZW50Lm1lYXN1cmVWaWV3cG9ydEJveCgpLCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LmN1cnJlbnQpKTtcbiAgICAgICAgdW5yZXNvbHZlZEtleWZyYW1lc1swXSA9IHRoaXMubWVhc3VyZWRPcmlnaW47XG4gICAgICAgIC8vIFNldCBmaW5hbCBrZXkgZnJhbWUgdG8gbWVhc3VyZSBhZnRlciBuZXh0IHJlbmRlclxuICAgICAgICBjb25zdCBtZWFzdXJlS2V5ZnJhbWUgPSB1bnJlc29sdmVkS2V5ZnJhbWVzW3VucmVzb2x2ZWRLZXlmcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChtZWFzdXJlS2V5ZnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWxlbWVudC5nZXRWYWx1ZShuYW1lLCBtZWFzdXJlS2V5ZnJhbWUpLmp1bXAobWVhc3VyZUtleWZyYW1lLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZUVuZFN0YXRlKCkge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQsIG5hbWUsIHVucmVzb2x2ZWRLZXlmcmFtZXMgfSA9IHRoaXM7XG4gICAgICAgIGlmICghZWxlbWVudCB8fCAhZWxlbWVudC5jdXJyZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGVsZW1lbnQuZ2V0VmFsdWUobmFtZSk7XG4gICAgICAgIHZhbHVlICYmIHZhbHVlLmp1bXAodGhpcy5tZWFzdXJlZE9yaWdpbiwgZmFsc2UpO1xuICAgICAgICBjb25zdCBmaW5hbEtleWZyYW1lSW5kZXggPSB1bnJlc29sdmVkS2V5ZnJhbWVzLmxlbmd0aCAtIDE7XG4gICAgICAgIGNvbnN0IGZpbmFsS2V5ZnJhbWUgPSB1bnJlc29sdmVkS2V5ZnJhbWVzW2ZpbmFsS2V5ZnJhbWVJbmRleF07XG4gICAgICAgIHVucmVzb2x2ZWRLZXlmcmFtZXNbZmluYWxLZXlmcmFtZUluZGV4XSA9IHBvc2l0aW9uYWxWYWx1ZXNbbmFtZV0oZWxlbWVudC5tZWFzdXJlVmlld3BvcnRCb3goKSwgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudC5jdXJyZW50KSk7XG4gICAgICAgIGlmIChmaW5hbEtleWZyYW1lICE9PSBudWxsICYmIHRoaXMuZmluYWxLZXlmcmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmFsS2V5ZnJhbWUgPSBmaW5hbEtleWZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIHJlbW92ZWQgdHJhbnNmb3JtIHZhbHVlcywgcmVhcHBseSB0aGVtIGJlZm9yZSB0aGUgbmV4dCByZW5kZXJcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZFRyYW5zZm9ybXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVkVHJhbnNmb3Jtcy5mb3JFYWNoKChbdW5zZXRUcmFuc2Zvcm1OYW1lLCB1bnNldFRyYW5zZm9ybVZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLmdldFZhbHVlKHVuc2V0VHJhbnNmb3JtTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLnNldCh1bnNldFRyYW5zZm9ybVZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzb2x2ZU5vbmVLZXlmcmFtZXMoKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IERPTUtleWZyYW1lc1Jlc29sdmVyIH07XG4iLCAiaW1wb3J0IHsgaXNDU1NWYXJpYWJsZVRva2VuIH0gZnJvbSAnLi9pcy1jc3MtdmFyaWFibGUubWpzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgaXNOdW1lcmljYWxTdHJpbmcgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9pcy1udW1lcmljYWwtc3RyaW5nLm1qcyc7XG5cbi8qKlxuICogUGFyc2UgRnJhbWVyJ3Mgc3BlY2lhbCBDU1MgdmFyaWFibGUgZm9ybWF0IGludG8gYSBDU1MgdG9rZW4gYW5kIGEgZmFsbGJhY2suXG4gKlxuICogYGBgXG4gKiBgdmFyKC0tZm9vLCAjZmZmKWAgPT4gW2AtLWZvb2AsICcjZmZmJ11cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBjdXJyZW50XG4gKi9cbmNvbnN0IHNwbGl0Q1NTVmFyaWFibGVSZWdleCA9IFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlZG9zLWRldGVjdG9yL25vLXVuc2FmZS1yZWdleCAtLSBmYWxzZSBwb3NpdGl2ZSwgYXMgaXQgY2FuIG1hdGNoIGEgbG90IG9mIHdvcmRzXG4vXnZhclxcKC0tKD86KFtcXHctXSspfChbXFx3LV0rKSwgPyhbYS16QS1aXFxkICgpJSMuLC1dKykpXFwpL3U7XG5mdW5jdGlvbiBwYXJzZUNTU1ZhcmlhYmxlKGN1cnJlbnQpIHtcbiAgICBjb25zdCBtYXRjaCA9IHNwbGl0Q1NTVmFyaWFibGVSZWdleC5leGVjKGN1cnJlbnQpO1xuICAgIGlmICghbWF0Y2gpXG4gICAgICAgIHJldHVybiBbLF07XG4gICAgY29uc3QgWywgdG9rZW4xLCB0b2tlbjIsIGZhbGxiYWNrXSA9IG1hdGNoO1xuICAgIHJldHVybiBbYC0tJHt0b2tlbjEgPz8gdG9rZW4yfWAsIGZhbGxiYWNrXTtcbn1cbmNvbnN0IG1heERlcHRoID0gNDtcbmZ1bmN0aW9uIGdldFZhcmlhYmxlVmFsdWUoY3VycmVudCwgZWxlbWVudCwgZGVwdGggPSAxKSB7XG4gICAgaW52YXJpYW50KGRlcHRoIDw9IG1heERlcHRoLCBgTWF4IENTUyB2YXJpYWJsZSBmYWxsYmFjayBkZXB0aCBkZXRlY3RlZCBpbiBwcm9wZXJ0eSBcIiR7Y3VycmVudH1cIi4gVGhpcyBtYXkgaW5kaWNhdGUgYSBjaXJjdWxhciBmYWxsYmFjayBkZXBlbmRlbmN5LmApO1xuICAgIGNvbnN0IFt0b2tlbiwgZmFsbGJhY2tdID0gcGFyc2VDU1NWYXJpYWJsZShjdXJyZW50KTtcbiAgICAvLyBObyBDU1MgdmFyaWFibGUgZGV0ZWN0ZWRcbiAgICBpZiAoIXRva2VuKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gQXR0ZW1wdCB0byByZWFkIHRoaXMgQ1NTIHZhcmlhYmxlIG9mZiB0aGUgZWxlbWVudFxuICAgIGNvbnN0IHJlc29sdmVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSh0b2tlbik7XG4gICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSByZXNvbHZlZC50cmltKCk7XG4gICAgICAgIHJldHVybiBpc051bWVyaWNhbFN0cmluZyh0cmltbWVkKSA/IHBhcnNlRmxvYXQodHJpbW1lZCkgOiB0cmltbWVkO1xuICAgIH1cbiAgICByZXR1cm4gaXNDU1NWYXJpYWJsZVRva2VuKGZhbGxiYWNrKVxuICAgICAgICA/IGdldFZhcmlhYmxlVmFsdWUoZmFsbGJhY2ssIGVsZW1lbnQsIGRlcHRoICsgMSlcbiAgICAgICAgOiBmYWxsYmFjaztcbn1cblxuZXhwb3J0IHsgZ2V0VmFyaWFibGVWYWx1ZSwgcGFyc2VDU1NWYXJpYWJsZSB9O1xuIiwgImltcG9ydCB7IGlzWmVyb1ZhbHVlU3RyaW5nIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvaXMtemVyby12YWx1ZS1zdHJpbmcubWpzJztcblxuZnVuY3Rpb24gaXNOb25lKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gXCJub25lXCIgfHwgdmFsdWUgPT09IFwiMFwiIHx8IGlzWmVyb1ZhbHVlU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgaXNOb25lIH07XG4iLCAiaW1wb3J0IHsgYW5hbHlzZUNvbXBsZXhWYWx1ZSB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3R5cGVzL2NvbXBsZXgvaW5kZXgubWpzJztcbmltcG9ydCB7IGdldEFuaW1hdGFibGVOb25lIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvdXRpbHMvYW5pbWF0YWJsZS1ub25lLm1qcyc7XG5cbi8qKlxuICogSWYgd2UgZW5jb3VudGVyIGtleWZyYW1lcyBsaWtlIFwibm9uZVwiIG9yIFwiMFwiIGFuZCB3ZSBhbHNvIGhhdmUga2V5ZnJhbWVzIGxpa2VcbiAqIFwiI2ZmZlwiIG9yIFwiMjAwcHggMjAwcHhcIiB3ZSB3YW50IHRvIGZpbmQgYSBrZXlmcmFtZSB0byBzZXJ2ZSBhcyBhIHRlbXBsYXRlIGZvclxuICogdGhlIFwibm9uZVwiIGtleWZyYW1lcy4gSW4gdGhpcyBjYXNlIFwiI2ZmZlwiIG9yIFwiMjAwcHggMjAwcHhcIiAtIHRoZW4gdGhlc2UgZ2V0IHR1cm5lZCBpbnRvXG4gKiB6ZXJvIGVxdWl2YWxlbnRzLCBpLmUuIFwiI2ZmZjBcIiBvciBcIjBweCAwcHhcIi5cbiAqL1xuY29uc3QgaW52YWxpZFRlbXBsYXRlcyA9IG5ldyBTZXQoW1wiYXV0b1wiLCBcIm5vbmVcIiwgXCIwXCJdKTtcbmZ1bmN0aW9uIG1ha2VOb25lS2V5ZnJhbWVzQW5pbWF0YWJsZSh1bnJlc29sdmVkS2V5ZnJhbWVzLCBub25lS2V5ZnJhbWVJbmRleGVzLCBuYW1lKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBhbmltYXRhYmxlVGVtcGxhdGUgPSB1bmRlZmluZWQ7XG4gICAgd2hpbGUgKGkgPCB1bnJlc29sdmVkS2V5ZnJhbWVzLmxlbmd0aCAmJiAhYW5pbWF0YWJsZVRlbXBsYXRlKSB7XG4gICAgICAgIGNvbnN0IGtleWZyYW1lID0gdW5yZXNvbHZlZEtleWZyYW1lc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlmcmFtZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgIWludmFsaWRUZW1wbGF0ZXMuaGFzKGtleWZyYW1lKSAmJlxuICAgICAgICAgICAgYW5hbHlzZUNvbXBsZXhWYWx1ZShrZXlmcmFtZSkudmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgYW5pbWF0YWJsZVRlbXBsYXRlID0gdW5yZXNvbHZlZEtleWZyYW1lc1tpXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIGlmIChhbmltYXRhYmxlVGVtcGxhdGUgJiYgbmFtZSkge1xuICAgICAgICBmb3IgKGNvbnN0IG5vbmVJbmRleCBvZiBub25lS2V5ZnJhbWVJbmRleGVzKSB7XG4gICAgICAgICAgICB1bnJlc29sdmVkS2V5ZnJhbWVzW25vbmVJbmRleF0gPSBnZXRBbmltYXRhYmxlTm9uZShuYW1lLCBhbmltYXRhYmxlVGVtcGxhdGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBtYWtlTm9uZUtleWZyYW1lc0FuaW1hdGFibGUgfTtcbiIsICJmdW5jdGlvbiByZW5kZXJIVE1MKGVsZW1lbnQsIHsgc3R5bGUsIHZhcnMgfSwgc3R5bGVQcm9wLCBwcm9qZWN0aW9uKSB7XG4gICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdHlsZSwgcHJvamVjdGlvbiAmJiBwcm9qZWN0aW9uLmdldFByb2plY3Rpb25TdHlsZXMoc3R5bGVQcm9wKSk7XG4gICAgLy8gTG9vcCBvdmVyIGFueSBDU1MgdmFyaWFibGVzIGFuZCBhc3NpZ24gdGhvc2UuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFycykge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFyc1trZXldKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJlbmRlckhUTUwgfTtcbiIsICJpbXBvcnQgeyBjcmVhdGVCb3ggfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L21vZGVscy5tanMnO1xuaW1wb3J0IHsgRE9NVmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL2RvbS9ET01WaXN1YWxFbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBjYW1lbFRvRGFzaCB9IGZyb20gJy4uL2RvbS91dGlscy9jYW1lbC10by1kYXNoLm1qcyc7XG5pbXBvcnQgeyBidWlsZFNWR0F0dHJzIH0gZnJvbSAnLi91dGlscy9idWlsZC1hdHRycy5tanMnO1xuaW1wb3J0IHsgY2FtZWxDYXNlQXR0cmlidXRlcyB9IGZyb20gJy4vdXRpbHMvY2FtZWwtY2FzZS1hdHRycy5tanMnO1xuaW1wb3J0IHsgaXNTVkdUYWcgfSBmcm9tICcuL3V0aWxzL2lzLXN2Zy10YWcubWpzJztcbmltcG9ydCB7IHJlbmRlclNWRyB9IGZyb20gJy4vdXRpbHMvcmVuZGVyLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9yZW5kZXIvdXRpbHMva2V5cy10cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGdldERlZmF1bHRWYWx1ZVR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdmFsdWUvdHlwZXMvbWFwcy9kZWZhdWx0cy5tanMnO1xuXG5jbGFzcyBTVkdWaXN1YWxFbGVtZW50IGV4dGVuZHMgRE9NVmlzdWFsRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHlwZSA9IFwic3ZnXCI7XG4gICAgICAgIHRoaXMuaXNTVkdUYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZWFzdXJlSW5zdGFuY2VWaWV3cG9ydEJveCA9IGNyZWF0ZUJveDtcbiAgICB9XG4gICAgZ2V0QmFzZVRhcmdldEZyb21Qcm9wcyhwcm9wcywga2V5KSB7XG4gICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgIH1cbiAgICByZWFkVmFsdWVGcm9tSW5zdGFuY2UoaW5zdGFuY2UsIGtleSkge1xuICAgICAgICBpZiAodHJhbnNmb3JtUHJvcHMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUeXBlID0gZ2V0RGVmYXVsdFZhbHVlVHlwZShrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRUeXBlID8gZGVmYXVsdFR5cGUuZGVmYXVsdCB8fCAwIDogMDtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSAhY2FtZWxDYXNlQXR0cmlidXRlcy5oYXMoa2V5KSA/IGNhbWVsVG9EYXNoKGtleSkgOiBrZXk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICB9XG4gICAgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKHByb3BzLCBwcmV2UHJvcHMsIHZpc3VhbEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhwcm9wcywgcHJldlByb3BzLCB2aXN1YWxFbGVtZW50KTtcbiAgICB9XG4gICAgYnVpbGQocmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgcHJvcHMpIHtcbiAgICAgICAgYnVpbGRTVkdBdHRycyhyZW5kZXJTdGF0ZSwgbGF0ZXN0VmFsdWVzLCB0aGlzLmlzU1ZHVGFnLCBwcm9wcy50cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgfVxuICAgIHJlbmRlckluc3RhbmNlKGluc3RhbmNlLCByZW5kZXJTdGF0ZSwgc3R5bGVQcm9wLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHJlbmRlclNWRyhpbnN0YW5jZSwgcmVuZGVyU3RhdGUsIHN0eWxlUHJvcCwgcHJvamVjdGlvbik7XG4gICAgfVxuICAgIG1vdW50KGluc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuaXNTVkdUYWcgPSBpc1NWR1RhZyhpbnN0YW5jZS50YWdOYW1lKTtcbiAgICAgICAgc3VwZXIubW91bnQoaW5zdGFuY2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgU1ZHVmlzdWFsRWxlbWVudCB9O1xuIiwgIi8qKlxuICogQSBzZXQgb2YgYXR0cmlidXRlIG5hbWVzIHRoYXQgYXJlIGFsd2F5cyByZWFkL3dyaXR0ZW4gYXMgY2FtZWwgY2FzZS5cbiAqL1xuY29uc3QgY2FtZWxDYXNlQXR0cmlidXRlcyA9IG5ldyBTZXQoW1xuICAgIFwiYmFzZUZyZXF1ZW5jeVwiLFxuICAgIFwiZGlmZnVzZUNvbnN0YW50XCIsXG4gICAgXCJrZXJuZWxNYXRyaXhcIixcbiAgICBcImtlcm5lbFVuaXRMZW5ndGhcIixcbiAgICBcImtleVNwbGluZXNcIixcbiAgICBcImtleVRpbWVzXCIsXG4gICAgXCJsaW1pdGluZ0NvbmVBbmdsZVwiLFxuICAgIFwibWFya2VySGVpZ2h0XCIsXG4gICAgXCJtYXJrZXJXaWR0aFwiLFxuICAgIFwibnVtT2N0YXZlc1wiLFxuICAgIFwidGFyZ2V0WFwiLFxuICAgIFwidGFyZ2V0WVwiLFxuICAgIFwic3VyZmFjZVNjYWxlXCIsXG4gICAgXCJzcGVjdWxhckNvbnN0YW50XCIsXG4gICAgXCJzcGVjdWxhckV4cG9uZW50XCIsXG4gICAgXCJzdGREZXZpYXRpb25cIixcbiAgICBcInRhYmxlVmFsdWVzXCIsXG4gICAgXCJ2aWV3Qm94XCIsXG4gICAgXCJncmFkaWVudFRyYW5zZm9ybVwiLFxuICAgIFwicGF0aExlbmd0aFwiLFxuICAgIFwic3RhcnRPZmZzZXRcIixcbiAgICBcInRleHRMZW5ndGhcIixcbiAgICBcImxlbmd0aEFkanVzdFwiLFxuXSk7XG5cbmV4cG9ydCB7IGNhbWVsQ2FzZUF0dHJpYnV0ZXMgfTtcbiIsICJpbXBvcnQgeyBjYW1lbFRvRGFzaCB9IGZyb20gJy4uLy4uL2RvbS91dGlscy9jYW1lbC10by1kYXNoLm1qcyc7XG5pbXBvcnQgeyByZW5kZXJIVE1MIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy9yZW5kZXIubWpzJztcbmltcG9ydCB7IGNhbWVsQ2FzZUF0dHJpYnV0ZXMgfSBmcm9tICcuL2NhbWVsLWNhc2UtYXR0cnMubWpzJztcblxuZnVuY3Rpb24gcmVuZGVyU1ZHKGVsZW1lbnQsIHJlbmRlclN0YXRlLCBfc3R5bGVQcm9wLCBwcm9qZWN0aW9uKSB7XG4gICAgcmVuZGVySFRNTChlbGVtZW50LCByZW5kZXJTdGF0ZSwgdW5kZWZpbmVkLCBwcm9qZWN0aW9uKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByZW5kZXJTdGF0ZS5hdHRycykge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSghY2FtZWxDYXNlQXR0cmlidXRlcy5oYXMoa2V5KSA/IGNhbWVsVG9EYXNoKGtleSkgOiBrZXksIHJlbmRlclN0YXRlLmF0dHJzW2tleV0pO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgcmVuZGVyU1ZHIH07XG4iLCAiaW1wb3J0IHsgYW5pbWF0ZVNlcXVlbmNlIH0gZnJvbSAnLi9zZXF1ZW5jZS5tanMnO1xuaW1wb3J0IHsgYW5pbWF0ZVN1YmplY3QgfSBmcm9tICcuL3N1YmplY3QubWpzJztcbmltcG9ydCB7IEdyb3VwQW5pbWF0aW9uV2l0aFRoZW4gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL0dyb3VwQW5pbWF0aW9uV2l0aFRoZW4ubWpzJztcblxuZnVuY3Rpb24gaXNTZXF1ZW5jZSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5zb21lKEFycmF5LmlzQXJyYXkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGFuaW1hdGlvbiBmdW5jdGlvbiB0aGF0IGlzIG9wdGlvbmFsbHkgc2NvcGVkXG4gKiB0byBhIHNwZWNpZmljIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNjb3BlZEFuaW1hdGUoc2NvcGUpIHtcbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjb3BlZEFuaW1hdGUoc3ViamVjdE9yU2VxdWVuY2UsIG9wdGlvbnNPcktleWZyYW1lcywgb3B0aW9ucykge1xuICAgICAgICBsZXQgYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICBpZiAoaXNTZXF1ZW5jZShzdWJqZWN0T3JTZXF1ZW5jZSkpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBhbmltYXRlU2VxdWVuY2Uoc3ViamVjdE9yU2VxdWVuY2UsIG9wdGlvbnNPcktleWZyYW1lcywgc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYW5pbWF0aW9ucyA9IGFuaW1hdGVTdWJqZWN0KHN1YmplY3RPclNlcXVlbmNlLCBvcHRpb25zT3JLZXlmcmFtZXMsIG9wdGlvbnMsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmltYXRpb24gPSBuZXcgR3JvdXBBbmltYXRpb25XaXRoVGhlbihhbmltYXRpb25zKTtcbiAgICAgICAgaWYgKHNjb3BlKSB7XG4gICAgICAgICAgICBzY29wZS5hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gc2NvcGVkQW5pbWF0ZTtcbn1cbmNvbnN0IGFuaW1hdGUgPSBjcmVhdGVTY29wZWRBbmltYXRlKCk7XG5cbmV4cG9ydCB7IGFuaW1hdGUsIGNyZWF0ZVNjb3BlZEFuaW1hdGUgfTtcbiIsICJpbXBvcnQgeyBjcmVhdGVBbmltYXRpb25zRnJvbVNlcXVlbmNlIH0gZnJvbSAnLi4vc2VxdWVuY2UvY3JlYXRlLm1qcyc7XG5pbXBvcnQgeyBhbmltYXRlU3ViamVjdCB9IGZyb20gJy4vc3ViamVjdC5tanMnO1xuaW1wb3J0IHsgc3ByaW5nIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL2FuaW1hdGlvbi9nZW5lcmF0b3JzL3NwcmluZy9pbmRleC5tanMnO1xuXG5mdW5jdGlvbiBhbmltYXRlU2VxdWVuY2Uoc2VxdWVuY2UsIG9wdGlvbnMsIHNjb3BlKSB7XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGFuaW1hdGlvbkRlZmluaXRpb25zID0gY3JlYXRlQW5pbWF0aW9uc0Zyb21TZXF1ZW5jZShzZXF1ZW5jZSwgb3B0aW9ucywgc2NvcGUsIHsgc3ByaW5nIH0pO1xuICAgIGFuaW1hdGlvbkRlZmluaXRpb25zLmZvckVhY2goKHsga2V5ZnJhbWVzLCB0cmFuc2l0aW9uIH0sIHN1YmplY3QpID0+IHtcbiAgICAgICAgYW5pbWF0aW9ucy5wdXNoKC4uLmFuaW1hdGVTdWJqZWN0KHN1YmplY3QsIGtleWZyYW1lcywgdHJhbnNpdGlvbikpO1xuICAgIH0pO1xuICAgIHJldHVybiBhbmltYXRpb25zO1xufVxuXG5leHBvcnQgeyBhbmltYXRlU2VxdWVuY2UgfTtcbiIsICJpbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlU3ViamVjdHMgfSBmcm9tICcuLi9hbmltYXRlL3Jlc29sdmUtc3ViamVjdHMubWpzJztcbmltcG9ydCB7IGNhbGN1bGF0ZVJlcGVhdER1cmF0aW9uIH0gZnJvbSAnLi91dGlscy9jYWxjLXJlcGVhdC1kdXJhdGlvbi5tanMnO1xuaW1wb3J0IHsgY2FsY05leHRUaW1lIH0gZnJvbSAnLi91dGlscy9jYWxjLXRpbWUubWpzJztcbmltcG9ydCB7IGFkZEtleWZyYW1lcyB9IGZyb20gJy4vdXRpbHMvZWRpdC5tanMnO1xuaW1wb3J0IHsgbm9ybWFsaXplVGltZXMgfSBmcm9tICcuL3V0aWxzL25vcm1hbGl6ZS10aW1lcy5tanMnO1xuaW1wb3J0IHsgY29tcGFyZUJ5VGltZSB9IGZyb20gJy4vdXRpbHMvc29ydC5tanMnO1xuaW1wb3J0IHsgZGVmYXVsdE9mZnNldCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi1kb20vZGlzdC9lcy9hbmltYXRpb24va2V5ZnJhbWVzL29mZnNldHMvZGVmYXVsdC5tanMnO1xuaW1wb3J0IHsgaXNHZW5lcmF0b3IgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2dlbmVyYXRvcnMvdXRpbHMvaXMtZ2VuZXJhdG9yLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVHZW5lcmF0b3JFYXNpbmcgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2dlbmVyYXRvcnMvdXRpbHMvY3JlYXRlLWdlbmVyYXRvci1lYXNpbmcubWpzJztcbmltcG9ydCB7IGZpbGxPZmZzZXQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvYW5pbWF0aW9uL2tleWZyYW1lcy9vZmZzZXRzL2ZpbGwubWpzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgZ2V0RWFzaW5nRm9yU2VnbWVudCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy91dGlscy9nZXQtZWFzaW5nLWZvci1zZWdtZW50Lm1qcyc7XG5pbXBvcnQgeyBwcm9ncmVzcyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL3Byb2dyZXNzLm1qcyc7XG5pbXBvcnQgeyBzZWNvbmRzVG9NaWxsaXNlY29uZHMgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy90aW1lLWNvbnZlcnNpb24ubWpzJztcblxuY29uc3QgZGVmYXVsdFNlZ21lbnRFYXNpbmcgPSBcImVhc2VJbk91dFwiO1xuY29uc3QgTUFYX1JFUEVBVCA9IDIwO1xuZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uc0Zyb21TZXF1ZW5jZShzZXF1ZW5jZSwgeyBkZWZhdWx0VHJhbnNpdGlvbiA9IHt9LCAuLi5zZXF1ZW5jZVRyYW5zaXRpb24gfSA9IHt9LCBzY29wZSwgZ2VuZXJhdG9ycykge1xuICAgIGNvbnN0IGRlZmF1bHREdXJhdGlvbiA9IGRlZmF1bHRUcmFuc2l0aW9uLmR1cmF0aW9uIHx8IDAuMztcbiAgICBjb25zdCBhbmltYXRpb25EZWZpbml0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBzZXF1ZW5jZXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZWxlbWVudENhY2hlID0ge307XG4gICAgY29uc3QgdGltZUxhYmVscyA9IG5ldyBNYXAoKTtcbiAgICBsZXQgcHJldlRpbWUgPSAwO1xuICAgIGxldCBjdXJyZW50VGltZSA9IDA7XG4gICAgbGV0IHRvdGFsRHVyYXRpb24gPSAwO1xuICAgIC8qKlxuICAgICAqIEJ1aWxkIHRoZSB0aW1lbGluZSBieSBtYXBwaW5nIG92ZXIgdGhlIHNlcXVlbmNlIGFycmF5IGFuZCBjb252ZXJ0aW5nXG4gICAgICogdGhlIGRlZmluaXRpb25zIGludG8ga2V5ZnJhbWVzIGFuZCBvZmZzZXRzIHdpdGggYWJzb2x1dGUgdGltZSB2YWx1ZXMuXG4gICAgICogVGhlc2Ugd2lsbCBsYXRlciBnZXQgY29udmVydGVkIGludG8gcmVsYXRpdmUgb2Zmc2V0cyBpbiBhIHNlY29uZCBwYXNzLlxuICAgICAqL1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IHNlcXVlbmNlW2ldO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBpcyBhIHRpbWVsaW5lIGxhYmVsLCBtYXJrIGl0IGFuZCBza2lwIHRoZSByZXN0IG9mIHRoaXMgaXRlcmF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aW1lTGFiZWxzLnNldChzZWdtZW50LCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShzZWdtZW50KSkge1xuICAgICAgICAgICAgdGltZUxhYmVscy5zZXQoc2VnbWVudC5uYW1lLCBjYWxjTmV4dFRpbWUoY3VycmVudFRpbWUsIHNlZ21lbnQuYXQsIHByZXZUaW1lLCB0aW1lTGFiZWxzKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgW3N1YmplY3QsIGtleWZyYW1lcywgdHJhbnNpdGlvbiA9IHt9XSA9IHNlZ21lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBhIHJlbGF0aXZlIG9yIGFic29sdXRlIHRpbWUgdmFsdWUgaGFzIGJlZW4gc3BlY2lmaWVkIHdlIG5lZWQgdG8gcmVzb2x2ZVxuICAgICAgICAgKiBpdCBpbiByZWxhdGlvbiB0byB0aGUgY3VycmVudFRpbWUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5hdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjdXJyZW50VGltZSA9IGNhbGNOZXh0VGltZShjdXJyZW50VGltZSwgdHJhbnNpdGlvbi5hdCwgcHJldlRpbWUsIHRpbWVMYWJlbHMpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIG9mIHRoZSBtYXhpbXVtIGR1cmF0aW9uIGluIHRoaXMgZGVmaW5pdGlvbi4gVGhpcyB3aWxsIGJlXG4gICAgICAgICAqIGFwcGxpZWQgdG8gY3VycmVudFRpbWUgb25jZSB0aGUgZGVmaW5pdGlvbiBoYXMgYmVlbiBwYXJzZWQuXG4gICAgICAgICAqL1xuICAgICAgICBsZXQgbWF4RHVyYXRpb24gPSAwO1xuICAgICAgICBjb25zdCByZXNvbHZlVmFsdWVTZXF1ZW5jZSA9ICh2YWx1ZUtleWZyYW1lcywgdmFsdWVUcmFuc2l0aW9uLCB2YWx1ZVNlcXVlbmNlLCBlbGVtZW50SW5kZXggPSAwLCBudW1TdWJqZWN0cyA9IDApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlS2V5ZnJhbWVzQXNMaXN0ID0ga2V5ZnJhbWVzQXNMaXN0KHZhbHVlS2V5ZnJhbWVzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCB0aW1lcyA9IGRlZmF1bHRPZmZzZXQodmFsdWVLZXlmcmFtZXNBc0xpc3QpLCB0eXBlID0gXCJrZXlmcmFtZXNcIiwgcmVwZWF0LCByZXBlYXRUeXBlLCByZXBlYXREZWxheSA9IDAsIC4uLnJlbWFpbmluZ1RyYW5zaXRpb24gfSA9IHZhbHVlVHJhbnNpdGlvbjtcbiAgICAgICAgICAgIGxldCB7IGVhc2UgPSBkZWZhdWx0VHJhbnNpdGlvbi5lYXNlIHx8IFwiZWFzZU91dFwiLCBkdXJhdGlvbiB9ID0gdmFsdWVUcmFuc2l0aW9uO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXNvbHZlIHN0YWdnZXIoKSBpZiBkZWZpbmVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVkRGVsYXkgPSB0eXBlb2YgZGVsYXkgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICAgID8gZGVsYXkoZWxlbWVudEluZGV4LCBudW1TdWJqZWN0cylcbiAgICAgICAgICAgICAgICA6IGRlbGF5O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIGFuaW1hdGlvbiBzaG91bGQgYW5kIGNhbiB1c2UgYSBzcHJpbmcsIGdlbmVyYXRlIGEgc3ByaW5nIGVhc2luZyBmdW5jdGlvbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgbnVtS2V5ZnJhbWVzID0gdmFsdWVLZXlmcmFtZXNBc0xpc3QubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlR2VuZXJhdG9yID0gaXNHZW5lcmF0b3IodHlwZSlcbiAgICAgICAgICAgICAgICA/IHR5cGVcbiAgICAgICAgICAgICAgICA6IGdlbmVyYXRvcnM/Llt0eXBlXTtcbiAgICAgICAgICAgIGlmIChudW1LZXlmcmFtZXMgPD0gMiAmJiBjcmVhdGVHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBcyB3ZSdyZSBjcmVhdGluZyBhbiBlYXNpbmcgZnVuY3Rpb24gZnJvbSBhIHNwcmluZyxcbiAgICAgICAgICAgICAgICAgKiBpZGVhbGx5IHdlIHdhbnQgdG8gZ2VuZXJhdGUgaXQgdXNpbmcgdGhlIHJlYWwgZGlzdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBiZXR3ZWVuIHRoZSB0d28ga2V5ZnJhbWVzLiBIb3dldmVyIHRoaXMgaXNuJ3QgYWx3YXlzXG4gICAgICAgICAgICAgICAgICogcG9zc2libGUgLSBpbiB0aGVzZSBzaXR1YXRpb25zIHdlIHVzZSAwLTEwMC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBsZXQgYWJzb2x1dGVEZWx0YSA9IDEwMDtcbiAgICAgICAgICAgICAgICBpZiAobnVtS2V5ZnJhbWVzID09PSAyICYmXG4gICAgICAgICAgICAgICAgICAgIGlzTnVtYmVyS2V5ZnJhbWVzQXJyYXkodmFsdWVLZXlmcmFtZXNBc0xpc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gdmFsdWVLZXlmcmFtZXNBc0xpc3RbMV0gLSB2YWx1ZUtleWZyYW1lc0FzTGlzdFswXTtcbiAgICAgICAgICAgICAgICAgICAgYWJzb2x1dGVEZWx0YSA9IE1hdGguYWJzKGRlbHRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nVHJhbnNpdGlvbiA9IHsgLi4ucmVtYWluaW5nVHJhbnNpdGlvbiB9O1xuICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwcmluZ1RyYW5zaXRpb24uZHVyYXRpb24gPSBzZWNvbmRzVG9NaWxsaXNlY29uZHMoZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpbmdFYXNpbmcgPSBjcmVhdGVHZW5lcmF0b3JFYXNpbmcoc3ByaW5nVHJhbnNpdGlvbiwgYWJzb2x1dGVEZWx0YSwgY3JlYXRlR2VuZXJhdG9yKTtcbiAgICAgICAgICAgICAgICBlYXNlID0gc3ByaW5nRWFzaW5nLmVhc2U7XG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBzcHJpbmdFYXNpbmcuZHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkdXJhdGlvbiA/PyAoZHVyYXRpb24gPSBkZWZhdWx0RHVyYXRpb24pO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gY3VycmVudFRpbWUgKyBjYWxjdWxhdGVkRGVsYXk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZXJlJ3Mgb25seSBvbmUgdGltZSBvZmZzZXQgb2YgMCwgZmlsbCBpbiBhIHNlY29uZCB3aXRoIGxlbmd0aCAxXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aW1lcy5sZW5ndGggPT09IDEgJiYgdGltZXNbMF0gPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aW1lc1sxXSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpbGwgb3V0IGlmIG9mZnNldCBpZiBmZXdlciBvZmZzZXRzIHRoYW4ga2V5ZnJhbWVzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IHRpbWVzLmxlbmd0aCAtIHZhbHVlS2V5ZnJhbWVzQXNMaXN0Lmxlbmd0aDtcbiAgICAgICAgICAgIHJlbWFpbmRlciA+IDAgJiYgZmlsbE9mZnNldCh0aW1lcywgcmVtYWluZGVyKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgb25seSBvbmUgdmFsdWUgaGFzIGJlZW4gc2V0LCBpZSBbMV0sIHB1c2ggYSBudWxsIHRvIHRoZSBzdGFydCBvZlxuICAgICAgICAgICAgICogdGhlIGtleWZyYW1lIGFycmF5LiBUaGlzIHdpbGwgbGV0IHVzIG1hcmsgYSBrZXlmcmFtZSBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgICAgKiB0aGF0IHdpbGwgbGF0ZXIgYmUgaHlkcmF0ZWQgd2l0aCB0aGUgcHJldmlvdXMgdmFsdWUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhbHVlS2V5ZnJhbWVzQXNMaXN0Lmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIHZhbHVlS2V5ZnJhbWVzQXNMaXN0LnVuc2hpZnQobnVsbCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhhbmRsZSByZXBlYXQgb3B0aW9uc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICAgICAgaW52YXJpYW50KHJlcGVhdCA8IE1BWF9SRVBFQVQsIFwiUmVwZWF0IGNvdW50IHRvbyBoaWdoLCBtdXN0IGJlIGxlc3MgdGhhbiAyMFwiKTtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGNhbGN1bGF0ZVJlcGVhdER1cmF0aW9uKGR1cmF0aW9uLCByZXBlYXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsS2V5ZnJhbWVzID0gWy4uLnZhbHVlS2V5ZnJhbWVzQXNMaXN0XTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRpbWVzID0gWy4uLnRpbWVzXTtcbiAgICAgICAgICAgICAgICBlYXNlID0gQXJyYXkuaXNBcnJheShlYXNlKSA/IFsuLi5lYXNlXSA6IFtlYXNlXTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEVhc2UgPSBbLi4uZWFzZV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcmVwZWF0SW5kZXggPSAwOyByZXBlYXRJbmRleCA8IHJlcGVhdDsgcmVwZWF0SW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZUtleWZyYW1lc0FzTGlzdC5wdXNoKC4uLm9yaWdpbmFsS2V5ZnJhbWVzKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQga2V5ZnJhbWVJbmRleCA9IDA7IGtleWZyYW1lSW5kZXggPCBvcmlnaW5hbEtleWZyYW1lcy5sZW5ndGg7IGtleWZyYW1lSW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXMucHVzaChvcmlnaW5hbFRpbWVzW2tleWZyYW1lSW5kZXhdICsgKHJlcGVhdEluZGV4ICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZS5wdXNoKGtleWZyYW1lSW5kZXggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwibGluZWFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdldEVhc2luZ0ZvclNlZ21lbnQob3JpZ2luYWxFYXNlLCBrZXlmcmFtZUluZGV4IC0gMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZVRpbWVzKHRpbWVzLCByZXBlYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0VGltZSA9IHN0YXJ0VGltZSArIGR1cmF0aW9uO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBZGQga2V5ZnJhbWVzLCBtYXBwaW5nIG9mZnNldHMgdG8gYWJzb2x1dGUgdGltZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYWRkS2V5ZnJhbWVzKHZhbHVlU2VxdWVuY2UsIHZhbHVlS2V5ZnJhbWVzQXNMaXN0LCBlYXNlLCB0aW1lcywgc3RhcnRUaW1lLCB0YXJnZXRUaW1lKTtcbiAgICAgICAgICAgIG1heER1cmF0aW9uID0gTWF0aC5tYXgoY2FsY3VsYXRlZERlbGF5ICsgZHVyYXRpb24sIG1heER1cmF0aW9uKTtcbiAgICAgICAgICAgIHRvdGFsRHVyYXRpb24gPSBNYXRoLm1heCh0YXJnZXRUaW1lLCB0b3RhbER1cmF0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlzTW90aW9uVmFsdWUoc3ViamVjdCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3RTZXF1ZW5jZSA9IGdldFN1YmplY3RTZXF1ZW5jZShzdWJqZWN0LCBzZXF1ZW5jZXMpO1xuICAgICAgICAgICAgcmVzb2x2ZVZhbHVlU2VxdWVuY2Uoa2V5ZnJhbWVzLCB0cmFuc2l0aW9uLCBnZXRWYWx1ZVNlcXVlbmNlKFwiZGVmYXVsdFwiLCBzdWJqZWN0U2VxdWVuY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3RzID0gcmVzb2x2ZVN1YmplY3RzKHN1YmplY3QsIGtleWZyYW1lcywgc2NvcGUsIGVsZW1lbnRDYWNoZSk7XG4gICAgICAgICAgICBjb25zdCBudW1TdWJqZWN0cyA9IHN1YmplY3RzLmxlbmd0aDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhpcyBzZWdtZW50LCBwcm9jZXNzIHRoZSBkZWZpbmVkIHZhbHVlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChsZXQgc3ViamVjdEluZGV4ID0gMDsgc3ViamVjdEluZGV4IDwgbnVtU3ViamVjdHM7IHN1YmplY3RJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ2FzdCBuZWNlc3NhcnksIGJ1dCB3ZSBrbm93IHRoZXNlIGFyZSBvZiB0aGlzIHR5cGVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBrZXlmcmFtZXMgPSBrZXlmcmFtZXM7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG4gICAgICAgICAgICAgICAgY29uc3QgdGhpc1N1YmplY3QgPSBzdWJqZWN0c1tzdWJqZWN0SW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YmplY3RTZXF1ZW5jZSA9IGdldFN1YmplY3RTZXF1ZW5jZSh0aGlzU3ViamVjdCwgc2VxdWVuY2VzKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBrZXlmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVZhbHVlU2VxdWVuY2Uoa2V5ZnJhbWVzW2tleV0sIGdldFZhbHVlVHJhbnNpdGlvbih0cmFuc2l0aW9uLCBrZXkpLCBnZXRWYWx1ZVNlcXVlbmNlKGtleSwgc3ViamVjdFNlcXVlbmNlKSwgc3ViamVjdEluZGV4LCBudW1TdWJqZWN0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByZXZUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgIGN1cnJlbnRUaW1lICs9IG1heER1cmF0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgZXZlcnkgZWxlbWVudCBhbmQgdmFsdWUgY29tYmluYXRpb24gY3JlYXRlIGEgbmV3IGFuaW1hdGlvbi5cbiAgICAgKi9cbiAgICBzZXF1ZW5jZXMuZm9yRWFjaCgodmFsdWVTZXF1ZW5jZXMsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWVTZXF1ZW5jZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlU2VxdWVuY2UgPSB2YWx1ZVNlcXVlbmNlc1trZXldO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcnJhbmdlIGFsbCB0aGUga2V5ZnJhbWVzIGluIGFzY2VuZGluZyB0aW1lIG9yZGVyLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YWx1ZVNlcXVlbmNlLnNvcnQoY29tcGFyZUJ5VGltZSk7XG4gICAgICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlT2Zmc2V0ID0gW107XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUVhc2luZyA9IFtdO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGb3IgZWFjaCBrZXlmcmFtZSwgdHJhbnNsYXRlIGFic29sdXRlIHRpbWVzIGludG9cbiAgICAgICAgICAgICAqIHJlbGF0aXZlIG9mZnNldHMgYmFzZWQgb24gdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSB0aW1lbGluZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZVNlcXVlbmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhdCwgdmFsdWUsIGVhc2luZyB9ID0gdmFsdWVTZXF1ZW5jZVtpXTtcbiAgICAgICAgICAgICAgICBrZXlmcmFtZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdmFsdWVPZmZzZXQucHVzaChwcm9ncmVzcygwLCB0b3RhbER1cmF0aW9uLCBhdCkpO1xuICAgICAgICAgICAgICAgIHZhbHVlRWFzaW5nLnB1c2goZWFzaW5nIHx8IFwiZWFzZU91dFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlIGZpcnN0IGtleWZyYW1lIGRvZXNuJ3QgbGFuZCBvbiBvZmZzZXQ6IDBcbiAgICAgICAgICAgICAqIHByb3ZpZGUgb25lIGJ5IGR1cGxpY2F0aW5nIHRoZSBpbml0aWFsIGtleWZyYW1lLiBUaGlzIGVuc3VyZXNcbiAgICAgICAgICAgICAqIGl0IHNuYXBzIHRvIHRoZSBmaXJzdCBrZXlmcmFtZSB3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodmFsdWVPZmZzZXRbMF0gIT09IDApIHtcbiAgICAgICAgICAgICAgICB2YWx1ZU9mZnNldC51bnNoaWZ0KDApO1xuICAgICAgICAgICAgICAgIGtleWZyYW1lcy51bnNoaWZ0KGtleWZyYW1lc1swXSk7XG4gICAgICAgICAgICAgICAgdmFsdWVFYXNpbmcudW5zaGlmdChkZWZhdWx0U2VnbWVudEVhc2luZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSBsYXN0IGtleWZyYW1lIGRvZXNuJ3QgbGFuZCBvbiBvZmZzZXQ6IDFcbiAgICAgICAgICAgICAqIHByb3ZpZGUgb25lIHdpdGggYSBudWxsIHdpbGRjYXJkIHZhbHVlLiBUaGlzIHdpbGwgZW5zdXJlIGl0XG4gICAgICAgICAgICAgKiBzdGF5cyBzdGF0aWMgdW50aWwgdGhlIGVuZCBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodmFsdWVPZmZzZXRbdmFsdWVPZmZzZXQubGVuZ3RoIC0gMV0gIT09IDEpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZU9mZnNldC5wdXNoKDEpO1xuICAgICAgICAgICAgICAgIGtleWZyYW1lcy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbmltYXRpb25EZWZpbml0aW9ucy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25EZWZpbml0aW9ucy5zZXQoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgICBrZXlmcmFtZXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB7fSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBhbmltYXRpb25EZWZpbml0aW9ucy5nZXQoZWxlbWVudCk7XG4gICAgICAgICAgICBkZWZpbml0aW9uLmtleWZyYW1lc1trZXldID0ga2V5ZnJhbWVzO1xuICAgICAgICAgICAgZGVmaW5pdGlvbi50cmFuc2l0aW9uW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgLi4uZGVmYXVsdFRyYW5zaXRpb24sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHRvdGFsRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzZTogdmFsdWVFYXNpbmcsXG4gICAgICAgICAgICAgICAgdGltZXM6IHZhbHVlT2Zmc2V0LFxuICAgICAgICAgICAgICAgIC4uLnNlcXVlbmNlVHJhbnNpdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYW5pbWF0aW9uRGVmaW5pdGlvbnM7XG59XG5mdW5jdGlvbiBnZXRTdWJqZWN0U2VxdWVuY2Uoc3ViamVjdCwgc2VxdWVuY2VzKSB7XG4gICAgIXNlcXVlbmNlcy5oYXMoc3ViamVjdCkgJiYgc2VxdWVuY2VzLnNldChzdWJqZWN0LCB7fSk7XG4gICAgcmV0dXJuIHNlcXVlbmNlcy5nZXQoc3ViamVjdCk7XG59XG5mdW5jdGlvbiBnZXRWYWx1ZVNlcXVlbmNlKG5hbWUsIHNlcXVlbmNlcykge1xuICAgIGlmICghc2VxdWVuY2VzW25hbWVdKVxuICAgICAgICBzZXF1ZW5jZXNbbmFtZV0gPSBbXTtcbiAgICByZXR1cm4gc2VxdWVuY2VzW25hbWVdO1xufVxuZnVuY3Rpb24ga2V5ZnJhbWVzQXNMaXN0KGtleWZyYW1lcykge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleWZyYW1lcykgPyBrZXlmcmFtZXMgOiBba2V5ZnJhbWVzXTtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlVHJhbnNpdGlvbih0cmFuc2l0aW9uLCBrZXkpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvbiAmJiB0cmFuc2l0aW9uW2tleV1cbiAgICAgICAgPyB7XG4gICAgICAgICAgICAuLi50cmFuc2l0aW9uLFxuICAgICAgICAgICAgLi4udHJhbnNpdGlvbltrZXldLFxuICAgICAgICB9XG4gICAgICAgIDogeyAuLi50cmFuc2l0aW9uIH07XG59XG5jb25zdCBpc051bWJlciA9IChrZXlmcmFtZSkgPT4gdHlwZW9mIGtleWZyYW1lID09PSBcIm51bWJlclwiO1xuY29uc3QgaXNOdW1iZXJLZXlmcmFtZXNBcnJheSA9IChrZXlmcmFtZXMpID0+IGtleWZyYW1lcy5ldmVyeShpc051bWJlcik7XG5cbmV4cG9ydCB7IGNyZWF0ZUFuaW1hdGlvbnNGcm9tU2VxdWVuY2UsIGdldFZhbHVlVHJhbnNpdGlvbiB9O1xuIiwgImltcG9ydCB7IGlzRE9NS2V5ZnJhbWVzIH0gZnJvbSAnLi4vdXRpbHMvaXMtZG9tLWtleWZyYW1lcy5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbW90aW9uLWRvbS9kaXN0L2VzL3V0aWxzL3Jlc29sdmUtZWxlbWVudHMubWpzJztcblxuZnVuY3Rpb24gcmVzb2x2ZVN1YmplY3RzKHN1YmplY3QsIGtleWZyYW1lcywgc2NvcGUsIHNlbGVjdG9yQ2FjaGUpIHtcbiAgICBpZiAodHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgaXNET01LZXlmcmFtZXMoa2V5ZnJhbWVzKSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZUVsZW1lbnRzKHN1YmplY3QsIHNjb3BlLCBzZWxlY3RvckNhY2hlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc3ViamVjdCBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHN1YmplY3QpO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpKSB7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtzdWJqZWN0XTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJlc29sdmVTdWJqZWN0cyB9O1xuIiwgImZ1bmN0aW9uIGlzRE9NS2V5ZnJhbWVzKGtleWZyYW1lcykge1xuICAgIHJldHVybiB0eXBlb2Yga2V5ZnJhbWVzID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGtleWZyYW1lcyk7XG59XG5cbmV4cG9ydCB7IGlzRE9NS2V5ZnJhbWVzIH07XG4iLCAiZnVuY3Rpb24gY2FsY3VsYXRlUmVwZWF0RHVyYXRpb24oZHVyYXRpb24sIHJlcGVhdCwgX3JlcGVhdERlbGF5KSB7XG4gICAgcmV0dXJuIGR1cmF0aW9uICogKHJlcGVhdCArIDEpO1xufVxuXG5leHBvcnQgeyBjYWxjdWxhdGVSZXBlYXREdXJhdGlvbiB9O1xuIiwgIi8qKlxuICogR2l2ZW4gYSBhYnNvbHV0ZSBvciByZWxhdGl2ZSB0aW1lIGRlZmluaXRpb24gYW5kIGN1cnJlbnQvcHJldiB0aW1lIHN0YXRlIG9mIHRoZSBzZXF1ZW5jZSxcbiAqIGNhbGN1bGF0ZSBhbiBhYnNvbHV0ZSB0aW1lIGZvciB0aGUgbmV4dCBrZXlmcmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGNhbGNOZXh0VGltZShjdXJyZW50LCBuZXh0LCBwcmV2LCBsYWJlbHMpIHtcbiAgICBpZiAodHlwZW9mIG5leHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5leHQuc3RhcnRzV2l0aChcIi1cIikgfHwgbmV4dC5zdGFydHNXaXRoKFwiK1wiKSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgY3VycmVudCArIHBhcnNlRmxvYXQobmV4dCkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChuZXh0ID09PSBcIjxcIikge1xuICAgICAgICByZXR1cm4gcHJldjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBsYWJlbHMuZ2V0KG5leHQpID8/IGN1cnJlbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgeyBjYWxjTmV4dFRpbWUgfTtcbiIsICJpbXBvcnQgeyBtaXhOdW1iZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9tb3Rpb24tZG9tL2Rpc3QvZXMvdXRpbHMvbWl4L251bWJlci5tanMnO1xuaW1wb3J0IHsgZ2V0RWFzaW5nRm9yU2VnbWVudCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL21vdGlvbi11dGlscy9kaXN0L2VzL2Vhc2luZy91dGlscy9nZXQtZWFzaW5nLWZvci1zZWdtZW50Lm1qcyc7XG5pbXBvcnQgeyByZW1vdmVJdGVtIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vbW90aW9uLXV0aWxzL2Rpc3QvZXMvYXJyYXkubWpzJztcblxuZnVuY3Rpb24gZXJhc2VLZXlmcmFtZXMoc2VxdWVuY2UsIHN0YXJ0VGltZSwgZW5kVGltZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWUgPSBzZXF1ZW5jZVtpXTtcbiAgICAgICAgaWYgKGtleWZyYW1lLmF0ID4gc3RhcnRUaW1lICYmIGtleWZyYW1lLmF0IDwgZW5kVGltZSkge1xuICAgICAgICAgICAgcmVtb3ZlSXRlbShzZXF1ZW5jZSwga2V5ZnJhbWUpO1xuICAgICAgICAgICAgLy8gSWYgd2UgcmVtb3ZlIHRoaXMgaXRlbSB3ZSBoYXZlIHRvIHB1c2ggdGhlIHBvaW50ZXIgYmFjayBvbmVcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZEtleWZyYW1lcyhzZXF1ZW5jZSwga2V5ZnJhbWVzLCBlYXNpbmcsIG9mZnNldCwgc3RhcnRUaW1lLCBlbmRUaW1lKSB7XG4gICAgLyoqXG4gICAgICogRXJhc2UgZXZlcnkgZXhpc3RpbmcgdmFsdWUgYmV0d2VlbiBjdXJyZW50VGltZSBhbmQgdGFyZ2V0VGltZSxcbiAgICAgKiB0aGlzIHdpbGwgZXNzZW50aWFsbHkgc3BsaWNlIHRoaXMgdGltZWxpbmUgaW50byBhbnkgY3VycmVudGx5XG4gICAgICogZGVmaW5lZCBvbmVzLlxuICAgICAqL1xuICAgIGVyYXNlS2V5ZnJhbWVzKHNlcXVlbmNlLCBzdGFydFRpbWUsIGVuZFRpbWUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5ZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlcXVlbmNlLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IGtleWZyYW1lc1tpXSxcbiAgICAgICAgICAgIGF0OiBtaXhOdW1iZXIoc3RhcnRUaW1lLCBlbmRUaW1lLCBvZmZzZXRbaV0pLFxuICAgICAgICAgICAgZWFzaW5nOiBnZXRFYXNpbmdGb3JTZWdtZW50KGVhc2luZywgaSksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgYWRkS2V5ZnJhbWVzLCBlcmFzZUtleWZyYW1lcyB9O1xuIiwgImltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi8uLi93cmFwLm1qcyc7XG5pbXBvcnQgeyBpc0Vhc2luZ0FycmF5IH0gZnJvbSAnLi9pcy1lYXNpbmctYXJyYXkubWpzJztcblxuZnVuY3Rpb24gZ2V0RWFzaW5nRm9yU2VnbWVudChlYXNpbmcsIGkpIHtcbiAgICByZXR1cm4gaXNFYXNpbmdBcnJheShlYXNpbmcpID8gZWFzaW5nW3dyYXAoMCwgZWFzaW5nLmxlbmd0aCwgaSldIDogZWFzaW5nO1xufVxuXG5leHBvcnQgeyBnZXRFYXNpbmdGb3JTZWdtZW50IH07XG4iLCAiY29uc3Qgd3JhcCA9IChtaW4sIG1heCwgdikgPT4ge1xuICAgIGNvbnN0IHJhbmdlU2l6ZSA9IG1heCAtIG1pbjtcbiAgICByZXR1cm4gKCgoKHYgLSBtaW4pICUgcmFuZ2VTaXplKSArIHJhbmdlU2l6ZSkgJSByYW5nZVNpemUpICsgbWluO1xufTtcblxuZXhwb3J0IHsgd3JhcCB9O1xuIiwgIi8qKlxuICogVGFrZSBhbiBhcnJheSBvZiB0aW1lcyB0aGF0IHJlcHJlc2VudCByZXBlYXRlZCBrZXlmcmFtZXMuIEZvciBpbnN0YW5jZVxuICogaWYgd2UgaGF2ZSBvcmlnaW5hbCB0aW1lcyBvZiBbMCwgMC41LCAxXSB0aGVuIG91ciByZXBlYXRlZCB0aW1lcyB3aWxsXG4gKiBiZSBbMCwgMC41LCAxLCAxLCAxLjUsIDJdLiBMb29wIG92ZXIgdGhlIHRpbWVzIGFuZCBzY2FsZSB0aGVtIGJhY2tcbiAqIGRvd24gdG8gYSAwLTEgc2NhbGUuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVRpbWVzKHRpbWVzLCByZXBlYXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRpbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRpbWVzW2ldID0gdGltZXNbaV0gLyAocmVwZWF0ICsgMSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBub3JtYWxpemVUaW1lcyB9O1xuIiwgImZ1bmN0aW9uIGNvbXBhcmVCeVRpbWUoYSwgYikge1xuICAgIGlmIChhLmF0ID09PSBiLmF0KSB7XG4gICAgICAgIGlmIChhLnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChiLnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhLmF0IC0gYi5hdDtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGNvbXBhcmVCeVRpbWUgfTtcbiIsICJpbXBvcnQgeyB2aXN1YWxFbGVtZW50U3RvcmUgfSBmcm9tICcuLi8uLi9yZW5kZXIvc3RvcmUubWpzJztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGFuaW1hdGVUYXJnZXQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL3Zpc3VhbC1lbGVtZW50LXRhcmdldC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlRE9NVmlzdWFsRWxlbWVudCwgY3JlYXRlT2JqZWN0VmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL3V0aWxzL2NyZWF0ZS12aXN1YWwtZWxlbWVudC5tanMnO1xuaW1wb3J0IHsgaXNET01LZXlmcmFtZXMgfSBmcm9tICcuLi91dGlscy9pcy1kb20ta2V5ZnJhbWVzLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlU3ViamVjdHMgfSBmcm9tICcuL3Jlc29sdmUtc3ViamVjdHMubWpzJztcbmltcG9ydCB7IGFuaW1hdGVTaW5nbGVWYWx1ZSB9IGZyb20gJy4vc2luZ2xlLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9tb3Rpb24tdXRpbHMvZGlzdC9lcy9lcnJvcnMubWpzJztcblxuZnVuY3Rpb24gaXNTaW5nbGVWYWx1ZShzdWJqZWN0LCBrZXlmcmFtZXMpIHtcbiAgICByZXR1cm4gKGlzTW90aW9uVmFsdWUoc3ViamVjdCkgfHxcbiAgICAgICAgdHlwZW9mIHN1YmplY3QgPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgKHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmICFpc0RPTUtleWZyYW1lcyhrZXlmcmFtZXMpKSk7XG59XG4vKipcbiAqIEltcGxlbWVudGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGVTdWJqZWN0KHN1YmplY3QsIGtleWZyYW1lcywgb3B0aW9ucywgc2NvcGUpIHtcbiAgICBjb25zdCBhbmltYXRpb25zID0gW107XG4gICAgaWYgKGlzU2luZ2xlVmFsdWUoc3ViamVjdCwga2V5ZnJhbWVzKSkge1xuICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0ZVNpbmdsZVZhbHVlKHN1YmplY3QsIGlzRE9NS2V5ZnJhbWVzKGtleWZyYW1lcylcbiAgICAgICAgICAgID8ga2V5ZnJhbWVzLmRlZmF1bHQgfHwga2V5ZnJhbWVzXG4gICAgICAgICAgICA6IGtleWZyYW1lcywgb3B0aW9ucyA/IG9wdGlvbnMuZGVmYXVsdCB8fCBvcHRpb25zIDogb3B0aW9ucykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3ViamVjdHMgPSByZXNvbHZlU3ViamVjdHMoc3ViamVjdCwga2V5ZnJhbWVzLCBzY29wZSk7XG4gICAgICAgIGNvbnN0IG51bVN1YmplY3RzID0gc3ViamVjdHMubGVuZ3RoO1xuICAgICAgICBpbnZhcmlhbnQoQm9vbGVhbihudW1TdWJqZWN0cyksIFwiTm8gdmFsaWQgZWxlbWVudHMgcHJvdmlkZWQuXCIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVN1YmplY3RzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNTdWJqZWN0ID0gc3ViamVjdHNbaV07XG4gICAgICAgICAgICBjb25zdCBjcmVhdGVWaXN1YWxFbGVtZW50ID0gdGhpc1N1YmplY3QgaW5zdGFuY2VvZiBFbGVtZW50XG4gICAgICAgICAgICAgICAgPyBjcmVhdGVET01WaXN1YWxFbGVtZW50XG4gICAgICAgICAgICAgICAgOiBjcmVhdGVPYmplY3RWaXN1YWxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKCF2aXN1YWxFbGVtZW50U3RvcmUuaGFzKHRoaXNTdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVZpc3VhbEVsZW1lbnQodGhpc1N1YmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmlzdWFsRWxlbWVudCA9IHZpc3VhbEVsZW1lbnRTdG9yZS5nZXQodGhpc1N1YmplY3QpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHsgLi4ub3B0aW9ucyB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXNvbHZlIHN0YWdnZXIgZnVuY3Rpb24gaWYgcHJvdmlkZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChcImRlbGF5XCIgaW4gdHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiB0cmFuc2l0aW9uLmRlbGF5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmRlbGF5ID0gdHJhbnNpdGlvbi5kZWxheShpLCBudW1TdWJqZWN0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goLi4uYW5pbWF0ZVRhcmdldCh2aXN1YWxFbGVtZW50LCB7IC4uLmtleWZyYW1lcywgdHJhbnNpdGlvbiB9LCB7fSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbmltYXRpb25zO1xufVxuXG5leHBvcnQgeyBhbmltYXRlU3ViamVjdCB9O1xuIiwgImltcG9ydCB7IGlzU1ZHRWxlbWVudCB9IGZyb20gJy4uLy4uL3JlbmRlci9kb20vdXRpbHMvaXMtc3ZnLWVsZW1lbnQubWpzJztcbmltcG9ydCB7IFNWR1Zpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi8uLi9yZW5kZXIvc3ZnL1NWR1Zpc3VhbEVsZW1lbnQubWpzJztcbmltcG9ydCB7IEhUTUxWaXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vLi4vcmVuZGVyL2h0bWwvSFRNTFZpc3VhbEVsZW1lbnQubWpzJztcbmltcG9ydCB7IHZpc3VhbEVsZW1lbnRTdG9yZSB9IGZyb20gJy4uLy4uL3JlbmRlci9zdG9yZS5tanMnO1xuaW1wb3J0IHsgT2JqZWN0VmlzdWFsRWxlbWVudCB9IGZyb20gJy4uLy4uL3JlbmRlci9vYmplY3QvT2JqZWN0VmlzdWFsRWxlbWVudC5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVET01WaXN1YWxFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwcmVzZW5jZUNvbnRleHQ6IG51bGwsXG4gICAgICAgIHByb3BzOiB7fSxcbiAgICAgICAgdmlzdWFsU3RhdGU6IHtcbiAgICAgICAgICAgIHJlbmRlclN0YXRlOiB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB7fSxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IHt9LFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgICAgICAgICB2YXJzOiB7fSxcbiAgICAgICAgICAgICAgICBhdHRyczoge30sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGF0ZXN0VmFsdWVzOiB7fSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IG5vZGUgPSBpc1NWR0VsZW1lbnQoZWxlbWVudClcbiAgICAgICAgPyBuZXcgU1ZHVmlzdWFsRWxlbWVudChvcHRpb25zKVxuICAgICAgICA6IG5ldyBIVE1MVmlzdWFsRWxlbWVudChvcHRpb25zKTtcbiAgICBub2RlLm1vdW50KGVsZW1lbnQpO1xuICAgIHZpc3VhbEVsZW1lbnRTdG9yZS5zZXQoZWxlbWVudCwgbm9kZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVPYmplY3RWaXN1YWxFbGVtZW50KHN1YmplY3QpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwcmVzZW5jZUNvbnRleHQ6IG51bGwsXG4gICAgICAgIHByb3BzOiB7fSxcbiAgICAgICAgdmlzdWFsU3RhdGU6IHtcbiAgICAgICAgICAgIHJlbmRlclN0YXRlOiB7XG4gICAgICAgICAgICAgICAgb3V0cHV0OiB7fSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXRlc3RWYWx1ZXM6IHt9LFxuICAgICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgbm9kZSA9IG5ldyBPYmplY3RWaXN1YWxFbGVtZW50KG9wdGlvbnMpO1xuICAgIG5vZGUubW91bnQoc3ViamVjdCk7XG4gICAgdmlzdWFsRWxlbWVudFN0b3JlLnNldChzdWJqZWN0LCBub2RlKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlRE9NVmlzdWFsRWxlbWVudCwgY3JlYXRlT2JqZWN0VmlzdWFsRWxlbWVudCB9O1xuIiwgImltcG9ydCB7IGNyZWF0ZUJveCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vZ2VvbWV0cnkvbW9kZWxzLm1qcyc7XG5pbXBvcnQgeyBWaXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vVmlzdWFsRWxlbWVudC5tanMnO1xuXG5mdW5jdGlvbiBpc09iamVjdEtleShrZXksIG9iamVjdCkge1xuICAgIHJldHVybiBrZXkgaW4gb2JqZWN0O1xufVxuY2xhc3MgT2JqZWN0VmlzdWFsRWxlbWVudCBleHRlbmRzIFZpc3VhbEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnR5cGUgPSBcIm9iamVjdFwiO1xuICAgIH1cbiAgICByZWFkVmFsdWVGcm9tSW5zdGFuY2UoaW5zdGFuY2UsIGtleSkge1xuICAgICAgICBpZiAoaXNPYmplY3RLZXkoa2V5LCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5zdGFuY2Vba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldEJhc2VUYXJnZXRGcm9tUHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJlbW92ZVZhbHVlRnJvbVJlbmRlclN0YXRlKGtleSwgcmVuZGVyU3RhdGUpIHtcbiAgICAgICAgZGVsZXRlIHJlbmRlclN0YXRlLm91dHB1dFtrZXldO1xuICAgIH1cbiAgICBtZWFzdXJlSW5zdGFuY2VWaWV3cG9ydEJveCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJveCgpO1xuICAgIH1cbiAgICBidWlsZChyZW5kZXJTdGF0ZSwgbGF0ZXN0VmFsdWVzKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ocmVuZGVyU3RhdGUub3V0cHV0LCBsYXRlc3RWYWx1ZXMpO1xuICAgIH1cbiAgICByZW5kZXJJbnN0YW5jZShpbnN0YW5jZSwgeyBvdXRwdXQgfSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCBvdXRwdXQpO1xuICAgIH1cbiAgICBzb3J0SW5zdGFuY2VOb2RlUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgT2JqZWN0VmlzdWFsRWxlbWVudCB9O1xuIiwgImltcG9ydCB7IEdyb3VwQW5pbWF0aW9uIH0gZnJvbSAnLi9Hcm91cEFuaW1hdGlvbi5tanMnO1xuXG5jbGFzcyBHcm91cEFuaW1hdGlvbldpdGhUaGVuIGV4dGVuZHMgR3JvdXBBbmltYXRpb24ge1xuICAgIHRoZW4ob25SZXNvbHZlLCBfb25SZWplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoZWQuZmluYWxseShvblJlc29sdmUpLnRoZW4oKCkgPT4geyB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEdyb3VwQW5pbWF0aW9uV2l0aFRoZW4gfTtcbiIsICJjbGFzcyBHcm91cEFuaW1hdGlvbiB7XG4gICAgY29uc3RydWN0b3IoYW5pbWF0aW9ucykge1xuICAgICAgICAvLyBCb3VuZCB0byBhY2NvbWFkYXRlIGNvbW1vbiBgcmV0dXJuIGFuaW1hdGlvbi5zdG9wYCBwYXR0ZXJuXG4gICAgICAgIHRoaXMuc3RvcCA9ICgpID0+IHRoaXMucnVuQWxsKFwic3RvcFwiKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gYW5pbWF0aW9ucy5maWx0ZXIoQm9vbGVhbik7XG4gICAgfVxuICAgIGdldCBmaW5pc2hlZCgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuYW5pbWF0aW9ucy5tYXAoKGFuaW1hdGlvbikgPT4gYW5pbWF0aW9uLmZpbmlzaGVkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRPRE86IEZpbHRlciBvdXQgY2FuY2VsbGVkIG9yIHN0b3BwZWQgYW5pbWF0aW9ucyBiZWZvcmUgcmV0dXJuaW5nXG4gICAgICovXG4gICAgZ2V0QWxsKHByb3BOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnNbMF1bcHJvcE5hbWVdO1xuICAgIH1cbiAgICBzZXRBbGwocHJvcE5hbWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbaV1bcHJvcE5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXR0YWNoVGltZWxpbmUodGltZWxpbmUpIHtcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IHRoaXMuYW5pbWF0aW9ucy5tYXAoKGFuaW1hdGlvbikgPT4gYW5pbWF0aW9uLmF0dGFjaFRpbWVsaW5lKHRpbWVsaW5lKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLmZvckVhY2goKGNhbmNlbCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbmNlbCAmJiBjYW5jZWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbaV0uc3RvcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCB0aW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGwoXCJ0aW1lXCIpO1xuICAgIH1cbiAgICBzZXQgdGltZSh0aW1lKSB7XG4gICAgICAgIHRoaXMuc2V0QWxsKFwidGltZVwiLCB0aW1lKTtcbiAgICB9XG4gICAgZ2V0IHNwZWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGwoXCJzcGVlZFwiKTtcbiAgICB9XG4gICAgc2V0IHNwZWVkKHNwZWVkKSB7XG4gICAgICAgIHRoaXMuc2V0QWxsKFwic3BlZWRcIiwgc3BlZWQpO1xuICAgIH1cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbChcInN0YXRlXCIpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGwoXCJzdGFydFRpbWVcIik7XG4gICAgfVxuICAgIGdldCBkdXJhdGlvbigpIHtcbiAgICAgICAgbGV0IG1heCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHRoaXMuYW5pbWF0aW9uc1tpXS5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgcnVuQWxsKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goKGNvbnRyb2xzKSA9PiBjb250cm9sc1ttZXRob2ROYW1lXSgpKTtcbiAgICB9XG4gICAgcGxheSgpIHtcbiAgICAgICAgdGhpcy5ydW5BbGwoXCJwbGF5XCIpO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5ydW5BbGwoXCJwYXVzZVwiKTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICB0aGlzLnJ1bkFsbChcImNhbmNlbFwiKTtcbiAgICB9XG4gICAgY29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucnVuQWxsKFwiY29tcGxldGVcIik7XG4gICAgfVxufVxuXG5leHBvcnQgeyBHcm91cEFuaW1hdGlvbiB9O1xuIiwgImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIFJlYWN0Tm9kZSwgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyBBZGFwdGVyLCBBZGFwdGVySW50cm9zcGVjdFJlc3VsdCB9IGZyb20gXCJAL2RhdGFcIjtcblxuaW1wb3J0IHsgdXNlU3R1ZGlvIH0gZnJvbSBcIi4uL3N0dWRpby9jb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VRdWVyeVN0YXRlIH0gZnJvbSBcIi4vbnVxc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEZpbHRlciB9IGZyb20gXCIuL3VzZS1maWx0ZXJpbmdcIjtcbmltcG9ydCB7IHVzZUludHJvc3BlY3Rpb24gfSBmcm9tIFwiLi91c2UtaW50cm9zcGVjdGlvblwiO1xuZXhwb3J0IHR5cGUgKiBmcm9tIFwiLi9udXFzXCI7XG5cbi8vIHRoaXMgdHlwZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSBudXFzIGNhdXNlcyBpc3N1ZXMgd2l0aCBvdXIgdHlwZSBidW5kbGluZ1xudHlwZSBOdXFzU2V0TnVsbGFibGVWYWx1ZTxUPiA9ICh2YWx1ZTogVCB8IG51bGwgfCAoKHByZXY6IFQgfCBudWxsKSA9PiBUIHwgbnVsbCkpID0+IFByb21pc2U8VVJMU2VhcmNoUGFyYW1zPjtcblxudHlwZSBQYXJhbU5hbWUgPSBFeGNsdWRlPEV4dHJhY3Q8a2V5b2YgUmV0dXJuVHlwZTx0eXBlb2YgdXNlTmF2aWdhdGlvbkludGVybmFsPiwgYCR7c3RyaW5nfVBhcmFtYD4sIGBzZXQke3N0cmluZ31gPjtcbnR5cGUgVXJsVmFsdWVzID0gUGFydGlhbDxSZWNvcmQ8UGFyYW1OYW1lLCBzdHJpbmc+PjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVybCh2YWx1ZXM6IFVybFZhbHVlcykge1xuICBjb25zdCBwYXJhbXMgPSBPYmplY3QuZW50cmllcyh2YWx1ZXMpXG4gICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0ga2V5LmVuZHNXaXRoKFwiUGFyYW1cIikgPyBrZXkuc2xpY2UoMCwgLTUpIDoga2V5O1xuICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWA7XG4gICAgfSlcbiAgICAuam9pbihcIiZcIik7XG4gIHJldHVybiBgIyR7cGFyYW1zfWA7XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRQYXJhbXMoYXJnczogeyBhZGFwdGVyOiBBZGFwdGVyOyBpbnRyb3NwZWN0aW9uOiBBZGFwdGVySW50cm9zcGVjdFJlc3VsdCB9KSB7XG4gIGNvbnN0IHsgYWRhcHRlciwgaW50cm9zcGVjdGlvbiB9ID0gYXJncztcbiAgY29uc3QgeyBzY2hlbWFzIH0gPSBpbnRyb3NwZWN0aW9uO1xuICBjb25zdCB7IGRlZmF1bHRTY2hlbWEgfSA9IGFkYXB0ZXI7XG5cbiAgY29uc3Qgc2NoZW1hID0gZGVmYXVsdFNjaGVtYSA/PyBPYmplY3Qua2V5cyhzY2hlbWFzKVswXSA/PyBcInB1YmxpY1wiO1xuICBjb25zdCB0YWJsZSA9IE9iamVjdC5rZXlzKHNjaGVtYXNbc2NoZW1hXT8udGFibGVzID8/IHt9KVswXSA/PyBcIlwiO1xuICBjb25zdCBmaWx0ZXIgPSBKU09OLnN0cmluZ2lmeShkZWZhdWx0RmlsdGVyKTtcbiAgY29uc3QgcGFnZUluZGV4ID0gXCIwXCI7XG4gIGNvbnN0IHBhZ2VTaXplID0gXCIyNVwiO1xuICBjb25zdCB2aWV3ID0gXCJ0YWJsZVwiO1xuXG4gIHJldHVybiB7IHNjaGVtYSwgdGFibGUsIGZpbHRlciwgcGFnZUluZGV4LCBwYWdlU2l6ZSwgdmlldyB9O1xufVxuXG4vKipcbiAqIERlYWxzIHdpdGggbWFuYWdpbmcgdGhlIFVSTFMgaW4gKnRoZWlyIHJhdyBmb3JtKiwgYW5kIGRvZXMgbm90IGRlYWwgd2l0aFxuICogc2V6aWFsaXphdGlvbi4gIFRoaXMgaXMgZW1hbnQgdG8gYmUgYSBjZW50cmFsaXplZCBob29rIGZvciB0aGUgdXJsXG4gKiBtYW5hZ2VtZW50LCBpZiB0aGVyZSBhcmUgZXh0cmEgbmVlZHMgYmV5b25kIHNpbXBsZSByZWFkIGFuIHdyaXRlcywgdGhlblxuICogaW1wbGVtZW50IGEgc3BlY2lhbGl6ZWQgaG9vayBpbnN0ZWFkLlxuICovXG5mdW5jdGlvbiB1c2VOYXZpZ2F0aW9uSW50ZXJuYWwoKSB7XG4gIGNvbnN0IHsgYWRhcHRlciB9ID0gdXNlU3R1ZGlvKCk7XG4gIGNvbnN0IHsgZGF0YTogaW50cm9zcGVjdGlvbiwgaXNGZXRjaGluZyB9ID0gdXNlSW50cm9zcGVjdGlvbigpO1xuXG4gIGNvbnN0IHsgc2NoZW1hcyB9ID0gaW50cm9zcGVjdGlvbjtcbiAgY29uc3QgZGVmYXVsdHMgPSB1c2VNZW1vKCgpID0+IGdldERlZmF1bHRQYXJhbXMoeyBhZGFwdGVyLCBpbnRyb3NwZWN0aW9uIH0pLCBbYWRhcHRlciwgaW50cm9zcGVjdGlvbl0pO1xuXG4gIGNvbnN0IFtmaWx0ZXJQYXJhbSwgc2V0RmlsdGVyUGFyYW1dID0gdXNlUXVlcnlTdGF0ZShcImZpbHRlclwiLCB7IGRlZmF1bHRWYWx1ZTogZGVmYXVsdHMuZmlsdGVyIH0pO1xuICBjb25zdCBbcGFnZUluZGV4UGFyYW0sIHNldFBhZ2VJbmRleFBhcmFtXSA9IHVzZVF1ZXJ5U3RhdGUoXCJwYWdlSW5kZXhcIiwgeyBkZWZhdWx0VmFsdWU6IGRlZmF1bHRzLnBhZ2VJbmRleCB9KTtcbiAgY29uc3QgW3BhZ2VTaXplUGFyYW0sIHNldFBhZ2VTaXplUGFyYW1dID0gdXNlUXVlcnlTdGF0ZShcInBhZ2VTaXplXCIsIHsgZGVmYXVsdFZhbHVlOiBkZWZhdWx0cy5wYWdlU2l6ZSB9KTtcbiAgY29uc3QgW3NjaGVtYVBhcmFtLCBzZXRTY2hlbWFQYXJhbV0gPSB1c2VRdWVyeVN0YXRlKFwic2NoZW1hXCIsIHsgZGVmYXVsdFZhbHVlOiBkZWZhdWx0cy5zY2hlbWEgfSk7XG4gIGNvbnN0IFtzb3J0UGFyYW0sIHNldFNvcnRQYXJhbV0gPSB1c2VRdWVyeVN0YXRlKFwic29ydFwiKTtcbiAgY29uc3QgW3RhYmxlUGFyYW0sIHNldFRhYmxlUGFyYW1dID0gdXNlUXVlcnlTdGF0ZShcInRhYmxlXCIsIHsgZGVmYXVsdFZhbHVlOiBkZWZhdWx0cy50YWJsZSB9KTtcbiAgY29uc3QgW3ZpZXdQYXJhbSwgc2V0Vmlld1BhcmFtXSA9IHVzZVF1ZXJ5U3RhdGUoXCJ2aWV3XCIsIHsgZGVmYXVsdFZhbHVlOiBkZWZhdWx0cy52aWV3IH0pO1xuXG4gIGNvbnN0IGFjdGl2ZVNjaGVtYSA9IHNjaGVtYVBhcmFtID8gc2NoZW1hc1tzY2hlbWFQYXJhbV0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGFjdGl2ZVRhYmxlcyA9IGFjdGl2ZVNjaGVtYSA/IGFjdGl2ZVNjaGVtYS50YWJsZXMgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGFjdGl2ZVRhYmxlID0gYWN0aXZlVGFibGVzICYmIHRhYmxlUGFyYW0gPyBhY3RpdmVUYWJsZXNbdGFibGVQYXJhbV0gOiB1bmRlZmluZWQ7XG5cbiAgY29uc3QgbWV0YWRhdGEgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBhY3RpdmVTY2hlbWEsXG4gICAgICBhY3RpdmVUYWJsZXMsXG4gICAgICBhY3RpdmVUYWJsZSxcbiAgICAgIGlzRmV0Y2hpbmcsXG4gICAgfSksXG4gICAgW2FjdGl2ZVNjaGVtYSwgYWN0aXZlVGFibGVzLCBhY3RpdmVUYWJsZSwgaXNGZXRjaGluZ10sXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBtZXRhZGF0YSxcbiAgICBjcmVhdGVVcmwsXG4gICAgZmlsdGVyUGFyYW0sXG4gICAgcGFnZUluZGV4UGFyYW0sXG4gICAgcGFnZVNpemVQYXJhbSxcbiAgICBzY2hlbWFQYXJhbSxcbiAgICBzb3J0UGFyYW0sXG4gICAgdGFibGVQYXJhbSxcbiAgICB2aWV3UGFyYW0sXG4gICAgc2V0RmlsdGVyUGFyYW06IHNldEZpbHRlclBhcmFtIGFzIE51cXNTZXROdWxsYWJsZVZhbHVlPHN0cmluZz4sXG4gICAgc2V0UGFnZUluZGV4UGFyYW06IHNldFBhZ2VJbmRleFBhcmFtIGFzIE51cXNTZXROdWxsYWJsZVZhbHVlPHN0cmluZz4sXG4gICAgc2V0UGFnZVNpemVQYXJhbTogc2V0UGFnZVNpemVQYXJhbSBhcyBOdXFzU2V0TnVsbGFibGVWYWx1ZTxzdHJpbmc+LFxuICAgIHNldFNjaGVtYVBhcmFtOiBzZXRTY2hlbWFQYXJhbSBhcyBOdXFzU2V0TnVsbGFibGVWYWx1ZTxzdHJpbmc+LFxuICAgIHNldFNvcnRQYXJhbTogc2V0U29ydFBhcmFtIGFzIE51cXNTZXROdWxsYWJsZVZhbHVlPHN0cmluZz4sXG4gICAgc2V0VGFibGVQYXJhbTogc2V0VGFibGVQYXJhbSBhcyBOdXFzU2V0TnVsbGFibGVWYWx1ZTxzdHJpbmc+LFxuICAgIHNldFZpZXdQYXJhbTogc2V0Vmlld1BhcmFtIGFzIE51cXNTZXROdWxsYWJsZVZhbHVlPHN0cmluZz4sXG4gIH07XG59XG5cbmNvbnN0IE5hdmlnYXRpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dDxSZXR1cm5UeXBlPHR5cGVvZiB1c2VOYXZpZ2F0aW9uSW50ZXJuYWw+IHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4vKipcbiAqIHVzZU5hdmlnYXRpb25JbnRlcm5hbCBpcyBwbGFjZWQgaW50byBhIHNpbmdsZSBjb250ZXh0IHRvIG1pbmltaXplIHJlLXJlbmRlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOYXZpZ2F0aW9uQ29udGV4dFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb25JbnRlcm5hbCgpO1xuXG4gIHJldHVybiA8TmF2aWdhdGlvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e25hdmlnYXRpb259PntjaGlsZHJlbn08L05hdmlnYXRpb25Db250ZXh0LlByb3ZpZGVyPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZU5hdmlnYXRpb24oKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZU5hdmlnYXRpb25Db250ZXh0IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBOYXZpZ2F0aW9uQ29udGV4dFByb3ZpZGVyXCIpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuIiwgImltcG9ydCB7IGNoZWNrIH0gZnJvbSBcIkBwcmlzbWEvY2hlY2twb2ludFwiO1xuaW1wb3J0IHsgUXVlcnlDbGllbnQsIFF1ZXJ5Q2xpZW50UHJvdmlkZXIgfSBmcm9tIFwiQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5XCI7XG4vLyBpbXBvcnQgeyBSZWFjdFF1ZXJ5RGV2dG9vbHMgfSBmcm9tIFwiQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5LWRldnRvb2xzXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB0eXBlIFByb3BzV2l0aENoaWxkcmVuLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgc2hvcnRVVUlEIGZyb20gXCJzaG9ydC11dWlkXCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IGhhc1dpbmRvdywgaXNDSSB9IGZyb20gXCJzdGQtZW52XCI7XG5cbmltcG9ydCB0eXBlIHsgQWRhcHRlciB9IGZyb20gXCJAL2RhdGFcIjtcblxuaW1wb3J0IHsgVG9hc3RlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL3VpL3Nvbm5lclwiO1xuaW1wb3J0IHsgY3JlYXRlVXJsLCBOYXZpZ2F0aW9uQ29udGV4dFByb3ZpZGVyIH0gZnJvbSBcIi4uL2hvb2tzL3VzZS1uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyBDdXN0b21UaGVtZSwgdXNlVGhlbWUgfSBmcm9tIFwiLi4vaG9va3MvdXNlLXRoZW1lXCI7XG5pbXBvcnQgeyBOdXFzSGFzaEFkYXB0ZXIgfSBmcm9tIFwiLi9OdXFzSGFzaEFkYXB0ZXJcIjtcbmltcG9ydCB7IFN0dWRpb0V2ZW50LCBTdHVkaW9FdmVudEJhc2UsIFN0dWRpb09wZXJhdGlvbkV2ZW50IH0gZnJvbSBcIi4vU3R1ZGlvXCI7XG5cbmRlY2xhcmUgY29uc3QgVkVSU0lPTl9JTkpFQ1RFRF9BVF9CVUlMRF9USU1FOiBzdHJpbmc7XG5cbi8qKlxuICogU3R1ZGlvIGNvbnRleHQgdmFsdWUgaW50ZXJmYWNlXG4gKi9cbmludGVyZmFjZSBTdHVkaW9Db250ZXh0VmFsdWUge1xuICBhZGFwdGVyOiBBZGFwdGVyO1xuICBvbkV2ZW50OiAoZXZlbnQ6IFN0dWRpb0V2ZW50QmFzZSkgPT4gdm9pZDtcbiAgb3BlcmF0aW9uRXZlbnRzOiBTdHVkaW9PcGVyYXRpb25FdmVudFtdO1xuICBpc0Z1bGxzY3JlZW46IGJvb2xlYW47XG4gIHRvZ2dsZUZ1bGxzY3JlZW46ICgpID0+IHZvaWQ7XG4gIGlzTmF2aWdhdGlvbk9wZW46IGJvb2xlYW47XG4gIHRvZ2dsZU5hdmlnYXRpb246ICgpID0+IHZvaWQ7XG4gIGlzRGFya01vZGU6IGJvb2xlYW47XG4gIGhhc0N1c3RvbVRoZW1lOiBib29sZWFuO1xufVxuXG5jb25zdCBxdWVyeUNsaWVudCA9IG5ldyBRdWVyeUNsaWVudCgpO1xuXG4vKipcbiAqIENvbnRleHQgZm9yIHNoYXJpbmcgU3R1ZGlvIHN0YXRlIGFjcm9zcyBjb21wb25lbnRzXG4gKi9cbmNvbnN0IFN0dWRpb0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFN0dWRpb0NvbnRleHRWYWx1ZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuZXhwb3J0IHR5cGUgU3R1ZGlvQ29udGV4dFByb3ZpZGVyUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIGFkYXB0ZXI6IEFkYXB0ZXI7XG4gIG9uRXZlbnQ/OiAoZXZlbnQ6IFN0dWRpb0V2ZW50KSA9PiB2b2lkO1xuICB0aGVtZT86IEN1c3RvbVRoZW1lIHwgc3RyaW5nO1xufT47XG5cbmV4cG9ydCBmdW5jdGlvbiBTdHVkaW9Db250ZXh0UHJvdmlkZXIocHJvcHM6IFN0dWRpb0NvbnRleHRQcm92aWRlclByb3BzKSB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIG9uRXZlbnQ6IGVtaXRFdmVudCwgYWRhcHRlciwgdGhlbWUgfSA9IHByb3BzO1xuICBjb25zdCBbaXNGdWxsc2NyZWVuLCBzZXRJc0Z1bGxzY3JlZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNOYXZpZ2F0aW9uT3Blbiwgc2V0SXNOYXZpZ2F0aW9uT3Blbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW29wZXJhdGlvbkV2ZW50cywgc2V0T3BlcmF0aW9uRXZlbnRzXSA9IHVzZVN0YXRlPFN0dWRpb09wZXJhdGlvbkV2ZW50W10+KFtdKTtcbiAgY29uc3QgW2lzRGFya01vZGUsIHNldElzRGFya01vZGVdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIC8vIFRyeSB0byBnZXQgdGhlIGluaXRpYWwgc3RhdGUgZnJvbSB0aGUgZG9jdW1lbnQgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIC8vIEluaXRpYWxpemUgZGFyayBtb2RlIHN0YXRlIGFmdGVyIGNvbXBvbmVudCBtb3VudHMgKGZvciBTU1IgY29tcGF0aWJpbGl0eSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJbml0aWFsaXplIGJhc2VkIG9uIGN1cnJlbnQgSFRNTCBjbGFzc1xuICAgIHNldElzRGFya01vZGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIikpO1xuICB9LCBbXSk7XG4gIGNvbnN0IFtzaWduYXR1cmVdID0gdXNlU3RhdGUoc2hvcnRVVUlELmdlbmVyYXRlKCkpO1xuXG4gIC8vIFVzZSB0aGUgdGhlbWUgaG9vayB0byBoYW5kbGUgY3VzdG9tIHRoZW1lc1xuICBjb25zdCB7IGhhc0N1c3RvbVRoZW1lIH0gPSB1c2VUaGVtZSh0aGVtZSwgaXNEYXJrTW9kZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBpZiB0aGUgYWRhcHRlciBoYXMgYmVlbiBjaGFuZ2VkLCB0aGVuIHdlIG5lZWQgdG8gcmVsb2FkXG4gICAgdm9pZCBxdWVyeUNsaWVudC5yZXNldFF1ZXJpZXMoeyBleGFjdDogZmFsc2UsIHF1ZXJ5S2V5OiBbXSB9KTtcbiAgfSwgW2FkYXB0ZXJdKTtcblxuICAvLyBXYXRjaCBmb3IgY2hhbmdlcyB0byB0aGUgSFRNTCBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBtdXRhdGlvbnMuZm9yRWFjaCgobXV0YXRpb24pID0+IHtcbiAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09IFwiYXR0cmlidXRlc1wiICYmIG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09IFwiY2xhc3NcIikge1xuICAgICAgICAgIGNvbnN0IGhhc0RhcmtDbGFzcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrXCIpO1xuICAgICAgICAgIHNldElzRGFya01vZGUoaGFzRGFya0NsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZUZpbHRlcjogW1wiY2xhc3NcIl0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgb25FdmVudCA9IChldmVudDogU3R1ZGlvRXZlbnRCYXNlKSA9PiB7XG4gICAgY29uc3QgeyBuYW1lLCBwYXlsb2FkIH0gPSBldmVudDtcblxuICAgIC8vIGFsd2F5cyBmb3J3YXJkIHRoZSByYXcgZXJyb3IgdG8gdGhlIHVzZXIgYXMgYSB0b2FzdFxuICAgIGlmIChuYW1lID09PSBcInN0dWRpb19vcGVyYXRpb25fZXJyb3JcIikge1xuICAgICAgLy8gdGhlc2UgY2FuIGJlIGVtaXR0ZWQgYnkgb3VyIHRhbnN0YWNrIGluZnJhXG4gICAgICBpZiAocGF5bG9hZC5lcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRvYXN0LmVycm9yKGBcIiR7cGF5bG9hZC5vcGVyYXRpb259XCIgb3BlcmF0aW9uIGZhaWxlZGAsIHtcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgbGFiZWw6IFwiQ29uc29sZVwiLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gY3JlYXRlVXJsKHsgdmlld1BhcmFtOiBcImNvbnNvbGVcIiB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnRJZCA9IHNob3J0VVVJRC5nZW5lcmF0ZSgpO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIGNvbnN0IGVucmljaGVkRXZlbnQgPSB7IC4uLmV2ZW50LCBldmVudElkLCB0aW1lc3RhbXAgfSBhcyBjb25zdCBzYXRpc2ZpZXMgU3R1ZGlvRXZlbnQ7XG5cbiAgICAvLyB1cGRhdGUgdGhlIGNvbnNvbGUgbG9nIHdlIGtlZXAgaW4gbWVtb3J5IGZvciB0aGUgdXNlclxuICAgIGlmIChlbnJpY2hlZEV2ZW50Lm5hbWUgPT09IFwic3R1ZGlvX29wZXJhdGlvbl9zdWNjZXNzXCIgfHwgZW5yaWNoZWRFdmVudC5uYW1lID09PSBcInN0dWRpb19vcGVyYXRpb25fZXJyb3JcIikge1xuICAgICAgc2V0T3BlcmF0aW9uRXZlbnRzKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldiwgZW5yaWNoZWRFdmVudF07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubGVuZ3RoID4gMTAwID8gbmV4dC5zbGljZSgwLCAxMDApIDogbmV4dDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGVtaXRFdmVudD8uKGVucmljaGVkRXZlbnQpO1xuXG4gICAgLy8gVE9ETzogYWxsb3cgdG8gb3B0LW91dCBpbiB0aGUgZnV0dXJlLCBvbiBjZXJ0YWluIHByaWNpbmcgcGxhbnMuXG4gICAgLy8gVE9ETzogdW5ibG9jayBmb3IgYWxsIGV2ZW50cyBpbiB0aGUgZnV0dXJlLlxuICAgIGlmIChuYW1lID09PSBcInN0dWRpb19sYXVuY2hlZFwiICYmIGhhc1dpbmRvdyAmJiAhaXNDSSAmJiAhaXNQcmlzbWFWU0NvZGVFeHRlbnNpb24oKSAmJiAhaXNQcmlzbWFQbGF0Zm9ybSgpKSB7XG4gICAgICB2b2lkIGNoZWNrKHtcbiAgICAgICAgYWRkaXRpb25hbERhdGE6IHtcbiAgICAgICAgICBldmVudFBheWxvYWQ6IHBheWxvYWQsXG4gICAgICAgICAgdmFyaWFudDogcHJvY2Vzcy5lbnYuQlVJTERfVkFSSUFOVCxcbiAgICAgICAgfSxcbiAgICAgICAgY29tbWFuZDogbmFtZSxcbiAgICAgICAgZXZlbnRJZCxcbiAgICAgICAgcHJvZHVjdDogXCJwcmlzbWEtc3R1ZGlvLWVtYmVkZGVkXCIsXG4gICAgICAgIHNpZ25hdHVyZSxcbiAgICAgICAgc2tpcFVwZGF0ZUNoZWNrOiB0cnVlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKHRpbWVzdGFtcCksXG4gICAgICAgIHZlcnNpb246IFZFUlNJT05fSU5KRUNURURfQVRfQlVJTERfVElNRSxcbiAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB0b2dnbGVGdWxsc2NyZWVuID0gKCkgPT4gc2V0SXNGdWxsc2NyZWVuKChwcmV2KSA9PiAhcHJldik7XG4gIGNvbnN0IHRvZ2dsZU5hdmlnYXRpb24gPSAoKSA9PiBzZXRJc05hdmlnYXRpb25PcGVuKChwcmV2KSA9PiAhcHJldik7XG4gIHJldHVybiAoXG4gICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XG4gICAgICA8VG9hc3RlciAvPlxuICAgICAgPE51cXNIYXNoQWRhcHRlcj5cbiAgICAgICAgPFN0dWRpb0NvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgIGlzRnVsbHNjcmVlbixcbiAgICAgICAgICAgIG9uRXZlbnQsXG4gICAgICAgICAgICBvcGVyYXRpb25FdmVudHMsXG4gICAgICAgICAgICB0b2dnbGVGdWxsc2NyZWVuLFxuICAgICAgICAgICAgaXNOYXZpZ2F0aW9uT3BlbixcbiAgICAgICAgICAgIHRvZ2dsZU5hdmlnYXRpb24sXG4gICAgICAgICAgICBpc0RhcmtNb2RlLFxuICAgICAgICAgICAgaGFzQ3VzdG9tVGhlbWUsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxOYXZpZ2F0aW9uQ29udGV4dFByb3ZpZGVyPntjaGlsZHJlbn08L05hdmlnYXRpb25Db250ZXh0UHJvdmlkZXI+XG4gICAgICAgIDwvU3R1ZGlvQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgIDwvTnVxc0hhc2hBZGFwdGVyPlxuICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cbiAgKTtcbn1cblxuLyoqXG4gKiBIb29rIHRvIGFjY2VzcyBTdHVkaW8gY29udGV4dFxuICogQHRocm93cyBFcnJvciBpZiB1c2VkIG91dHNpZGUgb2YgU3R1ZGlvLlByb3ZpZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdHVkaW8oKTogU3R1ZGlvQ29udGV4dFZhbHVlIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoU3R1ZGlvQ29udGV4dCk7XG5cbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYHVzZVN0dWRpb2AgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGBTdHVkaW9Db250ZXh0LlByb3ZpZGVyYFwiKTtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0O1xufVxuXG5mdW5jdGlvbiBpc1ByaXNtYVZTQ29kZUV4dGVuc2lvbigpOiBib29sZWFuIHtcbiAgcmV0dXJuIGlzVlNDb2RlRXh0ZW5zaW9uKCkgJiYgXCJfX1BWQ0VfX1wiIGluIHdpbmRvdyAmJiB3aW5kb3cuX19QVkNFX18gPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzVlNDb2RlRXh0ZW5zaW9uKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gaGFzV2luZG93ICYmIFwiYWNxdWlyZVZzQ29kZUFwaVwiIGluIHdpbmRvdyAmJiB0eXBlb2Ygd2luZG93LmFjcXVpcmVWc0NvZGVBcGkgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuZnVuY3Rpb24gaXNQcmlzbWFQbGF0Zm9ybSgpOiBib29sZWFuIHtcbiAgaWYgKCFoYXNXaW5kb3cpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCB7IGhvc3RuYW1lIH0gPSB3aW5kb3cubG9jYXRpb247XG5cbiAgcmV0dXJuIChcbiAgICAoXCJfX1BEUENQX19cIiBpbiB3aW5kb3cgJiYgd2luZG93Ll9fUERQQ1BfXyA9PT0gdHJ1ZSkgfHxcbiAgICBob3N0bmFtZS5pbmNsdWRlcyhcImNvbnNvbGUucHJpc21hLmlvXCIpIHx8XG4gICAgaG9zdG5hbWUuaW5jbHVkZXMoXCJkYXRhY2RuLndvcmtlcnMuZGV2XCIpXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgaXNDSSwgbm9kZVZlcnNpb24sIHBsYXRmb3JtLCBwcm9jZXNzLCBwcm92aWRlciB9IGZyb20gXCJzdGQtZW52XCI7XG5cbmltcG9ydCB0eXBlIHsgUHJvZHVjdCB9IGZyb20gXCIuL3Byb2R1Y3RcIjtcbmltcG9ydCB0eXBlIHsgQ2hlY2tSZXF1ZXN0SGVhZGVycywgQ2hlY2tSZXF1ZXN0UXVlcnlQYXJhbWV0ZXJzLCBNdWx0aVZhbHVlUXVlcnlQYXJhbWV0ZXJOYW1lIH0gZnJvbSBcIi4vcmVxdWVzdFwiO1xuaW1wb3J0IHR5cGUgeyBDaGVja1Jlc3BvbnNlQm9keSB9IGZyb20gXCIuL3Jlc3BvbnNlXCI7XG5pbXBvcnQgeyByZmMzMzM5IH0gZnJvbSBcIi4vcmZjMzMzOVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoZWNrT3B0aW9ucyB7XG4gIGFkZGl0aW9uYWxEYXRhPzogdW5rbm93bjtcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgcmVzb2x2ZXMgZnJvbSBgcHJvY2Vzcy5hcmNoYCBpZiBleGlzdHMsIGFuZCBmYWxscyBiYWNrIHRvIGAndW5rbm93bidgLlxuICAgKi9cbiAgYXJjaGl0ZWN0dXJlPzogTm9kZUpTLkFyY2hpdGVjdHVyZSB8IChzdHJpbmcgJiB7fSk7XG5cbiAgLyoqXG4gICAqIFRoZSBVUkwgdG8gdXNlIGZvciB0aGUgY2hlY2suXG4gICAqXG4gICAqIEBkZWZhdWx0IFwiaHR0cHM6Ly9jaGVja3BvaW50LnByaXNtYS5pb1wiXG4gICAqL1xuICBiYXNlVVJMPzogc3RyaW5nIHwgVVJMO1xuXG4gIGNsaUluc3RhbGxUeXBlPzogXCJnbG9iYWxcIiB8IFwibG9jYWxcIjtcblxuICBjbGlQYXRoSGFzaD86IHN0cmluZztcblxuICBjb21tYW5kPzogc3RyaW5nO1xuXG4gIGRlYnVnPzogYm9vbGVhbjtcblxuICBldmVudElkPzogc3RyaW5nO1xuXG4gIGxvY2FsVGltZXN0YW1wPzogRGF0ZTtcblxuICBvcm1EYXRhc291cmNlUHJvdmlkZXI/OiBzdHJpbmc7XG5cbiAgb3JtR2VuZXJhdG9yUHJvdmlkZXJzPzogc3RyaW5nW107XG5cbiAgb3JtUHJldmlld0ZlYXR1cmVzPzogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQsIHJlc29sdmVzIGZyb20gYHByb2Nlc3MucGxhdGZvcm1gIGlmIGV4aXN0cywgYW5kIGZhbGxzIGJhY2sgdG8gYCd1bmtub3duJ2AuXG4gICAqL1xuICBwbGF0Zm9ybT86IE5vZGVKUy5QbGF0Zm9ybSB8IChzdHJpbmcgJiB7fSk7XG5cbiAgcHJldmlvdXNFdmVudElkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvZHVjdCB0byBjaGVjayBmb3IgdXBkYXRlcy5cbiAgICovXG4gIHByb2R1Y3Q6IFByb2R1Y3Q7XG5cbiAgcHJvamVjdEhhc2g/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgY29uc2lzdGVudCB1c2VyIHNpZ25hdHVyZSwgaWRlYWxseSBhY3Jvc3MgcHJvZHVjdHMuXG4gICAqL1xuICBzaWduYXR1cmU6IHN0cmluZztcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB3aWxsIG5vdCBjaGVjayBmb3IgdXBkYXRlcy5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHNraXBVcGRhdGVDaGVjaz86IGJvb2xlYW47XG5cbiAgdGltZXN0YW1wPzogRGF0ZTtcblxuICAvKipcbiAgICogVGhlIHZlcnNpb24gb2YgdGhlIHByb2R1Y3QgdG8gY2hlY2suXG4gICAqL1xuICB2ZXJzaW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBCQVNFX1BBVEhfUFJPRCA9IFwiaHR0cHM6Ly9jaGVja3BvaW50LnByaXNtYS5pby92MVwiO1xuZXhwb3J0IGNvbnN0IEJBU0VfUEFUSF9TVEFHSU5HID0gXCJodHRwczovL2NoZWNrcG9pbnQtc3RhZ2luZy5wcmlzbWEuaW9cIjtcblxuZXhwb3J0IGNvbnN0IENIRUNLX1BBVEhOQU1FID0gXCJjaGVjay86cHJvZHVjdFwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2sob3B0aW9uczogQ2hlY2tPcHRpb25zKTogUHJvbWlzZTxDaGVja1Jlc3BvbnNlQm9keT4ge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKENIRUNLX1BBVEhOQU1FLCBvcHRpb25zLmJhc2VVUkwgfHwgQkFTRV9QQVRIX1BST0QpO1xuXG4gIHVybC5wYXRobmFtZSA9IHVybC5wYXRobmFtZS5yZXBsYWNlKFwiOnByb2R1Y3RcIiwgb3B0aW9ucy5wcm9kdWN0KTtcblxuICBjb25zdCB7IGFkZGl0aW9uYWxEYXRhIH0gPSBvcHRpb25zO1xuXG4gIHVybC5zZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKFtcbiAgICAuLi5PYmplY3QuZW50cmllcyh7XG4gICAgICBhcmNoOiBvcHRpb25zLmFyY2hpdGVjdHVyZSB8fCBwcm9jZXNzLmFyY2ggfHwgXCJ1bmtub3duXCIsXG4gICAgICBjaGVja19pZl91cGRhdGVfYXZhaWxhYmxlOiBgJHtvcHRpb25zLnNraXBVcGRhdGVDaGVjayAhPT0gdHJ1ZX1gLFxuICAgICAgY2k6IGAke2lzQ0l9YCxcbiAgICAgIGNpX25hbWU6IHByb3ZpZGVyLFxuICAgICAgY2xpX2luc3RhbGxfdHlwZTogb3B0aW9ucy5jbGlJbnN0YWxsVHlwZSB8fCAoXCJcIiBhcyBuZXZlciksXG4gICAgICBjbGlfcGF0aF9oYXNoOiBvcHRpb25zLmNsaVBhdGhIYXNoIHx8IFwiXCIsXG4gICAgICBjbGllbnRfZXZlbnRfaWQ6IG9wdGlvbnMuZXZlbnRJZCB8fCBcIlwiLFxuICAgICAgY29tbWFuZDogb3B0aW9ucy5jb21tYW5kIHx8IFwiXCIsXG4gICAgICBpbmZvcm1hdGlvbjpcbiAgICAgICAgdHlwZW9mIGFkZGl0aW9uYWxEYXRhID09PSBcInN0cmluZ1wiID8gYWRkaXRpb25hbERhdGEgOiBhZGRpdGlvbmFsRGF0YSA/IEpTT04uc3RyaW5naWZ5KGFkZGl0aW9uYWxEYXRhKSA6IFwiXCIsXG4gICAgICBsb2NhbF90aW1lc3RhbXA6IHJmYzMzMzkob3B0aW9ucy50aW1lc3RhbXApLFxuICAgICAgbm9kZV92ZXJzaW9uOiBub2RlVmVyc2lvbiB8fCBcIjAuMC4wXCIsXG4gICAgICBvczogb3B0aW9ucy5wbGF0Zm9ybSB8fCBwbGF0Zm9ybSB8fCBcInVua25vd25cIixcbiAgICAgIHByZXZpb3VzX2NsaWVudF9ldmVudF9pZDogb3B0aW9ucy5wcmV2aW91c0V2ZW50SWQgfHwgXCJcIixcbiAgICAgIHByb2plY3RfaGFzaDogb3B0aW9ucy5wcm9qZWN0SGFzaCB8fCBcIlwiLFxuICAgICAgc2lnbmF0dXJlOiBvcHRpb25zLnNpZ25hdHVyZSxcbiAgICAgIHZlcnNpb246IG9wdGlvbnMudmVyc2lvbixcbiAgICB9IHNhdGlzZmllcyBPbWl0PENoZWNrUmVxdWVzdFF1ZXJ5UGFyYW1ldGVycywgTXVsdGlWYWx1ZVF1ZXJ5UGFyYW1ldGVyTmFtZTxDaGVja1JlcXVlc3RRdWVyeVBhcmFtZXRlcnM+PiksXG4gICAgLi4uZ2V0UXVlcnlQYXJhbWV0ZXJMaXN0UGFpcnMoXCJzY2hlbWFfZ2VuZXJhdG9yc19wcm92aWRlcnNcIiwgb3B0aW9ucy5vcm1HZW5lcmF0b3JQcm92aWRlcnMpLFxuICAgIC4uLmdldFF1ZXJ5UGFyYW1ldGVyTGlzdFBhaXJzKFwic2NoZW1hX3ByZXZpZXdfZmVhdHVyZXNcIiwgb3B0aW9ucy5vcm1QcmV2aWV3RmVhdHVyZXMpLFxuICAgIC4uLmdldFF1ZXJ5UGFyYW1ldGVyTGlzdFBhaXJzKFwic2NoZW1hX3Byb3ZpZGVyc1wiLCBbb3B0aW9ucy5vcm1EYXRhc291cmNlUHJvdmlkZXJdKSxcbiAgXSkudG9TdHJpbmcoKTtcblxuICBpZiAob3B0aW9ucy5kZWJ1Zykge1xuICAgIGNvbnNvbGUuZGVidWcoXCJTZW5kaW5nIHJlcXVlc3QgdG86XCIsIHVybC50b1N0cmluZygpKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgaGVhZGVyczoge1xuICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiVXNlci1BZ2VudFwiOiBcInByaXNtYS9qcy1jaGVja3BvaW50XCIsXG4gICAgfSBzYXRpc2ZpZXMgQ2hlY2tSZXF1ZXN0SGVhZGVycyxcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGNoZWNrcG9pbnQgcmVzcG9uc2UgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICByZXR1cm4gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgbmV2ZXI7XG59XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1ldGVyTGlzdFBhaXJzKFxuICBwYXJhbWV0ZXJOYW1lOiBNdWx0aVZhbHVlUXVlcnlQYXJhbWV0ZXJOYW1lPENoZWNrUmVxdWVzdFF1ZXJ5UGFyYW1ldGVycz4sXG4gIHZhbHVlczogKHN0cmluZyB8IHVuZGVmaW5lZClbXSB8IHVuZGVmaW5lZCxcbik6IFtzdHJpbmcsIHN0cmluZ11bXSB7XG4gIHJldHVybiAoXG4gICAgdmFsdWVzXG4gICAgICA/LmZpbHRlcihCb29sZWFuKVxuICAgICAgLm1hcChcbiAgICAgICAgKHZhbHVlKSA9PlxuICAgICAgICAgIFtwYXJhbWV0ZXJOYW1lLCB2YWx1ZSFdIHNhdGlzZmllcyBbTXVsdGlWYWx1ZVF1ZXJ5UGFyYW1ldGVyTmFtZTxDaGVja1JlcXVlc3RRdWVyeVBhcmFtZXRlcnM+LCBzdHJpbmddLFxuICAgICAgKSB8fCBbXVxuICApO1xufVxuIiwgImNvbnN0IHI9T2JqZWN0LmNyZWF0ZShudWxsKSxpPWU9Pmdsb2JhbFRoaXMucHJvY2Vzcz8uZW52fHxpbXBvcnQubWV0YS5lbnZ8fGdsb2JhbFRoaXMuRGVubz8uZW52LnRvT2JqZWN0KCl8fGdsb2JhbFRoaXMuX19lbnZfX3x8KGU/cjpnbG9iYWxUaGlzKSxvPW5ldyBQcm94eShyLHtnZXQoZSxzKXtyZXR1cm4gaSgpW3NdPz9yW3NdfSxoYXMoZSxzKXtjb25zdCBFPWkoKTtyZXR1cm4gcyBpbiBFfHxzIGluIHJ9LHNldChlLHMsRSl7Y29uc3QgQj1pKCEwKTtyZXR1cm4gQltzXT1FLCEwfSxkZWxldGVQcm9wZXJ0eShlLHMpe2lmKCFzKXJldHVybiExO2NvbnN0IEU9aSghMCk7cmV0dXJuIGRlbGV0ZSBFW3NdLCEwfSxvd25LZXlzKCl7Y29uc3QgZT1pKCEwKTtyZXR1cm4gT2JqZWN0LmtleXMoZSl9fSksdD10eXBlb2YgcHJvY2VzczxcInVcIiYmcHJvY2Vzcy5lbnYmJnByb2Nlc3MuZW52Lk5PREVfRU5WfHxcIlwiLGY9W1tcIkFQUFZFWU9SXCJdLFtcIkFXU19BTVBMSUZZXCIsXCJBV1NfQVBQX0lEXCIse2NpOiEwfV0sW1wiQVpVUkVfUElQRUxJTkVTXCIsXCJTWVNURU1fVEVBTUZPVU5EQVRJT05DT0xMRUNUSU9OVVJJXCJdLFtcIkFaVVJFX1NUQVRJQ1wiLFwiSU5QVVRfQVpVUkVfU1RBVElDX1dFQl9BUFBTX0FQSV9UT0tFTlwiXSxbXCJBUFBDSVJDTEVcIixcIkFDX0FQUENJUkNMRVwiXSxbXCJCQU1CT09cIixcImJhbWJvb19wbGFuS2V5XCJdLFtcIkJJVEJVQ0tFVFwiLFwiQklUQlVDS0VUX0NPTU1JVFwiXSxbXCJCSVRSSVNFXCIsXCJCSVRSSVNFX0lPXCJdLFtcIkJVRERZXCIsXCJCVUREWV9XT1JLU1BBQ0VfSURcIl0sW1wiQlVJTERLSVRFXCJdLFtcIkNJUkNMRVwiLFwiQ0lSQ0xFQ0lcIl0sW1wiQ0lSUlVTXCIsXCJDSVJSVVNfQ0lcIl0sW1wiQ0xPVURGTEFSRV9QQUdFU1wiLFwiQ0ZfUEFHRVNcIix7Y2k6ITB9XSxbXCJDTE9VREZMQVJFX1dPUktFUlNcIixcIldPUktFUlNfQ0lcIix7Y2k6ITB9XSxbXCJDT0RFQlVJTERcIixcIkNPREVCVUlMRF9CVUlMRF9BUk5cIl0sW1wiQ09ERUZSRVNIXCIsXCJDRl9CVUlMRF9JRFwiXSxbXCJEUk9ORVwiXSxbXCJEUk9ORVwiLFwiRFJPTkVfQlVJTERfRVZFTlRcIl0sW1wiRFNBUklcIl0sW1wiR0lUSFVCX0FDVElPTlNcIl0sW1wiR0lUTEFCXCIsXCJHSVRMQUJfQ0lcIl0sW1wiR0lUTEFCXCIsXCJDSV9NRVJHRV9SRVFVRVNUX0lEXCJdLFtcIkdPQ0RcIixcIkdPX1BJUEVMSU5FX0xBQkVMXCJdLFtcIkxBWUVSQ0lcIl0sW1wiSFVEU09OXCIsXCJIVURTT05fVVJMXCJdLFtcIkpFTktJTlNcIixcIkpFTktJTlNfVVJMXCJdLFtcIk1BR05VTVwiXSxbXCJORVRMSUZZXCJdLFtcIk5FVExJRllcIixcIk5FVExJRllfTE9DQUxcIix7Y2k6ITF9XSxbXCJORVZFUkNPREVcIl0sW1wiUkVOREVSXCJdLFtcIlNBSUxcIixcIlNBSUxDSVwiXSxbXCJTRU1BUEhPUkVcIl0sW1wiU0NSRVdEUklWRVJcIl0sW1wiU0hJUFBBQkxFXCJdLFtcIlNPTEFOT1wiLFwiVERESVVNXCJdLFtcIlNUUklERVJcIl0sW1wiVEVBTUNJVFlcIixcIlRFQU1DSVRZX1ZFUlNJT05cIl0sW1wiVFJBVklTXCJdLFtcIlZFUkNFTFwiLFwiTk9XX0JVSUxERVJcIl0sW1wiVkVSQ0VMXCIsXCJWRVJDRUxcIix7Y2k6ITF9XSxbXCJWRVJDRUxcIixcIlZFUkNFTF9FTlZcIix7Y2k6ITF9XSxbXCJBUFBDRU5URVJcIixcIkFQUENFTlRFUl9CVUlMRF9JRFwiXSxbXCJDT0RFU0FOREJPWFwiLFwiQ09ERVNBTkRCT1hfU1NFXCIse2NpOiExfV0sW1wiQ09ERVNBTkRCT1hcIixcIkNPREVTQU5EQk9YX0hPU1RcIix7Y2k6ITF9XSxbXCJTVEFDS0JMSVRaXCJdLFtcIlNUT1JNS0lUXCJdLFtcIkNMRUFWUlwiXSxbXCJaRUFCVVJcIl0sW1wiQ09ERVNQSEVSRVwiLFwiQ09ERVNQSEVSRV9BUFBfSURcIix7Y2k6ITB9XSxbXCJSQUlMV0FZXCIsXCJSQUlMV0FZX1BST0pFQ1RfSURcIl0sW1wiUkFJTFdBWVwiLFwiUkFJTFdBWV9TRVJWSUNFX0lEXCJdLFtcIkRFTk8tREVQTE9ZXCIsXCJERU5PX0RFUExPWU1FTlRfSURcIl0sW1wiRklSRUJBU0VfQVBQX0hPU1RJTkdcIixcIkZJUkVCQVNFX0FQUF9IT1NUSU5HXCIse2NpOiEwfV1dO2Z1bmN0aW9uIGIoKXtpZihnbG9iYWxUaGlzLnByb2Nlc3M/LmVudilmb3IoY29uc3QgZSBvZiBmKXtjb25zdCBzPWVbMV18fGVbMF07aWYoZ2xvYmFsVGhpcy5wcm9jZXNzPy5lbnZbc10pcmV0dXJue25hbWU6ZVswXS50b0xvd2VyQ2FzZSgpLC4uLmVbMl19fXJldHVybiBnbG9iYWxUaGlzLnByb2Nlc3M/LmVudj8uU0hFTEw9PT1cIi9iaW4vanNoXCImJmdsb2JhbFRoaXMucHJvY2Vzcz8udmVyc2lvbnM/LndlYmNvbnRhaW5lcj97bmFtZTpcInN0YWNrYmxpdHpcIixjaTohMX06e25hbWU6XCJcIixjaTohMX19Y29uc3QgbD1iKCkscD1sLm5hbWU7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZT9lIT09XCJmYWxzZVwiOiExfWNvbnN0IEk9Z2xvYmFsVGhpcy5wcm9jZXNzPy5wbGF0Zm9ybXx8XCJcIixUPW4oby5DSSl8fGwuY2khPT0hMSxSPW4oZ2xvYmFsVGhpcy5wcm9jZXNzPy5zdGRvdXQmJmdsb2JhbFRoaXMucHJvY2Vzcz8uc3Rkb3V0LmlzVFRZKSxVPXR5cGVvZiB3aW5kb3c8XCJ1XCIsZD1uKG8uREVCVUcpLGE9dD09PVwidGVzdFwifHxuKG8uVEVTVCksZz10PT09XCJwcm9kdWN0aW9uXCIsaD10PT09XCJkZXZcInx8dD09PVwiZGV2ZWxvcG1lbnRcIix2PW4oby5NSU5JTUFMKXx8VHx8YXx8IVIsQT0vXndpbi9pLnRlc3QoSSksTT0vXmxpbnV4L2kudGVzdChJKSxtPS9eZGFyd2luL2kudGVzdChJKSxZPSFuKG8uTk9fQ09MT1IpJiYobihvLkZPUkNFX0NPTE9SKXx8KFJ8fEEpJiZvLlRFUk0hPT1cImR1bWJcInx8VCksQz0oZ2xvYmFsVGhpcy5wcm9jZXNzPy52ZXJzaW9ucz8ubm9kZXx8XCJcIikucmVwbGFjZSgvXnYvLFwiXCIpfHxudWxsLFY9TnVtYmVyKEM/LnNwbGl0KFwiLlwiKVswXSl8fG51bGwsVz1nbG9iYWxUaGlzLnByb2Nlc3N8fE9iamVjdC5jcmVhdGUobnVsbCksXz17dmVyc2lvbnM6e319LHk9bmV3IFByb3h5KFcse2dldChlLHMpe2lmKHM9PT1cImVudlwiKXJldHVybiBvO2lmKHMgaW4gZSlyZXR1cm4gZVtzXTtpZihzIGluIF8pcmV0dXJuIF9bc119fSksTz1nbG9iYWxUaGlzLnByb2Nlc3M/LnJlbGVhc2U/Lm5hbWU9PT1cIm5vZGVcIixjPSEhZ2xvYmFsVGhpcy5CdW58fCEhZ2xvYmFsVGhpcy5wcm9jZXNzPy52ZXJzaW9ucz8uYnVuLEQ9ISFnbG9iYWxUaGlzLkRlbm8sTD0hIWdsb2JhbFRoaXMuZmFzdGx5LFM9ISFnbG9iYWxUaGlzLk5ldGxpZnksdT0hIWdsb2JhbFRoaXMuRWRnZVJ1bnRpbWUsTj1nbG9iYWxUaGlzLm5hdmlnYXRvcj8udXNlckFnZW50PT09XCJDbG91ZGZsYXJlLVdvcmtlcnNcIixGPVtbUyxcIm5ldGxpZnlcIl0sW3UsXCJlZGdlLWxpZ2h0XCJdLFtOLFwid29ya2VyZFwiXSxbTCxcImZhc3RseVwiXSxbRCxcImRlbm9cIl0sW2MsXCJidW5cIl0sW08sXCJub2RlXCJdXTtmdW5jdGlvbiBHKCl7Y29uc3QgZT1GLmZpbmQocz0+c1swXSk7aWYoZSlyZXR1cm57bmFtZTplWzFdfX1jb25zdCBQPUcoKSxLPVA/Lm5hbWV8fFwiXCI7ZXhwb3J0e28gYXMgZW52LFIgYXMgaGFzVFRZLFUgYXMgaGFzV2luZG93LGMgYXMgaXNCdW4sVCBhcyBpc0NJLFkgYXMgaXNDb2xvclN1cHBvcnRlZCxkIGFzIGlzRGVidWcsRCBhcyBpc0Rlbm8saCBhcyBpc0RldmVsb3BtZW50LHUgYXMgaXNFZGdlTGlnaHQsTCBhcyBpc0Zhc3RseSxNIGFzIGlzTGludXgsbSBhcyBpc01hY09TLHYgYXMgaXNNaW5pbWFsLFMgYXMgaXNOZXRsaWZ5LE8gYXMgaXNOb2RlLGcgYXMgaXNQcm9kdWN0aW9uLGEgYXMgaXNUZXN0LEEgYXMgaXNXaW5kb3dzLE4gYXMgaXNXb3JrZXJkLHQgYXMgbm9kZUVOVixWIGFzIG5vZGVNYWpvclZlcnNpb24sQyBhcyBub2RlVmVyc2lvbixJIGFzIHBsYXRmb3JtLHkgYXMgcHJvY2VzcyxwIGFzIHByb3ZpZGVyLGwgYXMgcHJvdmlkZXJJbmZvLEsgYXMgcnVudGltZSxQIGFzIHJ1bnRpbWVJbmZvfTtcbiIsICIvKipcbiAqIFJldHVybnMgYW4gcmZjMzMzOSBjb21wbGlhbnQgbG9jYWwgZGF0ZSBzdHJpbmcgd2l0aCB0aW1lem9uZS5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgdW5mb3J0dW5hdGVseSBuZWNlc3NhcnkgYmVjYXVzZSBEYXRlLnRvSVNPU3RyaW5nKCkgYWx3YXlzIHJldHVybnMgdGhlIHRpbWUgaW4gVVRDLlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm4gYW4gUkZDMzMzOSBmb3JtYXR0ZWQgc3RyaW5nIGluIHRoZSB1c2VyJ3MgbG9jYWwgdGltZSB6b25lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmZjMzMzOShkYXRlOiBEYXRlID0gbmV3IERhdGUoKSk6IHN0cmluZyB7XG4gIHJldHVybiBgJHtzaG9ydERhdGUoZGF0ZSl9VCR7dGltZShkYXRlKX0ke3RpbWV6b25lT2Zmc2V0KGRhdGUpfWA7XG59XG5cbmZ1bmN0aW9uIHNob3J0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgcmV0dXJuIFtkYXRlLmdldEZ1bGxZZWFyKCksIGRvdWJsZURpZ2l0cyhkYXRlLmdldE1vbnRoKCkgKyAxKSwgZG91YmxlRGlnaXRzKGRhdGUuZ2V0RGF0ZSgpKV0uam9pbihcIi1cIik7XG59XG5cbmZ1bmN0aW9uIHRpbWUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIHJldHVybiBbZG91YmxlRGlnaXRzKGRhdGUuZ2V0SG91cnMoKSksIGRvdWJsZURpZ2l0cyhkYXRlLmdldE1pbnV0ZXMoKSksIGRvdWJsZURpZ2l0cyhkYXRlLmdldFNlY29uZHMoKSldLmpvaW4oXCI6XCIpO1xufVxuXG5mdW5jdGlvbiB0aW1lem9uZU9mZnNldChkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3Qgb2Zmc2V0TWludXRlcyA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICBpZiAoIW9mZnNldE1pbnV0ZXMpIHtcbiAgICByZXR1cm4gXCJaXCI7XG4gIH1cblxuICBjb25zdCBhYnNvbHV0ZU9mZnNldE1pbnV0ZXMgPSBNYXRoLmFicyhvZmZzZXRNaW51dGVzKTtcblxuICBjb25zdCBhYnNvbHV0ZU9mZnNldEhvdXJzID0gTWF0aC5mbG9vcihhYnNvbHV0ZU9mZnNldE1pbnV0ZXMgLyA2MCk7XG5cbiAgY29uc3QgYWJzb2x1dGVPZmZzZXRNaW51dGVzSW5Ib3VyID0gYWJzb2x1dGVPZmZzZXRNaW51dGVzICUgNjA7XG5cbiAgcmV0dXJuIGAke29mZnNldE1pbnV0ZXMgPiAwID8gXCItXCIgOiBcIitcIn0ke2RvdWJsZURpZ2l0cyhhYnNvbHV0ZU9mZnNldEhvdXJzKX06JHtkb3VibGVEaWdpdHMoYWJzb2x1dGVPZmZzZXRNaW51dGVzSW5Ib3VyKX1gO1xufVxuXG5mdW5jdGlvbiBkb3VibGVEaWdpdHModmFsdWU6IG51bWJlcik6IHN0cmluZyB7XG4gIHJldHVybiBTdHJpbmcodmFsdWUpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbn1cbiIsICJleHBvcnQgY2xhc3MgU3Vic2NyaWJhYmxlPFRMaXN0ZW5lciBleHRlbmRzIEZ1bmN0aW9uPiB7XG4gIHByb3RlY3RlZCBsaXN0ZW5lcnMgPSBuZXcgU2V0PFRMaXN0ZW5lcj4oKVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3Vic2NyaWJlID0gdGhpcy5zdWJzY3JpYmUuYmluZCh0aGlzKVxuICB9XG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiBUTGlzdGVuZXIpOiAoKSA9PiB2b2lkIHtcbiAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpXG5cbiAgICB0aGlzLm9uU3Vic2NyaWJlKClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpXG4gICAgICB0aGlzLm9uVW5zdWJzY3JpYmUoKVxuICAgIH1cbiAgfVxuXG4gIGhhc0xpc3RlbmVycygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnMuc2l6ZSA+IDBcbiAgfVxuXG4gIHByb3RlY3RlZCBvblN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICAvLyBEbyBub3RoaW5nXG4gIH1cblxuICBwcm90ZWN0ZWQgb25VbnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICAvLyBEbyBub3RoaW5nXG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gIERlZmF1bHRFcnJvcixcbiAgRW5hYmxlZCxcbiAgRmV0Y2hTdGF0dXMsXG4gIE11dGF0aW9uS2V5LFxuICBNdXRhdGlvblN0YXR1cyxcbiAgUXVlcnlGdW5jdGlvbixcbiAgUXVlcnlLZXksXG4gIFF1ZXJ5T3B0aW9ucyxcbiAgU3RhbGVUaW1lLFxufSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBNdXRhdGlvbiB9IGZyb20gJy4vbXV0YXRpb24nXG5pbXBvcnQgdHlwZSB7IEZldGNoT3B0aW9ucywgUXVlcnkgfSBmcm9tICcuL3F1ZXJ5J1xuXG4vLyBUWVBFU1xuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5RmlsdGVyczxcbiAgVFF1ZXJ5Rm5EYXRhID0gdW5rbm93bixcbiAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgVFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleSxcbj4ge1xuICAvKipcbiAgICogRmlsdGVyIHRvIGFjdGl2ZSBxdWVyaWVzLCBpbmFjdGl2ZSBxdWVyaWVzIG9yIGFsbCBxdWVyaWVzXG4gICAqL1xuICB0eXBlPzogUXVlcnlUeXBlRmlsdGVyXG4gIC8qKlxuICAgKiBNYXRjaCBxdWVyeSBrZXkgZXhhY3RseVxuICAgKi9cbiAgZXhhY3Q/OiBib29sZWFuXG4gIC8qKlxuICAgKiBJbmNsdWRlIHF1ZXJpZXMgbWF0Y2hpbmcgdGhpcyBwcmVkaWNhdGUgZnVuY3Rpb25cbiAgICovXG4gIHByZWRpY2F0ZT86IChxdWVyeTogUXVlcnk8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+KSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBJbmNsdWRlIHF1ZXJpZXMgbWF0Y2hpbmcgdGhpcyBxdWVyeSBrZXlcbiAgICovXG4gIHF1ZXJ5S2V5PzogVFF1ZXJ5S2V5XG4gIC8qKlxuICAgKiBJbmNsdWRlIG9yIGV4Y2x1ZGUgc3RhbGUgcXVlcmllc1xuICAgKi9cbiAgc3RhbGU/OiBib29sZWFuXG4gIC8qKlxuICAgKiBJbmNsdWRlIHF1ZXJpZXMgbWF0Y2hpbmcgdGhlaXIgZmV0Y2hTdGF0dXNcbiAgICovXG4gIGZldGNoU3RhdHVzPzogRmV0Y2hTdGF0dXNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvbkZpbHRlcnM8XG4gIFREYXRhID0gdW5rbm93bixcbiAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICBUVmFyaWFibGVzID0gdW5rbm93bixcbiAgVENvbnRleHQgPSB1bmtub3duLFxuPiB7XG4gIC8qKlxuICAgKiBNYXRjaCBtdXRhdGlvbiBrZXkgZXhhY3RseVxuICAgKi9cbiAgZXhhY3Q/OiBib29sZWFuXG4gIC8qKlxuICAgKiBJbmNsdWRlIG11dGF0aW9ucyBtYXRjaGluZyB0aGlzIHByZWRpY2F0ZSBmdW5jdGlvblxuICAgKi9cbiAgcHJlZGljYXRlPzogKFxuICAgIG11dGF0aW9uOiBNdXRhdGlvbjxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4sXG4gICkgPT4gYm9vbGVhblxuICAvKipcbiAgICogSW5jbHVkZSBtdXRhdGlvbnMgbWF0Y2hpbmcgdGhpcyBtdXRhdGlvbiBrZXlcbiAgICovXG4gIG11dGF0aW9uS2V5PzogTXV0YXRpb25LZXlcbiAgLyoqXG4gICAqIEZpbHRlciBieSBtdXRhdGlvbiBzdGF0dXNcbiAgICovXG4gIHN0YXR1cz86IE11dGF0aW9uU3RhdHVzXG59XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZXI8VElucHV0LCBUT3V0cHV0PiA9IFRPdXRwdXQgfCAoKGlucHV0OiBUSW5wdXQpID0+IFRPdXRwdXQpXG5cbmV4cG9ydCB0eXBlIFF1ZXJ5VHlwZUZpbHRlciA9ICdhbGwnIHwgJ2FjdGl2ZScgfCAnaW5hY3RpdmUnXG5cbi8vIFVUSUxTXG5cbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICdEZW5vJyBpbiBnbG9iYWxUaGlzXG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCk6IHZvaWRcbmV4cG9ydCBmdW5jdGlvbiBub29wKCk6IHVuZGVmaW5lZFxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25hbFVwZGF0ZTxUSW5wdXQsIFRPdXRwdXQ+KFxuICB1cGRhdGVyOiBVcGRhdGVyPFRJbnB1dCwgVE91dHB1dD4sXG4gIGlucHV0OiBUSW5wdXQsXG4pOiBUT3V0cHV0IHtcbiAgcmV0dXJuIHR5cGVvZiB1cGRhdGVyID09PSAnZnVuY3Rpb24nXG4gICAgPyAodXBkYXRlciBhcyAoXzogVElucHV0KSA9PiBUT3V0cHV0KShpbnB1dClcbiAgICA6IHVwZGF0ZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRUaW1lb3V0KHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgbnVtYmVyIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSAhPT0gSW5maW5pdHlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVVbnRpbFN0YWxlKHVwZGF0ZWRBdDogbnVtYmVyLCBzdGFsZVRpbWU/OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5tYXgodXBkYXRlZEF0ICsgKHN0YWxlVGltZSB8fCAwKSAtIERhdGUubm93KCksIDApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlU3RhbGVUaW1lPFxuICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICBURXJyb3IgPSBEZWZhdWx0RXJyb3IsXG4gIFREYXRhID0gVFF1ZXJ5Rm5EYXRhLFxuICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuPihcbiAgc3RhbGVUaW1lOiB1bmRlZmluZWQgfCBTdGFsZVRpbWU8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuICBxdWVyeTogUXVlcnk8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHR5cGVvZiBzdGFsZVRpbWUgPT09ICdmdW5jdGlvbicgPyBzdGFsZVRpbWUocXVlcnkpIDogc3RhbGVUaW1lXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRW5hYmxlZDxcbiAgVFF1ZXJ5Rm5EYXRhID0gdW5rbm93bixcbiAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgVFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleSxcbj4oXG4gIGVuYWJsZWQ6IHVuZGVmaW5lZCB8IEVuYWJsZWQ8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuICBxdWVyeTogUXVlcnk8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB0eXBlb2YgZW5hYmxlZCA9PT0gJ2Z1bmN0aW9uJyA/IGVuYWJsZWQocXVlcnkpIDogZW5hYmxlZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hRdWVyeShcbiAgZmlsdGVyczogUXVlcnlGaWx0ZXJzLFxuICBxdWVyeTogUXVlcnk8YW55LCBhbnksIGFueSwgYW55Pixcbik6IGJvb2xlYW4ge1xuICBjb25zdCB7XG4gICAgdHlwZSA9ICdhbGwnLFxuICAgIGV4YWN0LFxuICAgIGZldGNoU3RhdHVzLFxuICAgIHByZWRpY2F0ZSxcbiAgICBxdWVyeUtleSxcbiAgICBzdGFsZSxcbiAgfSA9IGZpbHRlcnNcblxuICBpZiAocXVlcnlLZXkpIHtcbiAgICBpZiAoZXhhY3QpIHtcbiAgICAgIGlmIChxdWVyeS5xdWVyeUhhc2ggIT09IGhhc2hRdWVyeUtleUJ5T3B0aW9ucyhxdWVyeUtleSwgcXVlcnkub3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghcGFydGlhbE1hdGNoS2V5KHF1ZXJ5LnF1ZXJ5S2V5LCBxdWVyeUtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlICE9PSAnYWxsJykge1xuICAgIGNvbnN0IGlzQWN0aXZlID0gcXVlcnkuaXNBY3RpdmUoKVxuICAgIGlmICh0eXBlID09PSAnYWN0aXZlJyAmJiAhaXNBY3RpdmUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2luYWN0aXZlJyAmJiBpc0FjdGl2ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBzdGFsZSA9PT0gJ2Jvb2xlYW4nICYmIHF1ZXJ5LmlzU3RhbGUoKSAhPT0gc3RhbGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGlmIChmZXRjaFN0YXR1cyAmJiBmZXRjaFN0YXR1cyAhPT0gcXVlcnkuc3RhdGUuZmV0Y2hTdGF0dXMpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGlmIChwcmVkaWNhdGUgJiYgIXByZWRpY2F0ZShxdWVyeSkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaE11dGF0aW9uKFxuICBmaWx0ZXJzOiBNdXRhdGlvbkZpbHRlcnMsXG4gIG11dGF0aW9uOiBNdXRhdGlvbjxhbnksIGFueT4sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgeyBleGFjdCwgc3RhdHVzLCBwcmVkaWNhdGUsIG11dGF0aW9uS2V5IH0gPSBmaWx0ZXJzXG4gIGlmIChtdXRhdGlvbktleSkge1xuICAgIGlmICghbXV0YXRpb24ub3B0aW9ucy5tdXRhdGlvbktleSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmIChleGFjdCkge1xuICAgICAgaWYgKGhhc2hLZXkobXV0YXRpb24ub3B0aW9ucy5tdXRhdGlvbktleSkgIT09IGhhc2hLZXkobXV0YXRpb25LZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXBhcnRpYWxNYXRjaEtleShtdXRhdGlvbi5vcHRpb25zLm11dGF0aW9uS2V5LCBtdXRhdGlvbktleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0dXMgJiYgbXV0YXRpb24uc3RhdGUuc3RhdHVzICE9PSBzdGF0dXMpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGlmIChwcmVkaWNhdGUgJiYgIXByZWRpY2F0ZShtdXRhdGlvbikpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNoUXVlcnlLZXlCeU9wdGlvbnM8VFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleT4oXG4gIHF1ZXJ5S2V5OiBUUXVlcnlLZXksXG4gIG9wdGlvbnM/OiBQaWNrPFF1ZXJ5T3B0aW9uczxhbnksIGFueSwgYW55LCBhbnk+LCAncXVlcnlLZXlIYXNoRm4nPixcbik6IHN0cmluZyB7XG4gIGNvbnN0IGhhc2hGbiA9IG9wdGlvbnM/LnF1ZXJ5S2V5SGFzaEZuIHx8IGhhc2hLZXlcbiAgcmV0dXJuIGhhc2hGbihxdWVyeUtleSlcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHF1ZXJ5ICYgbXV0YXRpb24ga2V5cyBoYXNoIGZ1bmN0aW9uLlxuICogSGFzaGVzIHRoZSB2YWx1ZSBpbnRvIGEgc3RhYmxlIGhhc2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoS2V5KHF1ZXJ5S2V5OiBRdWVyeUtleSB8IE11dGF0aW9uS2V5KTogc3RyaW5nIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHF1ZXJ5S2V5LCAoXywgdmFsKSA9PlxuICAgIGlzUGxhaW5PYmplY3QodmFsKVxuICAgICAgPyBPYmplY3Qua2V5cyh2YWwpXG4gICAgICAgICAgLnNvcnQoKVxuICAgICAgICAgIC5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbFtrZXldXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgICAgfSwge30gYXMgYW55KVxuICAgICAgOiB2YWwsXG4gIClcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYga2V5IGBiYCBwYXJ0aWFsbHkgbWF0Y2hlcyB3aXRoIGtleSBgYWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aWFsTWF0Y2hLZXkoYTogUXVlcnlLZXksIGI6IFF1ZXJ5S2V5KTogYm9vbGVhblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWxNYXRjaEtleShhOiBhbnksIGI6IGFueSk6IGJvb2xlYW4ge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpZiAodHlwZW9mIGEgIT09IHR5cGVvZiBiKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYikuZXZlcnkoKGtleSkgPT4gcGFydGlhbE1hdGNoS2V5KGFba2V5XSwgYltrZXldKSlcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBgYWAgaWYgYGJgIGlzIGRlZXBseSBlcXVhbC5cbiAqIElmIG5vdCwgaXQgd2lsbCByZXBsYWNlIGFueSBkZWVwbHkgZXF1YWwgY2hpbGRyZW4gb2YgYGJgIHdpdGggdGhvc2Ugb2YgYGFgLlxuICogVGhpcyBjYW4gYmUgdXNlZCBmb3Igc3RydWN0dXJhbCBzaGFyaW5nIGJldHdlZW4gSlNPTiB2YWx1ZXMgZm9yIGV4YW1wbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlRXF1YWxEZWVwPFQ+KGE6IHVua25vd24sIGI6IFQpOiBUXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUVxdWFsRGVlcChhOiBhbnksIGI6IGFueSk6IGFueSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIGFcbiAgfVxuXG4gIGNvbnN0IGFycmF5ID0gaXNQbGFpbkFycmF5KGEpICYmIGlzUGxhaW5BcnJheShiKVxuXG4gIGlmIChhcnJheSB8fCAoaXNQbGFpbk9iamVjdChhKSAmJiBpc1BsYWluT2JqZWN0KGIpKSkge1xuICAgIGNvbnN0IGFJdGVtcyA9IGFycmF5ID8gYSA6IE9iamVjdC5rZXlzKGEpXG4gICAgY29uc3QgYVNpemUgPSBhSXRlbXMubGVuZ3RoXG4gICAgY29uc3QgYkl0ZW1zID0gYXJyYXkgPyBiIDogT2JqZWN0LmtleXMoYilcbiAgICBjb25zdCBiU2l6ZSA9IGJJdGVtcy5sZW5ndGhcbiAgICBjb25zdCBjb3B5OiBhbnkgPSBhcnJheSA/IFtdIDoge31cblxuICAgIGxldCBlcXVhbEl0ZW1zID0gMFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiU2l6ZTsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBhcnJheSA/IGkgOiBiSXRlbXNbaV1cbiAgICAgIGlmIChcbiAgICAgICAgKCghYXJyYXkgJiYgYUl0ZW1zLmluY2x1ZGVzKGtleSkpIHx8IGFycmF5KSAmJlxuICAgICAgICBhW2tleV0gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBiW2tleV0gPT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIGNvcHlba2V5XSA9IHVuZGVmaW5lZFxuICAgICAgICBlcXVhbEl0ZW1zKytcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvcHlba2V5XSA9IHJlcGxhY2VFcXVhbERlZXAoYVtrZXldLCBiW2tleV0pXG4gICAgICAgIGlmIChjb3B5W2tleV0gPT09IGFba2V5XSAmJiBhW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVxdWFsSXRlbXMrK1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFTaXplID09PSBiU2l6ZSAmJiBlcXVhbEl0ZW1zID09PSBhU2l6ZSA/IGEgOiBjb3B5XG4gIH1cblxuICByZXR1cm4gYlxufVxuXG4vKipcbiAqIFNoYWxsb3cgY29tcGFyZSBvYmplY3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0VxdWFsT2JqZWN0czxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gIGE6IFQsXG4gIGI6IFQgfCB1bmRlZmluZWQsXG4pOiBib29sZWFuIHtcbiAgaWYgKCFiIHx8IE9iamVjdC5rZXlzKGEpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XG4gICAgaWYgKGFba2V5XSAhPT0gYltrZXldKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbkFycmF5KHZhbHVlOiB1bmtub3duKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGhcbn1cblxuLy8gQ29waWVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2lzLXBsYWluLW9iamVjdFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby13cmFwcGVyLW9iamVjdC10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QobzogYW55KTogbyBpcyBPYmplY3Qge1xuICBpZiAoIWhhc09iamVjdFByb3RvdHlwZShvKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gSWYgaGFzIG5vIGNvbnN0cnVjdG9yXG4gIGNvbnN0IGN0b3IgPSBvLmNvbnN0cnVjdG9yXG4gIGlmIChjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gSWYgaGFzIG1vZGlmaWVkIHByb3RvdHlwZVxuICBjb25zdCBwcm90ID0gY3Rvci5wcm90b3R5cGVcbiAgaWYgKCFoYXNPYmplY3RQcm90b3R5cGUocHJvdCkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIElmIGNvbnN0cnVjdG9yIGRvZXMgbm90IGhhdmUgYW4gT2JqZWN0LXNwZWNpZmljIG1ldGhvZFxuICBpZiAoIXByb3QuaGFzT3duUHJvcGVydHkoJ2lzUHJvdG90eXBlT2YnKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gSGFuZGxlcyBPYmplY3RzIGNyZWF0ZWQgYnkgT2JqZWN0LmNyZWF0ZSg8YXJiaXRyYXJ5IHByb3RvdHlwZT4pXG4gIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YobykgIT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIE1vc3QgbGlrZWx5IGEgcGxhaW4gT2JqZWN0XG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGhhc09iamVjdFByb3RvdHlwZShvOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNsZWVwKHRpbWVvdXQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWVvdXQpXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlRGF0YTxcbiAgVERhdGEsXG4gIFRPcHRpb25zIGV4dGVuZHMgUXVlcnlPcHRpb25zPGFueSwgYW55LCBhbnksIGFueT4sXG4+KHByZXZEYXRhOiBURGF0YSB8IHVuZGVmaW5lZCwgZGF0YTogVERhdGEsIG9wdGlvbnM6IFRPcHRpb25zKTogVERhdGEge1xuICBpZiAodHlwZW9mIG9wdGlvbnMuc3RydWN0dXJhbFNoYXJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5zdHJ1Y3R1cmFsU2hhcmluZyhwcmV2RGF0YSwgZGF0YSkgYXMgVERhdGFcbiAgfSBlbHNlIGlmIChvcHRpb25zLnN0cnVjdHVyYWxTaGFyaW5nICE9PSBmYWxzZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gcmVwbGFjZUVxdWFsRGVlcChwcmV2RGF0YSwgZGF0YSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgYFN0cnVjdHVyYWwgc2hhcmluZyByZXF1aXJlcyBkYXRhIHRvIGJlIEpTT04gc2VyaWFsaXphYmxlLiBUbyBmaXggdGhpcywgdHVybiBvZmYgc3RydWN0dXJhbFNoYXJpbmcgb3IgcmV0dXJuIEpTT04tc2VyaWFsaXphYmxlIGRhdGEgZnJvbSB5b3VyIHF1ZXJ5Rm4uIFske29wdGlvbnMucXVlcnlIYXNofV06ICR7ZXJyb3J9YCxcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIFByZXZlbnQgdGhlIHJlcGxhY2VFcXVhbERlZXAgZnJvbSBiZWluZyBjYWxsZWQgYWdhaW4gZG93biBiZWxvdy5cbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gU3RydWN0dXJhbGx5IHNoYXJlIGRhdGEgYmV0d2VlbiBwcmV2IGFuZCBuZXcgZGF0YSBpZiBuZWVkZWRcbiAgICByZXR1cm4gcmVwbGFjZUVxdWFsRGVlcChwcmV2RGF0YSwgZGF0YSlcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgZnVuY3Rpb24ga2VlcFByZXZpb3VzRGF0YTxUPihcbiAgcHJldmlvdXNEYXRhOiBUIHwgdW5kZWZpbmVkLFxuKTogVCB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBwcmV2aW91c0RhdGFcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvRW5kPFQ+KGl0ZW1zOiBBcnJheTxUPiwgaXRlbTogVCwgbWF4ID0gMCk6IEFycmF5PFQ+IHtcbiAgY29uc3QgbmV3SXRlbXMgPSBbLi4uaXRlbXMsIGl0ZW1dXG4gIHJldHVybiBtYXggJiYgbmV3SXRlbXMubGVuZ3RoID4gbWF4ID8gbmV3SXRlbXMuc2xpY2UoMSkgOiBuZXdJdGVtc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9TdGFydDxUPihpdGVtczogQXJyYXk8VD4sIGl0ZW06IFQsIG1heCA9IDApOiBBcnJheTxUPiB7XG4gIGNvbnN0IG5ld0l0ZW1zID0gW2l0ZW0sIC4uLml0ZW1zXVxuICByZXR1cm4gbWF4ICYmIG5ld0l0ZW1zLmxlbmd0aCA+IG1heCA/IG5ld0l0ZW1zLnNsaWNlKDAsIC0xKSA6IG5ld0l0ZW1zXG59XG5cbmV4cG9ydCBjb25zdCBza2lwVG9rZW4gPSBTeW1ib2woKVxuZXhwb3J0IHR5cGUgU2tpcFRva2VuID0gdHlwZW9mIHNraXBUb2tlblxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlUXVlcnlGbjxcbiAgVFF1ZXJ5Rm5EYXRhID0gdW5rbm93bixcbiAgVFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleSxcbj4oXG4gIG9wdGlvbnM6IHtcbiAgICBxdWVyeUZuPzogUXVlcnlGdW5jdGlvbjxUUXVlcnlGbkRhdGEsIFRRdWVyeUtleT4gfCBTa2lwVG9rZW5cbiAgICBxdWVyeUhhc2g/OiBzdHJpbmdcbiAgfSxcbiAgZmV0Y2hPcHRpb25zPzogRmV0Y2hPcHRpb25zPFRRdWVyeUZuRGF0YT4sXG4pOiBRdWVyeUZ1bmN0aW9uPFRRdWVyeUZuRGF0YSwgVFF1ZXJ5S2V5PiB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKG9wdGlvbnMucXVlcnlGbiA9PT0gc2tpcFRva2VuKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgQXR0ZW1wdGVkIHRvIGludm9rZSBxdWVyeUZuIHdoZW4gc2V0IHRvIHNraXBUb2tlbi4gVGhpcyBpcyBsaWtlbHkgYSBjb25maWd1cmF0aW9uIGVycm9yLiBRdWVyeSBoYXNoOiAnJHtvcHRpb25zLnF1ZXJ5SGFzaH0nYCxcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvLyBpZiB3ZSBhdHRlbXB0IHRvIHJldHJ5IGEgZmV0Y2ggdGhhdCB3YXMgdHJpZ2dlcmVkIGZyb20gYW4gaW5pdGlhbFByb21pc2VcbiAgLy8gd2hlbiB3ZSBkb24ndCBoYXZlIGEgcXVlcnlGbiB5ZXQsIHdlIGNhbid0IHJldHJ5LCBzbyB3ZSBqdXN0IHJldHVybiB0aGUgYWxyZWFkeSByZWplY3RlZCBpbml0aWFsUHJvbWlzZVxuICAvLyBpZiBhbiBvYnNlcnZlciBoYXMgYWxyZWFkeSBtb3VudGVkLCB3ZSB3aWxsIGJlIGFibGUgdG8gcmV0cnkgd2l0aCB0aGF0IHF1ZXJ5Rm5cbiAgaWYgKCFvcHRpb25zLnF1ZXJ5Rm4gJiYgZmV0Y2hPcHRpb25zPy5pbml0aWFsUHJvbWlzZSkge1xuICAgIHJldHVybiAoKSA9PiBmZXRjaE9wdGlvbnMuaW5pdGlhbFByb21pc2UhXG4gIH1cblxuICBpZiAoIW9wdGlvbnMucXVlcnlGbiB8fCBvcHRpb25zLnF1ZXJ5Rm4gPT09IHNraXBUb2tlbikge1xuICAgIHJldHVybiAoKSA9PlxuICAgICAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBNaXNzaW5nIHF1ZXJ5Rm46ICcke29wdGlvbnMucXVlcnlIYXNofSdgKSlcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zLnF1ZXJ5Rm5cbn1cbiIsICJpbXBvcnQgeyBTdWJzY3JpYmFibGUgfSBmcm9tICcuL3N1YnNjcmliYWJsZSdcbmltcG9ydCB7IGlzU2VydmVyIH0gZnJvbSAnLi91dGlscydcblxudHlwZSBMaXN0ZW5lciA9IChmb2N1c2VkOiBib29sZWFuKSA9PiB2b2lkXG5cbnR5cGUgU2V0dXBGbiA9IChcbiAgc2V0Rm9jdXNlZDogKGZvY3VzZWQ/OiBib29sZWFuKSA9PiB2b2lkLFxuKSA9PiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWRcblxuZXhwb3J0IGNsYXNzIEZvY3VzTWFuYWdlciBleHRlbmRzIFN1YnNjcmliYWJsZTxMaXN0ZW5lcj4ge1xuICAjZm9jdXNlZD86IGJvb2xlYW5cbiAgI2NsZWFudXA/OiAoKSA9PiB2b2lkXG5cbiAgI3NldHVwOiBTZXR1cEZuXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuI3NldHVwID0gKG9uRm9jdXMpID0+IHtcbiAgICAgIC8vIGFkZEV2ZW50TGlzdGVuZXIgZG9lcyBub3QgZXhpc3QgaW4gUmVhY3QgTmF0aXZlLCBidXQgd2luZG93IGRvZXNcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktY29uZGl0aW9uXG4gICAgICBpZiAoIWlzU2VydmVyICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4gb25Gb2N1cygpXG4gICAgICAgIC8vIExpc3RlbiB0byB2aXNpYmlsaXR5Y2hhbmdlXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgbGlzdGVuZXIsIGZhbHNlKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgLy8gQmUgc3VyZSB0byB1bnN1YnNjcmliZSBpZiBhIG5ldyBoYW5kbGVyIGlzIHNldFxuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgbGlzdGVuZXIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvblN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuI2NsZWFudXApIHtcbiAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcih0aGlzLiNzZXR1cClcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgb25VbnN1YnNjcmliZSgpIHtcbiAgICBpZiAoIXRoaXMuaGFzTGlzdGVuZXJzKCkpIHtcbiAgICAgIHRoaXMuI2NsZWFudXA/LigpXG4gICAgICB0aGlzLiNjbGVhbnVwID0gdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcihzZXR1cDogU2V0dXBGbik6IHZvaWQge1xuICAgIHRoaXMuI3NldHVwID0gc2V0dXBcbiAgICB0aGlzLiNjbGVhbnVwPy4oKVxuICAgIHRoaXMuI2NsZWFudXAgPSBzZXR1cCgoZm9jdXNlZCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBmb2N1c2VkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhpcy5zZXRGb2N1c2VkKGZvY3VzZWQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uRm9jdXMoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBzZXRGb2N1c2VkKGZvY3VzZWQ/OiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuI2ZvY3VzZWQgIT09IGZvY3VzZWRcbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy4jZm9jdXNlZCA9IGZvY3VzZWRcbiAgICAgIHRoaXMub25Gb2N1cygpXG4gICAgfVxuICB9XG5cbiAgb25Gb2N1cygpOiB2b2lkIHtcbiAgICBjb25zdCBpc0ZvY3VzZWQgPSB0aGlzLmlzRm9jdXNlZCgpXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgIGxpc3RlbmVyKGlzRm9jdXNlZClcbiAgICB9KVxuICB9XG5cbiAgaXNGb2N1c2VkKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgdGhpcy4jZm9jdXNlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gdGhpcy4jZm9jdXNlZFxuICAgIH1cblxuICAgIC8vIGRvY3VtZW50IGdsb2JhbCBjYW4gYmUgdW5hdmFpbGFibGUgaW4gcmVhY3QgbmF0aXZlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb25cbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5kb2N1bWVudD8udmlzaWJpbGl0eVN0YXRlICE9PSAnaGlkZGVuJ1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBmb2N1c01hbmFnZXIgPSBuZXcgRm9jdXNNYW5hZ2VyKClcbiIsICJpbXBvcnQgeyBTdWJzY3JpYmFibGUgfSBmcm9tICcuL3N1YnNjcmliYWJsZSdcbmltcG9ydCB7IGlzU2VydmVyIH0gZnJvbSAnLi91dGlscydcblxudHlwZSBMaXN0ZW5lciA9IChvbmxpbmU6IGJvb2xlYW4pID0+IHZvaWRcbnR5cGUgU2V0dXBGbiA9IChzZXRPbmxpbmU6IExpc3RlbmVyKSA9PiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWRcblxuZXhwb3J0IGNsYXNzIE9ubGluZU1hbmFnZXIgZXh0ZW5kcyBTdWJzY3JpYmFibGU8TGlzdGVuZXI+IHtcbiAgI29ubGluZSA9IHRydWVcbiAgI2NsZWFudXA/OiAoKSA9PiB2b2lkXG5cbiAgI3NldHVwOiBTZXR1cEZuXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuI3NldHVwID0gKG9uT25saW5lKSA9PiB7XG4gICAgICAvLyBhZGRFdmVudExpc3RlbmVyIGRvZXMgbm90IGV4aXN0IGluIFJlYWN0IE5hdGl2ZSwgYnV0IHdpbmRvdyBkb2VzXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgaWYgKCFpc1NlcnZlciAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBvbmxpbmVMaXN0ZW5lciA9ICgpID0+IG9uT25saW5lKHRydWUpXG4gICAgICAgIGNvbnN0IG9mZmxpbmVMaXN0ZW5lciA9ICgpID0+IG9uT25saW5lKGZhbHNlKVxuICAgICAgICAvLyBMaXN0ZW4gdG8gb25saW5lXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBvbmxpbmVMaXN0ZW5lciwgZmFsc2UpXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgb2ZmbGluZUxpc3RlbmVyLCBmYWxzZSlcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIC8vIEJlIHN1cmUgdG8gdW5zdWJzY3JpYmUgaWYgYSBuZXcgaGFuZGxlciBpcyBzZXRcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgb25saW5lTGlzdGVuZXIpXG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBvZmZsaW5lTGlzdGVuZXIpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG9uU3Vic2NyaWJlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy4jY2xlYW51cCkge1xuICAgICAgdGhpcy5zZXRFdmVudExpc3RlbmVyKHRoaXMuI3NldHVwKVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvblVuc3Vic2NyaWJlKCkge1xuICAgIGlmICghdGhpcy5oYXNMaXN0ZW5lcnMoKSkge1xuICAgICAgdGhpcy4jY2xlYW51cD8uKClcbiAgICAgIHRoaXMuI2NsZWFudXAgPSB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVyKHNldHVwOiBTZXR1cEZuKTogdm9pZCB7XG4gICAgdGhpcy4jc2V0dXAgPSBzZXR1cFxuICAgIHRoaXMuI2NsZWFudXA/LigpXG4gICAgdGhpcy4jY2xlYW51cCA9IHNldHVwKHRoaXMuc2V0T25saW5lLmJpbmQodGhpcykpXG4gIH1cblxuICBzZXRPbmxpbmUob25saW5lOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuI29ubGluZSAhPT0gb25saW5lXG5cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy4jb25saW5lID0gb25saW5lXG4gICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICBsaXN0ZW5lcihvbmxpbmUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGlzT25saW5lKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLiNvbmxpbmVcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgb25saW5lTWFuYWdlciA9IG5ldyBPbmxpbmVNYW5hZ2VyKClcbiIsICIvKipcbiAqIFRoZW5hYmxlIHR5cGVzIHdoaWNoIG1hdGNoZXMgUmVhY3QncyB0eXBlcyBmb3IgcHJvbWlzZXNcbiAqXG4gKiBSZWFjdCBzZWVtaW5nbHkgdXNlcyBgLnN0YXR1c2AsIGAudmFsdWVgIGFuZCBgLnJlYXNvbmAgcHJvcGVydGllcyBvbiBhIHByb21pc2VzIHRvIG9wdGltaXN0aWNhbGx5IHVud3JhcCBkYXRhIGZyb20gcHJvbWlzZXNcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL21haW4vcGFja2FnZXMvc2hhcmVkL1JlYWN0VHlwZXMuanMjTDExMi1MMTM4XG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iLzRmNjA0OTQxNTY5ZDJlODk0N2NlMTQ2MGEwYjI5OTdlODM1ZjM3YjkvcGFja2FnZXMvcmVhY3QtZGVidWctdG9vbHMvc3JjL1JlYWN0RGVidWdIb29rcy5qcyNMMjI0LUwyMjdcbiAqL1xuXG5pbnRlcmZhY2UgRnVsZmlsbGVkPFQ+IHtcbiAgc3RhdHVzOiAnZnVsZmlsbGVkJ1xuICB2YWx1ZTogVFxufVxuaW50ZXJmYWNlIFJlamVjdGVkIHtcbiAgc3RhdHVzOiAncmVqZWN0ZWQnXG4gIHJlYXNvbjogdW5rbm93blxufVxuaW50ZXJmYWNlIFBlbmRpbmc8VD4ge1xuICBzdGF0dXM6ICdwZW5kaW5nJ1xuXG4gIC8qKlxuICAgKiBSZXNvbHZlIHRoZSBwcm9taXNlIHdpdGggYSB2YWx1ZS5cbiAgICogV2lsbCByZW1vdmUgdGhlIGByZXNvbHZlYCBhbmQgYHJlamVjdGAgcHJvcGVydGllcyBmcm9tIHRoZSBwcm9taXNlLlxuICAgKi9cbiAgcmVzb2x2ZTogKHZhbHVlOiBUKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBSZWplY3QgdGhlIHByb21pc2Ugd2l0aCBhIHJlYXNvbi5cbiAgICogV2lsbCByZW1vdmUgdGhlIGByZXNvbHZlYCBhbmQgYHJlamVjdGAgcHJvcGVydGllcyBmcm9tIHRoZSBwcm9taXNlLlxuICAgKi9cbiAgcmVqZWN0OiAocmVhc29uOiB1bmtub3duKSA9PiB2b2lkXG59XG5cbmV4cG9ydCB0eXBlIEZ1bGZpbGxlZFRoZW5hYmxlPFQ+ID0gUHJvbWlzZTxUPiAmIEZ1bGZpbGxlZDxUPlxuZXhwb3J0IHR5cGUgUmVqZWN0ZWRUaGVuYWJsZTxUPiA9IFByb21pc2U8VD4gJiBSZWplY3RlZFxuZXhwb3J0IHR5cGUgUGVuZGluZ1RoZW5hYmxlPFQ+ID0gUHJvbWlzZTxUPiAmIFBlbmRpbmc8VD5cblxuZXhwb3J0IHR5cGUgVGhlbmFibGU8VD4gPVxuICB8IEZ1bGZpbGxlZFRoZW5hYmxlPFQ+XG4gIHwgUmVqZWN0ZWRUaGVuYWJsZTxUPlxuICB8IFBlbmRpbmdUaGVuYWJsZTxUPlxuXG5leHBvcnQgZnVuY3Rpb24gcGVuZGluZ1RoZW5hYmxlPFQ+KCk6IFBlbmRpbmdUaGVuYWJsZTxUPiB7XG4gIGxldCByZXNvbHZlOiBQZW5kaW5nPFQ+WydyZXNvbHZlJ11cbiAgbGV0IHJlamVjdDogUGVuZGluZzxUPlsncmVqZWN0J11cbiAgLy8gdGhpcyBjb3VsZCB1c2UgYFByb21pc2Uud2l0aFJlc29sdmVycygpYCBpbiB0aGUgZnV0dXJlXG4gIGNvbnN0IHRoZW5hYmxlID0gbmV3IFByb21pc2UoKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgcmVzb2x2ZSA9IF9yZXNvbHZlXG4gICAgcmVqZWN0ID0gX3JlamVjdFxuICB9KSBhcyBQZW5kaW5nVGhlbmFibGU8VD5cblxuICB0aGVuYWJsZS5zdGF0dXMgPSAncGVuZGluZydcbiAgdGhlbmFibGUuY2F0Y2goKCkgPT4ge1xuICAgIC8vIHByZXZlbnQgdW5oYW5kbGVkIHJlamVjdGlvbiBlcnJvcnNcbiAgfSlcblxuICBmdW5jdGlvbiBmaW5hbGl6ZShkYXRhOiBGdWxmaWxsZWQ8VD4gfCBSZWplY3RlZCkge1xuICAgIE9iamVjdC5hc3NpZ24odGhlbmFibGUsIGRhdGEpXG5cbiAgICAvLyBjbGVhciBwZW5kaW5nIHByb3BzIHByb3BzIHRvIGF2b2lkIGNhbGxpbmcgdGhlbSB0d2ljZVxuICAgIGRlbGV0ZSAodGhlbmFibGUgYXMgUGFydGlhbDxQZW5kaW5nVGhlbmFibGU8VD4+KS5yZXNvbHZlXG4gICAgZGVsZXRlICh0aGVuYWJsZSBhcyBQYXJ0aWFsPFBlbmRpbmdUaGVuYWJsZTxUPj4pLnJlamVjdFxuICB9XG5cbiAgdGhlbmFibGUucmVzb2x2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGZpbmFsaXplKHtcbiAgICAgIHN0YXR1czogJ2Z1bGZpbGxlZCcsXG4gICAgICB2YWx1ZSxcbiAgICB9KVxuXG4gICAgcmVzb2x2ZSh2YWx1ZSlcbiAgfVxuICB0aGVuYWJsZS5yZWplY3QgPSAocmVhc29uKSA9PiB7XG4gICAgZmluYWxpemUoe1xuICAgICAgc3RhdHVzOiAncmVqZWN0ZWQnLFxuICAgICAgcmVhc29uLFxuICAgIH0pXG5cbiAgICByZWplY3QocmVhc29uKVxuICB9XG5cbiAgcmV0dXJuIHRoZW5hYmxlXG59XG4iLCAiaW1wb3J0IHsgZm9jdXNNYW5hZ2VyIH0gZnJvbSAnLi9mb2N1c01hbmFnZXInXG5pbXBvcnQgeyBvbmxpbmVNYW5hZ2VyIH0gZnJvbSAnLi9vbmxpbmVNYW5hZ2VyJ1xuaW1wb3J0IHsgcGVuZGluZ1RoZW5hYmxlIH0gZnJvbSAnLi90aGVuYWJsZSdcbmltcG9ydCB7IGlzU2VydmVyLCBzbGVlcCB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgdHlwZSB7IENhbmNlbE9wdGlvbnMsIERlZmF1bHRFcnJvciwgTmV0d29ya01vZGUgfSBmcm9tICcuL3R5cGVzJ1xuXG4vLyBUWVBFU1xuXG5pbnRlcmZhY2UgUmV0cnllckNvbmZpZzxURGF0YSA9IHVua25vd24sIFRFcnJvciA9IERlZmF1bHRFcnJvcj4ge1xuICBmbjogKCkgPT4gVERhdGEgfCBQcm9taXNlPFREYXRhPlxuICBpbml0aWFsUHJvbWlzZT86IFByb21pc2U8VERhdGE+XG4gIGFib3J0PzogKCkgPT4gdm9pZFxuICBvbkVycm9yPzogKGVycm9yOiBURXJyb3IpID0+IHZvaWRcbiAgb25TdWNjZXNzPzogKGRhdGE6IFREYXRhKSA9PiB2b2lkXG4gIG9uRmFpbD86IChmYWlsdXJlQ291bnQ6IG51bWJlciwgZXJyb3I6IFRFcnJvcikgPT4gdm9pZFxuICBvblBhdXNlPzogKCkgPT4gdm9pZFxuICBvbkNvbnRpbnVlPzogKCkgPT4gdm9pZFxuICByZXRyeT86IFJldHJ5VmFsdWU8VEVycm9yPlxuICByZXRyeURlbGF5PzogUmV0cnlEZWxheVZhbHVlPFRFcnJvcj5cbiAgbmV0d29ya01vZGU6IE5ldHdvcmtNb2RlIHwgdW5kZWZpbmVkXG4gIGNhblJ1bjogKCkgPT4gYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5ZXI8VERhdGEgPSB1bmtub3duPiB7XG4gIHByb21pc2U6IFByb21pc2U8VERhdGE+XG4gIGNhbmNlbDogKGNhbmNlbE9wdGlvbnM/OiBDYW5jZWxPcHRpb25zKSA9PiB2b2lkXG4gIGNvbnRpbnVlOiAoKSA9PiBQcm9taXNlPHVua25vd24+XG4gIGNhbmNlbFJldHJ5OiAoKSA9PiB2b2lkXG4gIGNvbnRpbnVlUmV0cnk6ICgpID0+IHZvaWRcbiAgY2FuU3RhcnQ6ICgpID0+IGJvb2xlYW5cbiAgc3RhcnQ6ICgpID0+IFByb21pc2U8VERhdGE+XG59XG5cbmV4cG9ydCB0eXBlIFJldHJ5VmFsdWU8VEVycm9yPiA9IGJvb2xlYW4gfCBudW1iZXIgfCBTaG91bGRSZXRyeUZ1bmN0aW9uPFRFcnJvcj5cblxudHlwZSBTaG91bGRSZXRyeUZ1bmN0aW9uPFRFcnJvciA9IERlZmF1bHRFcnJvcj4gPSAoXG4gIGZhaWx1cmVDb3VudDogbnVtYmVyLFxuICBlcnJvcjogVEVycm9yLFxuKSA9PiBib29sZWFuXG5cbmV4cG9ydCB0eXBlIFJldHJ5RGVsYXlWYWx1ZTxURXJyb3I+ID0gbnVtYmVyIHwgUmV0cnlEZWxheUZ1bmN0aW9uPFRFcnJvcj5cblxudHlwZSBSZXRyeURlbGF5RnVuY3Rpb248VEVycm9yID0gRGVmYXVsdEVycm9yPiA9IChcbiAgZmFpbHVyZUNvdW50OiBudW1iZXIsXG4gIGVycm9yOiBURXJyb3IsXG4pID0+IG51bWJlclxuXG5mdW5jdGlvbiBkZWZhdWx0UmV0cnlEZWxheShmYWlsdXJlQ291bnQ6IG51bWJlcikge1xuICByZXR1cm4gTWF0aC5taW4oMTAwMCAqIDIgKiogZmFpbHVyZUNvdW50LCAzMDAwMClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbkZldGNoKG5ldHdvcmtNb2RlOiBOZXR3b3JrTW9kZSB8IHVuZGVmaW5lZCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKG5ldHdvcmtNb2RlID8/ICdvbmxpbmUnKSA9PT0gJ29ubGluZSdcbiAgICA/IG9ubGluZU1hbmFnZXIuaXNPbmxpbmUoKVxuICAgIDogdHJ1ZVxufVxuXG5leHBvcnQgY2xhc3MgQ2FuY2VsbGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHJldmVydD86IGJvb2xlYW5cbiAgc2lsZW50PzogYm9vbGVhblxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogQ2FuY2VsT3B0aW9ucykge1xuICAgIHN1cGVyKCdDYW5jZWxsZWRFcnJvcicpXG4gICAgdGhpcy5yZXZlcnQgPSBvcHRpb25zPy5yZXZlcnRcbiAgICB0aGlzLnNpbGVudCA9IG9wdGlvbnM/LnNpbGVudFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NhbmNlbGxlZEVycm9yKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBDYW5jZWxsZWRFcnJvciB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIENhbmNlbGxlZEVycm9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXRyeWVyPFREYXRhID0gdW5rbm93biwgVEVycm9yID0gRGVmYXVsdEVycm9yPihcbiAgY29uZmlnOiBSZXRyeWVyQ29uZmlnPFREYXRhLCBURXJyb3I+LFxuKTogUmV0cnllcjxURGF0YT4ge1xuICBsZXQgaXNSZXRyeUNhbmNlbGxlZCA9IGZhbHNlXG4gIGxldCBmYWlsdXJlQ291bnQgPSAwXG4gIGxldCBpc1Jlc29sdmVkID0gZmFsc2VcbiAgbGV0IGNvbnRpbnVlRm46ICgodmFsdWU/OiB1bmtub3duKSA9PiB2b2lkKSB8IHVuZGVmaW5lZFxuXG4gIGNvbnN0IHRoZW5hYmxlID0gcGVuZGluZ1RoZW5hYmxlPFREYXRhPigpXG5cbiAgY29uc3QgY2FuY2VsID0gKGNhbmNlbE9wdGlvbnM/OiBDYW5jZWxPcHRpb25zKTogdm9pZCA9PiB7XG4gICAgaWYgKCFpc1Jlc29sdmVkKSB7XG4gICAgICByZWplY3QobmV3IENhbmNlbGxlZEVycm9yKGNhbmNlbE9wdGlvbnMpKVxuXG4gICAgICBjb25maWcuYWJvcnQ/LigpXG4gICAgfVxuICB9XG4gIGNvbnN0IGNhbmNlbFJldHJ5ID0gKCkgPT4ge1xuICAgIGlzUmV0cnlDYW5jZWxsZWQgPSB0cnVlXG4gIH1cblxuICBjb25zdCBjb250aW51ZVJldHJ5ID0gKCkgPT4ge1xuICAgIGlzUmV0cnlDYW5jZWxsZWQgPSBmYWxzZVxuICB9XG5cbiAgY29uc3QgY2FuQ29udGludWUgPSAoKSA9PlxuICAgIGZvY3VzTWFuYWdlci5pc0ZvY3VzZWQoKSAmJlxuICAgIChjb25maWcubmV0d29ya01vZGUgPT09ICdhbHdheXMnIHx8IG9ubGluZU1hbmFnZXIuaXNPbmxpbmUoKSkgJiZcbiAgICBjb25maWcuY2FuUnVuKClcblxuICBjb25zdCBjYW5TdGFydCA9ICgpID0+IGNhbkZldGNoKGNvbmZpZy5uZXR3b3JrTW9kZSkgJiYgY29uZmlnLmNhblJ1bigpXG5cbiAgY29uc3QgcmVzb2x2ZSA9ICh2YWx1ZTogYW55KSA9PiB7XG4gICAgaWYgKCFpc1Jlc29sdmVkKSB7XG4gICAgICBpc1Jlc29sdmVkID0gdHJ1ZVxuICAgICAgY29uZmlnLm9uU3VjY2Vzcz8uKHZhbHVlKVxuICAgICAgY29udGludWVGbj8uKClcbiAgICAgIHRoZW5hYmxlLnJlc29sdmUodmFsdWUpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVqZWN0ID0gKHZhbHVlOiBhbnkpID0+IHtcbiAgICBpZiAoIWlzUmVzb2x2ZWQpIHtcbiAgICAgIGlzUmVzb2x2ZWQgPSB0cnVlXG4gICAgICBjb25maWcub25FcnJvcj8uKHZhbHVlKVxuICAgICAgY29udGludWVGbj8uKClcbiAgICAgIHRoZW5hYmxlLnJlamVjdCh2YWx1ZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBwYXVzZSA9ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKGNvbnRpbnVlUmVzb2x2ZSkgPT4ge1xuICAgICAgY29udGludWVGbiA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoaXNSZXNvbHZlZCB8fCBjYW5Db250aW51ZSgpKSB7XG4gICAgICAgICAgY29udGludWVSZXNvbHZlKHZhbHVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25maWcub25QYXVzZT8uKClcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnRpbnVlRm4gPSB1bmRlZmluZWRcbiAgICAgIGlmICghaXNSZXNvbHZlZCkge1xuICAgICAgICBjb25maWcub25Db250aW51ZT8uKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGxvb3AgZnVuY3Rpb25cbiAgY29uc3QgcnVuID0gKCkgPT4ge1xuICAgIC8vIERvIG5vdGhpbmcgaWYgYWxyZWFkeSByZXNvbHZlZFxuICAgIGlmIChpc1Jlc29sdmVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgcHJvbWlzZU9yVmFsdWU6IGFueVxuXG4gICAgLy8gd2UgY2FuIHJlLXVzZSBjb25maWcuaW5pdGlhbFByb21pc2Ugb24gdGhlIGZpcnN0IGNhbGwgb2YgcnVuKClcbiAgICBjb25zdCBpbml0aWFsUHJvbWlzZSA9XG4gICAgICBmYWlsdXJlQ291bnQgPT09IDAgPyBjb25maWcuaW5pdGlhbFByb21pc2UgOiB1bmRlZmluZWRcblxuICAgIC8vIEV4ZWN1dGUgcXVlcnlcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZU9yVmFsdWUgPSBpbml0aWFsUHJvbWlzZSA/PyBjb25maWcuZm4oKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBwcm9taXNlT3JWYWx1ZSA9IFByb21pc2UucmVqZWN0KGVycm9yKVxuICAgIH1cblxuICAgIFByb21pc2UucmVzb2x2ZShwcm9taXNlT3JWYWx1ZSlcbiAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIC8vIFN0b3AgaWYgdGhlIGZldGNoIGlzIGFscmVhZHkgcmVzb2x2ZWRcbiAgICAgICAgaWYgKGlzUmVzb2x2ZWQpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvIHdlIG5lZWQgdG8gcmV0cnkgdGhlIHJlcXVlc3Q/XG4gICAgICAgIGNvbnN0IHJldHJ5ID0gY29uZmlnLnJldHJ5ID8/IChpc1NlcnZlciA/IDAgOiAzKVxuICAgICAgICBjb25zdCByZXRyeURlbGF5ID0gY29uZmlnLnJldHJ5RGVsYXkgPz8gZGVmYXVsdFJldHJ5RGVsYXlcbiAgICAgICAgY29uc3QgZGVsYXkgPVxuICAgICAgICAgIHR5cGVvZiByZXRyeURlbGF5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IHJldHJ5RGVsYXkoZmFpbHVyZUNvdW50LCBlcnJvcilcbiAgICAgICAgICAgIDogcmV0cnlEZWxheVxuICAgICAgICBjb25zdCBzaG91bGRSZXRyeSA9XG4gICAgICAgICAgcmV0cnkgPT09IHRydWUgfHxcbiAgICAgICAgICAodHlwZW9mIHJldHJ5ID09PSAnbnVtYmVyJyAmJiBmYWlsdXJlQ291bnQgPCByZXRyeSkgfHxcbiAgICAgICAgICAodHlwZW9mIHJldHJ5ID09PSAnZnVuY3Rpb24nICYmIHJldHJ5KGZhaWx1cmVDb3VudCwgZXJyb3IpKVxuXG4gICAgICAgIGlmIChpc1JldHJ5Q2FuY2VsbGVkIHx8ICFzaG91bGRSZXRyeSkge1xuICAgICAgICAgIC8vIFdlIGFyZSBkb25lIGlmIHRoZSBxdWVyeSBkb2VzIG5vdCBuZWVkIHRvIGJlIHJldHJpZWRcbiAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBmYWlsdXJlQ291bnQrK1xuXG4gICAgICAgIC8vIE5vdGlmeSBvbiBmYWlsXG4gICAgICAgIGNvbmZpZy5vbkZhaWw/LihmYWlsdXJlQ291bnQsIGVycm9yKVxuXG4gICAgICAgIC8vIERlbGF5XG4gICAgICAgIHNsZWVwKGRlbGF5KVxuICAgICAgICAgIC8vIFBhdXNlIGlmIHRoZSBkb2N1bWVudCBpcyBub3QgdmlzaWJsZSBvciB3aGVuIHRoZSBkZXZpY2UgaXMgb2ZmbGluZVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYW5Db250aW51ZSgpID8gdW5kZWZpbmVkIDogcGF1c2UoKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUmV0cnlDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcnVuKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgfSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHJvbWlzZTogdGhlbmFibGUsXG4gICAgY2FuY2VsLFxuICAgIGNvbnRpbnVlOiAoKSA9PiB7XG4gICAgICBjb250aW51ZUZuPy4oKVxuICAgICAgcmV0dXJuIHRoZW5hYmxlXG4gICAgfSxcbiAgICBjYW5jZWxSZXRyeSxcbiAgICBjb250aW51ZVJldHJ5LFxuICAgIGNhblN0YXJ0LFxuICAgIHN0YXJ0OiAoKSA9PiB7XG4gICAgICAvLyBTdGFydCBsb29wXG4gICAgICBpZiAoY2FuU3RhcnQoKSkge1xuICAgICAgICBydW4oKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF1c2UoKS50aGVuKHJ1bilcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGVuYWJsZVxuICAgIH0sXG4gIH1cbn1cbiIsICIvLyBUWVBFU1xuXG50eXBlIE5vdGlmeUNhbGxiYWNrID0gKCkgPT4gdm9pZFxuXG50eXBlIE5vdGlmeUZ1bmN0aW9uID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB2b2lkXG5cbnR5cGUgQmF0Y2hOb3RpZnlGdW5jdGlvbiA9IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gdm9pZFxuXG50eXBlIEJhdGNoQ2FsbHNDYWxsYmFjazxUIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4+ID0gKC4uLmFyZ3M6IFQpID0+IHZvaWRcblxudHlwZSBTY2hlZHVsZUZ1bmN0aW9uID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB2b2lkXG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0U2NoZWR1bGVyOiBTY2hlZHVsZUZ1bmN0aW9uID0gKGNiKSA9PiBzZXRUaW1lb3V0KGNiLCAwKVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm90aWZ5TWFuYWdlcigpIHtcbiAgbGV0IHF1ZXVlOiBBcnJheTxOb3RpZnlDYWxsYmFjaz4gPSBbXVxuICBsZXQgdHJhbnNhY3Rpb25zID0gMFxuICBsZXQgbm90aWZ5Rm46IE5vdGlmeUZ1bmN0aW9uID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgY2FsbGJhY2soKVxuICB9XG4gIGxldCBiYXRjaE5vdGlmeUZuOiBCYXRjaE5vdGlmeUZ1bmN0aW9uID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgY2FsbGJhY2soKVxuICB9XG4gIGxldCBzY2hlZHVsZUZuID0gZGVmYXVsdFNjaGVkdWxlclxuXG4gIGNvbnN0IHNjaGVkdWxlID0gKGNhbGxiYWNrOiBOb3RpZnlDYWxsYmFjayk6IHZvaWQgPT4ge1xuICAgIGlmICh0cmFuc2FjdGlvbnMpIHtcbiAgICAgIHF1ZXVlLnB1c2goY2FsbGJhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlRm4oKCkgPT4ge1xuICAgICAgICBub3RpZnlGbihjYWxsYmFjaylcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIGNvbnN0IGZsdXNoID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsUXVldWUgPSBxdWV1ZVxuICAgIHF1ZXVlID0gW11cbiAgICBpZiAob3JpZ2luYWxRdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHNjaGVkdWxlRm4oKCkgPT4ge1xuICAgICAgICBiYXRjaE5vdGlmeUZuKCgpID0+IHtcbiAgICAgICAgICBvcmlnaW5hbFF1ZXVlLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBub3RpZnlGbihjYWxsYmFjaylcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJhdGNoOiA8VD4oY2FsbGJhY2s6ICgpID0+IFQpOiBUID0+IHtcbiAgICAgIGxldCByZXN1bHRcbiAgICAgIHRyYW5zYWN0aW9ucysrXG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBjYWxsYmFjaygpXG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cmFuc2FjdGlvbnMtLVxuICAgICAgICBpZiAoIXRyYW5zYWN0aW9ucykge1xuICAgICAgICAgIGZsdXNoKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogQWxsIGNhbGxzIHRvIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHdpbGwgYmUgYmF0Y2hlZC5cbiAgICAgKi9cbiAgICBiYXRjaENhbGxzOiA8VCBleHRlbmRzIEFycmF5PHVua25vd24+PihcbiAgICAgIGNhbGxiYWNrOiBCYXRjaENhbGxzQ2FsbGJhY2s8VD4sXG4gICAgKTogQmF0Y2hDYWxsc0NhbGxiYWNrPFQ+ID0+IHtcbiAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBzY2hlZHVsZSgoKSA9PiB7XG4gICAgICAgICAgY2FsbGJhY2soLi4uYXJncylcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuICAgIHNjaGVkdWxlLFxuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byBzZXQgYSBjdXN0b20gbm90aWZ5IGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gZm9yIGV4YW1wbGUgd3JhcCBub3RpZmljYXRpb25zIHdpdGggYFJlYWN0LmFjdGAgd2hpbGUgcnVubmluZyB0ZXN0cy5cbiAgICAgKi9cbiAgICBzZXROb3RpZnlGdW5jdGlvbjogKGZuOiBOb3RpZnlGdW5jdGlvbikgPT4ge1xuICAgICAgbm90aWZ5Rm4gPSBmblxuICAgIH0sXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHNldCBhIGN1c3RvbSBmdW5jdGlvbiB0byBiYXRjaCBub3RpZmljYXRpb25zIHRvZ2V0aGVyIGludG8gYSBzaW5nbGUgdGljay5cbiAgICAgKiBCeSBkZWZhdWx0IFJlYWN0IFF1ZXJ5IHdpbGwgdXNlIHRoZSBiYXRjaCBmdW5jdGlvbiBwcm92aWRlZCBieSBSZWFjdERPTSBvciBSZWFjdCBOYXRpdmUuXG4gICAgICovXG4gICAgc2V0QmF0Y2hOb3RpZnlGdW5jdGlvbjogKGZuOiBCYXRjaE5vdGlmeUZ1bmN0aW9uKSA9PiB7XG4gICAgICBiYXRjaE5vdGlmeUZuID0gZm5cbiAgICB9LFxuICAgIHNldFNjaGVkdWxlcjogKGZuOiBTY2hlZHVsZUZ1bmN0aW9uKSA9PiB7XG4gICAgICBzY2hlZHVsZUZuID0gZm5cbiAgICB9LFxuICB9IGFzIGNvbnN0XG59XG5cbi8vIFNJTkdMRVRPTlxuZXhwb3J0IGNvbnN0IG5vdGlmeU1hbmFnZXIgPSBjcmVhdGVOb3RpZnlNYW5hZ2VyKClcbiIsICJpbXBvcnQgeyBpc1NlcnZlciwgaXNWYWxpZFRpbWVvdXQgfSBmcm9tICcuL3V0aWxzJ1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVtb3ZhYmxlIHtcbiAgZ2NUaW1lITogbnVtYmVyXG4gICNnY1RpbWVvdXQ/OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PlxuXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckdjVGltZW91dCgpXG4gIH1cblxuICBwcm90ZWN0ZWQgc2NoZWR1bGVHYygpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyR2NUaW1lb3V0KClcblxuICAgIGlmIChpc1ZhbGlkVGltZW91dCh0aGlzLmdjVGltZSkpIHtcbiAgICAgIHRoaXMuI2djVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLm9wdGlvbmFsUmVtb3ZlKClcbiAgICAgIH0sIHRoaXMuZ2NUaW1lKVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVHY1RpbWUobmV3R2NUaW1lOiBudW1iZXIgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICAvLyBEZWZhdWx0IHRvIDUgbWludXRlcyAoSW5maW5pdHkgZm9yIHNlcnZlci1zaWRlKSBpZiBubyBnY1RpbWUgaXMgc2V0XG4gICAgdGhpcy5nY1RpbWUgPSBNYXRoLm1heChcbiAgICAgIHRoaXMuZ2NUaW1lIHx8IDAsXG4gICAgICBuZXdHY1RpbWUgPz8gKGlzU2VydmVyID8gSW5maW5pdHkgOiA1ICogNjAgKiAxMDAwKSxcbiAgICApXG4gIH1cblxuICBwcm90ZWN0ZWQgY2xlYXJHY1RpbWVvdXQoKSB7XG4gICAgaWYgKHRoaXMuI2djVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuI2djVGltZW91dClcbiAgICAgIHRoaXMuI2djVGltZW91dCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBvcHRpb25hbFJlbW92ZSgpOiB2b2lkXG59XG4iLCAiaW1wb3J0IHtcbiAgZW5zdXJlUXVlcnlGbixcbiAgbm9vcCxcbiAgcmVwbGFjZURhdGEsXG4gIHJlc29sdmVFbmFibGVkLFxuICBza2lwVG9rZW4sXG4gIHRpbWVVbnRpbFN0YWxlLFxufSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgbm90aWZ5TWFuYWdlciB9IGZyb20gJy4vbm90aWZ5TWFuYWdlcidcbmltcG9ydCB7IGNhbkZldGNoLCBjcmVhdGVSZXRyeWVyLCBpc0NhbmNlbGxlZEVycm9yIH0gZnJvbSAnLi9yZXRyeWVyJ1xuaW1wb3J0IHsgUmVtb3ZhYmxlIH0gZnJvbSAnLi9yZW1vdmFibGUnXG5pbXBvcnQgdHlwZSB7IFF1ZXJ5Q2FjaGUgfSBmcm9tICcuL3F1ZXJ5Q2FjaGUnXG5pbXBvcnQgdHlwZSB7IFF1ZXJ5Q2xpZW50IH0gZnJvbSAnLi9xdWVyeUNsaWVudCdcbmltcG9ydCB0eXBlIHtcbiAgQ2FuY2VsT3B0aW9ucyxcbiAgRGVmYXVsdEVycm9yLFxuICBGZXRjaFN0YXR1cyxcbiAgSW5pdGlhbERhdGFGdW5jdGlvbixcbiAgT21pdEtleW9mLFxuICBRdWVyeUZ1bmN0aW9uLFxuICBRdWVyeUZ1bmN0aW9uQ29udGV4dCxcbiAgUXVlcnlLZXksXG4gIFF1ZXJ5TWV0YSxcbiAgUXVlcnlPcHRpb25zLFxuICBRdWVyeVN0YXR1cyxcbiAgU2V0RGF0YU9wdGlvbnMsXG59IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFF1ZXJ5T2JzZXJ2ZXIgfSBmcm9tICcuL3F1ZXJ5T2JzZXJ2ZXInXG5pbXBvcnQgdHlwZSB7IFJldHJ5ZXIgfSBmcm9tICcuL3JldHJ5ZXInXG5cbi8vIFRZUEVTXG5cbmludGVyZmFjZSBRdWVyeUNvbmZpZzxcbiAgVFF1ZXJ5Rm5EYXRhLFxuICBURXJyb3IsXG4gIFREYXRhLFxuICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuPiB7XG4gIGNsaWVudDogUXVlcnlDbGllbnRcbiAgcXVlcnlLZXk6IFRRdWVyeUtleVxuICBxdWVyeUhhc2g6IHN0cmluZ1xuICBvcHRpb25zPzogUXVlcnlPcHRpb25zPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5S2V5PlxuICBkZWZhdWx0T3B0aW9ucz86IFF1ZXJ5T3B0aW9uczxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeUtleT5cbiAgc3RhdGU/OiBRdWVyeVN0YXRlPFREYXRhLCBURXJyb3I+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlTdGF0ZTxURGF0YSA9IHVua25vd24sIFRFcnJvciA9IERlZmF1bHRFcnJvcj4ge1xuICBkYXRhOiBURGF0YSB8IHVuZGVmaW5lZFxuICBkYXRhVXBkYXRlQ291bnQ6IG51bWJlclxuICBkYXRhVXBkYXRlZEF0OiBudW1iZXJcbiAgZXJyb3I6IFRFcnJvciB8IG51bGxcbiAgZXJyb3JVcGRhdGVDb3VudDogbnVtYmVyXG4gIGVycm9yVXBkYXRlZEF0OiBudW1iZXJcbiAgZmV0Y2hGYWlsdXJlQ291bnQ6IG51bWJlclxuICBmZXRjaEZhaWx1cmVSZWFzb246IFRFcnJvciB8IG51bGxcbiAgZmV0Y2hNZXRhOiBGZXRjaE1ldGEgfCBudWxsXG4gIGlzSW52YWxpZGF0ZWQ6IGJvb2xlYW5cbiAgc3RhdHVzOiBRdWVyeVN0YXR1c1xuICBmZXRjaFN0YXR1czogRmV0Y2hTdGF0dXNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGZXRjaENvbnRleHQ8XG4gIFRRdWVyeUZuRGF0YSxcbiAgVEVycm9yLFxuICBURGF0YSxcbiAgVFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleSxcbj4ge1xuICBmZXRjaEZuOiAoKSA9PiB1bmtub3duIHwgUHJvbWlzZTx1bmtub3duPlxuICBmZXRjaE9wdGlvbnM/OiBGZXRjaE9wdGlvbnNcbiAgc2lnbmFsOiBBYm9ydFNpZ25hbFxuICBvcHRpb25zOiBRdWVyeU9wdGlvbnM8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBhbnk+XG4gIGNsaWVudDogUXVlcnlDbGllbnRcbiAgcXVlcnlLZXk6IFRRdWVyeUtleVxuICBzdGF0ZTogUXVlcnlTdGF0ZTxURGF0YSwgVEVycm9yPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5QmVoYXZpb3I8XG4gIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgVERhdGEgPSBUUXVlcnlGbkRhdGEsXG4gIFRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4+IHtcbiAgb25GZXRjaDogKFxuICAgIGNvbnRleHQ6IEZldGNoQ29udGV4dDxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeUtleT4sXG4gICAgcXVlcnk6IFF1ZXJ5LFxuICApID0+IHZvaWRcbn1cblxuZXhwb3J0IHR5cGUgRmV0Y2hEaXJlY3Rpb24gPSAnZm9yd2FyZCcgfCAnYmFja3dhcmQnXG5cbmV4cG9ydCBpbnRlcmZhY2UgRmV0Y2hNZXRhIHtcbiAgZmV0Y2hNb3JlPzogeyBkaXJlY3Rpb246IEZldGNoRGlyZWN0aW9uIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGZXRjaE9wdGlvbnM8VERhdGEgPSB1bmtub3duPiB7XG4gIGNhbmNlbFJlZmV0Y2g/OiBib29sZWFuXG4gIG1ldGE/OiBGZXRjaE1ldGFcbiAgaW5pdGlhbFByb21pc2U/OiBQcm9taXNlPFREYXRhPlxufVxuXG5pbnRlcmZhY2UgRmFpbGVkQWN0aW9uPFRFcnJvcj4ge1xuICB0eXBlOiAnZmFpbGVkJ1xuICBmYWlsdXJlQ291bnQ6IG51bWJlclxuICBlcnJvcjogVEVycm9yXG59XG5cbmludGVyZmFjZSBGZXRjaEFjdGlvbiB7XG4gIHR5cGU6ICdmZXRjaCdcbiAgbWV0YT86IEZldGNoTWV0YVxufVxuXG5pbnRlcmZhY2UgU3VjY2Vzc0FjdGlvbjxURGF0YT4ge1xuICBkYXRhOiBURGF0YSB8IHVuZGVmaW5lZFxuICB0eXBlOiAnc3VjY2VzcydcbiAgZGF0YVVwZGF0ZWRBdD86IG51bWJlclxuICBtYW51YWw/OiBib29sZWFuXG59XG5cbmludGVyZmFjZSBFcnJvckFjdGlvbjxURXJyb3I+IHtcbiAgdHlwZTogJ2Vycm9yJ1xuICBlcnJvcjogVEVycm9yXG59XG5cbmludGVyZmFjZSBJbnZhbGlkYXRlQWN0aW9uIHtcbiAgdHlwZTogJ2ludmFsaWRhdGUnXG59XG5cbmludGVyZmFjZSBQYXVzZUFjdGlvbiB7XG4gIHR5cGU6ICdwYXVzZSdcbn1cblxuaW50ZXJmYWNlIENvbnRpbnVlQWN0aW9uIHtcbiAgdHlwZTogJ2NvbnRpbnVlJ1xufVxuXG5pbnRlcmZhY2UgU2V0U3RhdGVBY3Rpb248VERhdGEsIFRFcnJvcj4ge1xuICB0eXBlOiAnc2V0U3RhdGUnXG4gIHN0YXRlOiBQYXJ0aWFsPFF1ZXJ5U3RhdGU8VERhdGEsIFRFcnJvcj4+XG4gIHNldFN0YXRlT3B0aW9ucz86IFNldFN0YXRlT3B0aW9uc1xufVxuXG5leHBvcnQgdHlwZSBBY3Rpb248VERhdGEsIFRFcnJvcj4gPVxuICB8IENvbnRpbnVlQWN0aW9uXG4gIHwgRXJyb3JBY3Rpb248VEVycm9yPlxuICB8IEZhaWxlZEFjdGlvbjxURXJyb3I+XG4gIHwgRmV0Y2hBY3Rpb25cbiAgfCBJbnZhbGlkYXRlQWN0aW9uXG4gIHwgUGF1c2VBY3Rpb25cbiAgfCBTZXRTdGF0ZUFjdGlvbjxURGF0YSwgVEVycm9yPlxuICB8IFN1Y2Nlc3NBY3Rpb248VERhdGE+XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2V0U3RhdGVPcHRpb25zIHtcbiAgbWV0YT86IGFueVxufVxuXG4vLyBDTEFTU1xuXG5leHBvcnQgY2xhc3MgUXVlcnk8XG4gIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgVERhdGEgPSBUUXVlcnlGbkRhdGEsXG4gIFRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4+IGV4dGVuZHMgUmVtb3ZhYmxlIHtcbiAgcXVlcnlLZXk6IFRRdWVyeUtleVxuICBxdWVyeUhhc2g6IHN0cmluZ1xuICBvcHRpb25zITogUXVlcnlPcHRpb25zPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5S2V5PlxuICBzdGF0ZTogUXVlcnlTdGF0ZTxURGF0YSwgVEVycm9yPlxuXG4gICNpbml0aWFsU3RhdGU6IFF1ZXJ5U3RhdGU8VERhdGEsIFRFcnJvcj5cbiAgI3JldmVydFN0YXRlPzogUXVlcnlTdGF0ZTxURGF0YSwgVEVycm9yPlxuICAjY2FjaGU6IFF1ZXJ5Q2FjaGVcbiAgI2NsaWVudDogUXVlcnlDbGllbnRcbiAgI3JldHJ5ZXI/OiBSZXRyeWVyPFREYXRhPlxuICBvYnNlcnZlcnM6IEFycmF5PFF1ZXJ5T2JzZXJ2ZXI8YW55LCBhbnksIGFueSwgYW55LCBhbnk+PlxuICAjZGVmYXVsdE9wdGlvbnM/OiBRdWVyeU9wdGlvbnM8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+XG4gICNhYm9ydFNpZ25hbENvbnN1bWVkOiBib29sZWFuXG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBRdWVyeUNvbmZpZzxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeUtleT4pIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLiNhYm9ydFNpZ25hbENvbnN1bWVkID0gZmFsc2VcbiAgICB0aGlzLiNkZWZhdWx0T3B0aW9ucyA9IGNvbmZpZy5kZWZhdWx0T3B0aW9uc1xuICAgIHRoaXMuc2V0T3B0aW9ucyhjb25maWcub3B0aW9ucylcbiAgICB0aGlzLm9ic2VydmVycyA9IFtdXG4gICAgdGhpcy4jY2xpZW50ID0gY29uZmlnLmNsaWVudFxuICAgIHRoaXMuI2NhY2hlID0gdGhpcy4jY2xpZW50LmdldFF1ZXJ5Q2FjaGUoKVxuICAgIHRoaXMucXVlcnlLZXkgPSBjb25maWcucXVlcnlLZXlcbiAgICB0aGlzLnF1ZXJ5SGFzaCA9IGNvbmZpZy5xdWVyeUhhc2hcbiAgICB0aGlzLiNpbml0aWFsU3RhdGUgPSBnZXREZWZhdWx0U3RhdGUodGhpcy5vcHRpb25zKVxuICAgIHRoaXMuc3RhdGUgPSBjb25maWcuc3RhdGUgPz8gdGhpcy4jaW5pdGlhbFN0YXRlXG4gICAgdGhpcy5zY2hlZHVsZUdjKClcbiAgfVxuICBnZXQgbWV0YSgpOiBRdWVyeU1ldGEgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMubWV0YVxuICB9XG5cbiAgZ2V0IHByb21pc2UoKTogUHJvbWlzZTxURGF0YT4gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLiNyZXRyeWVyPy5wcm9taXNlXG4gIH1cblxuICBzZXRPcHRpb25zKFxuICAgIG9wdGlvbnM/OiBRdWVyeU9wdGlvbnM8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuICApOiB2b2lkIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLnRoaXMuI2RlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH1cblxuICAgIHRoaXMudXBkYXRlR2NUaW1lKHRoaXMub3B0aW9ucy5nY1RpbWUpXG4gIH1cblxuICBwcm90ZWN0ZWQgb3B0aW9uYWxSZW1vdmUoKSB7XG4gICAgaWYgKCF0aGlzLm9ic2VydmVycy5sZW5ndGggJiYgdGhpcy5zdGF0ZS5mZXRjaFN0YXR1cyA9PT0gJ2lkbGUnKSB7XG4gICAgICB0aGlzLiNjYWNoZS5yZW1vdmUodGhpcylcbiAgICB9XG4gIH1cblxuICBzZXREYXRhKFxuICAgIG5ld0RhdGE6IFREYXRhLFxuICAgIG9wdGlvbnM/OiBTZXREYXRhT3B0aW9ucyAmIHsgbWFudWFsOiBib29sZWFuIH0sXG4gICk6IFREYXRhIHtcbiAgICBjb25zdCBkYXRhID0gcmVwbGFjZURhdGEodGhpcy5zdGF0ZS5kYXRhLCBuZXdEYXRhLCB0aGlzLm9wdGlvbnMpXG5cbiAgICAvLyBTZXQgZGF0YSBhbmQgbWFyayBpdCBhcyBjYWNoZWRcbiAgICB0aGlzLiNkaXNwYXRjaCh7XG4gICAgICBkYXRhLFxuICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgZGF0YVVwZGF0ZWRBdDogb3B0aW9ucz8udXBkYXRlZEF0LFxuICAgICAgbWFudWFsOiBvcHRpb25zPy5tYW51YWwsXG4gICAgfSlcblxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBzZXRTdGF0ZShcbiAgICBzdGF0ZTogUGFydGlhbDxRdWVyeVN0YXRlPFREYXRhLCBURXJyb3I+PixcbiAgICBzZXRTdGF0ZU9wdGlvbnM/OiBTZXRTdGF0ZU9wdGlvbnMsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuI2Rpc3BhdGNoKHsgdHlwZTogJ3NldFN0YXRlJywgc3RhdGUsIHNldFN0YXRlT3B0aW9ucyB9KVxuICB9XG5cbiAgY2FuY2VsKG9wdGlvbnM/OiBDYW5jZWxPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuI3JldHJ5ZXI/LnByb21pc2VcbiAgICB0aGlzLiNyZXRyeWVyPy5jYW5jZWwob3B0aW9ucylcbiAgICByZXR1cm4gcHJvbWlzZSA/IHByb21pc2UudGhlbihub29wKS5jYXRjaChub29wKSA6IFByb21pc2UucmVzb2x2ZSgpXG4gIH1cblxuICBkZXN0cm95KCk6IHZvaWQge1xuICAgIHN1cGVyLmRlc3Ryb3koKVxuXG4gICAgdGhpcy5jYW5jZWwoeyBzaWxlbnQ6IHRydWUgfSlcbiAgfVxuXG4gIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuZGVzdHJveSgpXG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLiNpbml0aWFsU3RhdGUpXG4gIH1cblxuICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5vYnNlcnZlcnMuc29tZShcbiAgICAgIChvYnNlcnZlcikgPT4gcmVzb2x2ZUVuYWJsZWQob2JzZXJ2ZXIub3B0aW9ucy5lbmFibGVkLCB0aGlzKSAhPT0gZmFsc2UsXG4gICAgKVxuICB9XG5cbiAgaXNEaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5nZXRPYnNlcnZlcnNDb3VudCgpID4gMCkge1xuICAgICAgcmV0dXJuICF0aGlzLmlzQWN0aXZlKClcbiAgICB9XG4gICAgLy8gaWYgYSBxdWVyeSBoYXMgbm8gb2JzZXJ2ZXJzLCBpdCBzaG91bGQgc3RpbGwgYmUgY29uc2lkZXJlZCBkaXNhYmxlZCBpZiBpdCBuZXZlciBhdHRlbXB0ZWQgYSBmZXRjaFxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLm9wdGlvbnMucXVlcnlGbiA9PT0gc2tpcFRva2VuIHx8XG4gICAgICB0aGlzLnN0YXRlLmRhdGFVcGRhdGVDb3VudCArIHRoaXMuc3RhdGUuZXJyb3JVcGRhdGVDb3VudCA9PT0gMFxuICAgIClcbiAgfVxuXG4gIGlzU3RhbGUoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNJbnZhbGlkYXRlZCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpZiAodGhpcy5nZXRPYnNlcnZlcnNDb3VudCgpID4gMCkge1xuICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJzLnNvbWUoXG4gICAgICAgIChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIuZ2V0Q3VycmVudFJlc3VsdCgpLmlzU3RhbGUsXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZGF0YSA9PT0gdW5kZWZpbmVkXG4gIH1cblxuICBpc1N0YWxlQnlUaW1lKHN0YWxlVGltZSA9IDApOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5zdGF0ZS5pc0ludmFsaWRhdGVkIHx8XG4gICAgICB0aGlzLnN0YXRlLmRhdGEgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgIXRpbWVVbnRpbFN0YWxlKHRoaXMuc3RhdGUuZGF0YVVwZGF0ZWRBdCwgc3RhbGVUaW1lKVxuICAgIClcbiAgfVxuXG4gIG9uRm9jdXMoKTogdm9pZCB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVycy5maW5kKCh4KSA9PiB4LnNob3VsZEZldGNoT25XaW5kb3dGb2N1cygpKVxuXG4gICAgb2JzZXJ2ZXI/LnJlZmV0Y2goeyBjYW5jZWxSZWZldGNoOiBmYWxzZSB9KVxuXG4gICAgLy8gQ29udGludWUgZmV0Y2ggaWYgY3VycmVudGx5IHBhdXNlZFxuICAgIHRoaXMuI3JldHJ5ZXI/LmNvbnRpbnVlKClcbiAgfVxuXG4gIG9uT25saW5lKCk6IHZvaWQge1xuICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcnMuZmluZCgoeCkgPT4geC5zaG91bGRGZXRjaE9uUmVjb25uZWN0KCkpXG5cbiAgICBvYnNlcnZlcj8ucmVmZXRjaCh7IGNhbmNlbFJlZmV0Y2g6IGZhbHNlIH0pXG5cbiAgICAvLyBDb250aW51ZSBmZXRjaCBpZiBjdXJyZW50bHkgcGF1c2VkXG4gICAgdGhpcy4jcmV0cnllcj8uY29udGludWUoKVxuICB9XG5cbiAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXI6IFF1ZXJ5T2JzZXJ2ZXI8YW55LCBhbnksIGFueSwgYW55LCBhbnk+KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm9ic2VydmVycy5pbmNsdWRlcyhvYnNlcnZlcikpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpXG5cbiAgICAgIC8vIFN0b3AgdGhlIHF1ZXJ5IGZyb20gYmVpbmcgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAgICAgIHRoaXMuY2xlYXJHY1RpbWVvdXQoKVxuXG4gICAgICB0aGlzLiNjYWNoZS5ub3RpZnkoeyB0eXBlOiAnb2JzZXJ2ZXJBZGRlZCcsIHF1ZXJ5OiB0aGlzLCBvYnNlcnZlciB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyOiBRdWVyeU9ic2VydmVyPGFueSwgYW55LCBhbnksIGFueSwgYW55Pik6IHZvaWQge1xuICAgIGlmICh0aGlzLm9ic2VydmVycy5pbmNsdWRlcyhvYnNlcnZlcikpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnMuZmlsdGVyKCh4KSA9PiB4ICE9PSBvYnNlcnZlcilcblxuICAgICAgaWYgKCF0aGlzLm9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgLy8gSWYgdGhlIHRyYW5zcG9ydCBsYXllciBkb2VzIG5vdCBzdXBwb3J0IGNhbmNlbGxhdGlvblxuICAgICAgICAvLyB3ZSdsbCBsZXQgdGhlIHF1ZXJ5IGNvbnRpbnVlIHNvIHRoZSByZXN1bHQgY2FuIGJlIGNhY2hlZFxuICAgICAgICBpZiAodGhpcy4jcmV0cnllcikge1xuICAgICAgICAgIGlmICh0aGlzLiNhYm9ydFNpZ25hbENvbnN1bWVkKSB7XG4gICAgICAgICAgICB0aGlzLiNyZXRyeWVyLmNhbmNlbCh7IHJldmVydDogdHJ1ZSB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiNyZXRyeWVyLmNhbmNlbFJldHJ5KClcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjaGVkdWxlR2MoKVxuICAgICAgfVxuXG4gICAgICB0aGlzLiNjYWNoZS5ub3RpZnkoeyB0eXBlOiAnb2JzZXJ2ZXJSZW1vdmVkJywgcXVlcnk6IHRoaXMsIG9ic2VydmVyIH0pXG4gICAgfVxuICB9XG5cbiAgZ2V0T2JzZXJ2ZXJzQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5vYnNlcnZlcnMubGVuZ3RoXG4gIH1cblxuICBpbnZhbGlkYXRlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0ludmFsaWRhdGVkKSB7XG4gICAgICB0aGlzLiNkaXNwYXRjaCh7IHR5cGU6ICdpbnZhbGlkYXRlJyB9KVxuICAgIH1cbiAgfVxuXG4gIGZldGNoKFxuICAgIG9wdGlvbnM/OiBRdWVyeU9wdGlvbnM8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuICAgIGZldGNoT3B0aW9ucz86IEZldGNoT3B0aW9uczxUUXVlcnlGbkRhdGE+LFxuICApOiBQcm9taXNlPFREYXRhPiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZmV0Y2hTdGF0dXMgIT09ICdpZGxlJykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZGF0YSAhPT0gdW5kZWZpbmVkICYmIGZldGNoT3B0aW9ucz8uY2FuY2VsUmVmZXRjaCkge1xuICAgICAgICAvLyBTaWxlbnRseSBjYW5jZWwgY3VycmVudCBmZXRjaCBpZiB0aGUgdXNlciB3YW50cyB0byBjYW5jZWwgcmVmZXRjaFxuICAgICAgICB0aGlzLmNhbmNlbCh7IHNpbGVudDogdHJ1ZSB9KVxuICAgICAgfSBlbHNlIGlmICh0aGlzLiNyZXRyeWVyKSB7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHJldHJpZXMgdGhhdCB3ZXJlIHBvdGVudGlhbGx5IGNhbmNlbGxlZCBkdWUgdG8gdW5tb3VudHMgY2FuIGNvbnRpbnVlXG4gICAgICAgIHRoaXMuI3JldHJ5ZXIuY29udGludWVSZXRyeSgpXG4gICAgICAgIC8vIFJldHVybiBjdXJyZW50IHByb21pc2UgaWYgd2UgYXJlIGFscmVhZHkgZmV0Y2hpbmdcbiAgICAgICAgcmV0dXJuIHRoaXMuI3JldHJ5ZXIucHJvbWlzZVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBjb25maWcgaWYgcGFzc2VkLCBvdGhlcndpc2UgdGhlIGNvbmZpZyBmcm9tIHRoZSBsYXN0IGV4ZWN1dGlvbiBpcyB1c2VkXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKVxuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgb3B0aW9ucyBmcm9tIHRoZSBmaXJzdCBvYnNlcnZlciB3aXRoIGEgcXVlcnkgZnVuY3Rpb24gaWYgbm8gZnVuY3Rpb24gaXMgZm91bmQuXG4gICAgLy8gVGhpcyBjYW4gaGFwcGVuIHdoZW4gdGhlIHF1ZXJ5IGlzIGh5ZHJhdGVkIG9yIGNyZWF0ZWQgd2l0aCBzZXRRdWVyeURhdGEuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucXVlcnlGbikge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVycy5maW5kKCh4KSA9PiB4Lm9wdGlvbnMucXVlcnlGbilcbiAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICB0aGlzLnNldE9wdGlvbnMob2JzZXJ2ZXIub3B0aW9ucylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5xdWVyeUtleSkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgQXMgb2YgdjQsIHF1ZXJ5S2V5IG5lZWRzIHRvIGJlIGFuIEFycmF5LiBJZiB5b3UgYXJlIHVzaW5nIGEgc3RyaW5nIGxpa2UgJ3JlcG9EYXRhJywgcGxlYXNlIGNoYW5nZSBpdCB0byBhbiBBcnJheSwgZS5nLiBbJ3JlcG9EYXRhJ11gLFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG5cbiAgICAvLyBBZGRzIGFuIGVudW1lcmFibGUgc2lnbmFsIHByb3BlcnR5IHRvIHRoZSBvYmplY3QgdGhhdFxuICAgIC8vIHdoaWNoIHNldHMgYWJvcnRTaWduYWxDb25zdW1lZCB0byB0cnVlIHdoZW4gdGhlIHNpZ25hbFxuICAgIC8vIGlzIHJlYWQuXG4gICAgY29uc3QgYWRkU2lnbmFsUHJvcGVydHkgPSAob2JqZWN0OiB1bmtub3duKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCAnc2lnbmFsJywge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLiNhYm9ydFNpZ25hbENvbnN1bWVkID0gdHJ1ZVxuICAgICAgICAgIHJldHVybiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBmZXRjaCBmdW5jdGlvblxuICAgIGNvbnN0IGZldGNoRm4gPSAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeUZuID0gZW5zdXJlUXVlcnlGbih0aGlzLm9wdGlvbnMsIGZldGNoT3B0aW9ucylcblxuICAgICAgLy8gQ3JlYXRlIHF1ZXJ5IGZ1bmN0aW9uIGNvbnRleHRcbiAgICAgIGNvbnN0IHF1ZXJ5Rm5Db250ZXh0OiBPbWl0S2V5b2Y8XG4gICAgICAgIFF1ZXJ5RnVuY3Rpb25Db250ZXh0PFRRdWVyeUtleT4sXG4gICAgICAgICdzaWduYWwnXG4gICAgICA+ID0ge1xuICAgICAgICBjbGllbnQ6IHRoaXMuI2NsaWVudCxcbiAgICAgICAgcXVlcnlLZXk6IHRoaXMucXVlcnlLZXksXG4gICAgICAgIG1ldGE6IHRoaXMubWV0YSxcbiAgICAgIH1cblxuICAgICAgYWRkU2lnbmFsUHJvcGVydHkocXVlcnlGbkNvbnRleHQpXG5cbiAgICAgIHRoaXMuI2Fib3J0U2lnbmFsQ29uc3VtZWQgPSBmYWxzZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZXJzaXN0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wZXJzaXN0ZXIoXG4gICAgICAgICAgcXVlcnlGbiBhcyBRdWVyeUZ1bmN0aW9uPGFueT4sXG4gICAgICAgICAgcXVlcnlGbkNvbnRleHQgYXMgUXVlcnlGdW5jdGlvbkNvbnRleHQ8VFF1ZXJ5S2V5PixcbiAgICAgICAgICB0aGlzIGFzIHVua25vd24gYXMgUXVlcnksXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5Rm4ocXVlcnlGbkNvbnRleHQgYXMgUXVlcnlGdW5jdGlvbkNvbnRleHQ8VFF1ZXJ5S2V5PilcbiAgICB9XG5cbiAgICAvLyBUcmlnZ2VyIGJlaGF2aW9yIGhvb2tcbiAgICBjb25zdCBjb250ZXh0OiBPbWl0S2V5b2Y8XG4gICAgICBGZXRjaENvbnRleHQ8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuICAgICAgJ3NpZ25hbCdcbiAgICA+ID0ge1xuICAgICAgZmV0Y2hPcHRpb25zLFxuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgcXVlcnlLZXk6IHRoaXMucXVlcnlLZXksXG4gICAgICBjbGllbnQ6IHRoaXMuI2NsaWVudCxcbiAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgZmV0Y2hGbixcbiAgICB9XG5cbiAgICBhZGRTaWduYWxQcm9wZXJ0eShjb250ZXh0KVxuXG4gICAgdGhpcy5vcHRpb25zLmJlaGF2aW9yPy5vbkZldGNoKFxuICAgICAgY29udGV4dCBhcyBGZXRjaENvbnRleHQ8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuICAgICAgdGhpcyBhcyB1bmtub3duIGFzIFF1ZXJ5LFxuICAgIClcblxuICAgIC8vIFN0b3JlIHN0YXRlIGluIGNhc2UgdGhlIGN1cnJlbnQgZmV0Y2ggbmVlZHMgdG8gYmUgcmV2ZXJ0ZWRcbiAgICB0aGlzLiNyZXZlcnRTdGF0ZSA9IHRoaXMuc3RhdGVcblxuICAgIC8vIFNldCB0byBmZXRjaGluZyBzdGF0ZSBpZiBub3QgYWxyZWFkeSBpbiBpdFxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUuZmV0Y2hTdGF0dXMgPT09ICdpZGxlJyB8fFxuICAgICAgdGhpcy5zdGF0ZS5mZXRjaE1ldGEgIT09IGNvbnRleHQuZmV0Y2hPcHRpb25zPy5tZXRhXG4gICAgKSB7XG4gICAgICB0aGlzLiNkaXNwYXRjaCh7IHR5cGU6ICdmZXRjaCcsIG1ldGE6IGNvbnRleHQuZmV0Y2hPcHRpb25zPy5tZXRhIH0pXG4gICAgfVxuXG4gICAgY29uc3Qgb25FcnJvciA9IChlcnJvcjogVEVycm9yIHwgeyBzaWxlbnQ/OiBib29sZWFuIH0pID0+IHtcbiAgICAgIC8vIE9wdGltaXN0aWNhbGx5IHVwZGF0ZSBzdGF0ZSBpZiBuZWVkZWRcbiAgICAgIGlmICghKGlzQ2FuY2VsbGVkRXJyb3IoZXJyb3IpICYmIGVycm9yLnNpbGVudCkpIHtcbiAgICAgICAgdGhpcy4jZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgZXJyb3I6IGVycm9yIGFzIFRFcnJvcixcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0NhbmNlbGxlZEVycm9yKGVycm9yKSkge1xuICAgICAgICAvLyBOb3RpZnkgY2FjaGUgY2FsbGJhY2tcbiAgICAgICAgdGhpcy4jY2FjaGUuY29uZmlnLm9uRXJyb3I/LihcbiAgICAgICAgICBlcnJvciBhcyBhbnksXG4gICAgICAgICAgdGhpcyBhcyBRdWVyeTxhbnksIGFueSwgYW55LCBhbnk+LFxuICAgICAgICApXG4gICAgICAgIHRoaXMuI2NhY2hlLmNvbmZpZy5vblNldHRsZWQ/LihcbiAgICAgICAgICB0aGlzLnN0YXRlLmRhdGEsXG4gICAgICAgICAgZXJyb3IgYXMgYW55LFxuICAgICAgICAgIHRoaXMgYXMgUXVlcnk8YW55LCBhbnksIGFueSwgYW55PixcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICAvLyBTY2hlZHVsZSBxdWVyeSBnYyBhZnRlciBmZXRjaGluZ1xuICAgICAgdGhpcy5zY2hlZHVsZUdjKClcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gZmV0Y2ggdGhlIGRhdGFcbiAgICB0aGlzLiNyZXRyeWVyID0gY3JlYXRlUmV0cnllcih7XG4gICAgICBpbml0aWFsUHJvbWlzZTogZmV0Y2hPcHRpb25zPy5pbml0aWFsUHJvbWlzZSBhc1xuICAgICAgICB8IFByb21pc2U8VERhdGE+XG4gICAgICAgIHwgdW5kZWZpbmVkLFxuICAgICAgZm46IGNvbnRleHQuZmV0Y2hGbiBhcyAoKSA9PiBQcm9taXNlPFREYXRhPixcbiAgICAgIGFib3J0OiBhYm9ydENvbnRyb2xsZXIuYWJvcnQuYmluZChhYm9ydENvbnRyb2xsZXIpLFxuICAgICAgb25TdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIGBRdWVyeSBkYXRhIGNhbm5vdCBiZSB1bmRlZmluZWQuIFBsZWFzZSBtYWtlIHN1cmUgdG8gcmV0dXJuIGEgdmFsdWUgb3RoZXIgdGhhbiB1bmRlZmluZWQgZnJvbSB5b3VyIHF1ZXJ5IGZ1bmN0aW9uLiBBZmZlY3RlZCBxdWVyeSBrZXk6ICR7dGhpcy5xdWVyeUhhc2h9YCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgb25FcnJvcihuZXcgRXJyb3IoYCR7dGhpcy5xdWVyeUhhc2h9IGRhdGEgaXMgdW5kZWZpbmVkYCkgYXMgYW55KVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLnNldERhdGEoZGF0YSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBvbkVycm9yKGVycm9yIGFzIFRFcnJvcilcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdGlmeSBjYWNoZSBjYWxsYmFja1xuICAgICAgICB0aGlzLiNjYWNoZS5jb25maWcub25TdWNjZXNzPy4oZGF0YSwgdGhpcyBhcyBRdWVyeTxhbnksIGFueSwgYW55LCBhbnk+KVxuICAgICAgICB0aGlzLiNjYWNoZS5jb25maWcub25TZXR0bGVkPy4oXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICB0aGlzLnN0YXRlLmVycm9yIGFzIGFueSxcbiAgICAgICAgICB0aGlzIGFzIFF1ZXJ5PGFueSwgYW55LCBhbnksIGFueT4sXG4gICAgICAgIClcblxuICAgICAgICAvLyBTY2hlZHVsZSBxdWVyeSBnYyBhZnRlciBmZXRjaGluZ1xuICAgICAgICB0aGlzLnNjaGVkdWxlR2MoKVxuICAgICAgfSxcbiAgICAgIG9uRXJyb3IsXG4gICAgICBvbkZhaWw6IChmYWlsdXJlQ291bnQsIGVycm9yKSA9PiB7XG4gICAgICAgIHRoaXMuI2Rpc3BhdGNoKHsgdHlwZTogJ2ZhaWxlZCcsIGZhaWx1cmVDb3VudCwgZXJyb3IgfSlcbiAgICAgIH0sXG4gICAgICBvblBhdXNlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuI2Rpc3BhdGNoKHsgdHlwZTogJ3BhdXNlJyB9KVxuICAgICAgfSxcbiAgICAgIG9uQ29udGludWU6ICgpID0+IHtcbiAgICAgICAgdGhpcy4jZGlzcGF0Y2goeyB0eXBlOiAnY29udGludWUnIH0pXG4gICAgICB9LFxuICAgICAgcmV0cnk6IGNvbnRleHQub3B0aW9ucy5yZXRyeSxcbiAgICAgIHJldHJ5RGVsYXk6IGNvbnRleHQub3B0aW9ucy5yZXRyeURlbGF5LFxuICAgICAgbmV0d29ya01vZGU6IGNvbnRleHQub3B0aW9ucy5uZXR3b3JrTW9kZSxcbiAgICAgIGNhblJ1bjogKCkgPT4gdHJ1ZSxcbiAgICB9KVxuXG4gICAgcmV0dXJuIHRoaXMuI3JldHJ5ZXIuc3RhcnQoKVxuICB9XG5cbiAgI2Rpc3BhdGNoKGFjdGlvbjogQWN0aW9uPFREYXRhLCBURXJyb3I+KTogdm9pZCB7XG4gICAgY29uc3QgcmVkdWNlciA9IChcbiAgICAgIHN0YXRlOiBRdWVyeVN0YXRlPFREYXRhLCBURXJyb3I+LFxuICAgICk6IFF1ZXJ5U3RhdGU8VERhdGEsIFRFcnJvcj4gPT4ge1xuICAgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGZldGNoRmFpbHVyZUNvdW50OiBhY3Rpb24uZmFpbHVyZUNvdW50LFxuICAgICAgICAgICAgZmV0Y2hGYWlsdXJlUmVhc29uOiBhY3Rpb24uZXJyb3IsXG4gICAgICAgICAgfVxuICAgICAgICBjYXNlICdwYXVzZSc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgZmV0Y2hTdGF0dXM6ICdwYXVzZWQnLFxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnY29udGludWUnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGZldGNoU3RhdHVzOiAnZmV0Y2hpbmcnLFxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnZmV0Y2gnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIC4uLmZldGNoU3RhdGUoc3RhdGUuZGF0YSwgdGhpcy5vcHRpb25zKSxcbiAgICAgICAgICAgIGZldGNoTWV0YTogYWN0aW9uLm1ldGEgPz8gbnVsbCxcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGRhdGE6IGFjdGlvbi5kYXRhLFxuICAgICAgICAgICAgZGF0YVVwZGF0ZUNvdW50OiBzdGF0ZS5kYXRhVXBkYXRlQ291bnQgKyAxLFxuICAgICAgICAgICAgZGF0YVVwZGF0ZWRBdDogYWN0aW9uLmRhdGFVcGRhdGVkQXQgPz8gRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgaXNJbnZhbGlkYXRlZDogZmFsc2UsXG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIC4uLighYWN0aW9uLm1hbnVhbCAmJiB7XG4gICAgICAgICAgICAgIGZldGNoU3RhdHVzOiAnaWRsZScsXG4gICAgICAgICAgICAgIGZldGNoRmFpbHVyZUNvdW50OiAwLFxuICAgICAgICAgICAgICBmZXRjaEZhaWx1cmVSZWFzb246IG51bGwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICBjb25zdCBlcnJvciA9IGFjdGlvbi5lcnJvclxuXG4gICAgICAgICAgaWYgKGlzQ2FuY2VsbGVkRXJyb3IoZXJyb3IpICYmIGVycm9yLnJldmVydCAmJiB0aGlzLiNyZXZlcnRTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4udGhpcy4jcmV2ZXJ0U3RhdGUsIGZldGNoU3RhdHVzOiAnaWRsZScgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgZXJyb3JVcGRhdGVDb3VudDogc3RhdGUuZXJyb3JVcGRhdGVDb3VudCArIDEsXG4gICAgICAgICAgICBlcnJvclVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIGZldGNoRmFpbHVyZUNvdW50OiBzdGF0ZS5mZXRjaEZhaWx1cmVDb3VudCArIDEsXG4gICAgICAgICAgICBmZXRjaEZhaWx1cmVSZWFzb246IGVycm9yLFxuICAgICAgICAgICAgZmV0Y2hTdGF0dXM6ICdpZGxlJyxcbiAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2ludmFsaWRhdGUnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGlzSW52YWxpZGF0ZWQ6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICBjYXNlICdzZXRTdGF0ZSc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgLi4uYWN0aW9uLnN0YXRlLFxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0gcmVkdWNlcih0aGlzLnN0YXRlKVxuXG4gICAgbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKChvYnNlcnZlcikgPT4ge1xuICAgICAgICBvYnNlcnZlci5vblF1ZXJ5VXBkYXRlKClcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuI2NhY2hlLm5vdGlmeSh7IHF1ZXJ5OiB0aGlzLCB0eXBlOiAndXBkYXRlZCcsIGFjdGlvbiB9KVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoU3RhdGU8XG4gIFRRdWVyeUZuRGF0YSxcbiAgVEVycm9yLFxuICBURGF0YSxcbiAgVFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXksXG4+KFxuICBkYXRhOiBURGF0YSB8IHVuZGVmaW5lZCxcbiAgb3B0aW9uczogUXVlcnlPcHRpb25zPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5S2V5Pixcbikge1xuICByZXR1cm4ge1xuICAgIGZldGNoRmFpbHVyZUNvdW50OiAwLFxuICAgIGZldGNoRmFpbHVyZVJlYXNvbjogbnVsbCxcbiAgICBmZXRjaFN0YXR1czogY2FuRmV0Y2gob3B0aW9ucy5uZXR3b3JrTW9kZSkgPyAnZmV0Y2hpbmcnIDogJ3BhdXNlZCcsXG4gICAgLi4uKGRhdGEgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgKHtcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgfSBhcyBjb25zdCkpLFxuICB9IGFzIGNvbnN0XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRTdGF0ZTxcbiAgVFF1ZXJ5Rm5EYXRhLFxuICBURXJyb3IsXG4gIFREYXRhLFxuICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSxcbj4oXG4gIG9wdGlvbnM6IFF1ZXJ5T3B0aW9uczxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeUtleT4sXG4pOiBRdWVyeVN0YXRlPFREYXRhLCBURXJyb3I+IHtcbiAgY29uc3QgZGF0YSA9XG4gICAgdHlwZW9mIG9wdGlvbnMuaW5pdGlhbERhdGEgPT09ICdmdW5jdGlvbidcbiAgICAgID8gKG9wdGlvbnMuaW5pdGlhbERhdGEgYXMgSW5pdGlhbERhdGFGdW5jdGlvbjxURGF0YT4pKClcbiAgICAgIDogb3B0aW9ucy5pbml0aWFsRGF0YVxuXG4gIGNvbnN0IGhhc0RhdGEgPSBkYXRhICE9PSB1bmRlZmluZWRcblxuICBjb25zdCBpbml0aWFsRGF0YVVwZGF0ZWRBdCA9IGhhc0RhdGFcbiAgICA/IHR5cGVvZiBvcHRpb25zLmluaXRpYWxEYXRhVXBkYXRlZEF0ID09PSAnZnVuY3Rpb24nXG4gICAgICA/IChvcHRpb25zLmluaXRpYWxEYXRhVXBkYXRlZEF0IGFzICgpID0+IG51bWJlciB8IHVuZGVmaW5lZCkoKVxuICAgICAgOiBvcHRpb25zLmluaXRpYWxEYXRhVXBkYXRlZEF0XG4gICAgOiAwXG5cbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIGRhdGFVcGRhdGVDb3VudDogMCxcbiAgICBkYXRhVXBkYXRlZEF0OiBoYXNEYXRhID8gKGluaXRpYWxEYXRhVXBkYXRlZEF0ID8/IERhdGUubm93KCkpIDogMCxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBlcnJvclVwZGF0ZUNvdW50OiAwLFxuICAgIGVycm9yVXBkYXRlZEF0OiAwLFxuICAgIGZldGNoRmFpbHVyZUNvdW50OiAwLFxuICAgIGZldGNoRmFpbHVyZVJlYXNvbjogbnVsbCxcbiAgICBmZXRjaE1ldGE6IG51bGwsXG4gICAgaXNJbnZhbGlkYXRlZDogZmFsc2UsXG4gICAgc3RhdHVzOiBoYXNEYXRhID8gJ3N1Y2Nlc3MnIDogJ3BlbmRpbmcnLFxuICAgIGZldGNoU3RhdHVzOiAnaWRsZScsXG4gIH1cbn1cbiIsICJpbXBvcnQgeyBoYXNoUXVlcnlLZXlCeU9wdGlvbnMsIG1hdGNoUXVlcnkgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgUXVlcnkgfSBmcm9tICcuL3F1ZXJ5J1xuaW1wb3J0IHsgbm90aWZ5TWFuYWdlciB9IGZyb20gJy4vbm90aWZ5TWFuYWdlcidcbmltcG9ydCB7IFN1YnNjcmliYWJsZSB9IGZyb20gJy4vc3Vic2NyaWJhYmxlJ1xuaW1wb3J0IHR5cGUgeyBRdWVyeUZpbHRlcnMgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb24sIFF1ZXJ5U3RhdGUgfSBmcm9tICcuL3F1ZXJ5J1xuaW1wb3J0IHR5cGUge1xuICBEZWZhdWx0RXJyb3IsXG4gIE5vdGlmeUV2ZW50LFxuICBRdWVyeUtleSxcbiAgUXVlcnlPcHRpb25zLFxuICBXaXRoUmVxdWlyZWQsXG59IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFF1ZXJ5Q2xpZW50IH0gZnJvbSAnLi9xdWVyeUNsaWVudCdcbmltcG9ydCB0eXBlIHsgUXVlcnlPYnNlcnZlciB9IGZyb20gJy4vcXVlcnlPYnNlcnZlcidcblxuLy8gVFlQRVNcblxuaW50ZXJmYWNlIFF1ZXJ5Q2FjaGVDb25maWcge1xuICBvbkVycm9yPzogKFxuICAgIGVycm9yOiBEZWZhdWx0RXJyb3IsXG4gICAgcXVlcnk6IFF1ZXJ5PHVua25vd24sIHVua25vd24sIHVua25vd24+LFxuICApID0+IHZvaWRcbiAgb25TdWNjZXNzPzogKGRhdGE6IHVua25vd24sIHF1ZXJ5OiBRdWVyeTx1bmtub3duLCB1bmtub3duLCB1bmtub3duPikgPT4gdm9pZFxuICBvblNldHRsZWQ/OiAoXG4gICAgZGF0YTogdW5rbm93biB8IHVuZGVmaW5lZCxcbiAgICBlcnJvcjogRGVmYXVsdEVycm9yIHwgbnVsbCxcbiAgICBxdWVyeTogUXVlcnk8dW5rbm93biwgdW5rbm93biwgdW5rbm93bj4sXG4gICkgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgTm90aWZ5RXZlbnRRdWVyeUFkZGVkIGV4dGVuZHMgTm90aWZ5RXZlbnQge1xuICB0eXBlOiAnYWRkZWQnXG4gIHF1ZXJ5OiBRdWVyeTxhbnksIGFueSwgYW55LCBhbnk+XG59XG5cbmludGVyZmFjZSBOb3RpZnlFdmVudFF1ZXJ5UmVtb3ZlZCBleHRlbmRzIE5vdGlmeUV2ZW50IHtcbiAgdHlwZTogJ3JlbW92ZWQnXG4gIHF1ZXJ5OiBRdWVyeTxhbnksIGFueSwgYW55LCBhbnk+XG59XG5cbmludGVyZmFjZSBOb3RpZnlFdmVudFF1ZXJ5VXBkYXRlZCBleHRlbmRzIE5vdGlmeUV2ZW50IHtcbiAgdHlwZTogJ3VwZGF0ZWQnXG4gIHF1ZXJ5OiBRdWVyeTxhbnksIGFueSwgYW55LCBhbnk+XG4gIGFjdGlvbjogQWN0aW9uPGFueSwgYW55PlxufVxuXG5pbnRlcmZhY2UgTm90aWZ5RXZlbnRRdWVyeU9ic2VydmVyQWRkZWQgZXh0ZW5kcyBOb3RpZnlFdmVudCB7XG4gIHR5cGU6ICdvYnNlcnZlckFkZGVkJ1xuICBxdWVyeTogUXVlcnk8YW55LCBhbnksIGFueSwgYW55PlxuICBvYnNlcnZlcjogUXVlcnlPYnNlcnZlcjxhbnksIGFueSwgYW55LCBhbnksIGFueT5cbn1cblxuaW50ZXJmYWNlIE5vdGlmeUV2ZW50UXVlcnlPYnNlcnZlclJlbW92ZWQgZXh0ZW5kcyBOb3RpZnlFdmVudCB7XG4gIHR5cGU6ICdvYnNlcnZlclJlbW92ZWQnXG4gIHF1ZXJ5OiBRdWVyeTxhbnksIGFueSwgYW55LCBhbnk+XG4gIG9ic2VydmVyOiBRdWVyeU9ic2VydmVyPGFueSwgYW55LCBhbnksIGFueSwgYW55PlxufVxuXG5pbnRlcmZhY2UgTm90aWZ5RXZlbnRRdWVyeU9ic2VydmVyUmVzdWx0c1VwZGF0ZWQgZXh0ZW5kcyBOb3RpZnlFdmVudCB7XG4gIHR5cGU6ICdvYnNlcnZlclJlc3VsdHNVcGRhdGVkJ1xuICBxdWVyeTogUXVlcnk8YW55LCBhbnksIGFueSwgYW55PlxufVxuXG5pbnRlcmZhY2UgTm90aWZ5RXZlbnRRdWVyeU9ic2VydmVyT3B0aW9uc1VwZGF0ZWQgZXh0ZW5kcyBOb3RpZnlFdmVudCB7XG4gIHR5cGU6ICdvYnNlcnZlck9wdGlvbnNVcGRhdGVkJ1xuICBxdWVyeTogUXVlcnk8YW55LCBhbnksIGFueSwgYW55PlxuICBvYnNlcnZlcjogUXVlcnlPYnNlcnZlcjxhbnksIGFueSwgYW55LCBhbnksIGFueT5cbn1cblxuZXhwb3J0IHR5cGUgUXVlcnlDYWNoZU5vdGlmeUV2ZW50ID1cbiAgfCBOb3RpZnlFdmVudFF1ZXJ5QWRkZWRcbiAgfCBOb3RpZnlFdmVudFF1ZXJ5UmVtb3ZlZFxuICB8IE5vdGlmeUV2ZW50UXVlcnlVcGRhdGVkXG4gIHwgTm90aWZ5RXZlbnRRdWVyeU9ic2VydmVyQWRkZWRcbiAgfCBOb3RpZnlFdmVudFF1ZXJ5T2JzZXJ2ZXJSZW1vdmVkXG4gIHwgTm90aWZ5RXZlbnRRdWVyeU9ic2VydmVyUmVzdWx0c1VwZGF0ZWRcbiAgfCBOb3RpZnlFdmVudFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zVXBkYXRlZFxuXG50eXBlIFF1ZXJ5Q2FjaGVMaXN0ZW5lciA9IChldmVudDogUXVlcnlDYWNoZU5vdGlmeUV2ZW50KSA9PiB2b2lkXG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlTdG9yZSB7XG4gIGhhczogKHF1ZXJ5SGFzaDogc3RyaW5nKSA9PiBib29sZWFuXG4gIHNldDogKHF1ZXJ5SGFzaDogc3RyaW5nLCBxdWVyeTogUXVlcnkpID0+IHZvaWRcbiAgZ2V0OiAocXVlcnlIYXNoOiBzdHJpbmcpID0+IFF1ZXJ5IHwgdW5kZWZpbmVkXG4gIGRlbGV0ZTogKHF1ZXJ5SGFzaDogc3RyaW5nKSA9PiB2b2lkXG4gIHZhbHVlczogKCkgPT4gSXRlcmFibGVJdGVyYXRvcjxRdWVyeT5cbn1cblxuLy8gQ0xBU1NcblxuZXhwb3J0IGNsYXNzIFF1ZXJ5Q2FjaGUgZXh0ZW5kcyBTdWJzY3JpYmFibGU8UXVlcnlDYWNoZUxpc3RlbmVyPiB7XG4gICNxdWVyaWVzOiBRdWVyeVN0b3JlXG5cbiAgY29uc3RydWN0b3IocHVibGljIGNvbmZpZzogUXVlcnlDYWNoZUNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuI3F1ZXJpZXMgPSBuZXcgTWFwPHN0cmluZywgUXVlcnk+KClcbiAgfVxuXG4gIGJ1aWxkPFxuICAgIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gICAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICAgIFREYXRhID0gVFF1ZXJ5Rm5EYXRhLFxuICAgIFRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4gID4oXG4gICAgY2xpZW50OiBRdWVyeUNsaWVudCxcbiAgICBvcHRpb25zOiBXaXRoUmVxdWlyZWQ8XG4gICAgICBRdWVyeU9wdGlvbnM8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuICAgICAgJ3F1ZXJ5S2V5J1xuICAgID4sXG4gICAgc3RhdGU/OiBRdWVyeVN0YXRlPFREYXRhLCBURXJyb3I+LFxuICApOiBRdWVyeTxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeUtleT4ge1xuICAgIGNvbnN0IHF1ZXJ5S2V5ID0gb3B0aW9ucy5xdWVyeUtleVxuICAgIGNvbnN0IHF1ZXJ5SGFzaCA9XG4gICAgICBvcHRpb25zLnF1ZXJ5SGFzaCA/PyBoYXNoUXVlcnlLZXlCeU9wdGlvbnMocXVlcnlLZXksIG9wdGlvbnMpXG4gICAgbGV0IHF1ZXJ5ID0gdGhpcy5nZXQ8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+KHF1ZXJ5SGFzaClcblxuICAgIGlmICghcXVlcnkpIHtcbiAgICAgIHF1ZXJ5ID0gbmV3IFF1ZXJ5KHtcbiAgICAgICAgY2xpZW50LFxuICAgICAgICBxdWVyeUtleSxcbiAgICAgICAgcXVlcnlIYXNoLFxuICAgICAgICBvcHRpb25zOiBjbGllbnQuZGVmYXVsdFF1ZXJ5T3B0aW9ucyhvcHRpb25zKSxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGRlZmF1bHRPcHRpb25zOiBjbGllbnQuZ2V0UXVlcnlEZWZhdWx0cyhxdWVyeUtleSksXG4gICAgICB9KVxuICAgICAgdGhpcy5hZGQocXVlcnkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5XG4gIH1cblxuICBhZGQocXVlcnk6IFF1ZXJ5PGFueSwgYW55LCBhbnksIGFueT4pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuI3F1ZXJpZXMuaGFzKHF1ZXJ5LnF1ZXJ5SGFzaCkpIHtcbiAgICAgIHRoaXMuI3F1ZXJpZXMuc2V0KHF1ZXJ5LnF1ZXJ5SGFzaCwgcXVlcnkpXG5cbiAgICAgIHRoaXMubm90aWZ5KHtcbiAgICAgICAgdHlwZTogJ2FkZGVkJyxcbiAgICAgICAgcXVlcnksXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbW92ZShxdWVyeTogUXVlcnk8YW55LCBhbnksIGFueSwgYW55Pik6IHZvaWQge1xuICAgIGNvbnN0IHF1ZXJ5SW5NYXAgPSB0aGlzLiNxdWVyaWVzLmdldChxdWVyeS5xdWVyeUhhc2gpXG5cbiAgICBpZiAocXVlcnlJbk1hcCkge1xuICAgICAgcXVlcnkuZGVzdHJveSgpXG5cbiAgICAgIGlmIChxdWVyeUluTWFwID09PSBxdWVyeSkge1xuICAgICAgICB0aGlzLiNxdWVyaWVzLmRlbGV0ZShxdWVyeS5xdWVyeUhhc2gpXG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5KHsgdHlwZTogJ3JlbW92ZWQnLCBxdWVyeSB9KVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4ge1xuICAgICAgdGhpcy5nZXRBbGwoKS5mb3JFYWNoKChxdWVyeSkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZShxdWVyeSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGdldDxcbiAgICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICA+KFxuICAgIHF1ZXJ5SGFzaDogc3RyaW5nLFxuICApOiBRdWVyeTxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeUtleT4gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLiNxdWVyaWVzLmdldChxdWVyeUhhc2gpIGFzXG4gICAgICB8IFF1ZXJ5PFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5S2V5PlxuICAgICAgfCB1bmRlZmluZWRcbiAgfVxuXG4gIGdldEFsbCgpOiBBcnJheTxRdWVyeT4ge1xuICAgIHJldHVybiBbLi4udGhpcy4jcXVlcmllcy52YWx1ZXMoKV1cbiAgfVxuXG4gIGZpbmQ8VFF1ZXJ5Rm5EYXRhID0gdW5rbm93biwgVEVycm9yID0gRGVmYXVsdEVycm9yLCBURGF0YSA9IFRRdWVyeUZuRGF0YT4oXG4gICAgZmlsdGVyczogV2l0aFJlcXVpcmVkPFF1ZXJ5RmlsdGVycywgJ3F1ZXJ5S2V5Jz4sXG4gICk6IFF1ZXJ5PFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YT4gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGRlZmF1bHRlZEZpbHRlcnMgPSB7IGV4YWN0OiB0cnVlLCAuLi5maWx0ZXJzIH1cblxuICAgIHJldHVybiB0aGlzLmdldEFsbCgpLmZpbmQoKHF1ZXJ5KSA9PlxuICAgICAgbWF0Y2hRdWVyeShkZWZhdWx0ZWRGaWx0ZXJzLCBxdWVyeSksXG4gICAgKSBhcyBRdWVyeTxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGE+IHwgdW5kZWZpbmVkXG4gIH1cblxuICBmaW5kQWxsKGZpbHRlcnM6IFF1ZXJ5RmlsdGVyczxhbnksIGFueSwgYW55LCBhbnk+ID0ge30pOiBBcnJheTxRdWVyeT4ge1xuICAgIGNvbnN0IHF1ZXJpZXMgPSB0aGlzLmdldEFsbCgpXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGZpbHRlcnMpLmxlbmd0aCA+IDBcbiAgICAgID8gcXVlcmllcy5maWx0ZXIoKHF1ZXJ5KSA9PiBtYXRjaFF1ZXJ5KGZpbHRlcnMsIHF1ZXJ5KSlcbiAgICAgIDogcXVlcmllc1xuICB9XG5cbiAgbm90aWZ5KGV2ZW50OiBRdWVyeUNhY2hlTm90aWZ5RXZlbnQpOiB2b2lkIHtcbiAgICBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICAgIGxpc3RlbmVyKGV2ZW50KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgb25Gb2N1cygpOiB2b2lkIHtcbiAgICBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMuZ2V0QWxsKCkuZm9yRWFjaCgocXVlcnkpID0+IHtcbiAgICAgICAgcXVlcnkub25Gb2N1cygpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBvbk9ubGluZSgpOiB2b2lkIHtcbiAgICBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMuZ2V0QWxsKCkuZm9yRWFjaCgocXVlcnkpID0+IHtcbiAgICAgICAgcXVlcnkub25PbmxpbmUoKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG4iLCAiaW1wb3J0IHsgbm90aWZ5TWFuYWdlciB9IGZyb20gJy4vbm90aWZ5TWFuYWdlcidcbmltcG9ydCB7IFJlbW92YWJsZSB9IGZyb20gJy4vcmVtb3ZhYmxlJ1xuaW1wb3J0IHsgY3JlYXRlUmV0cnllciB9IGZyb20gJy4vcmV0cnllcidcbmltcG9ydCB0eXBlIHtcbiAgRGVmYXVsdEVycm9yLFxuICBNdXRhdGlvbk1ldGEsXG4gIE11dGF0aW9uT3B0aW9ucyxcbiAgTXV0YXRpb25TdGF0dXMsXG59IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IE11dGF0aW9uQ2FjaGUgfSBmcm9tICcuL211dGF0aW9uQ2FjaGUnXG5pbXBvcnQgdHlwZSB7IE11dGF0aW9uT2JzZXJ2ZXIgfSBmcm9tICcuL211dGF0aW9uT2JzZXJ2ZXInXG5pbXBvcnQgdHlwZSB7IFJldHJ5ZXIgfSBmcm9tICcuL3JldHJ5ZXInXG5cbi8vIFRZUEVTXG5cbmludGVyZmFjZSBNdXRhdGlvbkNvbmZpZzxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4ge1xuICBtdXRhdGlvbklkOiBudW1iZXJcbiAgbXV0YXRpb25DYWNoZTogTXV0YXRpb25DYWNoZVxuICBvcHRpb25zOiBNdXRhdGlvbk9wdGlvbnM8VERhdGEsIFRFcnJvciwgVFZhcmlhYmxlcywgVENvbnRleHQ+XG4gIHN0YXRlPzogTXV0YXRpb25TdGF0ZTxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvblN0YXRlPFxuICBURGF0YSA9IHVua25vd24sXG4gIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgVFZhcmlhYmxlcyA9IHVua25vd24sXG4gIFRDb250ZXh0ID0gdW5rbm93bixcbj4ge1xuICBjb250ZXh0OiBUQ29udGV4dCB8IHVuZGVmaW5lZFxuICBkYXRhOiBURGF0YSB8IHVuZGVmaW5lZFxuICBlcnJvcjogVEVycm9yIHwgbnVsbFxuICBmYWlsdXJlQ291bnQ6IG51bWJlclxuICBmYWlsdXJlUmVhc29uOiBURXJyb3IgfCBudWxsXG4gIGlzUGF1c2VkOiBib29sZWFuXG4gIHN0YXR1czogTXV0YXRpb25TdGF0dXNcbiAgdmFyaWFibGVzOiBUVmFyaWFibGVzIHwgdW5kZWZpbmVkXG4gIHN1Ym1pdHRlZEF0OiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIEZhaWxlZEFjdGlvbjxURXJyb3I+IHtcbiAgdHlwZTogJ2ZhaWxlZCdcbiAgZmFpbHVyZUNvdW50OiBudW1iZXJcbiAgZXJyb3I6IFRFcnJvciB8IG51bGxcbn1cblxuaW50ZXJmYWNlIFBlbmRpbmdBY3Rpb248VFZhcmlhYmxlcywgVENvbnRleHQ+IHtcbiAgdHlwZTogJ3BlbmRpbmcnXG4gIGlzUGF1c2VkOiBib29sZWFuXG4gIHZhcmlhYmxlcz86IFRWYXJpYWJsZXNcbiAgY29udGV4dD86IFRDb250ZXh0XG59XG5cbmludGVyZmFjZSBTdWNjZXNzQWN0aW9uPFREYXRhPiB7XG4gIHR5cGU6ICdzdWNjZXNzJ1xuICBkYXRhOiBURGF0YVxufVxuXG5pbnRlcmZhY2UgRXJyb3JBY3Rpb248VEVycm9yPiB7XG4gIHR5cGU6ICdlcnJvcidcbiAgZXJyb3I6IFRFcnJvclxufVxuXG5pbnRlcmZhY2UgUGF1c2VBY3Rpb24ge1xuICB0eXBlOiAncGF1c2UnXG59XG5cbmludGVyZmFjZSBDb250aW51ZUFjdGlvbiB7XG4gIHR5cGU6ICdjb250aW51ZSdcbn1cblxuZXhwb3J0IHR5cGUgQWN0aW9uPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PiA9XG4gIHwgQ29udGludWVBY3Rpb25cbiAgfCBFcnJvckFjdGlvbjxURXJyb3I+XG4gIHwgRmFpbGVkQWN0aW9uPFRFcnJvcj5cbiAgfCBQZW5kaW5nQWN0aW9uPFRWYXJpYWJsZXMsIFRDb250ZXh0PlxuICB8IFBhdXNlQWN0aW9uXG4gIHwgU3VjY2Vzc0FjdGlvbjxURGF0YT5cblxuLy8gQ0xBU1NcblxuZXhwb3J0IGNsYXNzIE11dGF0aW9uPFxuICBURGF0YSA9IHVua25vd24sXG4gIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgVFZhcmlhYmxlcyA9IHVua25vd24sXG4gIFRDb250ZXh0ID0gdW5rbm93bixcbj4gZXh0ZW5kcyBSZW1vdmFibGUge1xuICBzdGF0ZTogTXV0YXRpb25TdGF0ZTxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD5cbiAgb3B0aW9ucyE6IE11dGF0aW9uT3B0aW9uczxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD5cbiAgcmVhZG9ubHkgbXV0YXRpb25JZDogbnVtYmVyXG5cbiAgI29ic2VydmVyczogQXJyYXk8TXV0YXRpb25PYnNlcnZlcjxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4+XG4gICNtdXRhdGlvbkNhY2hlOiBNdXRhdGlvbkNhY2hlXG4gICNyZXRyeWVyPzogUmV0cnllcjxURGF0YT5cblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IE11dGF0aW9uQ29uZmlnPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0Pikge1xuICAgIHN1cGVyKClcblxuICAgIHRoaXMubXV0YXRpb25JZCA9IGNvbmZpZy5tdXRhdGlvbklkXG4gICAgdGhpcy4jbXV0YXRpb25DYWNoZSA9IGNvbmZpZy5tdXRhdGlvbkNhY2hlXG4gICAgdGhpcy4jb2JzZXJ2ZXJzID0gW11cbiAgICB0aGlzLnN0YXRlID0gY29uZmlnLnN0YXRlIHx8IGdldERlZmF1bHRTdGF0ZSgpXG5cbiAgICB0aGlzLnNldE9wdGlvbnMoY29uZmlnLm9wdGlvbnMpXG4gICAgdGhpcy5zY2hlZHVsZUdjKClcbiAgfVxuXG4gIHNldE9wdGlvbnMoXG4gICAgb3B0aW9uczogTXV0YXRpb25PcHRpb25zPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PixcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuXG4gICAgdGhpcy51cGRhdGVHY1RpbWUodGhpcy5vcHRpb25zLmdjVGltZSlcbiAgfVxuXG4gIGdldCBtZXRhKCk6IE11dGF0aW9uTWV0YSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5tZXRhXG4gIH1cblxuICBhZGRPYnNlcnZlcihvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlcjxhbnksIGFueSwgYW55LCBhbnk+KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLiNvYnNlcnZlcnMuaW5jbHVkZXMob2JzZXJ2ZXIpKSB7XG4gICAgICB0aGlzLiNvYnNlcnZlcnMucHVzaChvYnNlcnZlcilcblxuICAgICAgLy8gU3RvcCB0aGUgbXV0YXRpb24gZnJvbSBiZWluZyBnYXJiYWdlIGNvbGxlY3RlZFxuICAgICAgdGhpcy5jbGVhckdjVGltZW91dCgpXG5cbiAgICAgIHRoaXMuI211dGF0aW9uQ2FjaGUubm90aWZ5KHtcbiAgICAgICAgdHlwZTogJ29ic2VydmVyQWRkZWQnLFxuICAgICAgICBtdXRhdGlvbjogdGhpcyxcbiAgICAgICAgb2JzZXJ2ZXIsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyPGFueSwgYW55LCBhbnksIGFueT4pOiB2b2lkIHtcbiAgICB0aGlzLiNvYnNlcnZlcnMgPSB0aGlzLiNvYnNlcnZlcnMuZmlsdGVyKCh4KSA9PiB4ICE9PSBvYnNlcnZlcilcblxuICAgIHRoaXMuc2NoZWR1bGVHYygpXG5cbiAgICB0aGlzLiNtdXRhdGlvbkNhY2hlLm5vdGlmeSh7XG4gICAgICB0eXBlOiAnb2JzZXJ2ZXJSZW1vdmVkJyxcbiAgICAgIG11dGF0aW9uOiB0aGlzLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgfSlcbiAgfVxuXG4gIHByb3RlY3RlZCBvcHRpb25hbFJlbW92ZSgpIHtcbiAgICBpZiAoIXRoaXMuI29ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVHYygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiNtdXRhdGlvbkNhY2hlLnJlbW92ZSh0aGlzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnRpbnVlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNyZXRyeWVyPy5jb250aW51ZSgpID8/XG4gICAgICAvLyBjb250aW51aW5nIGEgbXV0YXRpb24gYXNzdW1lcyB0aGF0IHZhcmlhYmxlcyBhcmUgc2V0LCBtdXRhdGlvbiBtdXN0IGhhdmUgYmVlbiBkZWh5ZHJhdGVkIGJlZm9yZVxuICAgICAgdGhpcy5leGVjdXRlKHRoaXMuc3RhdGUudmFyaWFibGVzISlcbiAgICApXG4gIH1cblxuICBhc3luYyBleGVjdXRlKHZhcmlhYmxlczogVFZhcmlhYmxlcyk6IFByb21pc2U8VERhdGE+IHtcbiAgICB0aGlzLiNyZXRyeWVyID0gY3JlYXRlUmV0cnllcih7XG4gICAgICBmbjogKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5tdXRhdGlvbkZuKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTm8gbXV0YXRpb25GbiBmb3VuZCcpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubXV0YXRpb25Gbih2YXJpYWJsZXMpXG4gICAgICB9LFxuICAgICAgb25GYWlsOiAoZmFpbHVyZUNvdW50LCBlcnJvcikgPT4ge1xuICAgICAgICB0aGlzLiNkaXNwYXRjaCh7IHR5cGU6ICdmYWlsZWQnLCBmYWlsdXJlQ291bnQsIGVycm9yIH0pXG4gICAgICB9LFxuICAgICAgb25QYXVzZTogKCkgPT4ge1xuICAgICAgICB0aGlzLiNkaXNwYXRjaCh7IHR5cGU6ICdwYXVzZScgfSlcbiAgICAgIH0sXG4gICAgICBvbkNvbnRpbnVlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuI2Rpc3BhdGNoKHsgdHlwZTogJ2NvbnRpbnVlJyB9KVxuICAgICAgfSxcbiAgICAgIHJldHJ5OiB0aGlzLm9wdGlvbnMucmV0cnkgPz8gMCxcbiAgICAgIHJldHJ5RGVsYXk6IHRoaXMub3B0aW9ucy5yZXRyeURlbGF5LFxuICAgICAgbmV0d29ya01vZGU6IHRoaXMub3B0aW9ucy5uZXR3b3JrTW9kZSxcbiAgICAgIGNhblJ1bjogKCkgPT4gdGhpcy4jbXV0YXRpb25DYWNoZS5jYW5SdW4odGhpcyksXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3RvcmVkID0gdGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdwZW5kaW5nJ1xuICAgIGNvbnN0IGlzUGF1c2VkID0gIXRoaXMuI3JldHJ5ZXIuY2FuU3RhcnQoKVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICghcmVzdG9yZWQpIHtcbiAgICAgICAgdGhpcy4jZGlzcGF0Y2goeyB0eXBlOiAncGVuZGluZycsIHZhcmlhYmxlcywgaXNQYXVzZWQgfSlcbiAgICAgICAgLy8gTm90aWZ5IGNhY2hlIGNhbGxiYWNrXG4gICAgICAgIGF3YWl0IHRoaXMuI211dGF0aW9uQ2FjaGUuY29uZmlnLm9uTXV0YXRlPy4oXG4gICAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICAgIHRoaXMgYXMgTXV0YXRpb248dW5rbm93biwgdW5rbm93biwgdW5rbm93biwgdW5rbm93bj4sXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHRoaXMub3B0aW9ucy5vbk11dGF0ZT8uKHZhcmlhYmxlcylcbiAgICAgICAgaWYgKGNvbnRleHQgIT09IHRoaXMuc3RhdGUuY29udGV4dCkge1xuICAgICAgICAgIHRoaXMuI2Rpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgICBpc1BhdXNlZCxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy4jcmV0cnllci5zdGFydCgpXG5cbiAgICAgIC8vIE5vdGlmeSBjYWNoZSBjYWxsYmFja1xuICAgICAgYXdhaXQgdGhpcy4jbXV0YXRpb25DYWNoZS5jb25maWcub25TdWNjZXNzPy4oXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0LFxuICAgICAgICB0aGlzIGFzIE11dGF0aW9uPHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24+LFxuICAgICAgKVxuXG4gICAgICBhd2FpdCB0aGlzLm9wdGlvbnMub25TdWNjZXNzPy4oZGF0YSwgdmFyaWFibGVzLCB0aGlzLnN0YXRlLmNvbnRleHQhKVxuXG4gICAgICAvLyBOb3RpZnkgY2FjaGUgY2FsbGJhY2tcbiAgICAgIGF3YWl0IHRoaXMuI211dGF0aW9uQ2FjaGUuY29uZmlnLm9uU2V0dGxlZD8uKFxuICAgICAgICBkYXRhLFxuICAgICAgICBudWxsLFxuICAgICAgICB0aGlzLnN0YXRlLnZhcmlhYmxlcyxcbiAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0LFxuICAgICAgICB0aGlzIGFzIE11dGF0aW9uPHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24+LFxuICAgICAgKVxuXG4gICAgICBhd2FpdCB0aGlzLm9wdGlvbnMub25TZXR0bGVkPy4oZGF0YSwgbnVsbCwgdmFyaWFibGVzLCB0aGlzLnN0YXRlLmNvbnRleHQpXG5cbiAgICAgIHRoaXMuI2Rpc3BhdGNoKHsgdHlwZTogJ3N1Y2Nlc3MnLCBkYXRhIH0pXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBOb3RpZnkgY2FjaGUgY2FsbGJhY2tcbiAgICAgICAgYXdhaXQgdGhpcy4jbXV0YXRpb25DYWNoZS5jb25maWcub25FcnJvcj8uKFxuICAgICAgICAgIGVycm9yIGFzIGFueSxcbiAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0LFxuICAgICAgICAgIHRoaXMgYXMgTXV0YXRpb248dW5rbm93biwgdW5rbm93biwgdW5rbm93biwgdW5rbm93bj4sXG4gICAgICAgIClcblxuICAgICAgICBhd2FpdCB0aGlzLm9wdGlvbnMub25FcnJvcj8uKFxuICAgICAgICAgIGVycm9yIGFzIFRFcnJvcixcbiAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0LFxuICAgICAgICApXG5cbiAgICAgICAgLy8gTm90aWZ5IGNhY2hlIGNhbGxiYWNrXG4gICAgICAgIGF3YWl0IHRoaXMuI211dGF0aW9uQ2FjaGUuY29uZmlnLm9uU2V0dGxlZD8uKFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBlcnJvciBhcyBhbnksXG4gICAgICAgICAgdGhpcy5zdGF0ZS52YXJpYWJsZXMsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0LFxuICAgICAgICAgIHRoaXMgYXMgTXV0YXRpb248dW5rbm93biwgdW5rbm93biwgdW5rbm93biwgdW5rbm93bj4sXG4gICAgICAgIClcblxuICAgICAgICBhd2FpdCB0aGlzLm9wdGlvbnMub25TZXR0bGVkPy4oXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIGVycm9yIGFzIFRFcnJvcixcbiAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0LFxuICAgICAgICApXG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLiNkaXNwYXRjaCh7IHR5cGU6ICdlcnJvcicsIGVycm9yOiBlcnJvciBhcyBURXJyb3IgfSlcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy4jbXV0YXRpb25DYWNoZS5ydW5OZXh0KHRoaXMpXG4gICAgfVxuICB9XG5cbiAgI2Rpc3BhdGNoKGFjdGlvbjogQWN0aW9uPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0Pik6IHZvaWQge1xuICAgIGNvbnN0IHJlZHVjZXIgPSAoXG4gICAgICBzdGF0ZTogTXV0YXRpb25TdGF0ZTxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4sXG4gICAgKTogTXV0YXRpb25TdGF0ZTxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4gPT4ge1xuICAgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGZhaWx1cmVDb3VudDogYWN0aW9uLmZhaWx1cmVDb3VudCxcbiAgICAgICAgICAgIGZhaWx1cmVSZWFzb246IGFjdGlvbi5lcnJvcixcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3BhdXNlJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBpc1BhdXNlZDogdHJ1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NvbnRpbnVlJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBpc1BhdXNlZDogZmFsc2UsXG4gICAgICAgICAgfVxuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBjb250ZXh0OiBhY3Rpb24uY29udGV4dCxcbiAgICAgICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZhaWx1cmVDb3VudDogMCxcbiAgICAgICAgICAgIGZhaWx1cmVSZWFzb246IG51bGwsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIGlzUGF1c2VkOiBhY3Rpb24uaXNQYXVzZWQsXG4gICAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgIHZhcmlhYmxlczogYWN0aW9uLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIHN1Ym1pdHRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEsXG4gICAgICAgICAgICBmYWlsdXJlQ291bnQ6IDAsXG4gICAgICAgICAgICBmYWlsdXJlUmVhc29uOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGlzUGF1c2VkOiBmYWxzZSxcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlcnJvcjogYWN0aW9uLmVycm9yLFxuICAgICAgICAgICAgZmFpbHVyZUNvdW50OiBzdGF0ZS5mYWlsdXJlQ291bnQgKyAxLFxuICAgICAgICAgICAgZmFpbHVyZVJlYXNvbjogYWN0aW9uLmVycm9yLFxuICAgICAgICAgICAgaXNQYXVzZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IHJlZHVjZXIodGhpcy5zdGF0ZSlcblxuICAgIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4ge1xuICAgICAgdGhpcy4jb2JzZXJ2ZXJzLmZvckVhY2goKG9ic2VydmVyKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLm9uTXV0YXRpb25VcGRhdGUoYWN0aW9uKVxuICAgICAgfSlcbiAgICAgIHRoaXMuI211dGF0aW9uQ2FjaGUubm90aWZ5KHtcbiAgICAgICAgbXV0YXRpb246IHRoaXMsXG4gICAgICAgIHR5cGU6ICd1cGRhdGVkJyxcbiAgICAgICAgYWN0aW9uLFxuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0U3RhdGU8XG4gIFREYXRhLFxuICBURXJyb3IsXG4gIFRWYXJpYWJsZXMsXG4gIFRDb250ZXh0LFxuPigpOiBNdXRhdGlvblN0YXRlPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PiB7XG4gIHJldHVybiB7XG4gICAgY29udGV4dDogdW5kZWZpbmVkLFxuICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBmYWlsdXJlQ291bnQ6IDAsXG4gICAgZmFpbHVyZVJlYXNvbjogbnVsbCxcbiAgICBpc1BhdXNlZDogZmFsc2UsXG4gICAgc3RhdHVzOiAnaWRsZScsXG4gICAgdmFyaWFibGVzOiB1bmRlZmluZWQsXG4gICAgc3VibWl0dGVkQXQ6IDAsXG4gIH1cbn1cbiIsICJpbXBvcnQgeyBub3RpZnlNYW5hZ2VyIH0gZnJvbSAnLi9ub3RpZnlNYW5hZ2VyJ1xuaW1wb3J0IHsgTXV0YXRpb24gfSBmcm9tICcuL211dGF0aW9uJ1xuaW1wb3J0IHsgbWF0Y2hNdXRhdGlvbiwgbm9vcCB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBTdWJzY3JpYmFibGUgfSBmcm9tICcuL3N1YnNjcmliYWJsZSdcbmltcG9ydCB0eXBlIHsgTXV0YXRpb25PYnNlcnZlciB9IGZyb20gJy4vbXV0YXRpb25PYnNlcnZlcidcbmltcG9ydCB0eXBlIHsgRGVmYXVsdEVycm9yLCBNdXRhdGlvbk9wdGlvbnMsIE5vdGlmeUV2ZW50IH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB0eXBlIHsgUXVlcnlDbGllbnQgfSBmcm9tICcuL3F1ZXJ5Q2xpZW50J1xuaW1wb3J0IHR5cGUgeyBBY3Rpb24sIE11dGF0aW9uU3RhdGUgfSBmcm9tICcuL211dGF0aW9uJ1xuaW1wb3J0IHR5cGUgeyBNdXRhdGlvbkZpbHRlcnMgfSBmcm9tICcuL3V0aWxzJ1xuXG4vLyBUWVBFU1xuXG5pbnRlcmZhY2UgTXV0YXRpb25DYWNoZUNvbmZpZyB7XG4gIG9uRXJyb3I/OiAoXG4gICAgZXJyb3I6IERlZmF1bHRFcnJvcixcbiAgICB2YXJpYWJsZXM6IHVua25vd24sXG4gICAgY29udGV4dDogdW5rbm93bixcbiAgICBtdXRhdGlvbjogTXV0YXRpb248dW5rbm93biwgdW5rbm93biwgdW5rbm93bj4sXG4gICkgPT4gUHJvbWlzZTx1bmtub3duPiB8IHVua25vd25cbiAgb25TdWNjZXNzPzogKFxuICAgIGRhdGE6IHVua25vd24sXG4gICAgdmFyaWFibGVzOiB1bmtub3duLFxuICAgIGNvbnRleHQ6IHVua25vd24sXG4gICAgbXV0YXRpb246IE11dGF0aW9uPHVua25vd24sIHVua25vd24sIHVua25vd24+LFxuICApID0+IFByb21pc2U8dW5rbm93bj4gfCB1bmtub3duXG4gIG9uTXV0YXRlPzogKFxuICAgIHZhcmlhYmxlczogdW5rbm93bixcbiAgICBtdXRhdGlvbjogTXV0YXRpb248dW5rbm93biwgdW5rbm93biwgdW5rbm93bj4sXG4gICkgPT4gUHJvbWlzZTx1bmtub3duPiB8IHVua25vd25cbiAgb25TZXR0bGVkPzogKFxuICAgIGRhdGE6IHVua25vd24gfCB1bmRlZmluZWQsXG4gICAgZXJyb3I6IERlZmF1bHRFcnJvciB8IG51bGwsXG4gICAgdmFyaWFibGVzOiB1bmtub3duLFxuICAgIGNvbnRleHQ6IHVua25vd24sXG4gICAgbXV0YXRpb246IE11dGF0aW9uPHVua25vd24sIHVua25vd24sIHVua25vd24+LFxuICApID0+IFByb21pc2U8dW5rbm93bj4gfCB1bmtub3duXG59XG5cbmludGVyZmFjZSBOb3RpZnlFdmVudE11dGF0aW9uQWRkZWQgZXh0ZW5kcyBOb3RpZnlFdmVudCB7XG4gIHR5cGU6ICdhZGRlZCdcbiAgbXV0YXRpb246IE11dGF0aW9uPGFueSwgYW55LCBhbnksIGFueT5cbn1cbmludGVyZmFjZSBOb3RpZnlFdmVudE11dGF0aW9uUmVtb3ZlZCBleHRlbmRzIE5vdGlmeUV2ZW50IHtcbiAgdHlwZTogJ3JlbW92ZWQnXG4gIG11dGF0aW9uOiBNdXRhdGlvbjxhbnksIGFueSwgYW55LCBhbnk+XG59XG5cbmludGVyZmFjZSBOb3RpZnlFdmVudE11dGF0aW9uT2JzZXJ2ZXJBZGRlZCBleHRlbmRzIE5vdGlmeUV2ZW50IHtcbiAgdHlwZTogJ29ic2VydmVyQWRkZWQnXG4gIG11dGF0aW9uOiBNdXRhdGlvbjxhbnksIGFueSwgYW55LCBhbnk+XG4gIG9ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyPGFueSwgYW55LCBhbnk+XG59XG5cbmludGVyZmFjZSBOb3RpZnlFdmVudE11dGF0aW9uT2JzZXJ2ZXJSZW1vdmVkIGV4dGVuZHMgTm90aWZ5RXZlbnQge1xuICB0eXBlOiAnb2JzZXJ2ZXJSZW1vdmVkJ1xuICBtdXRhdGlvbjogTXV0YXRpb248YW55LCBhbnksIGFueSwgYW55PlxuICBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlcjxhbnksIGFueSwgYW55PlxufVxuXG5pbnRlcmZhY2UgTm90aWZ5RXZlbnRNdXRhdGlvbk9ic2VydmVyT3B0aW9uc1VwZGF0ZWQgZXh0ZW5kcyBOb3RpZnlFdmVudCB7XG4gIHR5cGU6ICdvYnNlcnZlck9wdGlvbnNVcGRhdGVkJ1xuICBtdXRhdGlvbj86IE11dGF0aW9uPGFueSwgYW55LCBhbnksIGFueT5cbiAgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXI8YW55LCBhbnksIGFueSwgYW55PlxufVxuXG5pbnRlcmZhY2UgTm90aWZ5RXZlbnRNdXRhdGlvblVwZGF0ZWQgZXh0ZW5kcyBOb3RpZnlFdmVudCB7XG4gIHR5cGU6ICd1cGRhdGVkJ1xuICBtdXRhdGlvbjogTXV0YXRpb248YW55LCBhbnksIGFueSwgYW55PlxuICBhY3Rpb246IEFjdGlvbjxhbnksIGFueSwgYW55LCBhbnk+XG59XG5cbmV4cG9ydCB0eXBlIE11dGF0aW9uQ2FjaGVOb3RpZnlFdmVudCA9XG4gIHwgTm90aWZ5RXZlbnRNdXRhdGlvbkFkZGVkXG4gIHwgTm90aWZ5RXZlbnRNdXRhdGlvblJlbW92ZWRcbiAgfCBOb3RpZnlFdmVudE11dGF0aW9uT2JzZXJ2ZXJBZGRlZFxuICB8IE5vdGlmeUV2ZW50TXV0YXRpb25PYnNlcnZlclJlbW92ZWRcbiAgfCBOb3RpZnlFdmVudE11dGF0aW9uT2JzZXJ2ZXJPcHRpb25zVXBkYXRlZFxuICB8IE5vdGlmeUV2ZW50TXV0YXRpb25VcGRhdGVkXG5cbnR5cGUgTXV0YXRpb25DYWNoZUxpc3RlbmVyID0gKGV2ZW50OiBNdXRhdGlvbkNhY2hlTm90aWZ5RXZlbnQpID0+IHZvaWRcblxuLy8gQ0xBU1NcblxuZXhwb3J0IGNsYXNzIE11dGF0aW9uQ2FjaGUgZXh0ZW5kcyBTdWJzY3JpYmFibGU8TXV0YXRpb25DYWNoZUxpc3RlbmVyPiB7XG4gICNtdXRhdGlvbnM6IFNldDxNdXRhdGlvbjxhbnksIGFueSwgYW55LCBhbnk+PlxuICAjc2NvcGVzOiBNYXA8c3RyaW5nLCBBcnJheTxNdXRhdGlvbjxhbnksIGFueSwgYW55LCBhbnk+Pj5cbiAgI211dGF0aW9uSWQ6IG51bWJlclxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBjb25maWc6IE11dGF0aW9uQ2FjaGVDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLiNtdXRhdGlvbnMgPSBuZXcgU2V0KClcbiAgICB0aGlzLiNzY29wZXMgPSBuZXcgTWFwKClcbiAgICB0aGlzLiNtdXRhdGlvbklkID0gMFxuICB9XG5cbiAgYnVpbGQ8VERhdGEsIFRFcnJvciwgVFZhcmlhYmxlcywgVENvbnRleHQ+KFxuICAgIGNsaWVudDogUXVlcnlDbGllbnQsXG4gICAgb3B0aW9uczogTXV0YXRpb25PcHRpb25zPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PixcbiAgICBzdGF0ZT86IE11dGF0aW9uU3RhdGU8VERhdGEsIFRFcnJvciwgVFZhcmlhYmxlcywgVENvbnRleHQ+LFxuICApOiBNdXRhdGlvbjxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4ge1xuICAgIGNvbnN0IG11dGF0aW9uID0gbmV3IE11dGF0aW9uKHtcbiAgICAgIG11dGF0aW9uQ2FjaGU6IHRoaXMsXG4gICAgICBtdXRhdGlvbklkOiArK3RoaXMuI211dGF0aW9uSWQsXG4gICAgICBvcHRpb25zOiBjbGllbnQuZGVmYXVsdE11dGF0aW9uT3B0aW9ucyhvcHRpb25zKSxcbiAgICAgIHN0YXRlLFxuICAgIH0pXG5cbiAgICB0aGlzLmFkZChtdXRhdGlvbilcblxuICAgIHJldHVybiBtdXRhdGlvblxuICB9XG5cbiAgYWRkKG11dGF0aW9uOiBNdXRhdGlvbjxhbnksIGFueSwgYW55LCBhbnk+KTogdm9pZCB7XG4gICAgdGhpcy4jbXV0YXRpb25zLmFkZChtdXRhdGlvbilcbiAgICBjb25zdCBzY29wZSA9IHNjb3BlRm9yKG11dGF0aW9uKVxuICAgIGlmICh0eXBlb2Ygc2NvcGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBzY29wZWRNdXRhdGlvbnMgPSB0aGlzLiNzY29wZXMuZ2V0KHNjb3BlKVxuICAgICAgaWYgKHNjb3BlZE11dGF0aW9ucykge1xuICAgICAgICBzY29wZWRNdXRhdGlvbnMucHVzaChtdXRhdGlvbilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuI3Njb3Blcy5zZXQoc2NvcGUsIFttdXRhdGlvbl0pXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubm90aWZ5KHsgdHlwZTogJ2FkZGVkJywgbXV0YXRpb24gfSlcbiAgfVxuXG4gIHJlbW92ZShtdXRhdGlvbjogTXV0YXRpb248YW55LCBhbnksIGFueSwgYW55Pik6IHZvaWQge1xuICAgIGlmICh0aGlzLiNtdXRhdGlvbnMuZGVsZXRlKG11dGF0aW9uKSkge1xuICAgICAgY29uc3Qgc2NvcGUgPSBzY29wZUZvcihtdXRhdGlvbilcbiAgICAgIGlmICh0eXBlb2Ygc2NvcGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHNjb3BlZE11dGF0aW9ucyA9IHRoaXMuI3Njb3Blcy5nZXQoc2NvcGUpXG4gICAgICAgIGlmIChzY29wZWRNdXRhdGlvbnMpIHtcbiAgICAgICAgICBpZiAoc2NvcGVkTXV0YXRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2NvcGVkTXV0YXRpb25zLmluZGV4T2YobXV0YXRpb24pXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHNjb3BlZE11dGF0aW9ucy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChzY29wZWRNdXRhdGlvbnNbMF0gPT09IG11dGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLiNzY29wZXMuZGVsZXRlKHNjb3BlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEN1cnJlbnRseSB3ZSBub3RpZnkgdGhlIHJlbW92YWwgZXZlbiBpZiB0aGUgbXV0YXRpb24gd2FzIGFscmVhZHkgcmVtb3ZlZC5cbiAgICAvLyBDb25zaWRlciBtYWtpbmcgdGhpcyBhbiBlcnJvciBvciBub3Qgbm90aWZ5aW5nIG9mIHRoZSByZW1vdmFsIGRlcGVuZGluZyBvbiB0aGUgZGVzaXJlZCBzZW1hbnRpY3MuXG4gICAgdGhpcy5ub3RpZnkoeyB0eXBlOiAncmVtb3ZlZCcsIG11dGF0aW9uIH0pXG4gIH1cblxuICBjYW5SdW4obXV0YXRpb246IE11dGF0aW9uPGFueSwgYW55LCBhbnksIGFueT4pOiBib29sZWFuIHtcbiAgICBjb25zdCBzY29wZSA9IHNjb3BlRm9yKG11dGF0aW9uKVxuICAgIGlmICh0eXBlb2Ygc2NvcGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBtdXRhdGlvbnNXaXRoU2FtZVNjb3BlID0gdGhpcy4jc2NvcGVzLmdldChzY29wZSlcbiAgICAgIGNvbnN0IGZpcnN0UGVuZGluZ011dGF0aW9uID0gbXV0YXRpb25zV2l0aFNhbWVTY29wZT8uZmluZChcbiAgICAgICAgKG0pID0+IG0uc3RhdGUuc3RhdHVzID09PSAncGVuZGluZycsXG4gICAgICApXG4gICAgICAvLyB3ZSBjYW4gcnVuIGlmIHRoZXJlIGlzIG5vIGN1cnJlbnQgcGVuZGluZyBtdXRhdGlvbiAoc3RhcnQgdXNlLWNhc2UpXG4gICAgICAvLyBvciBpZiBXRSBhcmUgdGhlIGZpcnN0IHBlbmRpbmcgbXV0YXRpb24gKGNvbnRpbnVlIHVzZS1jYXNlKVxuICAgICAgcmV0dXJuICFmaXJzdFBlbmRpbmdNdXRhdGlvbiB8fCBmaXJzdFBlbmRpbmdNdXRhdGlvbiA9PT0gbXV0YXRpb25cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIHVuc2NvcGVkIG11dGF0aW9ucyB0aGVyZSBhcmUgbmV2ZXIgYW55IHBlbmRpbmcgbXV0YXRpb25zIGluIGZyb250IG9mIHRoZVxuICAgICAgLy8gY3VycmVudCBtdXRhdGlvblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBydW5OZXh0KG11dGF0aW9uOiBNdXRhdGlvbjxhbnksIGFueSwgYW55LCBhbnk+KTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgY29uc3Qgc2NvcGUgPSBzY29wZUZvcihtdXRhdGlvbilcbiAgICBpZiAodHlwZW9mIHNjb3BlID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgZm91bmRNdXRhdGlvbiA9IHRoaXMuI3Njb3Blc1xuICAgICAgICAuZ2V0KHNjb3BlKVxuICAgICAgICA/LmZpbmQoKG0pID0+IG0gIT09IG11dGF0aW9uICYmIG0uc3RhdGUuaXNQYXVzZWQpXG5cbiAgICAgIHJldHVybiBmb3VuZE11dGF0aW9uPy5jb250aW51ZSgpID8/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4ge1xuICAgICAgdGhpcy4jbXV0YXRpb25zLmZvckVhY2goKG11dGF0aW9uKSA9PiB7XG4gICAgICAgIHRoaXMubm90aWZ5KHsgdHlwZTogJ3JlbW92ZWQnLCBtdXRhdGlvbiB9KVxuICAgICAgfSlcbiAgICAgIHRoaXMuI211dGF0aW9ucy5jbGVhcigpXG4gICAgICB0aGlzLiNzY29wZXMuY2xlYXIoKVxuICAgIH0pXG4gIH1cblxuICBnZXRBbGwoKTogQXJyYXk8TXV0YXRpb24+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLiNtdXRhdGlvbnMpXG4gIH1cblxuICBmaW5kPFxuICAgIFREYXRhID0gdW5rbm93bixcbiAgICBURXJyb3IgPSBEZWZhdWx0RXJyb3IsXG4gICAgVFZhcmlhYmxlcyA9IGFueSxcbiAgICBUQ29udGV4dCA9IHVua25vd24sXG4gID4oXG4gICAgZmlsdGVyczogTXV0YXRpb25GaWx0ZXJzLFxuICApOiBNdXRhdGlvbjxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGRlZmF1bHRlZEZpbHRlcnMgPSB7IGV4YWN0OiB0cnVlLCAuLi5maWx0ZXJzIH1cblxuICAgIHJldHVybiB0aGlzLmdldEFsbCgpLmZpbmQoKG11dGF0aW9uKSA9PlxuICAgICAgbWF0Y2hNdXRhdGlvbihkZWZhdWx0ZWRGaWx0ZXJzLCBtdXRhdGlvbiksXG4gICAgKSBhcyBNdXRhdGlvbjxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4gfCB1bmRlZmluZWRcbiAgfVxuXG4gIGZpbmRBbGwoZmlsdGVyczogTXV0YXRpb25GaWx0ZXJzID0ge30pOiBBcnJheTxNdXRhdGlvbj4ge1xuICAgIHJldHVybiB0aGlzLmdldEFsbCgpLmZpbHRlcigobXV0YXRpb24pID0+IG1hdGNoTXV0YXRpb24oZmlsdGVycywgbXV0YXRpb24pKVxuICB9XG5cbiAgbm90aWZ5KGV2ZW50OiBNdXRhdGlvbkNhY2hlTm90aWZ5RXZlbnQpIHtcbiAgICBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICAgIGxpc3RlbmVyKGV2ZW50KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgcmVzdW1lUGF1c2VkTXV0YXRpb25zKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGNvbnN0IHBhdXNlZE11dGF0aW9ucyA9IHRoaXMuZ2V0QWxsKCkuZmlsdGVyKCh4KSA9PiB4LnN0YXRlLmlzUGF1c2VkKVxuXG4gICAgcmV0dXJuIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT5cbiAgICAgIFByb21pc2UuYWxsKFxuICAgICAgICBwYXVzZWRNdXRhdGlvbnMubWFwKChtdXRhdGlvbikgPT4gbXV0YXRpb24uY29udGludWUoKS5jYXRjaChub29wKSksXG4gICAgICApLFxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiBzY29wZUZvcihtdXRhdGlvbjogTXV0YXRpb248YW55LCBhbnksIGFueSwgYW55Pikge1xuICByZXR1cm4gbXV0YXRpb24ub3B0aW9ucy5zY29wZT8uaWRcbn1cbiIsICJpbXBvcnQgeyBhZGRUb0VuZCwgYWRkVG9TdGFydCwgZW5zdXJlUXVlcnlGbiB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgdHlwZSB7IFF1ZXJ5QmVoYXZpb3IgfSBmcm9tICcuL3F1ZXJ5J1xuaW1wb3J0IHR5cGUge1xuICBJbmZpbml0ZURhdGEsXG4gIEluZmluaXRlUXVlcnlQYWdlUGFyYW1zT3B0aW9ucyxcbiAgT21pdEtleW9mLFxuICBRdWVyeUZ1bmN0aW9uQ29udGV4dCxcbiAgUXVlcnlLZXksXG59IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3I8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUGFnZVBhcmFtPihcbiAgcGFnZXM/OiBudW1iZXIsXG4pOiBRdWVyeUJlaGF2aW9yPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBJbmZpbml0ZURhdGE8VERhdGEsIFRQYWdlUGFyYW0+PiB7XG4gIHJldHVybiB7XG4gICAgb25GZXRjaDogKGNvbnRleHQsIHF1ZXJ5KSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zID0gY29udGV4dC5vcHRpb25zIGFzIEluZmluaXRlUXVlcnlQYWdlUGFyYW1zT3B0aW9uczxURGF0YT5cbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGNvbnRleHQuZmV0Y2hPcHRpb25zPy5tZXRhPy5mZXRjaE1vcmU/LmRpcmVjdGlvblxuICAgICAgY29uc3Qgb2xkUGFnZXMgPSBjb250ZXh0LnN0YXRlLmRhdGE/LnBhZ2VzIHx8IFtdXG4gICAgICBjb25zdCBvbGRQYWdlUGFyYW1zID0gY29udGV4dC5zdGF0ZS5kYXRhPy5wYWdlUGFyYW1zIHx8IFtdXG4gICAgICBsZXQgcmVzdWx0OiBJbmZpbml0ZURhdGE8dW5rbm93bj4gPSB7IHBhZ2VzOiBbXSwgcGFnZVBhcmFtczogW10gfVxuICAgICAgbGV0IGN1cnJlbnRQYWdlID0gMFxuXG4gICAgICBjb25zdCBmZXRjaEZuID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgY2FuY2VsbGVkID0gZmFsc2VcbiAgICAgICAgY29uc3QgYWRkU2lnbmFsUHJvcGVydHkgPSAob2JqZWN0OiB1bmtub3duKSA9PiB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgJ3NpZ25hbCcsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGNvbnRleHQuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxsZWQgPSB0cnVlXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYW5jZWxsZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5zaWduYWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHF1ZXJ5Rm4gPSBlbnN1cmVRdWVyeUZuKGNvbnRleHQub3B0aW9ucywgY29udGV4dC5mZXRjaE9wdGlvbnMpXG5cbiAgICAgICAgLy8gQ3JlYXRlIGZ1bmN0aW9uIHRvIGZldGNoIGEgcGFnZVxuICAgICAgICBjb25zdCBmZXRjaFBhZ2UgPSBhc3luYyAoXG4gICAgICAgICAgZGF0YTogSW5maW5pdGVEYXRhPHVua25vd24+LFxuICAgICAgICAgIHBhcmFtOiB1bmtub3duLFxuICAgICAgICAgIHByZXZpb3VzPzogYm9vbGVhbixcbiAgICAgICAgKTogUHJvbWlzZTxJbmZpbml0ZURhdGE8dW5rbm93bj4+ID0+IHtcbiAgICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwYXJhbSA9PSBudWxsICYmIGRhdGEucGFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcXVlcnlGbkNvbnRleHQ6IE9taXRLZXlvZjxcbiAgICAgICAgICAgIFF1ZXJ5RnVuY3Rpb25Db250ZXh0PFF1ZXJ5S2V5LCB1bmtub3duPixcbiAgICAgICAgICAgICdzaWduYWwnXG4gICAgICAgICAgPiA9IHtcbiAgICAgICAgICAgIGNsaWVudDogY29udGV4dC5jbGllbnQsXG4gICAgICAgICAgICBxdWVyeUtleTogY29udGV4dC5xdWVyeUtleSxcbiAgICAgICAgICAgIHBhZ2VQYXJhbTogcGFyYW0sXG4gICAgICAgICAgICBkaXJlY3Rpb246IHByZXZpb3VzID8gJ2JhY2t3YXJkJyA6ICdmb3J3YXJkJyxcbiAgICAgICAgICAgIG1ldGE6IGNvbnRleHQub3B0aW9ucy5tZXRhLFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGFkZFNpZ25hbFByb3BlcnR5KHF1ZXJ5Rm5Db250ZXh0KVxuXG4gICAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IHF1ZXJ5Rm4oXG4gICAgICAgICAgICBxdWVyeUZuQ29udGV4dCBhcyBRdWVyeUZ1bmN0aW9uQ29udGV4dDxRdWVyeUtleSwgdW5rbm93bj4sXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgY29uc3QgeyBtYXhQYWdlcyB9ID0gY29udGV4dC5vcHRpb25zXG4gICAgICAgICAgY29uc3QgYWRkVG8gPSBwcmV2aW91cyA/IGFkZFRvU3RhcnQgOiBhZGRUb0VuZFxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBhZ2VzOiBhZGRUbyhkYXRhLnBhZ2VzLCBwYWdlLCBtYXhQYWdlcyksXG4gICAgICAgICAgICBwYWdlUGFyYW1zOiBhZGRUbyhkYXRhLnBhZ2VQYXJhbXMsIHBhcmFtLCBtYXhQYWdlcyksXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmV0Y2ggbmV4dCAvIHByZXZpb3VzIHBhZ2U/XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiYgb2xkUGFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBkaXJlY3Rpb24gPT09ICdiYWNrd2FyZCdcbiAgICAgICAgICBjb25zdCBwYWdlUGFyYW1GbiA9IHByZXZpb3VzID8gZ2V0UHJldmlvdXNQYWdlUGFyYW0gOiBnZXROZXh0UGFnZVBhcmFtXG4gICAgICAgICAgY29uc3Qgb2xkRGF0YSA9IHtcbiAgICAgICAgICAgIHBhZ2VzOiBvbGRQYWdlcyxcbiAgICAgICAgICAgIHBhZ2VQYXJhbXM6IG9sZFBhZ2VQYXJhbXMsXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHBhcmFtID0gcGFnZVBhcmFtRm4ob3B0aW9ucywgb2xkRGF0YSlcblxuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGZldGNoUGFnZShvbGREYXRhLCBwYXJhbSwgcHJldmlvdXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmVtYWluaW5nUGFnZXMgPSBwYWdlcyA/PyBvbGRQYWdlcy5sZW5ndGhcblxuICAgICAgICAgIC8vIEZldGNoIGFsbCBwYWdlc1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtID1cbiAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPT09IDBcbiAgICAgICAgICAgICAgICA/IChvbGRQYWdlUGFyYW1zWzBdID8/IG9wdGlvbnMuaW5pdGlhbFBhZ2VQYXJhbSlcbiAgICAgICAgICAgICAgICA6IGdldE5leHRQYWdlUGFyYW0ob3B0aW9ucywgcmVzdWx0KVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID4gMCAmJiBwYXJhbSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBmZXRjaFBhZ2UocmVzdWx0LCBwYXJhbSlcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlKytcbiAgICAgICAgICB9IHdoaWxlIChjdXJyZW50UGFnZSA8IHJlbWFpbmluZ1BhZ2VzKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQub3B0aW9ucy5wZXJzaXN0ZXIpIHtcbiAgICAgICAgY29udGV4dC5mZXRjaEZuID0gKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0Lm9wdGlvbnMucGVyc2lzdGVyPy4oXG4gICAgICAgICAgICBmZXRjaEZuIGFzIGFueSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xpZW50OiBjb250ZXh0LmNsaWVudCxcbiAgICAgICAgICAgICAgcXVlcnlLZXk6IGNvbnRleHQucXVlcnlLZXksXG4gICAgICAgICAgICAgIG1ldGE6IGNvbnRleHQub3B0aW9ucy5tZXRhLFxuICAgICAgICAgICAgICBzaWduYWw6IGNvbnRleHQuc2lnbmFsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5mZXRjaEZuID0gZmV0Y2hGblxuICAgICAgfVxuICAgIH0sXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TmV4dFBhZ2VQYXJhbShcbiAgb3B0aW9uczogSW5maW5pdGVRdWVyeVBhZ2VQYXJhbXNPcHRpb25zPGFueT4sXG4gIHsgcGFnZXMsIHBhZ2VQYXJhbXMgfTogSW5maW5pdGVEYXRhPHVua25vd24+LFxuKTogdW5rbm93biB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHBhZ2VzLmxlbmd0aCAtIDFcbiAgcmV0dXJuIHBhZ2VzLmxlbmd0aCA+IDBcbiAgICA/IG9wdGlvbnMuZ2V0TmV4dFBhZ2VQYXJhbShcbiAgICAgICAgcGFnZXNbbGFzdEluZGV4XSxcbiAgICAgICAgcGFnZXMsXG4gICAgICAgIHBhZ2VQYXJhbXNbbGFzdEluZGV4XSxcbiAgICAgICAgcGFnZVBhcmFtcyxcbiAgICAgIClcbiAgICA6IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBnZXRQcmV2aW91c1BhZ2VQYXJhbShcbiAgb3B0aW9uczogSW5maW5pdGVRdWVyeVBhZ2VQYXJhbXNPcHRpb25zPGFueT4sXG4gIHsgcGFnZXMsIHBhZ2VQYXJhbXMgfTogSW5maW5pdGVEYXRhPHVua25vd24+LFxuKTogdW5rbm93biB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBwYWdlcy5sZW5ndGggPiAwXG4gICAgPyBvcHRpb25zLmdldFByZXZpb3VzUGFnZVBhcmFtPy4ocGFnZXNbMF0sIHBhZ2VzLCBwYWdlUGFyYW1zWzBdLCBwYWdlUGFyYW1zKVxuICAgIDogdW5kZWZpbmVkXG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZXJlIGlzIGEgbmV4dCBwYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzTmV4dFBhZ2UoXG4gIG9wdGlvbnM6IEluZmluaXRlUXVlcnlQYWdlUGFyYW1zT3B0aW9uczxhbnksIGFueT4sXG4gIGRhdGE/OiBJbmZpbml0ZURhdGE8dW5rbm93bj4sXG4pOiBib29sZWFuIHtcbiAgaWYgKCFkYXRhKSByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIGdldE5leHRQYWdlUGFyYW0ob3B0aW9ucywgZGF0YSkgIT0gbnVsbFxufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGVyZSBpcyBhIHByZXZpb3VzIHBhZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNQcmV2aW91c1BhZ2UoXG4gIG9wdGlvbnM6IEluZmluaXRlUXVlcnlQYWdlUGFyYW1zT3B0aW9uczxhbnksIGFueT4sXG4gIGRhdGE/OiBJbmZpbml0ZURhdGE8dW5rbm93bj4sXG4pOiBib29sZWFuIHtcbiAgaWYgKCFkYXRhIHx8ICFvcHRpb25zLmdldFByZXZpb3VzUGFnZVBhcmFtKSByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIGdldFByZXZpb3VzUGFnZVBhcmFtKG9wdGlvbnMsIGRhdGEpICE9IG51bGxcbn1cbiIsICJpbXBvcnQge1xuICBmdW5jdGlvbmFsVXBkYXRlLFxuICBoYXNoS2V5LFxuICBoYXNoUXVlcnlLZXlCeU9wdGlvbnMsXG4gIG5vb3AsXG4gIHBhcnRpYWxNYXRjaEtleSxcbiAgcmVzb2x2ZVN0YWxlVGltZSxcbiAgc2tpcFRva2VuLFxufSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgUXVlcnlDYWNoZSB9IGZyb20gJy4vcXVlcnlDYWNoZSdcbmltcG9ydCB7IE11dGF0aW9uQ2FjaGUgfSBmcm9tICcuL211dGF0aW9uQ2FjaGUnXG5pbXBvcnQgeyBmb2N1c01hbmFnZXIgfSBmcm9tICcuL2ZvY3VzTWFuYWdlcidcbmltcG9ydCB7IG9ubGluZU1hbmFnZXIgfSBmcm9tICcuL29ubGluZU1hbmFnZXInXG5pbXBvcnQgeyBub3RpZnlNYW5hZ2VyIH0gZnJvbSAnLi9ub3RpZnlNYW5hZ2VyJ1xuaW1wb3J0IHsgaW5maW5pdGVRdWVyeUJlaGF2aW9yIH0gZnJvbSAnLi9pbmZpbml0ZVF1ZXJ5QmVoYXZpb3InXG5pbXBvcnQgdHlwZSB7XG4gIENhbmNlbE9wdGlvbnMsXG4gIERlZmF1bHRFcnJvcixcbiAgRGVmYXVsdE9wdGlvbnMsXG4gIERlZmF1bHRlZFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zLFxuICBFbnN1cmVJbmZpbml0ZVF1ZXJ5RGF0YU9wdGlvbnMsXG4gIEVuc3VyZVF1ZXJ5RGF0YU9wdGlvbnMsXG4gIEZldGNoSW5maW5pdGVRdWVyeU9wdGlvbnMsXG4gIEZldGNoUXVlcnlPcHRpb25zLFxuICBJbmZlckRhdGFGcm9tVGFnLFxuICBJbmZlckVycm9yRnJvbVRhZyxcbiAgSW5maW5pdGVEYXRhLFxuICBJbnZhbGlkYXRlT3B0aW9ucyxcbiAgSW52YWxpZGF0ZVF1ZXJ5RmlsdGVycyxcbiAgTXV0YXRpb25LZXksXG4gIE11dGF0aW9uT2JzZXJ2ZXJPcHRpb25zLFxuICBNdXRhdGlvbk9wdGlvbnMsXG4gIE5vSW5mZXIsXG4gIE9taXRLZXlvZixcbiAgUXVlcnlDbGllbnRDb25maWcsXG4gIFF1ZXJ5S2V5LFxuICBRdWVyeU9ic2VydmVyT3B0aW9ucyxcbiAgUXVlcnlPcHRpb25zLFxuICBSZWZldGNoT3B0aW9ucyxcbiAgUmVmZXRjaFF1ZXJ5RmlsdGVycyxcbiAgUmVzZXRPcHRpb25zLFxuICBTZXREYXRhT3B0aW9ucyxcbn0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB0eXBlIHsgUXVlcnlTdGF0ZSB9IGZyb20gJy4vcXVlcnknXG5pbXBvcnQgdHlwZSB7IE11dGF0aW9uRmlsdGVycywgUXVlcnlGaWx0ZXJzLCBVcGRhdGVyIH0gZnJvbSAnLi91dGlscydcblxuLy8gVFlQRVNcblxuaW50ZXJmYWNlIFF1ZXJ5RGVmYXVsdHMge1xuICBxdWVyeUtleTogUXVlcnlLZXlcbiAgZGVmYXVsdE9wdGlvbnM6IE9taXRLZXlvZjxRdWVyeU9wdGlvbnM8YW55LCBhbnksIGFueT4sICdxdWVyeUtleSc+XG59XG5cbmludGVyZmFjZSBNdXRhdGlvbkRlZmF1bHRzIHtcbiAgbXV0YXRpb25LZXk6IE11dGF0aW9uS2V5XG4gIGRlZmF1bHRPcHRpb25zOiBNdXRhdGlvbk9wdGlvbnM8YW55LCBhbnksIGFueSwgYW55PlxufVxuXG4vLyBDTEFTU1xuXG5leHBvcnQgY2xhc3MgUXVlcnlDbGllbnQge1xuICAjcXVlcnlDYWNoZTogUXVlcnlDYWNoZVxuICAjbXV0YXRpb25DYWNoZTogTXV0YXRpb25DYWNoZVxuICAjZGVmYXVsdE9wdGlvbnM6IERlZmF1bHRPcHRpb25zXG4gICNxdWVyeURlZmF1bHRzOiBNYXA8c3RyaW5nLCBRdWVyeURlZmF1bHRzPlxuICAjbXV0YXRpb25EZWZhdWx0czogTWFwPHN0cmluZywgTXV0YXRpb25EZWZhdWx0cz5cbiAgI21vdW50Q291bnQ6IG51bWJlclxuICAjdW5zdWJzY3JpYmVGb2N1cz86ICgpID0+IHZvaWRcbiAgI3Vuc3Vic2NyaWJlT25saW5lPzogKCkgPT4gdm9pZFxuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogUXVlcnlDbGllbnRDb25maWcgPSB7fSkge1xuICAgIHRoaXMuI3F1ZXJ5Q2FjaGUgPSBjb25maWcucXVlcnlDYWNoZSB8fCBuZXcgUXVlcnlDYWNoZSgpXG4gICAgdGhpcy4jbXV0YXRpb25DYWNoZSA9IGNvbmZpZy5tdXRhdGlvbkNhY2hlIHx8IG5ldyBNdXRhdGlvbkNhY2hlKClcbiAgICB0aGlzLiNkZWZhdWx0T3B0aW9ucyA9IGNvbmZpZy5kZWZhdWx0T3B0aW9ucyB8fCB7fVxuICAgIHRoaXMuI3F1ZXJ5RGVmYXVsdHMgPSBuZXcgTWFwKClcbiAgICB0aGlzLiNtdXRhdGlvbkRlZmF1bHRzID0gbmV3IE1hcCgpXG4gICAgdGhpcy4jbW91bnRDb3VudCA9IDBcbiAgfVxuXG4gIG1vdW50KCk6IHZvaWQge1xuICAgIHRoaXMuI21vdW50Q291bnQrK1xuICAgIGlmICh0aGlzLiNtb3VudENvdW50ICE9PSAxKSByZXR1cm5cblxuICAgIHRoaXMuI3Vuc3Vic2NyaWJlRm9jdXMgPSBmb2N1c01hbmFnZXIuc3Vic2NyaWJlKGFzeW5jIChmb2N1c2VkKSA9PiB7XG4gICAgICBpZiAoZm9jdXNlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlc3VtZVBhdXNlZE11dGF0aW9ucygpXG4gICAgICAgIHRoaXMuI3F1ZXJ5Q2FjaGUub25Gb2N1cygpXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLiN1bnN1YnNjcmliZU9ubGluZSA9IG9ubGluZU1hbmFnZXIuc3Vic2NyaWJlKGFzeW5jIChvbmxpbmUpID0+IHtcbiAgICAgIGlmIChvbmxpbmUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZXN1bWVQYXVzZWRNdXRhdGlvbnMoKVxuICAgICAgICB0aGlzLiNxdWVyeUNhY2hlLm9uT25saW5lKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdW5tb3VudCgpOiB2b2lkIHtcbiAgICB0aGlzLiNtb3VudENvdW50LS1cbiAgICBpZiAodGhpcy4jbW91bnRDb3VudCAhPT0gMCkgcmV0dXJuXG5cbiAgICB0aGlzLiN1bnN1YnNjcmliZUZvY3VzPy4oKVxuICAgIHRoaXMuI3Vuc3Vic2NyaWJlRm9jdXMgPSB1bmRlZmluZWRcblxuICAgIHRoaXMuI3Vuc3Vic2NyaWJlT25saW5lPy4oKVxuICAgIHRoaXMuI3Vuc3Vic2NyaWJlT25saW5lID0gdW5kZWZpbmVkXG4gIH1cblxuICBpc0ZldGNoaW5nPFxuICAgIFRRdWVyeUZpbHRlcnMgZXh0ZW5kcyBRdWVyeUZpbHRlcnM8YW55LCBhbnksIGFueSwgYW55PiA9IFF1ZXJ5RmlsdGVycyxcbiAgPihmaWx0ZXJzPzogVFF1ZXJ5RmlsdGVycyk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI3F1ZXJ5Q2FjaGUuZmluZEFsbCh7IC4uLmZpbHRlcnMsIGZldGNoU3RhdHVzOiAnZmV0Y2hpbmcnIH0pXG4gICAgICAubGVuZ3RoXG4gIH1cblxuICBpc011dGF0aW5nPFxuICAgIFRNdXRhdGlvbkZpbHRlcnMgZXh0ZW5kcyBNdXRhdGlvbkZpbHRlcnM8YW55LCBhbnk+ID0gTXV0YXRpb25GaWx0ZXJzLFxuICA+KGZpbHRlcnM/OiBUTXV0YXRpb25GaWx0ZXJzKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jbXV0YXRpb25DYWNoZS5maW5kQWxsKHsgLi4uZmlsdGVycywgc3RhdHVzOiAncGVuZGluZycgfSkubGVuZ3RoXG4gIH1cblxuICAvKipcbiAgICogSW1wZXJhdGl2ZSAobm9uLXJlYWN0aXZlKSB3YXkgdG8gcmV0cmlldmUgZGF0YSBmb3IgYSBRdWVyeUtleS5cbiAgICogU2hvdWxkIG9ubHkgYmUgdXNlZCBpbiBjYWxsYmFja3Mgb3IgZnVuY3Rpb25zIHdoZXJlIHJlYWRpbmcgdGhlIGxhdGVzdCBkYXRhIGlzIG5lY2Vzc2FyeSwgZS5nLiBmb3Igb3B0aW1pc3RpYyB1cGRhdGVzLlxuICAgKlxuICAgKiBIaW50OiBEbyBub3QgdXNlIHRoaXMgZnVuY3Rpb24gaW5zaWRlIGEgY29tcG9uZW50LCBiZWNhdXNlIGl0IHdvbid0IHJlY2VpdmUgdXBkYXRlcy5cbiAgICogVXNlIGB1c2VRdWVyeWAgdG8gY3JlYXRlIGEgYFF1ZXJ5T2JzZXJ2ZXJgIHRoYXQgc3Vic2NyaWJlcyB0byBjaGFuZ2VzLlxuICAgKi9cbiAgZ2V0UXVlcnlEYXRhPFxuICAgIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gICAgVFRhZ2dlZFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleSxcbiAgICBUSW5mZXJyZWRRdWVyeUZuRGF0YSA9IEluZmVyRGF0YUZyb21UYWc8VFF1ZXJ5Rm5EYXRhLCBUVGFnZ2VkUXVlcnlLZXk+LFxuICA+KHF1ZXJ5S2V5OiBUVGFnZ2VkUXVlcnlLZXkpOiBUSW5mZXJyZWRRdWVyeUZuRGF0YSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZGVmYXVsdFF1ZXJ5T3B0aW9ucyh7IHF1ZXJ5S2V5IH0pXG5cbiAgICByZXR1cm4gdGhpcy4jcXVlcnlDYWNoZS5nZXQob3B0aW9ucy5xdWVyeUhhc2gpPy5zdGF0ZS5kYXRhIGFzXG4gICAgICB8IFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhXG4gICAgICB8IHVuZGVmaW5lZFxuICB9XG5cbiAgZW5zdXJlUXVlcnlEYXRhPFxuICAgIFRRdWVyeUZuRGF0YSxcbiAgICBURXJyb3IgPSBEZWZhdWx0RXJyb3IsXG4gICAgVERhdGEgPSBUUXVlcnlGbkRhdGEsXG4gICAgVFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleSxcbiAgPihcbiAgICBvcHRpb25zOiBFbnN1cmVRdWVyeURhdGFPcHRpb25zPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5S2V5PixcbiAgKTogUHJvbWlzZTxURGF0YT4ge1xuICAgIGNvbnN0IGRlZmF1bHRlZE9wdGlvbnMgPSB0aGlzLmRlZmF1bHRRdWVyeU9wdGlvbnMob3B0aW9ucylcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMuI3F1ZXJ5Q2FjaGUuYnVpbGQodGhpcywgZGVmYXVsdGVkT3B0aW9ucylcbiAgICBjb25zdCBjYWNoZWREYXRhID0gcXVlcnkuc3RhdGUuZGF0YVxuXG4gICAgaWYgKGNhY2hlZERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hRdWVyeShvcHRpb25zKVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIG9wdGlvbnMucmV2YWxpZGF0ZUlmU3RhbGUgJiZcbiAgICAgIHF1ZXJ5LmlzU3RhbGVCeVRpbWUocmVzb2x2ZVN0YWxlVGltZShkZWZhdWx0ZWRPcHRpb25zLnN0YWxlVGltZSwgcXVlcnkpKVxuICAgICkge1xuICAgICAgdm9pZCB0aGlzLnByZWZldGNoUXVlcnkoZGVmYXVsdGVkT3B0aW9ucylcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNhY2hlZERhdGEpXG4gIH1cblxuICBnZXRRdWVyaWVzRGF0YTxcbiAgICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICAgIFRRdWVyeUZpbHRlcnMgZXh0ZW5kcyBRdWVyeUZpbHRlcnM8XG4gICAgICBhbnksXG4gICAgICBhbnksXG4gICAgICBhbnksXG4gICAgICBhbnlcbiAgICA+ID0gUXVlcnlGaWx0ZXJzPFRRdWVyeUZuRGF0YT4sXG4gICAgVEluZmVycmVkUXVlcnlGbkRhdGEgPSBUUXVlcnlGaWx0ZXJzIGV4dGVuZHMgUXVlcnlGaWx0ZXJzPFxuICAgICAgaW5mZXIgVERhdGEsXG4gICAgICBhbnksXG4gICAgICBhbnksXG4gICAgICBhbnlcbiAgICA+XG4gICAgICA/IFREYXRhXG4gICAgICA6IFRRdWVyeUZuRGF0YSxcbiAgPihcbiAgICBmaWx0ZXJzOiBUUXVlcnlGaWx0ZXJzLFxuICApOiBBcnJheTxbUXVlcnlLZXksIFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhIHwgdW5kZWZpbmVkXT4ge1xuICAgIHJldHVybiB0aGlzLiNxdWVyeUNhY2hlLmZpbmRBbGwoZmlsdGVycykubWFwKCh7IHF1ZXJ5S2V5LCBzdGF0ZSB9KSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gc3RhdGUuZGF0YSBhcyBUSW5mZXJyZWRRdWVyeUZuRGF0YSB8IHVuZGVmaW5lZFxuICAgICAgcmV0dXJuIFtxdWVyeUtleSwgZGF0YV1cbiAgICB9KVxuICB9XG5cbiAgc2V0UXVlcnlEYXRhPFxuICAgIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gICAgVFRhZ2dlZFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleSxcbiAgICBUSW5mZXJyZWRRdWVyeUZuRGF0YSA9IEluZmVyRGF0YUZyb21UYWc8VFF1ZXJ5Rm5EYXRhLCBUVGFnZ2VkUXVlcnlLZXk+LFxuICA+KFxuICAgIHF1ZXJ5S2V5OiBUVGFnZ2VkUXVlcnlLZXksXG4gICAgdXBkYXRlcjogVXBkYXRlcjxcbiAgICAgIE5vSW5mZXI8VEluZmVycmVkUXVlcnlGbkRhdGE+IHwgdW5kZWZpbmVkLFxuICAgICAgTm9JbmZlcjxUSW5mZXJyZWRRdWVyeUZuRGF0YT4gfCB1bmRlZmluZWRcbiAgICA+LFxuICAgIG9wdGlvbnM/OiBTZXREYXRhT3B0aW9ucyxcbiAgKTogVEluZmVycmVkUXVlcnlGbkRhdGEgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGRlZmF1bHRlZE9wdGlvbnMgPSB0aGlzLmRlZmF1bHRRdWVyeU9wdGlvbnM8XG4gICAgICBhbnksXG4gICAgICBhbnksXG4gICAgICB1bmtub3duLFxuICAgICAgYW55LFxuICAgICAgUXVlcnlLZXlcbiAgICA+KHsgcXVlcnlLZXkgfSlcblxuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy4jcXVlcnlDYWNoZS5nZXQ8VEluZmVycmVkUXVlcnlGbkRhdGE+KFxuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5xdWVyeUhhc2gsXG4gICAgKVxuICAgIGNvbnN0IHByZXZEYXRhID0gcXVlcnk/LnN0YXRlLmRhdGFcbiAgICBjb25zdCBkYXRhID0gZnVuY3Rpb25hbFVwZGF0ZSh1cGRhdGVyLCBwcmV2RGF0YSlcblxuICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy4jcXVlcnlDYWNoZVxuICAgICAgLmJ1aWxkKHRoaXMsIGRlZmF1bHRlZE9wdGlvbnMpXG4gICAgICAuc2V0RGF0YShkYXRhLCB7IC4uLm9wdGlvbnMsIG1hbnVhbDogdHJ1ZSB9KVxuICB9XG5cbiAgc2V0UXVlcmllc0RhdGE8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRRdWVyeUZpbHRlcnMgZXh0ZW5kcyBRdWVyeUZpbHRlcnM8XG4gICAgICBhbnksXG4gICAgICBhbnksXG4gICAgICBhbnksXG4gICAgICBhbnlcbiAgICA+ID0gUXVlcnlGaWx0ZXJzPFRRdWVyeUZuRGF0YT4sXG4gICAgVEluZmVycmVkUXVlcnlGbkRhdGEgPSBUUXVlcnlGaWx0ZXJzIGV4dGVuZHMgUXVlcnlGaWx0ZXJzPFxuICAgICAgaW5mZXIgVERhdGEsXG4gICAgICBhbnksXG4gICAgICBhbnksXG4gICAgICBhbnlcbiAgICA+XG4gICAgICA/IFREYXRhXG4gICAgICA6IFRRdWVyeUZuRGF0YSxcbiAgPihcbiAgICBmaWx0ZXJzOiBUUXVlcnlGaWx0ZXJzLFxuICAgIHVwZGF0ZXI6IFVwZGF0ZXI8XG4gICAgICBOb0luZmVyPFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhPiB8IHVuZGVmaW5lZCxcbiAgICAgIE5vSW5mZXI8VEluZmVycmVkUXVlcnlGbkRhdGE+IHwgdW5kZWZpbmVkXG4gICAgPixcbiAgICBvcHRpb25zPzogU2V0RGF0YU9wdGlvbnMsXG4gICk6IEFycmF5PFtRdWVyeUtleSwgVEluZmVycmVkUXVlcnlGbkRhdGEgfCB1bmRlZmluZWRdPiB7XG4gICAgcmV0dXJuIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT5cbiAgICAgIHRoaXMuI3F1ZXJ5Q2FjaGVcbiAgICAgICAgLmZpbmRBbGwoZmlsdGVycylcbiAgICAgICAgLm1hcCgoeyBxdWVyeUtleSB9KSA9PiBbXG4gICAgICAgICAgcXVlcnlLZXksXG4gICAgICAgICAgdGhpcy5zZXRRdWVyeURhdGE8VEluZmVycmVkUXVlcnlGbkRhdGE+KHF1ZXJ5S2V5LCB1cGRhdGVyLCBvcHRpb25zKSxcbiAgICAgICAgXSksXG4gICAgKVxuICB9XG5cbiAgZ2V0UXVlcnlTdGF0ZTxcbiAgICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBUVGFnZ2VkUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICAgIFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhID0gSW5mZXJEYXRhRnJvbVRhZzxUUXVlcnlGbkRhdGEsIFRUYWdnZWRRdWVyeUtleT4sXG4gICAgVEluZmVycmVkRXJyb3IgPSBJbmZlckVycm9yRnJvbVRhZzxURXJyb3IsIFRUYWdnZWRRdWVyeUtleT4sXG4gID4oXG4gICAgcXVlcnlLZXk6IFRUYWdnZWRRdWVyeUtleSxcbiAgKTogUXVlcnlTdGF0ZTxUSW5mZXJyZWRRdWVyeUZuRGF0YSwgVEluZmVycmVkRXJyb3I+IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5kZWZhdWx0UXVlcnlPcHRpb25zKHsgcXVlcnlLZXkgfSlcbiAgICByZXR1cm4gdGhpcy4jcXVlcnlDYWNoZS5nZXQ8VEluZmVycmVkUXVlcnlGbkRhdGEsIFRJbmZlcnJlZEVycm9yPihcbiAgICAgIG9wdGlvbnMucXVlcnlIYXNoLFxuICAgICk/LnN0YXRlXG4gIH1cblxuICByZW1vdmVRdWVyaWVzPFxuICAgIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gICAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICAgIFRUYWdnZWRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4gICAgVEluZmVycmVkUXVlcnlGbkRhdGEgPSBJbmZlckRhdGFGcm9tVGFnPFRRdWVyeUZuRGF0YSwgVFRhZ2dlZFF1ZXJ5S2V5PixcbiAgICBUSW5mZXJyZWRFcnJvciA9IEluZmVyRXJyb3JGcm9tVGFnPFRFcnJvciwgVFRhZ2dlZFF1ZXJ5S2V5PixcbiAgPihcbiAgICBmaWx0ZXJzPzogUXVlcnlGaWx0ZXJzPFxuICAgICAgVEluZmVycmVkUXVlcnlGbkRhdGEsXG4gICAgICBUSW5mZXJyZWRFcnJvcixcbiAgICAgIFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhLFxuICAgICAgVFRhZ2dlZFF1ZXJ5S2V5XG4gICAgPixcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcXVlcnlDYWNoZSA9IHRoaXMuI3F1ZXJ5Q2FjaGVcbiAgICBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHtcbiAgICAgIHF1ZXJ5Q2FjaGUuZmluZEFsbChmaWx0ZXJzKS5mb3JFYWNoKChxdWVyeSkgPT4ge1xuICAgICAgICBxdWVyeUNhY2hlLnJlbW92ZShxdWVyeSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHJlc2V0UXVlcmllczxcbiAgICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBUVGFnZ2VkUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICAgIFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhID0gSW5mZXJEYXRhRnJvbVRhZzxUUXVlcnlGbkRhdGEsIFRUYWdnZWRRdWVyeUtleT4sXG4gICAgVEluZmVycmVkRXJyb3IgPSBJbmZlckVycm9yRnJvbVRhZzxURXJyb3IsIFRUYWdnZWRRdWVyeUtleT4sXG4gID4oXG4gICAgZmlsdGVycz86IFF1ZXJ5RmlsdGVyczxcbiAgICAgIFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhLFxuICAgICAgVEluZmVycmVkRXJyb3IsXG4gICAgICBUSW5mZXJyZWRRdWVyeUZuRGF0YSxcbiAgICAgIFRUYWdnZWRRdWVyeUtleVxuICAgID4sXG4gICAgb3B0aW9ucz86IFJlc2V0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcXVlcnlDYWNoZSA9IHRoaXMuI3F1ZXJ5Q2FjaGVcblxuICAgIHJldHVybiBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHtcbiAgICAgIHF1ZXJ5Q2FjaGUuZmluZEFsbChmaWx0ZXJzKS5mb3JFYWNoKChxdWVyeSkgPT4ge1xuICAgICAgICBxdWVyeS5yZXNldCgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXMucmVmZXRjaFF1ZXJpZXMoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnYWN0aXZlJyxcbiAgICAgICAgICAuLi5maWx0ZXJzLFxuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICBjYW5jZWxRdWVyaWVzPFxuICAgIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gICAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICAgIFRUYWdnZWRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4gICAgVEluZmVycmVkUXVlcnlGbkRhdGEgPSBJbmZlckRhdGFGcm9tVGFnPFRRdWVyeUZuRGF0YSwgVFRhZ2dlZFF1ZXJ5S2V5PixcbiAgICBUSW5mZXJyZWRFcnJvciA9IEluZmVyRXJyb3JGcm9tVGFnPFRFcnJvciwgVFRhZ2dlZFF1ZXJ5S2V5PixcbiAgPihcbiAgICBmaWx0ZXJzPzogUXVlcnlGaWx0ZXJzPFxuICAgICAgVEluZmVycmVkUXVlcnlGbkRhdGEsXG4gICAgICBUSW5mZXJyZWRFcnJvcixcbiAgICAgIFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhLFxuICAgICAgVFRhZ2dlZFF1ZXJ5S2V5XG4gICAgPixcbiAgICBjYW5jZWxPcHRpb25zOiBDYW5jZWxPcHRpb25zID0ge30sXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRlZmF1bHRlZENhbmNlbE9wdGlvbnMgPSB7IHJldmVydDogdHJ1ZSwgLi4uY2FuY2VsT3B0aW9ucyB9XG5cbiAgICBjb25zdCBwcm9taXNlcyA9IG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT5cbiAgICAgIHRoaXMuI3F1ZXJ5Q2FjaGVcbiAgICAgICAgLmZpbmRBbGwoZmlsdGVycylcbiAgICAgICAgLm1hcCgocXVlcnkpID0+IHF1ZXJ5LmNhbmNlbChkZWZhdWx0ZWRDYW5jZWxPcHRpb25zKSksXG4gICAgKVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKG5vb3ApLmNhdGNoKG5vb3ApXG4gIH1cblxuICBpbnZhbGlkYXRlUXVlcmllczxcbiAgICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBUVGFnZ2VkUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICAgIFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhID0gSW5mZXJEYXRhRnJvbVRhZzxUUXVlcnlGbkRhdGEsIFRUYWdnZWRRdWVyeUtleT4sXG4gICAgVEluZmVycmVkRXJyb3IgPSBJbmZlckVycm9yRnJvbVRhZzxURXJyb3IsIFRUYWdnZWRRdWVyeUtleT4sXG4gID4oXG4gICAgZmlsdGVycz86IEludmFsaWRhdGVRdWVyeUZpbHRlcnM8XG4gICAgICBUSW5mZXJyZWRRdWVyeUZuRGF0YSxcbiAgICAgIFRJbmZlcnJlZEVycm9yLFxuICAgICAgVEluZmVycmVkUXVlcnlGbkRhdGEsXG4gICAgICBUVGFnZ2VkUXVlcnlLZXlcbiAgICA+LFxuICAgIG9wdGlvbnM6IEludmFsaWRhdGVPcHRpb25zID0ge30sXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMuI3F1ZXJ5Q2FjaGUuZmluZEFsbChmaWx0ZXJzKS5mb3JFYWNoKChxdWVyeSkgPT4ge1xuICAgICAgICBxdWVyeS5pbnZhbGlkYXRlKClcbiAgICAgIH0pXG5cbiAgICAgIGlmIChmaWx0ZXJzPy5yZWZldGNoVHlwZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVmZXRjaFF1ZXJpZXMoXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5maWx0ZXJzLFxuICAgICAgICAgIHR5cGU6IGZpbHRlcnM/LnJlZmV0Y2hUeXBlID8/IGZpbHRlcnM/LnR5cGUgPz8gJ2FjdGl2ZScsXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIHJlZmV0Y2hRdWVyaWVzPFxuICAgIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gICAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICAgIFRUYWdnZWRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4gICAgVEluZmVycmVkUXVlcnlGbkRhdGEgPSBJbmZlckRhdGFGcm9tVGFnPFRRdWVyeUZuRGF0YSwgVFRhZ2dlZFF1ZXJ5S2V5PixcbiAgICBUSW5mZXJyZWRFcnJvciA9IEluZmVyRXJyb3JGcm9tVGFnPFRFcnJvciwgVFRhZ2dlZFF1ZXJ5S2V5PixcbiAgPihcbiAgICBmaWx0ZXJzPzogUmVmZXRjaFF1ZXJ5RmlsdGVyczxcbiAgICAgIFRJbmZlcnJlZFF1ZXJ5Rm5EYXRhLFxuICAgICAgVEluZmVycmVkRXJyb3IsXG4gICAgICBUSW5mZXJyZWRRdWVyeUZuRGF0YSxcbiAgICAgIFRUYWdnZWRRdWVyeUtleVxuICAgID4sXG4gICAgb3B0aW9uczogUmVmZXRjaE9wdGlvbnMgPSB7fSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGNhbmNlbFJlZmV0Y2g6IG9wdGlvbnMuY2FuY2VsUmVmZXRjaCA/PyB0cnVlLFxuICAgIH1cbiAgICBjb25zdCBwcm9taXNlcyA9IG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT5cbiAgICAgIHRoaXMuI3F1ZXJ5Q2FjaGVcbiAgICAgICAgLmZpbmRBbGwoZmlsdGVycylcbiAgICAgICAgLmZpbHRlcigocXVlcnkpID0+ICFxdWVyeS5pc0Rpc2FibGVkKCkpXG4gICAgICAgIC5tYXAoKHF1ZXJ5KSA9PiB7XG4gICAgICAgICAgbGV0IHByb21pc2UgPSBxdWVyeS5mZXRjaCh1bmRlZmluZWQsIGZldGNoT3B0aW9ucylcbiAgICAgICAgICBpZiAoIWZldGNoT3B0aW9ucy50aHJvd09uRXJyb3IpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLmNhdGNoKG5vb3ApXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBxdWVyeS5zdGF0ZS5mZXRjaFN0YXR1cyA9PT0gJ3BhdXNlZCdcbiAgICAgICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgIDogcHJvbWlzZVxuICAgICAgICB9KSxcbiAgICApXG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4obm9vcClcbiAgfVxuXG4gIGZldGNoUXVlcnk8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICAgIFRQYWdlUGFyYW0gPSBuZXZlcixcbiAgPihcbiAgICBvcHRpb25zOiBGZXRjaFF1ZXJ5T3B0aW9uczxcbiAgICAgIFRRdWVyeUZuRGF0YSxcbiAgICAgIFRFcnJvcixcbiAgICAgIFREYXRhLFxuICAgICAgVFF1ZXJ5S2V5LFxuICAgICAgVFBhZ2VQYXJhbVxuICAgID4sXG4gICk6IFByb21pc2U8VERhdGE+IHtcbiAgICBjb25zdCBkZWZhdWx0ZWRPcHRpb25zID0gdGhpcy5kZWZhdWx0UXVlcnlPcHRpb25zKG9wdGlvbnMpXG5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGFubmVybGluc2xleS9yZWFjdC1xdWVyeS9pc3N1ZXMvNjUyXG4gICAgaWYgKGRlZmF1bHRlZE9wdGlvbnMucmV0cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5yZXRyeSA9IGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLiNxdWVyeUNhY2hlLmJ1aWxkKHRoaXMsIGRlZmF1bHRlZE9wdGlvbnMpXG5cbiAgICByZXR1cm4gcXVlcnkuaXNTdGFsZUJ5VGltZShcbiAgICAgIHJlc29sdmVTdGFsZVRpbWUoZGVmYXVsdGVkT3B0aW9ucy5zdGFsZVRpbWUsIHF1ZXJ5KSxcbiAgICApXG4gICAgICA/IHF1ZXJ5LmZldGNoKGRlZmF1bHRlZE9wdGlvbnMpXG4gICAgICA6IFByb21pc2UucmVzb2x2ZShxdWVyeS5zdGF0ZS5kYXRhIGFzIFREYXRhKVxuICB9XG5cbiAgcHJlZmV0Y2hRdWVyeTxcbiAgICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICA+KFxuICAgIG9wdGlvbnM6IEZldGNoUXVlcnlPcHRpb25zPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5S2V5PixcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hRdWVyeShvcHRpb25zKS50aGVuKG5vb3ApLmNhdGNoKG5vb3ApXG4gIH1cblxuICBmZXRjaEluZmluaXRlUXVlcnk8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICAgIFRQYWdlUGFyYW0gPSB1bmtub3duLFxuICA+KFxuICAgIG9wdGlvbnM6IEZldGNoSW5maW5pdGVRdWVyeU9wdGlvbnM8XG4gICAgICBUUXVlcnlGbkRhdGEsXG4gICAgICBURXJyb3IsXG4gICAgICBURGF0YSxcbiAgICAgIFRRdWVyeUtleSxcbiAgICAgIFRQYWdlUGFyYW1cbiAgICA+LFxuICApOiBQcm9taXNlPEluZmluaXRlRGF0YTxURGF0YSwgVFBhZ2VQYXJhbT4+IHtcbiAgICBvcHRpb25zLmJlaGF2aW9yID0gaW5maW5pdGVRdWVyeUJlaGF2aW9yPFxuICAgICAgVFF1ZXJ5Rm5EYXRhLFxuICAgICAgVEVycm9yLFxuICAgICAgVERhdGEsXG4gICAgICBUUGFnZVBhcmFtXG4gICAgPihvcHRpb25zLnBhZ2VzKVxuICAgIHJldHVybiB0aGlzLmZldGNoUXVlcnkob3B0aW9ucyBhcyBhbnkpXG4gIH1cblxuICBwcmVmZXRjaEluZmluaXRlUXVlcnk8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICAgIFRQYWdlUGFyYW0gPSB1bmtub3duLFxuICA+KFxuICAgIG9wdGlvbnM6IEZldGNoSW5maW5pdGVRdWVyeU9wdGlvbnM8XG4gICAgICBUUXVlcnlGbkRhdGEsXG4gICAgICBURXJyb3IsXG4gICAgICBURGF0YSxcbiAgICAgIFRRdWVyeUtleSxcbiAgICAgIFRQYWdlUGFyYW1cbiAgICA+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaEluZmluaXRlUXVlcnkob3B0aW9ucykudGhlbihub29wKS5jYXRjaChub29wKVxuICB9XG5cbiAgZW5zdXJlSW5maW5pdGVRdWVyeURhdGE8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuICAgIFRQYWdlUGFyYW0gPSB1bmtub3duLFxuICA+KFxuICAgIG9wdGlvbnM6IEVuc3VyZUluZmluaXRlUXVlcnlEYXRhT3B0aW9uczxcbiAgICAgIFRRdWVyeUZuRGF0YSxcbiAgICAgIFRFcnJvcixcbiAgICAgIFREYXRhLFxuICAgICAgVFF1ZXJ5S2V5LFxuICAgICAgVFBhZ2VQYXJhbVxuICAgID4sXG4gICk6IFByb21pc2U8SW5maW5pdGVEYXRhPFREYXRhLCBUUGFnZVBhcmFtPj4ge1xuICAgIG9wdGlvbnMuYmVoYXZpb3IgPSBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3I8XG4gICAgICBUUXVlcnlGbkRhdGEsXG4gICAgICBURXJyb3IsXG4gICAgICBURGF0YSxcbiAgICAgIFRQYWdlUGFyYW1cbiAgICA+KG9wdGlvbnMucGFnZXMpXG5cbiAgICByZXR1cm4gdGhpcy5lbnN1cmVRdWVyeURhdGEob3B0aW9ucyBhcyBhbnkpXG4gIH1cblxuICByZXN1bWVQYXVzZWRNdXRhdGlvbnMoKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKG9ubGluZU1hbmFnZXIuaXNPbmxpbmUoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuI211dGF0aW9uQ2FjaGUucmVzdW1lUGF1c2VkTXV0YXRpb25zKClcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gIH1cblxuICBnZXRRdWVyeUNhY2hlKCk6IFF1ZXJ5Q2FjaGUge1xuICAgIHJldHVybiB0aGlzLiNxdWVyeUNhY2hlXG4gIH1cblxuICBnZXRNdXRhdGlvbkNhY2hlKCk6IE11dGF0aW9uQ2FjaGUge1xuICAgIHJldHVybiB0aGlzLiNtdXRhdGlvbkNhY2hlXG4gIH1cblxuICBnZXREZWZhdWx0T3B0aW9ucygpOiBEZWZhdWx0T3B0aW9ucyB7XG4gICAgcmV0dXJuIHRoaXMuI2RlZmF1bHRPcHRpb25zXG4gIH1cblxuICBzZXREZWZhdWx0T3B0aW9ucyhvcHRpb25zOiBEZWZhdWx0T3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMuI2RlZmF1bHRPcHRpb25zID0gb3B0aW9uc1xuICB9XG5cbiAgc2V0UXVlcnlEZWZhdWx0czxcbiAgICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgICBUUXVlcnlEYXRhID0gVFF1ZXJ5Rm5EYXRhLFxuICA+KFxuICAgIHF1ZXJ5S2V5OiBRdWVyeUtleSxcbiAgICBvcHRpb25zOiBQYXJ0aWFsPFxuICAgICAgT21pdEtleW9mPFxuICAgICAgICBRdWVyeU9ic2VydmVyT3B0aW9uczxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeURhdGE+LFxuICAgICAgICAncXVlcnlLZXknXG4gICAgICA+XG4gICAgPixcbiAgKTogdm9pZCB7XG4gICAgdGhpcy4jcXVlcnlEZWZhdWx0cy5zZXQoaGFzaEtleShxdWVyeUtleSksIHtcbiAgICAgIHF1ZXJ5S2V5LFxuICAgICAgZGVmYXVsdE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgfSlcbiAgfVxuXG4gIGdldFF1ZXJ5RGVmYXVsdHMoXG4gICAgcXVlcnlLZXk6IFF1ZXJ5S2V5LFxuICApOiBPbWl0S2V5b2Y8UXVlcnlPYnNlcnZlck9wdGlvbnM8YW55LCBhbnksIGFueSwgYW55LCBhbnk+LCAncXVlcnlLZXknPiB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSBbLi4udGhpcy4jcXVlcnlEZWZhdWx0cy52YWx1ZXMoKV1cblxuICAgIGNvbnN0IHJlc3VsdDogT21pdEtleW9mPFxuICAgICAgUXVlcnlPYnNlcnZlck9wdGlvbnM8YW55LCBhbnksIGFueSwgYW55LCBhbnk+LFxuICAgICAgJ3F1ZXJ5S2V5J1xuICAgID4gPSB7fVxuXG4gICAgZGVmYXVsdHMuZm9yRWFjaCgocXVlcnlEZWZhdWx0KSA9PiB7XG4gICAgICBpZiAocGFydGlhbE1hdGNoS2V5KHF1ZXJ5S2V5LCBxdWVyeURlZmF1bHQucXVlcnlLZXkpKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCBxdWVyeURlZmF1bHQuZGVmYXVsdE9wdGlvbnMpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBzZXRNdXRhdGlvbkRlZmF1bHRzPFxuICAgIFREYXRhID0gdW5rbm93bixcbiAgICBURXJyb3IgPSBEZWZhdWx0RXJyb3IsXG4gICAgVFZhcmlhYmxlcyA9IHZvaWQsXG4gICAgVENvbnRleHQgPSB1bmtub3duLFxuICA+KFxuICAgIG11dGF0aW9uS2V5OiBNdXRhdGlvbktleSxcbiAgICBvcHRpb25zOiBPbWl0S2V5b2Y8XG4gICAgICBNdXRhdGlvbk9ic2VydmVyT3B0aW9uczxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4sXG4gICAgICAnbXV0YXRpb25LZXknXG4gICAgPixcbiAgKTogdm9pZCB7XG4gICAgdGhpcy4jbXV0YXRpb25EZWZhdWx0cy5zZXQoaGFzaEtleShtdXRhdGlvbktleSksIHtcbiAgICAgIG11dGF0aW9uS2V5LFxuICAgICAgZGVmYXVsdE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgfSlcbiAgfVxuXG4gIGdldE11dGF0aW9uRGVmYXVsdHMoXG4gICAgbXV0YXRpb25LZXk6IE11dGF0aW9uS2V5LFxuICApOiBPbWl0S2V5b2Y8TXV0YXRpb25PYnNlcnZlck9wdGlvbnM8YW55LCBhbnksIGFueSwgYW55PiwgJ211dGF0aW9uS2V5Jz4ge1xuICAgIGNvbnN0IGRlZmF1bHRzID0gWy4uLnRoaXMuI211dGF0aW9uRGVmYXVsdHMudmFsdWVzKCldXG5cbiAgICBjb25zdCByZXN1bHQ6IE9taXRLZXlvZjxcbiAgICAgIE11dGF0aW9uT2JzZXJ2ZXJPcHRpb25zPGFueSwgYW55LCBhbnksIGFueT4sXG4gICAgICAnbXV0YXRpb25LZXknXG4gICAgPiA9IHt9XG5cbiAgICBkZWZhdWx0cy5mb3JFYWNoKChxdWVyeURlZmF1bHQpID0+IHtcbiAgICAgIGlmIChwYXJ0aWFsTWF0Y2hLZXkobXV0YXRpb25LZXksIHF1ZXJ5RGVmYXVsdC5tdXRhdGlvbktleSkpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIHF1ZXJ5RGVmYXVsdC5kZWZhdWx0T3B0aW9ucylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZGVmYXVsdFF1ZXJ5T3B0aW9uczxcbiAgICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICAgIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgICBUUXVlcnlEYXRhID0gVFF1ZXJ5Rm5EYXRhLFxuICAgIFRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4gICAgVFBhZ2VQYXJhbSA9IG5ldmVyLFxuICA+KFxuICAgIG9wdGlvbnM6XG4gICAgICB8IFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zPFxuICAgICAgICAgIFRRdWVyeUZuRGF0YSxcbiAgICAgICAgICBURXJyb3IsXG4gICAgICAgICAgVERhdGEsXG4gICAgICAgICAgVFF1ZXJ5RGF0YSxcbiAgICAgICAgICBUUXVlcnlLZXksXG4gICAgICAgICAgVFBhZ2VQYXJhbVxuICAgICAgICA+XG4gICAgICB8IERlZmF1bHRlZFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zPFxuICAgICAgICAgIFRRdWVyeUZuRGF0YSxcbiAgICAgICAgICBURXJyb3IsXG4gICAgICAgICAgVERhdGEsXG4gICAgICAgICAgVFF1ZXJ5RGF0YSxcbiAgICAgICAgICBUUXVlcnlLZXlcbiAgICAgICAgPixcbiAgKTogRGVmYXVsdGVkUXVlcnlPYnNlcnZlck9wdGlvbnM8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRFcnJvcixcbiAgICBURGF0YSxcbiAgICBUUXVlcnlEYXRhLFxuICAgIFRRdWVyeUtleVxuICA+IHtcbiAgICBpZiAob3B0aW9ucy5fZGVmYXVsdGVkKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucyBhcyBEZWZhdWx0ZWRRdWVyeU9ic2VydmVyT3B0aW9uczxcbiAgICAgICAgVFF1ZXJ5Rm5EYXRhLFxuICAgICAgICBURXJyb3IsXG4gICAgICAgIFREYXRhLFxuICAgICAgICBUUXVlcnlEYXRhLFxuICAgICAgICBUUXVlcnlLZXlcbiAgICAgID5cbiAgICB9XG5cbiAgICBjb25zdCBkZWZhdWx0ZWRPcHRpb25zID0ge1xuICAgICAgLi4udGhpcy4jZGVmYXVsdE9wdGlvbnMucXVlcmllcyxcbiAgICAgIC4uLnRoaXMuZ2V0UXVlcnlEZWZhdWx0cyhvcHRpb25zLnF1ZXJ5S2V5KSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBfZGVmYXVsdGVkOiB0cnVlLFxuICAgIH1cblxuICAgIGlmICghZGVmYXVsdGVkT3B0aW9ucy5xdWVyeUhhc2gpIHtcbiAgICAgIGRlZmF1bHRlZE9wdGlvbnMucXVlcnlIYXNoID0gaGFzaFF1ZXJ5S2V5QnlPcHRpb25zKFxuICAgICAgICBkZWZhdWx0ZWRPcHRpb25zLnF1ZXJ5S2V5LFxuICAgICAgICBkZWZhdWx0ZWRPcHRpb25zLFxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIGRlcGVuZGVudCBkZWZhdWx0IHZhbHVlc1xuICAgIGlmIChkZWZhdWx0ZWRPcHRpb25zLnJlZmV0Y2hPblJlY29ubmVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWZhdWx0ZWRPcHRpb25zLnJlZmV0Y2hPblJlY29ubmVjdCA9XG4gICAgICAgIGRlZmF1bHRlZE9wdGlvbnMubmV0d29ya01vZGUgIT09ICdhbHdheXMnXG4gICAgfVxuICAgIGlmIChkZWZhdWx0ZWRPcHRpb25zLnRocm93T25FcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWZhdWx0ZWRPcHRpb25zLnRocm93T25FcnJvciA9ICEhZGVmYXVsdGVkT3B0aW9ucy5zdXNwZW5zZVxuICAgIH1cblxuICAgIGlmICghZGVmYXVsdGVkT3B0aW9ucy5uZXR3b3JrTW9kZSAmJiBkZWZhdWx0ZWRPcHRpb25zLnBlcnNpc3Rlcikge1xuICAgICAgZGVmYXVsdGVkT3B0aW9ucy5uZXR3b3JrTW9kZSA9ICdvZmZsaW5lRmlyc3QnXG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHRlZE9wdGlvbnMucXVlcnlGbiA9PT0gc2tpcFRva2VuKSB7XG4gICAgICBkZWZhdWx0ZWRPcHRpb25zLmVuYWJsZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0ZWRPcHRpb25zIGFzIERlZmF1bHRlZFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zPFxuICAgICAgVFF1ZXJ5Rm5EYXRhLFxuICAgICAgVEVycm9yLFxuICAgICAgVERhdGEsXG4gICAgICBUUXVlcnlEYXRhLFxuICAgICAgVFF1ZXJ5S2V5XG4gICAgPlxuICB9XG5cbiAgZGVmYXVsdE11dGF0aW9uT3B0aW9uczxUIGV4dGVuZHMgTXV0YXRpb25PcHRpb25zPGFueSwgYW55LCBhbnksIGFueT4+KFxuICAgIG9wdGlvbnM/OiBULFxuICApOiBUIHtcbiAgICBpZiAob3B0aW9ucz8uX2RlZmF1bHRlZCkge1xuICAgICAgcmV0dXJuIG9wdGlvbnNcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuI2RlZmF1bHRPcHRpb25zLm11dGF0aW9ucyxcbiAgICAgIC4uLihvcHRpb25zPy5tdXRhdGlvbktleSAmJlxuICAgICAgICB0aGlzLmdldE11dGF0aW9uRGVmYXVsdHMob3B0aW9ucy5tdXRhdGlvbktleSkpLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIF9kZWZhdWx0ZWQ6IHRydWUsXG4gICAgfSBhcyBUXG4gIH1cblxuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLiNxdWVyeUNhY2hlLmNsZWFyKClcbiAgICB0aGlzLiNtdXRhdGlvbkNhY2hlLmNsZWFyKClcbiAgfVxufVxuIiwgImltcG9ydCB7IGZvY3VzTWFuYWdlciB9IGZyb20gJy4vZm9jdXNNYW5hZ2VyJ1xuaW1wb3J0IHsgbm90aWZ5TWFuYWdlciB9IGZyb20gJy4vbm90aWZ5TWFuYWdlcidcbmltcG9ydCB7IGZldGNoU3RhdGUgfSBmcm9tICcuL3F1ZXJ5J1xuaW1wb3J0IHsgU3Vic2NyaWJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmFibGUnXG5pbXBvcnQgeyBwZW5kaW5nVGhlbmFibGUgfSBmcm9tICcuL3RoZW5hYmxlJ1xuaW1wb3J0IHtcbiAgaXNTZXJ2ZXIsXG4gIGlzVmFsaWRUaW1lb3V0LFxuICBub29wLFxuICByZXBsYWNlRGF0YSxcbiAgcmVzb2x2ZUVuYWJsZWQsXG4gIHJlc29sdmVTdGFsZVRpbWUsXG4gIHNoYWxsb3dFcXVhbE9iamVjdHMsXG4gIHRpbWVVbnRpbFN0YWxlLFxufSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBGZXRjaE9wdGlvbnMsIFF1ZXJ5LCBRdWVyeVN0YXRlIH0gZnJvbSAnLi9xdWVyeSdcbmltcG9ydCB0eXBlIHsgUXVlcnlDbGllbnQgfSBmcm9tICcuL3F1ZXJ5Q2xpZW50J1xuaW1wb3J0IHR5cGUgeyBQZW5kaW5nVGhlbmFibGUsIFRoZW5hYmxlIH0gZnJvbSAnLi90aGVuYWJsZSdcbmltcG9ydCB0eXBlIHtcbiAgRGVmYXVsdEVycm9yLFxuICBEZWZhdWx0ZWRRdWVyeU9ic2VydmVyT3B0aW9ucyxcbiAgUGxhY2Vob2xkZXJEYXRhRnVuY3Rpb24sXG4gIFF1ZXJ5S2V5LFxuICBRdWVyeU9ic2VydmVyQmFzZVJlc3VsdCxcbiAgUXVlcnlPYnNlcnZlck9wdGlvbnMsXG4gIFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQsXG4gIFF1ZXJ5T3B0aW9ucyxcbiAgUmVmZXRjaE9wdGlvbnMsXG59IGZyb20gJy4vdHlwZXMnXG5cbnR5cGUgUXVlcnlPYnNlcnZlckxpc3RlbmVyPFREYXRhLCBURXJyb3I+ID0gKFxuICByZXN1bHQ6IFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQ8VERhdGEsIFRFcnJvcj4sXG4pID0+IHZvaWRcblxuaW50ZXJmYWNlIE9ic2VydmVyRmV0Y2hPcHRpb25zIGV4dGVuZHMgRmV0Y2hPcHRpb25zIHtcbiAgdGhyb3dPbkVycm9yPzogYm9vbGVhblxufVxuXG5leHBvcnQgY2xhc3MgUXVlcnlPYnNlcnZlcjxcbiAgVFF1ZXJ5Rm5EYXRhID0gdW5rbm93bixcbiAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICBURGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgVFF1ZXJ5RGF0YSA9IFRRdWVyeUZuRGF0YSxcbiAgVFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXkgPSBRdWVyeUtleSxcbj4gZXh0ZW5kcyBTdWJzY3JpYmFibGU8UXVlcnlPYnNlcnZlckxpc3RlbmVyPFREYXRhLCBURXJyb3I+PiB7XG4gICNjbGllbnQ6IFF1ZXJ5Q2xpZW50XG4gICNjdXJyZW50UXVlcnk6IFF1ZXJ5PFRRdWVyeUZuRGF0YSwgVEVycm9yLCBUUXVlcnlEYXRhLCBUUXVlcnlLZXk+ID0gdW5kZWZpbmVkIVxuICAjY3VycmVudFF1ZXJ5SW5pdGlhbFN0YXRlOiBRdWVyeVN0YXRlPFRRdWVyeURhdGEsIFRFcnJvcj4gPSB1bmRlZmluZWQhXG4gICNjdXJyZW50UmVzdWx0OiBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+ID0gdW5kZWZpbmVkIVxuICAjY3VycmVudFJlc3VsdFN0YXRlPzogUXVlcnlTdGF0ZTxUUXVlcnlEYXRhLCBURXJyb3I+XG4gICNjdXJyZW50UmVzdWx0T3B0aW9ucz86IFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zPFxuICAgIFRRdWVyeUZuRGF0YSxcbiAgICBURXJyb3IsXG4gICAgVERhdGEsXG4gICAgVFF1ZXJ5RGF0YSxcbiAgICBUUXVlcnlLZXlcbiAgPlxuICAjY3VycmVudFRoZW5hYmxlOiBUaGVuYWJsZTxURGF0YT5cbiAgI3NlbGVjdEVycm9yOiBURXJyb3IgfCBudWxsXG4gICNzZWxlY3RGbj86IChkYXRhOiBUUXVlcnlEYXRhKSA9PiBURGF0YVxuICAjc2VsZWN0UmVzdWx0PzogVERhdGFcbiAgLy8gVGhpcyBwcm9wZXJ0eSBrZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBxdWVyeSB3aXRoIGRlZmluZWQgZGF0YS5cbiAgLy8gSXQgd2lsbCBiZSB1c2VkIHRvIHBhc3MgdGhlIHByZXZpb3VzIGRhdGEgYW5kIHF1ZXJ5IHRvIHRoZSBwbGFjZWhvbGRlciBmdW5jdGlvbiBiZXR3ZWVuIHJlbmRlcnMuXG4gICNsYXN0UXVlcnlXaXRoRGVmaW5lZERhdGE/OiBRdWVyeTxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVFF1ZXJ5RGF0YSwgVFF1ZXJ5S2V5PlxuICAjc3RhbGVUaW1lb3V0SWQ/OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PlxuICAjcmVmZXRjaEludGVydmFsSWQ/OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD5cbiAgI2N1cnJlbnRSZWZldGNoSW50ZXJ2YWw/OiBudW1iZXIgfCBmYWxzZVxuICAjdHJhY2tlZFByb3BzID0gbmV3IFNldDxrZXlvZiBRdWVyeU9ic2VydmVyUmVzdWx0PigpXG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2xpZW50OiBRdWVyeUNsaWVudCxcbiAgICBwdWJsaWMgb3B0aW9uczogUXVlcnlPYnNlcnZlck9wdGlvbnM8XG4gICAgICBUUXVlcnlGbkRhdGEsXG4gICAgICBURXJyb3IsXG4gICAgICBURGF0YSxcbiAgICAgIFRRdWVyeURhdGEsXG4gICAgICBUUXVlcnlLZXlcbiAgICA+LFxuICApIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnRcbiAgICB0aGlzLiNzZWxlY3RFcnJvciA9IG51bGxcbiAgICB0aGlzLiNjdXJyZW50VGhlbmFibGUgPSBwZW5kaW5nVGhlbmFibGUoKVxuICAgIGlmICghdGhpcy5vcHRpb25zLmV4cGVyaW1lbnRhbF9wcmVmZXRjaEluUmVuZGVyKSB7XG4gICAgICB0aGlzLiNjdXJyZW50VGhlbmFibGUucmVqZWN0KFxuICAgICAgICBuZXcgRXJyb3IoJ2V4cGVyaW1lbnRhbF9wcmVmZXRjaEluUmVuZGVyIGZlYXR1cmUgZmxhZyBpcyBub3QgZW5hYmxlZCcpLFxuICAgICAgKVxuICAgIH1cblxuICAgIHRoaXMuYmluZE1ldGhvZHMoKVxuICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKVxuICB9XG5cbiAgcHJvdGVjdGVkIGJpbmRNZXRob2RzKCk6IHZvaWQge1xuICAgIHRoaXMucmVmZXRjaCA9IHRoaXMucmVmZXRjaC5iaW5kKHRoaXMpXG4gIH1cblxuICBwcm90ZWN0ZWQgb25TdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGlzdGVuZXJzLnNpemUgPT09IDEpIHtcbiAgICAgIHRoaXMuI2N1cnJlbnRRdWVyeS5hZGRPYnNlcnZlcih0aGlzKVxuXG4gICAgICBpZiAoc2hvdWxkRmV0Y2hPbk1vdW50KHRoaXMuI2N1cnJlbnRRdWVyeSwgdGhpcy5vcHRpb25zKSkge1xuICAgICAgICB0aGlzLiNleGVjdXRlRmV0Y2goKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVSZXN1bHQoKVxuICAgICAgfVxuXG4gICAgICB0aGlzLiN1cGRhdGVUaW1lcnMoKVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvblVuc3Vic2NyaWJlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5oYXNMaXN0ZW5lcnMoKSkge1xuICAgICAgdGhpcy5kZXN0cm95KClcbiAgICB9XG4gIH1cblxuICBzaG91bGRGZXRjaE9uUmVjb25uZWN0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzaG91bGRGZXRjaE9uKFxuICAgICAgdGhpcy4jY3VycmVudFF1ZXJ5LFxuICAgICAgdGhpcy5vcHRpb25zLFxuICAgICAgdGhpcy5vcHRpb25zLnJlZmV0Y2hPblJlY29ubmVjdCxcbiAgICApXG4gIH1cblxuICBzaG91bGRGZXRjaE9uV2luZG93Rm9jdXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHNob3VsZEZldGNoT24oXG4gICAgICB0aGlzLiNjdXJyZW50UXVlcnksXG4gICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICB0aGlzLm9wdGlvbnMucmVmZXRjaE9uV2luZG93Rm9jdXMsXG4gICAgKVxuICB9XG5cbiAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBTZXQoKVxuICAgIHRoaXMuI2NsZWFyU3RhbGVUaW1lb3V0KClcbiAgICB0aGlzLiNjbGVhclJlZmV0Y2hJbnRlcnZhbCgpXG4gICAgdGhpcy4jY3VycmVudFF1ZXJ5LnJlbW92ZU9ic2VydmVyKHRoaXMpXG4gIH1cblxuICBzZXRPcHRpb25zKFxuICAgIG9wdGlvbnM6IFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zPFxuICAgICAgVFF1ZXJ5Rm5EYXRhLFxuICAgICAgVEVycm9yLFxuICAgICAgVERhdGEsXG4gICAgICBUUXVlcnlEYXRhLFxuICAgICAgVFF1ZXJ5S2V5XG4gICAgPixcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcHJldk9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcbiAgICBjb25zdCBwcmV2UXVlcnkgPSB0aGlzLiNjdXJyZW50UXVlcnlcblxuICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuI2NsaWVudC5kZWZhdWx0UXVlcnlPcHRpb25zKG9wdGlvbnMpXG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMuZW5hYmxlZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0eXBlb2YgdGhpcy5vcHRpb25zLmVuYWJsZWQgIT09ICdib29sZWFuJyAmJlxuICAgICAgdHlwZW9mIHRoaXMub3B0aW9ucy5lbmFibGVkICE9PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgcmVzb2x2ZUVuYWJsZWQodGhpcy5vcHRpb25zLmVuYWJsZWQsIHRoaXMuI2N1cnJlbnRRdWVyeSkgIT09XG4gICAgICAgICdib29sZWFuJ1xuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnRXhwZWN0ZWQgZW5hYmxlZCB0byBiZSBhIGJvb2xlYW4gb3IgYSBjYWxsYmFjayB0aGF0IHJldHVybnMgYSBib29sZWFuJyxcbiAgICAgIClcbiAgICB9XG5cbiAgICB0aGlzLiN1cGRhdGVRdWVyeSgpXG4gICAgdGhpcy4jY3VycmVudFF1ZXJ5LnNldE9wdGlvbnModGhpcy5vcHRpb25zKVxuXG4gICAgaWYgKFxuICAgICAgcHJldk9wdGlvbnMuX2RlZmF1bHRlZCAmJlxuICAgICAgIXNoYWxsb3dFcXVhbE9iamVjdHModGhpcy5vcHRpb25zLCBwcmV2T3B0aW9ucylcbiAgICApIHtcbiAgICAgIHRoaXMuI2NsaWVudC5nZXRRdWVyeUNhY2hlKCkubm90aWZ5KHtcbiAgICAgICAgdHlwZTogJ29ic2VydmVyT3B0aW9uc1VwZGF0ZWQnLFxuICAgICAgICBxdWVyeTogdGhpcy4jY3VycmVudFF1ZXJ5LFxuICAgICAgICBvYnNlcnZlcjogdGhpcyxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgbW91bnRlZCA9IHRoaXMuaGFzTGlzdGVuZXJzKClcblxuICAgIC8vIEZldGNoIGlmIHRoZXJlIGFyZSBzdWJzY3JpYmVyc1xuICAgIGlmIChcbiAgICAgIG1vdW50ZWQgJiZcbiAgICAgIHNob3VsZEZldGNoT3B0aW9uYWxseShcbiAgICAgICAgdGhpcy4jY3VycmVudFF1ZXJ5LFxuICAgICAgICBwcmV2UXVlcnksXG4gICAgICAgIHRoaXMub3B0aW9ucyxcbiAgICAgICAgcHJldk9wdGlvbnMsXG4gICAgICApXG4gICAgKSB7XG4gICAgICB0aGlzLiNleGVjdXRlRmV0Y2goKVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSByZXN1bHRcbiAgICB0aGlzLnVwZGF0ZVJlc3VsdCgpXG5cbiAgICAvLyBVcGRhdGUgc3RhbGUgaW50ZXJ2YWwgaWYgbmVlZGVkXG4gICAgaWYgKFxuICAgICAgbW91bnRlZCAmJlxuICAgICAgKHRoaXMuI2N1cnJlbnRRdWVyeSAhPT0gcHJldlF1ZXJ5IHx8XG4gICAgICAgIHJlc29sdmVFbmFibGVkKHRoaXMub3B0aW9ucy5lbmFibGVkLCB0aGlzLiNjdXJyZW50UXVlcnkpICE9PVxuICAgICAgICAgIHJlc29sdmVFbmFibGVkKHByZXZPcHRpb25zLmVuYWJsZWQsIHRoaXMuI2N1cnJlbnRRdWVyeSkgfHxcbiAgICAgICAgcmVzb2x2ZVN0YWxlVGltZSh0aGlzLm9wdGlvbnMuc3RhbGVUaW1lLCB0aGlzLiNjdXJyZW50UXVlcnkpICE9PVxuICAgICAgICAgIHJlc29sdmVTdGFsZVRpbWUocHJldk9wdGlvbnMuc3RhbGVUaW1lLCB0aGlzLiNjdXJyZW50UXVlcnkpKVxuICAgICkge1xuICAgICAgdGhpcy4jdXBkYXRlU3RhbGVUaW1lb3V0KClcbiAgICB9XG5cbiAgICBjb25zdCBuZXh0UmVmZXRjaEludGVydmFsID0gdGhpcy4jY29tcHV0ZVJlZmV0Y2hJbnRlcnZhbCgpXG5cbiAgICAvLyBVcGRhdGUgcmVmZXRjaCBpbnRlcnZhbCBpZiBuZWVkZWRcbiAgICBpZiAoXG4gICAgICBtb3VudGVkICYmXG4gICAgICAodGhpcy4jY3VycmVudFF1ZXJ5ICE9PSBwcmV2UXVlcnkgfHxcbiAgICAgICAgcmVzb2x2ZUVuYWJsZWQodGhpcy5vcHRpb25zLmVuYWJsZWQsIHRoaXMuI2N1cnJlbnRRdWVyeSkgIT09XG4gICAgICAgICAgcmVzb2x2ZUVuYWJsZWQocHJldk9wdGlvbnMuZW5hYmxlZCwgdGhpcy4jY3VycmVudFF1ZXJ5KSB8fFxuICAgICAgICBuZXh0UmVmZXRjaEludGVydmFsICE9PSB0aGlzLiNjdXJyZW50UmVmZXRjaEludGVydmFsKVxuICAgICkge1xuICAgICAgdGhpcy4jdXBkYXRlUmVmZXRjaEludGVydmFsKG5leHRSZWZldGNoSW50ZXJ2YWwpXG4gICAgfVxuICB9XG5cbiAgZ2V0T3B0aW1pc3RpY1Jlc3VsdChcbiAgICBvcHRpb25zOiBEZWZhdWx0ZWRRdWVyeU9ic2VydmVyT3B0aW9uczxcbiAgICAgIFRRdWVyeUZuRGF0YSxcbiAgICAgIFRFcnJvcixcbiAgICAgIFREYXRhLFxuICAgICAgVFF1ZXJ5RGF0YSxcbiAgICAgIFRRdWVyeUtleVxuICAgID4sXG4gICk6IFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQ8VERhdGEsIFRFcnJvcj4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy4jY2xpZW50LmdldFF1ZXJ5Q2FjaGUoKS5idWlsZCh0aGlzLiNjbGllbnQsIG9wdGlvbnMpXG5cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNyZWF0ZVJlc3VsdChxdWVyeSwgb3B0aW9ucylcblxuICAgIGlmIChzaG91bGRBc3NpZ25PYnNlcnZlckN1cnJlbnRQcm9wZXJ0aWVzKHRoaXMsIHJlc3VsdCkpIHtcbiAgICAgIC8vIHRoaXMgYXNzaWducyB0aGUgb3B0aW1pc3RpYyByZXN1bHQgdG8gdGhlIGN1cnJlbnQgT2JzZXJ2ZXJcbiAgICAgIC8vIGJlY2F1c2UgaWYgdGhlIHF1ZXJ5IGZ1bmN0aW9uIGNoYW5nZXMsIHVzZVF1ZXJ5IHdpbGwgYmUgcGVyZm9ybWluZ1xuICAgICAgLy8gYW4gZWZmZWN0IHdoZXJlIGl0IHdvdWxkIGZldGNoIGFnYWluLlxuICAgICAgLy8gV2hlbiB0aGUgZmV0Y2ggZmluaXNoZXMsIHdlIHBlcmZvcm0gYSBkZWVwIGRhdGEgY2xvbmluZyBpbiBvcmRlclxuICAgICAgLy8gdG8gcmV1c2Ugb2JqZWN0cyByZWZlcmVuY2VzLiBUaGlzIGRlZXAgZGF0YSBjbG9uZSBpcyBwZXJmb3JtZWQgYWdhaW5zdFxuICAgICAgLy8gdGhlIGBvYnNlcnZlci5jdXJyZW50UmVzdWx0LmRhdGFgIHByb3BlcnR5XG4gICAgICAvLyBXaGVuIFF1ZXJ5S2V5IGNoYW5nZXMsIHdlIHJlZnJlc2ggdGhlIHF1ZXJ5IGFuZCBnZXQgbmV3IGBvcHRpbWlzdGljYFxuICAgICAgLy8gcmVzdWx0LCB3aGlsZSB3ZSBsZWF2ZSB0aGUgYG9ic2VydmVyLmN1cnJlbnRSZXN1bHRgLCBzbyB3aGVuIG5ldyBkYXRhXG4gICAgICAvLyBhcnJpdmVzLCBpdCBmaW5kcyB0aGUgb2xkIGBvYnNlcnZlci5jdXJyZW50UmVzdWx0YCB3aGljaCBpcyByZWxhdGVkXG4gICAgICAvLyB0byB0aGUgb2xkIFF1ZXJ5S2V5LiBXaGljaCBtZWFucyB0aGF0IGN1cnJlbnRSZXN1bHQgYW5kIHNlbGVjdERhdGEgYXJlXG4gICAgICAvLyBvdXQgb2Ygc3luYyBhbHJlYWR5LlxuICAgICAgLy8gVG8gc29sdmUgdGhpcywgd2UgbW92ZSB0aGUgY3Vyc29yIG9mIHRoZSBjdXJyZW50UmVzdWx0IGV2ZXJ5IHRpbWVcbiAgICAgIC8vIGFuIG9ic2VydmVyIHJlYWRzIGFuIG9wdGltaXN0aWMgdmFsdWUuXG5cbiAgICAgIC8vIFdoZW4ga2VlcGluZyB0aGUgcHJldmlvdXMgZGF0YSwgdGhlIHJlc3VsdCBkb2Vzbid0IGNoYW5nZSB1bnRpbCBuZXdcbiAgICAgIC8vIGRhdGEgYXJyaXZlcy5cbiAgICAgIHRoaXMuI2N1cnJlbnRSZXN1bHQgPSByZXN1bHRcbiAgICAgIHRoaXMuI2N1cnJlbnRSZXN1bHRPcHRpb25zID0gdGhpcy5vcHRpb25zXG4gICAgICB0aGlzLiNjdXJyZW50UmVzdWx0U3RhdGUgPSB0aGlzLiNjdXJyZW50UXVlcnkuc3RhdGVcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZ2V0Q3VycmVudFJlc3VsdCgpOiBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+IHtcbiAgICByZXR1cm4gdGhpcy4jY3VycmVudFJlc3VsdFxuICB9XG5cbiAgdHJhY2tSZXN1bHQoXG4gICAgcmVzdWx0OiBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+LFxuICAgIG9uUHJvcFRyYWNrZWQ/OiAoa2V5OiBrZXlvZiBRdWVyeU9ic2VydmVyUmVzdWx0KSA9PiB2b2lkLFxuICApOiBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+IHtcbiAgICBjb25zdCB0cmFja2VkUmVzdWx0ID0ge30gYXMgUXVlcnlPYnNlcnZlclJlc3VsdDxURGF0YSwgVEVycm9yPlxuXG4gICAgT2JqZWN0LmtleXMocmVzdWx0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0cmFja2VkUmVzdWx0LCBrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy50cmFja1Byb3Aoa2V5IGFzIGtleW9mIFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQpXG4gICAgICAgICAgb25Qcm9wVHJhY2tlZD8uKGtleSBhcyBrZXlvZiBRdWVyeU9ic2VydmVyUmVzdWx0KVxuICAgICAgICAgIHJldHVybiByZXN1bHRba2V5IGFzIGtleW9mIFF1ZXJ5T2JzZXJ2ZXJSZXN1bHRdXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICByZXR1cm4gdHJhY2tlZFJlc3VsdFxuICB9XG5cbiAgdHJhY2tQcm9wKGtleToga2V5b2YgUXVlcnlPYnNlcnZlclJlc3VsdCkge1xuICAgIHRoaXMuI3RyYWNrZWRQcm9wcy5hZGQoa2V5KVxuICB9XG5cbiAgZ2V0Q3VycmVudFF1ZXJ5KCk6IFF1ZXJ5PFRRdWVyeUZuRGF0YSwgVEVycm9yLCBUUXVlcnlEYXRhLCBUUXVlcnlLZXk+IHtcbiAgICByZXR1cm4gdGhpcy4jY3VycmVudFF1ZXJ5XG4gIH1cblxuICByZWZldGNoKHsgLi4ub3B0aW9ucyB9OiBSZWZldGNoT3B0aW9ucyA9IHt9KTogUHJvbWlzZTxcbiAgICBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+XG4gID4ge1xuICAgIHJldHVybiB0aGlzLmZldGNoKHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSlcbiAgfVxuXG4gIGZldGNoT3B0aW1pc3RpYyhcbiAgICBvcHRpb25zOiBRdWVyeU9ic2VydmVyT3B0aW9uczxcbiAgICAgIFRRdWVyeUZuRGF0YSxcbiAgICAgIFRFcnJvcixcbiAgICAgIFREYXRhLFxuICAgICAgVFF1ZXJ5RGF0YSxcbiAgICAgIFRRdWVyeUtleVxuICAgID4sXG4gICk6IFByb21pc2U8UXVlcnlPYnNlcnZlclJlc3VsdDxURGF0YSwgVEVycm9yPj4ge1xuICAgIGNvbnN0IGRlZmF1bHRlZE9wdGlvbnMgPSB0aGlzLiNjbGllbnQuZGVmYXVsdFF1ZXJ5T3B0aW9ucyhvcHRpb25zKVxuXG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLiNjbGllbnRcbiAgICAgIC5nZXRRdWVyeUNhY2hlKClcbiAgICAgIC5idWlsZCh0aGlzLiNjbGllbnQsIGRlZmF1bHRlZE9wdGlvbnMpXG5cbiAgICByZXR1cm4gcXVlcnkuZmV0Y2goKS50aGVuKCgpID0+IHRoaXMuY3JlYXRlUmVzdWx0KHF1ZXJ5LCBkZWZhdWx0ZWRPcHRpb25zKSlcbiAgfVxuXG4gIHByb3RlY3RlZCBmZXRjaChcbiAgICBmZXRjaE9wdGlvbnM6IE9ic2VydmVyRmV0Y2hPcHRpb25zLFxuICApOiBQcm9taXNlPFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQ8VERhdGEsIFRFcnJvcj4+IHtcbiAgICByZXR1cm4gdGhpcy4jZXhlY3V0ZUZldGNoKHtcbiAgICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICAgIGNhbmNlbFJlZmV0Y2g6IGZldGNoT3B0aW9ucy5jYW5jZWxSZWZldGNoID8/IHRydWUsXG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZVJlc3VsdCgpXG4gICAgICByZXR1cm4gdGhpcy4jY3VycmVudFJlc3VsdFxuICAgIH0pXG4gIH1cblxuICAjZXhlY3V0ZUZldGNoKFxuICAgIGZldGNoT3B0aW9ucz86IE9taXQ8T2JzZXJ2ZXJGZXRjaE9wdGlvbnMsICdpbml0aWFsUHJvbWlzZSc+LFxuICApOiBQcm9taXNlPFRRdWVyeURhdGEgfCB1bmRlZmluZWQ+IHtcbiAgICAvLyBNYWtlIHN1cmUgd2UgcmVmZXJlbmNlIHRoZSBsYXRlc3QgcXVlcnkgYXMgdGhlIGN1cnJlbnQgb25lIG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkXG4gICAgdGhpcy4jdXBkYXRlUXVlcnkoKVxuXG4gICAgLy8gRmV0Y2hcbiAgICBsZXQgcHJvbWlzZTogUHJvbWlzZTxUUXVlcnlEYXRhIHwgdW5kZWZpbmVkPiA9IHRoaXMuI2N1cnJlbnRRdWVyeS5mZXRjaChcbiAgICAgIHRoaXMub3B0aW9ucyBhcyBRdWVyeU9wdGlvbnM8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFRRdWVyeURhdGEsIFRRdWVyeUtleT4sXG4gICAgICBmZXRjaE9wdGlvbnMsXG4gICAgKVxuXG4gICAgaWYgKCFmZXRjaE9wdGlvbnM/LnRocm93T25FcnJvcikge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UuY2F0Y2gobm9vcClcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgI3VwZGF0ZVN0YWxlVGltZW91dCgpOiB2b2lkIHtcbiAgICB0aGlzLiNjbGVhclN0YWxlVGltZW91dCgpXG4gICAgY29uc3Qgc3RhbGVUaW1lID0gcmVzb2x2ZVN0YWxlVGltZShcbiAgICAgIHRoaXMub3B0aW9ucy5zdGFsZVRpbWUsXG4gICAgICB0aGlzLiNjdXJyZW50UXVlcnksXG4gICAgKVxuXG4gICAgaWYgKGlzU2VydmVyIHx8IHRoaXMuI2N1cnJlbnRSZXN1bHQuaXNTdGFsZSB8fCAhaXNWYWxpZFRpbWVvdXQoc3RhbGVUaW1lKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdGltZSA9IHRpbWVVbnRpbFN0YWxlKHRoaXMuI2N1cnJlbnRSZXN1bHQuZGF0YVVwZGF0ZWRBdCwgc3RhbGVUaW1lKVxuXG4gICAgLy8gVGhlIHRpbWVvdXQgaXMgc29tZXRpbWVzIHRyaWdnZXJlZCAxIG1zIGJlZm9yZSB0aGUgc3RhbGUgdGltZSBleHBpcmF0aW9uLlxuICAgIC8vIFRvIG1pdGlnYXRlIHRoaXMgaXNzdWUgd2UgYWx3YXlzIGFkZCAxIG1zIHRvIHRoZSB0aW1lb3V0LlxuICAgIGNvbnN0IHRpbWVvdXQgPSB0aW1lICsgMVxuXG4gICAgdGhpcy4jc3RhbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghdGhpcy4jY3VycmVudFJlc3VsdC5pc1N0YWxlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUmVzdWx0KClcbiAgICAgIH1cbiAgICB9LCB0aW1lb3V0KVxuICB9XG5cbiAgI2NvbXB1dGVSZWZldGNoSW50ZXJ2YWwoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICh0eXBlb2YgdGhpcy5vcHRpb25zLnJlZmV0Y2hJbnRlcnZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHRoaXMub3B0aW9ucy5yZWZldGNoSW50ZXJ2YWwodGhpcy4jY3VycmVudFF1ZXJ5KVxuICAgICAgICA6IHRoaXMub3B0aW9ucy5yZWZldGNoSW50ZXJ2YWwpID8/IGZhbHNlXG4gICAgKVxuICB9XG5cbiAgI3VwZGF0ZVJlZmV0Y2hJbnRlcnZhbChuZXh0SW50ZXJ2YWw6IG51bWJlciB8IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy4jY2xlYXJSZWZldGNoSW50ZXJ2YWwoKVxuXG4gICAgdGhpcy4jY3VycmVudFJlZmV0Y2hJbnRlcnZhbCA9IG5leHRJbnRlcnZhbFxuXG4gICAgaWYgKFxuICAgICAgaXNTZXJ2ZXIgfHxcbiAgICAgIHJlc29sdmVFbmFibGVkKHRoaXMub3B0aW9ucy5lbmFibGVkLCB0aGlzLiNjdXJyZW50UXVlcnkpID09PSBmYWxzZSB8fFxuICAgICAgIWlzVmFsaWRUaW1lb3V0KHRoaXMuI2N1cnJlbnRSZWZldGNoSW50ZXJ2YWwpIHx8XG4gICAgICB0aGlzLiNjdXJyZW50UmVmZXRjaEludGVydmFsID09PSAwXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLiNyZWZldGNoSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zLnJlZmV0Y2hJbnRlcnZhbEluQmFja2dyb3VuZCB8fFxuICAgICAgICBmb2N1c01hbmFnZXIuaXNGb2N1c2VkKClcbiAgICAgICkge1xuICAgICAgICB0aGlzLiNleGVjdXRlRmV0Y2goKVxuICAgICAgfVxuICAgIH0sIHRoaXMuI2N1cnJlbnRSZWZldGNoSW50ZXJ2YWwpXG4gIH1cblxuICAjdXBkYXRlVGltZXJzKCk6IHZvaWQge1xuICAgIHRoaXMuI3VwZGF0ZVN0YWxlVGltZW91dCgpXG4gICAgdGhpcy4jdXBkYXRlUmVmZXRjaEludGVydmFsKHRoaXMuI2NvbXB1dGVSZWZldGNoSW50ZXJ2YWwoKSlcbiAgfVxuXG4gICNjbGVhclN0YWxlVGltZW91dCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy4jc3RhbGVUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLiNzdGFsZVRpbWVvdXRJZClcbiAgICAgIHRoaXMuI3N0YWxlVGltZW91dElkID0gdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgI2NsZWFyUmVmZXRjaEludGVydmFsKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLiNyZWZldGNoSW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLiNyZWZldGNoSW50ZXJ2YWxJZClcbiAgICAgIHRoaXMuI3JlZmV0Y2hJbnRlcnZhbElkID0gdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZVJlc3VsdChcbiAgICBxdWVyeTogUXVlcnk8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFRRdWVyeURhdGEsIFRRdWVyeUtleT4sXG4gICAgb3B0aW9uczogUXVlcnlPYnNlcnZlck9wdGlvbnM8XG4gICAgICBUUXVlcnlGbkRhdGEsXG4gICAgICBURXJyb3IsXG4gICAgICBURGF0YSxcbiAgICAgIFRRdWVyeURhdGEsXG4gICAgICBUUXVlcnlLZXlcbiAgICA+LFxuICApOiBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+IHtcbiAgICBjb25zdCBwcmV2UXVlcnkgPSB0aGlzLiNjdXJyZW50UXVlcnlcbiAgICBjb25zdCBwcmV2T3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuICAgIGNvbnN0IHByZXZSZXN1bHQgPSB0aGlzLiNjdXJyZW50UmVzdWx0IGFzXG4gICAgICB8IFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQ8VERhdGEsIFRFcnJvcj5cbiAgICAgIHwgdW5kZWZpbmVkXG4gICAgY29uc3QgcHJldlJlc3VsdFN0YXRlID0gdGhpcy4jY3VycmVudFJlc3VsdFN0YXRlXG4gICAgY29uc3QgcHJldlJlc3VsdE9wdGlvbnMgPSB0aGlzLiNjdXJyZW50UmVzdWx0T3B0aW9uc1xuICAgIGNvbnN0IHF1ZXJ5Q2hhbmdlID0gcXVlcnkgIT09IHByZXZRdWVyeVxuICAgIGNvbnN0IHF1ZXJ5SW5pdGlhbFN0YXRlID0gcXVlcnlDaGFuZ2VcbiAgICAgID8gcXVlcnkuc3RhdGVcbiAgICAgIDogdGhpcy4jY3VycmVudFF1ZXJ5SW5pdGlhbFN0YXRlXG5cbiAgICBjb25zdCB7IHN0YXRlIH0gPSBxdWVyeVxuICAgIGxldCBuZXdTdGF0ZSA9IHsgLi4uc3RhdGUgfVxuICAgIGxldCBpc1BsYWNlaG9sZGVyRGF0YSA9IGZhbHNlXG4gICAgbGV0IGRhdGE6IFREYXRhIHwgdW5kZWZpbmVkXG5cbiAgICAvLyBPcHRpbWlzdGljYWxseSBzZXQgcmVzdWx0IGluIGZldGNoaW5nIHN0YXRlIGlmIG5lZWRlZFxuICAgIGlmIChvcHRpb25zLl9vcHRpbWlzdGljUmVzdWx0cykge1xuICAgICAgY29uc3QgbW91bnRlZCA9IHRoaXMuaGFzTGlzdGVuZXJzKClcblxuICAgICAgY29uc3QgZmV0Y2hPbk1vdW50ID0gIW1vdW50ZWQgJiYgc2hvdWxkRmV0Y2hPbk1vdW50KHF1ZXJ5LCBvcHRpb25zKVxuXG4gICAgICBjb25zdCBmZXRjaE9wdGlvbmFsbHkgPVxuICAgICAgICBtb3VudGVkICYmIHNob3VsZEZldGNoT3B0aW9uYWxseShxdWVyeSwgcHJldlF1ZXJ5LCBvcHRpb25zLCBwcmV2T3B0aW9ucylcblxuICAgICAgaWYgKGZldGNoT25Nb3VudCB8fCBmZXRjaE9wdGlvbmFsbHkpIHtcbiAgICAgICAgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgLi4ubmV3U3RhdGUsXG4gICAgICAgICAgLi4uZmV0Y2hTdGF0ZShzdGF0ZS5kYXRhLCBxdWVyeS5vcHRpb25zKSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuX29wdGltaXN0aWNSZXN1bHRzID09PSAnaXNSZXN0b3JpbmcnKSB7XG4gICAgICAgIG5ld1N0YXRlLmZldGNoU3RhdHVzID0gJ2lkbGUnXG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHsgZXJyb3IsIGVycm9yVXBkYXRlZEF0LCBzdGF0dXMgfSA9IG5ld1N0YXRlXG5cbiAgICAvLyBTZWxlY3QgZGF0YSBpZiBuZWVkZWRcbiAgICBpZiAob3B0aW9ucy5zZWxlY3QgJiYgbmV3U3RhdGUuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBNZW1vaXplIHNlbGVjdCByZXN1bHRcbiAgICAgIGlmIChcbiAgICAgICAgcHJldlJlc3VsdCAmJlxuICAgICAgICBuZXdTdGF0ZS5kYXRhID09PSBwcmV2UmVzdWx0U3RhdGU/LmRhdGEgJiZcbiAgICAgICAgb3B0aW9ucy5zZWxlY3QgPT09IHRoaXMuI3NlbGVjdEZuXG4gICAgICApIHtcbiAgICAgICAgZGF0YSA9IHRoaXMuI3NlbGVjdFJlc3VsdFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLiNzZWxlY3RGbiA9IG9wdGlvbnMuc2VsZWN0XG4gICAgICAgICAgZGF0YSA9IG9wdGlvbnMuc2VsZWN0KG5ld1N0YXRlLmRhdGEpXG4gICAgICAgICAgZGF0YSA9IHJlcGxhY2VEYXRhKHByZXZSZXN1bHQ/LmRhdGEsIGRhdGEsIG9wdGlvbnMpXG4gICAgICAgICAgdGhpcy4jc2VsZWN0UmVzdWx0ID0gZGF0YVxuICAgICAgICAgIHRoaXMuI3NlbGVjdEVycm9yID0gbnVsbFxuICAgICAgICB9IGNhdGNoIChzZWxlY3RFcnJvcikge1xuICAgICAgICAgIHRoaXMuI3NlbGVjdEVycm9yID0gc2VsZWN0RXJyb3IgYXMgVEVycm9yXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVXNlIHF1ZXJ5IGRhdGFcbiAgICBlbHNlIHtcbiAgICAgIGRhdGEgPSBuZXdTdGF0ZS5kYXRhIGFzIHVua25vd24gYXMgVERhdGFcbiAgICB9XG5cbiAgICAvLyBTaG93IHBsYWNlaG9sZGVyIGRhdGEgaWYgbmVlZGVkXG4gICAgaWYgKFxuICAgICAgb3B0aW9ucy5wbGFjZWhvbGRlckRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgZGF0YSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBzdGF0dXMgPT09ICdwZW5kaW5nJ1xuICAgICkge1xuICAgICAgbGV0IHBsYWNlaG9sZGVyRGF0YVxuXG4gICAgICAvLyBNZW1vaXplIHBsYWNlaG9sZGVyIGRhdGFcbiAgICAgIGlmIChcbiAgICAgICAgcHJldlJlc3VsdD8uaXNQbGFjZWhvbGRlckRhdGEgJiZcbiAgICAgICAgb3B0aW9ucy5wbGFjZWhvbGRlckRhdGEgPT09IHByZXZSZXN1bHRPcHRpb25zPy5wbGFjZWhvbGRlckRhdGFcbiAgICAgICkge1xuICAgICAgICBwbGFjZWhvbGRlckRhdGEgPSBwcmV2UmVzdWx0LmRhdGFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBsYWNlaG9sZGVyRGF0YSA9XG4gICAgICAgICAgdHlwZW9mIG9wdGlvbnMucGxhY2Vob2xkZXJEYXRhID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBsYWNlaG9sZGVyRGF0YSBhcyB1bmtub3duIGFzIFBsYWNlaG9sZGVyRGF0YUZ1bmN0aW9uPFRRdWVyeURhdGE+XG4gICAgICAgICAgICAgICkoXG4gICAgICAgICAgICAgICAgdGhpcy4jbGFzdFF1ZXJ5V2l0aERlZmluZWREYXRhPy5zdGF0ZS5kYXRhLFxuICAgICAgICAgICAgICAgIHRoaXMuI2xhc3RRdWVyeVdpdGhEZWZpbmVkRGF0YSBhcyBhbnksXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogb3B0aW9ucy5wbGFjZWhvbGRlckRhdGFcbiAgICAgICAgaWYgKG9wdGlvbnMuc2VsZWN0ICYmIHBsYWNlaG9sZGVyRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyRGF0YSA9IG9wdGlvbnMuc2VsZWN0KHBsYWNlaG9sZGVyRGF0YSlcbiAgICAgICAgICAgIHRoaXMuI3NlbGVjdEVycm9yID0gbnVsbFxuICAgICAgICAgIH0gY2F0Y2ggKHNlbGVjdEVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLiNzZWxlY3RFcnJvciA9IHNlbGVjdEVycm9yIGFzIFRFcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGxhY2Vob2xkZXJEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3RhdHVzID0gJ3N1Y2Nlc3MnXG4gICAgICAgIGRhdGEgPSByZXBsYWNlRGF0YShcbiAgICAgICAgICBwcmV2UmVzdWx0Py5kYXRhLFxuICAgICAgICAgIHBsYWNlaG9sZGVyRGF0YSBhcyB1bmtub3duLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICkgYXMgVERhdGFcbiAgICAgICAgaXNQbGFjZWhvbGRlckRhdGEgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuI3NlbGVjdEVycm9yKSB7XG4gICAgICBlcnJvciA9IHRoaXMuI3NlbGVjdEVycm9yIGFzIGFueVxuICAgICAgZGF0YSA9IHRoaXMuI3NlbGVjdFJlc3VsdFxuICAgICAgZXJyb3JVcGRhdGVkQXQgPSBEYXRlLm5vdygpXG4gICAgICBzdGF0dXMgPSAnZXJyb3InXG4gICAgfVxuXG4gICAgY29uc3QgaXNGZXRjaGluZyA9IG5ld1N0YXRlLmZldGNoU3RhdHVzID09PSAnZmV0Y2hpbmcnXG4gICAgY29uc3QgaXNQZW5kaW5nID0gc3RhdHVzID09PSAncGVuZGluZydcbiAgICBjb25zdCBpc0Vycm9yID0gc3RhdHVzID09PSAnZXJyb3InXG5cbiAgICBjb25zdCBpc0xvYWRpbmcgPSBpc1BlbmRpbmcgJiYgaXNGZXRjaGluZ1xuICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhICE9PSB1bmRlZmluZWRcblxuICAgIGNvbnN0IHJlc3VsdDogUXVlcnlPYnNlcnZlckJhc2VSZXN1bHQ8VERhdGEsIFRFcnJvcj4gPSB7XG4gICAgICBzdGF0dXMsXG4gICAgICBmZXRjaFN0YXR1czogbmV3U3RhdGUuZmV0Y2hTdGF0dXMsXG4gICAgICBpc1BlbmRpbmcsXG4gICAgICBpc1N1Y2Nlc3M6IHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnLFxuICAgICAgaXNFcnJvcixcbiAgICAgIGlzSW5pdGlhbExvYWRpbmc6IGlzTG9hZGluZyxcbiAgICAgIGlzTG9hZGluZyxcbiAgICAgIGRhdGEsXG4gICAgICBkYXRhVXBkYXRlZEF0OiBuZXdTdGF0ZS5kYXRhVXBkYXRlZEF0LFxuICAgICAgZXJyb3IsXG4gICAgICBlcnJvclVwZGF0ZWRBdCxcbiAgICAgIGZhaWx1cmVDb3VudDogbmV3U3RhdGUuZmV0Y2hGYWlsdXJlQ291bnQsXG4gICAgICBmYWlsdXJlUmVhc29uOiBuZXdTdGF0ZS5mZXRjaEZhaWx1cmVSZWFzb24sXG4gICAgICBlcnJvclVwZGF0ZUNvdW50OiBuZXdTdGF0ZS5lcnJvclVwZGF0ZUNvdW50LFxuICAgICAgaXNGZXRjaGVkOiBuZXdTdGF0ZS5kYXRhVXBkYXRlQ291bnQgPiAwIHx8IG5ld1N0YXRlLmVycm9yVXBkYXRlQ291bnQgPiAwLFxuICAgICAgaXNGZXRjaGVkQWZ0ZXJNb3VudDpcbiAgICAgICAgbmV3U3RhdGUuZGF0YVVwZGF0ZUNvdW50ID4gcXVlcnlJbml0aWFsU3RhdGUuZGF0YVVwZGF0ZUNvdW50IHx8XG4gICAgICAgIG5ld1N0YXRlLmVycm9yVXBkYXRlQ291bnQgPiBxdWVyeUluaXRpYWxTdGF0ZS5lcnJvclVwZGF0ZUNvdW50LFxuICAgICAgaXNGZXRjaGluZyxcbiAgICAgIGlzUmVmZXRjaGluZzogaXNGZXRjaGluZyAmJiAhaXNQZW5kaW5nLFxuICAgICAgaXNMb2FkaW5nRXJyb3I6IGlzRXJyb3IgJiYgIWhhc0RhdGEsXG4gICAgICBpc1BhdXNlZDogbmV3U3RhdGUuZmV0Y2hTdGF0dXMgPT09ICdwYXVzZWQnLFxuICAgICAgaXNQbGFjZWhvbGRlckRhdGEsXG4gICAgICBpc1JlZmV0Y2hFcnJvcjogaXNFcnJvciAmJiBoYXNEYXRhLFxuICAgICAgaXNTdGFsZTogaXNTdGFsZShxdWVyeSwgb3B0aW9ucyksXG4gICAgICByZWZldGNoOiB0aGlzLnJlZmV0Y2gsXG4gICAgICBwcm9taXNlOiB0aGlzLiNjdXJyZW50VGhlbmFibGUsXG4gICAgfVxuXG4gICAgY29uc3QgbmV4dFJlc3VsdCA9IHJlc3VsdCBhcyBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmV4cGVyaW1lbnRhbF9wcmVmZXRjaEluUmVuZGVyKSB7XG4gICAgICBjb25zdCBmaW5hbGl6ZVRoZW5hYmxlSWZQb3NzaWJsZSA9ICh0aGVuYWJsZTogUGVuZGluZ1RoZW5hYmxlPFREYXRhPikgPT4ge1xuICAgICAgICBpZiAobmV4dFJlc3VsdC5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICB0aGVuYWJsZS5yZWplY3QobmV4dFJlc3VsdC5lcnJvcilcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0UmVzdWx0LmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoZW5hYmxlLnJlc29sdmUobmV4dFJlc3VsdC5kYXRhKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlIGEgbmV3IHRoZW5hYmxlIGFuZCByZXN1bHQgcHJvbWlzZSB3aGVuIHRoZSByZXN1bHRzIGhhdmUgY2hhbmdlZFxuICAgICAgICovXG4gICAgICBjb25zdCByZWNyZWF0ZVRoZW5hYmxlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBwZW5kaW5nID1cbiAgICAgICAgICAodGhpcy4jY3VycmVudFRoZW5hYmxlID1cbiAgICAgICAgICBuZXh0UmVzdWx0LnByb21pc2UgPVxuICAgICAgICAgICAgcGVuZGluZ1RoZW5hYmxlKCkpXG5cbiAgICAgICAgZmluYWxpemVUaGVuYWJsZUlmUG9zc2libGUocGVuZGluZylcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJldlRoZW5hYmxlID0gdGhpcy4jY3VycmVudFRoZW5hYmxlXG4gICAgICBzd2l0Y2ggKHByZXZUaGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgLy8gRmluYWxpemUgdGhlIHByZXZpb3VzIHRoZW5hYmxlIGlmIGl0IHdhcyBwZW5kaW5nXG4gICAgICAgICAgLy8gYW5kIHdlIGFyZSBzdGlsbCBvYnNlcnZpbmcgdGhlIHNhbWUgcXVlcnlcbiAgICAgICAgICBpZiAocXVlcnkucXVlcnlIYXNoID09PSBwcmV2UXVlcnkucXVlcnlIYXNoKSB7XG4gICAgICAgICAgICBmaW5hbGl6ZVRoZW5hYmxlSWZQb3NzaWJsZShwcmV2VGhlbmFibGUpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2Z1bGZpbGxlZCc6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmV4dFJlc3VsdC5zdGF0dXMgPT09ICdlcnJvcicgfHxcbiAgICAgICAgICAgIG5leHRSZXN1bHQuZGF0YSAhPT0gcHJldlRoZW5hYmxlLnZhbHVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZWNyZWF0ZVRoZW5hYmxlKClcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncmVqZWN0ZWQnOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5leHRSZXN1bHQuc3RhdHVzICE9PSAnZXJyb3InIHx8XG4gICAgICAgICAgICBuZXh0UmVzdWx0LmVycm9yICE9PSBwcmV2VGhlbmFibGUucmVhc29uXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZWNyZWF0ZVRoZW5hYmxlKClcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dFJlc3VsdFxuICB9XG5cbiAgdXBkYXRlUmVzdWx0KCk6IHZvaWQge1xuICAgIGNvbnN0IHByZXZSZXN1bHQgPSB0aGlzLiNjdXJyZW50UmVzdWx0IGFzXG4gICAgICB8IFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQ8VERhdGEsIFRFcnJvcj5cbiAgICAgIHwgdW5kZWZpbmVkXG5cbiAgICBjb25zdCBuZXh0UmVzdWx0ID0gdGhpcy5jcmVhdGVSZXN1bHQodGhpcy4jY3VycmVudFF1ZXJ5LCB0aGlzLm9wdGlvbnMpXG5cbiAgICB0aGlzLiNjdXJyZW50UmVzdWx0U3RhdGUgPSB0aGlzLiNjdXJyZW50UXVlcnkuc3RhdGVcbiAgICB0aGlzLiNjdXJyZW50UmVzdWx0T3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gICAgaWYgKHRoaXMuI2N1cnJlbnRSZXN1bHRTdGF0ZS5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuI2xhc3RRdWVyeVdpdGhEZWZpbmVkRGF0YSA9IHRoaXMuI2N1cnJlbnRRdWVyeVxuICAgIH1cblxuICAgIC8vIE9ubHkgbm90aWZ5IGFuZCB1cGRhdGUgcmVzdWx0IGlmIHNvbWV0aGluZyBoYXMgY2hhbmdlZFxuICAgIGlmIChzaGFsbG93RXF1YWxPYmplY3RzKG5leHRSZXN1bHQsIHByZXZSZXN1bHQpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLiNjdXJyZW50UmVzdWx0ID0gbmV4dFJlc3VsdFxuXG4gICAgY29uc3Qgc2hvdWxkTm90aWZ5TGlzdGVuZXJzID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKCFwcmV2UmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgbm90aWZ5T25DaGFuZ2VQcm9wcyB9ID0gdGhpcy5vcHRpb25zXG4gICAgICBjb25zdCBub3RpZnlPbkNoYW5nZVByb3BzVmFsdWUgPVxuICAgICAgICB0eXBlb2Ygbm90aWZ5T25DaGFuZ2VQcm9wcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gbm90aWZ5T25DaGFuZ2VQcm9wcygpXG4gICAgICAgICAgOiBub3RpZnlPbkNoYW5nZVByb3BzXG5cbiAgICAgIGlmIChcbiAgICAgICAgbm90aWZ5T25DaGFuZ2VQcm9wc1ZhbHVlID09PSAnYWxsJyB8fFxuICAgICAgICAoIW5vdGlmeU9uQ2hhbmdlUHJvcHNWYWx1ZSAmJiAhdGhpcy4jdHJhY2tlZFByb3BzLnNpemUpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5jbHVkZWRQcm9wcyA9IG5ldyBTZXQoXG4gICAgICAgIG5vdGlmeU9uQ2hhbmdlUHJvcHNWYWx1ZSA/PyB0aGlzLiN0cmFja2VkUHJvcHMsXG4gICAgICApXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudGhyb3dPbkVycm9yKSB7XG4gICAgICAgIGluY2x1ZGVkUHJvcHMuYWRkKCdlcnJvcicpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLiNjdXJyZW50UmVzdWx0KS5zb21lKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLZXkgPSBrZXkgYXMga2V5b2YgUXVlcnlPYnNlcnZlclJlc3VsdFxuICAgICAgICBjb25zdCBjaGFuZ2VkID0gdGhpcy4jY3VycmVudFJlc3VsdFt0eXBlZEtleV0gIT09IHByZXZSZXN1bHRbdHlwZWRLZXldXG5cbiAgICAgICAgcmV0dXJuIGNoYW5nZWQgJiYgaW5jbHVkZWRQcm9wcy5oYXModHlwZWRLZXkpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuI25vdGlmeSh7IGxpc3RlbmVyczogc2hvdWxkTm90aWZ5TGlzdGVuZXJzKCkgfSlcbiAgfVxuXG4gICN1cGRhdGVRdWVyeSgpOiB2b2lkIHtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMuI2NsaWVudC5nZXRRdWVyeUNhY2hlKCkuYnVpbGQodGhpcy4jY2xpZW50LCB0aGlzLm9wdGlvbnMpXG5cbiAgICBpZiAocXVlcnkgPT09IHRoaXMuI2N1cnJlbnRRdWVyeSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgcHJldlF1ZXJ5ID0gdGhpcy4jY3VycmVudFF1ZXJ5IGFzXG4gICAgICB8IFF1ZXJ5PFRRdWVyeUZuRGF0YSwgVEVycm9yLCBUUXVlcnlEYXRhLCBUUXVlcnlLZXk+XG4gICAgICB8IHVuZGVmaW5lZFxuICAgIHRoaXMuI2N1cnJlbnRRdWVyeSA9IHF1ZXJ5XG4gICAgdGhpcy4jY3VycmVudFF1ZXJ5SW5pdGlhbFN0YXRlID0gcXVlcnkuc3RhdGVcblxuICAgIGlmICh0aGlzLmhhc0xpc3RlbmVycygpKSB7XG4gICAgICBwcmV2UXVlcnk/LnJlbW92ZU9ic2VydmVyKHRoaXMpXG4gICAgICBxdWVyeS5hZGRPYnNlcnZlcih0aGlzKVxuICAgIH1cbiAgfVxuXG4gIG9uUXVlcnlVcGRhdGUoKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVSZXN1bHQoKVxuXG4gICAgaWYgKHRoaXMuaGFzTGlzdGVuZXJzKCkpIHtcbiAgICAgIHRoaXMuI3VwZGF0ZVRpbWVycygpXG4gICAgfVxuICB9XG5cbiAgI25vdGlmeShub3RpZnlPcHRpb25zOiB7IGxpc3RlbmVyczogYm9vbGVhbiB9KTogdm9pZCB7XG4gICAgbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB7XG4gICAgICAvLyBGaXJzdCwgdHJpZ2dlciB0aGUgbGlzdGVuZXJzXG4gICAgICBpZiAobm90aWZ5T3B0aW9ucy5saXN0ZW5lcnMpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgICAgICBsaXN0ZW5lcih0aGlzLiNjdXJyZW50UmVzdWx0KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBUaGVuIHRoZSBjYWNoZSBsaXN0ZW5lcnNcbiAgICAgIHRoaXMuI2NsaWVudC5nZXRRdWVyeUNhY2hlKCkubm90aWZ5KHtcbiAgICAgICAgcXVlcnk6IHRoaXMuI2N1cnJlbnRRdWVyeSxcbiAgICAgICAgdHlwZTogJ29ic2VydmVyUmVzdWx0c1VwZGF0ZWQnLFxuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZExvYWRPbk1vdW50KFxuICBxdWVyeTogUXVlcnk8YW55LCBhbnksIGFueSwgYW55PixcbiAgb3B0aW9uczogUXVlcnlPYnNlcnZlck9wdGlvbnM8YW55LCBhbnksIGFueSwgYW55Pixcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHJlc29sdmVFbmFibGVkKG9wdGlvbnMuZW5hYmxlZCwgcXVlcnkpICE9PSBmYWxzZSAmJlxuICAgIHF1ZXJ5LnN0YXRlLmRhdGEgPT09IHVuZGVmaW5lZCAmJlxuICAgICEocXVlcnkuc3RhdGUuc3RhdHVzID09PSAnZXJyb3InICYmIG9wdGlvbnMucmV0cnlPbk1vdW50ID09PSBmYWxzZSlcbiAgKVxufVxuXG5mdW5jdGlvbiBzaG91bGRGZXRjaE9uTW91bnQoXG4gIHF1ZXJ5OiBRdWVyeTxhbnksIGFueSwgYW55LCBhbnk+LFxuICBvcHRpb25zOiBRdWVyeU9ic2VydmVyT3B0aW9uczxhbnksIGFueSwgYW55LCBhbnksIGFueT4sXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBzaG91bGRMb2FkT25Nb3VudChxdWVyeSwgb3B0aW9ucykgfHxcbiAgICAocXVlcnkuc3RhdGUuZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBzaG91bGRGZXRjaE9uKHF1ZXJ5LCBvcHRpb25zLCBvcHRpb25zLnJlZmV0Y2hPbk1vdW50KSlcbiAgKVxufVxuXG5mdW5jdGlvbiBzaG91bGRGZXRjaE9uKFxuICBxdWVyeTogUXVlcnk8YW55LCBhbnksIGFueSwgYW55PixcbiAgb3B0aW9uczogUXVlcnlPYnNlcnZlck9wdGlvbnM8YW55LCBhbnksIGFueSwgYW55LCBhbnk+LFxuICBmaWVsZDogKHR5cGVvZiBvcHRpb25zKVsncmVmZXRjaE9uTW91bnQnXSAmXG4gICAgKHR5cGVvZiBvcHRpb25zKVsncmVmZXRjaE9uV2luZG93Rm9jdXMnXSAmXG4gICAgKHR5cGVvZiBvcHRpb25zKVsncmVmZXRjaE9uUmVjb25uZWN0J10sXG4pIHtcbiAgaWYgKHJlc29sdmVFbmFibGVkKG9wdGlvbnMuZW5hYmxlZCwgcXVlcnkpICE9PSBmYWxzZSkge1xuICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGZpZWxkID09PSAnZnVuY3Rpb24nID8gZmllbGQocXVlcnkpIDogZmllbGRcblxuICAgIHJldHVybiB2YWx1ZSA9PT0gJ2Fsd2F5cycgfHwgKHZhbHVlICE9PSBmYWxzZSAmJiBpc1N0YWxlKHF1ZXJ5LCBvcHRpb25zKSlcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gc2hvdWxkRmV0Y2hPcHRpb25hbGx5KFxuICBxdWVyeTogUXVlcnk8YW55LCBhbnksIGFueSwgYW55PixcbiAgcHJldlF1ZXJ5OiBRdWVyeTxhbnksIGFueSwgYW55LCBhbnk+LFxuICBvcHRpb25zOiBRdWVyeU9ic2VydmVyT3B0aW9uczxhbnksIGFueSwgYW55LCBhbnksIGFueT4sXG4gIHByZXZPcHRpb25zOiBRdWVyeU9ic2VydmVyT3B0aW9uczxhbnksIGFueSwgYW55LCBhbnksIGFueT4sXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAocXVlcnkgIT09IHByZXZRdWVyeSB8fFxuICAgICAgcmVzb2x2ZUVuYWJsZWQocHJldk9wdGlvbnMuZW5hYmxlZCwgcXVlcnkpID09PSBmYWxzZSkgJiZcbiAgICAoIW9wdGlvbnMuc3VzcGVuc2UgfHwgcXVlcnkuc3RhdGUuc3RhdHVzICE9PSAnZXJyb3InKSAmJlxuICAgIGlzU3RhbGUocXVlcnksIG9wdGlvbnMpXG4gIClcbn1cblxuZnVuY3Rpb24gaXNTdGFsZShcbiAgcXVlcnk6IFF1ZXJ5PGFueSwgYW55LCBhbnksIGFueT4sXG4gIG9wdGlvbnM6IFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zPGFueSwgYW55LCBhbnksIGFueSwgYW55Pixcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHJlc29sdmVFbmFibGVkKG9wdGlvbnMuZW5hYmxlZCwgcXVlcnkpICE9PSBmYWxzZSAmJlxuICAgIHF1ZXJ5LmlzU3RhbGVCeVRpbWUocmVzb2x2ZVN0YWxlVGltZShvcHRpb25zLnN0YWxlVGltZSwgcXVlcnkpKVxuICApXG59XG5cbi8vIHRoaXMgZnVuY3Rpb24gd291bGQgZGVjaWRlIGlmIHdlIHdpbGwgdXBkYXRlIHRoZSBvYnNlcnZlcidzICdjdXJyZW50J1xuLy8gcHJvcGVydGllcyBhZnRlciBhbiBvcHRpbWlzdGljIHJlYWRpbmcgdmlhIGdldE9wdGltaXN0aWNSZXN1bHRcbmZ1bmN0aW9uIHNob3VsZEFzc2lnbk9ic2VydmVyQ3VycmVudFByb3BlcnRpZXM8XG4gIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gIFRFcnJvciA9IHVua25vd24sXG4gIFREYXRhID0gVFF1ZXJ5Rm5EYXRhLFxuICBUUXVlcnlEYXRhID0gVFF1ZXJ5Rm5EYXRhLFxuICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuPihcbiAgb2JzZXJ2ZXI6IFF1ZXJ5T2JzZXJ2ZXI8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlEYXRhLCBUUXVlcnlLZXk+LFxuICBvcHRpbWlzdGljUmVzdWx0OiBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+LFxuKSB7XG4gIC8vIGlmIHRoZSBuZXdseSBjcmVhdGVkIHJlc3VsdCBpc24ndCB3aGF0IHRoZSBvYnNlcnZlciBpcyBob2xkaW5nIGFzIGN1cnJlbnQsXG4gIC8vIHRoZW4gd2UnbGwgbmVlZCB0byB1cGRhdGUgdGhlIHByb3BlcnRpZXMgYXMgd2VsbFxuICBpZiAoIXNoYWxsb3dFcXVhbE9iamVjdHMob2JzZXJ2ZXIuZ2V0Q3VycmVudFJlc3VsdCgpLCBvcHRpbWlzdGljUmVzdWx0KSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyBiYXNpY2FsbHksIGp1c3Qga2VlcCBwcmV2aW91cyBwcm9wZXJ0aWVzIGlmIG5vdGhpbmcgY2hhbmdlZFxuICByZXR1cm4gZmFsc2Vcbn1cbiIsICJpbXBvcnQgeyBnZXREZWZhdWx0U3RhdGUgfSBmcm9tICcuL211dGF0aW9uJ1xuaW1wb3J0IHsgbm90aWZ5TWFuYWdlciB9IGZyb20gJy4vbm90aWZ5TWFuYWdlcidcbmltcG9ydCB7IFN1YnNjcmliYWJsZSB9IGZyb20gJy4vc3Vic2NyaWJhYmxlJ1xuaW1wb3J0IHsgaGFzaEtleSwgc2hhbGxvd0VxdWFsT2JqZWN0cyB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgdHlwZSB7IFF1ZXJ5Q2xpZW50IH0gZnJvbSAnLi9xdWVyeUNsaWVudCdcbmltcG9ydCB0eXBlIHtcbiAgRGVmYXVsdEVycm9yLFxuICBNdXRhdGVPcHRpb25zLFxuICBNdXRhdGlvbk9ic2VydmVyT3B0aW9ucyxcbiAgTXV0YXRpb25PYnNlcnZlclJlc3VsdCxcbn0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB0eXBlIHsgQWN0aW9uLCBNdXRhdGlvbiB9IGZyb20gJy4vbXV0YXRpb24nXG5cbi8vIFRZUEVTXG5cbnR5cGUgTXV0YXRpb25PYnNlcnZlckxpc3RlbmVyPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PiA9IChcbiAgcmVzdWx0OiBNdXRhdGlvbk9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PixcbikgPT4gdm9pZFxuXG4vLyBDTEFTU1xuXG5leHBvcnQgY2xhc3MgTXV0YXRpb25PYnNlcnZlcjxcbiAgVERhdGEgPSB1bmtub3duLFxuICBURXJyb3IgPSBEZWZhdWx0RXJyb3IsXG4gIFRWYXJpYWJsZXMgPSB2b2lkLFxuICBUQ29udGV4dCA9IHVua25vd24sXG4+IGV4dGVuZHMgU3Vic2NyaWJhYmxlPFxuICBNdXRhdGlvbk9ic2VydmVyTGlzdGVuZXI8VERhdGEsIFRFcnJvciwgVFZhcmlhYmxlcywgVENvbnRleHQ+XG4+IHtcbiAgb3B0aW9ucyE6IE11dGF0aW9uT2JzZXJ2ZXJPcHRpb25zPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PlxuXG4gICNjbGllbnQ6IFF1ZXJ5Q2xpZW50XG4gICNjdXJyZW50UmVzdWx0OiBNdXRhdGlvbk9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PiA9XG4gICAgdW5kZWZpbmVkIVxuICAjY3VycmVudE11dGF0aW9uPzogTXV0YXRpb248VERhdGEsIFRFcnJvciwgVFZhcmlhYmxlcywgVENvbnRleHQ+XG4gICNtdXRhdGVPcHRpb25zPzogTXV0YXRlT3B0aW9uczxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD5cblxuICBjb25zdHJ1Y3RvcihcbiAgICBjbGllbnQ6IFF1ZXJ5Q2xpZW50LFxuICAgIG9wdGlvbnM6IE11dGF0aW9uT2JzZXJ2ZXJPcHRpb25zPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PixcbiAgKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50XG4gICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy5iaW5kTWV0aG9kcygpXG4gICAgdGhpcy4jdXBkYXRlUmVzdWx0KClcbiAgfVxuXG4gIHByb3RlY3RlZCBiaW5kTWV0aG9kcygpOiB2b2lkIHtcbiAgICB0aGlzLm11dGF0ZSA9IHRoaXMubXV0YXRlLmJpbmQodGhpcylcbiAgICB0aGlzLnJlc2V0ID0gdGhpcy5yZXNldC5iaW5kKHRoaXMpXG4gIH1cblxuICBzZXRPcHRpb25zKFxuICAgIG9wdGlvbnM6IE11dGF0aW9uT2JzZXJ2ZXJPcHRpb25zPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PixcbiAgKSB7XG4gICAgY29uc3QgcHJldk9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgYXNcbiAgICAgIHwgTXV0YXRpb25PYnNlcnZlck9wdGlvbnM8VERhdGEsIFRFcnJvciwgVFZhcmlhYmxlcywgVENvbnRleHQ+XG4gICAgICB8IHVuZGVmaW5lZFxuICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuI2NsaWVudC5kZWZhdWx0TXV0YXRpb25PcHRpb25zKG9wdGlvbnMpXG4gICAgaWYgKCFzaGFsbG93RXF1YWxPYmplY3RzKHRoaXMub3B0aW9ucywgcHJldk9wdGlvbnMpKSB7XG4gICAgICB0aGlzLiNjbGllbnQuZ2V0TXV0YXRpb25DYWNoZSgpLm5vdGlmeSh7XG4gICAgICAgIHR5cGU6ICdvYnNlcnZlck9wdGlvbnNVcGRhdGVkJyxcbiAgICAgICAgbXV0YXRpb246IHRoaXMuI2N1cnJlbnRNdXRhdGlvbixcbiAgICAgICAgb2JzZXJ2ZXI6IHRoaXMsXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHByZXZPcHRpb25zPy5tdXRhdGlvbktleSAmJlxuICAgICAgdGhpcy5vcHRpb25zLm11dGF0aW9uS2V5ICYmXG4gICAgICBoYXNoS2V5KHByZXZPcHRpb25zLm11dGF0aW9uS2V5KSAhPT0gaGFzaEtleSh0aGlzLm9wdGlvbnMubXV0YXRpb25LZXkpXG4gICAgKSB7XG4gICAgICB0aGlzLnJlc2V0KClcbiAgICB9IGVsc2UgaWYgKHRoaXMuI2N1cnJlbnRNdXRhdGlvbj8uc3RhdGUuc3RhdHVzID09PSAncGVuZGluZycpIHtcbiAgICAgIHRoaXMuI2N1cnJlbnRNdXRhdGlvbi5zZXRPcHRpb25zKHRoaXMub3B0aW9ucylcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgb25VbnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaGFzTGlzdGVuZXJzKCkpIHtcbiAgICAgIHRoaXMuI2N1cnJlbnRNdXRhdGlvbj8ucmVtb3ZlT2JzZXJ2ZXIodGhpcylcbiAgICB9XG4gIH1cblxuICBvbk11dGF0aW9uVXBkYXRlKGFjdGlvbjogQWN0aW9uPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0Pik6IHZvaWQge1xuICAgIHRoaXMuI3VwZGF0ZVJlc3VsdCgpXG5cbiAgICB0aGlzLiNub3RpZnkoYWN0aW9uKVxuICB9XG5cbiAgZ2V0Q3VycmVudFJlc3VsdCgpOiBNdXRhdGlvbk9ic2VydmVyUmVzdWx0PFxuICAgIFREYXRhLFxuICAgIFRFcnJvcixcbiAgICBUVmFyaWFibGVzLFxuICAgIFRDb250ZXh0XG4gID4ge1xuICAgIHJldHVybiB0aGlzLiNjdXJyZW50UmVzdWx0XG4gIH1cblxuICByZXNldCgpOiB2b2lkIHtcbiAgICAvLyByZXNldCBuZWVkcyB0byByZW1vdmUgdGhlIG9ic2VydmVyIGZyb20gdGhlIG11dGF0aW9uIGJlY2F1c2UgdGhlcmUgaXMgbm8gd2F5IHRvIFwiZ2V0IGl0IGJhY2tcIlxuICAgIC8vIGFub3RoZXIgbXV0YXRlIGNhbGwgd2lsbCB5aWVsZCBhIG5ldyBtdXRhdGlvbiFcbiAgICB0aGlzLiNjdXJyZW50TXV0YXRpb24/LnJlbW92ZU9ic2VydmVyKHRoaXMpXG4gICAgdGhpcy4jY3VycmVudE11dGF0aW9uID0gdW5kZWZpbmVkXG4gICAgdGhpcy4jdXBkYXRlUmVzdWx0KClcbiAgICB0aGlzLiNub3RpZnkoKVxuICB9XG5cbiAgbXV0YXRlKFxuICAgIHZhcmlhYmxlczogVFZhcmlhYmxlcyxcbiAgICBvcHRpb25zPzogTXV0YXRlT3B0aW9uczxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4sXG4gICk6IFByb21pc2U8VERhdGE+IHtcbiAgICB0aGlzLiNtdXRhdGVPcHRpb25zID0gb3B0aW9uc1xuXG4gICAgdGhpcy4jY3VycmVudE11dGF0aW9uPy5yZW1vdmVPYnNlcnZlcih0aGlzKVxuXG4gICAgdGhpcy4jY3VycmVudE11dGF0aW9uID0gdGhpcy4jY2xpZW50XG4gICAgICAuZ2V0TXV0YXRpb25DYWNoZSgpXG4gICAgICAuYnVpbGQodGhpcy4jY2xpZW50LCB0aGlzLm9wdGlvbnMpXG5cbiAgICB0aGlzLiNjdXJyZW50TXV0YXRpb24uYWRkT2JzZXJ2ZXIodGhpcylcblxuICAgIHJldHVybiB0aGlzLiNjdXJyZW50TXV0YXRpb24uZXhlY3V0ZSh2YXJpYWJsZXMpXG4gIH1cblxuICAjdXBkYXRlUmVzdWx0KCk6IHZvaWQge1xuICAgIGNvbnN0IHN0YXRlID1cbiAgICAgIHRoaXMuI2N1cnJlbnRNdXRhdGlvbj8uc3RhdGUgPz9cbiAgICAgIGdldERlZmF1bHRTdGF0ZTxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD4oKVxuXG4gICAgdGhpcy4jY3VycmVudFJlc3VsdCA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaXNQZW5kaW5nOiBzdGF0ZS5zdGF0dXMgPT09ICdwZW5kaW5nJyxcbiAgICAgIGlzU3VjY2Vzczogc3RhdGUuc3RhdHVzID09PSAnc3VjY2VzcycsXG4gICAgICBpc0Vycm9yOiBzdGF0ZS5zdGF0dXMgPT09ICdlcnJvcicsXG4gICAgICBpc0lkbGU6IHN0YXRlLnN0YXR1cyA9PT0gJ2lkbGUnLFxuICAgICAgbXV0YXRlOiB0aGlzLm11dGF0ZSxcbiAgICAgIHJlc2V0OiB0aGlzLnJlc2V0LFxuICAgIH0gYXMgTXV0YXRpb25PYnNlcnZlclJlc3VsdDxURGF0YSwgVEVycm9yLCBUVmFyaWFibGVzLCBUQ29udGV4dD5cbiAgfVxuXG4gICNub3RpZnkoYWN0aW9uPzogQWN0aW9uPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0Pik6IHZvaWQge1xuICAgIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4ge1xuICAgICAgLy8gRmlyc3QgdHJpZ2dlciB0aGUgbXV0YXRlIGNhbGxiYWNrc1xuICAgICAgaWYgKHRoaXMuI211dGF0ZU9wdGlvbnMgJiYgdGhpcy5oYXNMaXN0ZW5lcnMoKSkge1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLiNjdXJyZW50UmVzdWx0LnZhcmlhYmxlcyFcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuI2N1cnJlbnRSZXN1bHQuY29udGV4dFxuXG4gICAgICAgIGlmIChhY3Rpb24/LnR5cGUgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgIHRoaXMuI211dGF0ZU9wdGlvbnMub25TdWNjZXNzPy4oYWN0aW9uLmRhdGEsIHZhcmlhYmxlcywgY29udGV4dCEpXG4gICAgICAgICAgdGhpcy4jbXV0YXRlT3B0aW9ucy5vblNldHRsZWQ/LihhY3Rpb24uZGF0YSwgbnVsbCwgdmFyaWFibGVzLCBjb250ZXh0KVxuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbj8udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgIHRoaXMuI211dGF0ZU9wdGlvbnMub25FcnJvcj8uKGFjdGlvbi5lcnJvciwgdmFyaWFibGVzLCBjb250ZXh0KVxuICAgICAgICAgIHRoaXMuI211dGF0ZU9wdGlvbnMub25TZXR0bGVkPy4oXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBhY3Rpb24uZXJyb3IsXG4gICAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGVuIHRyaWdnZXIgdGhlIGxpc3RlbmVyc1xuICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgICAgbGlzdGVuZXIodGhpcy4jY3VycmVudFJlc3VsdClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuIiwgIid1c2UgY2xpZW50J1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB0eXBlIHsgUXVlcnlDbGllbnQgfSBmcm9tICdAdGFuc3RhY2svcXVlcnktY29yZSdcblxuZXhwb3J0IGNvbnN0IFF1ZXJ5Q2xpZW50Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8UXVlcnlDbGllbnQgfCB1bmRlZmluZWQ+KFxuICB1bmRlZmluZWQsXG4pXG5cbmV4cG9ydCBjb25zdCB1c2VRdWVyeUNsaWVudCA9IChxdWVyeUNsaWVudD86IFF1ZXJ5Q2xpZW50KSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IFJlYWN0LnVzZUNvbnRleHQoUXVlcnlDbGllbnRDb250ZXh0KVxuXG4gIGlmIChxdWVyeUNsaWVudCkge1xuICAgIHJldHVybiBxdWVyeUNsaWVudFxuICB9XG5cbiAgaWYgKCFjbGllbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFF1ZXJ5Q2xpZW50IHNldCwgdXNlIFF1ZXJ5Q2xpZW50UHJvdmlkZXIgdG8gc2V0IG9uZScpXG4gIH1cblxuICByZXR1cm4gY2xpZW50XG59XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5Q2xpZW50UHJvdmlkZXJQcm9wcyA9IHtcbiAgY2xpZW50OiBRdWVyeUNsaWVudFxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxufVxuXG5leHBvcnQgY29uc3QgUXVlcnlDbGllbnRQcm92aWRlciA9ICh7XG4gIGNsaWVudCxcbiAgY2hpbGRyZW4sXG59OiBRdWVyeUNsaWVudFByb3ZpZGVyUHJvcHMpOiBSZWFjdC5KU1guRWxlbWVudCA9PiB7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2xpZW50Lm1vdW50KClcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xpZW50LnVubW91bnQoKVxuICAgIH1cbiAgfSwgW2NsaWVudF0pXG5cbiAgcmV0dXJuIChcbiAgICA8UXVlcnlDbGllbnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjbGllbnR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvUXVlcnlDbGllbnRDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG4iLCAiJ3VzZSBjbGllbnQnXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcblxuY29uc3QgSXNSZXN0b3JpbmdDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChmYWxzZSlcblxuZXhwb3J0IGNvbnN0IHVzZUlzUmVzdG9yaW5nID0gKCkgPT4gUmVhY3QudXNlQ29udGV4dChJc1Jlc3RvcmluZ0NvbnRleHQpXG5leHBvcnQgY29uc3QgSXNSZXN0b3JpbmdQcm92aWRlciA9IElzUmVzdG9yaW5nQ29udGV4dC5Qcm92aWRlclxuIiwgIid1c2UgY2xpZW50J1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5cbi8vIENPTlRFWFRcbmV4cG9ydCB0eXBlIFF1ZXJ5RXJyb3JSZXNldEZ1bmN0aW9uID0gKCkgPT4gdm9pZFxuZXhwb3J0IHR5cGUgUXVlcnlFcnJvcklzUmVzZXRGdW5jdGlvbiA9ICgpID0+IGJvb2xlYW5cbmV4cG9ydCB0eXBlIFF1ZXJ5RXJyb3JDbGVhclJlc2V0RnVuY3Rpb24gPSAoKSA9PiB2b2lkXG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlFcnJvclJlc2V0Qm91bmRhcnlWYWx1ZSB7XG4gIGNsZWFyUmVzZXQ6IFF1ZXJ5RXJyb3JDbGVhclJlc2V0RnVuY3Rpb25cbiAgaXNSZXNldDogUXVlcnlFcnJvcklzUmVzZXRGdW5jdGlvblxuICByZXNldDogUXVlcnlFcnJvclJlc2V0RnVuY3Rpb25cbn1cblxuZnVuY3Rpb24gY3JlYXRlVmFsdWUoKTogUXVlcnlFcnJvclJlc2V0Qm91bmRhcnlWYWx1ZSB7XG4gIGxldCBpc1Jlc2V0ID0gZmFsc2VcbiAgcmV0dXJuIHtcbiAgICBjbGVhclJlc2V0OiAoKSA9PiB7XG4gICAgICBpc1Jlc2V0ID0gZmFsc2VcbiAgICB9LFxuICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICBpc1Jlc2V0ID0gdHJ1ZVxuICAgIH0sXG4gICAgaXNSZXNldDogKCkgPT4ge1xuICAgICAgcmV0dXJuIGlzUmVzZXRcbiAgICB9LFxuICB9XG59XG5cbmNvbnN0IFF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoY3JlYXRlVmFsdWUoKSlcblxuLy8gSE9PS1xuXG5leHBvcnQgY29uc3QgdXNlUXVlcnlFcnJvclJlc2V0Qm91bmRhcnkgPSAoKSA9PlxuICBSZWFjdC51c2VDb250ZXh0KFF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5Q29udGV4dClcblxuLy8gQ09NUE9ORU5UXG5cbmV4cG9ydCB0eXBlIFF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5RnVuY3Rpb24gPSAoXG4gIHZhbHVlOiBRdWVyeUVycm9yUmVzZXRCb3VuZGFyeVZhbHVlLFxuKSA9PiBSZWFjdC5SZWFjdE5vZGVcblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeUVycm9yUmVzZXRCb3VuZGFyeVByb3BzIHtcbiAgY2hpbGRyZW46IFF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5RnVuY3Rpb24gfCBSZWFjdC5SZWFjdE5vZGVcbn1cblxuZXhwb3J0IGNvbnN0IFF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5ID0gKHtcbiAgY2hpbGRyZW4sXG59OiBRdWVyeUVycm9yUmVzZXRCb3VuZGFyeVByb3BzKSA9PiB7XG4gIGNvbnN0IFt2YWx1ZV0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBjcmVhdGVWYWx1ZSgpKVxuICByZXR1cm4gKFxuICAgIDxRdWVyeUVycm9yUmVzZXRCb3VuZGFyeUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHt0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbih2YWx1ZSkgOiBjaGlsZHJlbn1cbiAgICA8L1F1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5Q29udGV4dC5Qcm92aWRlcj5cbiAgKVxufVxuIiwgIid1c2UgY2xpZW50J1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBzaG91bGRUaHJvd0Vycm9yIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB0eXBlIHtcbiAgRGVmYXVsdGVkUXVlcnlPYnNlcnZlck9wdGlvbnMsXG4gIFF1ZXJ5LFxuICBRdWVyeUtleSxcbiAgUXVlcnlPYnNlcnZlclJlc3VsdCxcbiAgVGhyb3dPbkVycm9yLFxufSBmcm9tICdAdGFuc3RhY2svcXVlcnktY29yZSdcbmltcG9ydCB0eXBlIHsgUXVlcnlFcnJvclJlc2V0Qm91bmRhcnlWYWx1ZSB9IGZyb20gJy4vUXVlcnlFcnJvclJlc2V0Qm91bmRhcnknXG5cbmV4cG9ydCBjb25zdCBlbnN1cmVQcmV2ZW50RXJyb3JCb3VuZGFyeVJldHJ5ID0gPFxuICBUUXVlcnlGbkRhdGEsXG4gIFRFcnJvcixcbiAgVERhdGEsXG4gIFRRdWVyeURhdGEsXG4gIFRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5LFxuPihcbiAgb3B0aW9uczogRGVmYXVsdGVkUXVlcnlPYnNlcnZlck9wdGlvbnM8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRFcnJvcixcbiAgICBURGF0YSxcbiAgICBUUXVlcnlEYXRhLFxuICAgIFRRdWVyeUtleVxuICA+LFxuICBlcnJvclJlc2V0Qm91bmRhcnk6IFF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5VmFsdWUsXG4pID0+IHtcbiAgaWYgKFxuICAgIG9wdGlvbnMuc3VzcGVuc2UgfHxcbiAgICBvcHRpb25zLnRocm93T25FcnJvciB8fFxuICAgIG9wdGlvbnMuZXhwZXJpbWVudGFsX3ByZWZldGNoSW5SZW5kZXJcbiAgKSB7XG4gICAgLy8gUHJldmVudCByZXRyeWluZyBmYWlsZWQgcXVlcnkgaWYgdGhlIGVycm9yIGJvdW5kYXJ5IGhhcyBub3QgYmVlbiByZXNldCB5ZXRcbiAgICBpZiAoIWVycm9yUmVzZXRCb3VuZGFyeS5pc1Jlc2V0KCkpIHtcbiAgICAgIG9wdGlvbnMucmV0cnlPbk1vdW50ID0gZmFsc2VcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVzZUNsZWFyUmVzZXRFcnJvckJvdW5kYXJ5ID0gKFxuICBlcnJvclJlc2V0Qm91bmRhcnk6IFF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5VmFsdWUsXG4pID0+IHtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBlcnJvclJlc2V0Qm91bmRhcnkuY2xlYXJSZXNldCgpXG4gIH0sIFtlcnJvclJlc2V0Qm91bmRhcnldKVxufVxuXG5leHBvcnQgY29uc3QgZ2V0SGFzRXJyb3IgPSA8XG4gIFREYXRhLFxuICBURXJyb3IsXG4gIFRRdWVyeUZuRGF0YSxcbiAgVFF1ZXJ5RGF0YSxcbiAgVFF1ZXJ5S2V5IGV4dGVuZHMgUXVlcnlLZXksXG4+KHtcbiAgcmVzdWx0LFxuICBlcnJvclJlc2V0Qm91bmRhcnksXG4gIHRocm93T25FcnJvcixcbiAgcXVlcnksXG4gIHN1c3BlbnNlLFxufToge1xuICByZXN1bHQ6IFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQ8VERhdGEsIFRFcnJvcj5cbiAgZXJyb3JSZXNldEJvdW5kYXJ5OiBRdWVyeUVycm9yUmVzZXRCb3VuZGFyeVZhbHVlXG4gIHRocm93T25FcnJvcjogVGhyb3dPbkVycm9yPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBUUXVlcnlEYXRhLCBUUXVlcnlLZXk+XG4gIHF1ZXJ5OiBRdWVyeTxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVFF1ZXJ5RGF0YSwgVFF1ZXJ5S2V5PiB8IHVuZGVmaW5lZFxuICBzdXNwZW5zZTogYm9vbGVhbiB8IHVuZGVmaW5lZFxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIHJlc3VsdC5pc0Vycm9yICYmXG4gICAgIWVycm9yUmVzZXRCb3VuZGFyeS5pc1Jlc2V0KCkgJiZcbiAgICAhcmVzdWx0LmlzRmV0Y2hpbmcgJiZcbiAgICBxdWVyeSAmJlxuICAgICgoc3VzcGVuc2UgJiYgcmVzdWx0LmRhdGEgPT09IHVuZGVmaW5lZCkgfHxcbiAgICAgIHNob3VsZFRocm93RXJyb3IodGhyb3dPbkVycm9yLCBbcmVzdWx0LmVycm9yLCBxdWVyeV0pKVxuICApXG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFRocm93RXJyb3I8VCBleHRlbmRzICguLi5hcmdzOiBBcnJheTxhbnk+KSA9PiBib29sZWFuPihcbiAgdGhyb3dFcnJvcjogYm9vbGVhbiB8IFQgfCB1bmRlZmluZWQsXG4gIHBhcmFtczogUGFyYW1ldGVyczxUPixcbik6IGJvb2xlYW4ge1xuICAvLyBBbGxvdyB0aHJvd0Vycm9yIGZ1bmN0aW9uIHRvIG92ZXJyaWRlIHRocm93aW5nIGJlaGF2aW9yIG9uIGEgcGVyLWVycm9yIGJhc2lzXG4gIGlmICh0eXBlb2YgdGhyb3dFcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aHJvd0Vycm9yKC4uLnBhcmFtcylcbiAgfVxuXG4gIHJldHVybiAhIXRocm93RXJyb3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKTogdm9pZCB7fVxuIiwgImltcG9ydCB0eXBlIHtcbiAgRGVmYXVsdEVycm9yLFxuICBEZWZhdWx0ZWRRdWVyeU9ic2VydmVyT3B0aW9ucyxcbiAgUXVlcnksXG4gIFF1ZXJ5S2V5LFxuICBRdWVyeU9ic2VydmVyLFxuICBRdWVyeU9ic2VydmVyUmVzdWx0LFxufSBmcm9tICdAdGFuc3RhY2svcXVlcnktY29yZSdcbmltcG9ydCB0eXBlIHsgUXVlcnlFcnJvclJlc2V0Qm91bmRhcnlWYWx1ZSB9IGZyb20gJy4vUXVlcnlFcnJvclJlc2V0Qm91bmRhcnknXG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGhyb3dPbkVycm9yID0gPFxuICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICBURXJyb3IgPSBEZWZhdWx0RXJyb3IsXG4gIFREYXRhID0gVFF1ZXJ5Rm5EYXRhLFxuICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuPihcbiAgX2Vycm9yOiBURXJyb3IsXG4gIHF1ZXJ5OiBRdWVyeTxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeUtleT4sXG4pID0+IHF1ZXJ5LnN0YXRlLmRhdGEgPT09IHVuZGVmaW5lZFxuXG5leHBvcnQgY29uc3QgZW5zdXJlU3VzcGVuc2VUaW1lcnMgPSAoXG4gIGRlZmF1bHRlZE9wdGlvbnM6IERlZmF1bHRlZFF1ZXJ5T2JzZXJ2ZXJPcHRpb25zPGFueSwgYW55LCBhbnksIGFueSwgYW55PixcbikgPT4ge1xuICBjb25zdCBvcmlnaW5hbFN0YWxlVGltZSA9IGRlZmF1bHRlZE9wdGlvbnMuc3RhbGVUaW1lXG5cbiAgaWYgKGRlZmF1bHRlZE9wdGlvbnMuc3VzcGVuc2UpIHtcbiAgICAvLyBIYW5kbGUgc3RhbGVUaW1lIHRvIGVuc3VyZSBtaW5pbXVtIDEwMDBtcyBpbiBTdXNwZW5zZSBtb2RlXG4gICAgLy8gVGhpcyBwcmV2ZW50cyB1bm5lY2Vzc2FyeSByZWZldGNoaW5nIHdoZW4gY29tcG9uZW50cyByZW1vdW50IGFmdGVyIHN1c3BlbmRpbmdcbiAgICBkZWZhdWx0ZWRPcHRpb25zLnN0YWxlVGltZSA9XG4gICAgICB0eXBlb2Ygb3JpZ2luYWxTdGFsZVRpbWUgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAoLi4uYXJncykgPT4gTWF0aC5tYXgob3JpZ2luYWxTdGFsZVRpbWUoLi4uYXJncyksIDEwMDApXG4gICAgICAgIDogTWF0aC5tYXgob3JpZ2luYWxTdGFsZVRpbWUgPz8gMTAwMCwgMTAwMClcblxuICAgIGlmICh0eXBlb2YgZGVmYXVsdGVkT3B0aW9ucy5nY1RpbWUgPT09ICdudW1iZXInKSB7XG4gICAgICBkZWZhdWx0ZWRPcHRpb25zLmdjVGltZSA9IE1hdGgubWF4KGRlZmF1bHRlZE9wdGlvbnMuZ2NUaW1lLCAxMDAwKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgd2lsbEZldGNoID0gKFxuICByZXN1bHQ6IFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQ8YW55LCBhbnk+LFxuICBpc1Jlc3RvcmluZzogYm9vbGVhbixcbikgPT4gcmVzdWx0LmlzTG9hZGluZyAmJiByZXN1bHQuaXNGZXRjaGluZyAmJiAhaXNSZXN0b3JpbmdcblxuZXhwb3J0IGNvbnN0IHNob3VsZFN1c3BlbmQgPSAoXG4gIGRlZmF1bHRlZE9wdGlvbnM6XG4gICAgfCBEZWZhdWx0ZWRRdWVyeU9ic2VydmVyT3B0aW9uczxhbnksIGFueSwgYW55LCBhbnksIGFueT5cbiAgICB8IHVuZGVmaW5lZCxcbiAgcmVzdWx0OiBRdWVyeU9ic2VydmVyUmVzdWx0PGFueSwgYW55PixcbikgPT4gZGVmYXVsdGVkT3B0aW9ucz8uc3VzcGVuc2UgJiYgcmVzdWx0LmlzUGVuZGluZ1xuXG5leHBvcnQgY29uc3QgZmV0Y2hPcHRpbWlzdGljID0gPFxuICBUUXVlcnlGbkRhdGEsXG4gIFRFcnJvcixcbiAgVERhdGEsXG4gIFRRdWVyeURhdGEsXG4gIFRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5LFxuPihcbiAgZGVmYXVsdGVkT3B0aW9uczogRGVmYXVsdGVkUXVlcnlPYnNlcnZlck9wdGlvbnM8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRFcnJvcixcbiAgICBURGF0YSxcbiAgICBUUXVlcnlEYXRhLFxuICAgIFRRdWVyeUtleVxuICA+LFxuICBvYnNlcnZlcjogUXVlcnlPYnNlcnZlcjxUUXVlcnlGbkRhdGEsIFRFcnJvciwgVERhdGEsIFRRdWVyeURhdGEsIFRRdWVyeUtleT4sXG4gIGVycm9yUmVzZXRCb3VuZGFyeTogUXVlcnlFcnJvclJlc2V0Qm91bmRhcnlWYWx1ZSxcbikgPT5cbiAgb2JzZXJ2ZXIuZmV0Y2hPcHRpbWlzdGljKGRlZmF1bHRlZE9wdGlvbnMpLmNhdGNoKCgpID0+IHtcbiAgICBlcnJvclJlc2V0Qm91bmRhcnkuY2xlYXJSZXNldCgpXG4gIH0pXG4iLCAiJ3VzZSBjbGllbnQnXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgaXNTZXJ2ZXIsIG5vdGlmeU1hbmFnZXIgfSBmcm9tICdAdGFuc3RhY2svcXVlcnktY29yZSdcbmltcG9ydCB7IHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSAnLi9RdWVyeUNsaWVudFByb3ZpZGVyJ1xuaW1wb3J0IHsgdXNlUXVlcnlFcnJvclJlc2V0Qm91bmRhcnkgfSBmcm9tICcuL1F1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5J1xuaW1wb3J0IHtcbiAgZW5zdXJlUHJldmVudEVycm9yQm91bmRhcnlSZXRyeSxcbiAgZ2V0SGFzRXJyb3IsXG4gIHVzZUNsZWFyUmVzZXRFcnJvckJvdW5kYXJ5LFxufSBmcm9tICcuL2Vycm9yQm91bmRhcnlVdGlscydcbmltcG9ydCB7IHVzZUlzUmVzdG9yaW5nIH0gZnJvbSAnLi9pc1Jlc3RvcmluZydcbmltcG9ydCB7XG4gIGVuc3VyZVN1c3BlbnNlVGltZXJzLFxuICBmZXRjaE9wdGltaXN0aWMsXG4gIHNob3VsZFN1c3BlbmQsXG4gIHdpbGxGZXRjaCxcbn0gZnJvbSAnLi9zdXNwZW5zZSdcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHR5cGUge1xuICBRdWVyeUNsaWVudCxcbiAgUXVlcnlLZXksXG4gIFF1ZXJ5T2JzZXJ2ZXIsXG4gIFF1ZXJ5T2JzZXJ2ZXJSZXN1bHQsXG59IGZyb20gJ0B0YW5zdGFjay9xdWVyeS1jb3JlJ1xuaW1wb3J0IHR5cGUgeyBVc2VCYXNlUXVlcnlPcHRpb25zIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUJhc2VRdWVyeTxcbiAgVFF1ZXJ5Rm5EYXRhLFxuICBURXJyb3IsXG4gIFREYXRhLFxuICBUUXVlcnlEYXRhLFxuICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSxcbj4oXG4gIG9wdGlvbnM6IFVzZUJhc2VRdWVyeU9wdGlvbnM8XG4gICAgVFF1ZXJ5Rm5EYXRhLFxuICAgIFRFcnJvcixcbiAgICBURGF0YSxcbiAgICBUUXVlcnlEYXRhLFxuICAgIFRRdWVyeUtleVxuICA+LFxuICBPYnNlcnZlcjogdHlwZW9mIFF1ZXJ5T2JzZXJ2ZXIsXG4gIHF1ZXJ5Q2xpZW50PzogUXVlcnlDbGllbnQsXG4pOiBRdWVyeU9ic2VydmVyUmVzdWx0PFREYXRhLCBURXJyb3I+IHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0JhZCBhcmd1bWVudCB0eXBlLiBTdGFydGluZyB3aXRoIHY1LCBvbmx5IHRoZSBcIk9iamVjdFwiIGZvcm0gaXMgYWxsb3dlZCB3aGVuIGNhbGxpbmcgcXVlcnkgcmVsYXRlZCBmdW5jdGlvbnMuIFBsZWFzZSB1c2UgdGhlIGVycm9yIHN0YWNrIHRvIGZpbmQgdGhlIGN1bHByaXQgY2FsbC4gTW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vdGFuc3RhY2suY29tL3F1ZXJ5L2xhdGVzdC9kb2NzL3JlYWN0L2d1aWRlcy9taWdyYXRpbmctdG8tdjUjc3VwcG9ydHMtYS1zaW5nbGUtc2lnbmF0dXJlLW9uZS1vYmplY3QnLFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KHF1ZXJ5Q2xpZW50KVxuICBjb25zdCBpc1Jlc3RvcmluZyA9IHVzZUlzUmVzdG9yaW5nKClcbiAgY29uc3QgZXJyb3JSZXNldEJvdW5kYXJ5ID0gdXNlUXVlcnlFcnJvclJlc2V0Qm91bmRhcnkoKVxuICBjb25zdCBkZWZhdWx0ZWRPcHRpb25zID0gY2xpZW50LmRlZmF1bHRRdWVyeU9wdGlvbnMob3B0aW9ucylcblxuICA7KGNsaWVudC5nZXREZWZhdWx0T3B0aW9ucygpLnF1ZXJpZXMgYXMgYW55KT8uX2V4cGVyaW1lbnRhbF9iZWZvcmVRdWVyeT8uKFxuICAgIGRlZmF1bHRlZE9wdGlvbnMsXG4gIClcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghZGVmYXVsdGVkT3B0aW9ucy5xdWVyeUZuKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgWyR7ZGVmYXVsdGVkT3B0aW9ucy5xdWVyeUhhc2h9XTogTm8gcXVlcnlGbiB3YXMgcGFzc2VkIGFzIGFuIG9wdGlvbiwgYW5kIG5vIGRlZmF1bHQgcXVlcnlGbiB3YXMgZm91bmQuIFRoZSBxdWVyeUZuIHBhcmFtZXRlciBpcyBvbmx5IG9wdGlvbmFsIHdoZW4gdXNpbmcgYSBkZWZhdWx0IHF1ZXJ5Rm4uIE1vcmUgaW5mbyBoZXJlOiBodHRwczovL3RhbnN0YWNrLmNvbS9xdWVyeS9sYXRlc3QvZG9jcy9mcmFtZXdvcmsvcmVhY3QvZ3VpZGVzL2RlZmF1bHQtcXVlcnktZnVuY3Rpb25gLFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSByZXN1bHRzIGFyZSBvcHRpbWlzdGljYWxseSBzZXQgaW4gZmV0Y2hpbmcgc3RhdGUgYmVmb3JlIHN1YnNjcmliaW5nIG9yIHVwZGF0aW5nIG9wdGlvbnNcbiAgZGVmYXVsdGVkT3B0aW9ucy5fb3B0aW1pc3RpY1Jlc3VsdHMgPSBpc1Jlc3RvcmluZ1xuICAgID8gJ2lzUmVzdG9yaW5nJ1xuICAgIDogJ29wdGltaXN0aWMnXG5cbiAgZW5zdXJlU3VzcGVuc2VUaW1lcnMoZGVmYXVsdGVkT3B0aW9ucylcbiAgZW5zdXJlUHJldmVudEVycm9yQm91bmRhcnlSZXRyeShkZWZhdWx0ZWRPcHRpb25zLCBlcnJvclJlc2V0Qm91bmRhcnkpXG5cbiAgdXNlQ2xlYXJSZXNldEVycm9yQm91bmRhcnkoZXJyb3JSZXNldEJvdW5kYXJ5KVxuXG4gIC8vIHRoaXMgbmVlZHMgdG8gYmUgaW52b2tlZCBiZWZvcmUgY3JlYXRpbmcgdGhlIE9ic2VydmVyIGJlY2F1c2UgdGhhdCBjYW4gY3JlYXRlIGEgY2FjaGUgZW50cnlcbiAgY29uc3QgaXNOZXdDYWNoZUVudHJ5ID0gIWNsaWVudFxuICAgIC5nZXRRdWVyeUNhY2hlKClcbiAgICAuZ2V0KGRlZmF1bHRlZE9wdGlvbnMucXVlcnlIYXNoKVxuXG4gIGNvbnN0IFtvYnNlcnZlcl0gPSBSZWFjdC51c2VTdGF0ZShcbiAgICAoKSA9PlxuICAgICAgbmV3IE9ic2VydmVyPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5RGF0YSwgVFF1ZXJ5S2V5PihcbiAgICAgICAgY2xpZW50LFxuICAgICAgICBkZWZhdWx0ZWRPcHRpb25zLFxuICAgICAgKSxcbiAgKVxuXG4gIC8vIG5vdGU6IHRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHVzZVN5bmNFeHRlcm5hbFN0b3JlXG4gIGNvbnN0IHJlc3VsdCA9IG9ic2VydmVyLmdldE9wdGltaXN0aWNSZXN1bHQoZGVmYXVsdGVkT3B0aW9ucylcblxuICBjb25zdCBzaG91bGRTdWJzY3JpYmUgPSAhaXNSZXN0b3JpbmcgJiYgb3B0aW9ucy5zdWJzY3JpYmVkICE9PSBmYWxzZVxuICBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgIChvblN0b3JlQ2hhbmdlKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc2hvdWxkU3Vic2NyaWJlXG4gICAgICAgICAgPyBvYnNlcnZlci5zdWJzY3JpYmUobm90aWZ5TWFuYWdlci5iYXRjaENhbGxzKG9uU3RvcmVDaGFuZ2UpKVxuICAgICAgICAgIDogbm9vcFxuXG4gICAgICAgIC8vIFVwZGF0ZSByZXN1bHQgdG8gbWFrZSBzdXJlIHdlIGRpZCBub3QgbWlzcyBhbnkgcXVlcnkgdXBkYXRlc1xuICAgICAgICAvLyBiZXR3ZWVuIGNyZWF0aW5nIHRoZSBvYnNlcnZlciBhbmQgc3Vic2NyaWJpbmcgdG8gaXQuXG4gICAgICAgIG9ic2VydmVyLnVwZGF0ZVJlc3VsdCgpXG5cbiAgICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlXG4gICAgICB9LFxuICAgICAgW29ic2VydmVyLCBzaG91bGRTdWJzY3JpYmVdLFxuICAgICksXG4gICAgKCkgPT4gb2JzZXJ2ZXIuZ2V0Q3VycmVudFJlc3VsdCgpLFxuICAgICgpID0+IG9ic2VydmVyLmdldEN1cnJlbnRSZXN1bHQoKSxcbiAgKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb2JzZXJ2ZXIuc2V0T3B0aW9ucyhkZWZhdWx0ZWRPcHRpb25zKVxuICB9LCBbZGVmYXVsdGVkT3B0aW9ucywgb2JzZXJ2ZXJdKVxuXG4gIC8vIEhhbmRsZSBzdXNwZW5zZVxuICBpZiAoc2hvdWxkU3VzcGVuZChkZWZhdWx0ZWRPcHRpb25zLCByZXN1bHQpKSB7XG4gICAgdGhyb3cgZmV0Y2hPcHRpbWlzdGljKGRlZmF1bHRlZE9wdGlvbnMsIG9ic2VydmVyLCBlcnJvclJlc2V0Qm91bmRhcnkpXG4gIH1cblxuICAvLyBIYW5kbGUgZXJyb3IgYm91bmRhcnlcbiAgaWYgKFxuICAgIGdldEhhc0Vycm9yKHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIGVycm9yUmVzZXRCb3VuZGFyeSxcbiAgICAgIHRocm93T25FcnJvcjogZGVmYXVsdGVkT3B0aW9ucy50aHJvd09uRXJyb3IsXG4gICAgICBxdWVyeTogY2xpZW50XG4gICAgICAgIC5nZXRRdWVyeUNhY2hlKClcbiAgICAgICAgLmdldDxcbiAgICAgICAgICBUUXVlcnlGbkRhdGEsXG4gICAgICAgICAgVEVycm9yLFxuICAgICAgICAgIFRRdWVyeURhdGEsXG4gICAgICAgICAgVFF1ZXJ5S2V5XG4gICAgICAgID4oZGVmYXVsdGVkT3B0aW9ucy5xdWVyeUhhc2gpLFxuICAgICAgc3VzcGVuc2U6IGRlZmF1bHRlZE9wdGlvbnMuc3VzcGVuc2UsXG4gICAgfSlcbiAgKSB7XG4gICAgdGhyb3cgcmVzdWx0LmVycm9yXG4gIH1cblxuICA7KGNsaWVudC5nZXREZWZhdWx0T3B0aW9ucygpLnF1ZXJpZXMgYXMgYW55KT8uX2V4cGVyaW1lbnRhbF9hZnRlclF1ZXJ5Py4oXG4gICAgZGVmYXVsdGVkT3B0aW9ucyxcbiAgICByZXN1bHQsXG4gIClcblxuICBpZiAoXG4gICAgZGVmYXVsdGVkT3B0aW9ucy5leHBlcmltZW50YWxfcHJlZmV0Y2hJblJlbmRlciAmJlxuICAgICFpc1NlcnZlciAmJlxuICAgIHdpbGxGZXRjaChyZXN1bHQsIGlzUmVzdG9yaW5nKVxuICApIHtcbiAgICBjb25zdCBwcm9taXNlID0gaXNOZXdDYWNoZUVudHJ5XG4gICAgICA/IC8vIEZldGNoIGltbWVkaWF0ZWx5IG9uIHJlbmRlciBpbiBvcmRlciB0byBlbnN1cmUgYC5wcm9taXNlYCBpcyByZXNvbHZlZCBldmVuIGlmIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkXG4gICAgICAgIGZldGNoT3B0aW1pc3RpYyhkZWZhdWx0ZWRPcHRpb25zLCBvYnNlcnZlciwgZXJyb3JSZXNldEJvdW5kYXJ5KVxuICAgICAgOiAvLyBzdWJzY3JpYmUgdG8gdGhlIFwiY2FjaGUgcHJvbWlzZVwiIHNvIHRoYXQgd2UgY2FuIGZpbmFsaXplIHRoZSBjdXJyZW50VGhlbmFibGUgb25jZSBkYXRhIGNvbWVzIGluXG4gICAgICAgIGNsaWVudC5nZXRRdWVyeUNhY2hlKCkuZ2V0KGRlZmF1bHRlZE9wdGlvbnMucXVlcnlIYXNoKT8ucHJvbWlzZVxuXG4gICAgcHJvbWlzZT8uY2F0Y2gobm9vcCkuZmluYWxseSgoKSA9PiB7XG4gICAgICAvLyBgLnVwZGF0ZVJlc3VsdCgpYCB3aWxsIHRyaWdnZXIgYC4jY3VycmVudFRoZW5hYmxlYCB0byBmaW5hbGl6ZVxuICAgICAgb2JzZXJ2ZXIudXBkYXRlUmVzdWx0KClcbiAgICB9KVxuICB9XG5cbiAgLy8gSGFuZGxlIHJlc3VsdCBwcm9wZXJ0eSB1c2FnZSB0cmFja2luZ1xuICByZXR1cm4gIWRlZmF1bHRlZE9wdGlvbnMubm90aWZ5T25DaGFuZ2VQcm9wc1xuICAgID8gb2JzZXJ2ZXIudHJhY2tSZXN1bHQocmVzdWx0KVxuICAgIDogcmVzdWx0XG59XG4iLCAiJ3VzZSBjbGllbnQnXG5pbXBvcnQgeyBRdWVyeU9ic2VydmVyIH0gZnJvbSAnQHRhbnN0YWNrL3F1ZXJ5LWNvcmUnXG5pbXBvcnQgeyB1c2VCYXNlUXVlcnkgfSBmcm9tICcuL3VzZUJhc2VRdWVyeSdcbmltcG9ydCB0eXBlIHsgRGVmYXVsdEVycm9yLCBRdWVyeUNsaWVudCwgUXVlcnlLZXkgfSBmcm9tICdAdGFuc3RhY2svcXVlcnktY29yZSdcbmltcG9ydCB0eXBlIHtcbiAgRGVmaW5lZFVzZVF1ZXJ5UmVzdWx0LFxuICBVc2VRdWVyeU9wdGlvbnMsXG4gIFVzZVF1ZXJ5UmVzdWx0LFxufSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHR5cGUge1xuICBEZWZpbmVkSW5pdGlhbERhdGFPcHRpb25zLFxuICBVbmRlZmluZWRJbml0aWFsRGF0YU9wdGlvbnMsXG59IGZyb20gJy4vcXVlcnlPcHRpb25zJ1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcnk8XG4gIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgVERhdGEgPSBUUXVlcnlGbkRhdGEsXG4gIFRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4+KFxuICBvcHRpb25zOiBEZWZpbmVkSW5pdGlhbERhdGFPcHRpb25zPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5S2V5PixcbiAgcXVlcnlDbGllbnQ/OiBRdWVyeUNsaWVudCxcbik6IERlZmluZWRVc2VRdWVyeVJlc3VsdDxURGF0YSwgVEVycm9yPlxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcnk8XG4gIFRRdWVyeUZuRGF0YSA9IHVua25vd24sXG4gIFRFcnJvciA9IERlZmF1bHRFcnJvcixcbiAgVERhdGEgPSBUUXVlcnlGbkRhdGEsXG4gIFRRdWVyeUtleSBleHRlbmRzIFF1ZXJ5S2V5ID0gUXVlcnlLZXksXG4+KFxuICBvcHRpb25zOiBVbmRlZmluZWRJbml0aWFsRGF0YU9wdGlvbnM8VFF1ZXJ5Rm5EYXRhLCBURXJyb3IsIFREYXRhLCBUUXVlcnlLZXk+LFxuICBxdWVyeUNsaWVudD86IFF1ZXJ5Q2xpZW50LFxuKTogVXNlUXVlcnlSZXN1bHQ8VERhdGEsIFRFcnJvcj5cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJ5PFxuICBUUXVlcnlGbkRhdGEgPSB1bmtub3duLFxuICBURXJyb3IgPSBEZWZhdWx0RXJyb3IsXG4gIFREYXRhID0gVFF1ZXJ5Rm5EYXRhLFxuICBUUXVlcnlLZXkgZXh0ZW5kcyBRdWVyeUtleSA9IFF1ZXJ5S2V5LFxuPihcbiAgb3B0aW9uczogVXNlUXVlcnlPcHRpb25zPFRRdWVyeUZuRGF0YSwgVEVycm9yLCBURGF0YSwgVFF1ZXJ5S2V5PixcbiAgcXVlcnlDbGllbnQ/OiBRdWVyeUNsaWVudCxcbik6IFVzZVF1ZXJ5UmVzdWx0PFREYXRhLCBURXJyb3I+XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyeShvcHRpb25zOiBVc2VRdWVyeU9wdGlvbnMsIHF1ZXJ5Q2xpZW50PzogUXVlcnlDbGllbnQpIHtcbiAgcmV0dXJuIHVzZUJhc2VRdWVyeShvcHRpb25zLCBRdWVyeU9ic2VydmVyLCBxdWVyeUNsaWVudClcbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1jb21waWxlci9yZWFjdC1jb21waWxlciAqL1xuXG4ndXNlIGNsaWVudCdcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBub3RpZnlNYW5hZ2VyLCByZXBsYWNlRXF1YWxEZWVwIH0gZnJvbSAnQHRhbnN0YWNrL3F1ZXJ5LWNvcmUnXG5pbXBvcnQgeyB1c2VRdWVyeUNsaWVudCB9IGZyb20gJy4vUXVlcnlDbGllbnRQcm92aWRlcidcbmltcG9ydCB0eXBlIHtcbiAgTXV0YXRpb24sXG4gIE11dGF0aW9uQ2FjaGUsXG4gIE11dGF0aW9uRmlsdGVycyxcbiAgTXV0YXRpb25TdGF0ZSxcbiAgUXVlcnlDbGllbnQsXG59IGZyb20gJ0B0YW5zdGFjay9xdWVyeS1jb3JlJ1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlSXNNdXRhdGluZyhcbiAgZmlsdGVycz86IE11dGF0aW9uRmlsdGVycyxcbiAgcXVlcnlDbGllbnQ/OiBRdWVyeUNsaWVudCxcbik6IG51bWJlciB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KHF1ZXJ5Q2xpZW50KVxuICByZXR1cm4gdXNlTXV0YXRpb25TdGF0ZShcbiAgICB7IGZpbHRlcnM6IHsgLi4uZmlsdGVycywgc3RhdHVzOiAncGVuZGluZycgfSB9LFxuICAgIGNsaWVudCxcbiAgKS5sZW5ndGhcbn1cblxudHlwZSBNdXRhdGlvblN0YXRlT3B0aW9uczxUUmVzdWx0ID0gTXV0YXRpb25TdGF0ZT4gPSB7XG4gIGZpbHRlcnM/OiBNdXRhdGlvbkZpbHRlcnNcbiAgc2VsZWN0PzogKG11dGF0aW9uOiBNdXRhdGlvbikgPT4gVFJlc3VsdFxufVxuXG5mdW5jdGlvbiBnZXRSZXN1bHQ8VFJlc3VsdCA9IE11dGF0aW9uU3RhdGU+KFxuICBtdXRhdGlvbkNhY2hlOiBNdXRhdGlvbkNhY2hlLFxuICBvcHRpb25zOiBNdXRhdGlvblN0YXRlT3B0aW9uczxUUmVzdWx0Pixcbik6IEFycmF5PFRSZXN1bHQ+IHtcbiAgcmV0dXJuIG11dGF0aW9uQ2FjaGVcbiAgICAuZmluZEFsbChvcHRpb25zLmZpbHRlcnMpXG4gICAgLm1hcChcbiAgICAgIChtdXRhdGlvbik6IFRSZXN1bHQgPT5cbiAgICAgICAgKG9wdGlvbnMuc2VsZWN0ID8gb3B0aW9ucy5zZWxlY3QobXV0YXRpb24pIDogbXV0YXRpb24uc3RhdGUpIGFzIFRSZXN1bHQsXG4gICAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTXV0YXRpb25TdGF0ZTxUUmVzdWx0ID0gTXV0YXRpb25TdGF0ZT4oXG4gIG9wdGlvbnM6IE11dGF0aW9uU3RhdGVPcHRpb25zPFRSZXN1bHQ+ID0ge30sXG4gIHF1ZXJ5Q2xpZW50PzogUXVlcnlDbGllbnQsXG4pOiBBcnJheTxUUmVzdWx0PiB7XG4gIGNvbnN0IG11dGF0aW9uQ2FjaGUgPSB1c2VRdWVyeUNsaWVudChxdWVyeUNsaWVudCkuZ2V0TXV0YXRpb25DYWNoZSgpXG4gIGNvbnN0IG9wdGlvbnNSZWYgPSBSZWFjdC51c2VSZWYob3B0aW9ucylcbiAgY29uc3QgcmVzdWx0ID0gUmVhY3QudXNlUmVmPEFycmF5PFRSZXN1bHQ+PihudWxsKVxuICBpZiAoIXJlc3VsdC5jdXJyZW50KSB7XG4gICAgcmVzdWx0LmN1cnJlbnQgPSBnZXRSZXN1bHQobXV0YXRpb25DYWNoZSwgb3B0aW9ucylcbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb3B0aW9uc1JlZi5jdXJyZW50ID0gb3B0aW9uc1xuICB9KVxuXG4gIHJldHVybiBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgIChvblN0b3JlQ2hhbmdlKSA9PlxuICAgICAgICBtdXRhdGlvbkNhY2hlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IHJlcGxhY2VFcXVhbERlZXAoXG4gICAgICAgICAgICByZXN1bHQuY3VycmVudCxcbiAgICAgICAgICAgIGdldFJlc3VsdChtdXRhdGlvbkNhY2hlLCBvcHRpb25zUmVmLmN1cnJlbnQpLFxuICAgICAgICAgIClcbiAgICAgICAgICBpZiAocmVzdWx0LmN1cnJlbnQgIT09IG5leHRSZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5jdXJyZW50ID0gbmV4dFJlc3VsdFxuICAgICAgICAgICAgbm90aWZ5TWFuYWdlci5zY2hlZHVsZShvblN0b3JlQ2hhbmdlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICBbbXV0YXRpb25DYWNoZV0sXG4gICAgKSxcbiAgICAoKSA9PiByZXN1bHQuY3VycmVudCxcbiAgICAoKSA9PiByZXN1bHQuY3VycmVudCxcbiAgKSFcbn1cbiIsICIndXNlIGNsaWVudCdcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTXV0YXRpb25PYnNlcnZlciwgbm90aWZ5TWFuYWdlciB9IGZyb20gJ0B0YW5zdGFjay9xdWVyeS1jb3JlJ1xuaW1wb3J0IHsgdXNlUXVlcnlDbGllbnQgfSBmcm9tICcuL1F1ZXJ5Q2xpZW50UHJvdmlkZXInXG5pbXBvcnQgeyBub29wLCBzaG91bGRUaHJvd0Vycm9yIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB0eXBlIHtcbiAgVXNlTXV0YXRlRnVuY3Rpb24sXG4gIFVzZU11dGF0aW9uT3B0aW9ucyxcbiAgVXNlTXV0YXRpb25SZXN1bHQsXG59IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IERlZmF1bHRFcnJvciwgUXVlcnlDbGllbnQgfSBmcm9tICdAdGFuc3RhY2svcXVlcnktY29yZSdcblxuLy8gSE9PS1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTXV0YXRpb248XG4gIFREYXRhID0gdW5rbm93bixcbiAgVEVycm9yID0gRGVmYXVsdEVycm9yLFxuICBUVmFyaWFibGVzID0gdm9pZCxcbiAgVENvbnRleHQgPSB1bmtub3duLFxuPihcbiAgb3B0aW9uczogVXNlTXV0YXRpb25PcHRpb25zPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PixcbiAgcXVlcnlDbGllbnQ/OiBRdWVyeUNsaWVudCxcbik6IFVzZU11dGF0aW9uUmVzdWx0PFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PiB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KHF1ZXJ5Q2xpZW50KVxuXG4gIGNvbnN0IFtvYnNlcnZlcl0gPSBSZWFjdC51c2VTdGF0ZShcbiAgICAoKSA9PlxuICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXI8VERhdGEsIFRFcnJvciwgVFZhcmlhYmxlcywgVENvbnRleHQ+KFxuICAgICAgICBjbGllbnQsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApLFxuICApXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBvYnNlcnZlci5zZXRPcHRpb25zKG9wdGlvbnMpXG4gIH0sIFtvYnNlcnZlciwgb3B0aW9uc10pXG5cbiAgY29uc3QgcmVzdWx0ID0gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAob25TdG9yZUNoYW5nZSkgPT5cbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKG5vdGlmeU1hbmFnZXIuYmF0Y2hDYWxscyhvblN0b3JlQ2hhbmdlKSksXG4gICAgICBbb2JzZXJ2ZXJdLFxuICAgICksXG4gICAgKCkgPT4gb2JzZXJ2ZXIuZ2V0Q3VycmVudFJlc3VsdCgpLFxuICAgICgpID0+IG9ic2VydmVyLmdldEN1cnJlbnRSZXN1bHQoKSxcbiAgKVxuXG4gIGNvbnN0IG11dGF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrPFxuICAgIFVzZU11dGF0ZUZ1bmN0aW9uPFREYXRhLCBURXJyb3IsIFRWYXJpYWJsZXMsIFRDb250ZXh0PlxuICA+KFxuICAgICh2YXJpYWJsZXMsIG11dGF0ZU9wdGlvbnMpID0+IHtcbiAgICAgIG9ic2VydmVyLm11dGF0ZSh2YXJpYWJsZXMsIG11dGF0ZU9wdGlvbnMpLmNhdGNoKG5vb3ApXG4gICAgfSxcbiAgICBbb2JzZXJ2ZXJdLFxuICApXG5cbiAgaWYgKFxuICAgIHJlc3VsdC5lcnJvciAmJlxuICAgIHNob3VsZFRocm93RXJyb3Iob2JzZXJ2ZXIub3B0aW9ucy50aHJvd09uRXJyb3IsIFtyZXN1bHQuZXJyb3JdKVxuICApIHtcbiAgICB0aHJvdyByZXN1bHQuZXJyb3JcbiAgfVxuXG4gIHJldHVybiB7IC4uLnJlc3VsdCwgbXV0YXRlLCBtdXRhdGVBc3luYzogcmVzdWx0Lm11dGF0ZSB9XG59XG4iLCAiJ3VzZSBjbGllbnQnO1xuZnVuY3Rpb24gX19pbnNlcnRDU1MoY29kZSkge1xuICBpZiAoIWNvZGUgfHwgdHlwZW9mIGRvY3VtZW50ID09ICd1bmRlZmluZWQnKSByZXR1cm5cbiAgbGV0IGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF1cbiAgbGV0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJ1xuICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKVxuICA7c3R5bGUuc3R5bGVTaGVldCA/IChzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjb2RlKSA6IHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvZGUpKVxufVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmNvbnN0IGdldEFzc2V0ID0gKHR5cGUpPT57XG4gICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgICAgICAgIHJldHVybiBTdWNjZXNzSWNvbjtcbiAgICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgICAgICByZXR1cm4gSW5mb0ljb247XG4gICAgICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgICAgICAgcmV0dXJuIFdhcm5pbmdJY29uO1xuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICByZXR1cm4gRXJyb3JJY29uO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufTtcbmNvbnN0IGJhcnMgPSBBcnJheSgxMikuZmlsbCgwKTtcbmNvbnN0IExvYWRlciA9ICh7IHZpc2libGUsIGNsYXNzTmFtZSB9KT0+e1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFtcbiAgICAgICAgICAgICdzb25uZXItbG9hZGluZy13cmFwcGVyJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICBdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyksXG4gICAgICAgIFwiZGF0YS12aXNpYmxlXCI6IHZpc2libGVcbiAgICB9LCAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwic29ubmVyLXNwaW5uZXJcIlxuICAgIH0sIGJhcnMubWFwKChfLCBpKT0+LyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzb25uZXItbG9hZGluZy1iYXJcIixcbiAgICAgICAgICAgIGtleTogYHNwaW5uZXItYmFyLSR7aX1gXG4gICAgICAgIH0pKSkpO1xufTtcbmNvbnN0IFN1Y2Nlc3NJY29uID0gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDIwIDIwXCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBoZWlnaHQ6IFwiMjBcIixcbiAgICB3aWR0aDogXCIyMFwiXG59LCAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTAgMThhOCA4IDAgMTAwLTE2IDggOCAwIDAwMCAxNnptMy44NTctOS44MDlhLjc1Ljc1IDAgMDAtMS4yMTQtLjg4MmwtMy40ODMgNC43OS0xLjg4LTEuODhhLjc1Ljc1IDAgMTAtMS4wNiAxLjA2MWwyLjUgMi41YS43NS43NSAwIDAwMS4xMzctLjA4OWw0LTUuNXpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbn0pKTtcbmNvbnN0IFdhcm5pbmdJY29uID0gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBoZWlnaHQ6IFwiMjBcIixcbiAgICB3aWR0aDogXCIyMFwiXG59LCAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNOS40MDEgMy4wMDNjMS4xNTUtMiA0LjA0My0yIDUuMTk3IDBsNy4zNTUgMTIuNzQ4YzEuMTU0IDItLjI5IDQuNS0yLjU5OSA0LjVINC42NDVjLTIuMzA5IDAtMy43NTItMi41LTIuNTk4LTQuNUw5LjQgMy4wMDN6TTEyIDguMjVhLjc1Ljc1IDAgMDEuNzUuNzV2My43NWEuNzUuNzUgMCAwMS0xLjUgMFY5YS43NS43NSAwIDAxLjc1LS43NXptMCA4LjI1YS43NS43NSAwIDEwMC0xLjUuNzUuNzUgMCAwMDAgMS41elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxufSkpO1xuY29uc3QgSW5mb0ljb24gPSAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjAgMjBcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGhlaWdodDogXCIyMFwiLFxuICAgIHdpZHRoOiBcIjIwXCJcbn0sIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xOCAxMGE4IDggMCAxMS0xNiAwIDggOCAwIDAxMTYgMHptLTctNGExIDEgMCAxMS0yIDAgMSAxIDAgMDEyIDB6TTkgOWEuNzUuNzUgMCAwMDAgMS41aC4yNTNhLjI1LjI1IDAgMDEuMjQ0LjMwNGwtLjQ1OSAyLjA2NkExLjc1IDEuNzUgMCAwMDEwLjc0NyAxNUgxMWEuNzUuNzUgMCAwMDAtMS41aC0uMjUzYS4yNS4yNSAwIDAxLS4yNDQtLjMwNGwuNDU5LTIuMDY2QTEuNzUgMS43NSAwIDAwOS4yNTMgOUg5elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxufSkpO1xuY29uc3QgRXJyb3JJY29uID0gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDIwIDIwXCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBoZWlnaHQ6IFwiMjBcIixcbiAgICB3aWR0aDogXCIyMFwiXG59LCAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTggMTBhOCA4IDAgMTEtMTYgMCA4IDggMCAwMTE2IDB6bS04LTVhLjc1Ljc1IDAgMDEuNzUuNzV2NC41YS43NS43NSAwIDAxLTEuNSAwdi00LjVBLjc1Ljc1IDAgMDExMCA1em0wIDEwYTEgMSAwIDEwMC0yIDEgMSAwIDAwMCAyelwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxufSkpO1xuY29uc3QgQ2xvc2VJY29uID0gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiBcIjEyXCIsXG4gICAgaGVpZ2h0OiBcIjEyXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMS41XCIsXG4gICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbn0sIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImxpbmVcIiwge1xuICAgIHgxOiBcIjE4XCIsXG4gICAgeTE6IFwiNlwiLFxuICAgIHgyOiBcIjZcIixcbiAgICB5MjogXCIxOFwiXG59KSwgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGluZVwiLCB7XG4gICAgeDE6IFwiNlwiLFxuICAgIHkxOiBcIjZcIixcbiAgICB4MjogXCIxOFwiLFxuICAgIHkyOiBcIjE4XCJcbn0pKTtcblxuY29uc3QgdXNlSXNEb2N1bWVudEhpZGRlbiA9ICgpPT57XG4gICAgY29uc3QgW2lzRG9jdW1lbnRIaWRkZW4sIHNldElzRG9jdW1lbnRIaWRkZW5dID0gUmVhY3QudXNlU3RhdGUoZG9jdW1lbnQuaGlkZGVuKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKT0+e1xuICAgICAgICAgICAgc2V0SXNEb2N1bWVudEhpZGRlbihkb2N1bWVudC5oaWRkZW4pO1xuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCk9PndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgY2FsbGJhY2spO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gaXNEb2N1bWVudEhpZGRlbjtcbn07XG5cbmxldCB0b2FzdHNDb3VudGVyID0gMTtcbmNsYXNzIE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICAvLyBXZSB1c2UgYXJyb3cgZnVuY3Rpb25zIHRvIG1haW50YWluIHRoZSBjb3JyZWN0IGB0aGlzYCByZWZlcmVuY2VcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUgPSAoc3Vic2NyaWJlcik9PntcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zdWJzY3JpYmVycy5pbmRleE9mKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHVibGlzaCA9IChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5mb3JFYWNoKChzdWJzY3JpYmVyKT0+c3Vic2NyaWJlcihkYXRhKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkVG9hc3QgPSAoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMucHVibGlzaChkYXRhKTtcbiAgICAgICAgICAgIHRoaXMudG9hc3RzID0gW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMudG9hc3RzLFxuICAgICAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICAgIF07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JlYXRlID0gKGRhdGEpPT57XG4gICAgICAgICAgICB2YXIgX2RhdGFfaWQ7XG4gICAgICAgICAgICBjb25zdCB7IG1lc3NhZ2UsIC4uLnJlc3QgfSA9IGRhdGE7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHR5cGVvZiAoZGF0YSA9PSBudWxsID8gdm9pZCAwIDogZGF0YS5pZCkgPT09ICdudW1iZXInIHx8ICgoX2RhdGFfaWQgPSBkYXRhLmlkKSA9PSBudWxsID8gdm9pZCAwIDogX2RhdGFfaWQubGVuZ3RoKSA+IDAgPyBkYXRhLmlkIDogdG9hc3RzQ291bnRlcisrO1xuICAgICAgICAgICAgY29uc3QgYWxyZWFkeUV4aXN0cyA9IHRoaXMudG9hc3RzLmZpbmQoKHRvYXN0KT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdC5pZCA9PT0gaWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGRpc21pc3NpYmxlID0gZGF0YS5kaXNtaXNzaWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGRhdGEuZGlzbWlzc2libGU7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNtaXNzZWRUb2FzdHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzbWlzc2VkVG9hc3RzLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWxyZWFkeUV4aXN0cykge1xuICAgICAgICAgICAgICAgIHRoaXMudG9hc3RzID0gdGhpcy50b2FzdHMubWFwKCh0b2FzdCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvYXN0LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9hc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNtaXNzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3Q7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGUsXG4gICAgICAgICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGlzbWlzcyA9IChpZCk9PntcbiAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzbWlzc2VkVG9hc3RzLmFkZChpZCk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT50aGlzLnN1YnNjcmliZXJzLmZvckVhY2goKHN1YnNjcmliZXIpPT5zdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNtaXNzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvYXN0cy5mb3JFYWNoKCh0b2FzdCk9PntcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5mb3JFYWNoKChzdWJzY3JpYmVyKT0+c3Vic2NyaWJlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRvYXN0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc21pc3M6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gKG1lc3NhZ2UsIGRhdGEpPT57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZXJyb3IgPSAobWVzc2FnZSwgZGF0YSk9PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN1Y2Nlc3MgPSAobWVzc2FnZSwgZGF0YSk9PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5mbyA9IChtZXNzYWdlLCBkYXRhKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53YXJuaW5nID0gKG1lc3NhZ2UsIGRhdGEpPT57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSAobWVzc2FnZSwgZGF0YSk9PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IChwcm9taXNlLCBkYXRhKT0+e1xuICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyB0byBzaG93XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGlkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGRhdGEubG9hZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5sb2FkaW5nLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdHlwZW9mIGRhdGEuZGVzY3JpcHRpb24gIT09ICdmdW5jdGlvbicgPyBkYXRhLmRlc2NyaXB0aW9uIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwID0gUHJvbWlzZS5yZXNvbHZlKHByb21pc2UgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHByb21pc2UoKSA6IHByb21pc2UpO1xuICAgICAgICAgICAgbGV0IHNob3VsZERpc21pc3MgPSBpZCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJvbWlzZSA9IHAudGhlbihhc3luYyAocmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgICAgICAncmVzb2x2ZScsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1JlYWN0RWxlbWVudFJlc3BvbnNlID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpc1JlYWN0RWxlbWVudFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZERpc21pc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzSHR0cFJlc3BvbnNlKHJlc3BvbnNlKSAmJiAhcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkRGlzbWlzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlRGF0YSA9IHR5cGVvZiBkYXRhLmVycm9yID09PSAnZnVuY3Rpb24nID8gYXdhaXQgZGF0YS5lcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKSA6IGRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdHlwZW9mIGRhdGEuZGVzY3JpcHRpb24gPT09ICdmdW5jdGlvbicgPyBhd2FpdCBkYXRhLmRlc2NyaXB0aW9uKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApIDogZGF0YS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNFeHRlbmRlZFJlc3VsdCA9IHR5cGVvZiBwcm9taXNlRGF0YSA9PT0gJ29iamVjdCcgJiYgIVJlYWN0LmlzVmFsaWRFbGVtZW50KHByb21pc2VEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9hc3RTZXR0aW5ncyA9IGlzRXh0ZW5kZWRSZXN1bHQgPyBwcm9taXNlRGF0YSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHByb21pc2VEYXRhXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9hc3RTZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkRGlzbWlzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlRGF0YSA9IHR5cGVvZiBkYXRhLmVycm9yID09PSAnZnVuY3Rpb24nID8gYXdhaXQgZGF0YS5lcnJvcihyZXNwb25zZSkgOiBkYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHR5cGVvZiBkYXRhLmRlc2NyaXB0aW9uID09PSAnZnVuY3Rpb24nID8gYXdhaXQgZGF0YS5kZXNjcmlwdGlvbihyZXNwb25zZSkgOiBkYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0V4dGVuZGVkUmVzdWx0ID0gdHlwZW9mIHByb21pc2VEYXRhID09PSAnb2JqZWN0JyAmJiAhUmVhY3QuaXNWYWxpZEVsZW1lbnQocHJvbWlzZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2FzdFNldHRpbmdzID0gaXNFeHRlbmRlZFJlc3VsdCA/IHByb21pc2VEYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcHJvbWlzZURhdGFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdFNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkRGlzbWlzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlRGF0YSA9IHR5cGVvZiBkYXRhLnN1Y2Nlc3MgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBkYXRhLnN1Y2Nlc3MocmVzcG9uc2UpIDogZGF0YS5zdWNjZXNzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHR5cGVvZiBkYXRhLmRlc2NyaXB0aW9uID09PSAnZnVuY3Rpb24nID8gYXdhaXQgZGF0YS5kZXNjcmlwdGlvbihyZXNwb25zZSkgOiBkYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0V4dGVuZGVkUmVzdWx0ID0gdHlwZW9mIHByb21pc2VEYXRhID09PSAnb2JqZWN0JyAmJiAhUmVhY3QuaXNWYWxpZEVsZW1lbnQocHJvbWlzZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2FzdFNldHRpbmdzID0gaXNFeHRlbmRlZFJlc3VsdCA/IHByb21pc2VEYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcHJvbWlzZURhdGFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0U2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goYXN5bmMgKGVycm9yKT0+e1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtcbiAgICAgICAgICAgICAgICAgICAgJ3JlamVjdCcsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5lcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZERpc21pc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZURhdGEgPSB0eXBlb2YgZGF0YS5lcnJvciA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IGRhdGEuZXJyb3IoZXJyb3IpIDogZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB0eXBlb2YgZGF0YS5kZXNjcmlwdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IGRhdGEuZGVzY3JpcHRpb24oZXJyb3IpIDogZGF0YS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNFeHRlbmRlZFJlc3VsdCA9IHR5cGVvZiBwcm9taXNlRGF0YSA9PT0gJ29iamVjdCcgJiYgIVJlYWN0LmlzVmFsaWRFbGVtZW50KHByb21pc2VEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9hc3RTZXR0aW5ncyA9IGlzRXh0ZW5kZWRSZXN1bHQgPyBwcm9taXNlRGF0YSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHByb21pc2VEYXRhXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9hc3RTZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZERpc21pc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9hc3QgaXMgc3RpbGwgaW4gbG9hZCBzdGF0ZSAoYW5kIHdpbGwgYmUgaW5kZWZpbml0ZWx5IFx1MjAxNCBkaXNtaXNzIGl0KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc21pc3MoaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YS5maW5hbGx5ID09IG51bGwgPyB2b2lkIDAgOiBkYXRhLmZpbmFsbHkuY2FsbChkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdW53cmFwID0gKCk9Pm5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT5vcmlnaW5hbFByb21pc2UudGhlbigoKT0+cmVzdWx0WzBdID09PSAncmVqZWN0JyA/IHJlamVjdChyZXN1bHRbMV0pIDogcmVzb2x2ZShyZXN1bHRbMV0pKS5jYXRjaChyZWplY3QpKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnICYmIHR5cGVvZiBpZCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW5ub3QgT2JqZWN0LmFzc2lnbiBvbiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1bndyYXBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpZCwge1xuICAgICAgICAgICAgICAgICAgICB1bndyYXBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jdXN0b20gPSAoanN4LCBkYXRhKT0+e1xuICAgICAgICAgICAgY29uc3QgaWQgPSAoZGF0YSA9PSBudWxsID8gdm9pZCAwIDogZGF0YS5pZCkgfHwgdG9hc3RzQ291bnRlcisrO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGpzeDoganN4KGlkKSxcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAuLi5kYXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRBY3RpdmVUb2FzdHMgPSAoKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9hc3RzLmZpbHRlcigodG9hc3QpPT4hdGhpcy5kaXNtaXNzZWRUb2FzdHMuaGFzKHRvYXN0LmlkKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMgPSBbXTtcbiAgICAgICAgdGhpcy50b2FzdHMgPSBbXTtcbiAgICAgICAgdGhpcy5kaXNtaXNzZWRUb2FzdHMgPSBuZXcgU2V0KCk7XG4gICAgfVxufVxuY29uc3QgVG9hc3RTdGF0ZSA9IG5ldyBPYnNlcnZlcigpO1xuLy8gYmluZCB0aGlzIHRvIHRoZSB0b2FzdCBmdW5jdGlvblxuY29uc3QgdG9hc3RGdW5jdGlvbiA9IChtZXNzYWdlLCBkYXRhKT0+e1xuICAgIGNvbnN0IGlkID0gKGRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGRhdGEuaWQpIHx8IHRvYXN0c0NvdW50ZXIrKztcbiAgICBUb2FzdFN0YXRlLmFkZFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IG1lc3NhZ2UsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGlkXG4gICAgfSk7XG4gICAgcmV0dXJuIGlkO1xufTtcbmNvbnN0IGlzSHR0cFJlc3BvbnNlID0gKGRhdGEpPT57XG4gICAgcmV0dXJuIGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmICdvaycgaW4gZGF0YSAmJiB0eXBlb2YgZGF0YS5vayA9PT0gJ2Jvb2xlYW4nICYmICdzdGF0dXMnIGluIGRhdGEgJiYgdHlwZW9mIGRhdGEuc3RhdHVzID09PSAnbnVtYmVyJztcbn07XG5jb25zdCBiYXNpY1RvYXN0ID0gdG9hc3RGdW5jdGlvbjtcbmNvbnN0IGdldEhpc3RvcnkgPSAoKT0+VG9hc3RTdGF0ZS50b2FzdHM7XG5jb25zdCBnZXRUb2FzdHMgPSAoKT0+VG9hc3RTdGF0ZS5nZXRBY3RpdmVUb2FzdHMoKTtcbi8vIFdlIHVzZSBgT2JqZWN0LmFzc2lnbmAgdG8gbWFpbnRhaW4gdGhlIGNvcnJlY3QgdHlwZXMgYXMgd2Ugd291bGQgbG9zZSB0aGVtIG90aGVyd2lzZVxuY29uc3QgdG9hc3QgPSBPYmplY3QuYXNzaWduKGJhc2ljVG9hc3QsIHtcbiAgICBzdWNjZXNzOiBUb2FzdFN0YXRlLnN1Y2Nlc3MsXG4gICAgaW5mbzogVG9hc3RTdGF0ZS5pbmZvLFxuICAgIHdhcm5pbmc6IFRvYXN0U3RhdGUud2FybmluZyxcbiAgICBlcnJvcjogVG9hc3RTdGF0ZS5lcnJvcixcbiAgICBjdXN0b206IFRvYXN0U3RhdGUuY3VzdG9tLFxuICAgIG1lc3NhZ2U6IFRvYXN0U3RhdGUubWVzc2FnZSxcbiAgICBwcm9taXNlOiBUb2FzdFN0YXRlLnByb21pc2UsXG4gICAgZGlzbWlzczogVG9hc3RTdGF0ZS5kaXNtaXNzLFxuICAgIGxvYWRpbmc6IFRvYXN0U3RhdGUubG9hZGluZ1xufSwge1xuICAgIGdldEhpc3RvcnksXG4gICAgZ2V0VG9hc3RzXG59KTtcblxuX19pbnNlcnRDU1MoXCJbZGF0YS1zb25uZXItdG9hc3Rlcl1bZGlyPWx0cl0saHRtbFtkaXI9bHRyXXstLXRvYXN0LWljb24tbWFyZ2luLXN0YXJ0Oi0zcHg7LS10b2FzdC1pY29uLW1hcmdpbi1lbmQ6NHB4Oy0tdG9hc3Qtc3ZnLW1hcmdpbi1zdGFydDotMXB4Oy0tdG9hc3Qtc3ZnLW1hcmdpbi1lbmQ6MHB4Oy0tdG9hc3QtYnV0dG9uLW1hcmdpbi1zdGFydDphdXRvOy0tdG9hc3QtYnV0dG9uLW1hcmdpbi1lbmQ6MDstLXRvYXN0LWNsb3NlLWJ1dHRvbi1zdGFydDowOy0tdG9hc3QtY2xvc2UtYnV0dG9uLWVuZDp1bnNldDstLXRvYXN0LWNsb3NlLWJ1dHRvbi10cmFuc2Zvcm06dHJhbnNsYXRlKC0zNSUsIC0zNSUpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkaXI9cnRsXSxodG1sW2Rpcj1ydGxdey0tdG9hc3QtaWNvbi1tYXJnaW4tc3RhcnQ6NHB4Oy0tdG9hc3QtaWNvbi1tYXJnaW4tZW5kOi0zcHg7LS10b2FzdC1zdmctbWFyZ2luLXN0YXJ0OjBweDstLXRvYXN0LXN2Zy1tYXJnaW4tZW5kOi0xcHg7LS10b2FzdC1idXR0b24tbWFyZ2luLXN0YXJ0OjA7LS10b2FzdC1idXR0b24tbWFyZ2luLWVuZDphdXRvOy0tdG9hc3QtY2xvc2UtYnV0dG9uLXN0YXJ0OnVuc2V0Oy0tdG9hc3QtY2xvc2UtYnV0dG9uLWVuZDowOy0tdG9hc3QtY2xvc2UtYnV0dG9uLXRyYW5zZm9ybTp0cmFuc2xhdGUoMzUlLCAtMzUlKX1bZGF0YS1zb25uZXItdG9hc3Rlcl17cG9zaXRpb246Zml4ZWQ7d2lkdGg6dmFyKC0td2lkdGgpO2ZvbnQtZmFtaWx5OnVpLXNhbnMtc2VyaWYsc3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxIZWx2ZXRpY2EgTmV1ZSxBcmlhbCxOb3RvIFNhbnMsc2Fucy1zZXJpZixBcHBsZSBDb2xvciBFbW9qaSxTZWdvZSBVSSBFbW9qaSxTZWdvZSBVSSBTeW1ib2wsTm90byBDb2xvciBFbW9qaTstLWdyYXkxOmhzbCgwLCAwJSwgOTklKTstLWdyYXkyOmhzbCgwLCAwJSwgOTcuMyUpOy0tZ3JheTM6aHNsKDAsIDAlLCA5NS4xJSk7LS1ncmF5NDpoc2woMCwgMCUsIDkzJSk7LS1ncmF5NTpoc2woMCwgMCUsIDkwLjklKTstLWdyYXk2OmhzbCgwLCAwJSwgODguNyUpOy0tZ3JheTc6aHNsKDAsIDAlLCA4NS44JSk7LS1ncmF5ODpoc2woMCwgMCUsIDc4JSk7LS1ncmF5OTpoc2woMCwgMCUsIDU2LjElKTstLWdyYXkxMDpoc2woMCwgMCUsIDUyLjMlKTstLWdyYXkxMTpoc2woMCwgMCUsIDQzLjUlKTstLWdyYXkxMjpoc2woMCwgMCUsIDklKTstLWJvcmRlci1yYWRpdXM6OHB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjA7bWFyZ2luOjA7bGlzdC1zdHlsZTpub25lO291dGxpbmU6MDt6LWluZGV4Ojk5OTk5OTk5OTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuNHMgZWFzZX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS1saWZ0ZWQ9dHJ1ZV17dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCl9QG1lZGlhIChob3Zlcjpub25lKSBhbmQgKHBvaW50ZXI6Y29hcnNlKXtbZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS1saWZ0ZWQ9dHJ1ZV17dHJhbnNmb3JtOm5vbmV9fVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXgtcG9zaXRpb249cmlnaHRde3JpZ2h0OnZhcigtLW9mZnNldC1yaWdodCl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEteC1wb3NpdGlvbj1sZWZ0XXtsZWZ0OnZhcigtLW9mZnNldC1sZWZ0KX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS14LXBvc2l0aW9uPWNlbnRlcl17bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEteS1wb3NpdGlvbj10b3Bde3RvcDp2YXIoLS1vZmZzZXQtdG9wKX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS15LXBvc2l0aW9uPWJvdHRvbV17Ym90dG9tOnZhcigtLW9mZnNldC1ib3R0b20pfVtkYXRhLXNvbm5lci10b2FzdF17LS15OnRyYW5zbGF0ZVkoMTAwJSk7LS1saWZ0LWFtb3VudDpjYWxjKHZhcigtLWxpZnQpICogdmFyKC0tZ2FwKSk7ei1pbmRleDp2YXIoLS16LWluZGV4KTtwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjA7dHJhbnNmb3JtOnZhcigtLXkpO3RvdWNoLWFjdGlvbjpub25lO3RyYW5zaXRpb246dHJhbnNmb3JtIC40cyxvcGFjaXR5IC40cyxoZWlnaHQgLjRzLGJveC1zaGFkb3cgLjJzO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdXRsaW5lOjA7b3ZlcmZsb3ctd3JhcDphbnl3aGVyZX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVde3BhZGRpbmc6MTZweDtiYWNrZ3JvdW5kOnZhcigtLW5vcm1hbC1iZyk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ub3JtYWwtYm9yZGVyKTtjb2xvcjp2YXIoLS1ub3JtYWwtdGV4dCk7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtib3gtc2hhZG93OjAgNHB4IDEycHggcmdiYSgwLDAsMCwuMSk7d2lkdGg6dmFyKC0td2lkdGgpO2ZvbnQtc2l6ZToxM3B4O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjZweH1bZGF0YS1zb25uZXItdG9hc3RdOmZvY3VzLXZpc2libGV7Ym94LXNoYWRvdzowIDRweCAxMnB4IHJnYmEoMCwwLDAsLjEpLDAgMCAwIDJweCByZ2JhKDAsMCwwLC4yKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEteS1wb3NpdGlvbj10b3Bde3RvcDowOy0teTp0cmFuc2xhdGVZKC0xMDAlKTstLWxpZnQ6MTstLWxpZnQtYW1vdW50OmNhbGMoMSAqIHZhcigtLWdhcCkpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS15LXBvc2l0aW9uPWJvdHRvbV17Ym90dG9tOjA7LS15OnRyYW5zbGF0ZVkoMTAwJSk7LS1saWZ0Oi0xOy0tbGlmdC1hbW91bnQ6Y2FsYyh2YXIoLS1saWZ0KSAqIHZhcigtLWdhcCkpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtZGVzY3JpcHRpb25de2ZvbnQtd2VpZ2h0OjQwMDtsaW5lLWhlaWdodDoxLjQ7Y29sb3I6IzNmM2YzZn1bZGF0YS1yaWNoLWNvbG9ycz10cnVlXVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtZGVzY3JpcHRpb25de2NvbG9yOmluaGVyaXR9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEtc29ubmVyLXRoZW1lPWRhcmtdIFtkYXRhLWRlc2NyaXB0aW9uXXtjb2xvcjojZThlOGU4fVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtdGl0bGVde2ZvbnQtd2VpZ2h0OjUwMDtsaW5lLWhlaWdodDoxLjU7Y29sb3I6aW5oZXJpdH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWljb25de2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O3Bvc2l0aW9uOnJlbGF0aXZlO2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O2FsaWduLWl0ZW1zOmNlbnRlcjtmbGV4LXNocmluazowO21hcmdpbi1sZWZ0OnZhcigtLXRvYXN0LWljb24tbWFyZ2luLXN0YXJ0KTttYXJnaW4tcmlnaHQ6dmFyKC0tdG9hc3QtaWNvbi1tYXJnaW4tZW5kKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtcHJvbWlzZT10cnVlXSBbZGF0YS1pY29uXT5zdmd7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguOCk7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7YW5pbWF0aW9uOnNvbm5lci1mYWRlLWluIC4zcyBlYXNlIGZvcndhcmRzfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtaWNvbl0+KntmbGV4LXNocmluazowfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtaWNvbl0gc3Zne21hcmdpbi1sZWZ0OnZhcigtLXRvYXN0LXN2Zy1tYXJnaW4tc3RhcnQpO21hcmdpbi1yaWdodDp2YXIoLS10b2FzdC1zdmctbWFyZ2luLWVuZCl9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1jb250ZW50XXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2dhcDoycHh9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1idXR0b25de2JvcmRlci1yYWRpdXM6NHB4O3BhZGRpbmctbGVmdDo4cHg7cGFkZGluZy1yaWdodDo4cHg7aGVpZ2h0OjI0cHg7Zm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tbm9ybWFsLWJnKTtiYWNrZ3JvdW5kOnZhcigtLW5vcm1hbC10ZXh0KTttYXJnaW4tbGVmdDp2YXIoLS10b2FzdC1idXR0b24tbWFyZ2luLXN0YXJ0KTttYXJnaW4tcmlnaHQ6dmFyKC0tdG9hc3QtYnV0dG9uLW1hcmdpbi1lbmQpO2JvcmRlcjpub25lO2ZvbnQtd2VpZ2h0OjUwMDtjdXJzb3I6cG9pbnRlcjtvdXRsaW5lOjA7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtmbGV4LXNocmluazowO3RyYW5zaXRpb246b3BhY2l0eSAuNHMsYm94LXNoYWRvdyAuMnN9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1idXR0b25dOmZvY3VzLXZpc2libGV7Ym94LXNoYWRvdzowIDAgMCAycHggcmdiYSgwLDAsMCwuNCl9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1idXR0b25dOmZpcnN0LW9mLXR5cGV7bWFyZ2luLWxlZnQ6dmFyKC0tdG9hc3QtYnV0dG9uLW1hcmdpbi1zdGFydCk7bWFyZ2luLXJpZ2h0OnZhcigtLXRvYXN0LWJ1dHRvbi1tYXJnaW4tZW5kKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWNhbmNlbF17Y29sb3I6dmFyKC0tbm9ybWFsLXRleHQpO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMDgpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXNvbm5lci10aGVtZT1kYXJrXSBbZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWNhbmNlbF17YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC4zKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWNsb3NlLWJ1dHRvbl17cG9zaXRpb246YWJzb2x1dGU7bGVmdDp2YXIoLS10b2FzdC1jbG9zZS1idXR0b24tc3RhcnQpO3JpZ2h0OnZhcigtLXRvYXN0LWNsb3NlLWJ1dHRvbi1lbmQpO3RvcDowO2hlaWdodDoyMHB4O3dpZHRoOjIwcHg7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6MDtjb2xvcjp2YXIoLS1ncmF5MTIpO2JhY2tncm91bmQ6dmFyKC0tbm9ybWFsLWJnKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWdyYXk0KTt0cmFuc2Zvcm06dmFyKC0tdG9hc3QtY2xvc2UtYnV0dG9uLXRyYW5zZm9ybSk7Ym9yZGVyLXJhZGl1czo1MCU7Y3Vyc29yOnBvaW50ZXI7ei1pbmRleDoxO3RyYW5zaXRpb246b3BhY2l0eSAuMXMsYmFja2dyb3VuZCAuMnMsYm9yZGVyLWNvbG9yIC4yc31bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWNsb3NlLWJ1dHRvbl06Zm9jdXMtdmlzaWJsZXtib3gtc2hhZG93OjAgNHB4IDEycHggcmdiYSgwLDAsMCwuMSksMCAwIDAgMnB4IHJnYmEoMCwwLDAsLjIpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtZGlzYWJsZWQ9dHJ1ZV17Y3Vyc29yOm5vdC1hbGxvd2VkfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV06aG92ZXIgW2RhdGEtY2xvc2UtYnV0dG9uXTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWdyYXkyKTtib3JkZXItY29sb3I6dmFyKC0tZ3JheTUpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zd2lwaW5nPXRydWVdOjpiZWZvcmV7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMDAlO3JpZ2h0Oi0xMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6LTF9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXktcG9zaXRpb249dG9wXVtkYXRhLXN3aXBpbmc9dHJ1ZV06OmJlZm9yZXtib3R0b206NTAlO3RyYW5zZm9ybTpzY2FsZVkoMykgdHJhbnNsYXRlWSg1MCUpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS15LXBvc2l0aW9uPWJvdHRvbV1bZGF0YS1zd2lwaW5nPXRydWVdOjpiZWZvcmV7dG9wOjUwJTt0cmFuc2Zvcm06c2NhbGVZKDMpIHRyYW5zbGF0ZVkoLTUwJSl9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN3aXBpbmc9ZmFsc2VdW2RhdGEtcmVtb3ZlZD10cnVlXTo6YmVmb3Jle2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7aW5zZXQ6MDt0cmFuc2Zvcm06c2NhbGVZKDIpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1leHBhbmRlZD10cnVlXTo6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7aGVpZ2h0OmNhbGModmFyKC0tZ2FwKSArIDFweCk7Ym90dG9tOjEwMCU7d2lkdGg6MTAwJX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtbW91bnRlZD10cnVlXXstLXk6dHJhbnNsYXRlWSgwKTtvcGFjaXR5OjF9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLWV4cGFuZGVkPWZhbHNlXVtkYXRhLWZyb250PWZhbHNlXXstLXNjYWxlOnZhcigtLXRvYXN0cy1iZWZvcmUpICogMC4wNSArIDE7LS15OnRyYW5zbGF0ZVkoY2FsYyh2YXIoLS1saWZ0LWFtb3VudCkgKiB2YXIoLS10b2FzdHMtYmVmb3JlKSkpIHNjYWxlKGNhbGMoLTEgKiB2YXIoLS1zY2FsZSkpKTtoZWlnaHQ6dmFyKC0tZnJvbnQtdG9hc3QtaGVpZ2h0KX1bZGF0YS1zb25uZXItdG9hc3RdPip7dHJhbnNpdGlvbjpvcGFjaXR5IC40c31bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEteC1wb3NpdGlvbj1yaWdodF17cmlnaHQ6MH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEteC1wb3NpdGlvbj1sZWZ0XXtsZWZ0OjB9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLWV4cGFuZGVkPWZhbHNlXVtkYXRhLWZyb250PWZhbHNlXVtkYXRhLXN0eWxlZD10cnVlXT4qe29wYWNpdHk6MH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdmlzaWJsZT1mYWxzZV17b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmV9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLW1vdW50ZWQ9dHJ1ZV1bZGF0YS1leHBhbmRlZD10cnVlXXstLXk6dHJhbnNsYXRlWShjYWxjKHZhcigtLWxpZnQpICogdmFyKC0tb2Zmc2V0KSkpO2hlaWdodDp2YXIoLS1pbml0aWFsLWhlaWdodCl9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXJlbW92ZWQ9dHJ1ZV1bZGF0YS1mcm9udD10cnVlXVtkYXRhLXN3aXBlLW91dD1mYWxzZV17LS15OnRyYW5zbGF0ZVkoY2FsYyh2YXIoLS1saWZ0KSAqIC0xMDAlKSk7b3BhY2l0eTowfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1yZW1vdmVkPXRydWVdW2RhdGEtZnJvbnQ9ZmFsc2VdW2RhdGEtc3dpcGUtb3V0PWZhbHNlXVtkYXRhLWV4cGFuZGVkPXRydWVdey0teTp0cmFuc2xhdGVZKGNhbGModmFyKC0tbGlmdCkgKiB2YXIoLS1vZmZzZXQpICsgdmFyKC0tbGlmdCkgKiAtMTAwJSkpO29wYWNpdHk6MH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtcmVtb3ZlZD10cnVlXVtkYXRhLWZyb250PWZhbHNlXVtkYXRhLXN3aXBlLW91dD1mYWxzZV1bZGF0YS1leHBhbmRlZD1mYWxzZV17LS15OnRyYW5zbGF0ZVkoNDAlKTtvcGFjaXR5OjA7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjVzLG9wYWNpdHkgLjJzfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1yZW1vdmVkPXRydWVdW2RhdGEtZnJvbnQ9ZmFsc2VdOjpiZWZvcmV7aGVpZ2h0OmNhbGModmFyKC0taW5pdGlhbC1oZWlnaHQpICsgMjAlKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3dpcGluZz10cnVlXXt0cmFuc2Zvcm06dmFyKC0teSkgdHJhbnNsYXRlWSh2YXIoLS1zd2lwZS1hbW91bnQteSwwKSkgdHJhbnNsYXRlWCh2YXIoLS1zd2lwZS1hbW91bnQteCwwKSk7dHJhbnNpdGlvbjpub25lfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zd2lwZWQ9dHJ1ZV17dXNlci1zZWxlY3Q6bm9uZX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3dpcGUtb3V0PXRydWVdW2RhdGEteS1wb3NpdGlvbj1ib3R0b21dLFtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zd2lwZS1vdXQ9dHJ1ZV1bZGF0YS15LXBvc2l0aW9uPXRvcF17YW5pbWF0aW9uLWR1cmF0aW9uOi4yczthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0O2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHN9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN3aXBlLW91dD10cnVlXVtkYXRhLXN3aXBlLWRpcmVjdGlvbj1sZWZ0XXthbmltYXRpb24tbmFtZTpzd2lwZS1vdXQtbGVmdH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3dpcGUtb3V0PXRydWVdW2RhdGEtc3dpcGUtZGlyZWN0aW9uPXJpZ2h0XXthbmltYXRpb24tbmFtZTpzd2lwZS1vdXQtcmlnaHR9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN3aXBlLW91dD10cnVlXVtkYXRhLXN3aXBlLWRpcmVjdGlvbj11cF17YW5pbWF0aW9uLW5hbWU6c3dpcGUtb3V0LXVwfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zd2lwZS1vdXQ9dHJ1ZV1bZGF0YS1zd2lwZS1kaXJlY3Rpb249ZG93bl17YW5pbWF0aW9uLW5hbWU6c3dpcGUtb3V0LWRvd259QGtleWZyYW1lcyBzd2lwZS1vdXQtbGVmdHtmcm9te3RyYW5zZm9ybTp2YXIoLS15KSB0cmFuc2xhdGVYKHZhcigtLXN3aXBlLWFtb3VudC14KSk7b3BhY2l0eToxfXRve3RyYW5zZm9ybTp2YXIoLS15KSB0cmFuc2xhdGVYKGNhbGModmFyKC0tc3dpcGUtYW1vdW50LXgpIC0gMTAwJSkpO29wYWNpdHk6MH19QGtleWZyYW1lcyBzd2lwZS1vdXQtcmlnaHR7ZnJvbXt0cmFuc2Zvcm06dmFyKC0teSkgdHJhbnNsYXRlWCh2YXIoLS1zd2lwZS1hbW91bnQteCkpO29wYWNpdHk6MX10b3t0cmFuc2Zvcm06dmFyKC0teSkgdHJhbnNsYXRlWChjYWxjKHZhcigtLXN3aXBlLWFtb3VudC14KSArIDEwMCUpKTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgc3dpcGUtb3V0LXVwe2Zyb217dHJhbnNmb3JtOnZhcigtLXkpIHRyYW5zbGF0ZVkodmFyKC0tc3dpcGUtYW1vdW50LXkpKTtvcGFjaXR5OjF9dG97dHJhbnNmb3JtOnZhcigtLXkpIHRyYW5zbGF0ZVkoY2FsYyh2YXIoLS1zd2lwZS1hbW91bnQteSkgLSAxMDAlKSk7b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIHN3aXBlLW91dC1kb3due2Zyb217dHJhbnNmb3JtOnZhcigtLXkpIHRyYW5zbGF0ZVkodmFyKC0tc3dpcGUtYW1vdW50LXkpKTtvcGFjaXR5OjF9dG97dHJhbnNmb3JtOnZhcigtLXkpIHRyYW5zbGF0ZVkoY2FsYyh2YXIoLS1zd2lwZS1hbW91bnQteSkgKyAxMDAlKSk7b3BhY2l0eTowfX1AbWVkaWEgKG1heC13aWR0aDo2MDBweCl7W2RhdGEtc29ubmVyLXRvYXN0ZXJde3Bvc2l0aW9uOmZpeGVkO3JpZ2h0OnZhcigtLW1vYmlsZS1vZmZzZXQtcmlnaHQpO2xlZnQ6dmFyKC0tbW9iaWxlLW9mZnNldC1sZWZ0KTt3aWR0aDoxMDAlfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkaXI9cnRsXXtsZWZ0OmNhbGModmFyKC0tbW9iaWxlLW9mZnNldC1sZWZ0KSAqIC0xKX1bZGF0YS1zb25uZXItdG9hc3Rlcl0gW2RhdGEtc29ubmVyLXRvYXN0XXtsZWZ0OjA7cmlnaHQ6MDt3aWR0aDpjYWxjKDEwMCUgLSB2YXIoLS1tb2JpbGUtb2Zmc2V0LWxlZnQpICogMil9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEteC1wb3NpdGlvbj1sZWZ0XXtsZWZ0OnZhcigtLW1vYmlsZS1vZmZzZXQtbGVmdCl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEteS1wb3NpdGlvbj1ib3R0b21de2JvdHRvbTp2YXIoLS1tb2JpbGUtb2Zmc2V0LWJvdHRvbSl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEteS1wb3NpdGlvbj10b3Bde3RvcDp2YXIoLS1tb2JpbGUtb2Zmc2V0LXRvcCl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEteC1wb3NpdGlvbj1jZW50ZXJde2xlZnQ6dmFyKC0tbW9iaWxlLW9mZnNldC1sZWZ0KTtyaWdodDp2YXIoLS1tb2JpbGUtb2Zmc2V0LXJpZ2h0KTt0cmFuc2Zvcm06bm9uZX19W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEtc29ubmVyLXRoZW1lPWxpZ2h0XXstLW5vcm1hbC1iZzojZmZmOy0tbm9ybWFsLWJvcmRlcjp2YXIoLS1ncmF5NCk7LS1ub3JtYWwtdGV4dDp2YXIoLS1ncmF5MTIpOy0tc3VjY2Vzcy1iZzpoc2woMTQzLCA4NSUsIDk2JSk7LS1zdWNjZXNzLWJvcmRlcjpoc2woMTQ1LCA5MiUsIDg3JSk7LS1zdWNjZXNzLXRleHQ6aHNsKDE0MCwgMTAwJSwgMjclKTstLWluZm8tYmc6aHNsKDIwOCwgMTAwJSwgOTclKTstLWluZm8tYm9yZGVyOmhzbCgyMjEsIDkxJSwgOTMlKTstLWluZm8tdGV4dDpoc2woMjEwLCA5MiUsIDQ1JSk7LS13YXJuaW5nLWJnOmhzbCg0OSwgMTAwJSwgOTclKTstLXdhcm5pbmctYm9yZGVyOmhzbCg0OSwgOTElLCA4NCUpOy0td2FybmluZy10ZXh0OmhzbCgzMSwgOTIlLCA0NSUpOy0tZXJyb3ItYmc6aHNsKDM1OSwgMTAwJSwgOTclKTstLWVycm9yLWJvcmRlcjpoc2woMzU5LCAxMDAlLCA5NCUpOy0tZXJyb3ItdGV4dDpoc2woMzYwLCAxMDAlLCA0NSUpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXNvbm5lci10aGVtZT1saWdodF0gW2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLWludmVydD10cnVlXXstLW5vcm1hbC1iZzojMDAwOy0tbm9ybWFsLWJvcmRlcjpoc2woMCwgMCUsIDIwJSk7LS1ub3JtYWwtdGV4dDp2YXIoLS1ncmF5MSl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEtc29ubmVyLXRoZW1lPWRhcmtdIFtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1pbnZlcnQ9dHJ1ZV17LS1ub3JtYWwtYmc6I2ZmZjstLW5vcm1hbC1ib3JkZXI6dmFyKC0tZ3JheTMpOy0tbm9ybWFsLXRleHQ6dmFyKC0tZ3JheTEyKX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS1zb25uZXItdGhlbWU9ZGFya117LS1ub3JtYWwtYmc6IzAwMDstLW5vcm1hbC1iZy1ob3Zlcjpoc2woMCwgMCUsIDEyJSk7LS1ub3JtYWwtYm9yZGVyOmhzbCgwLCAwJSwgMjAlKTstLW5vcm1hbC1ib3JkZXItaG92ZXI6aHNsKDAsIDAlLCAyNSUpOy0tbm9ybWFsLXRleHQ6dmFyKC0tZ3JheTEpOy0tc3VjY2Vzcy1iZzpoc2woMTUwLCAxMDAlLCA2JSk7LS1zdWNjZXNzLWJvcmRlcjpoc2woMTQ3LCAxMDAlLCAxMiUpOy0tc3VjY2Vzcy10ZXh0OmhzbCgxNTAsIDg2JSwgNjUlKTstLWluZm8tYmc6aHNsKDIxNSwgMTAwJSwgNiUpOy0taW5mby1ib3JkZXI6aHNsKDIyMywgNDMlLCAxNyUpOy0taW5mby10ZXh0OmhzbCgyMTYsIDg3JSwgNjUlKTstLXdhcm5pbmctYmc6aHNsKDY0LCAxMDAlLCA2JSk7LS13YXJuaW5nLWJvcmRlcjpoc2woNjAsIDEwMCUsIDklKTstLXdhcm5pbmctdGV4dDpoc2woNDYsIDg3JSwgNjUlKTstLWVycm9yLWJnOmhzbCgzNTgsIDc2JSwgMTAlKTstLWVycm9yLWJvcmRlcjpoc2woMzU3LCA4OSUsIDE2JSk7LS1lcnJvci10ZXh0OmhzbCgzNTgsIDEwMCUsIDgxJSl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEtc29ubmVyLXRoZW1lPWRhcmtdIFtkYXRhLXNvbm5lci10b2FzdF0gW2RhdGEtY2xvc2UtYnV0dG9uXXtiYWNrZ3JvdW5kOnZhcigtLW5vcm1hbC1iZyk7Ym9yZGVyLWNvbG9yOnZhcigtLW5vcm1hbC1ib3JkZXIpO2NvbG9yOnZhcigtLW5vcm1hbC10ZXh0KX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS1zb25uZXItdGhlbWU9ZGFya10gW2RhdGEtc29ubmVyLXRvYXN0XSBbZGF0YS1jbG9zZS1idXR0b25dOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tbm9ybWFsLWJnLWhvdmVyKTtib3JkZXItY29sb3I6dmFyKC0tbm9ybWFsLWJvcmRlci1ob3Zlcil9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdHlwZT1zdWNjZXNzXXtiYWNrZ3JvdW5kOnZhcigtLXN1Y2Nlc3MtYmcpO2JvcmRlci1jb2xvcjp2YXIoLS1zdWNjZXNzLWJvcmRlcik7Y29sb3I6dmFyKC0tc3VjY2Vzcy10ZXh0KX1bZGF0YS1yaWNoLWNvbG9ycz10cnVlXVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS10eXBlPXN1Y2Nlc3NdIFtkYXRhLWNsb3NlLWJ1dHRvbl17YmFja2dyb3VuZDp2YXIoLS1zdWNjZXNzLWJnKTtib3JkZXItY29sb3I6dmFyKC0tc3VjY2Vzcy1ib3JkZXIpO2NvbG9yOnZhcigtLXN1Y2Nlc3MtdGV4dCl9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdHlwZT1pbmZvXXtiYWNrZ3JvdW5kOnZhcigtLWluZm8tYmcpO2JvcmRlci1jb2xvcjp2YXIoLS1pbmZvLWJvcmRlcik7Y29sb3I6dmFyKC0taW5mby10ZXh0KX1bZGF0YS1yaWNoLWNvbG9ycz10cnVlXVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS10eXBlPWluZm9dIFtkYXRhLWNsb3NlLWJ1dHRvbl17YmFja2dyb3VuZDp2YXIoLS1pbmZvLWJnKTtib3JkZXItY29sb3I6dmFyKC0taW5mby1ib3JkZXIpO2NvbG9yOnZhcigtLWluZm8tdGV4dCl9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdHlwZT13YXJuaW5nXXtiYWNrZ3JvdW5kOnZhcigtLXdhcm5pbmctYmcpO2JvcmRlci1jb2xvcjp2YXIoLS13YXJuaW5nLWJvcmRlcik7Y29sb3I6dmFyKC0td2FybmluZy10ZXh0KX1bZGF0YS1yaWNoLWNvbG9ycz10cnVlXVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS10eXBlPXdhcm5pbmddIFtkYXRhLWNsb3NlLWJ1dHRvbl17YmFja2dyb3VuZDp2YXIoLS13YXJuaW5nLWJnKTtib3JkZXItY29sb3I6dmFyKC0td2FybmluZy1ib3JkZXIpO2NvbG9yOnZhcigtLXdhcm5pbmctdGV4dCl9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdHlwZT1lcnJvcl17YmFja2dyb3VuZDp2YXIoLS1lcnJvci1iZyk7Ym9yZGVyLWNvbG9yOnZhcigtLWVycm9yLWJvcmRlcik7Y29sb3I6dmFyKC0tZXJyb3ItdGV4dCl9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdHlwZT1lcnJvcl0gW2RhdGEtY2xvc2UtYnV0dG9uXXtiYWNrZ3JvdW5kOnZhcigtLWVycm9yLWJnKTtib3JkZXItY29sb3I6dmFyKC0tZXJyb3ItYm9yZGVyKTtjb2xvcjp2YXIoLS1lcnJvci10ZXh0KX0uc29ubmVyLWxvYWRpbmctd3JhcHBlcnstLXNpemU6MTZweDtoZWlnaHQ6dmFyKC0tc2l6ZSk7d2lkdGg6dmFyKC0tc2l6ZSk7cG9zaXRpb246YWJzb2x1dGU7aW5zZXQ6MDt6LWluZGV4OjEwfS5zb25uZXItbG9hZGluZy13cmFwcGVyW2RhdGEtdmlzaWJsZT1mYWxzZV17dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7YW5pbWF0aW9uOnNvbm5lci1mYWRlLW91dCAuMnMgZWFzZSBmb3J3YXJkc30uc29ubmVyLXNwaW5uZXJ7cG9zaXRpb246cmVsYXRpdmU7dG9wOjUwJTtsZWZ0OjUwJTtoZWlnaHQ6dmFyKC0tc2l6ZSk7d2lkdGg6dmFyKC0tc2l6ZSl9LnNvbm5lci1sb2FkaW5nLWJhcnthbmltYXRpb246c29ubmVyLXNwaW4gMS4ycyBsaW5lYXIgaW5maW5pdGU7YmFja2dyb3VuZDp2YXIoLS1ncmF5MTEpO2JvcmRlci1yYWRpdXM6NnB4O2hlaWdodDo4JTtsZWZ0Oi0xMCU7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0zLjklO3dpZHRoOjI0JX0uc29ubmVyLWxvYWRpbmctYmFyOmZpcnN0LWNoaWxke2FuaW1hdGlvbi1kZWxheTotMS4yczt0cmFuc2Zvcm06cm90YXRlKC4wMDAxZGVnKSB0cmFuc2xhdGUoMTQ2JSl9LnNvbm5lci1sb2FkaW5nLWJhcjpudGgtY2hpbGQoMil7YW5pbWF0aW9uLWRlbGF5Oi0xLjFzO3RyYW5zZm9ybTpyb3RhdGUoMzBkZWcpIHRyYW5zbGF0ZSgxNDYlKX0uc29ubmVyLWxvYWRpbmctYmFyOm50aC1jaGlsZCgzKXthbmltYXRpb24tZGVsYXk6LTFzO3RyYW5zZm9ybTpyb3RhdGUoNjBkZWcpIHRyYW5zbGF0ZSgxNDYlKX0uc29ubmVyLWxvYWRpbmctYmFyOm50aC1jaGlsZCg0KXthbmltYXRpb24tZGVsYXk6LS45czt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKSB0cmFuc2xhdGUoMTQ2JSl9LnNvbm5lci1sb2FkaW5nLWJhcjpudGgtY2hpbGQoNSl7YW5pbWF0aW9uLWRlbGF5Oi0uOHM7dHJhbnNmb3JtOnJvdGF0ZSgxMjBkZWcpIHRyYW5zbGF0ZSgxNDYlKX0uc29ubmVyLWxvYWRpbmctYmFyOm50aC1jaGlsZCg2KXthbmltYXRpb24tZGVsYXk6LS43czt0cmFuc2Zvcm06cm90YXRlKDE1MGRlZykgdHJhbnNsYXRlKDE0NiUpfS5zb25uZXItbG9hZGluZy1iYXI6bnRoLWNoaWxkKDcpe2FuaW1hdGlvbi1kZWxheTotLjZzO3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKSB0cmFuc2xhdGUoMTQ2JSl9LnNvbm5lci1sb2FkaW5nLWJhcjpudGgtY2hpbGQoOCl7YW5pbWF0aW9uLWRlbGF5Oi0uNXM7dHJhbnNmb3JtOnJvdGF0ZSgyMTBkZWcpIHRyYW5zbGF0ZSgxNDYlKX0uc29ubmVyLWxvYWRpbmctYmFyOm50aC1jaGlsZCg5KXthbmltYXRpb24tZGVsYXk6LS40czt0cmFuc2Zvcm06cm90YXRlKDI0MGRlZykgdHJhbnNsYXRlKDE0NiUpfS5zb25uZXItbG9hZGluZy1iYXI6bnRoLWNoaWxkKDEwKXthbmltYXRpb24tZGVsYXk6LS4zczt0cmFuc2Zvcm06cm90YXRlKDI3MGRlZykgdHJhbnNsYXRlKDE0NiUpfS5zb25uZXItbG9hZGluZy1iYXI6bnRoLWNoaWxkKDExKXthbmltYXRpb24tZGVsYXk6LS4yczt0cmFuc2Zvcm06cm90YXRlKDMwMGRlZykgdHJhbnNsYXRlKDE0NiUpfS5zb25uZXItbG9hZGluZy1iYXI6bnRoLWNoaWxkKDEyKXthbmltYXRpb24tZGVsYXk6LS4xczt0cmFuc2Zvcm06cm90YXRlKDMzMGRlZykgdHJhbnNsYXRlKDE0NiUpfUBrZXlmcmFtZXMgc29ubmVyLWZhZGUtaW57MCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguOCl9MTAwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEpfX1Aa2V5ZnJhbWVzIHNvbm5lci1mYWRlLW91dHswJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEpfTEwMCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguOCl9fUBrZXlmcmFtZXMgc29ubmVyLXNwaW57MCV7b3BhY2l0eToxfTEwMCV7b3BhY2l0eTouMTV9fUBtZWRpYSAocHJlZmVycy1yZWR1Y2VkLW1vdGlvbil7LnNvbm5lci1sb2FkaW5nLWJhcixbZGF0YS1zb25uZXItdG9hc3RdLFtkYXRhLXNvbm5lci10b2FzdF0+Knt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50O2FuaW1hdGlvbjpub25lIWltcG9ydGFudH19LnNvbm5lci1sb2FkZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7dHJhbnNpdGlvbjpvcGFjaXR5IC4ycyx0cmFuc2Zvcm0gLjJzfS5zb25uZXItbG9hZGVyW2RhdGEtdmlzaWJsZT1mYWxzZV17b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguOCkgdHJhbnNsYXRlKC01MCUsLTUwJSl9XCIpO1xuXG5mdW5jdGlvbiBpc0FjdGlvbihhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9uLmxhYmVsICE9PSB1bmRlZmluZWQ7XG59XG5cbi8vIFZpc2libGUgdG9hc3RzIGFtb3VudFxuY29uc3QgVklTSUJMRV9UT0FTVFNfQU1PVU5UID0gMztcbi8vIFZpZXdwb3J0IHBhZGRpbmdcbmNvbnN0IFZJRVdQT1JUX09GRlNFVCA9ICcyNHB4Jztcbi8vIE1vYmlsZSB2aWV3cG9ydCBwYWRkaW5nXG5jb25zdCBNT0JJTEVfVklFV1BPUlRfT0ZGU0VUID0gJzE2cHgnO1xuLy8gRGVmYXVsdCBsaWZldGltZSBvZiBhIHRvYXN0cyAoaW4gbXMpXG5jb25zdCBUT0FTVF9MSUZFVElNRSA9IDQwMDA7XG4vLyBEZWZhdWx0IHRvYXN0IHdpZHRoXG5jb25zdCBUT0FTVF9XSURUSCA9IDM1Njtcbi8vIERlZmF1bHQgZ2FwIGJldHdlZW4gdG9hc3RzXG5jb25zdCBHQVAgPSAxNDtcbi8vIFRocmVzaG9sZCB0byBkaXNtaXNzIGEgdG9hc3RcbmNvbnN0IFNXSVBFX1RIUkVTSE9MRCA9IDQ1O1xuLy8gRXF1YWwgdG8gZXhpdCBhbmltYXRpb24gZHVyYXRpb25cbmNvbnN0IFRJTUVfQkVGT1JFX1VOTU9VTlQgPSAyMDA7XG5mdW5jdGlvbiBjbiguLi5jbGFzc2VzKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRTd2lwZURpcmVjdGlvbnMocG9zaXRpb24pIHtcbiAgICBjb25zdCBbeSwgeF0gPSBwb3NpdGlvbi5zcGxpdCgnLScpO1xuICAgIGNvbnN0IGRpcmVjdGlvbnMgPSBbXTtcbiAgICBpZiAoeSkge1xuICAgICAgICBkaXJlY3Rpb25zLnB1c2goeSk7XG4gICAgfVxuICAgIGlmICh4KSB7XG4gICAgICAgIGRpcmVjdGlvbnMucHVzaCh4KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpcmVjdGlvbnM7XG59XG5jb25zdCBUb2FzdCA9IChwcm9wcyk9PntcbiAgICB2YXIgX3RvYXN0X2NsYXNzTmFtZXMsIF90b2FzdF9jbGFzc05hbWVzMSwgX3RvYXN0X2NsYXNzTmFtZXMyLCBfdG9hc3RfY2xhc3NOYW1lczMsIF90b2FzdF9jbGFzc05hbWVzNCwgX3RvYXN0X2NsYXNzTmFtZXM1LCBfdG9hc3RfY2xhc3NOYW1lczYsIF90b2FzdF9jbGFzc05hbWVzNywgX3RvYXN0X2NsYXNzTmFtZXM4O1xuICAgIGNvbnN0IHsgaW52ZXJ0OiBUb2FzdGVySW52ZXJ0LCB0b2FzdCwgdW5zdHlsZWQsIGludGVyYWN0aW5nLCBzZXRIZWlnaHRzLCB2aXNpYmxlVG9hc3RzLCBoZWlnaHRzLCBpbmRleCwgdG9hc3RzLCBleHBhbmRlZCwgcmVtb3ZlVG9hc3QsIGRlZmF1bHRSaWNoQ29sb3JzLCBjbG9zZUJ1dHRvbjogY2xvc2VCdXR0b25Gcm9tVG9hc3Rlciwgc3R5bGUsIGNhbmNlbEJ1dHRvblN0eWxlLCBhY3Rpb25CdXR0b25TdHlsZSwgY2xhc3NOYW1lID0gJycsIGRlc2NyaXB0aW9uQ2xhc3NOYW1lID0gJycsIGR1cmF0aW9uOiBkdXJhdGlvbkZyb21Ub2FzdGVyLCBwb3NpdGlvbiwgZ2FwLCBleHBhbmRCeURlZmF1bHQsIGNsYXNzTmFtZXMsIGljb25zLCBjbG9zZUJ1dHRvbkFyaWFMYWJlbCA9ICdDbG9zZSB0b2FzdCcgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtzd2lwZURpcmVjdGlvbiwgc2V0U3dpcGVEaXJlY3Rpb25dID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3N3aXBlT3V0RGlyZWN0aW9uLCBzZXRTd2lwZU91dERpcmVjdGlvbl0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbW91bnRlZCwgc2V0TW91bnRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3JlbW92ZWQsIHNldFJlbW92ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzd2lwaW5nLCBzZXRTd2lwaW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc3dpcGVPdXQsIHNldFN3aXBlT3V0XSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaXNTd2lwZWQsIHNldElzU3dpcGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbb2Zmc2V0QmVmb3JlUmVtb3ZlLCBzZXRPZmZzZXRCZWZvcmVSZW1vdmVdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gICAgY29uc3QgW2luaXRpYWxIZWlnaHQsIHNldEluaXRpYWxIZWlnaHRdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gICAgY29uc3QgcmVtYWluaW5nVGltZSA9IFJlYWN0LnVzZVJlZih0b2FzdC5kdXJhdGlvbiB8fCBkdXJhdGlvbkZyb21Ub2FzdGVyIHx8IFRPQVNUX0xJRkVUSU1FKTtcbiAgICBjb25zdCBkcmFnU3RhcnRUaW1lID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHRvYXN0UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGlzRnJvbnQgPSBpbmRleCA9PT0gMDtcbiAgICBjb25zdCBpc1Zpc2libGUgPSBpbmRleCArIDEgPD0gdmlzaWJsZVRvYXN0cztcbiAgICBjb25zdCB0b2FzdFR5cGUgPSB0b2FzdC50eXBlO1xuICAgIGNvbnN0IGRpc21pc3NpYmxlID0gdG9hc3QuZGlzbWlzc2libGUgIT09IGZhbHNlO1xuICAgIGNvbnN0IHRvYXN0Q2xhc3NuYW1lID0gdG9hc3QuY2xhc3NOYW1lIHx8ICcnO1xuICAgIGNvbnN0IHRvYXN0RGVzY3JpcHRpb25DbGFzc25hbWUgPSB0b2FzdC5kZXNjcmlwdGlvbkNsYXNzTmFtZSB8fCAnJztcbiAgICAvLyBIZWlnaHQgaW5kZXggaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIG9mZnNldCBhcyBpdCBnZXRzIHVwZGF0ZWQgYmVmb3JlIHRoZSB0b2FzdCBhcnJheSwgd2hpY2ggbWVhbnMgd2UgY2FuIGNhbGN1bGF0ZSB0aGUgbmV3IGxheW91dCBmYXN0ZXIuXG4gICAgY29uc3QgaGVpZ2h0SW5kZXggPSBSZWFjdC51c2VNZW1vKCgpPT5oZWlnaHRzLmZpbmRJbmRleCgoaGVpZ2h0KT0+aGVpZ2h0LnRvYXN0SWQgPT09IHRvYXN0LmlkKSB8fCAwLCBbXG4gICAgICAgIGhlaWdodHMsXG4gICAgICAgIHRvYXN0LmlkXG4gICAgXSk7XG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBSZWFjdC51c2VNZW1vKCgpPT57XG4gICAgICAgIHZhciBfdG9hc3RfY2xvc2VCdXR0b247XG4gICAgICAgIHJldHVybiAoX3RvYXN0X2Nsb3NlQnV0dG9uID0gdG9hc3QuY2xvc2VCdXR0b24pICE9IG51bGwgPyBfdG9hc3RfY2xvc2VCdXR0b24gOiBjbG9zZUJ1dHRvbkZyb21Ub2FzdGVyO1xuICAgIH0sIFtcbiAgICAgICAgdG9hc3QuY2xvc2VCdXR0b24sXG4gICAgICAgIGNsb3NlQnV0dG9uRnJvbVRvYXN0ZXJcbiAgICBdKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IFJlYWN0LnVzZU1lbW8oKCk9PnRvYXN0LmR1cmF0aW9uIHx8IGR1cmF0aW9uRnJvbVRvYXN0ZXIgfHwgVE9BU1RfTElGRVRJTUUsIFtcbiAgICAgICAgdG9hc3QuZHVyYXRpb24sXG4gICAgICAgIGR1cmF0aW9uRnJvbVRvYXN0ZXJcbiAgICBdKTtcbiAgICBjb25zdCBjbG9zZVRpbWVyU3RhcnRUaW1lUmVmID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IG9mZnNldCA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBsYXN0Q2xvc2VUaW1lclN0YXJ0VGltZVJlZiA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBwb2ludGVyU3RhcnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW3ksIHhdID0gcG9zaXRpb24uc3BsaXQoJy0nKTtcbiAgICBjb25zdCB0b2FzdHNIZWlnaHRCZWZvcmUgPSBSZWFjdC51c2VNZW1vKCgpPT57XG4gICAgICAgIHJldHVybiBoZWlnaHRzLnJlZHVjZSgocHJldiwgY3VyciwgcmVkdWNlckluZGV4KT0+e1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIG9mZnNldCB1cCB1bnRpbCBjdXJyZW50IHRvYXN0XG4gICAgICAgICAgICBpZiAocmVkdWNlckluZGV4ID49IGhlaWdodEluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJldiArIGN1cnIuaGVpZ2h0O1xuICAgICAgICB9LCAwKTtcbiAgICB9LCBbXG4gICAgICAgIGhlaWdodHMsXG4gICAgICAgIGhlaWdodEluZGV4XG4gICAgXSk7XG4gICAgY29uc3QgaXNEb2N1bWVudEhpZGRlbiA9IHVzZUlzRG9jdW1lbnRIaWRkZW4oKTtcbiAgICBjb25zdCBpbnZlcnQgPSB0b2FzdC5pbnZlcnQgfHwgVG9hc3RlckludmVydDtcbiAgICBjb25zdCBkaXNhYmxlZCA9IHRvYXN0VHlwZSA9PT0gJ2xvYWRpbmcnO1xuICAgIG9mZnNldC5jdXJyZW50ID0gUmVhY3QudXNlTWVtbygoKT0+aGVpZ2h0SW5kZXggKiBnYXAgKyB0b2FzdHNIZWlnaHRCZWZvcmUsIFtcbiAgICAgICAgaGVpZ2h0SW5kZXgsXG4gICAgICAgIHRvYXN0c0hlaWdodEJlZm9yZVxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICByZW1haW5pbmdUaW1lLmN1cnJlbnQgPSBkdXJhdGlvbjtcbiAgICB9LCBbXG4gICAgICAgIGR1cmF0aW9uXG4gICAgXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIC8vIFRyaWdnZXIgZW50ZXIgYW5pbWF0aW9uIHdpdGhvdXQgdXNpbmcgQ1NTIGFuaW1hdGlvblxuICAgICAgICBzZXRNb3VudGVkKHRydWUpO1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgY29uc3QgdG9hc3ROb2RlID0gdG9hc3RSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKHRvYXN0Tm9kZSkge1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdG9hc3ROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgICAgICAgIC8vIEFkZCB0b2FzdCBoZWlnaHQgdG8gaGVpZ2h0cyBhcnJheSBhZnRlciB0aGUgdG9hc3QgaXMgbW91bnRlZFxuICAgICAgICAgICAgc2V0SW5pdGlhbEhlaWdodChoZWlnaHQpO1xuICAgICAgICAgICAgc2V0SGVpZ2h0cygoaCk9PltcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RJZDogdG9hc3QuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdG9hc3QucG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLi4uaFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuICgpPT5zZXRIZWlnaHRzKChoKT0+aC5maWx0ZXIoKGhlaWdodCk9PmhlaWdodC50b2FzdElkICE9PSB0b2FzdC5pZCkpO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBzZXRIZWlnaHRzLFxuICAgICAgICB0b2FzdC5pZFxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUxheW91dEVmZmVjdCgoKT0+e1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9hc3ROb2RlID0gdG9hc3RSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSB0b2FzdE5vZGUuc3R5bGUuaGVpZ2h0O1xuICAgICAgICB0b2FzdE5vZGUuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICBjb25zdCBuZXdIZWlnaHQgPSB0b2FzdE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICB0b2FzdE5vZGUuc3R5bGUuaGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQ7XG4gICAgICAgIHNldEluaXRpYWxIZWlnaHQobmV3SGVpZ2h0KTtcbiAgICAgICAgc2V0SGVpZ2h0cygoaGVpZ2h0cyk9PntcbiAgICAgICAgICAgIGNvbnN0IGFscmVhZHlFeGlzdHMgPSBoZWlnaHRzLmZpbmQoKGhlaWdodCk9PmhlaWdodC50b2FzdElkID09PSB0b2FzdC5pZCk7XG4gICAgICAgICAgICBpZiAoIWFscmVhZHlFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdElkOiB0b2FzdC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHRvYXN0LnBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC4uLmhlaWdodHNcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0cy5tYXAoKGhlaWdodCk9PmhlaWdodC50b2FzdElkID09PSB0b2FzdC5pZCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3SGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH0gOiBoZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbXG4gICAgICAgIG1vdW50ZWQsXG4gICAgICAgIHRvYXN0LnRpdGxlLFxuICAgICAgICB0b2FzdC5kZXNjcmlwdGlvbixcbiAgICAgICAgc2V0SGVpZ2h0cyxcbiAgICAgICAgdG9hc3QuaWRcbiAgICBdKTtcbiAgICBjb25zdCBkZWxldGVUb2FzdCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpPT57XG4gICAgICAgIC8vIFNhdmUgdGhlIG9mZnNldCBmb3IgdGhlIGV4aXQgc3dpcGUgYW5pbWF0aW9uXG4gICAgICAgIHNldFJlbW92ZWQodHJ1ZSk7XG4gICAgICAgIHNldE9mZnNldEJlZm9yZVJlbW92ZShvZmZzZXQuY3VycmVudCk7XG4gICAgICAgIHNldEhlaWdodHMoKGgpPT5oLmZpbHRlcigoaGVpZ2h0KT0+aGVpZ2h0LnRvYXN0SWQgIT09IHRvYXN0LmlkKSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgIHJlbW92ZVRvYXN0KHRvYXN0KTtcbiAgICAgICAgfSwgVElNRV9CRUZPUkVfVU5NT1VOVCk7XG4gICAgfSwgW1xuICAgICAgICB0b2FzdCxcbiAgICAgICAgcmVtb3ZlVG9hc3QsXG4gICAgICAgIHNldEhlaWdodHMsXG4gICAgICAgIG9mZnNldFxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBpZiAodG9hc3QucHJvbWlzZSAmJiB0b2FzdFR5cGUgPT09ICdsb2FkaW5nJyB8fCB0b2FzdC5kdXJhdGlvbiA9PT0gSW5maW5pdHkgfHwgdG9hc3QudHlwZSA9PT0gJ2xvYWRpbmcnKSByZXR1cm47XG4gICAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICAgIC8vIFBhdXNlIHRoZSB0aW1lciBvbiBlYWNoIGhvdmVyXG4gICAgICAgIGNvbnN0IHBhdXNlVGltZXIgPSAoKT0+e1xuICAgICAgICAgICAgaWYgKGxhc3RDbG9zZVRpbWVyU3RhcnRUaW1lUmVmLmN1cnJlbnQgPCBjbG9zZVRpbWVyU3RhcnRUaW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGVsYXBzZWQgdGltZSBzaW5jZSB0aGUgdGltZXIgc3RhcnRlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBjbG9zZVRpbWVyU3RhcnRUaW1lUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nVGltZS5jdXJyZW50ID0gcmVtYWluaW5nVGltZS5jdXJyZW50IC0gZWxhcHNlZFRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0Q2xvc2VUaW1lclN0YXJ0VGltZVJlZi5jdXJyZW50ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZXIgPSAoKT0+e1xuICAgICAgICAgICAgLy8gc2V0VGltZW91dCgsIEluZmluaXR5KSBiZWhhdmVzIGFzIGlmIHRoZSBkZWxheSBpcyAwLlxuICAgICAgICAgICAgLy8gQXMgYSByZXN1bHQsIHRoZSB0b2FzdCB3b3VsZCBiZSBjbG9zZWQgaW1tZWRpYXRlbHksIGdpdmluZyB0aGUgYXBwZWFyYW5jZSB0aGF0IGl0IHdhcyBuZXZlciByZW5kZXJlZC5cbiAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RlbnlzZG92aGFuL3d0ZmpzP3RhYj1yZWFkbWUtb3YtZmlsZSNhbi1pbmZpbml0ZS10aW1lb3V0XG4gICAgICAgICAgICBpZiAocmVtYWluaW5nVGltZS5jdXJyZW50ID09PSBJbmZpbml0eSkgcmV0dXJuO1xuICAgICAgICAgICAgY2xvc2VUaW1lclN0YXJ0VGltZVJlZi5jdXJyZW50ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAvLyBMZXQgdGhlIHRvYXN0IGtub3cgaXQgaGFzIHN0YXJ0ZWRcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB0b2FzdC5vbkF1dG9DbG9zZSA9PSBudWxsID8gdm9pZCAwIDogdG9hc3Qub25BdXRvQ2xvc2UuY2FsbCh0b2FzdCwgdG9hc3QpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVRvYXN0KCk7XG4gICAgICAgICAgICB9LCByZW1haW5pbmdUaW1lLmN1cnJlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoZXhwYW5kZWQgfHwgaW50ZXJhY3RpbmcgfHwgaXNEb2N1bWVudEhpZGRlbikge1xuICAgICAgICAgICAgcGF1c2VUaW1lcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhcnRUaW1lcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKT0+Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfSwgW1xuICAgICAgICBleHBhbmRlZCxcbiAgICAgICAgaW50ZXJhY3RpbmcsXG4gICAgICAgIHRvYXN0LFxuICAgICAgICB0b2FzdFR5cGUsXG4gICAgICAgIGlzRG9jdW1lbnRIaWRkZW4sXG4gICAgICAgIGRlbGV0ZVRvYXN0XG4gICAgXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGlmICh0b2FzdC5kZWxldGUpIHtcbiAgICAgICAgICAgIGRlbGV0ZVRvYXN0KCk7XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIGRlbGV0ZVRvYXN0LFxuICAgICAgICB0b2FzdC5kZWxldGVcbiAgICBdKTtcbiAgICBmdW5jdGlvbiBnZXRMb2FkaW5nSWNvbigpIHtcbiAgICAgICAgdmFyIF90b2FzdF9jbGFzc05hbWVzO1xuICAgICAgICBpZiAoaWNvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGljb25zLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHZhciBfdG9hc3RfY2xhc3NOYW1lczE7XG4gICAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNuKGNsYXNzTmFtZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGNsYXNzTmFtZXMubG9hZGVyLCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzMSA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lczEubG9hZGVyLCAnc29ubmVyLWxvYWRlcicpLFxuICAgICAgICAgICAgICAgIFwiZGF0YS12aXNpYmxlXCI6IHRvYXN0VHlwZSA9PT0gJ2xvYWRpbmcnXG4gICAgICAgICAgICB9LCBpY29ucy5sb2FkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRlciwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmxvYWRlciwgdG9hc3QgPT0gbnVsbCA/IHZvaWQgMCA6IChfdG9hc3RfY2xhc3NOYW1lcyA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lcy5sb2FkZXIpLFxuICAgICAgICAgICAgdmlzaWJsZTogdG9hc3RUeXBlID09PSAnbG9hZGluZydcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGljb24gPSB0b2FzdC5pY29uIHx8IChpY29ucyA9PSBudWxsID8gdm9pZCAwIDogaWNvbnNbdG9hc3RUeXBlXSkgfHwgZ2V0QXNzZXQodG9hc3RUeXBlKTtcbiAgICB2YXIgX3RvYXN0X3JpY2hDb2xvcnMsIF9pY29uc19jbG9zZTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgcmVmOiB0b2FzdFJlZixcbiAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWUsIHRvYXN0Q2xhc3NuYW1lLCBjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLnRvYXN0LCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzID0gdG9hc3QuY2xhc3NOYW1lcykgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdF9jbGFzc05hbWVzLnRvYXN0LCBjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmRlZmF1bHQsIGNsYXNzTmFtZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGNsYXNzTmFtZXNbdG9hc3RUeXBlXSwgdG9hc3QgPT0gbnVsbCA/IHZvaWQgMCA6IChfdG9hc3RfY2xhc3NOYW1lczEgPSB0b2FzdC5jbGFzc05hbWVzKSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0X2NsYXNzTmFtZXMxW3RvYXN0VHlwZV0pLFxuICAgICAgICBcImRhdGEtc29ubmVyLXRvYXN0XCI6IFwiXCIsXG4gICAgICAgIFwiZGF0YS1yaWNoLWNvbG9yc1wiOiAoX3RvYXN0X3JpY2hDb2xvcnMgPSB0b2FzdC5yaWNoQ29sb3JzKSAhPSBudWxsID8gX3RvYXN0X3JpY2hDb2xvcnMgOiBkZWZhdWx0UmljaENvbG9ycyxcbiAgICAgICAgXCJkYXRhLXN0eWxlZFwiOiAhQm9vbGVhbih0b2FzdC5qc3ggfHwgdG9hc3QudW5zdHlsZWQgfHwgdW5zdHlsZWQpLFxuICAgICAgICBcImRhdGEtbW91bnRlZFwiOiBtb3VudGVkLFxuICAgICAgICBcImRhdGEtcHJvbWlzZVwiOiBCb29sZWFuKHRvYXN0LnByb21pc2UpLFxuICAgICAgICBcImRhdGEtc3dpcGVkXCI6IGlzU3dpcGVkLFxuICAgICAgICBcImRhdGEtcmVtb3ZlZFwiOiByZW1vdmVkLFxuICAgICAgICBcImRhdGEtdmlzaWJsZVwiOiBpc1Zpc2libGUsXG4gICAgICAgIFwiZGF0YS15LXBvc2l0aW9uXCI6IHksXG4gICAgICAgIFwiZGF0YS14LXBvc2l0aW9uXCI6IHgsXG4gICAgICAgIFwiZGF0YS1pbmRleFwiOiBpbmRleCxcbiAgICAgICAgXCJkYXRhLWZyb250XCI6IGlzRnJvbnQsXG4gICAgICAgIFwiZGF0YS1zd2lwaW5nXCI6IHN3aXBpbmcsXG4gICAgICAgIFwiZGF0YS1kaXNtaXNzaWJsZVwiOiBkaXNtaXNzaWJsZSxcbiAgICAgICAgXCJkYXRhLXR5cGVcIjogdG9hc3RUeXBlLFxuICAgICAgICBcImRhdGEtaW52ZXJ0XCI6IGludmVydCxcbiAgICAgICAgXCJkYXRhLXN3aXBlLW91dFwiOiBzd2lwZU91dCxcbiAgICAgICAgXCJkYXRhLXN3aXBlLWRpcmVjdGlvblwiOiBzd2lwZU91dERpcmVjdGlvbixcbiAgICAgICAgXCJkYXRhLWV4cGFuZGVkXCI6IEJvb2xlYW4oZXhwYW5kZWQgfHwgZXhwYW5kQnlEZWZhdWx0ICYmIG1vdW50ZWQpLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgJy0taW5kZXgnOiBpbmRleCxcbiAgICAgICAgICAgICctLXRvYXN0cy1iZWZvcmUnOiBpbmRleCxcbiAgICAgICAgICAgICctLXotaW5kZXgnOiB0b2FzdHMubGVuZ3RoIC0gaW5kZXgsXG4gICAgICAgICAgICAnLS1vZmZzZXQnOiBgJHtyZW1vdmVkID8gb2Zmc2V0QmVmb3JlUmVtb3ZlIDogb2Zmc2V0LmN1cnJlbnR9cHhgLFxuICAgICAgICAgICAgJy0taW5pdGlhbC1oZWlnaHQnOiBleHBhbmRCeURlZmF1bHQgPyAnYXV0bycgOiBgJHtpbml0aWFsSGVpZ2h0fXB4YCxcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgLi4udG9hc3Quc3R5bGVcbiAgICAgICAgfSxcbiAgICAgICAgb25EcmFnRW5kOiAoKT0+e1xuICAgICAgICAgICAgc2V0U3dpcGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRTd2lwZURpcmVjdGlvbihudWxsKTtcbiAgICAgICAgICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyRG93bjogKGV2ZW50KT0+e1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkIHx8ICFkaXNtaXNzaWJsZSkgcmV0dXJuO1xuICAgICAgICAgICAgZHJhZ1N0YXJ0VGltZS5jdXJyZW50ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHNldE9mZnNldEJlZm9yZVJlbW92ZShvZmZzZXQuY3VycmVudCk7XG4gICAgICAgICAgICAvLyBFbnN1cmUgd2UgbWFpbnRhaW4gY29ycmVjdCBwb2ludGVyIGNhcHR1cmUgZXZlbiB3aGVuIGdvaW5nIG91dHNpZGUgb2YgdGhlIHRvYXN0IChlLmcuIHdoZW4gc3dpcGluZylcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lID09PSAnQlVUVE9OJykgcmV0dXJuO1xuICAgICAgICAgICAgc2V0U3dpcGluZyh0cnVlKTtcbiAgICAgICAgICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyVXA6ICgpPT57XG4gICAgICAgICAgICB2YXIgX3RvYXN0UmVmX2N1cnJlbnQsIF90b2FzdFJlZl9jdXJyZW50MSwgX2RyYWdTdGFydFRpbWVfY3VycmVudDtcbiAgICAgICAgICAgIGlmIChzd2lwZU91dCB8fCAhZGlzbWlzc2libGUpIHJldHVybjtcbiAgICAgICAgICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHN3aXBlQW1vdW50WCA9IE51bWJlcigoKF90b2FzdFJlZl9jdXJyZW50ID0gdG9hc3RSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdFJlZl9jdXJyZW50LnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tc3dpcGUtYW1vdW50LXgnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMCk7XG4gICAgICAgICAgICBjb25zdCBzd2lwZUFtb3VudFkgPSBOdW1iZXIoKChfdG9hc3RSZWZfY3VycmVudDEgPSB0b2FzdFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0UmVmX2N1cnJlbnQxLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tc3dpcGUtYW1vdW50LXknKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMCk7XG4gICAgICAgICAgICBjb25zdCB0aW1lVGFrZW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtICgoX2RyYWdTdGFydFRpbWVfY3VycmVudCA9IGRyYWdTdGFydFRpbWUuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kcmFnU3RhcnRUaW1lX2N1cnJlbnQuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHN3aXBlQW1vdW50ID0gc3dpcGVEaXJlY3Rpb24gPT09ICd4JyA/IHN3aXBlQW1vdW50WCA6IHN3aXBlQW1vdW50WTtcbiAgICAgICAgICAgIGNvbnN0IHZlbG9jaXR5ID0gTWF0aC5hYnMoc3dpcGVBbW91bnQpIC8gdGltZVRha2VuO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHN3aXBlQW1vdW50KSA+PSBTV0lQRV9USFJFU0hPTEQgfHwgdmVsb2NpdHkgPiAwLjExKSB7XG4gICAgICAgICAgICAgICAgc2V0T2Zmc2V0QmVmb3JlUmVtb3ZlKG9mZnNldC5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICB0b2FzdC5vbkRpc21pc3MgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0Lm9uRGlzbWlzcy5jYWxsKHRvYXN0LCB0b2FzdCk7XG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlRGlyZWN0aW9uID09PSAneCcpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U3dpcGVPdXREaXJlY3Rpb24oc3dpcGVBbW91bnRYID4gMCA/ICdyaWdodCcgOiAnbGVmdCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN3aXBlT3V0RGlyZWN0aW9uKHN3aXBlQW1vdW50WSA+IDAgPyAnZG93bicgOiAndXAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlVG9hc3QoKTtcbiAgICAgICAgICAgICAgICBzZXRTd2lwZU91dCh0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfdG9hc3RSZWZfY3VycmVudDIsIF90b2FzdFJlZl9jdXJyZW50MztcbiAgICAgICAgICAgICAgICAoX3RvYXN0UmVmX2N1cnJlbnQyID0gdG9hc3RSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdFJlZl9jdXJyZW50Mi5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zd2lwZS1hbW91bnQteCcsIGAwcHhgKTtcbiAgICAgICAgICAgICAgICAoX3RvYXN0UmVmX2N1cnJlbnQzID0gdG9hc3RSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdFJlZl9jdXJyZW50My5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zd2lwZS1hbW91bnQteScsIGAwcHhgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldElzU3dpcGVkKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFN3aXBpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0U3dpcGVEaXJlY3Rpb24obnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlck1vdmU6IChldmVudCk9PntcbiAgICAgICAgICAgIHZhciBfd2luZG93X2dldFNlbGVjdGlvbiwgLy8gQXBwbHkgdHJhbnNmb3JtIHVzaW5nIGJvdGggeCBhbmQgeSB2YWx1ZXNcbiAgICAgICAgICAgIF90b2FzdFJlZl9jdXJyZW50LCBfdG9hc3RSZWZfY3VycmVudDE7XG4gICAgICAgICAgICBpZiAoIXBvaW50ZXJTdGFydFJlZi5jdXJyZW50IHx8ICFkaXNtaXNzaWJsZSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgaXNIaWdobGlnaHRlZCA9ICgoX3dpbmRvd19nZXRTZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpID09IG51bGwgPyB2b2lkIDAgOiBfd2luZG93X2dldFNlbGVjdGlvbi50b1N0cmluZygpLmxlbmd0aCkgPiAwO1xuICAgICAgICAgICAgaWYgKGlzSGlnaGxpZ2h0ZWQpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHlEZWx0YSA9IGV2ZW50LmNsaWVudFkgLSBwb2ludGVyU3RhcnRSZWYuY3VycmVudC55O1xuICAgICAgICAgICAgY29uc3QgeERlbHRhID0gZXZlbnQuY2xpZW50WCAtIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50Lng7XG4gICAgICAgICAgICB2YXIgX3Byb3BzX3N3aXBlRGlyZWN0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IHN3aXBlRGlyZWN0aW9ucyA9IChfcHJvcHNfc3dpcGVEaXJlY3Rpb25zID0gcHJvcHMuc3dpcGVEaXJlY3Rpb25zKSAhPSBudWxsID8gX3Byb3BzX3N3aXBlRGlyZWN0aW9ucyA6IGdldERlZmF1bHRTd2lwZURpcmVjdGlvbnMocG9zaXRpb24pO1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHN3aXBlIGRpcmVjdGlvbiBpZiBub3QgYWxyZWFkeSBsb2NrZWRcbiAgICAgICAgICAgIGlmICghc3dpcGVEaXJlY3Rpb24gJiYgKE1hdGguYWJzKHhEZWx0YSkgPiAxIHx8IE1hdGguYWJzKHlEZWx0YSkgPiAxKSkge1xuICAgICAgICAgICAgICAgIHNldFN3aXBlRGlyZWN0aW9uKE1hdGguYWJzKHhEZWx0YSkgPiBNYXRoLmFicyh5RGVsdGEpID8gJ3gnIDogJ3knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzd2lwZUFtb3VudCA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBnZXREYW1wZW5pbmcgPSAoZGVsdGEpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5hYnMoZGVsdGEpIC8gMjA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyAoMS41ICsgZmFjdG9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBPbmx5IGFwcGx5IHN3aXBlIGluIHRoZSBsb2NrZWQgZGlyZWN0aW9uXG4gICAgICAgICAgICBpZiAoc3dpcGVEaXJlY3Rpb24gPT09ICd5Jykge1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB2ZXJ0aWNhbCBzd2lwZXNcbiAgICAgICAgICAgICAgICBpZiAoc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCd0b3AnKSB8fCBzd2lwZURpcmVjdGlvbnMuaW5jbHVkZXMoJ2JvdHRvbScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzd2lwZURpcmVjdGlvbnMuaW5jbHVkZXMoJ3RvcCcpICYmIHlEZWx0YSA8IDAgfHwgc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCdib3R0b20nKSAmJiB5RGVsdGEgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZUFtb3VudC55ID0geURlbHRhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU21vb3RobHkgdHJhbnNpdGlvbiB0byBkYW1wZW5lZCBtb3ZlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGFtcGVuZWREZWx0YSA9IHlEZWx0YSAqIGdldERhbXBlbmluZyh5RGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGRvbid0IGp1bXAgd2hlbiB0cmFuc2l0aW9uaW5nIHRvIGRhbXBlbmVkIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZUFtb3VudC55ID0gTWF0aC5hYnMoZGFtcGVuZWREZWx0YSkgPCBNYXRoLmFicyh5RGVsdGEpID8gZGFtcGVuZWREZWx0YSA6IHlEZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGVEaXJlY3Rpb24gPT09ICd4Jykge1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBob3Jpem9udGFsIHN3aXBlc1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZURpcmVjdGlvbnMuaW5jbHVkZXMoJ2xlZnQnKSB8fCBzd2lwZURpcmVjdGlvbnMuaW5jbHVkZXMoJ3JpZ2h0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN3aXBlRGlyZWN0aW9ucy5pbmNsdWRlcygnbGVmdCcpICYmIHhEZWx0YSA8IDAgfHwgc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCdyaWdodCcpICYmIHhEZWx0YSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlQW1vdW50LnggPSB4RGVsdGE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTbW9vdGhseSB0cmFuc2l0aW9uIHRvIGRhbXBlbmVkIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYW1wZW5lZERlbHRhID0geERlbHRhICogZ2V0RGFtcGVuaW5nKHhEZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgd2UgZG9uJ3QganVtcCB3aGVuIHRyYW5zaXRpb25pbmcgdG8gZGFtcGVuZWQgbW92ZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlQW1vdW50LnggPSBNYXRoLmFicyhkYW1wZW5lZERlbHRhKSA8IE1hdGguYWJzKHhEZWx0YSkgPyBkYW1wZW5lZERlbHRhIDogeERlbHRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHN3aXBlQW1vdW50LngpID4gMCB8fCBNYXRoLmFicyhzd2lwZUFtb3VudC55KSA+IDApIHtcbiAgICAgICAgICAgICAgICBzZXRJc1N3aXBlZCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfdG9hc3RSZWZfY3VycmVudCA9IHRvYXN0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RSZWZfY3VycmVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zd2lwZS1hbW91bnQteCcsIGAke3N3aXBlQW1vdW50Lnh9cHhgKTtcbiAgICAgICAgICAgIChfdG9hc3RSZWZfY3VycmVudDEgPSB0b2FzdFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0UmVmX2N1cnJlbnQxLnN0eWxlLnNldFByb3BlcnR5KCctLXN3aXBlLWFtb3VudC15JywgYCR7c3dpcGVBbW91bnQueX1weGApO1xuICAgICAgICB9XG4gICAgfSwgY2xvc2VCdXR0b24gJiYgIXRvYXN0LmpzeCAmJiB0b2FzdFR5cGUgIT09ICdsb2FkaW5nJyA/IC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBjbG9zZUJ1dHRvbkFyaWFMYWJlbCxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRpc2FibGVkLFxuICAgICAgICBcImRhdGEtY2xvc2UtYnV0dG9uXCI6IHRydWUsXG4gICAgICAgIG9uQ2xpY2s6IGRpc2FibGVkIHx8ICFkaXNtaXNzaWJsZSA/ICgpPT57fSA6ICgpPT57XG4gICAgICAgICAgICBkZWxldGVUb2FzdCgpO1xuICAgICAgICAgICAgdG9hc3Qub25EaXNtaXNzID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdC5vbkRpc21pc3MuY2FsbCh0b2FzdCwgdG9hc3QpO1xuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWU6IGNuKGNsYXNzTmFtZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGNsYXNzTmFtZXMuY2xvc2VCdXR0b24sIHRvYXN0ID09IG51bGwgPyB2b2lkIDAgOiAoX3RvYXN0X2NsYXNzTmFtZXMyID0gdG9hc3QuY2xhc3NOYW1lcykgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdF9jbGFzc05hbWVzMi5jbG9zZUJ1dHRvbilcbiAgICB9LCAoX2ljb25zX2Nsb3NlID0gaWNvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGljb25zLmNsb3NlKSAhPSBudWxsID8gX2ljb25zX2Nsb3NlIDogQ2xvc2VJY29uKSA6IG51bGwsICh0b2FzdFR5cGUgfHwgdG9hc3QuaWNvbiB8fCB0b2FzdC5wcm9taXNlKSAmJiB0b2FzdC5pY29uICE9PSBudWxsICYmICgoaWNvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGljb25zW3RvYXN0VHlwZV0pICE9PSBudWxsIHx8IHRvYXN0Lmljb24pID8gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgXCJkYXRhLWljb25cIjogXCJcIixcbiAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmljb24sIHRvYXN0ID09IG51bGwgPyB2b2lkIDAgOiAoX3RvYXN0X2NsYXNzTmFtZXMzID0gdG9hc3QuY2xhc3NOYW1lcykgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdF9jbGFzc05hbWVzMy5pY29uKVxuICAgIH0sIHRvYXN0LnByb21pc2UgfHwgdG9hc3QudHlwZSA9PT0gJ2xvYWRpbmcnICYmICF0b2FzdC5pY29uID8gdG9hc3QuaWNvbiB8fCBnZXRMb2FkaW5nSWNvbigpIDogbnVsbCwgdG9hc3QudHlwZSAhPT0gJ2xvYWRpbmcnID8gaWNvbiA6IG51bGwpIDogbnVsbCwgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgXCJkYXRhLWNvbnRlbnRcIjogXCJcIixcbiAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmNvbnRlbnQsIHRvYXN0ID09IG51bGwgPyB2b2lkIDAgOiAoX3RvYXN0X2NsYXNzTmFtZXM0ID0gdG9hc3QuY2xhc3NOYW1lcykgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdF9jbGFzc05hbWVzNC5jb250ZW50KVxuICAgIH0sIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIFwiZGF0YS10aXRsZVwiOiBcIlwiLFxuICAgICAgICBjbGFzc05hbWU6IGNuKGNsYXNzTmFtZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGNsYXNzTmFtZXMudGl0bGUsIHRvYXN0ID09IG51bGwgPyB2b2lkIDAgOiAoX3RvYXN0X2NsYXNzTmFtZXM1ID0gdG9hc3QuY2xhc3NOYW1lcykgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdF9jbGFzc05hbWVzNS50aXRsZSlcbiAgICB9LCB0b2FzdC5qc3ggPyB0b2FzdC5qc3ggOiB0eXBlb2YgdG9hc3QudGl0bGUgPT09ICdmdW5jdGlvbicgPyB0b2FzdC50aXRsZSgpIDogdG9hc3QudGl0bGUpLCB0b2FzdC5kZXNjcmlwdGlvbiA/IC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIFwiZGF0YS1kZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgICBjbGFzc05hbWU6IGNuKGRlc2NyaXB0aW9uQ2xhc3NOYW1lLCB0b2FzdERlc2NyaXB0aW9uQ2xhc3NuYW1lLCBjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmRlc2NyaXB0aW9uLCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzNiA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lczYuZGVzY3JpcHRpb24pXG4gICAgfSwgdHlwZW9mIHRvYXN0LmRlc2NyaXB0aW9uID09PSAnZnVuY3Rpb24nID8gdG9hc3QuZGVzY3JpcHRpb24oKSA6IHRvYXN0LmRlc2NyaXB0aW9uKSA6IG51bGwpLCAvKiNfX1BVUkVfXyovIFJlYWN0LmlzVmFsaWRFbGVtZW50KHRvYXN0LmNhbmNlbCkgPyB0b2FzdC5jYW5jZWwgOiB0b2FzdC5jYW5jZWwgJiYgaXNBY3Rpb24odG9hc3QuY2FuY2VsKSA/IC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIFwiZGF0YS1idXR0b25cIjogdHJ1ZSxcbiAgICAgICAgXCJkYXRhLWNhbmNlbFwiOiB0cnVlLFxuICAgICAgICBzdHlsZTogdG9hc3QuY2FuY2VsQnV0dG9uU3R5bGUgfHwgY2FuY2VsQnV0dG9uU3R5bGUsXG4gICAgICAgIG9uQ2xpY2s6IChldmVudCk9PntcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgdHdpY2UgYmVjYXVzZSB0eXBlc2NyaXB0XG4gICAgICAgICAgICBpZiAoIWlzQWN0aW9uKHRvYXN0LmNhbmNlbCkpIHJldHVybjtcbiAgICAgICAgICAgIGlmICghZGlzbWlzc2libGUpIHJldHVybjtcbiAgICAgICAgICAgIHRvYXN0LmNhbmNlbC5vbkNsaWNrID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdC5jYW5jZWwub25DbGljay5jYWxsKHRvYXN0LmNhbmNlbCwgZXZlbnQpO1xuICAgICAgICAgICAgZGVsZXRlVG9hc3QoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmNhbmNlbEJ1dHRvbiwgdG9hc3QgPT0gbnVsbCA/IHZvaWQgMCA6IChfdG9hc3RfY2xhc3NOYW1lczcgPSB0b2FzdC5jbGFzc05hbWVzKSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0X2NsYXNzTmFtZXM3LmNhbmNlbEJ1dHRvbilcbiAgICB9LCB0b2FzdC5jYW5jZWwubGFiZWwpIDogbnVsbCwgLyojX19QVVJFX18qLyBSZWFjdC5pc1ZhbGlkRWxlbWVudCh0b2FzdC5hY3Rpb24pID8gdG9hc3QuYWN0aW9uIDogdG9hc3QuYWN0aW9uICYmIGlzQWN0aW9uKHRvYXN0LmFjdGlvbikgPyAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBcImRhdGEtYnV0dG9uXCI6IHRydWUsXG4gICAgICAgIFwiZGF0YS1hY3Rpb25cIjogdHJ1ZSxcbiAgICAgICAgc3R5bGU6IHRvYXN0LmFjdGlvbkJ1dHRvblN0eWxlIHx8IGFjdGlvbkJ1dHRvblN0eWxlLFxuICAgICAgICBvbkNsaWNrOiAoZXZlbnQpPT57XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIHR3aWNlIGJlY2F1c2UgdHlwZXNjcmlwdFxuICAgICAgICAgICAgaWYgKCFpc0FjdGlvbih0b2FzdC5hY3Rpb24pKSByZXR1cm47XG4gICAgICAgICAgICB0b2FzdC5hY3Rpb24ub25DbGljayA9PSBudWxsID8gdm9pZCAwIDogdG9hc3QuYWN0aW9uLm9uQ2xpY2suY2FsbCh0b2FzdC5hY3Rpb24sIGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICAgICAgICBkZWxldGVUb2FzdCgpO1xuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWU6IGNuKGNsYXNzTmFtZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGNsYXNzTmFtZXMuYWN0aW9uQnV0dG9uLCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzOCA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lczguYWN0aW9uQnV0dG9uKVxuICAgIH0sIHRvYXN0LmFjdGlvbi5sYWJlbCkgOiBudWxsKTtcbn07XG5mdW5jdGlvbiBnZXREb2N1bWVudERpcmVjdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAnbHRyJztcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuICdsdHInOyAvLyBGb3IgRnJlc2ggcHVycG9zZVxuICAgIGNvbnN0IGRpckF0dHJpYnV0ZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpO1xuICAgIGlmIChkaXJBdHRyaWJ1dGUgPT09ICdhdXRvJyB8fCAhZGlyQXR0cmlidXRlKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmRpcmVjdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIGRpckF0dHJpYnV0ZTtcbn1cbmZ1bmN0aW9uIGFzc2lnbk9mZnNldChkZWZhdWx0T2Zmc2V0LCBtb2JpbGVPZmZzZXQpIHtcbiAgICBjb25zdCBzdHlsZXMgPSB7fTtcbiAgICBbXG4gICAgICAgIGRlZmF1bHRPZmZzZXQsXG4gICAgICAgIG1vYmlsZU9mZnNldFxuICAgIF0uZm9yRWFjaCgob2Zmc2V0LCBpbmRleCk9PntcbiAgICAgICAgY29uc3QgaXNNb2JpbGUgPSBpbmRleCA9PT0gMTtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gaXNNb2JpbGUgPyAnLS1tb2JpbGUtb2Zmc2V0JyA6ICctLW9mZnNldCc7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGlzTW9iaWxlID8gTU9CSUxFX1ZJRVdQT1JUX09GRlNFVCA6IFZJRVdQT1JUX09GRlNFVDtcbiAgICAgICAgZnVuY3Rpb24gYXNzaWduQWxsKG9mZnNldCkge1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICd0b3AnLFxuICAgICAgICAgICAgICAgICdyaWdodCcsXG4gICAgICAgICAgICAgICAgJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgJ2xlZnQnXG4gICAgICAgICAgICBdLmZvckVhY2goKGtleSk9PntcbiAgICAgICAgICAgICAgICBzdHlsZXNbYCR7cHJlZml4fS0ke2tleX1gXSA9IHR5cGVvZiBvZmZzZXQgPT09ICdudW1iZXInID8gYCR7b2Zmc2V0fXB4YCA6IG9mZnNldDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgYXNzaWduQWxsKG9mZnNldCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAndG9wJyxcbiAgICAgICAgICAgICAgICAncmlnaHQnLFxuICAgICAgICAgICAgICAgICdib3R0b20nLFxuICAgICAgICAgICAgICAgICdsZWZ0J1xuICAgICAgICAgICAgXS5mb3JFYWNoKChrZXkpPT57XG4gICAgICAgICAgICAgICAgaWYgKG9mZnNldFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzW2Ake3ByZWZpeH0tJHtrZXl9YF0gPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzW2Ake3ByZWZpeH0tJHtrZXl9YF0gPSB0eXBlb2Ygb2Zmc2V0W2tleV0gPT09ICdudW1iZXInID8gYCR7b2Zmc2V0W2tleV19cHhgIDogb2Zmc2V0W2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhc3NpZ25BbGwoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzdHlsZXM7XG59XG5mdW5jdGlvbiB1c2VTb25uZXIoKSB7XG4gICAgY29uc3QgW2FjdGl2ZVRvYXN0cywgc2V0QWN0aXZlVG9hc3RzXSA9IFJlYWN0LnVzZVN0YXRlKFtdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgcmV0dXJuIFRvYXN0U3RhdGUuc3Vic2NyaWJlKCh0b2FzdCk9PntcbiAgICAgICAgICAgIGlmICh0b2FzdC5kaXNtaXNzKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICBSZWFjdERPTS5mbHVzaFN5bmMoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRvYXN0cygodG9hc3RzKT0+dG9hc3RzLmZpbHRlcigodCk9PnQuaWQgIT09IHRvYXN0LmlkKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByZXZlbnQgYmF0Y2hpbmcsIHRlbXAgc29sdXRpb24uXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgUmVhY3RET00uZmx1c2hTeW5jKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVRvYXN0cygodG9hc3RzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhPZkV4aXN0aW5nVG9hc3QgPSB0b2FzdHMuZmluZEluZGV4KCh0KT0+dC5pZCA9PT0gdG9hc3QuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0b2FzdCBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4T2ZFeGlzdGluZ1RvYXN0ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0cy5zbGljZSgwLCBpbmRleE9mRXhpc3RpbmdUb2FzdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0c1tpbmRleE9mRXhpc3RpbmdUb2FzdF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdHMuc2xpY2UoaW5kZXhPZkV4aXN0aW5nVG9hc3QgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvYXN0czogYWN0aXZlVG9hc3RzXG4gICAgfTtcbn1cbmNvbnN0IFRvYXN0ZXIgPSAvKiNfX1BVUkVfXyovIFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gVG9hc3Rlcihwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyBpbnZlcnQsIHBvc2l0aW9uID0gJ2JvdHRvbS1yaWdodCcsIGhvdGtleSA9IFtcbiAgICAgICAgJ2FsdEtleScsXG4gICAgICAgICdLZXlUJ1xuICAgIF0sIGV4cGFuZCwgY2xvc2VCdXR0b24sIGNsYXNzTmFtZSwgb2Zmc2V0LCBtb2JpbGVPZmZzZXQsIHRoZW1lID0gJ2xpZ2h0JywgcmljaENvbG9ycywgZHVyYXRpb24sIHN0eWxlLCB2aXNpYmxlVG9hc3RzID0gVklTSUJMRV9UT0FTVFNfQU1PVU5ULCB0b2FzdE9wdGlvbnMsIGRpciA9IGdldERvY3VtZW50RGlyZWN0aW9uKCksIGdhcCA9IEdBUCwgaWNvbnMsIGNvbnRhaW5lckFyaWFMYWJlbCA9ICdOb3RpZmljYXRpb25zJyB9ID0gcHJvcHM7XG4gICAgY29uc3QgW3RvYXN0cywgc2V0VG9hc3RzXSA9IFJlYWN0LnVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBwb3NzaWJsZVBvc2l0aW9ucyA9IFJlYWN0LnVzZU1lbW8oKCk9PntcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChbXG4gICAgICAgICAgICBwb3NpdGlvblxuICAgICAgICBdLmNvbmNhdCh0b2FzdHMuZmlsdGVyKCh0b2FzdCk9PnRvYXN0LnBvc2l0aW9uKS5tYXAoKHRvYXN0KT0+dG9hc3QucG9zaXRpb24pKSkpO1xuICAgIH0sIFtcbiAgICAgICAgdG9hc3RzLFxuICAgICAgICBwb3NpdGlvblxuICAgIF0pO1xuICAgIGNvbnN0IFtoZWlnaHRzLCBzZXRIZWlnaHRzXSA9IFJlYWN0LnVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbZXhwYW5kZWQsIHNldEV4cGFuZGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaW50ZXJhY3RpbmcsIHNldEludGVyYWN0aW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbYWN0dWFsVGhlbWUsIHNldEFjdHVhbFRoZW1lXSA9IFJlYWN0LnVzZVN0YXRlKHRoZW1lICE9PSAnc3lzdGVtJyA/IHRoZW1lIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubWF0Y2hNZWRpYSAmJiB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXMgPyAnZGFyaycgOiAnbGlnaHQnIDogJ2xpZ2h0Jyk7XG4gICAgY29uc3QgbGlzdFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBob3RrZXlMYWJlbCA9IGhvdGtleS5qb2luKCcrJykucmVwbGFjZSgvS2V5L2csICcnKS5yZXBsYWNlKC9EaWdpdC9nLCAnJyk7XG4gICAgY29uc3QgbGFzdEZvY3VzZWRFbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGlzRm9jdXNXaXRoaW5SZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IHJlbW92ZVRvYXN0ID0gUmVhY3QudXNlQ2FsbGJhY2soKHRvYXN0VG9SZW1vdmUpPT57XG4gICAgICAgIHNldFRvYXN0cygodG9hc3RzKT0+e1xuICAgICAgICAgICAgdmFyIF90b2FzdHNfZmluZDtcbiAgICAgICAgICAgIGlmICghKChfdG9hc3RzX2ZpbmQgPSB0b2FzdHMuZmluZCgodG9hc3QpPT50b2FzdC5pZCA9PT0gdG9hc3RUb1JlbW92ZS5pZCkpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RzX2ZpbmQuZGVsZXRlKSkge1xuICAgICAgICAgICAgICAgIFRvYXN0U3RhdGUuZGlzbWlzcyh0b2FzdFRvUmVtb3ZlLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b2FzdHMuZmlsdGVyKCh7IGlkIH0pPT5pZCAhPT0gdG9hc3RUb1JlbW92ZS5pZCk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgcmV0dXJuIFRvYXN0U3RhdGUuc3Vic2NyaWJlKCh0b2FzdCk9PntcbiAgICAgICAgICAgIGlmICh0b2FzdC5kaXNtaXNzKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBiYXRjaGluZyBvZiBvdGhlciBzdGF0ZSB1cGRhdGVzXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIHNldFRvYXN0cygodG9hc3RzKT0+dG9hc3RzLm1hcCgodCk9PnQuaWQgPT09IHRvYXN0LmlkID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogdCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByZXZlbnQgYmF0Y2hpbmcsIHRlbXAgc29sdXRpb24uXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgUmVhY3RET00uZmx1c2hTeW5jKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIHNldFRvYXN0cygodG9hc3RzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhPZkV4aXN0aW5nVG9hc3QgPSB0b2FzdHMuZmluZEluZGV4KCh0KT0+dC5pZCA9PT0gdG9hc3QuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0b2FzdCBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4T2ZFeGlzdGluZ1RvYXN0ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0cy5zbGljZSgwLCBpbmRleE9mRXhpc3RpbmdUb2FzdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0c1tpbmRleE9mRXhpc3RpbmdUb2FzdF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdHMuc2xpY2UoaW5kZXhPZkV4aXN0aW5nVG9hc3QgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW1xuICAgICAgICB0b2FzdHNcbiAgICBdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgaWYgKHRoZW1lICE9PSAnc3lzdGVtJykge1xuICAgICAgICAgICAgc2V0QWN0dWFsVGhlbWUodGhlbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGVtZSA9PT0gJ3N5c3RlbScpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgcHJlZmVyZW5jZSBpcyBkYXJrXG4gICAgICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gaXQncyBjdXJyZW50bHkgZGFya1xuICAgICAgICAgICAgICAgIHNldEFjdHVhbFRoZW1lKCdkYXJrJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGl0J3Mgbm90IGRhcmtcbiAgICAgICAgICAgICAgICBzZXRBY3R1YWxUaGVtZSgnbGlnaHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICAgICAgY29uc3QgZGFya01lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hyb21lICYgRmlyZWZveFxuICAgICAgICAgICAgZGFya01lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKHsgbWF0Y2hlcyB9KT0+e1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdHVhbFRoZW1lKCdkYXJrJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0dWFsVGhlbWUoJ2xpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBTYWZhcmkgPCAxNFxuICAgICAgICAgICAgZGFya01lZGlhUXVlcnkuYWRkTGlzdGVuZXIoKHsgbWF0Y2hlcyB9KT0+e1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3R1YWxUaGVtZSgnZGFyaycpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0dWFsVGhlbWUoJ2xpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIHRoZW1lXG4gICAgXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIC8vIEVuc3VyZSBleHBhbmRlZCBpcyBhbHdheXMgZmFsc2Ugd2hlbiBubyB0b2FzdHMgYXJlIHByZXNlbnQgLyBvbmx5IG9uZSBsZWZ0XG4gICAgICAgIGlmICh0b2FzdHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIHNldEV4cGFuZGVkKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtcbiAgICAgICAgdG9hc3RzXG4gICAgXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQpPT57XG4gICAgICAgICAgICB2YXIgX2xpc3RSZWZfY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGlzSG90a2V5UHJlc3NlZCA9IGhvdGtleS5ldmVyeSgoa2V5KT0+ZXZlbnRba2V5XSB8fCBldmVudC5jb2RlID09PSBrZXkpO1xuICAgICAgICAgICAgaWYgKGlzSG90a2V5UHJlc3NlZCkge1xuICAgICAgICAgICAgICAgIHZhciBfbGlzdFJlZl9jdXJyZW50MTtcbiAgICAgICAgICAgICAgICBzZXRFeHBhbmRlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAoX2xpc3RSZWZfY3VycmVudDEgPSBsaXN0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbGlzdFJlZl9jdXJyZW50MS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09ICdFc2NhcGUnICYmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsaXN0UmVmLmN1cnJlbnQgfHwgKChfbGlzdFJlZl9jdXJyZW50ID0gbGlzdFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2xpc3RSZWZfY3VycmVudC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkpKSB7XG4gICAgICAgICAgICAgICAgc2V0RXhwYW5kZWQoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIHJldHVybiAoKT0+ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgIH0sIFtcbiAgICAgICAgaG90a2V5XG4gICAgXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGlmIChsaXN0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgIGlmIChsYXN0Rm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0Rm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudC5mb2N1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsYXN0Rm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlzRm9jdXNXaXRoaW5SZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIGxpc3RSZWYuY3VycmVudFxuICAgIF0pO1xuICAgIHJldHVybigvLyBSZW1vdmUgaXRlbSBmcm9tIG5vcm1hbCBuYXZpZ2F0aW9uIGZsb3csIG9ubHkgYXZhaWxhYmxlIHZpYSBob3RrZXlcbiAgICAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIHtcbiAgICAgICAgcmVmOiByZWYsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBgJHtjb250YWluZXJBcmlhTGFiZWx9ICR7aG90a2V5TGFiZWx9YCxcbiAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICBcImFyaWEtbGl2ZVwiOiBcInBvbGl0ZVwiLFxuICAgICAgICBcImFyaWEtcmVsZXZhbnRcIjogXCJhZGRpdGlvbnMgdGV4dFwiLFxuICAgICAgICBcImFyaWEtYXRvbWljXCI6IFwiZmFsc2VcIixcbiAgICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlXG4gICAgfSwgcG9zc2libGVQb3NpdGlvbnMubWFwKChwb3NpdGlvbiwgaW5kZXgpPT57XG4gICAgICAgIHZhciBfaGVpZ2h0c187XG4gICAgICAgIGNvbnN0IFt5LCB4XSA9IHBvc2l0aW9uLnNwbGl0KCctJyk7XG4gICAgICAgIGlmICghdG9hc3RzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvbFwiLCB7XG4gICAgICAgICAgICBrZXk6IHBvc2l0aW9uLFxuICAgICAgICAgICAgZGlyOiBkaXIgPT09ICdhdXRvJyA/IGdldERvY3VtZW50RGlyZWN0aW9uKCkgOiBkaXIsXG4gICAgICAgICAgICB0YWJJbmRleDogLTEsXG4gICAgICAgICAgICByZWY6IGxpc3RSZWYsXG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICAgIFwiZGF0YS1zb25uZXItdG9hc3RlclwiOiB0cnVlLFxuICAgICAgICAgICAgXCJkYXRhLXNvbm5lci10aGVtZVwiOiBhY3R1YWxUaGVtZSxcbiAgICAgICAgICAgIFwiZGF0YS15LXBvc2l0aW9uXCI6IHksXG4gICAgICAgICAgICBcImRhdGEtbGlmdGVkXCI6IGV4cGFuZGVkICYmIHRvYXN0cy5sZW5ndGggPiAxICYmICFleHBhbmQsXG4gICAgICAgICAgICBcImRhdGEteC1wb3NpdGlvblwiOiB4LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAnLS1mcm9udC10b2FzdC1oZWlnaHQnOiBgJHsoKF9oZWlnaHRzXyA9IGhlaWdodHNbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfaGVpZ2h0c18uaGVpZ2h0KSB8fCAwfXB4YCxcbiAgICAgICAgICAgICAgICAnLS13aWR0aCc6IGAke1RPQVNUX1dJRFRIfXB4YCxcbiAgICAgICAgICAgICAgICAnLS1nYXAnOiBgJHtnYXB9cHhgLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgICAgIC4uLmFzc2lnbk9mZnNldChvZmZzZXQsIG1vYmlsZU9mZnNldClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJsdXI6IChldmVudCk9PntcbiAgICAgICAgICAgICAgICBpZiAoaXNGb2N1c1dpdGhpblJlZi5jdXJyZW50ICYmICFldmVudC5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRm9jdXNXaXRoaW5SZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEZvY3VzZWRFbGVtZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RGb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50LmZvY3VzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RGb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZvY3VzOiAoZXZlbnQpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgaXNOb3REaXNtaXNzaWJsZSA9IGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGV2ZW50LnRhcmdldC5kYXRhc2V0LmRpc21pc3NpYmxlID09PSAnZmFsc2UnO1xuICAgICAgICAgICAgICAgIGlmIChpc05vdERpc21pc3NpYmxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKCFpc0ZvY3VzV2l0aGluUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGb2N1c1dpdGhpblJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZvY3VzZWRFbGVtZW50UmVmLmN1cnJlbnQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI6ICgpPT5zZXRFeHBhbmRlZCh0cnVlKSxcbiAgICAgICAgICAgIG9uTW91c2VNb3ZlOiAoKT0+c2V0RXhwYW5kZWQodHJ1ZSksXG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU6ICgpPT57XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgc2V0dGluZyBleHBhbmRlZCB0byBmYWxzZSB3aGVuIGludGVyYWN0aW5nIHdpdGggYSB0b2FzdCwgZS5nLiBzd2lwaW5nXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcmFjdGluZykge1xuICAgICAgICAgICAgICAgICAgICBzZXRFeHBhbmRlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZ0VuZDogKCk9PnNldEV4cGFuZGVkKGZhbHNlKSxcbiAgICAgICAgICAgIG9uUG9pbnRlckRvd246IChldmVudCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBpc05vdERpc21pc3NpYmxlID0gZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgZXZlbnQudGFyZ2V0LmRhdGFzZXQuZGlzbWlzc2libGUgPT09ICdmYWxzZSc7XG4gICAgICAgICAgICAgICAgaWYgKGlzTm90RGlzbWlzc2libGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICBzZXRJbnRlcmFjdGluZyh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblBvaW50ZXJVcDogKCk9PnNldEludGVyYWN0aW5nKGZhbHNlKVxuICAgICAgICB9LCB0b2FzdHMuZmlsdGVyKCh0b2FzdCk9PiF0b2FzdC5wb3NpdGlvbiAmJiBpbmRleCA9PT0gMCB8fCB0b2FzdC5wb3NpdGlvbiA9PT0gcG9zaXRpb24pLm1hcCgodG9hc3QsIGluZGV4KT0+e1xuICAgICAgICAgICAgdmFyIF90b2FzdE9wdGlvbnNfZHVyYXRpb24sIF90b2FzdE9wdGlvbnNfY2xvc2VCdXR0b247XG4gICAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFRvYXN0LCB7XG4gICAgICAgICAgICAgICAga2V5OiB0b2FzdC5pZCxcbiAgICAgICAgICAgICAgICBpY29uczogaWNvbnMsXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgIHRvYXN0OiB0b2FzdCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0UmljaENvbG9yczogcmljaENvbG9ycyxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogKF90b2FzdE9wdGlvbnNfZHVyYXRpb24gPSB0b2FzdE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0T3B0aW9ucy5kdXJhdGlvbikgIT0gbnVsbCA/IF90b2FzdE9wdGlvbnNfZHVyYXRpb24gOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRvYXN0T3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogdG9hc3RPcHRpb25zLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbkNsYXNzTmFtZTogdG9hc3RPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdE9wdGlvbnMuZGVzY3JpcHRpb25DbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgaW52ZXJ0OiBpbnZlcnQsXG4gICAgICAgICAgICAgICAgdmlzaWJsZVRvYXN0czogdmlzaWJsZVRvYXN0cyxcbiAgICAgICAgICAgICAgICBjbG9zZUJ1dHRvbjogKF90b2FzdE9wdGlvbnNfY2xvc2VCdXR0b24gPSB0b2FzdE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0T3B0aW9ucy5jbG9zZUJ1dHRvbikgIT0gbnVsbCA/IF90b2FzdE9wdGlvbnNfY2xvc2VCdXR0b24gOiBjbG9zZUJ1dHRvbixcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGluZzogaW50ZXJhY3RpbmcsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB0b2FzdE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0T3B0aW9ucy5zdHlsZSxcbiAgICAgICAgICAgICAgICB1bnN0eWxlZDogdG9hc3RPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdE9wdGlvbnMudW5zdHlsZWQsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lczogdG9hc3RPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdE9wdGlvbnMuY2xhc3NOYW1lcyxcbiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25TdHlsZTogdG9hc3RPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdE9wdGlvbnMuY2FuY2VsQnV0dG9uU3R5bGUsXG4gICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uU3R5bGU6IHRvYXN0T3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogdG9hc3RPcHRpb25zLmFjdGlvbkJ1dHRvblN0eWxlLFxuICAgICAgICAgICAgICAgIGNsb3NlQnV0dG9uQXJpYUxhYmVsOiB0b2FzdE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0T3B0aW9ucy5jbG9zZUJ1dHRvbkFyaWFMYWJlbCxcbiAgICAgICAgICAgICAgICByZW1vdmVUb2FzdDogcmVtb3ZlVG9hc3QsXG4gICAgICAgICAgICAgICAgdG9hc3RzOiB0b2FzdHMuZmlsdGVyKCh0KT0+dC5wb3NpdGlvbiA9PSB0b2FzdC5wb3NpdGlvbiksXG4gICAgICAgICAgICAgICAgaGVpZ2h0czogaGVpZ2h0cy5maWx0ZXIoKGgpPT5oLnBvc2l0aW9uID09IHRvYXN0LnBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICBzZXRIZWlnaHRzOiBzZXRIZWlnaHRzLFxuICAgICAgICAgICAgICAgIGV4cGFuZEJ5RGVmYXVsdDogZXhwYW5kLFxuICAgICAgICAgICAgICAgIGdhcDogZ2FwLFxuICAgICAgICAgICAgICAgIGV4cGFuZGVkOiBleHBhbmRlZCxcbiAgICAgICAgICAgICAgICBzd2lwZURpcmVjdGlvbnM6IHByb3BzLnN3aXBlRGlyZWN0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9KSkpO1xufSk7XG5cbmV4cG9ydCB7IFRvYXN0ZXIsIHRvYXN0LCB1c2VTb25uZXIgfTtcbiIsICJjb25zdCByPU9iamVjdC5jcmVhdGUobnVsbCksaT1lPT5nbG9iYWxUaGlzLnByb2Nlc3M/LmVudnx8aW1wb3J0Lm1ldGEuZW52fHxnbG9iYWxUaGlzLkRlbm8/LmVudi50b09iamVjdCgpfHxnbG9iYWxUaGlzLl9fZW52X198fChlP3I6Z2xvYmFsVGhpcyksbz1uZXcgUHJveHkocix7Z2V0KGUscyl7cmV0dXJuIGkoKVtzXT8/cltzXX0saGFzKGUscyl7Y29uc3QgRT1pKCk7cmV0dXJuIHMgaW4gRXx8cyBpbiByfSxzZXQoZSxzLEUpe2NvbnN0IEI9aSghMCk7cmV0dXJuIEJbc109RSwhMH0sZGVsZXRlUHJvcGVydHkoZSxzKXtpZighcylyZXR1cm4hMTtjb25zdCBFPWkoITApO3JldHVybiBkZWxldGUgRVtzXSwhMH0sb3duS2V5cygpe2NvbnN0IGU9aSghMCk7cmV0dXJuIE9iamVjdC5rZXlzKGUpfX0pLHQ9dHlwZW9mIHByb2Nlc3M8XCJ1XCImJnByb2Nlc3MuZW52JiZwcm9jZXNzLmVudi5OT0RFX0VOVnx8XCJcIixmPVtbXCJBUFBWRVlPUlwiXSxbXCJBV1NfQU1QTElGWVwiLFwiQVdTX0FQUF9JRFwiLHtjaTohMH1dLFtcIkFaVVJFX1BJUEVMSU5FU1wiLFwiU1lTVEVNX1RFQU1GT1VOREFUSU9OQ09MTEVDVElPTlVSSVwiXSxbXCJBWlVSRV9TVEFUSUNcIixcIklOUFVUX0FaVVJFX1NUQVRJQ19XRUJfQVBQU19BUElfVE9LRU5cIl0sW1wiQVBQQ0lSQ0xFXCIsXCJBQ19BUFBDSVJDTEVcIl0sW1wiQkFNQk9PXCIsXCJiYW1ib29fcGxhbktleVwiXSxbXCJCSVRCVUNLRVRcIixcIkJJVEJVQ0tFVF9DT01NSVRcIl0sW1wiQklUUklTRVwiLFwiQklUUklTRV9JT1wiXSxbXCJCVUREWVwiLFwiQlVERFlfV09SS1NQQUNFX0lEXCJdLFtcIkJVSUxES0lURVwiXSxbXCJDSVJDTEVcIixcIkNJUkNMRUNJXCJdLFtcIkNJUlJVU1wiLFwiQ0lSUlVTX0NJXCJdLFtcIkNMT1VERkxBUkVfUEFHRVNcIixcIkNGX1BBR0VTXCIse2NpOiEwfV0sW1wiQ09ERUJVSUxEXCIsXCJDT0RFQlVJTERfQlVJTERfQVJOXCJdLFtcIkNPREVGUkVTSFwiLFwiQ0ZfQlVJTERfSURcIl0sW1wiRFJPTkVcIl0sW1wiRFJPTkVcIixcIkRST05FX0JVSUxEX0VWRU5UXCJdLFtcIkRTQVJJXCJdLFtcIkdJVEhVQl9BQ1RJT05TXCJdLFtcIkdJVExBQlwiLFwiR0lUTEFCX0NJXCJdLFtcIkdJVExBQlwiLFwiQ0lfTUVSR0VfUkVRVUVTVF9JRFwiXSxbXCJHT0NEXCIsXCJHT19QSVBFTElORV9MQUJFTFwiXSxbXCJMQVlFUkNJXCJdLFtcIkhVRFNPTlwiLFwiSFVEU09OX1VSTFwiXSxbXCJKRU5LSU5TXCIsXCJKRU5LSU5TX1VSTFwiXSxbXCJNQUdOVU1cIl0sW1wiTkVUTElGWVwiXSxbXCJORVRMSUZZXCIsXCJORVRMSUZZX0xPQ0FMXCIse2NpOiExfV0sW1wiTkVWRVJDT0RFXCJdLFtcIlJFTkRFUlwiXSxbXCJTQUlMXCIsXCJTQUlMQ0lcIl0sW1wiU0VNQVBIT1JFXCJdLFtcIlNDUkVXRFJJVkVSXCJdLFtcIlNISVBQQUJMRVwiXSxbXCJTT0xBTk9cIixcIlRERElVTVwiXSxbXCJTVFJJREVSXCJdLFtcIlRFQU1DSVRZXCIsXCJURUFNQ0lUWV9WRVJTSU9OXCJdLFtcIlRSQVZJU1wiXSxbXCJWRVJDRUxcIixcIk5PV19CVUlMREVSXCJdLFtcIlZFUkNFTFwiLFwiVkVSQ0VMXCIse2NpOiExfV0sW1wiVkVSQ0VMXCIsXCJWRVJDRUxfRU5WXCIse2NpOiExfV0sW1wiQVBQQ0VOVEVSXCIsXCJBUFBDRU5URVJfQlVJTERfSURcIl0sW1wiQ09ERVNBTkRCT1hcIixcIkNPREVTQU5EQk9YX1NTRVwiLHtjaTohMX1dLFtcIkNPREVTQU5EQk9YXCIsXCJDT0RFU0FOREJPWF9IT1NUXCIse2NpOiExfV0sW1wiU1RBQ0tCTElUWlwiXSxbXCJTVE9STUtJVFwiXSxbXCJDTEVBVlJcIl0sW1wiWkVBQlVSXCJdLFtcIkNPREVTUEhFUkVcIixcIkNPREVTUEhFUkVfQVBQX0lEXCIse2NpOiEwfV0sW1wiUkFJTFdBWVwiLFwiUkFJTFdBWV9QUk9KRUNUX0lEXCJdLFtcIlJBSUxXQVlcIixcIlJBSUxXQVlfU0VSVklDRV9JRFwiXSxbXCJERU5PLURFUExPWVwiLFwiREVOT19ERVBMT1lNRU5UX0lEXCJdLFtcIkZJUkVCQVNFX0FQUF9IT1NUSU5HXCIsXCJGSVJFQkFTRV9BUFBfSE9TVElOR1wiLHtjaTohMH1dXTtmdW5jdGlvbiBiKCl7aWYoZ2xvYmFsVGhpcy5wcm9jZXNzPy5lbnYpZm9yKGNvbnN0IGUgb2YgZil7Y29uc3Qgcz1lWzFdfHxlWzBdO2lmKGdsb2JhbFRoaXMucHJvY2Vzcz8uZW52W3NdKXJldHVybntuYW1lOmVbMF0udG9Mb3dlckNhc2UoKSwuLi5lWzJdfX1yZXR1cm4gZ2xvYmFsVGhpcy5wcm9jZXNzPy5lbnY/LlNIRUxMPT09XCIvYmluL2pzaFwiJiZnbG9iYWxUaGlzLnByb2Nlc3M/LnZlcnNpb25zPy53ZWJjb250YWluZXI/e25hbWU6XCJzdGFja2JsaXR6XCIsY2k6ITF9OntuYW1lOlwiXCIsY2k6ITF9fWNvbnN0IGw9YigpLHA9bC5uYW1lO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGU/ZSE9PVwiZmFsc2VcIjohMX1jb25zdCBJPWdsb2JhbFRoaXMucHJvY2Vzcz8ucGxhdGZvcm18fFwiXCIsVD1uKG8uQ0kpfHxsLmNpIT09ITEsYT1uKGdsb2JhbFRoaXMucHJvY2Vzcz8uc3Rkb3V0JiZnbG9iYWxUaGlzLnByb2Nlc3M/LnN0ZG91dC5pc1RUWSksZD10eXBlb2Ygd2luZG93PFwidVwiLGc9bihvLkRFQlVHKSxSPXQ9PT1cInRlc3RcInx8bihvLlRFU1QpLFU9dD09PVwicHJvZHVjdGlvblwiLGg9dD09PVwiZGV2XCJ8fHQ9PT1cImRldmVsb3BtZW50XCIsdj1uKG8uTUlOSU1BTCl8fFR8fFJ8fCFhLEE9L153aW4vaS50ZXN0KEkpLE09L15saW51eC9pLnRlc3QoSSksbT0vXmRhcndpbi9pLnRlc3QoSSksWT0hbihvLk5PX0NPTE9SKSYmKG4oby5GT1JDRV9DT0xPUil8fChhfHxBKSYmby5URVJNIT09XCJkdW1iXCJ8fFQpLEM9KGdsb2JhbFRoaXMucHJvY2Vzcz8udmVyc2lvbnM/Lm5vZGV8fFwiXCIpLnJlcGxhY2UoL152LyxcIlwiKXx8bnVsbCxWPU51bWJlcihDPy5zcGxpdChcIi5cIilbMF0pfHxudWxsLHk9Z2xvYmFsVGhpcy5wcm9jZXNzfHxPYmplY3QuY3JlYXRlKG51bGwpLF89e3ZlcnNpb25zOnt9fSxXPW5ldyBQcm94eSh5LHtnZXQoZSxzKXtpZihzPT09XCJlbnZcIilyZXR1cm4gbztpZihzIGluIGUpcmV0dXJuIGVbc107aWYocyBpbiBfKXJldHVybiBfW3NdfX0pLGM9Z2xvYmFsVGhpcy5wcm9jZXNzPy5yZWxlYXNlPy5uYW1lPT09XCJub2RlXCIsTz0hIWdsb2JhbFRoaXMuQnVufHwhIWdsb2JhbFRoaXMucHJvY2Vzcz8udmVyc2lvbnM/LmJ1bixEPSEhZ2xvYmFsVGhpcy5EZW5vLEw9ISFnbG9iYWxUaGlzLmZhc3RseSxTPSEhZ2xvYmFsVGhpcy5OZXRsaWZ5LHU9ISFnbG9iYWxUaGlzLkVkZ2VSdW50aW1lLE49Z2xvYmFsVGhpcy5uYXZpZ2F0b3I/LnVzZXJBZ2VudD09PVwiQ2xvdWRmbGFyZS1Xb3JrZXJzXCIsRj1bW1MsXCJuZXRsaWZ5XCJdLFt1LFwiZWRnZS1saWdodFwiXSxbTixcIndvcmtlcmRcIl0sW0wsXCJmYXN0bHlcIl0sW0QsXCJkZW5vXCJdLFtPLFwiYnVuXCJdLFtjLFwibm9kZVwiXV07ZnVuY3Rpb24gRygpe2NvbnN0IGU9Ri5maW5kKHM9PnNbMF0pO2lmKGUpcmV0dXJue25hbWU6ZVsxXX19Y29uc3QgUD1HKCksdz1QPy5uYW1lfHxcIlwiO2V4cG9ydHtvIGFzIGVudixhIGFzIGhhc1RUWSxkIGFzIGhhc1dpbmRvdyxPIGFzIGlzQnVuLFQgYXMgaXNDSSxZIGFzIGlzQ29sb3JTdXBwb3J0ZWQsZyBhcyBpc0RlYnVnLEQgYXMgaXNEZW5vLGggYXMgaXNEZXZlbG9wbWVudCx1IGFzIGlzRWRnZUxpZ2h0LEwgYXMgaXNGYXN0bHksTSBhcyBpc0xpbnV4LG0gYXMgaXNNYWNPUyx2IGFzIGlzTWluaW1hbCxTIGFzIGlzTmV0bGlmeSxjIGFzIGlzTm9kZSxVIGFzIGlzUHJvZHVjdGlvbixSIGFzIGlzVGVzdCxBIGFzIGlzV2luZG93cyxOIGFzIGlzV29ya2VyZCx0IGFzIG5vZGVFTlYsViBhcyBub2RlTWFqb3JWZXJzaW9uLEMgYXMgbm9kZVZlcnNpb24sSSBhcyBwbGF0Zm9ybSxXIGFzIHByb2Nlc3MscCBhcyBwcm92aWRlcixsIGFzIHByb3ZpZGVySW5mbyx3IGFzIHJ1bnRpbWUsUCBhcyBydW50aW1lSW5mb307XG4iLCAiaW1wb3J0IHsgVG9hc3RlciBhcyBTb25uZXIgfSBmcm9tIFwic29ubmVyXCI7XG5cbi8vIGltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSBcIkAvdWkvc3R1ZGlvL3V0aWwvdGhlbWUtcHJvdmlkZXJcIjtcblxudHlwZSBUb2FzdGVyUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgU29ubmVyPjtcblxuY29uc3QgVG9hc3RlciA9ICh7IC4uLnByb3BzIH06IFRvYXN0ZXJQcm9wcykgPT4ge1xuICAvLyBjb25zdCB7IHRoZW1lID0gXCJzeXN0ZW1cIiB9ID0gdXNlVGhlbWUoKTtcblxuICByZXR1cm4gKFxuICAgIDxTb25uZXJcbiAgICAgIC8vIHRoZW1lPXt0aGVtZSBhcyBUb2FzdGVyUHJvcHNbXCJ0aGVtZVwiXX1cbiAgICAgIGNsYXNzTmFtZT1cInRvYXN0ZXIgZ3JvdXBcIlxuICAgICAgdG9hc3RPcHRpb25zPXt7XG4gICAgICAgIGNsYXNzTmFtZXM6IHtcbiAgICAgICAgICB0b2FzdDpcbiAgICAgICAgICAgIFwiZ3JvdXAgdG9hc3QgZ3JvdXAtWy50b2FzdGVyXTpiZy1iYWNrZ3JvdW5kIGdyb3VwLVsudG9hc3Rlcl06dGV4dC1mb3JlZ3JvdW5kIGdyb3VwLVsudG9hc3Rlcl06Ym9yZGVyLWJvcmRlciBncm91cC1bLnRvYXN0ZXJdOnNoYWRvdy1sZ1wiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcImdyb3VwLVsudG9hc3RdOnRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiLFxuICAgICAgICAgIGFjdGlvbkJ1dHRvbjogXCJncm91cC1bLnRvYXN0XTpiZy1wcmltYXJ5IGdyb3VwLVsudG9hc3RdOnRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kXCIsXG4gICAgICAgICAgY2FuY2VsQnV0dG9uOiBcImdyb3VwLVsudG9hc3RdOmJnLW11dGVkIGdyb3VwLVsudG9hc3RdOnRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiLFxuICAgICAgICB9LFxuICAgICAgfX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufTtcblxuZXhwb3J0IHsgVG9hc3RlciB9O1xuIiwgImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuXG4vKipcbiAqIFRoZW1lIHZhcmlhYmxlcyB0eXBlIC0gbWF0Y2hlcyBzaGFkY24gZm9ybWF0XG4gKi9cbmV4cG9ydCB0eXBlIFRoZW1lVmFyaWFibGVzID0gUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuLyoqXG4gKiBDdXN0b20gdGhlbWUgY29uZmlndXJhdGlvbiB3aXRoIGxpZ2h0IGFuZCBkYXJrIHZhcmlhbnRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tVGhlbWUge1xuICBsaWdodDogVGhlbWVWYXJpYWJsZXM7XG4gIGRhcms6IFRoZW1lVmFyaWFibGVzO1xufVxuXG4vKipcbiAqIFBhcnNlIENTUyB2YXJpYWJsZXMgZnJvbSBzaGFkY24gZm9ybWF0IENTUyBzdHJpbmdcbiAqIEhhbmRsZXMgYm90aCA6cm9vdCBhbmQgLmRhcmsgc2VsZWN0b3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVRoZW1lRnJvbUNTUyhjc3NTdHJpbmc6IHN0cmluZyk6IEN1c3RvbVRoZW1lIHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgY29uc3QgdGhlbWU6IEN1c3RvbVRoZW1lID0geyBsaWdodDoge30sIGRhcms6IHt9IH07XG5cbiAgICAvLyBSZW1vdmUgQGxheWVyIGJhc2Ugd3JhcHBlciBpZiBwcmVzZW50XG4gICAgY29uc3QgY2xlYW5Dc3MgPSBjc3NTdHJpbmcucmVwbGFjZSgvQGxheWVyXFxzK2Jhc2VcXHMqXFx7fFxcfSQvZywgXCJcIikudHJpbSgpO1xuXG4gICAgLy8gU3BsaXQgYnkgc2VsZWN0b3JzXG4gICAgY29uc3Qgcm9vdE1hdGNoID0gY2xlYW5Dc3MubWF0Y2goLzpyb290XFxzKlxceyhbXn1dKylcXH0vKTtcbiAgICBjb25zdCBkYXJrTWF0Y2ggPSBjbGVhbkNzcy5tYXRjaCgvXFwuZGFya1xccypcXHsoW159XSspXFx9Lyk7XG5cbiAgICBpZiAocm9vdE1hdGNoICYmIHJvb3RNYXRjaFsxXSkge1xuICAgICAgdGhlbWUubGlnaHQgPSBwYXJzZVZhcmlhYmxlcyhyb290TWF0Y2hbMV0pO1xuICAgIH1cblxuICAgIGlmIChkYXJrTWF0Y2ggJiYgZGFya01hdGNoWzFdKSB7XG4gICAgICB0aGVtZS5kYXJrID0gcGFyc2VWYXJpYWJsZXMoZGFya01hdGNoWzFdKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gbnVsbCBpZiBubyB2YWxpZCB0aGVtZSBmb3VuZFxuICAgIGlmIChPYmplY3Qua2V5cyh0aGVtZS5saWdodCkubGVuZ3RoID09PSAwICYmIE9iamVjdC5rZXlzKHRoZW1lLmRhcmspLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoZW1lO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIENTUyB2YXJpYWJsZXMgZnJvbSBhIENTUyBibG9jayBjb250ZW50XG4gKi9cbmZ1bmN0aW9uIHBhcnNlVmFyaWFibGVzKGNzc0NvbnRlbnQ6IHN0cmluZyk6IFRoZW1lVmFyaWFibGVzIHtcbiAgY29uc3QgdmFyaWFibGVzOiBUaGVtZVZhcmlhYmxlcyA9IHt9O1xuXG4gIGNvbnN0IHZhcmlhYmxlUmVnZXggPSAvLS0oW1xcdy1dKyk6XFxzKihbXjtdKyk7Py9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHZhcmlhYmxlUmVnZXguZXhlYyhjc3NDb250ZW50KSkgIT09IG51bGwpIHtcbiAgICBjb25zdCBbLCBuYW1lLCB2YWx1ZV0gPSBtYXRjaDtcbiAgICBpZiAobmFtZSAmJiB2YWx1ZSkge1xuICAgICAgdmFyaWFibGVzW2AtLSR7bmFtZX1gXSA9IHZhbHVlLnRyaW0oKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFyaWFibGVzO1xufVxuXG4vKipcbiAqIEFwcGx5IHRoZW1lIHZhcmlhYmxlcyB0byB0aGUgZG9jdW1lbnQgcm9vdFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlUaGVtZVZhcmlhYmxlcyh2YXJpYWJsZXM6IFRoZW1lVmFyaWFibGVzKTogdm9pZCB7XG4gIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgT2JqZWN0LmVudHJpZXModmFyaWFibGVzKS5mb3JFYWNoKChbcHJvcGVydHksIHZhbHVlXSkgPT4ge1xuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQXBwbHkgZGFyayBtb2RlIGNsYXNzIHRvIFN0dWRpbyByb290IGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RGFya01vZGVDbGFzcyhpc0RhcmtNb2RlOiBib29sZWFuKTogdm9pZCB7XG4gIGNvbnN0IHN0dWRpb1Jvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBzXCIpO1xuICBpZiAoc3R1ZGlvUm9vdCkge1xuICAgIGlmIChpc0RhcmtNb2RlKSB7XG4gICAgICBzdHVkaW9Sb290LmNsYXNzTGlzdC5hZGQoXCJkYXJrXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHVkaW9Sb290LmNsYXNzTGlzdC5yZW1vdmUoXCJkYXJrXCIpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEhvb2sgdG8gbWFuYWdlIGN1c3RvbSB0aGVtZSBhcHBsaWNhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlVGhlbWUoY3VzdG9tVGhlbWU/OiBDdXN0b21UaGVtZSB8IHN0cmluZywgaXNEYXJrTW9kZT86IGJvb2xlYW4pIHtcbiAgY29uc3QgcGFyc2VkVGhlbWUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIWN1c3RvbVRoZW1lKSByZXR1cm4gbnVsbDtcblxuICAgIGlmICh0eXBlb2YgY3VzdG9tVGhlbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBwYXJzZVRoZW1lRnJvbUNTUyhjdXN0b21UaGVtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1c3RvbVRoZW1lO1xuICB9LCBbY3VzdG9tVGhlbWVdKTtcblxuICBjb25zdCBjdXJyZW50VGhlbWVWYXJpYWJsZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXBhcnNlZFRoZW1lKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IG1vZGUgPSBpc0RhcmtNb2RlID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7XG4gICAgcmV0dXJuIHBhcnNlZFRoZW1lW21vZGVdIHx8IHt9O1xuICB9LCBbcGFyc2VkVGhlbWUsIGlzRGFya01vZGVdKTtcblxuICAvLyBBcHBseSB0aGVtZSB2YXJpYWJsZXMgd2hlbiB0aGV5IGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXJyZW50VGhlbWVWYXJpYWJsZXMpIHtcbiAgICAgIGFwcGx5VGhlbWVWYXJpYWJsZXMoY3VycmVudFRoZW1lVmFyaWFibGVzKTtcbiAgICB9XG4gIH0sIFtjdXJyZW50VGhlbWVWYXJpYWJsZXNdKTtcblxuICAvLyBBcHBseSBkYXJrIG1vZGUgY2xhc3MgdG8gU3R1ZGlvIHJvb3QgZWxlbWVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFwcGx5RGFya01vZGVDbGFzcyhpc0RhcmtNb2RlID8/IGZhbHNlKTtcbiAgfSwgW2lzRGFya01vZGVdKTtcblxuICByZXR1cm4ge1xuICAgIHBhcnNlZFRoZW1lLFxuICAgIGN1cnJlbnRUaGVtZVZhcmlhYmxlcyxcbiAgICBoYXNDdXN0b21UaGVtZTogISFwYXJzZWRUaGVtZSxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICB1bnN0YWJsZV9BZGFwdGVyT3B0aW9ucyBhcyBBZGFwdGVyT3B0aW9ucyxcbiAgdW5zdGFibGVfY3JlYXRlQWRhcHRlclByb3ZpZGVyIGFzIGNyZWF0ZUFkYXB0ZXJQcm92aWRlcixcbn0gZnJvbSBcIm51cXMvYWRhcHRlcnMvY3VzdG9tXCI7XG5pbXBvcnQgeyBGQywgdHlwZSBQcm9wc1dpdGhDaGlsZHJlbiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuZXhwb3J0IHR5cGUgeyBkZWZhdWx0IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8qKlxuICogU2ltcGxlIGRlYm91bmNlIHV0aWxpdHlcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2U8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4oZm46IFQsIGRlbGF5OiBudW1iZXIpIHtcbiAgbGV0IHRpbWVvdXQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgdW5kZWZpbmVkO1xuICByZXR1cm4gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHtcbiAgICBpZiAodGltZW91dCkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGZuKC4uLmFyZ3MpLCBkZWxheSk7XG4gIH07XG59XG5cbi8qKlxuICogSG9vayB0aGF0IE51cXMgd2lsbCBjYWxsIHRvIHJlYWQgJiB3cml0ZSBVUkwgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIHVzZUhhc2hBZGFwdGVyKCkge1xuICBjb25zdCByYXdIYXNoID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpIDogXCJcIjtcbiAgY29uc3QgW2hhc2hQYXJhbXMsIHNldEhhc2hQYXJhbXNdID0gdXNlU3RhdGUobmV3IFVSTFNlYXJjaFBhcmFtcyhyYXdIYXNoKSk7XG5cbiAgLy8gd3JpdGUgbmV3IHN0YXRlIGJhY2sgaW50byB0aGUgaGFzaCBmcmFnbWVudFxuICBmdW5jdGlvbiB1cGRhdGVVcmwodXBkYXRlZDogVVJMU2VhcmNoUGFyYW1zLCB7IGhpc3RvcnkgfTogQWRhcHRlck9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHBhdGhuYW1lLCBzZWFyY2ggfSA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICBjb25zdCBoYXNoID0gdXBkYXRlZC50b1N0cmluZygpO1xuICAgIGNvbnN0IHVybCA9IGAke3BhdGhuYW1lfSR7c2VhcmNofSMke2hhc2h9YDtcblxuICAgIGlmIChoaXN0b3J5ID09PSBcInB1c2hcIikge1xuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIFwiXCIsIHVybCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCB1cmwpO1xuICAgIH1cblxuICAgIHNldEhhc2hQYXJhbXModXBkYXRlZCk7XG4gIH1cblxuICAvLyBleHBvc2UgYSBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCBwYXJhbXNcbiAgZnVuY3Rpb24gZ2V0U2VhcmNoUGFyYW1zU25hcHNob3QoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgfVxuICAgIGNvbnN0IHJhdyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpO1xuXG4gICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMocmF3KTtcbiAgfVxuXG4gIC8vIHN5bmMgc3RhdGUgd2hlbiB1c2VyIG5hdmlnYXRlcyB2aWEgYnJvd3NlciBjb250cm9scyBvciBleHRlcm5hbCBzY3JpcHRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVIYXNoQ2hhbmdlID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgY29uc3QgcmF3SGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpO1xuICAgICAgc2V0SGFzaFBhcmFtcyhuZXcgVVJMU2VhcmNoUGFyYW1zKHJhd0hhc2gpKTtcbiAgICB9LCA1MCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwgaGFuZGxlSGFzaENoYW5nZSk7XG5cbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHsgc2VhcmNoUGFyYW1zOiBoYXNoUGFyYW1zLCB1cGRhdGVVcmwsIGdldFNlYXJjaFBhcmFtc1NuYXBzaG90IH07XG59XG5cbi8qKlxuICogVGhlIGFkYXB0ZXIgcHJvdmlkZXIgY29tcG9uZW50IHlvdSB3cmFwIHlvdXIgYXBwIGluLlxuICovXG5leHBvcnQgY29uc3QgTnVxc0hhc2hBZGFwdGVyID0gY3JlYXRlQWRhcHRlclByb3ZpZGVyKHVzZUhhc2hBZGFwdGVyKSBhcyBGQzxQcm9wc1dpdGhDaGlsZHJlbj47XG4iLCAiJ3VzZSBjbGllbnQnO1xuXG5leHBvcnQgeyByZW5kZXJRdWVyeVN0cmluZywgY3JlYXRlQWRhcHRlclByb3ZpZGVyIGFzIHVuc3RhYmxlX2NyZWF0ZUFkYXB0ZXJQcm92aWRlciB9IGZyb20gJy4uL2NodW5rLTVXV1RKWUdSLmpzJztcbiIsICJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBjcmVhdGVFbGVtZW50LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG4vLyBzcmMvZXJyb3JzLnRzXG52YXIgZXJyb3JzID0ge1xuICAzMDM6IFwiTXVsdGlwbGUgYWRhcHRlciBjb250ZXh0cyBkZXRlY3RlZC4gVGhpcyBtaWdodCBoYXBwZW4gaW4gbW9ub3JlcG9zLlwiLFxuICA0MDQ6IFwibnVxcyByZXF1aXJlcyBhbiBhZGFwdGVyIHRvIHdvcmsgd2l0aCB5b3VyIGZyYW1ld29yay5cIixcbiAgNDA5OiBcIk11bHRpcGxlIHZlcnNpb25zIG9mIHRoZSBsaWJyYXJ5IGFyZSBsb2FkZWQuIFRoaXMgbWF5IGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci4gQ3VycmVudGx5IHVzaW5nIGAlc2AsIGJ1dCBgJXNgICh2aWEgdGhlICVzIGFkYXB0ZXIpIHdhcyBhYm91dCB0byBsb2FkIG9uIHRvcC5cIixcbiAgNDE0OiBcIk1heCBzYWZlIFVSTCBsZW5ndGggZXhjZWVkZWQuIFNvbWUgYnJvd3NlcnMgbWF5IG5vdCBiZSBhYmxlIHRvIGFjY2VwdCB0aGlzIFVSTC4gQ29uc2lkZXIgbGltaXRpbmcgdGhlIGFtb3VudCBvZiBzdGF0ZSBzdG9yZWQgaW4gdGhlIFVSTC5cIixcbiAgNDI5OiBcIlVSTCB1cGRhdGUgcmF0ZS1saW1pdGVkIGJ5IHRoZSBicm93c2VyLiBDb25zaWRlciBpbmNyZWFzaW5nIGB0aHJvdHRsZU1zYCBmb3Iga2V5KHMpIGAlc2AuICVPXCIsXG4gIDUwMDogXCJFbXB0eSBzZWFyY2ggcGFyYW1zIGNhY2hlLiBTZWFyY2ggcGFyYW1zIGNhbid0IGJlIGFjY2Vzc2VkIGluIExheW91dHMuXCIsXG4gIDUwMTogXCJTZWFyY2ggcGFyYW1zIGNhY2hlIGFscmVhZHkgcG9wdWxhdGVkLiBIYXZlIHlvdSBjYWxsZWQgYHBhcnNlYCB0d2ljZT9cIlxufTtcbmZ1bmN0aW9uIGVycm9yKGNvZGUpIHtcbiAgcmV0dXJuIGBbbnVxc10gJHtlcnJvcnNbY29kZV19XG4gIFNlZSBodHRwczovL2Vyci40N25nLmNvbS9OVVFTLSR7Y29kZX1gO1xufVxuXG4vLyBzcmMvdXJsLWVuY29kaW5nLnRzXG5mdW5jdGlvbiByZW5kZXJRdWVyeVN0cmluZyhzZWFyY2gpIHtcbiAgaWYgKHNlYXJjaC5zaXplID09PSAwKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgY29uc3QgcXVlcnkgPSBbXTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygc2VhcmNoLmVudHJpZXMoKSkge1xuICAgIGNvbnN0IHNhZmVLZXkgPSBrZXkucmVwbGFjZSgvIy9nLCBcIiUyM1wiKS5yZXBsYWNlKC8mL2csIFwiJTI2XCIpLnJlcGxhY2UoL1xcKy9nLCBcIiUyQlwiKS5yZXBsYWNlKC89L2csIFwiJTNEXCIpLnJlcGxhY2UoL1xcPy9nLCBcIiUzRlwiKTtcbiAgICBxdWVyeS5wdXNoKGAke3NhZmVLZXl9PSR7ZW5jb2RlUXVlcnlWYWx1ZSh2YWx1ZSl9YCk7XG4gIH1cbiAgY29uc3QgcXVlcnlTdHJpbmcgPSBcIj9cIiArIHF1ZXJ5LmpvaW4oXCImXCIpO1xuICB3YXJuSWZVUkxJc1Rvb0xvbmcocXVlcnlTdHJpbmcpO1xuICByZXR1cm4gcXVlcnlTdHJpbmc7XG59XG5mdW5jdGlvbiBlbmNvZGVRdWVyeVZhbHVlKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5yZXBsYWNlKC8lL2csIFwiJTI1XCIpLnJlcGxhY2UoL1xcKy9nLCBcIiUyQlwiKS5yZXBsYWNlKC8gL2csIFwiK1wiKS5yZXBsYWNlKC8jL2csIFwiJTIzXCIpLnJlcGxhY2UoLyYvZywgXCIlMjZcIikucmVwbGFjZSgvXCIvZywgXCIlMjJcIikucmVwbGFjZSgvJy9nLCBcIiUyN1wiKS5yZXBsYWNlKC9gL2csIFwiJTYwXCIpLnJlcGxhY2UoLzwvZywgXCIlM0NcIikucmVwbGFjZSgvPi9nLCBcIiUzRVwiKS5yZXBsYWNlKC9bXFx4MDAtXFx4MUZdL2csIChjaGFyKSA9PiBlbmNvZGVVUklDb21wb25lbnQoY2hhcikpO1xufVxudmFyIFVSTF9NQVhfTEVOR1RIID0gMmUzO1xuZnVuY3Rpb24gd2FybklmVVJMSXNUb29Mb25nKHF1ZXJ5U3RyaW5nKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuICB1cmwuc2VhcmNoID0gcXVlcnlTdHJpbmc7XG4gIGlmICh1cmwuaHJlZi5sZW5ndGggPiBVUkxfTUFYX0xFTkdUSCkge1xuICAgIGNvbnNvbGUud2FybihlcnJvcig0MTQpKTtcbiAgfVxufVxuXG4vLyBzcmMvZGVidWcudHNcbnZhciBkZWJ1Z0VuYWJsZWQgPSBpc0RlYnVnRW5hYmxlZCgpO1xuZnVuY3Rpb24gZGVidWcobWVzc2FnZSwgLi4uYXJncykge1xuICBpZiAoIWRlYnVnRW5hYmxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBtc2cgPSBzcHJpbnRmKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICBwZXJmb3JtYW5jZS5tYXJrKG1zZyk7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZSwgLi4uYXJncyk7XG4gIH0gY2F0Y2ggKGVycm9yMikge1xuICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhcm4obWVzc2FnZSwgLi4uYXJncykge1xuICBpZiAoIWRlYnVnRW5hYmxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLndhcm4obWVzc2FnZSwgLi4uYXJncyk7XG59XG5mdW5jdGlvbiBzcHJpbnRmKGJhc2UsIC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGJhc2UucmVwbGFjZSgvJVtzZmRPXS9nLCAobWF0Y2gpID0+IHtcbiAgICBjb25zdCBhcmcgPSBhcmdzLnNoaWZ0KCk7XG4gICAgaWYgKG1hdGNoID09PSBcIiVPXCIgJiYgYXJnKSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnKS5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3RyaW5nKGFyZyk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGlzRGVidWdFbmFibGVkKCkge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHRlc3QgPSBcIm51cXMtbG9jYWxTdG9yYWdlLXRlc3RcIjtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0ZXN0LCB0ZXN0KTtcbiAgICBjb25zdCBpc1N0b3JhZ2VBdmFpbGFibGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0ZXN0KSA9PT0gdGVzdDtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0ZXN0KTtcbiAgICBpZiAoIWlzU3RvcmFnZUF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiW251cXNdOiBkZWJ1ZyBtb2RlIGlzIGRpc2FibGVkIChsb2NhbFN0b3JhZ2UgdW5hdmFpbGFibGUpLlwiLFxuICAgICAgZXJyb3IyXG4gICAgKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgZGVidWcyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJkZWJ1Z1wiKSA/PyBcIlwiO1xuICByZXR1cm4gZGVidWcyLmluY2x1ZGVzKFwibnVxc1wiKTtcbn1cblxuLy8gc3JjL2FkYXB0ZXJzL2xpYi9jb250ZXh0LnRzXG52YXIgY29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICB1c2VBZGFwdGVyKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvcig0MDQpKTtcbiAgfVxufSk7XG5jb250ZXh0LmRpc3BsYXlOYW1lID0gXCJOdXFzQWRhcHRlckNvbnRleHRcIjtcbmlmIChkZWJ1Z0VuYWJsZWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBpZiAod2luZG93Ll9fTnVxc0FkYXB0ZXJDb250ZXh0ICYmIHdpbmRvdy5fX051cXNBZGFwdGVyQ29udGV4dCAhPT0gY29udGV4dCkge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IoMzAzKSk7XG4gIH1cbiAgd2luZG93Ll9fTnVxc0FkYXB0ZXJDb250ZXh0ID0gY29udGV4dDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUFkYXB0ZXJQcm92aWRlcih1c2VBZGFwdGVyMikge1xuICByZXR1cm4gKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IGNyZWF0ZUVsZW1lbnQoXG4gICAgY29udGV4dC5Qcm92aWRlcixcbiAgICB7IC4uLnByb3BzLCB2YWx1ZTogeyB1c2VBZGFwdGVyOiB1c2VBZGFwdGVyMiB9IH0sXG4gICAgY2hpbGRyZW5cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZUFkYXB0ZXIoKSB7XG4gIGNvbnN0IHZhbHVlID0gdXNlQ29udGV4dChjb250ZXh0KTtcbiAgaWYgKCEoXCJ1c2VBZGFwdGVyXCIgaW4gdmFsdWUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKDQwNCkpO1xuICB9XG4gIHJldHVybiB2YWx1ZS51c2VBZGFwdGVyKCk7XG59XG5cbmV4cG9ydCB7IGNvbnRleHQsIGNyZWF0ZUFkYXB0ZXJQcm92aWRlciwgZGVidWcsIGVycm9yLCByZW5kZXJRdWVyeVN0cmluZywgdXNlQWRhcHRlciwgd2FybiB9O1xuIiwgIi8vIHdlJ3JlIGVuc3VyaW5nIHRoYXQga2V5cyBhcmUgdHlwZS1zYWZlLiB0aGVyZSBpcyBubyBwcm9wZXIgd2F5IHRvIGFjaGlldmUgaXQgaW4gYG51cXNgLlxuLy8gdGhlIGBkZWNsYXJlIG1vZHVsZWAgdGVjaG5pcXVlIHJlc3VsdHMgaW4gYWRkaW5nIG92ZXJsb2Fkcywgbm90IG92ZXJyaWRpbmcgdGhlIGV4aXN0aW5nIGZ1bmN0aW9ucy5cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtaW1wb3J0c1xuaW1wb3J0IHtcbiAgdHlwZSBPcHRpb25zLFxuICB0eXBlIFBhcnNlcixcbiAgdXNlUXVlcnlTdGF0ZSBhcyB1c2VRdWVyeVN0YXRlT3JpZ2luYWwsXG4gIHR5cGUgVXNlUXVlcnlTdGF0ZU9wdGlvbnMsXG4gIHR5cGUgVXNlUXVlcnlTdGF0ZVJldHVybixcbiAgdXNlUXVlcnlTdGF0ZXMgYXMgdXNlUXVlcnlTdGF0ZXNPcmlnaW5hbCxcbiAgdHlwZSBVc2VRdWVyeVN0YXRlc09wdGlvbnMsXG4gIHR5cGUgVXNlUXVlcnlTdGF0ZXNSZXR1cm4sXG59IGZyb20gXCJudXFzXCI7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWltcG9ydHNcbmV4cG9ydCAqIGZyb20gXCJudXFzXCI7XG5cbmV4cG9ydCB0eXBlIFN0YXRlS2V5ID0gXCJwYWdlSW5kZXhcIiB8IFwicGFnZVNpemVcIiB8IFwidGFibGVcIiB8IFwic29ydFwiIHwgXCJzY2hlbWFcIiB8IFwidGVzdFwiIHwgXCJmaWx0ZXJcIiB8IFwidmlld1wiO1xuXG4vLyBsaWZ0ZWQgZnJvbSBAcHJpc21hL2NsaWVudC9ydW50aW1lXG50eXBlIEV4YWN0PEEsIFc+ID1cbiAgfCAoQSBleHRlbmRzIHVua25vd25cbiAgICAgID8gVyBleHRlbmRzIEFcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBbSyBpbiBrZXlvZiBBXTogRXhhY3Q8QVtLXSwgV1tLXT47XG4gICAgICAgICAgfVxuICAgICAgICA6IFdcbiAgICAgIDogbmV2ZXIpXG4gIHwgKEEgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIgfCBiaWdpbnQgfCBib29sZWFuIHwgW10gPyBBIDogbmV2ZXIpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIGtleU1hcDxjb25zdCBNYXAgZXh0ZW5kcyBQYXJ0aWFsPFJlY29yZDxTdGF0ZUtleSwgYW55Pj4+KFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBrZXlNYXA6IEV4YWN0PE1hcCwgUGFydGlhbDxSZWNvcmQ8U3RhdGVLZXksIGFueT4+Pixcbik6IEJyYW5kZWRLZXlNYXA8TWFwPiB7XG4gIHJldHVybiBrZXlNYXAgYXMgbmV2ZXI7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gdXJsS2V5czxjb25zdCBNYXAgZXh0ZW5kcyBQYXJ0aWFsPFJlY29yZDxTdGF0ZUtleSwgc3RyaW5nPj4+KFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICB1cmxLZXlzOiBFeGFjdDxNYXAsIFBhcnRpYWw8UmVjb3JkPFN0YXRlS2V5LCBzdHJpbmc+Pj4sXG4pOiBCcmFuZGVkS2V5TWFwPE1hcD4ge1xuICByZXR1cm4gdXJsS2V5cyBhcyBuZXZlcjtcbn1cblxuY29uc3QgX0JSQU5EX1NZTUJPTCA9IFN5bWJvbChcIkJSQU5EX1NZTUJPTFwiKTtcblxudHlwZSBCcmFuZGVkS2V5TWFwPE1hcD4gPSBNYXAgJiB7XG4gIFtLIGluIHR5cGVvZiBfQlJBTkRfU1lNQk9MXTogbmV2ZXI7XG59O1xuXG4vKipcbiAqIEBzZWUge0BsaW5rIHVzZVF1ZXJ5U3RhdGVPcmlnaW5hbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJ5U3RhdGU8VD4oXG4gIGtleTogU3RhdGVLZXksXG4gIG9wdGlvbnM6IFVzZVF1ZXJ5U3RhdGVPcHRpb25zPFQ+ICYge1xuICAgIGRlZmF1bHRWYWx1ZTogVDtcbiAgfSxcbik6IFVzZVF1ZXJ5U3RhdGVSZXR1cm48Tm9uTnVsbGFibGU8UmV0dXJuVHlwZTx0eXBlb2Ygb3B0aW9ucy5wYXJzZT4+LCB0eXBlb2Ygb3B0aW9ucy5kZWZhdWx0VmFsdWU+O1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJ5U3RhdGU8VD4oXG4gIGtleTogU3RhdGVLZXksXG4gIG9wdGlvbnM6IFVzZVF1ZXJ5U3RhdGVPcHRpb25zPFQ+LFxuKTogVXNlUXVlcnlTdGF0ZVJldHVybjxOb25OdWxsYWJsZTxSZXR1cm5UeXBlPHR5cGVvZiBvcHRpb25zLnBhcnNlPj4sIHVuZGVmaW5lZD47XG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcnlTdGF0ZShcbiAga2V5OiBTdGF0ZUtleSxcbiAgb3B0aW9uczogT3B0aW9ucyAmIHtcbiAgICBkZWZhdWx0VmFsdWU6IHN0cmluZztcbiAgfSxcbik6IFVzZVF1ZXJ5U3RhdGVSZXR1cm48c3RyaW5nLCB0eXBlb2Ygb3B0aW9ucy5kZWZhdWx0VmFsdWU+O1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJ5U3RhdGUoXG4gIGtleTogU3RhdGVLZXksXG4gIG9wdGlvbnM6IFBpY2s8VXNlUXVlcnlTdGF0ZU9wdGlvbnM8c3RyaW5nPiwga2V5b2YgT3B0aW9ucz4sXG4pOiBVc2VRdWVyeVN0YXRlUmV0dXJuPHN0cmluZywgdW5kZWZpbmVkPjtcbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyeVN0YXRlKGtleTogU3RhdGVLZXkpOiBVc2VRdWVyeVN0YXRlUmV0dXJuPHN0cmluZywgdW5kZWZpbmVkPjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcnlTdGF0ZShrZXk6IFN0YXRlS2V5LCBvcHRpb25zPzogYW55KTogYW55IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcbiAgcmV0dXJuIHVzZVF1ZXJ5U3RhdGVPcmlnaW5hbChrZXksIG9wdGlvbnMpO1xufVxuXG50eXBlIFVzZVF1ZXJ5U3RhdGVzS2V5c01hcDxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgTWFwIGV4dGVuZHMgUGFydGlhbDxSZWNvcmQ8U3RhdGVLZXksIGFueT4+ID0gUGFydGlhbDxSZWNvcmQ8U3RhdGVLZXksIGFueT4+LFxuPiA9IHtcbiAgW0tleSBpbiBrZXlvZiBNYXBdOiBLZXlNYXBWYWx1ZTxNYXBbS2V5XT47XG59O1xuXG50eXBlIEtleU1hcFZhbHVlPFR5cGU+ID0gUGFyc2VyPFR5cGU+ICZcbiAgT3B0aW9ucyAmIHtcbiAgICBkZWZhdWx0VmFsdWU/OiBUeXBlO1xuICB9O1xuXG4vKipcbiAqIEBzZWUge0BsaW5rIHVzZVF1ZXJ5U3RhdGVzT3JpZ2luYWx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyeVN0YXRlczxLZXlNYXAgZXh0ZW5kcyBVc2VRdWVyeVN0YXRlc0tleXNNYXA+KFxuICBrZXlNYXA6IEJyYW5kZWRLZXlNYXA8S2V5TWFwPixcbiAgb3B0aW9ucz86IFBhcnRpYWw8VXNlUXVlcnlTdGF0ZXNPcHRpb25zPEtleU1hcD4+LFxuKTogVXNlUXVlcnlTdGF0ZXNSZXR1cm48S2V5TWFwPiB7XG4gIHJldHVybiB1c2VRdWVyeVN0YXRlc09yaWdpbmFsKGtleU1hcCBhcyBuZXZlciwgb3B0aW9ucyk7XG59XG4iLCAiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBzYWZlUGFyc2UsIEZMVVNIX1JBVEVfTElNSVRfTVMsIGdldFF1ZXVlZFZhbHVlLCBlbnF1ZXVlUXVlcnlTdHJpbmdVcGRhdGUsIHNjaGVkdWxlRmx1c2hUb1VSTCB9IGZyb20gJy4vY2h1bmstNllLQUVYRFcuanMnO1xuaW1wb3J0IHsgdXNlQWRhcHRlciwgZGVidWcsIHJlbmRlclF1ZXJ5U3RyaW5nIH0gZnJvbSAnLi9jaHVuay01V1dUSllHUi5qcyc7XG5pbXBvcnQgeyB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1pdHQgZnJvbSAnbWl0dCc7XG5cbi8vIHNyYy9sb2FkZXIudHNcbmZ1bmN0aW9uIGNyZWF0ZUxvYWRlcihwYXJzZXJzLCB7IHVybEtleXMgPSB7fSB9ID0ge30pIHtcbiAgZnVuY3Rpb24gbG9hZFNlYXJjaFBhcmFtcyhpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIHJldHVybiBpbnB1dC50aGVuKChpKSA9PiBsb2FkU2VhcmNoUGFyYW1zKGkpKTtcbiAgICB9XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gZXh0cmFjdFNlYXJjaFBhcmFtcyhpbnB1dCk7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCBwYXJzZXJdIG9mIE9iamVjdC5lbnRyaWVzKHBhcnNlcnMpKSB7XG4gICAgICBjb25zdCB1cmxLZXkgPSB1cmxLZXlzW2tleV0gPz8ga2V5O1xuICAgICAgY29uc3QgdmFsdWUgPSBzZWFyY2hQYXJhbXMuZ2V0KHVybEtleSk7XG4gICAgICByZXN1bHRba2V5XSA9IHBhcnNlci5wYXJzZVNlcnZlclNpZGUodmFsdWUgPz8gdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gbG9hZFNlYXJjaFBhcmFtcztcbn1cbmZ1bmN0aW9uIGV4dHJhY3RTZWFyY2hQYXJhbXMoaW5wdXQpIHtcbiAgdHJ5IHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQudXJsKSB7XG4gICAgICAgIHJldHVybiBuZXcgVVJMKGlucHV0LnVybCkuc2VhcmNoUGFyYW1zO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICByZXR1cm4gaW5wdXQuc2VhcmNoUGFyYW1zO1xuICAgIH1cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGlucHV0KTtcbiAgICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGVudHJpZXMpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgdik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBzZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VhcmNoUGFyYW1zO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoXCJjYW5QYXJzZVwiIGluIFVSTCAmJiBVUkwuY2FuUGFyc2UoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVVJMKGlucHV0KS5zZWFyY2hQYXJhbXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhpbnB1dCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgfVxuICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xufVxuXG4vLyBzcmMvcGFyc2Vycy50c1xuZnVuY3Rpb24gY3JlYXRlUGFyc2VyKHBhcnNlcikge1xuICBmdW5jdGlvbiBwYXJzZVNlcnZlclNpZGVOdWxsYWJsZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgc3RyID0gXCJcIjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZVswXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgc3RyID0gdmFsdWVbMF07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHN0ciA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gc2FmZVBhcnNlKHBhcnNlci5wYXJzZSwgc3RyKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGVxOiAoYSwgYikgPT4gYSA9PT0gYixcbiAgICAuLi5wYXJzZXIsXG4gICAgcGFyc2VTZXJ2ZXJTaWRlOiBwYXJzZVNlcnZlclNpZGVOdWxsYWJsZSxcbiAgICB3aXRoRGVmYXVsdChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoaXMsXG4gICAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgcGFyc2VTZXJ2ZXJTaWRlKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlU2VydmVyU2lkZU51bGxhYmxlKHZhbHVlKSA/PyBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICB3aXRoT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGlzLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cbnZhciBwYXJzZUFzU3RyaW5nID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6ICh2KSA9PiB2LFxuICBzZXJpYWxpemU6ICh2KSA9PiBgJHt2fWBcbn0pO1xudmFyIHBhcnNlQXNJbnRlZ2VyID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6ICh2KSA9PiB7XG4gICAgY29uc3QgaW50ID0gcGFyc2VJbnQodik7XG4gICAgaWYgKE51bWJlci5pc05hTihpbnQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGludDtcbiAgfSxcbiAgc2VyaWFsaXplOiAodikgPT4gTWF0aC5yb3VuZCh2KS50b0ZpeGVkKClcbn0pO1xudmFyIHBhcnNlQXNJbmRleCA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiAodikgPT4ge1xuICAgIGNvbnN0IGludCA9IHBhcnNlQXNJbnRlZ2VyLnBhcnNlKHYpO1xuICAgIGlmIChpbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaW50IC0gMTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodikgPT4gcGFyc2VBc0ludGVnZXIuc2VyaWFsaXplKHYgKyAxKVxufSk7XG52YXIgcGFyc2VBc0hleCA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiAodikgPT4ge1xuICAgIGNvbnN0IGludCA9IHBhcnNlSW50KHYsIDE2KTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGludCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaW50O1xuICB9LFxuICBzZXJpYWxpemU6ICh2KSA9PiB7XG4gICAgY29uc3QgaGV4ID0gTWF0aC5yb3VuZCh2KS50b1N0cmluZygxNik7XG4gICAgcmV0dXJuIGhleC5wYWRTdGFydChoZXgubGVuZ3RoICsgaGV4Lmxlbmd0aCAlIDIsIFwiMFwiKTtcbiAgfVxufSk7XG52YXIgcGFyc2VBc0Zsb2F0ID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6ICh2KSA9PiB7XG4gICAgY29uc3QgZmxvYXQgPSBwYXJzZUZsb2F0KHYpO1xuICAgIGlmIChOdW1iZXIuaXNOYU4oZmxvYXQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZsb2F0O1xuICB9LFxuICBzZXJpYWxpemU6ICh2KSA9PiB2LnRvU3RyaW5nKClcbn0pO1xudmFyIHBhcnNlQXNCb29sZWFuID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6ICh2KSA9PiB2ID09PSBcInRydWVcIixcbiAgc2VyaWFsaXplOiAodikgPT4gdiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiXG59KTtcbmZ1bmN0aW9uIGNvbXBhcmVEYXRlcyhhLCBiKSB7XG4gIHJldHVybiBhLnZhbHVlT2YoKSA9PT0gYi52YWx1ZU9mKCk7XG59XG52YXIgcGFyc2VBc1RpbWVzdGFtcCA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiAodikgPT4ge1xuICAgIGNvbnN0IG1zID0gcGFyc2VJbnQodik7XG4gICAgaWYgKE51bWJlci5pc05hTihtcykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUobXMpO1xuICB9LFxuICBzZXJpYWxpemU6ICh2KSA9PiB2LnZhbHVlT2YoKS50b1N0cmluZygpLFxuICBlcTogY29tcGFyZURhdGVzXG59KTtcbnZhciBwYXJzZUFzSXNvRGF0ZVRpbWUgPSBjcmVhdGVQYXJzZXIoe1xuICBwYXJzZTogKHYpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodik7XG4gICAgaWYgKE51bWJlci5pc05hTihkYXRlLnZhbHVlT2YoKSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodikgPT4gdi50b0lTT1N0cmluZygpLFxuICBlcTogY29tcGFyZURhdGVzXG59KTtcbnZhciBwYXJzZUFzSXNvRGF0ZSA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiAodikgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2LnNsaWNlKDAsIDEwKSk7XG4gICAgaWYgKE51bWJlci5pc05hTihkYXRlLnZhbHVlT2YoKSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodikgPT4gdi50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcbiAgZXE6IGNvbXBhcmVEYXRlc1xufSk7XG5mdW5jdGlvbiBwYXJzZUFzU3RyaW5nRW51bSh2YWxpZFZhbHVlcykge1xuICByZXR1cm4gY3JlYXRlUGFyc2VyKHtcbiAgICBwYXJzZTogKHF1ZXJ5KSA9PiB7XG4gICAgICBjb25zdCBhc0VudW0gPSBxdWVyeTtcbiAgICAgIGlmICh2YWxpZFZhbHVlcy5pbmNsdWRlcyhhc0VudW0pKSB7XG4gICAgICAgIHJldHVybiBhc0VudW07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogKHZhbHVlKSA9PiB2YWx1ZS50b1N0cmluZygpXG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VBc1N0cmluZ0xpdGVyYWwodmFsaWRWYWx1ZXMpIHtcbiAgcmV0dXJuIGNyZWF0ZVBhcnNlcih7XG4gICAgcGFyc2U6IChxdWVyeSkgPT4ge1xuICAgICAgY29uc3QgYXNDb25zdCA9IHF1ZXJ5O1xuICAgICAgaWYgKHZhbGlkVmFsdWVzLmluY2x1ZGVzKGFzQ29uc3QpKSB7XG4gICAgICAgIHJldHVybiBhc0NvbnN0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBzZXJpYWxpemU6ICh2YWx1ZSkgPT4gdmFsdWUudG9TdHJpbmcoKVxuICB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlQXNOdW1iZXJMaXRlcmFsKHZhbGlkVmFsdWVzKSB7XG4gIHJldHVybiBjcmVhdGVQYXJzZXIoe1xuICAgIHBhcnNlOiAocXVlcnkpID0+IHtcbiAgICAgIGNvbnN0IGFzQ29uc3QgPSBwYXJzZUZsb2F0KHF1ZXJ5KTtcbiAgICAgIGlmICh2YWxpZFZhbHVlcy5pbmNsdWRlcyhhc0NvbnN0KSkge1xuICAgICAgICByZXR1cm4gYXNDb25zdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgc2VyaWFsaXplOiAodmFsdWUpID0+IHZhbHVlLnRvU3RyaW5nKClcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUFzSnNvbihydW50aW1lUGFyc2VyKSB7XG4gIHJldHVybiBjcmVhdGVQYXJzZXIoe1xuICAgIHBhcnNlOiAocXVlcnkpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UocXVlcnkpO1xuICAgICAgICByZXR1cm4gcnVudGltZVBhcnNlcihvYmopO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWFsaXplOiAodmFsdWUpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSxcbiAgICBlcShhLCBiKSB7XG4gICAgICByZXR1cm4gYSA9PT0gYiB8fCBKU09OLnN0cmluZ2lmeShhKSA9PT0gSlNPTi5zdHJpbmdpZnkoYik7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlQXNBcnJheU9mKGl0ZW1QYXJzZXIsIHNlcGFyYXRvciA9IFwiLFwiKSB7XG4gIGNvbnN0IGl0ZW1FcSA9IGl0ZW1QYXJzZXIuZXEgPz8gKChhLCBiKSA9PiBhID09PSBiKTtcbiAgY29uc3QgZW5jb2RlZFNlcGFyYXRvciA9IGVuY29kZVVSSUNvbXBvbmVudChzZXBhcmF0b3IpO1xuICByZXR1cm4gY3JlYXRlUGFyc2VyKHtcbiAgICBwYXJzZTogKHF1ZXJ5KSA9PiB7XG4gICAgICBpZiAocXVlcnkgPT09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHF1ZXJ5LnNwbGl0KHNlcGFyYXRvcikubWFwKFxuICAgICAgICAoaXRlbSwgaW5kZXgpID0+IHNhZmVQYXJzZShcbiAgICAgICAgICBpdGVtUGFyc2VyLnBhcnNlLFxuICAgICAgICAgIGl0ZW0ucmVwbGFjZUFsbChlbmNvZGVkU2VwYXJhdG9yLCBzZXBhcmF0b3IpLFxuICAgICAgICAgIGBbJHtpbmRleH1dYFxuICAgICAgICApXG4gICAgICApLmZpbHRlcigodmFsdWUpID0+IHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgc2VyaWFsaXplOiAodmFsdWVzKSA9PiB2YWx1ZXMubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3Qgc3RyID0gaXRlbVBhcnNlci5zZXJpYWxpemUgPyBpdGVtUGFyc2VyLnNlcmlhbGl6ZSh2YWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlQWxsKHNlcGFyYXRvciwgZW5jb2RlZFNlcGFyYXRvcik7XG4gICAgfSkuam9pbihzZXBhcmF0b3IpLFxuICAgIGVxKGEsIGIpIHtcbiAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gYS5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiBpdGVtRXEodmFsdWUsIGJbaW5kZXhdKSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3JjL3NlcmlhbGl6ZXIudHNcbmZ1bmN0aW9uIGNyZWF0ZVNlcmlhbGl6ZXIocGFyc2Vycywge1xuICBjbGVhck9uRGVmYXVsdCA9IHRydWUsXG4gIHVybEtleXMgPSB7fVxufSA9IHt9KSB7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShhcmcxQmFzZU9yVmFsdWVzLCBhcmcydmFsdWVzID0ge30pIHtcbiAgICBjb25zdCBbYmFzZSwgc2VhcmNoXSA9IGlzQmFzZShhcmcxQmFzZU9yVmFsdWVzKSA/IHNwbGl0QmFzZShhcmcxQmFzZU9yVmFsdWVzKSA6IFtcIlwiLCBuZXcgVVJMU2VhcmNoUGFyYW1zKCldO1xuICAgIGNvbnN0IHZhbHVlcyA9IGlzQmFzZShhcmcxQmFzZU9yVmFsdWVzKSA/IGFyZzJ2YWx1ZXMgOiBhcmcxQmFzZU9yVmFsdWVzO1xuICAgIGlmICh2YWx1ZXMgPT09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHBhcnNlcnMpIHtcbiAgICAgICAgY29uc3QgdXJsS2V5ID0gdXJsS2V5c1trZXldID8/IGtleTtcbiAgICAgICAgc2VhcmNoLmRlbGV0ZSh1cmxLZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2UgKyByZW5kZXJRdWVyeVN0cmluZyhzZWFyY2gpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXJzZXJzKSB7XG4gICAgICBjb25zdCBwYXJzZXIgPSBwYXJzZXJzW2tleV07XG4gICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1trZXldO1xuICAgICAgaWYgKCFwYXJzZXIgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVybEtleSA9IHVybEtleXNba2V5XSA/PyBrZXk7XG4gICAgICBjb25zdCBpc01hdGNoaW5nRGVmYXVsdCA9IHBhcnNlci5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAocGFyc2VyLmVxID8/ICgoYSwgYikgPT4gYSA9PT0gYikpKHZhbHVlLCBwYXJzZXIuZGVmYXVsdFZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCAocGFyc2VyLmNsZWFyT25EZWZhdWx0ID8/IGNsZWFyT25EZWZhdWx0ID8/IHRydWUpICYmIGlzTWF0Y2hpbmdEZWZhdWx0KSB7XG4gICAgICAgIHNlYXJjaC5kZWxldGUodXJsS2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlYXJjaC5zZXQodXJsS2V5LCBwYXJzZXIuc2VyaWFsaXplKHZhbHVlKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiYXNlICsgcmVuZGVyUXVlcnlTdHJpbmcoc2VhcmNoKTtcbiAgfVxuICByZXR1cm4gc2VyaWFsaXplO1xufVxuZnVuY3Rpb24gaXNCYXNlKGJhc2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBiYXNlID09PSBcInN0cmluZ1wiIHx8IGJhc2UgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgfHwgYmFzZSBpbnN0YW5jZW9mIFVSTDtcbn1cbmZ1bmN0aW9uIHNwbGl0QmFzZShiYXNlKSB7XG4gIGlmICh0eXBlb2YgYmFzZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IFtwYXRoID0gXCJcIiwgLi4uc2VhcmNoXSA9IGJhc2Uuc3BsaXQoXCI/XCIpO1xuICAgIHJldHVybiBbcGF0aCwgbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2guam9pbihcIj9cIikpXTtcbiAgfSBlbHNlIGlmIChiYXNlIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSB7XG4gICAgcmV0dXJuIFtcIlwiLCBuZXcgVVJMU2VhcmNoUGFyYW1zKGJhc2UpXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW1xuICAgICAgYmFzZS5vcmlnaW4gKyBiYXNlLnBhdGhuYW1lLFxuICAgICAgbmV3IFVSTFNlYXJjaFBhcmFtcyhiYXNlLnNlYXJjaFBhcmFtcylcbiAgICBdO1xuICB9XG59XG52YXIgZW1pdHRlciA9IE1pdHQoKTtcblxuLy8gc3JjL3VzZVF1ZXJ5U3RhdGUudHNcbmZ1bmN0aW9uIHVzZVF1ZXJ5U3RhdGUoa2V5LCB7XG4gIGhpc3RvcnkgPSBcInJlcGxhY2VcIixcbiAgc2hhbGxvdyA9IHRydWUsXG4gIHNjcm9sbCA9IGZhbHNlLFxuICB0aHJvdHRsZU1zID0gRkxVU0hfUkFURV9MSU1JVF9NUyxcbiAgcGFyc2UgPSAoeCkgPT4geCxcbiAgc2VyaWFsaXplID0gU3RyaW5nLFxuICBlcSA9IChhLCBiKSA9PiBhID09PSBiLFxuICBkZWZhdWx0VmFsdWUgPSB1bmRlZmluZWQsXG4gIGNsZWFyT25EZWZhdWx0ID0gdHJ1ZSxcbiAgc3RhcnRUcmFuc2l0aW9uXG59ID0ge1xuICBoaXN0b3J5OiBcInJlcGxhY2VcIixcbiAgc2Nyb2xsOiBmYWxzZSxcbiAgc2hhbGxvdzogdHJ1ZSxcbiAgdGhyb3R0bGVNczogRkxVU0hfUkFURV9MSU1JVF9NUyxcbiAgcGFyc2U6ICh4KSA9PiB4LFxuICBzZXJpYWxpemU6IFN0cmluZyxcbiAgZXE6IChhLCBiKSA9PiBhID09PSBiLFxuICBjbGVhck9uRGVmYXVsdDogdHJ1ZSxcbiAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWRcbn0pIHtcbiAgY29uc3QgYWRhcHRlciA9IHVzZUFkYXB0ZXIoKTtcbiAgY29uc3QgaW5pdGlhbFNlYXJjaFBhcmFtcyA9IGFkYXB0ZXIuc2VhcmNoUGFyYW1zO1xuICBjb25zdCBxdWVyeVJlZiA9IHVzZVJlZihpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXQoa2V5KSA/PyBudWxsKTtcbiAgY29uc3QgW2ludGVybmFsU3RhdGUsIHNldEludGVybmFsU3RhdGVdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IHF1ZXVlZFF1ZXJ5ID0gZ2V0UXVldWVkVmFsdWUoa2V5KTtcbiAgICBjb25zdCBxdWVyeSA9IHF1ZXVlZFF1ZXJ5ID09PSB1bmRlZmluZWQgPyBpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXQoa2V5KSA/PyBudWxsIDogcXVldWVkUXVlcnk7XG4gICAgcmV0dXJuIHF1ZXJ5ID09PSBudWxsID8gbnVsbCA6IHNhZmVQYXJzZShwYXJzZSwgcXVlcnksIGtleSk7XG4gIH0pO1xuICBjb25zdCBzdGF0ZVJlZiA9IHVzZVJlZihpbnRlcm5hbFN0YXRlKTtcbiAgZGVidWcoXG4gICAgXCJbbnVxcyBgJXNgXSByZW5kZXIgLSBzdGF0ZTogJU8sIGlTUDogJXNcIixcbiAgICBrZXksXG4gICAgaW50ZXJuYWxTdGF0ZSxcbiAgICBpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXQoa2V5KSA/PyBudWxsXG4gICk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXQoa2V5KSA/PyBudWxsO1xuICAgIGlmIChxdWVyeSA9PT0gcXVlcnlSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdGF0ZSA9IHF1ZXJ5ID09PSBudWxsID8gbnVsbCA6IHNhZmVQYXJzZShwYXJzZSwgcXVlcnksIGtleSk7XG4gICAgZGVidWcoXCJbbnVxcyBgJXNgXSBzeW5jRnJvbVVzZVNlYXJjaFBhcmFtcyAlT1wiLCBrZXksIHN0YXRlKTtcbiAgICBzdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGU7XG4gICAgcXVlcnlSZWYuY3VycmVudCA9IHF1ZXJ5O1xuICAgIHNldEludGVybmFsU3RhdGUoc3RhdGUpO1xuICB9LCBbaW5pdGlhbFNlYXJjaFBhcmFtcz8uZ2V0KGtleSksIGtleV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUludGVybmFsU3RhdGUoeyBzdGF0ZSwgcXVlcnkgfSkge1xuICAgICAgZGVidWcoXCJbbnVxcyBgJXNgXSB1cGRhdGVJbnRlcm5hbFN0YXRlICVPXCIsIGtleSwgc3RhdGUpO1xuICAgICAgc3RhdGVSZWYuY3VycmVudCA9IHN0YXRlO1xuICAgICAgcXVlcnlSZWYuY3VycmVudCA9IHF1ZXJ5O1xuICAgICAgc2V0SW50ZXJuYWxTdGF0ZShzdGF0ZSk7XG4gICAgfVxuICAgIGRlYnVnKFwiW251cXMgYCVzYF0gc3Vic2NyaWJpbmcgdG8gc3luY1wiLCBrZXkpO1xuICAgIGVtaXR0ZXIub24oa2V5LCB1cGRhdGVJbnRlcm5hbFN0YXRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGVidWcoXCJbbnVxcyBgJXNgXSB1bnN1YnNjcmliaW5nIGZyb20gc3luY1wiLCBrZXkpO1xuICAgICAgZW1pdHRlci5vZmYoa2V5LCB1cGRhdGVJbnRlcm5hbFN0YXRlKTtcbiAgICB9O1xuICB9LCBba2V5XSk7XG4gIGNvbnN0IHVwZGF0ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChzdGF0ZVVwZGF0ZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgbGV0IG5ld1ZhbHVlID0gaXNVcGRhdGVyRnVuY3Rpb24oc3RhdGVVcGRhdGVyKSA/IHN0YXRlVXBkYXRlcihzdGF0ZVJlZi5jdXJyZW50ID8/IGRlZmF1bHRWYWx1ZSA/PyBudWxsKSA6IHN0YXRlVXBkYXRlcjtcbiAgICAgIGlmICgob3B0aW9ucy5jbGVhck9uRGVmYXVsdCA/PyBjbGVhck9uRGVmYXVsdCkgJiYgbmV3VmFsdWUgIT09IG51bGwgJiYgZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgZXEobmV3VmFsdWUsIGRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgcXVlcnkgPSBlbnF1ZXVlUXVlcnlTdHJpbmdVcGRhdGUoa2V5LCBuZXdWYWx1ZSwgc2VyaWFsaXplLCB7XG4gICAgICAgIC8vIENhbGwtbGV2ZWwgb3B0aW9ucyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBob29rIGRlY2xhcmF0aW9uIG9wdGlvbnMuXG4gICAgICAgIGhpc3Rvcnk6IG9wdGlvbnMuaGlzdG9yeSA/PyBoaXN0b3J5LFxuICAgICAgICBzaGFsbG93OiBvcHRpb25zLnNoYWxsb3cgPz8gc2hhbGxvdyxcbiAgICAgICAgc2Nyb2xsOiBvcHRpb25zLnNjcm9sbCA/PyBzY3JvbGwsXG4gICAgICAgIHRocm90dGxlTXM6IG9wdGlvbnMudGhyb3R0bGVNcyA/PyB0aHJvdHRsZU1zLFxuICAgICAgICBzdGFydFRyYW5zaXRpb246IG9wdGlvbnMuc3RhcnRUcmFuc2l0aW9uID8/IHN0YXJ0VHJhbnNpdGlvblxuICAgICAgfSk7XG4gICAgICBlbWl0dGVyLmVtaXQoa2V5LCB7IHN0YXRlOiBuZXdWYWx1ZSwgcXVlcnkgfSk7XG4gICAgICByZXR1cm4gc2NoZWR1bGVGbHVzaFRvVVJMKGFkYXB0ZXIpO1xuICAgIH0sXG4gICAgW1xuICAgICAga2V5LFxuICAgICAgaGlzdG9yeSxcbiAgICAgIHNoYWxsb3csXG4gICAgICBzY3JvbGwsXG4gICAgICB0aHJvdHRsZU1zLFxuICAgICAgc3RhcnRUcmFuc2l0aW9uLFxuICAgICAgYWRhcHRlci51cGRhdGVVcmwsXG4gICAgICBhZGFwdGVyLmdldFNlYXJjaFBhcmFtc1NuYXBzaG90LFxuICAgICAgYWRhcHRlci5yYXRlTGltaXRGYWN0b3JcbiAgICBdXG4gICk7XG4gIHJldHVybiBbaW50ZXJuYWxTdGF0ZSA/PyBkZWZhdWx0VmFsdWUgPz8gbnVsbCwgdXBkYXRlXTtcbn1cbmZ1bmN0aW9uIGlzVXBkYXRlckZ1bmN0aW9uKHN0YXRlVXBkYXRlcikge1xuICByZXR1cm4gdHlwZW9mIHN0YXRlVXBkYXRlciA9PT0gXCJmdW5jdGlvblwiO1xufVxudmFyIGRlZmF1bHRVcmxLZXlzID0ge307XG5mdW5jdGlvbiB1c2VRdWVyeVN0YXRlcyhrZXlNYXAsIHtcbiAgaGlzdG9yeSA9IFwicmVwbGFjZVwiLFxuICBzY3JvbGwgPSBmYWxzZSxcbiAgc2hhbGxvdyA9IHRydWUsXG4gIHRocm90dGxlTXMgPSBGTFVTSF9SQVRFX0xJTUlUX01TLFxuICBjbGVhck9uRGVmYXVsdCA9IHRydWUsXG4gIHN0YXJ0VHJhbnNpdGlvbixcbiAgdXJsS2V5cyA9IGRlZmF1bHRVcmxLZXlzXG59ID0ge30pIHtcbiAgY29uc3Qgc3RhdGVLZXlzID0gT2JqZWN0LmtleXMoa2V5TWFwKS5qb2luKFwiLFwiKTtcbiAgY29uc3QgcmVzb2x2ZWRVcmxLZXlzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBPYmplY3Qua2V5cyhrZXlNYXApLm1hcCgoa2V5KSA9PiBba2V5LCB1cmxLZXlzW2tleV0gPz8ga2V5XSlcbiAgICApLFxuICAgIFtzdGF0ZUtleXMsIEpTT04uc3RyaW5naWZ5KHVybEtleXMpXVxuICApO1xuICBjb25zdCBhZGFwdGVyID0gdXNlQWRhcHRlcigpO1xuICBjb25zdCBpbml0aWFsU2VhcmNoUGFyYW1zID0gYWRhcHRlci5zZWFyY2hQYXJhbXM7XG4gIGNvbnN0IHF1ZXJ5UmVmID0gdXNlUmVmKHt9KTtcbiAgY29uc3QgZGVmYXVsdFZhbHVlcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgT2JqZWN0LmtleXMoa2V5TWFwKS5tYXAoKGtleSkgPT4gW2tleSwga2V5TWFwW2tleV0uZGVmYXVsdFZhbHVlID8/IG51bGxdKVxuICAgICksXG4gICAgW1xuICAgICAgT2JqZWN0LnZhbHVlcyhrZXlNYXApLm1hcCgoeyBkZWZhdWx0VmFsdWUgfSkgPT4gZGVmYXVsdFZhbHVlKS5qb2luKFwiLFwiKVxuICAgIF1cbiAgKTtcbiAgY29uc3QgW2ludGVybmFsU3RhdGUsIHNldEludGVybmFsU3RhdGVdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9IGluaXRpYWxTZWFyY2hQYXJhbXMgPz8gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIHJldHVybiBwYXJzZU1hcChrZXlNYXAsIHVybEtleXMsIHNvdXJjZSkuc3RhdGU7XG4gIH0pO1xuICBjb25zdCBzdGF0ZVJlZiA9IHVzZVJlZihpbnRlcm5hbFN0YXRlKTtcbiAgZGVidWcoXG4gICAgXCJbbnVxKyBgJXNgXSByZW5kZXIgLSBzdGF0ZTogJU8sIGlTUDogJXNcIixcbiAgICBzdGF0ZUtleXMsXG4gICAgaW50ZXJuYWxTdGF0ZSxcbiAgICBpbml0aWFsU2VhcmNoUGFyYW1zXG4gICk7XG4gIGlmIChPYmplY3Qua2V5cyhxdWVyeVJlZi5jdXJyZW50KS5qb2luKFwiJlwiKSAhPT0gT2JqZWN0LnZhbHVlcyhyZXNvbHZlZFVybEtleXMpLmpvaW4oXCImXCIpKSB7XG4gICAgY29uc3QgeyBzdGF0ZSwgaGFzQ2hhbmdlZCB9ID0gcGFyc2VNYXAoXG4gICAgICBrZXlNYXAsXG4gICAgICB1cmxLZXlzLFxuICAgICAgaW5pdGlhbFNlYXJjaFBhcmFtcyxcbiAgICAgIHF1ZXJ5UmVmLmN1cnJlbnQsXG4gICAgICBzdGF0ZVJlZi5jdXJyZW50XG4gICAgKTtcbiAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgc3RhdGVSZWYuY3VycmVudCA9IHN0YXRlO1xuICAgICAgc2V0SW50ZXJuYWxTdGF0ZShzdGF0ZSk7XG4gICAgfVxuICAgIHF1ZXJ5UmVmLmN1cnJlbnQgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBPYmplY3QudmFsdWVzKHJlc29sdmVkVXJsS2V5cykubWFwKCh1cmxLZXkpID0+IFtcbiAgICAgICAgdXJsS2V5LFxuICAgICAgICBpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXQodXJsS2V5KSA/PyBudWxsXG4gICAgICBdKVxuICAgICk7XG4gIH1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7IHN0YXRlLCBoYXNDaGFuZ2VkIH0gPSBwYXJzZU1hcChcbiAgICAgIGtleU1hcCxcbiAgICAgIHVybEtleXMsXG4gICAgICBpbml0aWFsU2VhcmNoUGFyYW1zLFxuICAgICAgcXVlcnlSZWYuY3VycmVudCxcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnRcbiAgICApO1xuICAgIGlmIChoYXNDaGFuZ2VkKSB7XG4gICAgICBzdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGU7XG4gICAgICBzZXRJbnRlcm5hbFN0YXRlKHN0YXRlKTtcbiAgICB9XG4gIH0sIFtcbiAgICBPYmplY3QudmFsdWVzKHJlc29sdmVkVXJsS2V5cykubWFwKChrZXkpID0+IGAke2tleX09JHtpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXQoa2V5KX1gKS5qb2luKFwiJlwiKVxuICBdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiB1cGRhdGVJbnRlcm5hbFN0YXRlKHN0YXRlKSB7XG4gICAgICBkZWJ1ZyhcIltudXErIGAlc2BdIHVwZGF0ZUludGVybmFsU3RhdGUgJU9cIiwgc3RhdGVLZXlzLCBzdGF0ZSk7XG4gICAgICBzdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGU7XG4gICAgICBzZXRJbnRlcm5hbFN0YXRlKHN0YXRlKTtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlcnMgPSBPYmplY3Qua2V5cyhrZXlNYXApLnJlZHVjZShcbiAgICAgIChoYW5kbGVyczIsIHN0YXRlS2V5KSA9PiB7XG4gICAgICAgIGhhbmRsZXJzMltzdGF0ZUtleV0gPSAoe1xuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIHF1ZXJ5XG4gICAgICAgIH0pID0+IHtcbiAgICAgICAgICBjb25zdCB7IGRlZmF1bHRWYWx1ZSB9ID0ga2V5TWFwW3N0YXRlS2V5XTtcbiAgICAgICAgICBjb25zdCB1cmxLZXkgPSByZXNvbHZlZFVybEtleXNbc3RhdGVLZXldO1xuICAgICAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZVJlZi5jdXJyZW50LFxuICAgICAgICAgICAgW3N0YXRlS2V5XTogc3RhdGUgPz8gZGVmYXVsdFZhbHVlID8/IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHF1ZXJ5UmVmLmN1cnJlbnRbdXJsS2V5XSA9IHF1ZXJ5O1xuICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgXCJbbnVxKyBgJXNgXSBDcm9zcy1ob29rIGtleSBzeW5jICVzOiAlTyAoZGVmYXVsdDogJU8pLiBSZXNvbHZlZDogJU9cIixcbiAgICAgICAgICAgIHN0YXRlS2V5cyxcbiAgICAgICAgICAgIHVybEtleSxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgc3RhdGVSZWYuY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlSW50ZXJuYWxTdGF0ZShzdGF0ZVJlZi5jdXJyZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzMjtcbiAgICAgIH0sXG4gICAgICB7fVxuICAgICk7XG4gICAgZm9yIChjb25zdCBzdGF0ZUtleSBvZiBPYmplY3Qua2V5cyhrZXlNYXApKSB7XG4gICAgICBjb25zdCB1cmxLZXkgPSByZXNvbHZlZFVybEtleXNbc3RhdGVLZXldO1xuICAgICAgZGVidWcoXCJbbnVxKyBgJXNgXSBTdWJzY3JpYmluZyB0byBzeW5jIGZvciBgJXNgXCIsIHN0YXRlS2V5cywgdXJsS2V5KTtcbiAgICAgIGVtaXR0ZXIub24odXJsS2V5LCBoYW5kbGVyc1tzdGF0ZUtleV0pO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBzdGF0ZUtleSBvZiBPYmplY3Qua2V5cyhrZXlNYXApKSB7XG4gICAgICAgIGNvbnN0IHVybEtleSA9IHJlc29sdmVkVXJsS2V5c1tzdGF0ZUtleV07XG4gICAgICAgIGRlYnVnKFwiW251cSsgYCVzYF0gVW5zdWJzY3JpYmluZyB0byBzeW5jIGZvciBgJXNgXCIsIHN0YXRlS2V5cywgdXJsS2V5KTtcbiAgICAgICAgZW1pdHRlci5vZmYodXJsS2V5LCBoYW5kbGVyc1tzdGF0ZUtleV0pO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtzdGF0ZUtleXMsIHJlc29sdmVkVXJsS2V5c10pO1xuICBjb25zdCB1cGRhdGUgPSB1c2VDYWxsYmFjayhcbiAgICAoc3RhdGVVcGRhdGVyLCBjYWxsT3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBudWxsTWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3Qua2V5cyhrZXlNYXApLm1hcCgoa2V5KSA9PiBba2V5LCBudWxsXSlcbiAgICAgICk7XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHR5cGVvZiBzdGF0ZVVwZGF0ZXIgPT09IFwiZnVuY3Rpb25cIiA/IHN0YXRlVXBkYXRlcihcbiAgICAgICAgYXBwbHlEZWZhdWx0VmFsdWVzKHN0YXRlUmVmLmN1cnJlbnQsIGRlZmF1bHRWYWx1ZXMpXG4gICAgICApID8/IG51bGxNYXAgOiBzdGF0ZVVwZGF0ZXIgPz8gbnVsbE1hcDtcbiAgICAgIGRlYnVnKFwiW251cSsgYCVzYF0gc2V0U3RhdGU6ICVPXCIsIHN0YXRlS2V5cywgbmV3U3RhdGUpO1xuICAgICAgZm9yIChsZXQgW3N0YXRlS2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobmV3U3RhdGUpKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IGtleU1hcFtzdGF0ZUtleV07XG4gICAgICAgIGNvbnN0IHVybEtleSA9IHJlc29sdmVkVXJsS2V5c1tzdGF0ZUtleV07XG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChjYWxsT3B0aW9ucy5jbGVhck9uRGVmYXVsdCA/PyBwYXJzZXIuY2xlYXJPbkRlZmF1bHQgPz8gY2xlYXJPbkRlZmF1bHQpICYmIHZhbHVlICE9PSBudWxsICYmIHBhcnNlci5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAocGFyc2VyLmVxID8/ICgoYSwgYikgPT4gYSA9PT0gYikpKHZhbHVlLCBwYXJzZXIuZGVmYXVsdFZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWVyeSA9IGVucXVldWVRdWVyeVN0cmluZ1VwZGF0ZShcbiAgICAgICAgICB1cmxLZXksXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgcGFyc2VyLnNlcmlhbGl6ZSA/PyBTdHJpbmcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2FsbC1sZXZlbCBvcHRpb25zIHRha2UgcHJlY2VkZW5jZSBvdmVyIGluZGl2aWR1YWwgcGFyc2VyIG9wdGlvbnNcbiAgICAgICAgICAgIC8vIHdoaWNoIHRha2UgcHJlY2VkZW5jZSBvdmVyIGdsb2JhbCBvcHRpb25zXG4gICAgICAgICAgICBoaXN0b3J5OiBjYWxsT3B0aW9ucy5oaXN0b3J5ID8/IHBhcnNlci5oaXN0b3J5ID8/IGhpc3RvcnksXG4gICAgICAgICAgICBzaGFsbG93OiBjYWxsT3B0aW9ucy5zaGFsbG93ID8/IHBhcnNlci5zaGFsbG93ID8/IHNoYWxsb3csXG4gICAgICAgICAgICBzY3JvbGw6IGNhbGxPcHRpb25zLnNjcm9sbCA/PyBwYXJzZXIuc2Nyb2xsID8/IHNjcm9sbCxcbiAgICAgICAgICAgIHRocm90dGxlTXM6IGNhbGxPcHRpb25zLnRocm90dGxlTXMgPz8gcGFyc2VyLnRocm90dGxlTXMgPz8gdGhyb3R0bGVNcyxcbiAgICAgICAgICAgIHN0YXJ0VHJhbnNpdGlvbjogY2FsbE9wdGlvbnMuc3RhcnRUcmFuc2l0aW9uID8/IHBhcnNlci5zdGFydFRyYW5zaXRpb24gPz8gc3RhcnRUcmFuc2l0aW9uXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBlbWl0dGVyLmVtaXQodXJsS2V5LCB7IHN0YXRlOiB2YWx1ZSwgcXVlcnkgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2NoZWR1bGVGbHVzaFRvVVJMKGFkYXB0ZXIpO1xuICAgIH0sXG4gICAgW1xuICAgICAgc3RhdGVLZXlzLFxuICAgICAgaGlzdG9yeSxcbiAgICAgIHNoYWxsb3csXG4gICAgICBzY3JvbGwsXG4gICAgICB0aHJvdHRsZU1zLFxuICAgICAgc3RhcnRUcmFuc2l0aW9uLFxuICAgICAgcmVzb2x2ZWRVcmxLZXlzLFxuICAgICAgYWRhcHRlci51cGRhdGVVcmwsXG4gICAgICBhZGFwdGVyLmdldFNlYXJjaFBhcmFtc1NuYXBzaG90LFxuICAgICAgYWRhcHRlci5yYXRlTGltaXRGYWN0b3IsXG4gICAgICBkZWZhdWx0VmFsdWVzXG4gICAgXVxuICApO1xuICBjb25zdCBvdXRwdXRTdGF0ZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gYXBwbHlEZWZhdWx0VmFsdWVzKGludGVybmFsU3RhdGUsIGRlZmF1bHRWYWx1ZXMpLFxuICAgIFtpbnRlcm5hbFN0YXRlLCBkZWZhdWx0VmFsdWVzXVxuICApO1xuICByZXR1cm4gW291dHB1dFN0YXRlLCB1cGRhdGVdO1xufVxuZnVuY3Rpb24gcGFyc2VNYXAoa2V5TWFwLCB1cmxLZXlzLCBzZWFyY2hQYXJhbXMsIGNhY2hlZFF1ZXJ5LCBjYWNoZWRTdGF0ZSkge1xuICBsZXQgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICBjb25zdCBzdGF0ZSA9IE9iamVjdC5rZXlzKGtleU1hcCkucmVkdWNlKChvdXQsIHN0YXRlS2V5KSA9PiB7XG4gICAgY29uc3QgdXJsS2V5ID0gdXJsS2V5cz8uW3N0YXRlS2V5XSA/PyBzdGF0ZUtleTtcbiAgICBjb25zdCB7IHBhcnNlIH0gPSBrZXlNYXBbc3RhdGVLZXldO1xuICAgIGNvbnN0IHF1ZXVlZFF1ZXJ5ID0gZ2V0UXVldWVkVmFsdWUodXJsS2V5KTtcbiAgICBjb25zdCBxdWVyeSA9IHF1ZXVlZFF1ZXJ5ID09PSB1bmRlZmluZWQgPyBzZWFyY2hQYXJhbXM/LmdldCh1cmxLZXkpID8/IG51bGwgOiBxdWV1ZWRRdWVyeTtcbiAgICBpZiAoY2FjaGVkUXVlcnkgJiYgY2FjaGVkU3RhdGUgJiYgKGNhY2hlZFF1ZXJ5W3VybEtleV0gPz8gbnVsbCkgPT09IHF1ZXJ5KSB7XG4gICAgICBvdXRbc3RhdGVLZXldID0gY2FjaGVkU3RhdGVbc3RhdGVLZXldID8/IG51bGw7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5ID09PSBudWxsID8gbnVsbCA6IHNhZmVQYXJzZShwYXJzZSwgcXVlcnksIHN0YXRlS2V5KTtcbiAgICBvdXRbc3RhdGVLZXldID0gdmFsdWUgPz8gbnVsbDtcbiAgICBpZiAoY2FjaGVkUXVlcnkpIHtcbiAgICAgIGNhY2hlZFF1ZXJ5W3VybEtleV0gPSBxdWVyeTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfSwge30pO1xuICBpZiAoIWhhc0NoYW5nZWQpIHtcbiAgICBjb25zdCBrZXlNYXBLZXlzID0gT2JqZWN0LmtleXMoa2V5TWFwKTtcbiAgICBjb25zdCBjYWNoZWRTdGF0ZUtleXMgPSBPYmplY3Qua2V5cyhjYWNoZWRTdGF0ZSA/PyB7fSk7XG4gICAgaGFzQ2hhbmdlZCA9IGtleU1hcEtleXMubGVuZ3RoICE9PSBjYWNoZWRTdGF0ZUtleXMubGVuZ3RoIHx8IGtleU1hcEtleXMuc29tZSgoa2V5KSA9PiAhY2FjaGVkU3RhdGVLZXlzLmluY2x1ZGVzKGtleSkpO1xuICB9XG4gIHJldHVybiB7IHN0YXRlLCBoYXNDaGFuZ2VkIH07XG59XG5mdW5jdGlvbiBhcHBseURlZmF1bHRWYWx1ZXMoc3RhdGUsIGRlZmF1bHRzKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmtleXMoc3RhdGUpLm1hcCgoa2V5KSA9PiBba2V5LCBzdGF0ZVtrZXldID8/IGRlZmF1bHRzW2tleV0gPz8gbnVsbF0pXG4gICk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUxvYWRlciwgY3JlYXRlUGFyc2VyLCBjcmVhdGVTZXJpYWxpemVyLCBwYXJzZUFzQXJyYXlPZiwgcGFyc2VBc0Jvb2xlYW4sIHBhcnNlQXNGbG9hdCwgcGFyc2VBc0hleCwgcGFyc2VBc0luZGV4LCBwYXJzZUFzSW50ZWdlciwgcGFyc2VBc0lzb0RhdGUsIHBhcnNlQXNJc29EYXRlVGltZSwgcGFyc2VBc0pzb24sIHBhcnNlQXNOdW1iZXJMaXRlcmFsLCBwYXJzZUFzU3RyaW5nLCBwYXJzZUFzU3RyaW5nRW51bSwgcGFyc2VBc1N0cmluZ0xpdGVyYWwsIHBhcnNlQXNUaW1lc3RhbXAsIHVzZVF1ZXJ5U3RhdGUsIHVzZVF1ZXJ5U3RhdGVzIH07XG4iLCAiaW1wb3J0IHsgd2FybiwgZGVidWcsIGVycm9yIH0gZnJvbSAnLi9jaHVuay01V1dUSllHUi5qcyc7XG5cbi8vIHNyYy91dGlscy50c1xuZnVuY3Rpb24gc2FmZVBhcnNlKHBhcnNlciwgdmFsdWUsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBwYXJzZXIodmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICB3YXJuKFxuICAgICAgXCJbbnVxc10gRXJyb3Igd2hpbGUgcGFyc2luZyB2YWx1ZSBgJXNgOiAlT1wiICsgKGtleSA/IFwiIChmb3Iga2V5IGAlc2ApXCIgOiBcIlwiKSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXJyb3IyLFxuICAgICAga2V5XG4gICAgKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFRocm90dGxlKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIDUwO1xuICBjb25zdCBpc1NhZmFyaSA9IEJvb2xlYW4od2luZG93Lkdlc3R1cmVFdmVudCk7XG4gIGlmICghaXNTYWZhcmkpIHtcbiAgICByZXR1cm4gNTA7XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBtYXRjaCA9IG5hdmlnYXRvci51c2VyQWdlbnQ/Lm1hdGNoKC92ZXJzaW9uXFwvKFtcXGRcXC5dKykgc2FmYXJpL2kpO1xuICAgIHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzFdKSA+PSAxNyA/IDEyMCA6IDMyMDtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIDMyMDtcbiAgfVxufVxuXG4vLyBzcmMvdXBkYXRlLXF1ZXVlLnRzXG52YXIgRkxVU0hfUkFURV9MSU1JVF9NUyA9IGdldERlZmF1bHRUaHJvdHRsZSgpO1xudmFyIHVwZGF0ZVF1ZXVlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbnZhciBxdWV1ZU9wdGlvbnMgPSB7XG4gIGhpc3Rvcnk6IFwicmVwbGFjZVwiLFxuICBzY3JvbGw6IGZhbHNlLFxuICBzaGFsbG93OiB0cnVlLFxuICB0aHJvdHRsZU1zOiBGTFVTSF9SQVRFX0xJTUlUX01TXG59O1xudmFyIHRyYW5zaXRpb25zUXVldWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xudmFyIGxhc3RGbHVzaFRpbWVzdGFtcCA9IDA7XG52YXIgZmx1c2hQcm9taXNlQ2FjaGUgPSBudWxsO1xuZnVuY3Rpb24gZ2V0UXVldWVkVmFsdWUoa2V5KSB7XG4gIHJldHVybiB1cGRhdGVRdWV1ZS5nZXQoa2V5KTtcbn1cbmZ1bmN0aW9uIHJlc2V0UXVldWUoKSB7XG4gIHVwZGF0ZVF1ZXVlLmNsZWFyKCk7XG4gIHRyYW5zaXRpb25zUXVldWUuY2xlYXIoKTtcbiAgcXVldWVPcHRpb25zLmhpc3RvcnkgPSBcInJlcGxhY2VcIjtcbiAgcXVldWVPcHRpb25zLnNjcm9sbCA9IGZhbHNlO1xuICBxdWV1ZU9wdGlvbnMuc2hhbGxvdyA9IHRydWU7XG4gIHF1ZXVlT3B0aW9ucy50aHJvdHRsZU1zID0gRkxVU0hfUkFURV9MSU1JVF9NUztcbn1cbmZ1bmN0aW9uIGVucXVldWVRdWVyeVN0cmluZ1VwZGF0ZShrZXksIHZhbHVlLCBzZXJpYWxpemUsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc2VyaWFsaXplZE9yTnVsbCA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IHNlcmlhbGl6ZSh2YWx1ZSk7XG4gIGRlYnVnKFwiW251cXMgcXVldWVdIEVucXVldWVpbmcgJXM9JXMgJU9cIiwga2V5LCBzZXJpYWxpemVkT3JOdWxsLCBvcHRpb25zKTtcbiAgdXBkYXRlUXVldWUuc2V0KGtleSwgc2VyaWFsaXplZE9yTnVsbCk7XG4gIGlmIChvcHRpb25zLmhpc3RvcnkgPT09IFwicHVzaFwiKSB7XG4gICAgcXVldWVPcHRpb25zLmhpc3RvcnkgPSBcInB1c2hcIjtcbiAgfVxuICBpZiAob3B0aW9ucy5zY3JvbGwpIHtcbiAgICBxdWV1ZU9wdGlvbnMuc2Nyb2xsID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0aW9ucy5zaGFsbG93ID09PSBmYWxzZSkge1xuICAgIHF1ZXVlT3B0aW9ucy5zaGFsbG93ID0gZmFsc2U7XG4gIH1cbiAgaWYgKG9wdGlvbnMuc3RhcnRUcmFuc2l0aW9uKSB7XG4gICAgdHJhbnNpdGlvbnNRdWV1ZS5hZGQob3B0aW9ucy5zdGFydFRyYW5zaXRpb24pO1xuICB9XG4gIHF1ZXVlT3B0aW9ucy50aHJvdHRsZU1zID0gTWF0aC5tYXgoXG4gICAgb3B0aW9ucy50aHJvdHRsZU1zID8/IEZMVVNIX1JBVEVfTElNSVRfTVMsXG4gICAgTnVtYmVyLmlzRmluaXRlKHF1ZXVlT3B0aW9ucy50aHJvdHRsZU1zKSA/IHF1ZXVlT3B0aW9ucy50aHJvdHRsZU1zIDogMFxuICApO1xuICByZXR1cm4gc2VyaWFsaXplZE9yTnVsbDtcbn1cbmZ1bmN0aW9uIGdldFNlYXJjaFBhcmFtc1NuYXBzaG90RnJvbUxvY2F0aW9uKCkge1xuICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpO1xufVxuZnVuY3Rpb24gc2NoZWR1bGVGbHVzaFRvVVJMKHtcbiAgZ2V0U2VhcmNoUGFyYW1zU25hcHNob3QgPSBnZXRTZWFyY2hQYXJhbXNTbmFwc2hvdEZyb21Mb2NhdGlvbixcbiAgdXBkYXRlVXJsLFxuICByYXRlTGltaXRGYWN0b3IgPSAxXG59KSB7XG4gIGlmIChmbHVzaFByb21pc2VDYWNoZSA9PT0gbnVsbCkge1xuICAgIGZsdXNoUHJvbWlzZUNhY2hlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocXVldWVPcHRpb25zLnRocm90dGxlTXMpKSB7XG4gICAgICAgIGRlYnVnKFwiW251cXMgcXVldWVdIFNraXBwaW5nIGZsdXNoIGR1ZSB0byB0aHJvdHRsZU1zPUluZmluaXR5XCIpO1xuICAgICAgICByZXNvbHZlKGdldFNlYXJjaFBhcmFtc1NuYXBzaG90KCkpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBmbHVzaFByb21pc2VDYWNoZSA9IG51bGw7XG4gICAgICAgIH0sIDApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBmbHVzaE5vdygpIHtcbiAgICAgICAgbGFzdEZsdXNoVGltZXN0YW1wID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IFtzZWFyY2gsIGVycm9yMl0gPSBmbHVzaFVwZGF0ZVF1ZXVlKHtcbiAgICAgICAgICB1cGRhdGVVcmwsXG4gICAgICAgICAgZ2V0U2VhcmNoUGFyYW1zU25hcHNob3RcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlcnJvcjIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXNvbHZlKHNlYXJjaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KHNlYXJjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZmx1c2hQcm9taXNlQ2FjaGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcnVuT25OZXh0VGljaygpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RGbHVzaCA9IG5vdyAtIGxhc3RGbHVzaFRpbWVzdGFtcDtcbiAgICAgICAgY29uc3QgdGhyb3R0bGVNcyA9IHF1ZXVlT3B0aW9ucy50aHJvdHRsZU1zO1xuICAgICAgICBjb25zdCBmbHVzaEluTXMgPSByYXRlTGltaXRGYWN0b3IgKiBNYXRoLm1heCgwLCBNYXRoLm1pbih0aHJvdHRsZU1zLCB0aHJvdHRsZU1zIC0gdGltZVNpbmNlTGFzdEZsdXNoKSk7XG4gICAgICAgIGRlYnVnKFxuICAgICAgICAgIFwiW251cXMgcXVldWVdIFNjaGVkdWxpbmcgZmx1c2ggaW4gJWYgbXMuIFRocm90dGxlZCBhdCAlZiBtc1wiLFxuICAgICAgICAgIGZsdXNoSW5NcyxcbiAgICAgICAgICB0aHJvdHRsZU1zXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmbHVzaEluTXMgPT09IDApIHtcbiAgICAgICAgICBmbHVzaE5vdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFRpbWVvdXQoZmx1c2hOb3csIGZsdXNoSW5Ncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQocnVuT25OZXh0VGljaywgMCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGZsdXNoUHJvbWlzZUNhY2hlO1xufVxuZnVuY3Rpb24gZmx1c2hVcGRhdGVRdWV1ZSh7XG4gIHVwZGF0ZVVybCxcbiAgZ2V0U2VhcmNoUGFyYW1zU25hcHNob3Rcbn0pIHtcbiAgY29uc3Qgc2VhcmNoID0gZ2V0U2VhcmNoUGFyYW1zU25hcHNob3QoKTtcbiAgaWYgKHVwZGF0ZVF1ZXVlLnNpemUgPT09IDApIHtcbiAgICByZXR1cm4gW3NlYXJjaCwgbnVsbF07XG4gIH1cbiAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKHVwZGF0ZVF1ZXVlLmVudHJpZXMoKSk7XG4gIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnF1ZXVlT3B0aW9ucyB9O1xuICBjb25zdCB0cmFuc2l0aW9ucyA9IEFycmF5LmZyb20odHJhbnNpdGlvbnNRdWV1ZSk7XG4gIHJlc2V0UXVldWUoKTtcbiAgZGVidWcoXCJbbnVxcyBxdWV1ZV0gRmx1c2hpbmcgcXVldWUgJU8gd2l0aCBvcHRpb25zICVPXCIsIGl0ZW1zLCBvcHRpb25zKTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaXRlbXMpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHNlYXJjaC5kZWxldGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBjb21wb3NlKHRyYW5zaXRpb25zLCAoKSA9PiB7XG4gICAgICB1cGRhdGVVcmwoc2VhcmNoLCB7XG4gICAgICAgIGhpc3Rvcnk6IG9wdGlvbnMuaGlzdG9yeSxcbiAgICAgICAgc2Nyb2xsOiBvcHRpb25zLnNjcm9sbCxcbiAgICAgICAgc2hhbGxvdzogb3B0aW9ucy5zaGFsbG93XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gW3NlYXJjaCwgbnVsbF07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IoNDI5KSwgaXRlbXMubWFwKChba2V5XSkgPT4ga2V5KS5qb2luKCksIGVycik7XG4gICAgcmV0dXJuIFtzZWFyY2gsIGVycl07XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbXBvc2UoZm5zLCBmaW5hbCkge1xuICBjb25zdCByZWN1cnNpdmVDb21wb3NlID0gKGluZGV4KSA9PiB7XG4gICAgaWYgKGluZGV4ID09PSBmbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmluYWwoKTtcbiAgICB9XG4gICAgY29uc3QgZm4gPSBmbnNbaW5kZXhdO1xuICAgIGlmICghZm4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHJhbnNpdGlvbiBmdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZm4oKCkgPT4gcmVjdXJzaXZlQ29tcG9zZShpbmRleCArIDEpKTtcbiAgfTtcbiAgcmVjdXJzaXZlQ29tcG9zZSgwKTtcbn1cblxuZXhwb3J0IHsgRkxVU0hfUkFURV9MSU1JVF9NUywgZW5xdWV1ZVF1ZXJ5U3RyaW5nVXBkYXRlLCBnZXRRdWV1ZWRWYWx1ZSwgcmVzZXRRdWV1ZSwgc2FmZVBhcnNlLCBzY2hlZHVsZUZsdXNoVG9VUkwgfTtcbiIsICJleHBvcnQgdHlwZSBFdmVudFR5cGUgPSBzdHJpbmcgfCBzeW1ib2w7XG5cbi8vIEFuIGV2ZW50IGhhbmRsZXIgY2FuIHRha2UgYW4gb3B0aW9uYWwgZXZlbnQgYXJndW1lbnRcbi8vIGFuZCBzaG91bGQgbm90IHJldHVybiBhIHZhbHVlXG5leHBvcnQgdHlwZSBIYW5kbGVyPFQgPSB1bmtub3duPiA9IChldmVudDogVCkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIFdpbGRjYXJkSGFuZGxlcjxUID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID0gKFxuXHR0eXBlOiBrZXlvZiBULFxuXHRldmVudDogVFtrZXlvZiBUXVxuKSA9PiB2b2lkO1xuXG4vLyBBbiBhcnJheSBvZiBhbGwgY3VycmVudGx5IHJlZ2lzdGVyZWQgZXZlbnQgaGFuZGxlcnMgZm9yIGEgdHlwZVxuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyTGlzdDxUID0gdW5rbm93bj4gPSBBcnJheTxIYW5kbGVyPFQ+PjtcbmV4cG9ydCB0eXBlIFdpbGRDYXJkRXZlbnRIYW5kbGVyTGlzdDxUID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID0gQXJyYXk8XG5cdFdpbGRjYXJkSGFuZGxlcjxUPlxuPjtcblxuLy8gQSBtYXAgb2YgZXZlbnQgdHlwZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgZXZlbnQgaGFuZGxlcnMuXG5leHBvcnQgdHlwZSBFdmVudEhhbmRsZXJNYXA8RXZlbnRzIGV4dGVuZHMgUmVjb3JkPEV2ZW50VHlwZSwgdW5rbm93bj4+ID0gTWFwPFxuXHRrZXlvZiBFdmVudHMgfCAnKicsXG5cdEV2ZW50SGFuZGxlckxpc3Q8RXZlbnRzW2tleW9mIEV2ZW50c10+IHwgV2lsZENhcmRFdmVudEhhbmRsZXJMaXN0PEV2ZW50cz5cbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1pdHRlcjxFdmVudHMgZXh0ZW5kcyBSZWNvcmQ8RXZlbnRUeXBlLCB1bmtub3duPj4ge1xuXHRhbGw6IEV2ZW50SGFuZGxlck1hcDxFdmVudHM+O1xuXG5cdG9uPEtleSBleHRlbmRzIGtleW9mIEV2ZW50cz4odHlwZTogS2V5LCBoYW5kbGVyOiBIYW5kbGVyPEV2ZW50c1tLZXldPik6IHZvaWQ7XG5cdG9uKHR5cGU6ICcqJywgaGFuZGxlcjogV2lsZGNhcmRIYW5kbGVyPEV2ZW50cz4pOiB2b2lkO1xuXG5cdG9mZjxLZXkgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KFxuXHRcdHR5cGU6IEtleSxcblx0XHRoYW5kbGVyPzogSGFuZGxlcjxFdmVudHNbS2V5XT5cblx0KTogdm9pZDtcblx0b2ZmKHR5cGU6ICcqJywgaGFuZGxlcjogV2lsZGNhcmRIYW5kbGVyPEV2ZW50cz4pOiB2b2lkO1xuXG5cdGVtaXQ8S2V5IGV4dGVuZHMga2V5b2YgRXZlbnRzPih0eXBlOiBLZXksIGV2ZW50OiBFdmVudHNbS2V5XSk6IHZvaWQ7XG5cdGVtaXQ8S2V5IGV4dGVuZHMga2V5b2YgRXZlbnRzPihcblx0XHR0eXBlOiB1bmRlZmluZWQgZXh0ZW5kcyBFdmVudHNbS2V5XSA/IEtleSA6IG5ldmVyXG5cdCk6IHZvaWQ7XG59XG5cbi8qKlxuICogTWl0dDogVGlueSAofjIwMGIpIGZ1bmN0aW9uYWwgZXZlbnQgZW1pdHRlciAvIHB1YnN1Yi5cbiAqIEBuYW1lIG1pdHRcbiAqIEByZXR1cm5zIHtNaXR0fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtaXR0PEV2ZW50cyBleHRlbmRzIFJlY29yZDxFdmVudFR5cGUsIHVua25vd24+Pihcblx0YWxsPzogRXZlbnRIYW5kbGVyTWFwPEV2ZW50cz5cbik6IEVtaXR0ZXI8RXZlbnRzPiB7XG5cdHR5cGUgR2VuZXJpY0V2ZW50SGFuZGxlciA9XG5cdFx0fCBIYW5kbGVyPEV2ZW50c1trZXlvZiBFdmVudHNdPlxuXHRcdHwgV2lsZGNhcmRIYW5kbGVyPEV2ZW50cz47XG5cdGFsbCA9IGFsbCB8fCBuZXcgTWFwKCk7XG5cblx0cmV0dXJuIHtcblx0XHQvKipcblx0XHQgKiBBIE1hcCBvZiBldmVudCBuYW1lcyB0byByZWdpc3RlcmVkIGhhbmRsZXIgZnVuY3Rpb25zLlxuXHRcdCAqL1xuXHRcdGFsbCxcblxuXHRcdC8qKlxuXHRcdCAqIFJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBnaXZlbiB0eXBlLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfHN5bWJvbH0gdHlwZSBUeXBlIG9mIGV2ZW50IHRvIGxpc3RlbiBmb3IsIG9yIGAnKidgIGZvciBhbGwgZXZlbnRzXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBGdW5jdGlvbiB0byBjYWxsIGluIHJlc3BvbnNlIHRvIGdpdmVuIGV2ZW50XG5cdFx0ICogQG1lbWJlck9mIG1pdHRcblx0XHQgKi9cblx0XHRvbjxLZXkgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KHR5cGU6IEtleSwgaGFuZGxlcjogR2VuZXJpY0V2ZW50SGFuZGxlcikge1xuXHRcdFx0Y29uc3QgaGFuZGxlcnM6IEFycmF5PEdlbmVyaWNFdmVudEhhbmRsZXI+IHwgdW5kZWZpbmVkID0gYWxsIS5nZXQodHlwZSk7XG5cdFx0XHRpZiAoaGFuZGxlcnMpIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaChoYW5kbGVyKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFsbCEuc2V0KHR5cGUsIFtoYW5kbGVyXSBhcyBFdmVudEhhbmRsZXJMaXN0PEV2ZW50c1trZXlvZiBFdmVudHNdPik7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZSBhbiBldmVudCBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gdHlwZS5cblx0XHQgKiBJZiBgaGFuZGxlcmAgaXMgb21pdHRlZCwgYWxsIGhhbmRsZXJzIG9mIHRoZSBnaXZlbiB0eXBlIGFyZSByZW1vdmVkLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfHN5bWJvbH0gdHlwZSBUeXBlIG9mIGV2ZW50IHRvIHVucmVnaXN0ZXIgYGhhbmRsZXJgIGZyb20gKGAnKidgIHRvIHJlbW92ZSBhIHdpbGRjYXJkIGhhbmRsZXIpXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdIEhhbmRsZXIgZnVuY3Rpb24gdG8gcmVtb3ZlXG5cdFx0ICogQG1lbWJlck9mIG1pdHRcblx0XHQgKi9cblx0XHRvZmY8S2V5IGV4dGVuZHMga2V5b2YgRXZlbnRzPih0eXBlOiBLZXksIGhhbmRsZXI/OiBHZW5lcmljRXZlbnRIYW5kbGVyKSB7XG5cdFx0XHRjb25zdCBoYW5kbGVyczogQXJyYXk8R2VuZXJpY0V2ZW50SGFuZGxlcj4gfCB1bmRlZmluZWQgPSBhbGwhLmdldCh0eXBlKTtcblx0XHRcdGlmIChoYW5kbGVycykge1xuXHRcdFx0XHRpZiAoaGFuZGxlcikge1xuXHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZShoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpID4+PiAwLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhbGwhLnNldCh0eXBlLCBbXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogSW52b2tlIGFsbCBoYW5kbGVycyBmb3IgdGhlIGdpdmVuIHR5cGUuXG5cdFx0ICogSWYgcHJlc2VudCwgYCcqJ2AgaGFuZGxlcnMgYXJlIGludm9rZWQgYWZ0ZXIgdHlwZS1tYXRjaGVkIGhhbmRsZXJzLlxuXHRcdCAqXG5cdFx0ICogTm90ZTogTWFudWFsbHkgZmlyaW5nICcqJyBoYW5kbGVycyBpcyBub3Qgc3VwcG9ydGVkLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd8c3ltYm9sfSB0eXBlIFRoZSBldmVudCB0eXBlIHRvIGludm9rZVxuXHRcdCAqIEBwYXJhbSB7QW55fSBbZXZ0XSBBbnkgdmFsdWUgKG9iamVjdCBpcyByZWNvbW1lbmRlZCBhbmQgcG93ZXJmdWwpLCBwYXNzZWQgdG8gZWFjaCBoYW5kbGVyXG5cdFx0ICogQG1lbWJlck9mIG1pdHRcblx0XHQgKi9cblx0XHRlbWl0PEtleSBleHRlbmRzIGtleW9mIEV2ZW50cz4odHlwZTogS2V5LCBldnQ/OiBFdmVudHNbS2V5XSkge1xuXHRcdFx0bGV0IGhhbmRsZXJzID0gYWxsIS5nZXQodHlwZSk7XG5cdFx0XHRpZiAoaGFuZGxlcnMpIHtcblx0XHRcdFx0KGhhbmRsZXJzIGFzIEV2ZW50SGFuZGxlckxpc3Q8RXZlbnRzW2tleW9mIEV2ZW50c10+KVxuXHRcdFx0XHRcdC5zbGljZSgpXG5cdFx0XHRcdFx0Lm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0XHRcdFx0aGFuZGxlcihldnQhKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0aGFuZGxlcnMgPSBhbGwhLmdldCgnKicpO1xuXHRcdFx0aWYgKGhhbmRsZXJzKSB7XG5cdFx0XHRcdChoYW5kbGVycyBhcyBXaWxkQ2FyZEV2ZW50SGFuZGxlckxpc3Q8RXZlbnRzPilcblx0XHRcdFx0XHQuc2xpY2UoKVxuXHRcdFx0XHRcdC5tYXAoKGhhbmRsZXIpID0+IHtcblx0XHRcdFx0XHRcdGhhbmRsZXIodHlwZSwgZXZ0ISk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuIiwgImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBzaG9ydCBmcm9tIFwic2hvcnQtdXVpZFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZpbHRlckdyb3VwIH0gZnJvbSBcIi4uLy4uL2RhdGEvYWRhcHRlclwiO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGlvbiB9IGZyb20gXCIuL3VzZS1uYXZpZ2F0aW9uXCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0RmlsdGVyOiBGaWx0ZXJHcm91cCA9IHtcbiAga2luZDogXCJGaWx0ZXJHcm91cFwiLFxuICBmaWx0ZXJzOiBbXSxcbiAgYWZ0ZXI6IFwiYW5kXCIsXG4gIGlkOiBzaG9ydC5nZW5lcmF0ZSgpLFxufTtcblxuY29uc3QgY291bnRGaWx0ZXJzUmVjdXJzaXZlID0gKGZpbHRlckdyb3VwOiBGaWx0ZXJHcm91cCk6IG51bWJlciA9PiB7XG4gIGxldCBjb3VudCA9IDA7XG4gIGZvciAoY29uc3QgZmlsdGVyIG9mIGZpbHRlckdyb3VwLmZpbHRlcnMpIHtcbiAgICBpZiAoZmlsdGVyLmtpbmQgPT09IFwiQ29sdW1uRmlsdGVyXCIpIHtcbiAgICAgIC8vIE9ubHkgY291bnQgZmlsdGVycyB0aGF0IGhhdmUgYSBub24tZW1wdHkgY29sdW1uIHNlbGVjdGVkXG4gICAgICBpZiAoZmlsdGVyLmNvbHVtbi50cmltKCkpIHtcbiAgICAgICAgY291bnQrKztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpbHRlci5raW5kID09PSBcIkZpbHRlckdyb3VwXCIpIHtcbiAgICAgIGNvdW50ICs9IGNvdW50RmlsdGVyc1JlY3Vyc2l2ZShmaWx0ZXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY291bnQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlRmlsdGVyaW5nKCkge1xuICBjb25zdCB7IGZpbHRlclBhcmFtLCBzZXRGaWx0ZXJQYXJhbSB9ID0gdXNlTmF2aWdhdGlvbigpO1xuXG4gIGNvbnN0IGFwcGxpZWRGaWx0ZXIgPSB1c2VNZW1vKCgpID0+IEpTT04ucGFyc2UoZmlsdGVyUGFyYW0pIGFzIEZpbHRlckdyb3VwLCBbZmlsdGVyUGFyYW1dKTtcbiAgY29uc3Qgc2V0QXBwbGllZEZpbHRlciA9IChmaWx0ZXI6IEZpbHRlckdyb3VwKSA9PiB2b2lkIHNldEZpbHRlclBhcmFtKEpTT04uc3RyaW5naWZ5KGZpbHRlcikpO1xuXG4gIGNvbnN0IFtlZGl0aW5nRmlsdGVyLCBzZXRFZGl0aW5nRmlsdGVyXSA9IHVzZVN0YXRlPEZpbHRlckdyb3VwPihhcHBsaWVkRmlsdGVyKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEVkaXRpbmdGaWx0ZXIoYXBwbGllZEZpbHRlcik7XG4gIH0sIFthcHBsaWVkRmlsdGVyXSk7XG5cbiAgY29uc3QgdG90YWxFZGl0aW5nRmlsdGVycyA9IHVzZU1lbW8oKCkgPT4gY291bnRGaWx0ZXJzUmVjdXJzaXZlKGVkaXRpbmdGaWx0ZXIpLCBbZWRpdGluZ0ZpbHRlcl0pO1xuXG4gIHJldHVybiB7XG4gICAgYXBwbGllZEZpbHRlcixcbiAgICBzZXRBcHBsaWVkRmlsdGVyLFxuICAgIGVkaXRpbmdGaWx0ZXIsXG4gICAgc2V0RWRpdGluZ0ZpbHRlcixcbiAgICB0b3RhbEVkaXRpbmdGaWx0ZXJzLFxuICB9O1xufVxuIiwgImltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC1xdWVyeVwiO1xuXG5pbXBvcnQgdHlwZSB7IEFkYXB0ZXJJbnRyb3NwZWN0UmVzdWx0IH0gZnJvbSBcIi4uLy4uL2RhdGEvYWRhcHRlclwiO1xuaW1wb3J0IHsgdXNlU3R1ZGlvIH0gZnJvbSBcIi4uL3N0dWRpby9jb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCBJTklUSUFMX0RBVEFfVVBEQVRFRF9BVCA9IC0xO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlSW50cm9zcGVjdGlvbigpIHtcbiAgY29uc3QgeyBhZGFwdGVyLCBvbkV2ZW50IH0gPSB1c2VTdHVkaW8oKTtcblxuICByZXR1cm4gdXNlUXVlcnkoe1xuICAgIGluaXRpYWxEYXRhOiB7XG4gICAgICBzY2hlbWFzOiB7XG4gICAgICAgIFthZGFwdGVyLmRlZmF1bHRTY2hlbWEgfHwgXCJkYlwiXToge1xuICAgICAgICAgIG5hbWU6IGFkYXB0ZXIuZGVmYXVsdFNjaGVtYSB8fCBcImRiXCIsXG4gICAgICAgICAgdGFibGVzOiB7fSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB0aW1lem9uZTogXCJVVENcIixcbiAgICAgIGZpbHRlck9wZXJhdG9yczogW10sXG4gICAgICBxdWVyeTogeyBwYXJhbWV0ZXJzOiBbXSwgc3FsOiBcIlwiIH0sXG4gICAgfSBzYXRpc2ZpZXMgQWRhcHRlckludHJvc3BlY3RSZXN1bHQsXG4gICAgaW5pdGlhbERhdGFVcGRhdGVkQXQ6IElOSVRJQUxfREFUQV9VUERBVEVEX0FULFxuICAgIHF1ZXJ5Rm46IGFzeW5jICh7IHNpZ25hbCB9KSA9PiB7XG4gICAgICBjb25zdCBbZXJyb3IsIHJlc3VsdF0gPSBhd2FpdCBhZGFwdGVyLmludHJvc3BlY3QoeyBhYm9ydFNpZ25hbDogc2lnbmFsIH0pO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgb25FdmVudCh7XG4gICAgICAgICAgbmFtZTogXCJzdHVkaW9fb3BlcmF0aW9uX2Vycm9yXCIsXG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgb3BlcmF0aW9uOiBcImludHJvc3BlY3RcIixcbiAgICAgICAgICAgIHF1ZXJ5OiBlcnJvci5xdWVyeSxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgb25FdmVudCh7XG4gICAgICAgIG5hbWU6IFwic3R1ZGlvX29wZXJhdGlvbl9zdWNjZXNzXCIsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICBvcGVyYXRpb246IFwiaW50cm9zcGVjdFwiLFxuICAgICAgICAgIHF1ZXJ5OiByZXN1bHQucXVlcnksXG4gICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBjb3VudCB0aGUgdG90YWwgbnVtYmVyIG9mIHRhYmxlcyBhY3Jvc3MgYWxsIHNjaGVtYXNcbiAgICAgIGNvbnN0IHRhYmxlQ291bnQgPSBPYmplY3QudmFsdWVzKHJlc3VsdC5zY2hlbWFzKS5yZWR1Y2UoKHN1bSwgc2NoZW1hKSA9PiB7XG4gICAgICAgIHJldHVybiBzdW0gKyBPYmplY3Qua2V5cyhzY2hlbWEudGFibGVzKS5sZW5ndGg7XG4gICAgICB9LCAwKTtcblxuICAgICAgb25FdmVudCh7XG4gICAgICAgIG5hbWU6IFwic3R1ZGlvX2xhdW5jaGVkXCIsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICB0YWJsZUNvdW50LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBxdWVyeUtleTogW1wiaW50cm9zcGVjdGlvblwiXSxcbiAgICAvLyBpZiBpcyBpbml0aWFsIGRhdGEsIHJlZmV0Y2ggaW1tZWRpYXRlbHksIG90aGVyd2lzZSwgbmV2ZXIgcmVmZXRjaCBhdXRvbWF0aWNhbGx5IGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgIC8vIHdlIGNhbiBzdGlsbCByZWZldGNoIG1hbnVhbGx5IHVzaW5nIHRoZSBxdWVyeSBjbGllbnQgLSBwcm9iYWJseSB0cmlnZ2VyZWQgYnkgYSBidXR0b24uXG4gICAgc3RhbGVUaW1lOiAoY3R4KSA9PiAoY3R4LnN0YXRlLmRhdGFVcGRhdGVkQXQgPT09IElOSVRJQUxfREFUQV9VUERBVEVEX0FUID8gMCA6IEluZmluaXR5KSxcbiAgfSk7XG59XG4iLCAiLy8gc2hhZGNuIHV0aWxzXG5pbXBvcnQgeyB0eXBlIENsYXNzVmFsdWUsIGNsc3ggfSBmcm9tIFwiY2xzeFwiO1xuaW1wb3J0IHsgZXh0ZW5kVGFpbHdpbmRNZXJnZSB9IGZyb20gXCJ0YWlsd2luZC1tZXJnZVwiO1xuXG5leHBvcnQgY29uc3QgdHdNZXJnZSA9IGV4dGVuZFRhaWx3aW5kTWVyZ2Uoe30pO1xuXG5leHBvcnQgZnVuY3Rpb24gY24oLi4uaW5wdXRzOiBDbGFzc1ZhbHVlW10pIHtcbiAgcmV0dXJuIHR3TWVyZ2UoY2xzeChpbnB1dHMpKTtcbn1cbiIsICJmdW5jdGlvbiByKGUpe3ZhciB0LGYsbj1cIlwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZSluKz1lO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGUpaWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIG89ZS5sZW5ndGg7Zm9yKHQ9MDt0PG87dCsrKWVbdF0mJihmPXIoZVt0XSkpJiYobiYmKG4rPVwiIFwiKSxuKz1mKX1lbHNlIGZvcihmIGluIGUpZVtmXSYmKG4mJihuKz1cIiBcIiksbis9Zik7cmV0dXJuIG59ZXhwb3J0IGZ1bmN0aW9uIGNsc3goKXtmb3IodmFyIGUsdCxmPTAsbj1cIlwiLG89YXJndW1lbnRzLmxlbmd0aDtmPG87ZisrKShlPWFyZ3VtZW50c1tmXSkmJih0PXIoZSkpJiYobiYmKG4rPVwiIFwiKSxuKz10KTtyZXR1cm4gbn1leHBvcnQgZGVmYXVsdCBjbHN4OyIsICJpbXBvcnQge1xuICAgIENsYXNzR3JvdXAsXG4gICAgQ2xhc3NWYWxpZGF0b3IsXG4gICAgQ29uZmlnLFxuICAgIEdlbmVyaWNDbGFzc0dyb3VwSWRzLFxuICAgIEdlbmVyaWNDb25maWcsXG4gICAgR2VuZXJpY1RoZW1lR3JvdXBJZHMsXG4gICAgVGhlbWVHZXR0ZXIsXG4gICAgVGhlbWVPYmplY3QsXG59IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xhc3NQYXJ0T2JqZWN0IHtcbiAgICBuZXh0UGFydDogTWFwPHN0cmluZywgQ2xhc3NQYXJ0T2JqZWN0PlxuICAgIHZhbGlkYXRvcnM6IENsYXNzVmFsaWRhdG9yT2JqZWN0W11cbiAgICBjbGFzc0dyb3VwSWQ/OiBHZW5lcmljQ2xhc3NHcm91cElkc1xufVxuXG5pbnRlcmZhY2UgQ2xhc3NWYWxpZGF0b3JPYmplY3Qge1xuICAgIGNsYXNzR3JvdXBJZDogR2VuZXJpY0NsYXNzR3JvdXBJZHNcbiAgICB2YWxpZGF0b3I6IENsYXNzVmFsaWRhdG9yXG59XG5cbmNvbnN0IENMQVNTX1BBUlRfU0VQQVJBVE9SID0gJy0nXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDbGFzc0dyb3VwVXRpbHMgPSAoY29uZmlnOiBHZW5lcmljQ29uZmlnKSA9PiB7XG4gICAgY29uc3QgY2xhc3NNYXAgPSBjcmVhdGVDbGFzc01hcChjb25maWcpXG4gICAgY29uc3QgeyBjb25mbGljdGluZ0NsYXNzR3JvdXBzLCBjb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnMgfSA9IGNvbmZpZ1xuXG4gICAgY29uc3QgZ2V0Q2xhc3NHcm91cElkID0gKGNsYXNzTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsYXNzUGFydHMgPSBjbGFzc05hbWUuc3BsaXQoQ0xBU1NfUEFSVF9TRVBBUkFUT1IpXG5cbiAgICAgICAgLy8gQ2xhc3NlcyBsaWtlIGAtaW5zZXQtMWAgcHJvZHVjZSBhbiBlbXB0eSBzdHJpbmcgYXMgZmlyc3QgY2xhc3NQYXJ0LiBXZSBhc3N1bWUgdGhhdCBjbGFzc2VzIGZvciBuZWdhdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgY29ycmVjdGx5IGFuZCByZW1vdmUgaXQgZnJvbSBjbGFzc1BhcnRzLlxuICAgICAgICBpZiAoY2xhc3NQYXJ0c1swXSA9PT0gJycgJiYgY2xhc3NQYXJ0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIGNsYXNzUGFydHMuc2hpZnQoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldEdyb3VwUmVjdXJzaXZlKGNsYXNzUGFydHMsIGNsYXNzTWFwKSB8fCBnZXRHcm91cElkRm9yQXJiaXRyYXJ5UHJvcGVydHkoY2xhc3NOYW1lKVxuICAgIH1cblxuICAgIGNvbnN0IGdldENvbmZsaWN0aW5nQ2xhc3NHcm91cElkcyA9IChcbiAgICAgICAgY2xhc3NHcm91cElkOiBHZW5lcmljQ2xhc3NHcm91cElkcyxcbiAgICAgICAgaGFzUG9zdGZpeE1vZGlmaWVyOiBib29sZWFuLFxuICAgICkgPT4ge1xuICAgICAgICBjb25zdCBjb25mbGljdHMgPSBjb25mbGljdGluZ0NsYXNzR3JvdXBzW2NsYXNzR3JvdXBJZF0gfHwgW11cblxuICAgICAgICBpZiAoaGFzUG9zdGZpeE1vZGlmaWVyICYmIGNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVyc1tjbGFzc0dyb3VwSWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLmNvbmZsaWN0cywgLi4uY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzW2NsYXNzR3JvdXBJZF0hXVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZsaWN0c1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldENsYXNzR3JvdXBJZCxcbiAgICAgICAgZ2V0Q29uZmxpY3RpbmdDbGFzc0dyb3VwSWRzLFxuICAgIH1cbn1cblxuY29uc3QgZ2V0R3JvdXBSZWN1cnNpdmUgPSAoXG4gICAgY2xhc3NQYXJ0czogc3RyaW5nW10sXG4gICAgY2xhc3NQYXJ0T2JqZWN0OiBDbGFzc1BhcnRPYmplY3QsXG4pOiBHZW5lcmljQ2xhc3NHcm91cElkcyB8IHVuZGVmaW5lZCA9PiB7XG4gICAgaWYgKGNsYXNzUGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBjbGFzc1BhcnRPYmplY3QuY2xhc3NHcm91cElkXG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudENsYXNzUGFydCA9IGNsYXNzUGFydHNbMF0hXG4gICAgY29uc3QgbmV4dENsYXNzUGFydE9iamVjdCA9IGNsYXNzUGFydE9iamVjdC5uZXh0UGFydC5nZXQoY3VycmVudENsYXNzUGFydClcbiAgICBjb25zdCBjbGFzc0dyb3VwRnJvbU5leHRDbGFzc1BhcnQgPSBuZXh0Q2xhc3NQYXJ0T2JqZWN0XG4gICAgICAgID8gZ2V0R3JvdXBSZWN1cnNpdmUoY2xhc3NQYXJ0cy5zbGljZSgxKSwgbmV4dENsYXNzUGFydE9iamVjdClcbiAgICAgICAgOiB1bmRlZmluZWRcblxuICAgIGlmIChjbGFzc0dyb3VwRnJvbU5leHRDbGFzc1BhcnQpIHtcbiAgICAgICAgcmV0dXJuIGNsYXNzR3JvdXBGcm9tTmV4dENsYXNzUGFydFxuICAgIH1cblxuICAgIGlmIChjbGFzc1BhcnRPYmplY3QudmFsaWRhdG9ycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzUmVzdCA9IGNsYXNzUGFydHMuam9pbihDTEFTU19QQVJUX1NFUEFSQVRPUilcblxuICAgIHJldHVybiBjbGFzc1BhcnRPYmplY3QudmFsaWRhdG9ycy5maW5kKCh7IHZhbGlkYXRvciB9KSA9PiB2YWxpZGF0b3IoY2xhc3NSZXN0KSk/LmNsYXNzR3JvdXBJZFxufVxuXG5jb25zdCBhcmJpdHJhcnlQcm9wZXJ0eVJlZ2V4ID0gL15cXFsoLispXFxdJC9cblxuY29uc3QgZ2V0R3JvdXBJZEZvckFyYml0cmFyeVByb3BlcnR5ID0gKGNsYXNzTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGFyYml0cmFyeVByb3BlcnR5UmVnZXgudGVzdChjbGFzc05hbWUpKSB7XG4gICAgICAgIGNvbnN0IGFyYml0cmFyeVByb3BlcnR5Q2xhc3NOYW1lID0gYXJiaXRyYXJ5UHJvcGVydHlSZWdleC5leGVjKGNsYXNzTmFtZSkhWzFdXG4gICAgICAgIGNvbnN0IHByb3BlcnR5ID0gYXJiaXRyYXJ5UHJvcGVydHlDbGFzc05hbWU/LnN1YnN0cmluZyhcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBhcmJpdHJhcnlQcm9wZXJ0eUNsYXNzTmFtZS5pbmRleE9mKCc6JyksXG4gICAgICAgIClcblxuICAgICAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgIC8vIEkgdXNlIHR3byBkb3RzIGhlcmUgYmVjYXVzZSBvbmUgZG90IGlzIHVzZWQgYXMgcHJlZml4IGZvciBjbGFzcyBncm91cHMgaW4gcGx1Z2luc1xuICAgICAgICAgICAgcmV0dXJuICdhcmJpdHJhcnkuLicgKyBwcm9wZXJ0eVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEV4cG9ydGVkIGZvciB0ZXN0aW5nIG9ubHlcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsYXNzTWFwID0gKGNvbmZpZzogQ29uZmlnPEdlbmVyaWNDbGFzc0dyb3VwSWRzLCBHZW5lcmljVGhlbWVHcm91cElkcz4pID0+IHtcbiAgICBjb25zdCB7IHRoZW1lLCBwcmVmaXggfSA9IGNvbmZpZ1xuICAgIGNvbnN0IGNsYXNzTWFwOiBDbGFzc1BhcnRPYmplY3QgPSB7XG4gICAgICAgIG5leHRQYXJ0OiBuZXcgTWFwPHN0cmluZywgQ2xhc3NQYXJ0T2JqZWN0PigpLFxuICAgICAgICB2YWxpZGF0b3JzOiBbXSxcbiAgICB9XG5cbiAgICBjb25zdCBwcmVmaXhlZENsYXNzR3JvdXBFbnRyaWVzID0gZ2V0UHJlZml4ZWRDbGFzc0dyb3VwRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmNsYXNzR3JvdXBzKSxcbiAgICAgICAgcHJlZml4LFxuICAgIClcblxuICAgIHByZWZpeGVkQ2xhc3NHcm91cEVudHJpZXMuZm9yRWFjaCgoW2NsYXNzR3JvdXBJZCwgY2xhc3NHcm91cF0pID0+IHtcbiAgICAgICAgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseShjbGFzc0dyb3VwLCBjbGFzc01hcCwgY2xhc3NHcm91cElkLCB0aGVtZSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIGNsYXNzTWFwXG59XG5cbmNvbnN0IHByb2Nlc3NDbGFzc2VzUmVjdXJzaXZlbHkgPSAoXG4gICAgY2xhc3NHcm91cDogQ2xhc3NHcm91cDxHZW5lcmljVGhlbWVHcm91cElkcz4sXG4gICAgY2xhc3NQYXJ0T2JqZWN0OiBDbGFzc1BhcnRPYmplY3QsXG4gICAgY2xhc3NHcm91cElkOiBHZW5lcmljQ2xhc3NHcm91cElkcyxcbiAgICB0aGVtZTogVGhlbWVPYmplY3Q8R2VuZXJpY1RoZW1lR3JvdXBJZHM+LFxuKSA9PiB7XG4gICAgY2xhc3NHcm91cC5mb3JFYWNoKChjbGFzc0RlZmluaXRpb24pID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGFzc0RlZmluaXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc1BhcnRPYmplY3RUb0VkaXQgPVxuICAgICAgICAgICAgICAgIGNsYXNzRGVmaW5pdGlvbiA9PT0gJycgPyBjbGFzc1BhcnRPYmplY3QgOiBnZXRQYXJ0KGNsYXNzUGFydE9iamVjdCwgY2xhc3NEZWZpbml0aW9uKVxuICAgICAgICAgICAgY2xhc3NQYXJ0T2JqZWN0VG9FZGl0LmNsYXNzR3JvdXBJZCA9IGNsYXNzR3JvdXBJZFxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNsYXNzRGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKGlzVGhlbWVHZXR0ZXIoY2xhc3NEZWZpbml0aW9uKSkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NDbGFzc2VzUmVjdXJzaXZlbHkoXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzRGVmaW5pdGlvbih0aGVtZSksXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzUGFydE9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NHcm91cElkLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsYXNzUGFydE9iamVjdC52YWxpZGF0b3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogY2xhc3NEZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgIGNsYXNzR3JvdXBJZCxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY2xhc3NEZWZpbml0aW9uKS5mb3JFYWNoKChba2V5LCBjbGFzc0dyb3VwXSkgPT4ge1xuICAgICAgICAgICAgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseShcbiAgICAgICAgICAgICAgICBjbGFzc0dyb3VwLFxuICAgICAgICAgICAgICAgIGdldFBhcnQoY2xhc3NQYXJ0T2JqZWN0LCBrZXkpLFxuICAgICAgICAgICAgICAgIGNsYXNzR3JvdXBJZCxcbiAgICAgICAgICAgICAgICB0aGVtZSxcbiAgICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5jb25zdCBnZXRQYXJ0ID0gKGNsYXNzUGFydE9iamVjdDogQ2xhc3NQYXJ0T2JqZWN0LCBwYXRoOiBzdHJpbmcpID0+IHtcbiAgICBsZXQgY3VycmVudENsYXNzUGFydE9iamVjdCA9IGNsYXNzUGFydE9iamVjdFxuXG4gICAgcGF0aC5zcGxpdChDTEFTU19QQVJUX1NFUEFSQVRPUikuZm9yRWFjaCgocGF0aFBhcnQpID0+IHtcbiAgICAgICAgaWYgKCFjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0Lm5leHRQYXJ0LmhhcyhwYXRoUGFydCkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRDbGFzc1BhcnRPYmplY3QubmV4dFBhcnQuc2V0KHBhdGhQYXJ0LCB7XG4gICAgICAgICAgICAgICAgbmV4dFBhcnQ6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3JzOiBbXSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0ID0gY3VycmVudENsYXNzUGFydE9iamVjdC5uZXh0UGFydC5nZXQocGF0aFBhcnQpIVxuICAgIH0pXG5cbiAgICByZXR1cm4gY3VycmVudENsYXNzUGFydE9iamVjdFxufVxuXG5jb25zdCBpc1RoZW1lR2V0dGVyID0gKGZ1bmM6IENsYXNzVmFsaWRhdG9yIHwgVGhlbWVHZXR0ZXIpOiBmdW5jIGlzIFRoZW1lR2V0dGVyID0+XG4gICAgKGZ1bmMgYXMgVGhlbWVHZXR0ZXIpLmlzVGhlbWVHZXR0ZXJcblxuY29uc3QgZ2V0UHJlZml4ZWRDbGFzc0dyb3VwRW50cmllcyA9IChcbiAgICBjbGFzc0dyb3VwRW50cmllczogQXJyYXk8W2NsYXNzR3JvdXBJZDogc3RyaW5nLCBjbGFzc0dyb3VwOiBDbGFzc0dyb3VwPEdlbmVyaWNUaGVtZUdyb3VwSWRzPl0+LFxuICAgIHByZWZpeDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuKTogQXJyYXk8W2NsYXNzR3JvdXBJZDogc3RyaW5nLCBjbGFzc0dyb3VwOiBDbGFzc0dyb3VwPEdlbmVyaWNUaGVtZUdyb3VwSWRzPl0+ID0+IHtcbiAgICBpZiAoIXByZWZpeCkge1xuICAgICAgICByZXR1cm4gY2xhc3NHcm91cEVudHJpZXNcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NHcm91cEVudHJpZXMubWFwKChbY2xhc3NHcm91cElkLCBjbGFzc0dyb3VwXSkgPT4ge1xuICAgICAgICBjb25zdCBwcmVmaXhlZENsYXNzR3JvdXAgPSBjbGFzc0dyb3VwLm1hcCgoY2xhc3NEZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzRGVmaW5pdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgY2xhc3NEZWZpbml0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2xhc3NEZWZpbml0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGNsYXNzRGVmaW5pdGlvbikubWFwKChba2V5LCB2YWx1ZV0pID0+IFtwcmVmaXggKyBrZXksIHZhbHVlXSksXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY2xhc3NEZWZpbml0aW9uXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIFtjbGFzc0dyb3VwSWQsIHByZWZpeGVkQ2xhc3NHcm91cF1cbiAgICB9KVxufVxuIiwgIi8vIEV4cG9ydCBpcyBuZWVkZWQgYmVjYXVzZSBUeXBlU2NyaXB0IGNvbXBsYWlucyBhYm91dCBhbiBlcnJvciBvdGhlcndpc2U6XG4vLyBFcnJvcjogXHUyMDI2L3RhaWx3aW5kLW1lcmdlL3NyYy9jb25maWctdXRpbHMudHMoOCwxNyk6IHNlbWFudGljIGVycm9yIFRTNDA1ODogUmV0dXJuIHR5cGUgb2YgZXhwb3J0ZWQgZnVuY3Rpb24gaGFzIG9yIGlzIHVzaW5nIG5hbWUgJ0xydUNhY2hlJyBmcm9tIGV4dGVybmFsIG1vZHVsZSBcIlx1MjAyNi90YWlsd2luZC1tZXJnZS9zcmMvbHJ1LWNhY2hlXCIgYnV0IGNhbm5vdCBiZSBuYW1lZC5cbmV4cG9ydCBpbnRlcmZhY2UgTHJ1Q2FjaGU8S2V5LCBWYWx1ZT4ge1xuICAgIGdldChrZXk6IEtleSk6IFZhbHVlIHwgdW5kZWZpbmVkXG4gICAgc2V0KGtleTogS2V5LCB2YWx1ZTogVmFsdWUpOiB2b2lkXG59XG5cbi8vIExSVSBjYWNoZSBpbnNwaXJlZCBmcm9tIGhhc2hscnUgKGh0dHBzOi8vZ2l0aHViLmNvbS9kb21pbmljdGFyci9oYXNobHJ1L2Jsb2IvdjEuMC40L2luZGV4LmpzKSBidXQgb2JqZWN0IHJlcGxhY2VkIHdpdGggTWFwIHRvIGltcHJvdmUgcGVyZm9ybWFuY2VcbmV4cG9ydCBjb25zdCBjcmVhdGVMcnVDYWNoZSA9IDxLZXksIFZhbHVlPihtYXhDYWNoZVNpemU6IG51bWJlcik6IExydUNhY2hlPEtleSwgVmFsdWU+ID0+IHtcbiAgICBpZiAobWF4Q2FjaGVTaXplIDwgMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXQ6ICgpID0+IHt9LFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGNhY2hlU2l6ZSA9IDBcbiAgICBsZXQgY2FjaGUgPSBuZXcgTWFwPEtleSwgVmFsdWU+KClcbiAgICBsZXQgcHJldmlvdXNDYWNoZSA9IG5ldyBNYXA8S2V5LCBWYWx1ZT4oKVxuXG4gICAgY29uc3QgdXBkYXRlID0gKGtleTogS2V5LCB2YWx1ZTogVmFsdWUpID0+IHtcbiAgICAgICAgY2FjaGUuc2V0KGtleSwgdmFsdWUpXG4gICAgICAgIGNhY2hlU2l6ZSsrXG5cbiAgICAgICAgaWYgKGNhY2hlU2l6ZSA+IG1heENhY2hlU2l6ZSkge1xuICAgICAgICAgICAgY2FjaGVTaXplID0gMFxuICAgICAgICAgICAgcHJldmlvdXNDYWNoZSA9IGNhY2hlXG4gICAgICAgICAgICBjYWNoZSA9IG5ldyBNYXAoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gY2FjaGUuZ2V0KGtleSlcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodmFsdWUgPSBwcmV2aW91c0NhY2hlLmdldChrZXkpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKGtleSwgdmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5zZXQoa2V5LCB2YWx1ZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKGtleSwgdmFsdWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfVxufVxuIiwgImltcG9ydCB7IEdlbmVyaWNDb25maWcgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgY29uc3QgSU1QT1JUQU5UX01PRElGSUVSID0gJyEnXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQYXJzZUNsYXNzTmFtZSA9IChjb25maWc6IEdlbmVyaWNDb25maWcpID0+IHtcbiAgICBjb25zdCB7IHNlcGFyYXRvciwgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUgfSA9IGNvbmZpZ1xuICAgIGNvbnN0IGlzU2VwYXJhdG9yU2luZ2xlQ2hhcmFjdGVyID0gc2VwYXJhdG9yLmxlbmd0aCA9PT0gMVxuICAgIGNvbnN0IGZpcnN0U2VwYXJhdG9yQ2hhcmFjdGVyID0gc2VwYXJhdG9yWzBdXG4gICAgY29uc3Qgc2VwYXJhdG9yTGVuZ3RoID0gc2VwYXJhdG9yLmxlbmd0aFxuXG4gICAgLy8gcGFyc2VDbGFzc05hbWUgaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9ibG9iL3YzLjIuMi9zcmMvdXRpbC9zcGxpdEF0VG9wTGV2ZWxPbmx5LmpzXG4gICAgY29uc3QgcGFyc2VDbGFzc05hbWUgPSAoY2xhc3NOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzID0gW11cblxuICAgICAgICBsZXQgYnJhY2tldERlcHRoID0gMFxuICAgICAgICBsZXQgbW9kaWZpZXJTdGFydCA9IDBcbiAgICAgICAgbGV0IHBvc3RmaXhNb2RpZmllclBvc2l0aW9uOiBudW1iZXIgfCB1bmRlZmluZWRcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY2xhc3NOYW1lLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRDaGFyYWN0ZXIgPSBjbGFzc05hbWVbaW5kZXhdXG5cbiAgICAgICAgICAgIGlmIChicmFja2V0RGVwdGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDaGFyYWN0ZXIgPT09IGZpcnN0U2VwYXJhdG9yQ2hhcmFjdGVyICYmXG4gICAgICAgICAgICAgICAgICAgIChpc1NlcGFyYXRvclNpbmdsZUNoYXJhY3RlciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lLnNsaWNlKGluZGV4LCBpbmRleCArIHNlcGFyYXRvckxlbmd0aCkgPT09IHNlcGFyYXRvcilcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzLnB1c2goY2xhc3NOYW1lLnNsaWNlKG1vZGlmaWVyU3RhcnQsIGluZGV4KSlcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJTdGFydCA9IGluZGV4ICsgc2VwYXJhdG9yTGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiA9IGluZGV4XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgYnJhY2tldERlcHRoKytcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgYnJhY2tldERlcHRoLS1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJhc2VDbGFzc05hbWVXaXRoSW1wb3J0YW50TW9kaWZpZXIgPVxuICAgICAgICAgICAgbW9kaWZpZXJzLmxlbmd0aCA9PT0gMCA/IGNsYXNzTmFtZSA6IGNsYXNzTmFtZS5zdWJzdHJpbmcobW9kaWZpZXJTdGFydClcbiAgICAgICAgY29uc3QgaGFzSW1wb3J0YW50TW9kaWZpZXIgPVxuICAgICAgICAgICAgYmFzZUNsYXNzTmFtZVdpdGhJbXBvcnRhbnRNb2RpZmllci5zdGFydHNXaXRoKElNUE9SVEFOVF9NT0RJRklFUilcbiAgICAgICAgY29uc3QgYmFzZUNsYXNzTmFtZSA9IGhhc0ltcG9ydGFudE1vZGlmaWVyXG4gICAgICAgICAgICA/IGJhc2VDbGFzc05hbWVXaXRoSW1wb3J0YW50TW9kaWZpZXIuc3Vic3RyaW5nKDEpXG4gICAgICAgICAgICA6IGJhc2VDbGFzc05hbWVXaXRoSW1wb3J0YW50TW9kaWZpZXJcblxuICAgICAgICBjb25zdCBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uID1cbiAgICAgICAgICAgIHBvc3RmaXhNb2RpZmllclBvc2l0aW9uICYmIHBvc3RmaXhNb2RpZmllclBvc2l0aW9uID4gbW9kaWZpZXJTdGFydFxuICAgICAgICAgICAgICAgID8gcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gLSBtb2RpZmllclN0YXJ0XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICAgICAgaGFzSW1wb3J0YW50TW9kaWZpZXIsXG4gICAgICAgICAgICBiYXNlQ2xhc3NOYW1lLFxuICAgICAgICAgICAgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbixcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZSkge1xuICAgICAgICByZXR1cm4gKGNsYXNzTmFtZTogc3RyaW5nKSA9PiBleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZSh7IGNsYXNzTmFtZSwgcGFyc2VDbGFzc05hbWUgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VDbGFzc05hbWVcbn1cblxuLyoqXG4gKiBTb3J0cyBtb2RpZmllcnMgYWNjb3JkaW5nIHRvIGZvbGxvd2luZyBzY2hlbWE6XG4gKiAtIFByZWRlZmluZWQgbW9kaWZpZXJzIGFyZSBzb3J0ZWQgYWxwaGFiZXRpY2FsbHlcbiAqIC0gV2hlbiBhbiBhcmJpdHJhcnkgdmFyaWFudCBhcHBlYXJzLCBpdCBtdXN0IGJlIHByZXNlcnZlZCB3aGljaCBtb2RpZmllcnMgYXJlIGJlZm9yZSBhbmQgYWZ0ZXIgaXRcbiAqL1xuZXhwb3J0IGNvbnN0IHNvcnRNb2RpZmllcnMgPSAobW9kaWZpZXJzOiBzdHJpbmdbXSkgPT4ge1xuICAgIGlmIChtb2RpZmllcnMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIG1vZGlmaWVyc1xuICAgIH1cblxuICAgIGNvbnN0IHNvcnRlZE1vZGlmaWVyczogc3RyaW5nW10gPSBbXVxuICAgIGxldCB1bnNvcnRlZE1vZGlmaWVyczogc3RyaW5nW10gPSBbXVxuXG4gICAgbW9kaWZpZXJzLmZvckVhY2goKG1vZGlmaWVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFudCA9IG1vZGlmaWVyWzBdID09PSAnWydcblxuICAgICAgICBpZiAoaXNBcmJpdHJhcnlWYXJpYW50KSB7XG4gICAgICAgICAgICBzb3J0ZWRNb2RpZmllcnMucHVzaCguLi51bnNvcnRlZE1vZGlmaWVycy5zb3J0KCksIG1vZGlmaWVyKVxuICAgICAgICAgICAgdW5zb3J0ZWRNb2RpZmllcnMgPSBbXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5zb3J0ZWRNb2RpZmllcnMucHVzaChtb2RpZmllcilcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBzb3J0ZWRNb2RpZmllcnMucHVzaCguLi51bnNvcnRlZE1vZGlmaWVycy5zb3J0KCkpXG5cbiAgICByZXR1cm4gc29ydGVkTW9kaWZpZXJzXG59XG4iLCAiaW1wb3J0IHsgY3JlYXRlQ2xhc3NHcm91cFV0aWxzIH0gZnJvbSAnLi9jbGFzcy1ncm91cC11dGlscydcbmltcG9ydCB7IGNyZWF0ZUxydUNhY2hlIH0gZnJvbSAnLi9scnUtY2FjaGUnXG5pbXBvcnQgeyBjcmVhdGVQYXJzZUNsYXNzTmFtZSB9IGZyb20gJy4vcGFyc2UtY2xhc3MtbmFtZSdcbmltcG9ydCB7IEdlbmVyaWNDb25maWcgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgdHlwZSBDb25maWdVdGlscyA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNvbmZpZ1V0aWxzPlxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29uZmlnVXRpbHMgPSAoY29uZmlnOiBHZW5lcmljQ29uZmlnKSA9PiAoe1xuICAgIGNhY2hlOiBjcmVhdGVMcnVDYWNoZTxzdHJpbmcsIHN0cmluZz4oY29uZmlnLmNhY2hlU2l6ZSksXG4gICAgcGFyc2VDbGFzc05hbWU6IGNyZWF0ZVBhcnNlQ2xhc3NOYW1lKGNvbmZpZyksXG4gICAgLi4uY3JlYXRlQ2xhc3NHcm91cFV0aWxzKGNvbmZpZyksXG59KVxuIiwgImltcG9ydCB7IENvbmZpZ1V0aWxzIH0gZnJvbSAnLi9jb25maWctdXRpbHMnXG5pbXBvcnQgeyBJTVBPUlRBTlRfTU9ESUZJRVIsIHNvcnRNb2RpZmllcnMgfSBmcm9tICcuL3BhcnNlLWNsYXNzLW5hbWUnXG5cbmNvbnN0IFNQTElUX0NMQVNTRVNfUkVHRVggPSAvXFxzKy9cblxuZXhwb3J0IGNvbnN0IG1lcmdlQ2xhc3NMaXN0ID0gKGNsYXNzTGlzdDogc3RyaW5nLCBjb25maWdVdGlsczogQ29uZmlnVXRpbHMpID0+IHtcbiAgICBjb25zdCB7IHBhcnNlQ2xhc3NOYW1lLCBnZXRDbGFzc0dyb3VwSWQsIGdldENvbmZsaWN0aW5nQ2xhc3NHcm91cElkcyB9ID0gY29uZmlnVXRpbHNcblxuICAgIC8qKlxuICAgICAqIFNldCBvZiBjbGFzc0dyb3VwSWRzIGluIGZvbGxvd2luZyBmb3JtYXQ6XG4gICAgICogYHtpbXBvcnRhbnRNb2RpZmllcn17dmFyaWFudE1vZGlmaWVyc317Y2xhc3NHcm91cElkfWBcbiAgICAgKiBAZXhhbXBsZSAnZmxvYXQnXG4gICAgICogQGV4YW1wbGUgJ2hvdmVyOmZvY3VzOmJnLWNvbG9yJ1xuICAgICAqIEBleGFtcGxlICdtZDohcHInXG4gICAgICovXG4gICAgY29uc3QgY2xhc3NHcm91cHNJbkNvbmZsaWN0OiBzdHJpbmdbXSA9IFtdXG4gICAgY29uc3QgY2xhc3NOYW1lcyA9IGNsYXNzTGlzdC50cmltKCkuc3BsaXQoU1BMSVRfQ0xBU1NFU19SRUdFWClcblxuICAgIGxldCByZXN1bHQgPSAnJ1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSBjbGFzc05hbWVzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4IC09IDEpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxDbGFzc05hbWUgPSBjbGFzc05hbWVzW2luZGV4XSFcblxuICAgICAgICBjb25zdCB7IG1vZGlmaWVycywgaGFzSW1wb3J0YW50TW9kaWZpZXIsIGJhc2VDbGFzc05hbWUsIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gfSA9XG4gICAgICAgICAgICBwYXJzZUNsYXNzTmFtZShvcmlnaW5hbENsYXNzTmFtZSlcblxuICAgICAgICBsZXQgaGFzUG9zdGZpeE1vZGlmaWVyID0gQm9vbGVhbihtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uKVxuICAgICAgICBsZXQgY2xhc3NHcm91cElkID0gZ2V0Q2xhc3NHcm91cElkKFxuICAgICAgICAgICAgaGFzUG9zdGZpeE1vZGlmaWVyXG4gICAgICAgICAgICAgICAgPyBiYXNlQ2xhc3NOYW1lLnN1YnN0cmluZygwLCBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIDogYmFzZUNsYXNzTmFtZSxcbiAgICAgICAgKVxuXG4gICAgICAgIGlmICghY2xhc3NHcm91cElkKSB7XG4gICAgICAgICAgICBpZiAoIWhhc1Bvc3RmaXhNb2RpZmllcikge1xuICAgICAgICAgICAgICAgIC8vIE5vdCBhIFRhaWx3aW5kIGNsYXNzXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gb3JpZ2luYWxDbGFzc05hbWUgKyAocmVzdWx0Lmxlbmd0aCA+IDAgPyAnICcgKyByZXN1bHQgOiByZXN1bHQpXG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2xhc3NHcm91cElkID0gZ2V0Q2xhc3NHcm91cElkKGJhc2VDbGFzc05hbWUpXG5cbiAgICAgICAgICAgIGlmICghY2xhc3NHcm91cElkKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IGEgVGFpbHdpbmQgY2xhc3NcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBvcmlnaW5hbENsYXNzTmFtZSArIChyZXN1bHQubGVuZ3RoID4gMCA/ICcgJyArIHJlc3VsdCA6IHJlc3VsdClcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYXNQb3N0Zml4TW9kaWZpZXIgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFyaWFudE1vZGlmaWVyID0gc29ydE1vZGlmaWVycyhtb2RpZmllcnMpLmpvaW4oJzonKVxuXG4gICAgICAgIGNvbnN0IG1vZGlmaWVySWQgPSBoYXNJbXBvcnRhbnRNb2RpZmllclxuICAgICAgICAgICAgPyB2YXJpYW50TW9kaWZpZXIgKyBJTVBPUlRBTlRfTU9ESUZJRVJcbiAgICAgICAgICAgIDogdmFyaWFudE1vZGlmaWVyXG5cbiAgICAgICAgY29uc3QgY2xhc3NJZCA9IG1vZGlmaWVySWQgKyBjbGFzc0dyb3VwSWRcblxuICAgICAgICBpZiAoY2xhc3NHcm91cHNJbkNvbmZsaWN0LmluY2x1ZGVzKGNsYXNzSWQpKSB7XG4gICAgICAgICAgICAvLyBUYWlsd2luZCBjbGFzcyBvbWl0dGVkIGR1ZSB0byBjb25mbGljdFxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNsYXNzR3JvdXBzSW5Db25mbGljdC5wdXNoKGNsYXNzSWQpXG5cbiAgICAgICAgY29uc3QgY29uZmxpY3RHcm91cHMgPSBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHMoY2xhc3NHcm91cElkLCBoYXNQb3N0Zml4TW9kaWZpZXIpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZmxpY3RHcm91cHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gY29uZmxpY3RHcm91cHNbaV0hXG4gICAgICAgICAgICBjbGFzc0dyb3Vwc0luQ29uZmxpY3QucHVzaChtb2RpZmllcklkICsgZ3JvdXApXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUYWlsd2luZCBjbGFzcyBub3QgaW4gY29uZmxpY3RcbiAgICAgICAgcmVzdWx0ID0gb3JpZ2luYWxDbGFzc05hbWUgKyAocmVzdWx0Lmxlbmd0aCA+IDAgPyAnICcgKyByZXN1bHQgOiByZXN1bHQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxufVxuIiwgIi8qKlxuICogVGhlIGNvZGUgaW4gdGhpcyBmaWxlIGlzIGNvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9sdWtlZWQvY2xzeCBhbmQgbW9kaWZpZWQgdG8gc3VpdCB0aGUgbmVlZHMgb2YgdGFpbHdpbmQtbWVyZ2UgYmV0dGVyLlxuICpcbiAqIFNwZWNpZmljYWxseTpcbiAqIC0gUnVudGltZSBjb2RlIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2x1a2VlZC9jbHN4L2Jsb2IvdjEuMi4xL3NyYy9pbmRleC5qc1xuICogLSBUeXBlU2NyaXB0IHR5cGVzIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2x1a2VlZC9jbHN4L2Jsb2IvdjEuMi4xL2Nsc3guZC50c1xuICpcbiAqIE9yaWdpbmFsIGNvZGUgaGFzIE1JVCBsaWNlbnNlOiBDb3B5cmlnaHQgKGMpIEx1a2UgRWR3YXJkcyA8bHVrZS5lZHdhcmRzMDVAZ21haWwuY29tPiAobHVrZWVkLmNvbSlcbiAqL1xuXG5leHBvcnQgdHlwZSBDbGFzc05hbWVWYWx1ZSA9IENsYXNzTmFtZUFycmF5IHwgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCB8IDAgfCAwbiB8IGZhbHNlXG50eXBlIENsYXNzTmFtZUFycmF5ID0gQ2xhc3NOYW1lVmFsdWVbXVxuXG5leHBvcnQgZnVuY3Rpb24gdHdKb2luKC4uLmNsYXNzTGlzdHM6IENsYXNzTmFtZVZhbHVlW10pOiBzdHJpbmdcbmV4cG9ydCBmdW5jdGlvbiB0d0pvaW4oKSB7XG4gICAgbGV0IGluZGV4ID0gMFxuICAgIGxldCBhcmd1bWVudDogQ2xhc3NOYW1lVmFsdWVcbiAgICBsZXQgcmVzb2x2ZWRWYWx1ZTogc3RyaW5nXG4gICAgbGV0IHN0cmluZyA9ICcnXG5cbiAgICB3aGlsZSAoaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGlmICgoYXJndW1lbnQgPSBhcmd1bWVudHNbaW5kZXgrK10pKSB7XG4gICAgICAgICAgICBpZiAoKHJlc29sdmVkVmFsdWUgPSB0b1ZhbHVlKGFyZ3VtZW50KSkpIHtcbiAgICAgICAgICAgICAgICBzdHJpbmcgJiYgKHN0cmluZyArPSAnICcpXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IHJlc29sdmVkVmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nXG59XG5cbmNvbnN0IHRvVmFsdWUgPSAobWl4OiBDbGFzc05hbWVBcnJheSB8IHN0cmluZykgPT4ge1xuICAgIGlmICh0eXBlb2YgbWl4ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbWl4XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVkVmFsdWU6IHN0cmluZ1xuICAgIGxldCBzdHJpbmcgPSAnJ1xuXG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCBtaXgubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgaWYgKG1peFtrXSkge1xuICAgICAgICAgICAgaWYgKChyZXNvbHZlZFZhbHVlID0gdG9WYWx1ZShtaXhba10gYXMgQ2xhc3NOYW1lQXJyYXkgfCBzdHJpbmcpKSkge1xuICAgICAgICAgICAgICAgIHN0cmluZyAmJiAoc3RyaW5nICs9ICcgJylcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gcmVzb2x2ZWRWYWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZ1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZUNvbmZpZ1V0aWxzIH0gZnJvbSAnLi9jb25maWctdXRpbHMnXG5pbXBvcnQgeyBtZXJnZUNsYXNzTGlzdCB9IGZyb20gJy4vbWVyZ2UtY2xhc3NsaXN0J1xuaW1wb3J0IHsgQ2xhc3NOYW1lVmFsdWUsIHR3Sm9pbiB9IGZyb20gJy4vdHctam9pbidcbmltcG9ydCB7IEdlbmVyaWNDb25maWcgfSBmcm9tICcuL3R5cGVzJ1xuXG50eXBlIENyZWF0ZUNvbmZpZ0ZpcnN0ID0gKCkgPT4gR2VuZXJpY0NvbmZpZ1xudHlwZSBDcmVhdGVDb25maWdTdWJzZXF1ZW50ID0gKGNvbmZpZzogR2VuZXJpY0NvbmZpZykgPT4gR2VuZXJpY0NvbmZpZ1xudHlwZSBUYWlsd2luZE1lcmdlID0gKC4uLmNsYXNzTGlzdHM6IENsYXNzTmFtZVZhbHVlW10pID0+IHN0cmluZ1xudHlwZSBDb25maWdVdGlscyA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNvbmZpZ1V0aWxzPlxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGFpbHdpbmRNZXJnZShcbiAgICBjcmVhdGVDb25maWdGaXJzdDogQ3JlYXRlQ29uZmlnRmlyc3QsXG4gICAgLi4uY3JlYXRlQ29uZmlnUmVzdDogQ3JlYXRlQ29uZmlnU3Vic2VxdWVudFtdXG4pOiBUYWlsd2luZE1lcmdlIHtcbiAgICBsZXQgY29uZmlnVXRpbHM6IENvbmZpZ1V0aWxzXG4gICAgbGV0IGNhY2hlR2V0OiBDb25maWdVdGlsc1snY2FjaGUnXVsnZ2V0J11cbiAgICBsZXQgY2FjaGVTZXQ6IENvbmZpZ1V0aWxzWydjYWNoZSddWydzZXQnXVxuICAgIGxldCBmdW5jdGlvblRvQ2FsbCA9IGluaXRUYWlsd2luZE1lcmdlXG5cbiAgICBmdW5jdGlvbiBpbml0VGFpbHdpbmRNZXJnZShjbGFzc0xpc3Q6IHN0cmluZykge1xuICAgICAgICBjb25zdCBjb25maWcgPSBjcmVhdGVDb25maWdSZXN0LnJlZHVjZShcbiAgICAgICAgICAgIChwcmV2aW91c0NvbmZpZywgY3JlYXRlQ29uZmlnQ3VycmVudCkgPT4gY3JlYXRlQ29uZmlnQ3VycmVudChwcmV2aW91c0NvbmZpZyksXG4gICAgICAgICAgICBjcmVhdGVDb25maWdGaXJzdCgpIGFzIEdlbmVyaWNDb25maWcsXG4gICAgICAgIClcblxuICAgICAgICBjb25maWdVdGlscyA9IGNyZWF0ZUNvbmZpZ1V0aWxzKGNvbmZpZylcbiAgICAgICAgY2FjaGVHZXQgPSBjb25maWdVdGlscy5jYWNoZS5nZXRcbiAgICAgICAgY2FjaGVTZXQgPSBjb25maWdVdGlscy5jYWNoZS5zZXRcbiAgICAgICAgZnVuY3Rpb25Ub0NhbGwgPSB0YWlsd2luZE1lcmdlXG5cbiAgICAgICAgcmV0dXJuIHRhaWx3aW5kTWVyZ2UoY2xhc3NMaXN0KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRhaWx3aW5kTWVyZ2UoY2xhc3NMaXN0OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY2FjaGVkUmVzdWx0ID0gY2FjaGVHZXQoY2xhc3NMaXN0KVxuXG4gICAgICAgIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRSZXN1bHRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1lcmdlQ2xhc3NMaXN0KGNsYXNzTGlzdCwgY29uZmlnVXRpbHMpXG4gICAgICAgIGNhY2hlU2V0KGNsYXNzTGlzdCwgcmVzdWx0KVxuXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gY2FsbFRhaWx3aW5kTWVyZ2UoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvblRvQ2FsbCh0d0pvaW4uYXBwbHkobnVsbCwgYXJndW1lbnRzIGFzIGFueSkpXG4gICAgfVxufVxuIiwgImltcG9ydCB7IERlZmF1bHRUaGVtZUdyb3VwSWRzLCBOb0luZmVyLCBUaGVtZUdldHRlciwgVGhlbWVPYmplY3QgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgY29uc3QgZnJvbVRoZW1lID0gPFxuICAgIEFkZGl0aW9uYWxUaGVtZUdyb3VwSWRzIGV4dGVuZHMgc3RyaW5nID0gbmV2ZXIsXG4gICAgRGVmYXVsdFRoZW1lR3JvdXBJZHNJbm5lciBleHRlbmRzIHN0cmluZyA9IERlZmF1bHRUaGVtZUdyb3VwSWRzLFxuPihrZXk6IE5vSW5mZXI8RGVmYXVsdFRoZW1lR3JvdXBJZHNJbm5lciB8IEFkZGl0aW9uYWxUaGVtZUdyb3VwSWRzPik6IFRoZW1lR2V0dGVyID0+IHtcbiAgICBjb25zdCB0aGVtZUdldHRlciA9ICh0aGVtZTogVGhlbWVPYmplY3Q8RGVmYXVsdFRoZW1lR3JvdXBJZHNJbm5lciB8IEFkZGl0aW9uYWxUaGVtZUdyb3VwSWRzPikgPT5cbiAgICAgICAgdGhlbWVba2V5XSB8fCBbXVxuXG4gICAgdGhlbWVHZXR0ZXIuaXNUaGVtZUdldHRlciA9IHRydWUgYXMgY29uc3RcblxuICAgIHJldHVybiB0aGVtZUdldHRlclxufVxuIiwgImNvbnN0IGFyYml0cmFyeVZhbHVlUmVnZXggPSAvXlxcWyg/OihbYS16LV0rKTopPyguKylcXF0kL2lcbmNvbnN0IGZyYWN0aW9uUmVnZXggPSAvXlxcZCtcXC9cXGQrJC9cbmNvbnN0IHN0cmluZ0xlbmd0aHMgPSBuZXcgU2V0KFsncHgnLCAnZnVsbCcsICdzY3JlZW4nXSlcbmNvbnN0IHRzaGlydFVuaXRSZWdleCA9IC9eKFxcZCsoXFwuXFxkKyk/KT8oeHN8c218bWR8bGd8eGwpJC9cbmNvbnN0IGxlbmd0aFVuaXRSZWdleCA9XG4gICAgL1xcZCsoJXxweHxyP2VtfFtzZGxdP3YoW2h3aWJdfG1pbnxtYXgpfHB0fHBjfGlufGNtfG1tfGNhcHxjaHxleHxyP2xofGNxKHd8aHxpfGJ8bWlufG1heCkpfFxcYihjYWxjfG1pbnxtYXh8Y2xhbXApXFwoLitcXCl8XjAkL1xuY29uc3QgY29sb3JGdW5jdGlvblJlZ2V4ID0gL14ocmdiYT98aHNsYT98aHdifChvayk/KGxhYnxsY2gpKVxcKC4rXFwpJC9cbi8vIFNoYWRvdyBhbHdheXMgYmVnaW5zIHdpdGggeCBhbmQgeSBvZmZzZXQgc2VwYXJhdGVkIGJ5IHVuZGVyc2NvcmUgb3B0aW9uYWxseSBwcmVwZW5kZWQgYnkgaW5zZXRcbmNvbnN0IHNoYWRvd1JlZ2V4ID0gL14oaW5zZXRfKT8tPygoXFxkKyk/XFwuPyhcXGQrKVthLXpdK3wwKV8tPygoXFxkKyk/XFwuPyhcXGQrKVthLXpdK3wwKS9cbmNvbnN0IGltYWdlUmVnZXggPVxuICAgIC9eKHVybHxpbWFnZXxpbWFnZS1zZXR8Y3Jvc3MtZmFkZXxlbGVtZW50fChyZXBlYXRpbmctKT8obGluZWFyfHJhZGlhbHxjb25pYyktZ3JhZGllbnQpXFwoLitcXCkkL1xuXG5leHBvcnQgY29uc3QgaXNMZW5ndGggPSAodmFsdWU6IHN0cmluZykgPT5cbiAgICBpc051bWJlcih2YWx1ZSkgfHwgc3RyaW5nTGVuZ3Rocy5oYXModmFsdWUpIHx8IGZyYWN0aW9uUmVnZXgudGVzdCh2YWx1ZSlcblxuZXhwb3J0IGNvbnN0IGlzQXJiaXRyYXJ5TGVuZ3RoID0gKHZhbHVlOiBzdHJpbmcpID0+XG4gICAgZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgJ2xlbmd0aCcsIGlzTGVuZ3RoT25seSlcblxuZXhwb3J0IGNvbnN0IGlzTnVtYmVyID0gKHZhbHVlOiBzdHJpbmcpID0+IEJvb2xlYW4odmFsdWUpICYmICFOdW1iZXIuaXNOYU4oTnVtYmVyKHZhbHVlKSlcblxuZXhwb3J0IGNvbnN0IGlzQXJiaXRyYXJ5TnVtYmVyID0gKHZhbHVlOiBzdHJpbmcpID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsICdudW1iZXInLCBpc051bWJlcilcblxuZXhwb3J0IGNvbnN0IGlzSW50ZWdlciA9ICh2YWx1ZTogc3RyaW5nKSA9PiBCb29sZWFuKHZhbHVlKSAmJiBOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcih2YWx1ZSkpXG5cbmV4cG9ydCBjb25zdCBpc1BlcmNlbnQgPSAodmFsdWU6IHN0cmluZykgPT4gdmFsdWUuZW5kc1dpdGgoJyUnKSAmJiBpc051bWJlcih2YWx1ZS5zbGljZSgwLCAtMSkpXG5cbmV4cG9ydCBjb25zdCBpc0FyYml0cmFyeVZhbHVlID0gKHZhbHVlOiBzdHJpbmcpID0+IGFyYml0cmFyeVZhbHVlUmVnZXgudGVzdCh2YWx1ZSlcblxuZXhwb3J0IGNvbnN0IGlzVHNoaXJ0U2l6ZSA9ICh2YWx1ZTogc3RyaW5nKSA9PiB0c2hpcnRVbml0UmVnZXgudGVzdCh2YWx1ZSlcblxuY29uc3Qgc2l6ZUxhYmVscyA9IG5ldyBTZXQoWydsZW5ndGgnLCAnc2l6ZScsICdwZXJjZW50YWdlJ10pXG5cbmV4cG9ydCBjb25zdCBpc0FyYml0cmFyeVNpemUgPSAodmFsdWU6IHN0cmluZykgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgc2l6ZUxhYmVscywgaXNOZXZlcilcblxuZXhwb3J0IGNvbnN0IGlzQXJiaXRyYXJ5UG9zaXRpb24gPSAodmFsdWU6IHN0cmluZykgPT5cbiAgICBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCAncG9zaXRpb24nLCBpc05ldmVyKVxuXG5jb25zdCBpbWFnZUxhYmVscyA9IG5ldyBTZXQoWydpbWFnZScsICd1cmwnXSlcblxuZXhwb3J0IGNvbnN0IGlzQXJiaXRyYXJ5SW1hZ2UgPSAodmFsdWU6IHN0cmluZykgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgaW1hZ2VMYWJlbHMsIGlzSW1hZ2UpXG5cbmV4cG9ydCBjb25zdCBpc0FyYml0cmFyeVNoYWRvdyA9ICh2YWx1ZTogc3RyaW5nKSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCAnJywgaXNTaGFkb3cpXG5cbmV4cG9ydCBjb25zdCBpc0FueSA9ICgpID0+IHRydWVcblxuY29uc3QgZ2V0SXNBcmJpdHJhcnlWYWx1ZSA9IChcbiAgICB2YWx1ZTogc3RyaW5nLFxuICAgIGxhYmVsOiBzdHJpbmcgfCBTZXQ8c3RyaW5nPixcbiAgICB0ZXN0VmFsdWU6ICh2YWx1ZTogc3RyaW5nKSA9PiBib29sZWFuLFxuKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXJiaXRyYXJ5VmFsdWVSZWdleC5leGVjKHZhbHVlKVxuXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0WzFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJyA/IHJlc3VsdFsxXSA9PT0gbGFiZWwgOiBsYWJlbC5oYXMocmVzdWx0WzFdKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRlc3RWYWx1ZShyZXN1bHRbMl0hKVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxufVxuXG5jb25zdCBpc0xlbmd0aE9ubHkgPSAodmFsdWU6IHN0cmluZykgPT5cbiAgICAvLyBgY29sb3JGdW5jdGlvblJlZ2V4YCBjaGVjayBpcyBuZWNlc3NhcnkgYmVjYXVzZSBjb2xvciBmdW5jdGlvbnMgY2FuIGhhdmUgcGVyY2VudGFnZXMgaW4gdGhlbSB3aGljaCB3aGljaCB3b3VsZCBiZSBpbmNvcnJlY3RseSBjbGFzc2lmaWVkIGFzIGxlbmd0aHMuXG4gICAgLy8gRm9yIGV4YW1wbGUsIGBoc2woMCAwJSAwJSlgIHdvdWxkIGJlIGNsYXNzaWZpZWQgYXMgYSBsZW5ndGggd2l0aG91dCB0aGlzIGNoZWNrLlxuICAgIC8vIEkgY291bGQgYWxzbyB1c2UgbG9va2JlaGluZCBhc3NlcnRpb24gaW4gYGxlbmd0aFVuaXRSZWdleGAgYnV0IHRoYXQgaXNuJ3Qgc3VwcG9ydGVkIHdpZGVseSBlbm91Z2guXG4gICAgbGVuZ3RoVW5pdFJlZ2V4LnRlc3QodmFsdWUpICYmICFjb2xvckZ1bmN0aW9uUmVnZXgudGVzdCh2YWx1ZSlcblxuY29uc3QgaXNOZXZlciA9ICgpID0+IGZhbHNlXG5cbmNvbnN0IGlzU2hhZG93ID0gKHZhbHVlOiBzdHJpbmcpID0+IHNoYWRvd1JlZ2V4LnRlc3QodmFsdWUpXG5cbmNvbnN0IGlzSW1hZ2UgPSAodmFsdWU6IHN0cmluZykgPT4gaW1hZ2VSZWdleC50ZXN0KHZhbHVlKVxuIiwgImltcG9ydCB7IGZyb21UaGVtZSB9IGZyb20gJy4vZnJvbS10aGVtZSdcbmltcG9ydCB7IENvbmZpZywgRGVmYXVsdENsYXNzR3JvdXBJZHMsIERlZmF1bHRUaGVtZUdyb3VwSWRzIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7XG4gICAgaXNBbnksXG4gICAgaXNBcmJpdHJhcnlJbWFnZSxcbiAgICBpc0FyYml0cmFyeUxlbmd0aCxcbiAgICBpc0FyYml0cmFyeU51bWJlcixcbiAgICBpc0FyYml0cmFyeVBvc2l0aW9uLFxuICAgIGlzQXJiaXRyYXJ5U2hhZG93LFxuICAgIGlzQXJiaXRyYXJ5U2l6ZSxcbiAgICBpc0FyYml0cmFyeVZhbHVlLFxuICAgIGlzSW50ZWdlcixcbiAgICBpc0xlbmd0aCxcbiAgICBpc051bWJlcixcbiAgICBpc1BlcmNlbnQsXG4gICAgaXNUc2hpcnRTaXplLFxufSBmcm9tICcuL3ZhbGlkYXRvcnMnXG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0Q29uZmlnID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbG9ycyA9IGZyb21UaGVtZSgnY29sb3JzJylcbiAgICBjb25zdCBzcGFjaW5nID0gZnJvbVRoZW1lKCdzcGFjaW5nJylcbiAgICBjb25zdCBibHVyID0gZnJvbVRoZW1lKCdibHVyJylcbiAgICBjb25zdCBicmlnaHRuZXNzID0gZnJvbVRoZW1lKCdicmlnaHRuZXNzJylcbiAgICBjb25zdCBib3JkZXJDb2xvciA9IGZyb21UaGVtZSgnYm9yZGVyQ29sb3InKVxuICAgIGNvbnN0IGJvcmRlclJhZGl1cyA9IGZyb21UaGVtZSgnYm9yZGVyUmFkaXVzJylcbiAgICBjb25zdCBib3JkZXJTcGFjaW5nID0gZnJvbVRoZW1lKCdib3JkZXJTcGFjaW5nJylcbiAgICBjb25zdCBib3JkZXJXaWR0aCA9IGZyb21UaGVtZSgnYm9yZGVyV2lkdGgnKVxuICAgIGNvbnN0IGNvbnRyYXN0ID0gZnJvbVRoZW1lKCdjb250cmFzdCcpXG4gICAgY29uc3QgZ3JheXNjYWxlID0gZnJvbVRoZW1lKCdncmF5c2NhbGUnKVxuICAgIGNvbnN0IGh1ZVJvdGF0ZSA9IGZyb21UaGVtZSgnaHVlUm90YXRlJylcbiAgICBjb25zdCBpbnZlcnQgPSBmcm9tVGhlbWUoJ2ludmVydCcpXG4gICAgY29uc3QgZ2FwID0gZnJvbVRoZW1lKCdnYXAnKVxuICAgIGNvbnN0IGdyYWRpZW50Q29sb3JTdG9wcyA9IGZyb21UaGVtZSgnZ3JhZGllbnRDb2xvclN0b3BzJylcbiAgICBjb25zdCBncmFkaWVudENvbG9yU3RvcFBvc2l0aW9ucyA9IGZyb21UaGVtZSgnZ3JhZGllbnRDb2xvclN0b3BQb3NpdGlvbnMnKVxuICAgIGNvbnN0IGluc2V0ID0gZnJvbVRoZW1lKCdpbnNldCcpXG4gICAgY29uc3QgbWFyZ2luID0gZnJvbVRoZW1lKCdtYXJnaW4nKVxuICAgIGNvbnN0IG9wYWNpdHkgPSBmcm9tVGhlbWUoJ29wYWNpdHknKVxuICAgIGNvbnN0IHBhZGRpbmcgPSBmcm9tVGhlbWUoJ3BhZGRpbmcnKVxuICAgIGNvbnN0IHNhdHVyYXRlID0gZnJvbVRoZW1lKCdzYXR1cmF0ZScpXG4gICAgY29uc3Qgc2NhbGUgPSBmcm9tVGhlbWUoJ3NjYWxlJylcbiAgICBjb25zdCBzZXBpYSA9IGZyb21UaGVtZSgnc2VwaWEnKVxuICAgIGNvbnN0IHNrZXcgPSBmcm9tVGhlbWUoJ3NrZXcnKVxuICAgIGNvbnN0IHNwYWNlID0gZnJvbVRoZW1lKCdzcGFjZScpXG4gICAgY29uc3QgdHJhbnNsYXRlID0gZnJvbVRoZW1lKCd0cmFuc2xhdGUnKVxuXG4gICAgY29uc3QgZ2V0T3ZlcnNjcm9sbCA9ICgpID0+IFsnYXV0bycsICdjb250YWluJywgJ25vbmUnXSBhcyBjb25zdFxuICAgIGNvbnN0IGdldE92ZXJmbG93ID0gKCkgPT4gWydhdXRvJywgJ2hpZGRlbicsICdjbGlwJywgJ3Zpc2libGUnLCAnc2Nyb2xsJ10gYXMgY29uc3RcbiAgICBjb25zdCBnZXRTcGFjaW5nV2l0aEF1dG9BbmRBcmJpdHJhcnkgPSAoKSA9PiBbJ2F1dG8nLCBpc0FyYml0cmFyeVZhbHVlLCBzcGFjaW5nXSBhcyBjb25zdFxuICAgIGNvbnN0IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5ID0gKCkgPT4gW2lzQXJiaXRyYXJ5VmFsdWUsIHNwYWNpbmddIGFzIGNvbnN0XG4gICAgY29uc3QgZ2V0TGVuZ3RoV2l0aEVtcHR5QW5kQXJiaXRyYXJ5ID0gKCkgPT4gWycnLCBpc0xlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdIGFzIGNvbnN0XG4gICAgY29uc3QgZ2V0TnVtYmVyV2l0aEF1dG9BbmRBcmJpdHJhcnkgPSAoKSA9PiBbJ2F1dG8nLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYWx1ZV0gYXMgY29uc3RcbiAgICBjb25zdCBnZXRQb3NpdGlvbnMgPSAoKSA9PlxuICAgICAgICBbXG4gICAgICAgICAgICAnYm90dG9tJyxcbiAgICAgICAgICAgICdjZW50ZXInLFxuICAgICAgICAgICAgJ2xlZnQnLFxuICAgICAgICAgICAgJ2xlZnQtYm90dG9tJyxcbiAgICAgICAgICAgICdsZWZ0LXRvcCcsXG4gICAgICAgICAgICAncmlnaHQnLFxuICAgICAgICAgICAgJ3JpZ2h0LWJvdHRvbScsXG4gICAgICAgICAgICAncmlnaHQtdG9wJyxcbiAgICAgICAgICAgICd0b3AnLFxuICAgICAgICBdIGFzIGNvbnN0XG4gICAgY29uc3QgZ2V0TGluZVN0eWxlcyA9ICgpID0+IFsnc29saWQnLCAnZGFzaGVkJywgJ2RvdHRlZCcsICdkb3VibGUnLCAnbm9uZSddIGFzIGNvbnN0XG4gICAgY29uc3QgZ2V0QmxlbmRNb2RlcyA9ICgpID0+XG4gICAgICAgIFtcbiAgICAgICAgICAgICdub3JtYWwnLFxuICAgICAgICAgICAgJ211bHRpcGx5JyxcbiAgICAgICAgICAgICdzY3JlZW4nLFxuICAgICAgICAgICAgJ292ZXJsYXknLFxuICAgICAgICAgICAgJ2RhcmtlbicsXG4gICAgICAgICAgICAnbGlnaHRlbicsXG4gICAgICAgICAgICAnY29sb3ItZG9kZ2UnLFxuICAgICAgICAgICAgJ2NvbG9yLWJ1cm4nLFxuICAgICAgICAgICAgJ2hhcmQtbGlnaHQnLFxuICAgICAgICAgICAgJ3NvZnQtbGlnaHQnLFxuICAgICAgICAgICAgJ2RpZmZlcmVuY2UnLFxuICAgICAgICAgICAgJ2V4Y2x1c2lvbicsXG4gICAgICAgICAgICAnaHVlJyxcbiAgICAgICAgICAgICdzYXR1cmF0aW9uJyxcbiAgICAgICAgICAgICdjb2xvcicsXG4gICAgICAgICAgICAnbHVtaW5vc2l0eScsXG4gICAgICAgIF0gYXMgY29uc3RcbiAgICBjb25zdCBnZXRBbGlnbiA9ICgpID0+XG4gICAgICAgIFsnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdiZXR3ZWVuJywgJ2Fyb3VuZCcsICdldmVubHknLCAnc3RyZXRjaCddIGFzIGNvbnN0XG4gICAgY29uc3QgZ2V0WmVyb0FuZEVtcHR5ID0gKCkgPT4gWycnLCAnMCcsIGlzQXJiaXRyYXJ5VmFsdWVdIGFzIGNvbnN0XG4gICAgY29uc3QgZ2V0QnJlYWtzID0gKCkgPT5cbiAgICAgICAgWydhdXRvJywgJ2F2b2lkJywgJ2FsbCcsICdhdm9pZC1wYWdlJywgJ3BhZ2UnLCAnbGVmdCcsICdyaWdodCcsICdjb2x1bW4nXSBhcyBjb25zdFxuICAgIGNvbnN0IGdldE51bWJlckFuZEFyYml0cmFyeSA9ICgpID0+IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYWx1ZV1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhY2hlU2l6ZTogNTAwLFxuICAgICAgICBzZXBhcmF0b3I6ICc6JyxcbiAgICAgICAgdGhlbWU6IHtcbiAgICAgICAgICAgIGNvbG9yczogW2lzQW55XSxcbiAgICAgICAgICAgIHNwYWNpbmc6IFtpc0xlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdLFxuICAgICAgICAgICAgYmx1cjogWydub25lJywgJycsIGlzVHNoaXJ0U2l6ZSwgaXNBcmJpdHJhcnlWYWx1ZV0sXG4gICAgICAgICAgICBicmlnaHRuZXNzOiBnZXROdW1iZXJBbmRBcmJpdHJhcnkoKSxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBbY29sb3JzXSxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogWydub25lJywgJycsICdmdWxsJywgaXNUc2hpcnRTaXplLCBpc0FyYml0cmFyeVZhbHVlXSxcbiAgICAgICAgICAgIGJvcmRlclNwYWNpbmc6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCksXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogZ2V0TGVuZ3RoV2l0aEVtcHR5QW5kQXJiaXRyYXJ5KCksXG4gICAgICAgICAgICBjb250cmFzdDogZ2V0TnVtYmVyQW5kQXJiaXRyYXJ5KCksXG4gICAgICAgICAgICBncmF5c2NhbGU6IGdldFplcm9BbmRFbXB0eSgpLFxuICAgICAgICAgICAgaHVlUm90YXRlOiBnZXROdW1iZXJBbmRBcmJpdHJhcnkoKSxcbiAgICAgICAgICAgIGludmVydDogZ2V0WmVyb0FuZEVtcHR5KCksXG4gICAgICAgICAgICBnYXA6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCksXG4gICAgICAgICAgICBncmFkaWVudENvbG9yU3RvcHM6IFtjb2xvcnNdLFxuICAgICAgICAgICAgZ3JhZGllbnRDb2xvclN0b3BQb3NpdGlvbnM6IFtpc1BlcmNlbnQsIGlzQXJiaXRyYXJ5TGVuZ3RoXSxcbiAgICAgICAgICAgIGluc2V0OiBnZXRTcGFjaW5nV2l0aEF1dG9BbmRBcmJpdHJhcnkoKSxcbiAgICAgICAgICAgIG1hcmdpbjogZ2V0U3BhY2luZ1dpdGhBdXRvQW5kQXJiaXRyYXJ5KCksXG4gICAgICAgICAgICBvcGFjaXR5OiBnZXROdW1iZXJBbmRBcmJpdHJhcnkoKSxcbiAgICAgICAgICAgIHBhZGRpbmc6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCksXG4gICAgICAgICAgICBzYXR1cmF0ZTogZ2V0TnVtYmVyQW5kQXJiaXRyYXJ5KCksXG4gICAgICAgICAgICBzY2FsZTogZ2V0TnVtYmVyQW5kQXJiaXRyYXJ5KCksXG4gICAgICAgICAgICBzZXBpYTogZ2V0WmVyb0FuZEVtcHR5KCksXG4gICAgICAgICAgICBza2V3OiBnZXROdW1iZXJBbmRBcmJpdHJhcnkoKSxcbiAgICAgICAgICAgIHNwYWNlOiBnZXRTcGFjaW5nV2l0aEFyYml0cmFyeSgpLFxuICAgICAgICAgICAgdHJhbnNsYXRlOiBnZXRTcGFjaW5nV2l0aEFyYml0cmFyeSgpLFxuICAgICAgICB9LFxuICAgICAgICBjbGFzc0dyb3Vwczoge1xuICAgICAgICAgICAgLy8gTGF5b3V0XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFzcGVjdCBSYXRpb1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FzcGVjdC1yYXRpb1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBhc3BlY3Q6IFt7IGFzcGVjdDogWydhdXRvJywgJ3NxdWFyZScsICd2aWRlbycsIGlzQXJiaXRyYXJ5VmFsdWVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb250YWluZXJcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb250YWluZXJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29udGFpbmVyOiBbJ2NvbnRhaW5lciddLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb2x1bW5zXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY29sdW1uc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb2x1bW5zOiBbeyBjb2x1bW5zOiBbaXNUc2hpcnRTaXplXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQnJlYWsgQWZ0ZXJcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9icmVhay1hZnRlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYnJlYWstYWZ0ZXInOiBbeyAnYnJlYWstYWZ0ZXInOiBnZXRCcmVha3MoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQnJlYWsgQmVmb3JlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYnJlYWstYmVmb3JlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdicmVhay1iZWZvcmUnOiBbeyAnYnJlYWstYmVmb3JlJzogZ2V0QnJlYWtzKCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJyZWFrIEluc2lkZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWluc2lkZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYnJlYWstaW5zaWRlJzogW3sgJ2JyZWFrLWluc2lkZSc6IFsnYXV0bycsICdhdm9pZCcsICdhdm9pZC1wYWdlJywgJ2F2b2lkLWNvbHVtbiddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3ggRGVjb3JhdGlvbiBCcmVha1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1kZWNvcmF0aW9uLWJyZWFrXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdib3gtZGVjb3JhdGlvbic6IFt7ICdib3gtZGVjb3JhdGlvbic6IFsnc2xpY2UnLCAnY2xvbmUnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm94IFNpemluZ1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaXppbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYm94OiBbeyBib3g6IFsnYm9yZGVyJywgJ2NvbnRlbnQnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGlzcGxheVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Rpc3BsYXlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZGlzcGxheTogW1xuICAgICAgICAgICAgICAgICdibG9jaycsXG4gICAgICAgICAgICAgICAgJ2lubGluZS1ibG9jaycsXG4gICAgICAgICAgICAgICAgJ2lubGluZScsXG4gICAgICAgICAgICAgICAgJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICdpbmxpbmUtZmxleCcsXG4gICAgICAgICAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgICAgICAgICAnaW5saW5lLXRhYmxlJyxcbiAgICAgICAgICAgICAgICAndGFibGUtY2FwdGlvbicsXG4gICAgICAgICAgICAgICAgJ3RhYmxlLWNlbGwnLFxuICAgICAgICAgICAgICAgICd0YWJsZS1jb2x1bW4nLFxuICAgICAgICAgICAgICAgICd0YWJsZS1jb2x1bW4tZ3JvdXAnLFxuICAgICAgICAgICAgICAgICd0YWJsZS1mb290ZXItZ3JvdXAnLFxuICAgICAgICAgICAgICAgICd0YWJsZS1oZWFkZXItZ3JvdXAnLFxuICAgICAgICAgICAgICAgICd0YWJsZS1yb3ctZ3JvdXAnLFxuICAgICAgICAgICAgICAgICd0YWJsZS1yb3cnLFxuICAgICAgICAgICAgICAgICdmbG93LXJvb3QnLFxuICAgICAgICAgICAgICAgICdncmlkJyxcbiAgICAgICAgICAgICAgICAnaW5saW5lLWdyaWQnLFxuICAgICAgICAgICAgICAgICdjb250ZW50cycsXG4gICAgICAgICAgICAgICAgJ2xpc3QtaXRlbScsXG4gICAgICAgICAgICAgICAgJ2hpZGRlbicsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbG9hdHNcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbG9hdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmbG9hdDogW3sgZmxvYXQ6IFsncmlnaHQnLCAnbGVmdCcsICdub25lJywgJ3N0YXJ0JywgJ2VuZCddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDbGVhclxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NsZWFyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNsZWFyOiBbeyBjbGVhcjogWydsZWZ0JywgJ3JpZ2h0JywgJ2JvdGgnLCAnbm9uZScsICdzdGFydCcsICdlbmQnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSXNvbGF0aW9uXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaXNvbGF0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlzb2xhdGlvbjogWydpc29sYXRlJywgJ2lzb2xhdGlvbi1hdXRvJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE9iamVjdCBGaXRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vYmplY3QtZml0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdvYmplY3QtZml0JzogW3sgb2JqZWN0OiBbJ2NvbnRhaW4nLCAnY292ZXInLCAnZmlsbCcsICdub25lJywgJ3NjYWxlLWRvd24nXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT2JqZWN0IFBvc2l0aW9uXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb2JqZWN0LXBvc2l0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdvYmplY3QtcG9zaXRpb24nOiBbeyBvYmplY3Q6IFsuLi5nZXRQb3NpdGlvbnMoKSwgaXNBcmJpdHJhcnlWYWx1ZV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE92ZXJmbG93XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcmZsb3dcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb3ZlcmZsb3c6IFt7IG92ZXJmbG93OiBnZXRPdmVyZmxvdygpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPdmVyZmxvdyBYXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcmZsb3dcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ292ZXJmbG93LXgnOiBbeyAnb3ZlcmZsb3cteCc6IGdldE92ZXJmbG93KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE92ZXJmbG93IFlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyZmxvd1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnb3ZlcmZsb3cteSc6IFt7ICdvdmVyZmxvdy15JzogZ2V0T3ZlcmZsb3coKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT3ZlcnNjcm9sbCBCZWhhdmlvclxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJzY3JvbGwtYmVoYXZpb3JcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb3ZlcnNjcm9sbDogW3sgb3ZlcnNjcm9sbDogZ2V0T3ZlcnNjcm9sbCgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPdmVyc2Nyb2xsIEJlaGF2aW9yIFhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdvdmVyc2Nyb2xsLXgnOiBbeyAnb3ZlcnNjcm9sbC14JzogZ2V0T3ZlcnNjcm9sbCgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPdmVyc2Nyb2xsIEJlaGF2aW9yIFlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdvdmVyc2Nyb2xsLXknOiBbeyAnb3ZlcnNjcm9sbC15JzogZ2V0T3ZlcnNjcm9sbCgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQb3NpdGlvblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Bvc2l0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHBvc2l0aW9uOiBbJ3N0YXRpYycsICdmaXhlZCcsICdhYnNvbHV0ZScsICdyZWxhdGl2ZScsICdzdGlja3knXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVG9wIC8gUmlnaHQgLyBCb3R0b20gLyBMZWZ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluc2V0OiBbeyBpbnNldDogW2luc2V0XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmlnaHQgLyBMZWZ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdpbnNldC14JzogW3sgJ2luc2V0LXgnOiBbaW5zZXRdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUb3AgLyBCb3R0b21cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2luc2V0LXknOiBbeyAnaW5zZXQteSc6IFtpbnNldF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXJ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0YXJ0OiBbeyBzdGFydDogW2luc2V0XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRW5kXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGVuZDogW3sgZW5kOiBbaW5zZXRdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUb3BcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdG9wOiBbeyB0b3A6IFtpbnNldF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJpZ2h0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJpZ2h0OiBbeyByaWdodDogW2luc2V0XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm90dG9tXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGJvdHRvbTogW3sgYm90dG9tOiBbaW5zZXRdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBMZWZ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxlZnQ6IFt7IGxlZnQ6IFtpbnNldF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFZpc2liaWxpdHlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy92aXNpYmlsaXR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZpc2liaWxpdHk6IFsndmlzaWJsZScsICdpbnZpc2libGUnLCAnY29sbGFwc2UnXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogWi1JbmRleFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3otaW5kZXhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgejogW3sgejogWydhdXRvJywgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhbHVlXSB9XSxcbiAgICAgICAgICAgIC8vIEZsZXhib3ggYW5kIEdyaWRcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxleCBCYXNpc1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZsZXgtYmFzaXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYmFzaXM6IFt7IGJhc2lzOiBnZXRTcGFjaW5nV2l0aEF1dG9BbmRBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxleCBEaXJlY3Rpb25cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LWRpcmVjdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZmxleC1kaXJlY3Rpb24nOiBbeyBmbGV4OiBbJ3JvdycsICdyb3ctcmV2ZXJzZScsICdjb2wnLCAnY29sLXJldmVyc2UnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxleCBXcmFwXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC13cmFwXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdmbGV4LXdyYXAnOiBbeyBmbGV4OiBbJ3dyYXAnLCAnd3JhcC1yZXZlcnNlJywgJ25vd3JhcCddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGV4XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmbGV4OiBbeyBmbGV4OiBbJzEnLCAnYXV0bycsICdpbml0aWFsJywgJ25vbmUnLCBpc0FyYml0cmFyeVZhbHVlXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxleCBHcm93XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1ncm93XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdyb3c6IFt7IGdyb3c6IGdldFplcm9BbmRFbXB0eSgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGV4IFNocmlua1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZsZXgtc2hyaW5rXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNocmluazogW3sgc2hyaW5rOiBnZXRaZXJvQW5kRW1wdHkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT3JkZXJcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vcmRlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvcmRlcjogW3sgb3JkZXI6IFsnZmlyc3QnLCAnbGFzdCcsICdub25lJywgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhbHVlXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR3JpZCBUZW1wbGF0ZSBDb2x1bW5zXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdncmlkLWNvbHMnOiBbeyAnZ3JpZC1jb2xzJzogW2lzQW55XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR3JpZCBDb2x1bW4gU3RhcnQgLyBFbmRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWNvbHVtblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnY29sLXN0YXJ0LWVuZCc6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzcGFuOiBbJ2Z1bGwnLCBpc0ludGVnZXIsIGlzQXJiaXRyYXJ5VmFsdWVdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FyYml0cmFyeVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHcmlkIENvbHVtbiBTdGFydFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtY29sdW1uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdjb2wtc3RhcnQnOiBbeyAnY29sLXN0YXJ0JzogZ2V0TnVtYmVyV2l0aEF1dG9BbmRBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR3JpZCBDb2x1bW4gRW5kXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1jb2x1bW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2NvbC1lbmQnOiBbeyAnY29sLWVuZCc6IGdldE51bWJlcldpdGhBdXRvQW5kQXJiaXRyYXJ5KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdyaWQgVGVtcGxhdGUgUm93c1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtdGVtcGxhdGUtcm93c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZ3JpZC1yb3dzJzogW3sgJ2dyaWQtcm93cyc6IFtpc0FueV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdyaWQgUm93IFN0YXJ0IC8gRW5kXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1yb3dcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Jvdy1zdGFydC1lbmQnOiBbXG4gICAgICAgICAgICAgICAgeyByb3c6IFsnYXV0bycsIHsgc3BhbjogW2lzSW50ZWdlciwgaXNBcmJpdHJhcnlWYWx1ZV0gfSwgaXNBcmJpdHJhcnlWYWx1ZV0gfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdyaWQgUm93IFN0YXJ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1yb3dcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Jvdy1zdGFydCc6IFt7ICdyb3ctc3RhcnQnOiBnZXROdW1iZXJXaXRoQXV0b0FuZEFyYml0cmFyeSgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHcmlkIFJvdyBFbmRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAncm93LWVuZCc6IFt7ICdyb3ctZW5kJzogZ2V0TnVtYmVyV2l0aEF1dG9BbmRBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR3JpZCBBdXRvIEZsb3dcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWF1dG8tZmxvd1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZ3JpZC1mbG93JzogW3sgJ2dyaWQtZmxvdyc6IFsncm93JywgJ2NvbCcsICdkZW5zZScsICdyb3ctZGVuc2UnLCAnY29sLWRlbnNlJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdyaWQgQXV0byBDb2x1bW5zXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1hdXRvLWNvbHVtbnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2F1dG8tY29scyc6IFt7ICdhdXRvLWNvbHMnOiBbJ2F1dG8nLCAnbWluJywgJ21heCcsICdmcicsIGlzQXJiaXRyYXJ5VmFsdWVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHcmlkIEF1dG8gUm93c1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtYXV0by1yb3dzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdhdXRvLXJvd3MnOiBbeyAnYXV0by1yb3dzJzogWydhdXRvJywgJ21pbicsICdtYXgnLCAnZnInLCBpc0FyYml0cmFyeVZhbHVlXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2FwXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ2FwXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdhcDogW3sgZ2FwOiBbZ2FwXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2FwIFhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9nYXBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2dhcC14JzogW3sgJ2dhcC14JzogW2dhcF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdhcCBZXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ2FwXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdnYXAteSc6IFt7ICdnYXAteSc6IFtnYXBdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBKdXN0aWZ5IENvbnRlbnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0aWZ5LWNvbnRlbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2p1c3RpZnktY29udGVudCc6IFt7IGp1c3RpZnk6IFsnbm9ybWFsJywgLi4uZ2V0QWxpZ24oKV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEp1c3RpZnkgSXRlbXNcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0aWZ5LWl0ZW1zXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdqdXN0aWZ5LWl0ZW1zJzogW3sgJ2p1c3RpZnktaXRlbXMnOiBbJ3N0YXJ0JywgJ2VuZCcsICdjZW50ZXInLCAnc3RyZXRjaCddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBKdXN0aWZ5IFNlbGZcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0aWZ5LXNlbGZcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2p1c3RpZnktc2VsZic6IFt7ICdqdXN0aWZ5LXNlbGYnOiBbJ2F1dG8nLCAnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdzdHJldGNoJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFsaWduIENvbnRlbnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hbGlnbi1jb250ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdhbGlnbi1jb250ZW50JzogW3sgY29udGVudDogWydub3JtYWwnLCAuLi5nZXRBbGlnbigpLCAnYmFzZWxpbmUnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWxpZ24gSXRlbXNcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hbGlnbi1pdGVtc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYWxpZ24taXRlbXMnOiBbeyBpdGVtczogWydzdGFydCcsICdlbmQnLCAnY2VudGVyJywgJ2Jhc2VsaW5lJywgJ3N0cmV0Y2gnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWxpZ24gU2VsZlxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FsaWduLXNlbGZcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2FsaWduLXNlbGYnOiBbeyBzZWxmOiBbJ2F1dG8nLCAnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdzdHJldGNoJywgJ2Jhc2VsaW5lJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBsYWNlIENvbnRlbnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZS1jb250ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdwbGFjZS1jb250ZW50JzogW3sgJ3BsYWNlLWNvbnRlbnQnOiBbLi4uZ2V0QWxpZ24oKSwgJ2Jhc2VsaW5lJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBsYWNlIEl0ZW1zXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGxhY2UtaXRlbXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3BsYWNlLWl0ZW1zJzogW3sgJ3BsYWNlLWl0ZW1zJzogWydzdGFydCcsICdlbmQnLCAnY2VudGVyJywgJ2Jhc2VsaW5lJywgJ3N0cmV0Y2gnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGxhY2UgU2VsZlxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BsYWNlLXNlbGZcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3BsYWNlLXNlbGYnOiBbeyAncGxhY2Utc2VsZic6IFsnYXV0bycsICdzdGFydCcsICdlbmQnLCAnY2VudGVyJywgJ3N0cmV0Y2gnXSB9XSxcbiAgICAgICAgICAgIC8vIFNwYWNpbmdcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFkZGluZ1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcDogW3sgcDogW3BhZGRpbmddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQYWRkaW5nIFhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHB4OiBbeyBweDogW3BhZGRpbmddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQYWRkaW5nIFlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHB5OiBbeyBweTogW3BhZGRpbmddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQYWRkaW5nIFN0YXJ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBwczogW3sgcHM6IFtwYWRkaW5nXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFkZGluZyBFbmRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHBlOiBbeyBwZTogW3BhZGRpbmddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQYWRkaW5nIFRvcFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcHQ6IFt7IHB0OiBbcGFkZGluZ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBhZGRpbmcgUmlnaHRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHByOiBbeyBwcjogW3BhZGRpbmddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQYWRkaW5nIEJvdHRvbVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcGI6IFt7IHBiOiBbcGFkZGluZ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBhZGRpbmcgTGVmdFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcGw6IFt7IHBsOiBbcGFkZGluZ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE1hcmdpblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtOiBbeyBtOiBbbWFyZ2luXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWFyZ2luIFhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbXg6IFt7IG14OiBbbWFyZ2luXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWFyZ2luIFlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbXk6IFt7IG15OiBbbWFyZ2luXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWFyZ2luIFN0YXJ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG1zOiBbeyBtczogW21hcmdpbl0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE1hcmdpbiBFbmRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWU6IFt7IG1lOiBbbWFyZ2luXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWFyZ2luIFRvcFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtdDogW3sgbXQ6IFttYXJnaW5dIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBNYXJnaW4gUmlnaHRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbXI6IFt7IG1yOiBbbWFyZ2luXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWFyZ2luIEJvdHRvbVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtYjogW3sgbWI6IFttYXJnaW5dIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBNYXJnaW4gTGVmdFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtbDogW3sgbWw6IFttYXJnaW5dIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTcGFjZSBCZXR3ZWVuIFhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zcGFjZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc3BhY2UteCc6IFt7ICdzcGFjZS14JzogW3NwYWNlXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3BhY2UgQmV0d2VlbiBYIFJldmVyc2VcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zcGFjZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc3BhY2UteC1yZXZlcnNlJzogWydzcGFjZS14LXJldmVyc2UnXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3BhY2UgQmV0d2VlbiBZXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc3BhY2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3NwYWNlLXknOiBbeyAnc3BhY2UteSc6IFtzcGFjZV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNwYWNlIEJldHdlZW4gWSBSZXZlcnNlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc3BhY2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3NwYWNlLXktcmV2ZXJzZSc6IFsnc3BhY2UteS1yZXZlcnNlJ10sXG4gICAgICAgICAgICAvLyBTaXppbmdcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2lkdGhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aWR0aFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB3OiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3Z3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdsdncnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2R2dycsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FyYml0cmFyeVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2luZyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWluLVdpZHRoXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWluLXdpZHRoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdtaW4tdyc6IFt7ICdtaW4tdyc6IFtpc0FyYml0cmFyeVZhbHVlLCBzcGFjaW5nLCAnbWluJywgJ21heCcsICdmaXQnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWF4LVdpZHRoXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWF4LXdpZHRoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdtYXgtdyc6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICdtYXgtdyc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJiaXRyYXJ5VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFjaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Z1bGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ21pbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWF4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdmaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc2NyZWVuOiBbaXNUc2hpcnRTaXplXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUc2hpcnRTaXplLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIZWlnaHRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9oZWlnaHRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaDogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcmJpdHJhcnlWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3ZoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdsdmgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2R2aCcsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE1pbi1IZWlnaHRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9taW4taGVpZ2h0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdtaW4taCc6IFtcbiAgICAgICAgICAgICAgICB7ICdtaW4taCc6IFtpc0FyYml0cmFyeVZhbHVlLCBzcGFjaW5nLCAnbWluJywgJ21heCcsICdmaXQnLCAnc3ZoJywgJ2x2aCcsICdkdmgnXSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTWF4LUhlaWdodFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21heC1oZWlnaHRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ21heC1oJzogW1xuICAgICAgICAgICAgICAgIHsgJ21heC1oJzogW2lzQXJiaXRyYXJ5VmFsdWUsIHNwYWNpbmcsICdtaW4nLCAnbWF4JywgJ2ZpdCcsICdzdmgnLCAnbHZoJywgJ2R2aCddIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaXplXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2l6ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzaXplOiBbeyBzaXplOiBbaXNBcmJpdHJhcnlWYWx1ZSwgc3BhY2luZywgJ2F1dG8nLCAnbWluJywgJ21heCcsICdmaXQnXSB9XSxcbiAgICAgICAgICAgIC8vIFR5cG9ncmFwaHlcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRm9udCBTaXplXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC1zaXplXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdmb250LXNpemUnOiBbeyB0ZXh0OiBbJ2Jhc2UnLCBpc1RzaGlydFNpemUsIGlzQXJiaXRyYXJ5TGVuZ3RoXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRm9udCBTbW9vdGhpbmdcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXNtb290aGluZ1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZm9udC1zbW9vdGhpbmcnOiBbJ2FudGlhbGlhc2VkJywgJ3N1YnBpeGVsLWFudGlhbGlhc2VkJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvbnQgU3R5bGVcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXN0eWxlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdmb250LXN0eWxlJzogWydpdGFsaWMnLCAnbm90LWl0YWxpYyddLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGb250IFdlaWdodFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtd2VpZ2h0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdmb250LXdlaWdodCc6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdleHRyYWxpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdsaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdtZWRpdW0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbWlib2xkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdib2xkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdleHRyYWJvbGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JsYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJiaXRyYXJ5TnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGb250IEZhbWlseVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtZmFtaWx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdmb250LWZhbWlseSc6IFt7IGZvbnQ6IFtpc0FueV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2Z2bi1ub3JtYWwnOiBbJ25vcm1hbC1udW1zJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2Z2bi1vcmRpbmFsJzogWydvcmRpbmFsJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2Z2bi1zbGFzaGVkLXplcm8nOiBbJ3NsYXNoZWQtemVybyddLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGb250IFZhcmlhbnQgTnVtZXJpY1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtdmFyaWFudC1udW1lcmljXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdmdm4tZmlndXJlJzogWydsaW5pbmctbnVtcycsICdvbGRzdHlsZS1udW1zJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2Z2bi1zcGFjaW5nJzogWydwcm9wb3J0aW9uYWwtbnVtcycsICd0YWJ1bGFyLW51bXMnXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRm9udCBWYXJpYW50IE51bWVyaWNcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZnZuLWZyYWN0aW9uJzogWydkaWFnb25hbC1mcmFjdGlvbnMnLCAnc3RhY2tlZC1mcmFjdG9ucyddLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBMZXR0ZXIgU3BhY2luZ1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xldHRlci1zcGFjaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRyYWNraW5nOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RpZ2h0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3dpZGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3dpZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd3aWRlc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcmJpdHJhcnlWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTGluZSBDbGFtcFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpbmUtY2xhbXBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2xpbmUtY2xhbXAnOiBbeyAnbGluZS1jbGFtcCc6IFsnbm9uZScsIGlzTnVtYmVyLCBpc0FyYml0cmFyeU51bWJlcl0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIExpbmUgSGVpZ2h0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbGluZS1oZWlnaHRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGVhZGluZzogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhZGluZzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzbnVnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3JlbGF4ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xvb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcmJpdHJhcnlWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTGlzdCBTdHlsZSBJbWFnZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpc3Qtc3R5bGUtaW1hZ2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2xpc3QtaW1hZ2UnOiBbeyAnbGlzdC1pbWFnZSc6IFsnbm9uZScsIGlzQXJiaXRyYXJ5VmFsdWVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBMaXN0IFN0eWxlIFR5cGVcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saXN0LXN0eWxlLXR5cGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2xpc3Qtc3R5bGUtdHlwZSc6IFt7IGxpc3Q6IFsnbm9uZScsICdkaXNjJywgJ2RlY2ltYWwnLCBpc0FyYml0cmFyeVZhbHVlXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTGlzdCBTdHlsZSBQb3NpdGlvblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpc3Qtc3R5bGUtcG9zaXRpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2xpc3Qtc3R5bGUtcG9zaXRpb24nOiBbeyBsaXN0OiBbJ2luc2lkZScsICdvdXRzaWRlJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBsYWNlaG9sZGVyIENvbG9yXG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjMuMC4wXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGxhY2Vob2xkZXItY29sb3JcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLWNvbG9yJzogW3sgcGxhY2Vob2xkZXI6IFtjb2xvcnNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQbGFjZWhvbGRlciBPcGFjaXR5XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGxhY2Vob2xkZXItb3BhY2l0eVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAncGxhY2Vob2xkZXItb3BhY2l0eSc6IFt7ICdwbGFjZWhvbGRlci1vcGFjaXR5JzogW29wYWNpdHldIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0IEFsaWdubWVudFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtYWxpZ25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RleHQtYWxpZ25tZW50JzogW3sgdGV4dDogWydsZWZ0JywgJ2NlbnRlcicsICdyaWdodCcsICdqdXN0aWZ5JywgJ3N0YXJ0JywgJ2VuZCddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0IENvbG9yXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1jb2xvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAndGV4dC1jb2xvcic6IFt7IHRleHQ6IFtjb2xvcnNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0IE9wYWNpdHlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LW9wYWNpdHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RleHQtb3BhY2l0eSc6IFt7ICd0ZXh0LW9wYWNpdHknOiBbb3BhY2l0eV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHQgRGVjb3JhdGlvblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAndGV4dC1kZWNvcmF0aW9uJzogWyd1bmRlcmxpbmUnLCAnb3ZlcmxpbmUnLCAnbGluZS10aHJvdWdoJywgJ25vLXVuZGVybGluZSddLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0IERlY29yYXRpb24gU3R5bGVcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWRlY29yYXRpb24tc3R5bGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RleHQtZGVjb3JhdGlvbi1zdHlsZSc6IFt7IGRlY29yYXRpb246IFsuLi5nZXRMaW5lU3R5bGVzKCksICd3YXZ5J10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHQgRGVjb3JhdGlvbiBUaGlja25lc3NcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICd0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzJzogW1xuICAgICAgICAgICAgICAgIHsgZGVjb3JhdGlvbjogWydhdXRvJywgJ2Zyb20tZm9udCcsIGlzTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF0gfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHQgVW5kZXJsaW5lIE9mZnNldFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtdW5kZXJsaW5lLW9mZnNldFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAndW5kZXJsaW5lLW9mZnNldCc6IFt7ICd1bmRlcmxpbmUtb2Zmc2V0JzogWydhdXRvJywgaXNMZW5ndGgsIGlzQXJiaXRyYXJ5VmFsdWVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0IERlY29yYXRpb24gQ29sb3JcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWRlY29yYXRpb24tY29sb3JcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RleHQtZGVjb3JhdGlvbi1jb2xvcic6IFt7IGRlY29yYXRpb246IFtjb2xvcnNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0IFRyYW5zZm9ybVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtdHJhbnNmb3JtXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICd0ZXh0LXRyYW5zZm9ybSc6IFsndXBwZXJjYXNlJywgJ2xvd2VyY2FzZScsICdjYXBpdGFsaXplJywgJ25vcm1hbC1jYXNlJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHQgT3ZlcmZsb3dcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LW92ZXJmbG93XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICd0ZXh0LW92ZXJmbG93JzogWyd0cnVuY2F0ZScsICd0ZXh0LWVsbGlwc2lzJywgJ3RleHQtY2xpcCddLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0IFdyYXBcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXdyYXBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RleHQtd3JhcCc6IFt7IHRleHQ6IFsnd3JhcCcsICdub3dyYXAnLCAnYmFsYW5jZScsICdwcmV0dHknXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dCBJbmRlbnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWluZGVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbmRlbnQ6IFt7IGluZGVudDogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVmVydGljYWwgQWxpZ25tZW50XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdmVydGljYWwtYWxpZ25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3ZlcnRpY2FsLWFsaWduJzogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ246IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdiYXNlbGluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndG9wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdtaWRkbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndGV4dC10b3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHQtYm90dG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdWInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N1cGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJiaXRyYXJ5VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoaXRlc3BhY2VcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aGl0ZXNwYWNlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHdoaXRlc3BhY2U6IFtcbiAgICAgICAgICAgICAgICB7IHdoaXRlc3BhY2U6IFsnbm9ybWFsJywgJ25vd3JhcCcsICdwcmUnLCAncHJlLWxpbmUnLCAncHJlLXdyYXAnLCAnYnJlYWstc3BhY2VzJ10gfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdvcmQgQnJlYWtcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93b3JkLWJyZWFrXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGJyZWFrOiBbeyBicmVhazogWydub3JtYWwnLCAnd29yZHMnLCAnYWxsJywgJ2tlZXAnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSHlwaGVuc1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2h5cGhlbnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaHlwaGVuczogW3sgaHlwaGVuczogWydub25lJywgJ21hbnVhbCcsICdhdXRvJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRlbnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb250ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnRlbnQ6IFt7IGNvbnRlbnQ6IFsnbm9uZScsIGlzQXJiaXRyYXJ5VmFsdWVdIH1dLFxuICAgICAgICAgICAgLy8gQmFja2dyb3VuZHNcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmFja2dyb3VuZCBBdHRhY2htZW50XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1hdHRhY2htZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdiZy1hdHRhY2htZW50JzogW3sgYmc6IFsnZml4ZWQnLCAnbG9jYWwnLCAnc2Nyb2xsJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhY2tncm91bmQgQ2xpcFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtY2xpcFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYmctY2xpcCc6IFt7ICdiZy1jbGlwJzogWydib3JkZXInLCAncGFkZGluZycsICdjb250ZW50JywgJ3RleHQnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmFja2dyb3VuZCBPcGFjaXR5XG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjMuMC4wXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1vcGFjaXR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdiZy1vcGFjaXR5JzogW3sgJ2JnLW9wYWNpdHknOiBbb3BhY2l0eV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhY2tncm91bmQgT3JpZ2luXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1vcmlnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JnLW9yaWdpbic6IFt7ICdiZy1vcmlnaW4nOiBbJ2JvcmRlcicsICdwYWRkaW5nJywgJ2NvbnRlbnQnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmFja2dyb3VuZCBQb3NpdGlvblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtcG9zaXRpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JnLXBvc2l0aW9uJzogW3sgYmc6IFsuLi5nZXRQb3NpdGlvbnMoKSwgaXNBcmJpdHJhcnlQb3NpdGlvbl0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhY2tncm91bmQgUmVwZWF0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1yZXBlYXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JnLXJlcGVhdCc6IFt7IGJnOiBbJ25vLXJlcGVhdCcsIHsgcmVwZWF0OiBbJycsICd4JywgJ3knLCAncm91bmQnLCAnc3BhY2UnXSB9XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmFja2dyb3VuZCBTaXplXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1zaXplXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdiZy1zaXplJzogW3sgYmc6IFsnYXV0bycsICdjb3ZlcicsICdjb250YWluJywgaXNBcmJpdHJhcnlTaXplXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmFja2dyb3VuZCBJbWFnZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtaW1hZ2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JnLWltYWdlJzogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJ2dyYWRpZW50LXRvJzogWyd0JywgJ3RyJywgJ3InLCAnYnInLCAnYicsICdibCcsICdsJywgJ3RsJ10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJiaXRyYXJ5SW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhY2tncm91bmQgQ29sb3JcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLWNvbG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdiZy1jb2xvcic6IFt7IGJnOiBbY29sb3JzXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR3JhZGllbnQgQ29sb3IgU3RvcHMgRnJvbSBQb3NpdGlvblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdncmFkaWVudC1mcm9tLXBvcyc6IFt7IGZyb206IFtncmFkaWVudENvbG9yU3RvcFBvc2l0aW9uc10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFZpYSBQb3NpdGlvblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdncmFkaWVudC12aWEtcG9zJzogW3sgdmlhOiBbZ3JhZGllbnRDb2xvclN0b3BQb3NpdGlvbnNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBUbyBQb3NpdGlvblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdncmFkaWVudC10by1wb3MnOiBbeyB0bzogW2dyYWRpZW50Q29sb3JTdG9wUG9zaXRpb25zXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR3JhZGllbnQgQ29sb3IgU3RvcHMgRnJvbVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdncmFkaWVudC1mcm9tJzogW3sgZnJvbTogW2dyYWRpZW50Q29sb3JTdG9wc10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFZpYVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdncmFkaWVudC12aWEnOiBbeyB2aWE6IFtncmFkaWVudENvbG9yU3RvcHNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBUb1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdncmFkaWVudC10byc6IFt7IHRvOiBbZ3JhZGllbnRDb2xvclN0b3BzXSB9XSxcbiAgICAgICAgICAgIC8vIEJvcmRlcnNcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFJhZGl1c1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcm91bmRlZDogW3sgcm91bmRlZDogW2JvcmRlclJhZGl1c10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBSYWRpdXMgU3RhcnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdyb3VuZGVkLXMnOiBbeyAncm91bmRlZC1zJzogW2JvcmRlclJhZGl1c10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBSYWRpdXMgRW5kXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAncm91bmRlZC1lJzogW3sgJ3JvdW5kZWQtZSc6IFtib3JkZXJSYWRpdXNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIFRvcFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3JvdW5kZWQtdCc6IFt7ICdyb3VuZGVkLXQnOiBbYm9yZGVyUmFkaXVzXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFJhZGl1cyBSaWdodFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3JvdW5kZWQtcic6IFt7ICdyb3VuZGVkLXInOiBbYm9yZGVyUmFkaXVzXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFJhZGl1cyBCb3R0b21cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdyb3VuZGVkLWInOiBbeyAncm91bmRlZC1iJzogW2JvcmRlclJhZGl1c10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBSYWRpdXMgTGVmdFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3JvdW5kZWQtbCc6IFt7ICdyb3VuZGVkLWwnOiBbYm9yZGVyUmFkaXVzXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFJhZGl1cyBTdGFydCBTdGFydFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3JvdW5kZWQtc3MnOiBbeyAncm91bmRlZC1zcyc6IFtib3JkZXJSYWRpdXNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIFN0YXJ0IEVuZFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3JvdW5kZWQtc2UnOiBbeyAncm91bmRlZC1zZSc6IFtib3JkZXJSYWRpdXNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIEVuZCBFbmRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdyb3VuZGVkLWVlJzogW3sgJ3JvdW5kZWQtZWUnOiBbYm9yZGVyUmFkaXVzXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFJhZGl1cyBFbmQgU3RhcnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdyb3VuZGVkLWVzJzogW3sgJ3JvdW5kZWQtZXMnOiBbYm9yZGVyUmFkaXVzXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFJhZGl1cyBUb3AgTGVmdFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3JvdW5kZWQtdGwnOiBbeyAncm91bmRlZC10bCc6IFtib3JkZXJSYWRpdXNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIFRvcCBSaWdodFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3JvdW5kZWQtdHInOiBbeyAncm91bmRlZC10cic6IFtib3JkZXJSYWRpdXNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIEJvdHRvbSBSaWdodFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3JvdW5kZWQtYnInOiBbeyAncm91bmRlZC1icic6IFtib3JkZXJSYWRpdXNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIEJvdHRvbSBMZWZ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAncm91bmRlZC1ibCc6IFt7ICdyb3VuZGVkLWJsJzogW2JvcmRlclJhZGl1c10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBXaWR0aFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLXcnOiBbeyBib3JkZXI6IFtib3JkZXJXaWR0aF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBXaWR0aCBYXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdib3JkZXItdy14JzogW3sgJ2JvcmRlci14JzogW2JvcmRlcldpZHRoXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFdpZHRoIFlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JvcmRlci13LXknOiBbeyAnYm9yZGVyLXknOiBbYm9yZGVyV2lkdGhdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgV2lkdGggU3RhcnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JvcmRlci13LXMnOiBbeyAnYm9yZGVyLXMnOiBbYm9yZGVyV2lkdGhdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgV2lkdGggRW5kXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdib3JkZXItdy1lJzogW3sgJ2JvcmRlci1lJzogW2JvcmRlcldpZHRoXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFdpZHRoIFRvcFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLXctdCc6IFt7ICdib3JkZXItdCc6IFtib3JkZXJXaWR0aF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBXaWR0aCBSaWdodFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLXctcic6IFt7ICdib3JkZXItcic6IFtib3JkZXJXaWR0aF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBXaWR0aCBCb3R0b21cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JvcmRlci13LWInOiBbeyAnYm9yZGVyLWInOiBbYm9yZGVyV2lkdGhdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgV2lkdGggTGVmdFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLXctbCc6IFt7ICdib3JkZXItbCc6IFtib3JkZXJXaWR0aF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBPcGFjaXR5XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLW9wYWNpdHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JvcmRlci1vcGFjaXR5JzogW3sgJ2JvcmRlci1vcGFjaXR5JzogW29wYWNpdHldIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgU3R5bGVcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItc3R5bGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JvcmRlci1zdHlsZSc6IFt7IGJvcmRlcjogWy4uLmdldExpbmVTdHlsZXMoKSwgJ2hpZGRlbiddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEaXZpZGUgV2lkdGggWFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2RpdmlkZS13aWR0aFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZGl2aWRlLXgnOiBbeyAnZGl2aWRlLXgnOiBbYm9yZGVyV2lkdGhdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEaXZpZGUgV2lkdGggWCBSZXZlcnNlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZGl2aWRlLXdpZHRoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdkaXZpZGUteC1yZXZlcnNlJzogWydkaXZpZGUteC1yZXZlcnNlJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERpdmlkZSBXaWR0aCBZXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZGl2aWRlLXdpZHRoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdkaXZpZGUteSc6IFt7ICdkaXZpZGUteSc6IFtib3JkZXJXaWR0aF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERpdmlkZSBXaWR0aCBZIFJldmVyc2VcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9kaXZpZGUtd2lkdGhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2RpdmlkZS15LXJldmVyc2UnOiBbJ2RpdmlkZS15LXJldmVyc2UnXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGl2aWRlIE9wYWNpdHlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9kaXZpZGUtb3BhY2l0eVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZGl2aWRlLW9wYWNpdHknOiBbeyAnZGl2aWRlLW9wYWNpdHknOiBbb3BhY2l0eV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERpdmlkZSBTdHlsZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2RpdmlkZS1zdHlsZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZGl2aWRlLXN0eWxlJzogW3sgZGl2aWRlOiBnZXRMaW5lU3R5bGVzKCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBDb2xvclxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLWNvbG9yJzogW3sgYm9yZGVyOiBbYm9yZGVyQ29sb3JdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgQ29sb3IgWFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLWNvbG9yLXgnOiBbeyAnYm9yZGVyLXgnOiBbYm9yZGVyQ29sb3JdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgQ29sb3IgWVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLWNvbG9yLXknOiBbeyAnYm9yZGVyLXknOiBbYm9yZGVyQ29sb3JdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgQ29sb3IgVG9wXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdib3JkZXItY29sb3ItdCc6IFt7ICdib3JkZXItdCc6IFtib3JkZXJDb2xvcl0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBDb2xvciBSaWdodFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLWNvbG9yLXInOiBbeyAnYm9yZGVyLXInOiBbYm9yZGVyQ29sb3JdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgQ29sb3IgQm90dG9tXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdib3JkZXItY29sb3ItYic6IFt7ICdib3JkZXItYic6IFtib3JkZXJDb2xvcl0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBDb2xvciBMZWZ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdib3JkZXItY29sb3ItbCc6IFt7ICdib3JkZXItbCc6IFtib3JkZXJDb2xvcl0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERpdmlkZSBDb2xvclxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2RpdmlkZS1jb2xvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnZGl2aWRlLWNvbG9yJzogW3sgZGl2aWRlOiBbYm9yZGVyQ29sb3JdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPdXRsaW5lIFN0eWxlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3V0bGluZS1zdHlsZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnb3V0bGluZS1zdHlsZSc6IFt7IG91dGxpbmU6IFsnJywgLi4uZ2V0TGluZVN0eWxlcygpXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT3V0bGluZSBPZmZzZXRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLW9mZnNldFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnb3V0bGluZS1vZmZzZXQnOiBbeyAnb3V0bGluZS1vZmZzZXQnOiBbaXNMZW5ndGgsIGlzQXJiaXRyYXJ5VmFsdWVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPdXRsaW5lIFdpZHRoXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3V0bGluZS13aWR0aFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnb3V0bGluZS13JzogW3sgb3V0bGluZTogW2lzTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE91dGxpbmUgQ29sb3JcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLWNvbG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdvdXRsaW5lLWNvbG9yJzogW3sgb3V0bGluZTogW2NvbG9yc10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJpbmcgV2lkdGhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLXdpZHRoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdyaW5nLXcnOiBbeyByaW5nOiBnZXRMZW5ndGhXaXRoRW1wdHlBbmRBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmluZyBXaWR0aCBJbnNldFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Jpbmctd2lkdGhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Jpbmctdy1pbnNldCc6IFsncmluZy1pbnNldCddLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSaW5nIENvbG9yXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcmluZy1jb2xvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAncmluZy1jb2xvcic6IFt7IHJpbmc6IFtjb2xvcnNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSaW5nIE9wYWNpdHlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLW9wYWNpdHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Jpbmctb3BhY2l0eSc6IFt7ICdyaW5nLW9wYWNpdHknOiBbb3BhY2l0eV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJpbmcgT2Zmc2V0IFdpZHRoXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcmluZy1vZmZzZXQtd2lkdGhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Jpbmctb2Zmc2V0LXcnOiBbeyAncmluZy1vZmZzZXQnOiBbaXNMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmluZyBPZmZzZXQgQ29sb3JcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLW9mZnNldC1jb2xvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAncmluZy1vZmZzZXQtY29sb3InOiBbeyAncmluZy1vZmZzZXQnOiBbY29sb3JzXSB9XSxcbiAgICAgICAgICAgIC8vIEVmZmVjdHNcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm94IFNoYWRvd1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3dcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2hhZG93OiBbeyBzaGFkb3c6IFsnJywgJ2lubmVyJywgJ25vbmUnLCBpc1RzaGlydFNpemUsIGlzQXJiaXRyYXJ5U2hhZG93XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm94IFNoYWRvdyBDb2xvclxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3ctY29sb3JcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3NoYWRvdy1jb2xvcic6IFt7IHNoYWRvdzogW2lzQW55XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT3BhY2l0eVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29wYWNpdHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb3BhY2l0eTogW3sgb3BhY2l0eTogW29wYWNpdHldIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBNaXggQmxlbmQgTW9kZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21peC1ibGVuZC1tb2RlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdtaXgtYmxlbmQnOiBbeyAnbWl4LWJsZW5kJzogWy4uLmdldEJsZW5kTW9kZXMoKSwgJ3BsdXMtbGlnaHRlcicsICdwbHVzLWRhcmtlciddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYWNrZ3JvdW5kIEJsZW5kIE1vZGVcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLWJsZW5kLW1vZGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JnLWJsZW5kJzogW3sgJ2JnLWJsZW5kJzogZ2V0QmxlbmRNb2RlcygpIH1dLFxuICAgICAgICAgICAgLy8gRmlsdGVyc1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGaWx0ZXJcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9maWx0ZXJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZmlsdGVyOiBbeyBmaWx0ZXI6IFsnJywgJ25vbmUnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmx1clxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JsdXJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYmx1cjogW3sgYmx1cjogW2JsdXJdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCcmlnaHRuZXNzXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYnJpZ2h0bmVzc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBicmlnaHRuZXNzOiBbeyBicmlnaHRuZXNzOiBbYnJpZ2h0bmVzc10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRyYXN0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY29udHJhc3RcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29udHJhc3Q6IFt7IGNvbnRyYXN0OiBbY29udHJhc3RdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEcm9wIFNoYWRvd1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Ryb3Atc2hhZG93XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdkcm9wLXNoYWRvdyc6IFt7ICdkcm9wLXNoYWRvdyc6IFsnJywgJ25vbmUnLCBpc1RzaGlydFNpemUsIGlzQXJiaXRyYXJ5VmFsdWVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHcmF5c2NhbGVcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmF5c2NhbGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ3JheXNjYWxlOiBbeyBncmF5c2NhbGU6IFtncmF5c2NhbGVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIdWUgUm90YXRlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaHVlLXJvdGF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnaHVlLXJvdGF0ZSc6IFt7ICdodWUtcm90YXRlJzogW2h1ZVJvdGF0ZV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEludmVydFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ludmVydFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbnZlcnQ6IFt7IGludmVydDogW2ludmVydF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNhdHVyYXRlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2F0dXJhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2F0dXJhdGU6IFt7IHNhdHVyYXRlOiBbc2F0dXJhdGVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXBpYVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NlcGlhXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNlcGlhOiBbeyBzZXBpYTogW3NlcGlhXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmFja2Ryb3AgRmlsdGVyXG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjMuMC4wXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtZmlsdGVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdiYWNrZHJvcC1maWx0ZXInOiBbeyAnYmFja2Ryb3AtZmlsdGVyJzogWycnLCAnbm9uZSddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYWNrZHJvcCBCbHVyXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtYmx1clxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYmFja2Ryb3AtYmx1cic6IFt7ICdiYWNrZHJvcC1ibHVyJzogW2JsdXJdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYWNrZHJvcCBCcmlnaHRuZXNzXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtYnJpZ2h0bmVzc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYmFja2Ryb3AtYnJpZ2h0bmVzcyc6IFt7ICdiYWNrZHJvcC1icmlnaHRuZXNzJzogW2JyaWdodG5lc3NdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYWNrZHJvcCBDb250cmFzdFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWNvbnRyYXN0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdiYWNrZHJvcC1jb250cmFzdCc6IFt7ICdiYWNrZHJvcC1jb250cmFzdCc6IFtjb250cmFzdF0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhY2tkcm9wIEdyYXlzY2FsZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWdyYXlzY2FsZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYmFja2Ryb3AtZ3JheXNjYWxlJzogW3sgJ2JhY2tkcm9wLWdyYXlzY2FsZSc6IFtncmF5c2NhbGVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYWNrZHJvcCBIdWUgUm90YXRlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtaHVlLXJvdGF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYmFja2Ryb3AtaHVlLXJvdGF0ZSc6IFt7ICdiYWNrZHJvcC1odWUtcm90YXRlJzogW2h1ZVJvdGF0ZV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhY2tkcm9wIEludmVydFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWludmVydFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYmFja2Ryb3AtaW52ZXJ0JzogW3sgJ2JhY2tkcm9wLWludmVydCc6IFtpbnZlcnRdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYWNrZHJvcCBPcGFjaXR5XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3Atb3BhY2l0eVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYmFja2Ryb3Atb3BhY2l0eSc6IFt7ICdiYWNrZHJvcC1vcGFjaXR5JzogW29wYWNpdHldIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYWNrZHJvcCBTYXR1cmF0ZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLXNhdHVyYXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdiYWNrZHJvcC1zYXR1cmF0ZSc6IFt7ICdiYWNrZHJvcC1zYXR1cmF0ZSc6IFtzYXR1cmF0ZV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhY2tkcm9wIFNlcGlhXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3Atc2VwaWFcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JhY2tkcm9wLXNlcGlhJzogW3sgJ2JhY2tkcm9wLXNlcGlhJzogW3NlcGlhXSB9XSxcbiAgICAgICAgICAgIC8vIFRhYmxlc1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgQ29sbGFwc2VcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sbGFwc2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2JvcmRlci1jb2xsYXBzZSc6IFt7IGJvcmRlcjogWydjb2xsYXBzZScsICdzZXBhcmF0ZSddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCb3JkZXIgU3BhY2luZ1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zcGFjaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdib3JkZXItc3BhY2luZyc6IFt7ICdib3JkZXItc3BhY2luZyc6IFtib3JkZXJTcGFjaW5nXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm9yZGVyIFNwYWNpbmcgWFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zcGFjaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdib3JkZXItc3BhY2luZy14JzogW3sgJ2JvcmRlci1zcGFjaW5nLXgnOiBbYm9yZGVyU3BhY2luZ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJvcmRlciBTcGFjaW5nIFlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItc3BhY2luZ1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYm9yZGVyLXNwYWNpbmcteSc6IFt7ICdib3JkZXItc3BhY2luZy15JzogW2JvcmRlclNwYWNpbmddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUYWJsZSBMYXlvdXRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90YWJsZS1sYXlvdXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RhYmxlLWxheW91dCc6IFt7IHRhYmxlOiBbJ2F1dG8nLCAnZml4ZWQnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FwdGlvbiBTaWRlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY2FwdGlvbi1zaWRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhcHRpb246IFt7IGNhcHRpb246IFsndG9wJywgJ2JvdHRvbSddIH1dLFxuICAgICAgICAgICAgLy8gVHJhbnNpdGlvbnMgYW5kIEFuaW1hdGlvblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmFuaXNpdGlvbiBQcm9wZXJ0eVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zaXRpb24tcHJvcGVydHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb2xvcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NoYWRvdycsXG4gICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJiaXRyYXJ5VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRyYW5zaXRpb24gRHVyYXRpb25cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWR1cmF0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGR1cmF0aW9uOiBbeyBkdXJhdGlvbjogZ2V0TnVtYmVyQW5kQXJiaXRyYXJ5KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRyYW5zaXRpb24gVGltaW5nIEZ1bmN0aW9uXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZWFzZTogW3sgZWFzZTogWydsaW5lYXInLCAnaW4nLCAnb3V0JywgJ2luLW91dCcsIGlzQXJiaXRyYXJ5VmFsdWVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmFuc2l0aW9uIERlbGF5XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNpdGlvbi1kZWxheVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkZWxheTogW3sgZGVsYXk6IGdldE51bWJlckFuZEFyYml0cmFyeSgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbmltYXRpb25cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hbmltYXRpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYW5pbWF0ZTogW3sgYW5pbWF0ZTogWydub25lJywgJ3NwaW4nLCAncGluZycsICdwdWxzZScsICdib3VuY2UnLCBpc0FyYml0cmFyeVZhbHVlXSB9XSxcbiAgICAgICAgICAgIC8vIFRyYW5zZm9ybXNcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJhbnNmb3JtXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNmb3JtXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRyYW5zZm9ybTogW3sgdHJhbnNmb3JtOiBbJycsICdncHUnLCAnbm9uZSddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY2FsZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNjYWxlOiBbeyBzY2FsZTogW3NjYWxlXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2NhbGUgWFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzY2FsZS14JzogW3sgJ3NjYWxlLXgnOiBbc2NhbGVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY2FsZSBZXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2NhbGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3NjYWxlLXknOiBbeyAnc2NhbGUteSc6IFtzY2FsZV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJvdGF0ZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3JvdGF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByb3RhdGU6IFt7IHJvdGF0ZTogW2lzSW50ZWdlciwgaXNBcmJpdHJhcnlWYWx1ZV0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRyYW5zbGF0ZSBYXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNsYXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICd0cmFuc2xhdGUteCc6IFt7ICd0cmFuc2xhdGUteCc6IFt0cmFuc2xhdGVdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmFuc2xhdGUgWVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAndHJhbnNsYXRlLXknOiBbeyAndHJhbnNsYXRlLXknOiBbdHJhbnNsYXRlXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2tldyBYXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2tld1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc2tldy14JzogW3sgJ3NrZXcteCc6IFtza2V3XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2tldyBZXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2tld1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc2tldy15JzogW3sgJ3NrZXcteSc6IFtza2V3XSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJhbnNmb3JtIE9yaWdpblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zZm9ybS1vcmlnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAndG9wLXJpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYm90dG9tLXJpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0b3AtbGVmdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FyYml0cmFyeVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gSW50ZXJhY3Rpdml0eVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBY2NlbnQgQ29sb3JcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hY2NlbnQtY29sb3JcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYWNjZW50OiBbeyBhY2NlbnQ6IFsnYXV0bycsIGNvbG9yc10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFwcGVhcmFuY2VcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hcHBlYXJhbmNlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFwcGVhcmFuY2U6IFt7IGFwcGVhcmFuY2U6IFsnbm9uZScsICdhdXRvJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEN1cnNvclxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2N1cnNvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjdXJzb3I6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3dhaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ21vdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2hlbHAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25vdC1hbGxvd2VkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZXh0LW1lbnUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2dyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjZWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjcm9zc2hhaXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlcnRpY2FsLXRleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FsaWFzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb3B5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICduby1kcm9wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdncmFiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdncmFiYmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWxsLXNjcm9sbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29sLXJlc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAncm93LXJlc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbi1yZXNpemUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2UtcmVzaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzLXJlc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndy1yZXNpemUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25lLXJlc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbnctcmVzaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZS1yZXNpemUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N3LXJlc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXctcmVzaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICducy1yZXNpemUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25lc3ctcmVzaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdud3NlLXJlc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnem9vbS1pbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnem9vbS1vdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcmJpdHJhcnlWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FyZXQgQ29sb3JcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0LWluLXRpbWUtbW9kZSNjYXJldC1jb2xvci11dGlsaXRpZXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ2NhcmV0LWNvbG9yJzogW3sgY2FyZXQ6IFtjb2xvcnNdIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQb2ludGVyIEV2ZW50c1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BvaW50ZXItZXZlbnRzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdwb2ludGVyLWV2ZW50cyc6IFt7ICdwb2ludGVyLWV2ZW50cyc6IFsnbm9uZScsICdhdXRvJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlc2l6ZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Jlc2l6ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXNpemU6IFt7IHJlc2l6ZTogWydub25lJywgJ3knLCAneCcsICcnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIEJlaGF2aW9yXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzY3JvbGwtYmVoYXZpb3InOiBbeyBzY3JvbGw6IFsnYXV0bycsICdzbW9vdGgnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIE1hcmdpblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Njcm9sbC1tJzogW3sgJ3Njcm9sbC1tJzogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIE1hcmdpbiBYXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc2Nyb2xsLW14JzogW3sgJ3Njcm9sbC1teCc6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjcm9sbCBNYXJnaW4gWVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Njcm9sbC1teSc6IFt7ICdzY3JvbGwtbXknOiBnZXRTcGFjaW5nV2l0aEFyYml0cmFyeSgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY3JvbGwgTWFyZ2luIFN0YXJ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc2Nyb2xsLW1zJzogW3sgJ3Njcm9sbC1tcyc6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjcm9sbCBNYXJnaW4gRW5kXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc2Nyb2xsLW1lJzogW3sgJ3Njcm9sbC1tZSc6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjcm9sbCBNYXJnaW4gVG9wXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc2Nyb2xsLW10JzogW3sgJ3Njcm9sbC1tdCc6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjcm9sbCBNYXJnaW4gUmlnaHRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzY3JvbGwtbXInOiBbeyAnc2Nyb2xsLW1yJzogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIE1hcmdpbiBCb3R0b21cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzY3JvbGwtbWInOiBbeyAnc2Nyb2xsLW1iJzogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIE1hcmdpbiBMZWZ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc2Nyb2xsLW1sJzogW3sgJ3Njcm9sbC1tbCc6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjcm9sbCBQYWRkaW5nXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Njcm9sbC1wJzogW3sgJ3Njcm9sbC1wJzogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgWFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzY3JvbGwtcHgnOiBbeyAnc2Nyb2xsLXB4JzogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgWVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzY3JvbGwtcHknOiBbeyAnc2Nyb2xsLXB5JzogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgU3RhcnRcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc2Nyb2xsLXBzJzogW3sgJ3Njcm9sbC1wcyc6IGdldFNwYWNpbmdXaXRoQXJiaXRyYXJ5KCkgfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjcm9sbCBQYWRkaW5nIEVuZFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzY3JvbGwtcGUnOiBbeyAnc2Nyb2xsLXBlJzogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgVG9wXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Njcm9sbC1wdCc6IFt7ICdzY3JvbGwtcHQnOiBnZXRTcGFjaW5nV2l0aEFyYml0cmFyeSgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY3JvbGwgUGFkZGluZyBSaWdodFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzY3JvbGwtcHInOiBbeyAnc2Nyb2xsLXByJzogZ2V0U3BhY2luZ1dpdGhBcmJpdHJhcnkoKSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgQm90dG9tXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Njcm9sbC1wYic6IFt7ICdzY3JvbGwtcGInOiBnZXRTcGFjaW5nV2l0aEFyYml0cmFyeSgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY3JvbGwgUGFkZGluZyBMZWZ0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3Njcm9sbC1wbCc6IFt7ICdzY3JvbGwtcGwnOiBnZXRTcGFjaW5nV2l0aEFyYml0cmFyeSgpIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY3JvbGwgU25hcCBBbGlnblxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLWFsaWduXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdzbmFwLWFsaWduJzogW3sgc25hcDogWydzdGFydCcsICdlbmQnLCAnY2VudGVyJywgJ2FsaWduLW5vbmUnXSB9XSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Nyb2xsIFNuYXAgU3RvcFxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLXN0b3BcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3NuYXAtc3RvcCc6IFt7IHNuYXA6IFsnbm9ybWFsJywgJ2Fsd2F5cyddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY3JvbGwgU25hcCBUeXBlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtdHlwZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnc25hcC10eXBlJzogW3sgc25hcDogWydub25lJywgJ3gnLCAneScsICdib3RoJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjcm9sbCBTbmFwIFR5cGUgU3RyaWN0bmVzc1xuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLXR5cGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3NuYXAtc3RyaWN0bmVzcyc6IFt7IHNuYXA6IFsnbWFuZGF0b3J5JywgJ3Byb3hpbWl0eSddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUb3VjaCBBY3Rpb25cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdG91Y2g6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoOiBbJ2F1dG8nLCAnbm9uZScsICdtYW5pcHVsYXRpb24nXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVG91Y2ggQWN0aW9uIFhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RvdWNoLXgnOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAndG91Y2gtcGFuJzogWyd4JywgJ2xlZnQnLCAncmlnaHQnXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVG91Y2ggQWN0aW9uIFlcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RvdWNoLXknOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAndG91Y2gtcGFuJzogWyd5JywgJ3VwJywgJ2Rvd24nXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVG91Y2ggQWN0aW9uIFBpbmNoIFpvb21cbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3RvdWNoLXB6JzogWyd0b3VjaC1waW5jaC16b29tJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVzZXIgU2VsZWN0XG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdXNlci1zZWxlY3RcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2VsZWN0OiBbeyBzZWxlY3Q6IFsnbm9uZScsICd0ZXh0JywgJ2FsbCcsICdhdXRvJ10gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdpbGwgQ2hhbmdlXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2lsbC1jaGFuZ2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3dpbGwtY2hhbmdlJzogW1xuICAgICAgICAgICAgICAgIHsgJ3dpbGwtY2hhbmdlJzogWydhdXRvJywgJ3Njcm9sbCcsICdjb250ZW50cycsICd0cmFuc2Zvcm0nLCBpc0FyYml0cmFyeVZhbHVlXSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8vIFNWR1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGaWxsXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmlsbFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmaWxsOiBbeyBmaWxsOiBbY29sb3JzLCAnbm9uZSddIH1dLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdHJva2UgV2lkdGhcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zdHJva2Utd2lkdGhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ3N0cm9rZS13JzogW3sgc3Ryb2tlOiBbaXNMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoLCBpc0FyYml0cmFyeU51bWJlcl0gfV0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0cm9rZVxuICAgICAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3N0cm9rZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzdHJva2U6IFt7IHN0cm9rZTogW2NvbG9ycywgJ25vbmUnXSB9XSxcbiAgICAgICAgICAgIC8vIEFjY2Vzc2liaWxpdHlcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2NyZWVuIFJlYWRlcnNcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JlZW4tcmVhZGVyc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzcjogWydzci1vbmx5JywgJ25vdC1zci1vbmx5J10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvcmNlZCBDb2xvciBBZGp1c3RcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb3JjZWQtY29sb3ItYWRqdXN0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdmb3JjZWQtY29sb3ItYWRqdXN0JzogW3sgJ2ZvcmNlZC1jb2xvci1hZGp1c3QnOiBbJ2F1dG8nLCAnbm9uZSddIH1dLFxuICAgICAgICB9LFxuICAgICAgICBjb25mbGljdGluZ0NsYXNzR3JvdXBzOiB7XG4gICAgICAgICAgICBvdmVyZmxvdzogWydvdmVyZmxvdy14JywgJ292ZXJmbG93LXknXSxcbiAgICAgICAgICAgIG92ZXJzY3JvbGw6IFsnb3ZlcnNjcm9sbC14JywgJ292ZXJzY3JvbGwteSddLFxuICAgICAgICAgICAgaW5zZXQ6IFsnaW5zZXQteCcsICdpbnNldC15JywgJ3N0YXJ0JywgJ2VuZCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXSxcbiAgICAgICAgICAgICdpbnNldC14JzogWydyaWdodCcsICdsZWZ0J10sXG4gICAgICAgICAgICAnaW5zZXQteSc6IFsndG9wJywgJ2JvdHRvbSddLFxuICAgICAgICAgICAgZmxleDogWydiYXNpcycsICdncm93JywgJ3NocmluayddLFxuICAgICAgICAgICAgZ2FwOiBbJ2dhcC14JywgJ2dhcC15J10sXG4gICAgICAgICAgICBwOiBbJ3B4JywgJ3B5JywgJ3BzJywgJ3BlJywgJ3B0JywgJ3ByJywgJ3BiJywgJ3BsJ10sXG4gICAgICAgICAgICBweDogWydwcicsICdwbCddLFxuICAgICAgICAgICAgcHk6IFsncHQnLCAncGInXSxcbiAgICAgICAgICAgIG06IFsnbXgnLCAnbXknLCAnbXMnLCAnbWUnLCAnbXQnLCAnbXInLCAnbWInLCAnbWwnXSxcbiAgICAgICAgICAgIG14OiBbJ21yJywgJ21sJ10sXG4gICAgICAgICAgICBteTogWydtdCcsICdtYiddLFxuICAgICAgICAgICAgc2l6ZTogWyd3JywgJ2gnXSxcbiAgICAgICAgICAgICdmb250LXNpemUnOiBbJ2xlYWRpbmcnXSxcbiAgICAgICAgICAgICdmdm4tbm9ybWFsJzogW1xuICAgICAgICAgICAgICAgICdmdm4tb3JkaW5hbCcsXG4gICAgICAgICAgICAgICAgJ2Z2bi1zbGFzaGVkLXplcm8nLFxuICAgICAgICAgICAgICAgICdmdm4tZmlndXJlJyxcbiAgICAgICAgICAgICAgICAnZnZuLXNwYWNpbmcnLFxuICAgICAgICAgICAgICAgICdmdm4tZnJhY3Rpb24nLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICdmdm4tb3JkaW5hbCc6IFsnZnZuLW5vcm1hbCddLFxuICAgICAgICAgICAgJ2Z2bi1zbGFzaGVkLXplcm8nOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICAgICAgICdmdm4tZmlndXJlJzogWydmdm4tbm9ybWFsJ10sXG4gICAgICAgICAgICAnZnZuLXNwYWNpbmcnOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICAgICAgICdmdm4tZnJhY3Rpb24nOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICAgICAgICdsaW5lLWNsYW1wJzogWydkaXNwbGF5JywgJ292ZXJmbG93J10sXG4gICAgICAgICAgICByb3VuZGVkOiBbXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtcycsXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtZScsXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtdCcsXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtcicsXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtYicsXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtbCcsXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtc3MnLFxuICAgICAgICAgICAgICAgICdyb3VuZGVkLXNlJyxcbiAgICAgICAgICAgICAgICAncm91bmRlZC1lZScsXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtZXMnLFxuICAgICAgICAgICAgICAgICdyb3VuZGVkLXRsJyxcbiAgICAgICAgICAgICAgICAncm91bmRlZC10cicsXG4gICAgICAgICAgICAgICAgJ3JvdW5kZWQtYnInLFxuICAgICAgICAgICAgICAgICdyb3VuZGVkLWJsJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAncm91bmRlZC1zJzogWydyb3VuZGVkLXNzJywgJ3JvdW5kZWQtZXMnXSxcbiAgICAgICAgICAgICdyb3VuZGVkLWUnOiBbJ3JvdW5kZWQtc2UnLCAncm91bmRlZC1lZSddLFxuICAgICAgICAgICAgJ3JvdW5kZWQtdCc6IFsncm91bmRlZC10bCcsICdyb3VuZGVkLXRyJ10sXG4gICAgICAgICAgICAncm91bmRlZC1yJzogWydyb3VuZGVkLXRyJywgJ3JvdW5kZWQtYnInXSxcbiAgICAgICAgICAgICdyb3VuZGVkLWInOiBbJ3JvdW5kZWQtYnInLCAncm91bmRlZC1ibCddLFxuICAgICAgICAgICAgJ3JvdW5kZWQtbCc6IFsncm91bmRlZC10bCcsICdyb3VuZGVkLWJsJ10sXG4gICAgICAgICAgICAnYm9yZGVyLXNwYWNpbmcnOiBbJ2JvcmRlci1zcGFjaW5nLXgnLCAnYm9yZGVyLXNwYWNpbmcteSddLFxuICAgICAgICAgICAgJ2JvcmRlci13JzogW1xuICAgICAgICAgICAgICAgICdib3JkZXItdy1zJyxcbiAgICAgICAgICAgICAgICAnYm9yZGVyLXctZScsXG4gICAgICAgICAgICAgICAgJ2JvcmRlci13LXQnLFxuICAgICAgICAgICAgICAgICdib3JkZXItdy1yJyxcbiAgICAgICAgICAgICAgICAnYm9yZGVyLXctYicsXG4gICAgICAgICAgICAgICAgJ2JvcmRlci13LWwnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICdib3JkZXItdy14JzogWydib3JkZXItdy1yJywgJ2JvcmRlci13LWwnXSxcbiAgICAgICAgICAgICdib3JkZXItdy15JzogWydib3JkZXItdy10JywgJ2JvcmRlci13LWInXSxcbiAgICAgICAgICAgICdib3JkZXItY29sb3InOiBbXG4gICAgICAgICAgICAgICAgJ2JvcmRlci1jb2xvci10JyxcbiAgICAgICAgICAgICAgICAnYm9yZGVyLWNvbG9yLXInLFxuICAgICAgICAgICAgICAgICdib3JkZXItY29sb3ItYicsXG4gICAgICAgICAgICAgICAgJ2JvcmRlci1jb2xvci1sJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAnYm9yZGVyLWNvbG9yLXgnOiBbJ2JvcmRlci1jb2xvci1yJywgJ2JvcmRlci1jb2xvci1sJ10sXG4gICAgICAgICAgICAnYm9yZGVyLWNvbG9yLXknOiBbJ2JvcmRlci1jb2xvci10JywgJ2JvcmRlci1jb2xvci1iJ10sXG4gICAgICAgICAgICAnc2Nyb2xsLW0nOiBbXG4gICAgICAgICAgICAgICAgJ3Njcm9sbC1teCcsXG4gICAgICAgICAgICAgICAgJ3Njcm9sbC1teScsXG4gICAgICAgICAgICAgICAgJ3Njcm9sbC1tcycsXG4gICAgICAgICAgICAgICAgJ3Njcm9sbC1tZScsXG4gICAgICAgICAgICAgICAgJ3Njcm9sbC1tdCcsXG4gICAgICAgICAgICAgICAgJ3Njcm9sbC1tcicsXG4gICAgICAgICAgICAgICAgJ3Njcm9sbC1tYicsXG4gICAgICAgICAgICAgICAgJ3Njcm9sbC1tbCcsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgJ3Njcm9sbC1teCc6IFsnc2Nyb2xsLW1yJywgJ3Njcm9sbC1tbCddLFxuICAgICAgICAgICAgJ3Njcm9sbC1teSc6IFsnc2Nyb2xsLW10JywgJ3Njcm9sbC1tYiddLFxuICAgICAgICAgICAgJ3Njcm9sbC1wJzogW1xuICAgICAgICAgICAgICAgICdzY3JvbGwtcHgnLFxuICAgICAgICAgICAgICAgICdzY3JvbGwtcHknLFxuICAgICAgICAgICAgICAgICdzY3JvbGwtcHMnLFxuICAgICAgICAgICAgICAgICdzY3JvbGwtcGUnLFxuICAgICAgICAgICAgICAgICdzY3JvbGwtcHQnLFxuICAgICAgICAgICAgICAgICdzY3JvbGwtcHInLFxuICAgICAgICAgICAgICAgICdzY3JvbGwtcGInLFxuICAgICAgICAgICAgICAgICdzY3JvbGwtcGwnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICdzY3JvbGwtcHgnOiBbJ3Njcm9sbC1wcicsICdzY3JvbGwtcGwnXSxcbiAgICAgICAgICAgICdzY3JvbGwtcHknOiBbJ3Njcm9sbC1wdCcsICdzY3JvbGwtcGInXSxcbiAgICAgICAgICAgIHRvdWNoOiBbJ3RvdWNoLXgnLCAndG91Y2gteScsICd0b3VjaC1weiddLFxuICAgICAgICAgICAgJ3RvdWNoLXgnOiBbJ3RvdWNoJ10sXG4gICAgICAgICAgICAndG91Y2gteSc6IFsndG91Y2gnXSxcbiAgICAgICAgICAgICd0b3VjaC1weic6IFsndG91Y2gnXSxcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzOiB7XG4gICAgICAgICAgICAnZm9udC1zaXplJzogWydsZWFkaW5nJ10sXG4gICAgICAgIH0sXG4gICAgfSBhcyBjb25zdCBzYXRpc2ZpZXMgQ29uZmlnPERlZmF1bHRDbGFzc0dyb3VwSWRzLCBEZWZhdWx0VGhlbWVHcm91cElkcz5cbn1cbiIsICJpbXBvcnQgeyBDb25maWdFeHRlbnNpb24sIEdlbmVyaWNDb25maWcgfSBmcm9tICcuL3R5cGVzJ1xuXG4vKipcbiAqIEBwYXJhbSBiYXNlQ29uZmlnIENvbmZpZyB3aGVyZSBvdGhlciBjb25maWcgd2lsbCBiZSBtZXJnZWQgaW50by4gVGhpcyBvYmplY3Qgd2lsbCBiZSBtdXRhdGVkLlxuICogQHBhcmFtIGNvbmZpZ0V4dGVuc2lvbiBQYXJ0aWFsIGNvbmZpZyB0byBtZXJnZSBpbnRvIHRoZSBgYmFzZUNvbmZpZ2AuXG4gKi9cbmV4cG9ydCBjb25zdCBtZXJnZUNvbmZpZ3MgPSA8Q2xhc3NHcm91cElkcyBleHRlbmRzIHN0cmluZywgVGhlbWVHcm91cElkcyBleHRlbmRzIHN0cmluZyA9IG5ldmVyPihcbiAgICBiYXNlQ29uZmlnOiBHZW5lcmljQ29uZmlnLFxuICAgIHtcbiAgICAgICAgY2FjaGVTaXplLFxuICAgICAgICBwcmVmaXgsXG4gICAgICAgIHNlcGFyYXRvcixcbiAgICAgICAgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUsXG4gICAgICAgIGV4dGVuZCA9IHt9LFxuICAgICAgICBvdmVycmlkZSA9IHt9LFxuICAgIH06IENvbmZpZ0V4dGVuc2lvbjxDbGFzc0dyb3VwSWRzLCBUaGVtZUdyb3VwSWRzPixcbikgPT4ge1xuICAgIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgJ2NhY2hlU2l6ZScsIGNhY2hlU2l6ZSlcbiAgICBvdmVycmlkZVByb3BlcnR5KGJhc2VDb25maWcsICdwcmVmaXgnLCBwcmVmaXgpXG4gICAgb3ZlcnJpZGVQcm9wZXJ0eShiYXNlQ29uZmlnLCAnc2VwYXJhdG9yJywgc2VwYXJhdG9yKVxuICAgIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgJ2V4cGVyaW1lbnRhbFBhcnNlQ2xhc3NOYW1lJywgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUpXG5cbiAgICBmb3IgKGNvbnN0IGNvbmZpZ0tleSBpbiBvdmVycmlkZSkge1xuICAgICAgICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoXG4gICAgICAgICAgICBiYXNlQ29uZmlnW2NvbmZpZ0tleSBhcyBrZXlvZiB0eXBlb2Ygb3ZlcnJpZGVdLFxuICAgICAgICAgICAgb3ZlcnJpZGVbY29uZmlnS2V5IGFzIGtleW9mIHR5cGVvZiBvdmVycmlkZV0sXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBleHRlbmQpIHtcbiAgICAgICAgbWVyZ2VDb25maWdQcm9wZXJ0aWVzKFxuICAgICAgICAgICAgYmFzZUNvbmZpZ1trZXkgYXMga2V5b2YgdHlwZW9mIGV4dGVuZF0sXG4gICAgICAgICAgICBleHRlbmRba2V5IGFzIGtleW9mIHR5cGVvZiBleHRlbmRdLFxuICAgICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIGJhc2VDb25maWdcbn1cblxuY29uc3Qgb3ZlcnJpZGVQcm9wZXJ0eSA9IDxUIGV4dGVuZHMgb2JqZWN0LCBLIGV4dGVuZHMga2V5b2YgVD4oXG4gICAgYmFzZU9iamVjdDogVCxcbiAgICBvdmVycmlkZUtleTogSyxcbiAgICBvdmVycmlkZVZhbHVlOiBUW0tdIHwgdW5kZWZpbmVkLFxuKSA9PiB7XG4gICAgaWYgKG92ZXJyaWRlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBiYXNlT2JqZWN0W292ZXJyaWRlS2V5XSA9IG92ZXJyaWRlVmFsdWVcbiAgICB9XG59XG5cbmNvbnN0IG92ZXJyaWRlQ29uZmlnUHJvcGVydGllcyA9IChcbiAgICBiYXNlT2JqZWN0OiBQYXJ0aWFsPFJlY29yZDxzdHJpbmcsIHJlYWRvbmx5IHVua25vd25bXT4+LFxuICAgIG92ZXJyaWRlT2JqZWN0OiBQYXJ0aWFsPFJlY29yZDxzdHJpbmcsIHJlYWRvbmx5IHVua25vd25bXT4+IHwgdW5kZWZpbmVkLFxuKSA9PiB7XG4gICAgaWYgKG92ZXJyaWRlT2JqZWN0KSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG92ZXJyaWRlT2JqZWN0KSB7XG4gICAgICAgICAgICBvdmVycmlkZVByb3BlcnR5KGJhc2VPYmplY3QsIGtleSwgb3ZlcnJpZGVPYmplY3Rba2V5XSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgbWVyZ2VDb25maWdQcm9wZXJ0aWVzID0gKFxuICAgIGJhc2VPYmplY3Q6IFBhcnRpYWw8UmVjb3JkPHN0cmluZywgcmVhZG9ubHkgdW5rbm93bltdPj4sXG4gICAgbWVyZ2VPYmplY3Q6IFBhcnRpYWw8UmVjb3JkPHN0cmluZywgcmVhZG9ubHkgdW5rbm93bltdPj4gfCB1bmRlZmluZWQsXG4pID0+IHtcbiAgICBpZiAobWVyZ2VPYmplY3QpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWVyZ2VPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlVmFsdWUgPSBtZXJnZU9iamVjdFtrZXldXG5cbiAgICAgICAgICAgIGlmIChtZXJnZVZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBiYXNlT2JqZWN0W2tleV0gPSAoYmFzZU9iamVjdFtrZXldIHx8IFtdKS5jb25jYXQobWVyZ2VWYWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVUYWlsd2luZE1lcmdlIH0gZnJvbSAnLi9jcmVhdGUtdGFpbHdpbmQtbWVyZ2UnXG5pbXBvcnQgeyBnZXREZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi9kZWZhdWx0LWNvbmZpZydcbmltcG9ydCB7IG1lcmdlQ29uZmlncyB9IGZyb20gJy4vbWVyZ2UtY29uZmlncydcbmltcG9ydCB7IENvbmZpZ0V4dGVuc2lvbiwgRGVmYXVsdENsYXNzR3JvdXBJZHMsIERlZmF1bHRUaGVtZUdyb3VwSWRzLCBHZW5lcmljQ29uZmlnIH0gZnJvbSAnLi90eXBlcydcblxudHlwZSBDcmVhdGVDb25maWdTdWJzZXF1ZW50ID0gKGNvbmZpZzogR2VuZXJpY0NvbmZpZykgPT4gR2VuZXJpY0NvbmZpZ1xuXG5leHBvcnQgY29uc3QgZXh0ZW5kVGFpbHdpbmRNZXJnZSA9IDxcbiAgICBBZGRpdGlvbmFsQ2xhc3NHcm91cElkcyBleHRlbmRzIHN0cmluZyA9IG5ldmVyLFxuICAgIEFkZGl0aW9uYWxUaGVtZUdyb3VwSWRzIGV4dGVuZHMgc3RyaW5nID0gbmV2ZXIsXG4+KFxuICAgIGNvbmZpZ0V4dGVuc2lvbjpcbiAgICAgICAgfCBDb25maWdFeHRlbnNpb248XG4gICAgICAgICAgICAgIERlZmF1bHRDbGFzc0dyb3VwSWRzIHwgQWRkaXRpb25hbENsYXNzR3JvdXBJZHMsXG4gICAgICAgICAgICAgIERlZmF1bHRUaGVtZUdyb3VwSWRzIHwgQWRkaXRpb25hbFRoZW1lR3JvdXBJZHNcbiAgICAgICAgICA+XG4gICAgICAgIHwgQ3JlYXRlQ29uZmlnU3Vic2VxdWVudCxcbiAgICAuLi5jcmVhdGVDb25maWc6IENyZWF0ZUNvbmZpZ1N1YnNlcXVlbnRbXVxuKSA9PlxuICAgIHR5cGVvZiBjb25maWdFeHRlbnNpb24gPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBjcmVhdGVUYWlsd2luZE1lcmdlKGdldERlZmF1bHRDb25maWcsIGNvbmZpZ0V4dGVuc2lvbiwgLi4uY3JlYXRlQ29uZmlnKVxuICAgICAgICA6IGNyZWF0ZVRhaWx3aW5kTWVyZ2UoXG4gICAgICAgICAgICAgICgpID0+IG1lcmdlQ29uZmlncyhnZXREZWZhdWx0Q29uZmlnKCksIGNvbmZpZ0V4dGVuc2lvbiksXG4gICAgICAgICAgICAgIC4uLmNyZWF0ZUNvbmZpZyxcbiAgICAgICAgICApXG4iLCAiaW1wb3J0IHsgY3JlYXRlVGFpbHdpbmRNZXJnZSB9IGZyb20gJy4vY3JlYXRlLXRhaWx3aW5kLW1lcmdlJ1xuaW1wb3J0IHsgZ2V0RGVmYXVsdENvbmZpZyB9IGZyb20gJy4vZGVmYXVsdC1jb25maWcnXG5cbmV4cG9ydCBjb25zdCB0d01lcmdlID0gY3JlYXRlVGFpbHdpbmRNZXJnZShnZXREZWZhdWx0Q29uZmlnKVxuIiwgImltcG9ydCB7IFNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcbmltcG9ydCB7IFRhYmxlMiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuaW1wb3J0IFByaXNtYUxvZ28gZnJvbSBcIi4uLy4uL2Fzc2V0cy9wcmlzbWEuc3ZnXCI7XG5pbXBvcnQgeyBTZWxlY3QsIFNlbGVjdENvbnRlbnQsIFNlbGVjdEl0ZW0sIFNlbGVjdFRyaWdnZXIsIFNlbGVjdFZhbHVlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdWkvc2VsZWN0XCI7XG5pbXBvcnQgeyBTa2VsZXRvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL3VpL3NrZWxldG9uXCI7XG5pbXBvcnQgeyB1c2VJbnRyb3NwZWN0aW9uIH0gZnJvbSBcIi4uL2hvb2tzL3VzZS1pbnRyb3NwZWN0aW9uXCI7XG5pbXBvcnQgeyB1c2VOYXZpZ2F0aW9uIH0gZnJvbSBcIi4uL2hvb2tzL3VzZS1uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCIuLi9saWIvdXRpbHNcIjtcblxudHlwZSBOYXZpZ2F0aW9uUHJvcHMgPSB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn0gJiBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD47XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZpZ2F0aW9uKHsgY2xhc3NOYW1lIH06IE5hdmlnYXRpb25Qcm9wcykge1xuICAvLyBVc2UgdGhlIGN1c3RvbSBob29rIHRvIGdldCBhbGwgbmVjZXNzYXJ5IHN0YXRlIGFuZCBoYW5kbGVyc1xuICBjb25zdCB7IG1ldGFkYXRhLCBjcmVhdGVVcmwsIHZpZXdQYXJhbSB9ID0gdXNlTmF2aWdhdGlvbigpO1xuICBjb25zdCB7IGlzRmV0Y2hpbmcsIGFjdGl2ZVRhYmxlLCBhY3RpdmVUYWJsZXMgfSA9IG1ldGFkYXRhO1xuICBjb25zdCB0YWJsZXMgPSBPYmplY3QudmFsdWVzKGFjdGl2ZVRhYmxlcyA/PyB7fSkuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XG5cbiAgY29uc3Qgc2lkZUJhckNsYXNzZXMgPSBjbihcbiAgICBcImZsZXggZmxleC1jb2wgdy00OCBvdmVyZmxvdy15LWF1dG8gbWluLWgtZnVsbCBoLTAgdGV4dC1jYXJkLWZvcmVncm91bmQgc2hhZG93LXhzIHJvdW5kZWQtbGdcIixcbiAgICBjbGFzc05hbWUsXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c2lkZUJhckNsYXNzZXN9PlxuICAgICAge3Byb2Nlc3MuZW52LkJVSUxEX1ZBUklBTlQgPT09IFwiZnJlZVwiICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwdC00IHBiLTAuNSBweC00XCI+XG4gICAgICAgICAgPGltZyBzcmM9e1ByaXNtYUxvZ299IGFsdD1cIlByaXNtYSBMb2dvXCIgY2xhc3NOYW1lPVwiaC02IHctYXV0b1wiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSBmb250LXNhbnNcIj5QcmlzbWEgU3R1ZGlvPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxOYXZpZ2F0aW9uLlNjaGVtYVNlbGVjdG9yIC8+XG5cbiAgICAgIDxOYXZpZ2F0aW9uLkJsb2NrIGxhYmVsPVwiU3R1ZGlvXCI+XG4gICAgICAgIDxOYXZpZ2F0aW9uLkl0ZW1cbiAgICAgICAgICBhc0NoaWxkXG4gICAgICAgICAgaXNBY3RpdmU9e3ZpZXdQYXJhbSA9PT0gXCJzY2hlbWFcIn1cbiAgICAgICAgICBjbGFzc05hbWU9e2BweS0xIGZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC82MCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1hbGwgY3Vyc29yLXBvaW50ZXIgZGF0YS1bYWN0aXZlPXRydWVdOmJnLWFjY2VudCBkYXRhLVthY3RpdmU9dHJ1ZV06Zm9yZWdyb3VuZCBkYXRhLVthY3RpdmU9dHJ1ZV06dGV4dC1mb3JlZ3JvdW5kYH1cbiAgICAgICAgPlxuICAgICAgICAgIDxhIGhyZWY9e2NyZWF0ZVVybCh7IHZpZXdQYXJhbTogXCJzY2hlbWFcIiB9KX0gY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgICAgICBWaXN1YWxpemVyXG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L05hdmlnYXRpb24uSXRlbT5cbiAgICAgICAgPE5hdmlnYXRpb24uSXRlbVxuICAgICAgICAgIGFzQ2hpbGRcbiAgICAgICAgICBpc0FjdGl2ZT17dmlld1BhcmFtID09PSBcImNvbnNvbGVcIn1cbiAgICAgICAgICBjbGFzc05hbWU9e2BweS0xIGZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC82MCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1hbGwgY3Vyc29yLXBvaW50ZXIgZGF0YS1bYWN0aXZlPXRydWVdOmJnLWFjY2VudCBkYXRhLVthY3RpdmU9dHJ1ZV06Zm9yZWdyb3VuZCBkYXRhLVthY3RpdmU9dHJ1ZV06dGV4dC1mb3JlZ3JvdW5kYH1cbiAgICAgICAgPlxuICAgICAgICAgIDxhIGhyZWY9e2NyZWF0ZVVybCh7IHZpZXdQYXJhbTogXCJjb25zb2xlXCIgfSl9IGNsYXNzTmFtZT1cInctZnVsbFwiPlxuICAgICAgICAgICAgQ29uc29sZVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9OYXZpZ2F0aW9uLkl0ZW0+XG4gICAgICA8L05hdmlnYXRpb24uQmxvY2s+XG5cbiAgICAgIDxOYXZpZ2F0aW9uLkJsb2NrIGxhYmVsPVwiVGFibGVzXCI+XG4gICAgICAgIHtpc0ZldGNoaW5nID8gKFxuICAgICAgICAgIEFycmF5KDQpXG4gICAgICAgICAgICAuZmlsbChudWxsKVxuICAgICAgICAgICAgLm1hcCgoXywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPE5hdmlnYXRpb24uSXRlbSBrZXk9e2luZGV4fSB3cmFwQ2hpbGRyZW5JblNwYW49e2ZhbHNlfT5cbiAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPVwiaC0zIHctZnVsbFwiIC8+XG4gICAgICAgICAgICAgIDwvTmF2aWdhdGlvbi5JdGVtPlxuICAgICAgICAgICAgKSlcbiAgICAgICAgKSA6IHRhYmxlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgIHRhYmxlcy5tYXAoKHRhYmxlKSA9PiAoXG4gICAgICAgICAgICA8TmF2aWdhdGlvbi5JdGVtXG4gICAgICAgICAgICAgIGtleT17YCR7dGFibGUuc2NoZW1hfS4ke3RhYmxlLm5hbWV9YH1cbiAgICAgICAgICAgICAgYXNDaGlsZFxuICAgICAgICAgICAgICBpc0FjdGl2ZT17YWN0aXZlVGFibGUgPT09IHRhYmxlICYmIHZpZXdQYXJhbSA9PT0gXCJ0YWJsZVwifVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweS0xIGZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC82MCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1hbGwgY3Vyc29yLXBvaW50ZXIgZGF0YS1bYWN0aXZlPXRydWVdOmJnLWFjY2VudCBkYXRhLVthY3RpdmU9dHJ1ZV06Zm9yZWdyb3VuZCBkYXRhLVthY3RpdmU9dHJ1ZV06dGV4dC1mb3JlZ3JvdW5kYH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBocmVmPXtjcmVhdGVVcmwoeyB0YWJsZVBhcmFtOiB0YWJsZS5uYW1lLCBzY2hlbWFQYXJhbTogdGFibGUuc2NoZW1hLCB2aWV3UGFyYW06IFwidGFibGVcIiB9KX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RhYmxlLm5hbWV9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvTmF2aWdhdGlvbi5JdGVtPlxuICAgICAgICAgICkpXG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPE5hdmlnYXRpb24uSXRlbT5ObyB0YWJsZXMgZm91bmQ8L05hdmlnYXRpb24uSXRlbT5cbiAgICAgICAgKX1cbiAgICAgIDwvTmF2aWdhdGlvbi5CbG9jaz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuY29uc3QgQmxvY2sgPSAoeyBjbGFzc05hbWUsIGxhYmVsLCBjaGlsZHJlbiwgLi4ucHJvcHMgfTogUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+ICYgeyBsYWJlbDogc3RyaW5nIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSB7Li4ucHJvcHN9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBwdC00IHBiLTIgcHgtNCBzdGlja3kgdG9wLTAgIGJhY2tkcm9wLWJsdXItc21cIj5cbiAgICAgICAgPFRhYmxlMiBzaXplPXsxNn0gY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzYwXCIgLz5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj57bGFiZWx9PC9oMj5cbiAgICAgIDwvZGl2PlxuICAgICAgPG5hdiBhcmlhLWxhYmVsPXtsYWJlbH0gY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtcHggcGItMyBwLTJcIj5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9uYXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBJdGVtID0gKHtcbiAgY2xhc3NOYW1lLFxuICBhc0NoaWxkID0gZmFsc2UsXG4gIGlzQWN0aXZlLFxuICBzaXplLFxuICBjaGlsZHJlbixcbiAgd3JhcENoaWxkcmVuSW5TcGFuID0gdHJ1ZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPFwiYnV0dG9uXCI+ICYge1xuICBhc0NoaWxkPzogYm9vbGVhbjtcbiAgaXNBY3RpdmU/OiBib29sZWFuO1xuICBzaXplPzogXCJkZWZhdWx0XCIgfCBcInNtXCI7XG4gIHdyYXBDaGlsZHJlbkluU3Bhbj86IGJvb2xlYW47XG59KSA9PiB7XG4gIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdCA6IFwiYnV0dG9uXCI7XG5cbiAgcmV0dXJuIChcbiAgICA8Q29tcFxuICAgICAgZGF0YS1zaWRlYmFyPVwibWVudS1idXR0b25cIlxuICAgICAgZGF0YS1zaXplPXtzaXplfVxuICAgICAgZGF0YS1hY3RpdmU9e2lzQWN0aXZlfVxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJweS0xLjUgcHgtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJvdW5kZWQtbWQgZmxleCBnYXAtMiBpdGVtcy1jZW50ZXIgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBiZy10cmFuc3BhcmVudFwiLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIHt3cmFwQ2hpbGRyZW5JblNwYW4gPyA8c3BhbiBjbGFzc05hbWU9XCJ0cnVuY2F0ZVwiPntjaGlsZHJlbn08L3NwYW4+IDogPD57Y2hpbGRyZW59PC8+fVxuICAgIDwvQ29tcD5cbiAgKTtcbn07XG5cbmNvbnN0IFNjaGVtYVNlbGVjdG9yID0gKCkgPT4ge1xuICBjb25zdCB7IGRhdGE6IGludHJvc3BlY3Rpb24sIGlzRmV0Y2hpbmcgfSA9IHVzZUludHJvc3BlY3Rpb24oKTtcbiAgY29uc3QgeyBzY2hlbWFQYXJhbSwgc2V0U2NoZW1hUGFyYW0sIHNldFRhYmxlUGFyYW0gfSA9IHVzZU5hdmlnYXRpb24oKTtcblxuICAvLyBFeHRyYWN0IHNjaGVtYSBuYW1lcyBmcm9tIGludHJvc3BlY3Rpb24gZGF0YVxuICBjb25zdCBzY2hlbWFOYW1lcyA9IE9iamVjdC5rZXlzKGludHJvc3BlY3Rpb24uc2NoZW1hcyB8fCB7fSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB0LTQgcGItMiBweC00IHN0aWNreSB0b3AtMCBiYWNrZHJvcC1ibHVyLXNtXCI+XG4gICAgICA8U2VsZWN0XG4gICAgICAgIHZhbHVlPXtzY2hlbWFQYXJhbX1cbiAgICAgICAgb25WYWx1ZUNoYW5nZT17KHNjaGVtYVBhcmFtKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2NoZW1hID0gaW50cm9zcGVjdGlvbi5zY2hlbWFzW3NjaGVtYVBhcmFtID8/IFwiXCJdO1xuICAgICAgICAgIGNvbnN0IHRhYmxlUGFyYW0gPSBPYmplY3Qua2V5cyhzY2hlbWE/LnRhYmxlcyA/PyB7fSlbMF0gPz8gbnVsbDtcbiAgICAgICAgICB2b2lkIHNldFNjaGVtYVBhcmFtKHNjaGVtYVBhcmFtKTtcbiAgICAgICAgICB2b2lkIHNldFRhYmxlUGFyYW0odGFibGVQYXJhbSk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT1cInRleHQteHNcIiBsYWJlbD1cIlNjaGVtYVwiPlxuICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIlNlbGVjdCBzY2hlbWFcIiAvPlxuICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgIHtpc0ZldGNoaW5nID8gKFxuICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJsb2FkaW5nXCI+TG9hZGluZyBzY2hlbWFzLi4uPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICkgOiBzY2hlbWFOYW1lcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgc2NoZW1hTmFtZXMubWFwKChzY2hlbWEpID0+IChcbiAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtzY2hlbWF9IHZhbHVlPXtzY2hlbWF9IGNsYXNzTmFtZT1cInRleHQteHNcIj5cbiAgICAgICAgICAgICAgICB7c2NoZW1hfVxuICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICApKVxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cIm5vLXNjaGVtYXNcIj5ObyBzY2hlbWFzIGZvdW5kPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgIDwvU2VsZWN0PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuTmF2aWdhdGlvbi5CbG9jayA9IEJsb2NrO1xuTmF2aWdhdGlvbi5JdGVtID0gSXRlbTtcbk5hdmlnYXRpb24uU2NoZW1hU2VsZWN0b3IgPSBTY2hlbWFTZWxlY3RvcjtcbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wb3NlUmVmcyB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnMnO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTbG90XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmludGVyZmFjZSBTbG90UHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRWxlbWVudD4ge1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuY29uc3QgU2xvdCA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTEVsZW1lbnQsIFNsb3RQcm9wcz4oKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgLi4uc2xvdFByb3BzIH0gPSBwcm9wcztcbiAgY29uc3QgY2hpbGRyZW5BcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pO1xuICBjb25zdCBzbG90dGFibGUgPSBjaGlsZHJlbkFycmF5LmZpbmQoaXNTbG90dGFibGUpO1xuXG4gIGlmIChzbG90dGFibGUpIHtcbiAgICAvLyB0aGUgbmV3IGVsZW1lbnQgdG8gcmVuZGVyIGlzIHRoZSBvbmUgcGFzc2VkIGFzIGEgY2hpbGQgb2YgYFNsb3R0YWJsZWBcbiAgICBjb25zdCBuZXdFbGVtZW50ID0gc2xvdHRhYmxlLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgY29uc3QgbmV3Q2hpbGRyZW4gPSBjaGlsZHJlbkFycmF5Lm1hcCgoY2hpbGQpID0+IHtcbiAgICAgIGlmIChjaGlsZCA9PT0gc2xvdHRhYmxlKSB7XG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIG5ldyBlbGVtZW50IHdpbGwgYmUgdGhlIG9uZSByZW5kZXJlZCwgd2UgYXJlIG9ubHkgaW50ZXJlc3RlZFxuICAgICAgICAvLyBpbiBncmFiYmluZyBpdHMgY2hpbGRyZW4gKGBuZXdFbGVtZW50LnByb3BzLmNoaWxkcmVuYClcbiAgICAgICAgaWYgKFJlYWN0LkNoaWxkcmVuLmNvdW50KG5ld0VsZW1lbnQpID4gMSkgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm9ubHkobnVsbCk7XG4gICAgICAgIHJldHVybiBSZWFjdC5pc1ZhbGlkRWxlbWVudChuZXdFbGVtZW50KVxuICAgICAgICAgID8gKG5ld0VsZW1lbnQucHJvcHMgYXMgeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pLmNoaWxkcmVuXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxTbG90Q2xvbmUgey4uLnNsb3RQcm9wc30gcmVmPXtmb3J3YXJkZWRSZWZ9PlxuICAgICAgICB7UmVhY3QuaXNWYWxpZEVsZW1lbnQobmV3RWxlbWVudClcbiAgICAgICAgICA/IFJlYWN0LmNsb25lRWxlbWVudChuZXdFbGVtZW50LCB1bmRlZmluZWQsIG5ld0NoaWxkcmVuKVxuICAgICAgICAgIDogbnVsbH1cbiAgICAgIDwvU2xvdENsb25lPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxTbG90Q2xvbmUgey4uLnNsb3RQcm9wc30gcmVmPXtmb3J3YXJkZWRSZWZ9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvU2xvdENsb25lPlxuICApO1xufSk7XG5cblNsb3QuZGlzcGxheU5hbWUgPSAnU2xvdCc7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNsb3RDbG9uZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbnRlcmZhY2UgU2xvdENsb25lUHJvcHMge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufVxuXG5jb25zdCBTbG90Q2xvbmUgPSBSZWFjdC5mb3J3YXJkUmVmPGFueSwgU2xvdENsb25lUHJvcHM+KChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIC4uLnNsb3RQcm9wcyB9ID0gcHJvcHM7XG5cbiAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgIGNvbnN0IGNoaWxkcmVuUmVmID0gZ2V0RWxlbWVudFJlZihjaGlsZHJlbik7XG4gICAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKHNsb3RQcm9wcywgY2hpbGRyZW4ucHJvcHMgYXMgQW55UHJvcHMpO1xuICAgIC8vIGRvIG5vdCBwYXNzIHJlZiB0byBSZWFjdC5GcmFnbWVudCBmb3IgUmVhY3QgMTkgY29tcGF0aWJpbGl0eVxuICAgIGlmIChjaGlsZHJlbi50eXBlICE9PSBSZWFjdC5GcmFnbWVudCkge1xuICAgICAgcHJvcHMucmVmID0gZm9yd2FyZGVkUmVmID8gY29tcG9zZVJlZnMoZm9yd2FyZGVkUmVmLCBjaGlsZHJlblJlZikgOiBjaGlsZHJlblJlZjtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwgcHJvcHMpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSA+IDEgPyBSZWFjdC5DaGlsZHJlbi5vbmx5KG51bGwpIDogbnVsbDtcbn0pO1xuXG5TbG90Q2xvbmUuZGlzcGxheU5hbWUgPSAnU2xvdENsb25lJztcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2xvdHRhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IFNsb3R0YWJsZSA9ICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PiB7XG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59O1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbnR5cGUgQW55UHJvcHMgPSBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG5mdW5jdGlvbiBpc1Nsb3R0YWJsZShcbiAgY2hpbGQ6IFJlYWN0LlJlYWN0Tm9kZVxuKTogY2hpbGQgaXMgUmVhY3QuUmVhY3RFbGVtZW50PFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBTbG90dGFibGU+LCB0eXBlb2YgU2xvdHRhYmxlPiB7XG4gIHJldHVybiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkgJiYgY2hpbGQudHlwZSA9PT0gU2xvdHRhYmxlO1xufVxuXG5mdW5jdGlvbiBtZXJnZVByb3BzKHNsb3RQcm9wczogQW55UHJvcHMsIGNoaWxkUHJvcHM6IEFueVByb3BzKSB7XG4gIC8vIGFsbCBjaGlsZCBwcm9wcyBzaG91bGQgb3ZlcnJpZGVcbiAgY29uc3Qgb3ZlcnJpZGVQcm9wcyA9IHsgLi4uY2hpbGRQcm9wcyB9O1xuXG4gIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gY2hpbGRQcm9wcykge1xuICAgIGNvbnN0IHNsb3RQcm9wVmFsdWUgPSBzbG90UHJvcHNbcHJvcE5hbWVdO1xuICAgIGNvbnN0IGNoaWxkUHJvcFZhbHVlID0gY2hpbGRQcm9wc1twcm9wTmFtZV07XG5cbiAgICBjb25zdCBpc0hhbmRsZXIgPSAvXm9uW0EtWl0vLnRlc3QocHJvcE5hbWUpO1xuICAgIGlmIChpc0hhbmRsZXIpIHtcbiAgICAgIC8vIGlmIHRoZSBoYW5kbGVyIGV4aXN0cyBvbiBib3RoLCB3ZSBjb21wb3NlIHRoZW1cbiAgICAgIGlmIChzbG90UHJvcFZhbHVlICYmIGNoaWxkUHJvcFZhbHVlKSB7XG4gICAgICAgIG92ZXJyaWRlUHJvcHNbcHJvcE5hbWVdID0gKC4uLmFyZ3M6IHVua25vd25bXSkgPT4ge1xuICAgICAgICAgIGNoaWxkUHJvcFZhbHVlKC4uLmFyZ3MpO1xuICAgICAgICAgIHNsb3RQcm9wVmFsdWUoLi4uYXJncyk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvLyBidXQgaWYgaXQgZXhpc3RzIG9ubHkgb24gdGhlIHNsb3QsIHdlIHVzZSBvbmx5IHRoaXMgb25lXG4gICAgICBlbHNlIGlmIChzbG90UHJvcFZhbHVlKSB7XG4gICAgICAgIG92ZXJyaWRlUHJvcHNbcHJvcE5hbWVdID0gc2xvdFByb3BWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgaXQncyBgc3R5bGVgLCB3ZSBtZXJnZSB0aGVtXG4gICAgZWxzZSBpZiAocHJvcE5hbWUgPT09ICdzdHlsZScpIHtcbiAgICAgIG92ZXJyaWRlUHJvcHNbcHJvcE5hbWVdID0geyAuLi5zbG90UHJvcFZhbHVlLCAuLi5jaGlsZFByb3BWYWx1ZSB9O1xuICAgIH0gZWxzZSBpZiAocHJvcE5hbWUgPT09ICdjbGFzc05hbWUnKSB7XG4gICAgICBvdmVycmlkZVByb3BzW3Byb3BOYW1lXSA9IFtzbG90UHJvcFZhbHVlLCBjaGlsZFByb3BWYWx1ZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyAuLi5zbG90UHJvcHMsIC4uLm92ZXJyaWRlUHJvcHMgfTtcbn1cblxuLy8gQmVmb3JlIFJlYWN0IDE5IGFjY2Vzc2luZyBgZWxlbWVudC5wcm9wcy5yZWZgIHdpbGwgdGhyb3cgYSB3YXJuaW5nIGFuZCBzdWdnZXN0IHVzaW5nIGBlbGVtZW50LnJlZmBcbi8vIEFmdGVyIFJlYWN0IDE5IGFjY2Vzc2luZyBgZWxlbWVudC5yZWZgIGRvZXMgdGhlIG9wcG9zaXRlLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMjgzNDhcbi8vXG4vLyBBY2Nlc3MgdGhlIHJlZiB1c2luZyB0aGUgbWV0aG9kIHRoYXQgZG9lc24ndCB5aWVsZCBhIHdhcm5pbmcuXG5mdW5jdGlvbiBnZXRFbGVtZW50UmVmKGVsZW1lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudCkge1xuICAvLyBSZWFjdCA8PTE4IGluIERFVlxuICBsZXQgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlbGVtZW50LnByb3BzLCAncmVmJyk/LmdldDtcbiAgbGV0IG1heVdhcm4gPSBnZXR0ZXIgJiYgJ2lzUmVhY3RXYXJuaW5nJyBpbiBnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nO1xuICBpZiAobWF5V2Fybikge1xuICAgIHJldHVybiAoZWxlbWVudCBhcyBhbnkpLnJlZjtcbiAgfVxuXG4gIC8vIFJlYWN0IDE5IGluIERFVlxuICBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVsZW1lbnQsICdyZWYnKT8uZ2V0O1xuICBtYXlXYXJuID0gZ2V0dGVyICYmICdpc1JlYWN0V2FybmluZycgaW4gZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZztcbiAgaWYgKG1heVdhcm4pIHtcbiAgICByZXR1cm4gKGVsZW1lbnQucHJvcHMgYXMgeyByZWY/OiBSZWFjdC5SZWY8dW5rbm93bj4gfSkucmVmO1xuICB9XG5cbiAgLy8gTm90IERFVlxuICByZXR1cm4gKGVsZW1lbnQucHJvcHMgYXMgeyByZWY/OiBSZWFjdC5SZWY8dW5rbm93bj4gfSkucmVmIHx8IChlbGVtZW50IGFzIGFueSkucmVmO1xufVxuXG5jb25zdCBSb290ID0gU2xvdDtcblxuZXhwb3J0IHtcbiAgU2xvdCxcbiAgU2xvdHRhYmxlLFxuICAvL1xuICBSb290LFxufTtcbmV4cG9ydCB0eXBlIHsgU2xvdFByb3BzIH07XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG50eXBlIFBvc3NpYmxlUmVmPFQ+ID0gUmVhY3QuUmVmPFQ+IHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIFNldCBhIGdpdmVuIHJlZiB0byBhIGdpdmVuIHZhbHVlXG4gKiBUaGlzIHV0aWxpdHkgdGFrZXMgY2FyZSBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgcmVmczogY2FsbGJhY2sgcmVmcyBhbmQgUmVmT2JqZWN0KHMpXG4gKi9cbmZ1bmN0aW9uIHNldFJlZjxUPihyZWY6IFBvc3NpYmxlUmVmPFQ+LCB2YWx1ZTogVCkge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiByZWYodmFsdWUpO1xuICB9IGVsc2UgaWYgKHJlZiAhPT0gbnVsbCAmJiByZWYgIT09IHVuZGVmaW5lZCkge1xuICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBBIHV0aWxpdHkgdG8gY29tcG9zZSBtdWx0aXBsZSByZWZzIHRvZ2V0aGVyXG4gKiBBY2NlcHRzIGNhbGxiYWNrIHJlZnMgYW5kIFJlZk9iamVjdChzKVxuICovXG5mdW5jdGlvbiBjb21wb3NlUmVmczxUPiguLi5yZWZzOiBQb3NzaWJsZVJlZjxUPltdKTogUmVhY3QuUmVmQ2FsbGJhY2s8VD4ge1xuICByZXR1cm4gKG5vZGUpID0+IHtcbiAgICBsZXQgaGFzQ2xlYW51cCA9IGZhbHNlO1xuICAgIGNvbnN0IGNsZWFudXBzID0gcmVmcy5tYXAoKHJlZikgPT4ge1xuICAgICAgY29uc3QgY2xlYW51cCA9IHNldFJlZihyZWYsIG5vZGUpO1xuICAgICAgaWYgKCFoYXNDbGVhbnVwICYmIHR5cGVvZiBjbGVhbnVwID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaGFzQ2xlYW51cCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xlYW51cDtcbiAgICB9KTtcblxuICAgIC8vIFJlYWN0IDwxOSB3aWxsIGxvZyBhbiBlcnJvciB0byB0aGUgY29uc29sZSBpZiBhIGNhbGxiYWNrIHJlZiByZXR1cm5zIGFcbiAgICAvLyB2YWx1ZS4gV2UgZG9uJ3QgdXNlIHJlZiBjbGVhbnVwcyBpbnRlcm5hbGx5IHNvIHRoaXMgd2lsbCBvbmx5IGhhcHBlbiBpZiBhXG4gICAgLy8gdXNlcidzIHJlZiBjYWxsYmFjayByZXR1cm5zIGEgdmFsdWUsIHdoaWNoIHdlIG9ubHkgZXhwZWN0IGlmIHRoZXkgYXJlXG4gICAgLy8gdXNpbmcgdGhlIGNsZWFudXAgZnVuY3Rpb25hbGl0eSBhZGRlZCBpbiBSZWFjdCAxOS5cbiAgICBpZiAoaGFzQ2xlYW51cCkge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGVhbnVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNsZWFudXAgPSBjbGVhbnVwc1tpXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRSZWYocmVmc1tpXSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBBIGN1c3RvbSBob29rIHRoYXQgY29tcG9zZXMgbXVsdGlwbGUgcmVmc1xuICogQWNjZXB0cyBjYWxsYmFjayByZWZzIGFuZCBSZWZPYmplY3QocylcbiAqL1xuZnVuY3Rpb24gdXNlQ29tcG9zZWRSZWZzPFQ+KC4uLnJlZnM6IFBvc3NpYmxlUmVmPFQ+W10pOiBSZWFjdC5SZWZDYWxsYmFjazxUPiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKGNvbXBvc2VSZWZzKC4uLnJlZnMpLCByZWZzKTtcbn1cblxuZXhwb3J0IHsgY29tcG9zZVJlZnMsIHVzZUNvbXBvc2VkUmVmcyB9O1xuIiwgIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ2Ni4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgKiBhcyBpbmRleCBmcm9tICcuL2ljb25zL2luZGV4LmpzJztcbmV4cG9ydCB7IGluZGV4IGFzIGljb25zIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsYXJtQ2hlY2ssIGRlZmF1bHQgYXMgQWxhcm1DaGVja0ljb24sIGRlZmF1bHQgYXMgQWxhcm1DbG9ja0NoZWNrLCBkZWZhdWx0IGFzIEFsYXJtQ2xvY2tDaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxhcm1DaGVjaywgZGVmYXVsdCBhcyBMdWNpZGVBbGFybUNsb2NrQ2hlY2sgfSBmcm9tICcuL2ljb25zL2FsYXJtLWNsb2NrLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxhcm1DbG9ja01pbnVzLCBkZWZhdWx0IGFzIEFsYXJtQ2xvY2tNaW51c0ljb24sIGRlZmF1bHQgYXMgQWxhcm1NaW51cywgZGVmYXVsdCBhcyBBbGFybU1pbnVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGFybUNsb2NrTWludXMsIGRlZmF1bHQgYXMgTHVjaWRlQWxhcm1NaW51cyB9IGZyb20gJy4vaWNvbnMvYWxhcm0tY2xvY2stbWludXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25BWiwgZGVmYXVsdCBhcyBBcnJvd0Rvd25BWkljb24sIGRlZmF1bHQgYXMgQXJyb3dEb3duQXosIGRlZmF1bHQgYXMgQXJyb3dEb3duQXpJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93bkFaLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93bkF6IH0gZnJvbSAnLi9pY29ucy9hcnJvdy1kb3duLWEtei5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93RG93bldpZGVOYXJyb3csIGRlZmF1bHQgYXMgQXJyb3dEb3duV2lkZU5hcnJvd0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dEb3duV2lkZU5hcnJvdywgZGVmYXVsdCBhcyBMdWNpZGVTb3J0RGVzYywgZGVmYXVsdCBhcyBTb3J0RGVzYywgZGVmYXVsdCBhcyBTb3J0RGVzY0ljb24gfSBmcm9tICcuL2ljb25zL2Fycm93LWRvd24td2lkZS1uYXJyb3cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25aQSwgZGVmYXVsdCBhcyBBcnJvd0Rvd25aQUljb24sIGRlZmF1bHQgYXMgQXJyb3dEb3duWmEsIGRlZmF1bHQgYXMgQXJyb3dEb3duWmFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93blpBLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93blphIH0gZnJvbSAnLi9pY29ucy9hcnJvdy1kb3duLXotYS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsYXJtQ2xvY2tQbHVzLCBkZWZhdWx0IGFzIEFsYXJtQ2xvY2tQbHVzSWNvbiwgZGVmYXVsdCBhcyBBbGFybVBsdXMsIGRlZmF1bHQgYXMgQWxhcm1QbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGFybUNsb2NrUGx1cywgZGVmYXVsdCBhcyBMdWNpZGVBbGFybVBsdXMgfSBmcm9tICcuL2ljb25zL2FsYXJtLWNsb2NrLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwQVosIGRlZmF1bHQgYXMgQXJyb3dVcEFaSWNvbiwgZGVmYXVsdCBhcyBBcnJvd1VwQXosIGRlZmF1bHQgYXMgQXJyb3dVcEF6SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1VwQVosIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcEF6IH0gZnJvbSAnLi9pY29ucy9hcnJvdy11cC1hLXouanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwTmFycm93V2lkZSwgZGVmYXVsdCBhcyBBcnJvd1VwTmFycm93V2lkZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcE5hcnJvd1dpZGUsIGRlZmF1bHQgYXMgTHVjaWRlU29ydEFzYywgZGVmYXVsdCBhcyBTb3J0QXNjLCBkZWZhdWx0IGFzIFNvcnRBc2NJY29uIH0gZnJvbSAnLi9pY29ucy9hcnJvdy11cC1uYXJyb3ctd2lkZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93VXBaQSwgZGVmYXVsdCBhcyBBcnJvd1VwWkFJY29uLCBkZWZhdWx0IGFzIEFycm93VXBaYSwgZGVmYXVsdCBhcyBBcnJvd1VwWmFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93VXBaQSwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1VwWmEgfSBmcm9tICcuL2ljb25zL2Fycm93LXVwLXotYS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEF4aXMzRCwgZGVmYXVsdCBhcyBBeGlzM0RJY29uLCBkZWZhdWx0IGFzIEF4aXMzZCwgZGVmYXVsdCBhcyBBeGlzM2RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUF4aXMzRCwgZGVmYXVsdCBhcyBMdWNpZGVBeGlzM2QgfSBmcm9tICcuL2ljb25zL2F4aXMtM2QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWRnZUNoZWNrLCBkZWZhdWx0IGFzIEJhZGdlQ2hlY2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlQ2hlY2ssIGRlZmF1bHQgYXMgTHVjaWRlVmVyaWZpZWQsIGRlZmF1bHQgYXMgVmVyaWZpZWQsIGRlZmF1bHQgYXMgVmVyaWZpZWRJY29uIH0gZnJvbSAnLi9pY29ucy9iYWRnZS1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJldHdlZW5Ib3Jpem9uYWxFbmQsIGRlZmF1bHQgYXMgQmV0d2Vlbkhvcml6b25hbEVuZEljb24sIGRlZmF1bHQgYXMgQmV0d2Vlbkhvcml6b250YWxFbmQsIGRlZmF1bHQgYXMgQmV0d2Vlbkhvcml6b250YWxFbmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJldHdlZW5Ib3Jpem9uYWxFbmQsIGRlZmF1bHQgYXMgTHVjaWRlQmV0d2Vlbkhvcml6b250YWxFbmQgfSBmcm9tICcuL2ljb25zL2JldHdlZW4taG9yaXpvbnRhbC1lbmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCZXR3ZWVuSG9yaXpvbmFsU3RhcnQsIGRlZmF1bHQgYXMgQmV0d2Vlbkhvcml6b25hbFN0YXJ0SWNvbiwgZGVmYXVsdCBhcyBCZXR3ZWVuSG9yaXpvbnRhbFN0YXJ0LCBkZWZhdWx0IGFzIEJldHdlZW5Ib3Jpem9udGFsU3RhcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJldHdlZW5Ib3Jpem9uYWxTdGFydCwgZGVmYXVsdCBhcyBMdWNpZGVCZXR3ZWVuSG9yaXpvbnRhbFN0YXJ0IH0gZnJvbSAnLi9pY29ucy9iZXR3ZWVuLWhvcml6b250YWwtc3RhcnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb29rRGFzaGVkLCBkZWZhdWx0IGFzIEJvb2tEYXNoZWRJY29uLCBkZWZhdWx0IGFzIEJvb2tUZW1wbGF0ZSwgZGVmYXVsdCBhcyBCb29rVGVtcGxhdGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJvb2tEYXNoZWQsIGRlZmF1bHQgYXMgTHVjaWRlQm9va1RlbXBsYXRlIH0gZnJvbSAnLi9pY29ucy9ib29rLWRhc2hlZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJyYWNlcywgZGVmYXVsdCBhcyBCcmFjZXNJY29uLCBkZWZhdWx0IGFzIEN1cmx5QnJhY2VzLCBkZWZhdWx0IGFzIEN1cmx5QnJhY2VzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCcmFjZXMsIGRlZmF1bHQgYXMgTHVjaWRlQ3VybHlCcmFjZXMgfSBmcm9tICcuL2ljb25zL2JyYWNlcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhcHRpb25zLCBkZWZhdWx0IGFzIENhcHRpb25zSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYXB0aW9ucywgZGVmYXVsdCBhcyBMdWNpZGVTdWJ0aXRsZXMsIGRlZmF1bHQgYXMgU3VidGl0bGVzLCBkZWZhdWx0IGFzIFN1YnRpdGxlc0ljb24gfSBmcm9tICcuL2ljb25zL2NhcHRpb25zLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJlYUNoYXJ0LCBkZWZhdWx0IGFzIEFyZWFDaGFydEljb24sIGRlZmF1bHQgYXMgQ2hhcnRBcmVhLCBkZWZhdWx0IGFzIENoYXJ0QXJlYUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJlYUNoYXJ0LCBkZWZhdWx0IGFzIEx1Y2lkZUNoYXJ0QXJlYSB9IGZyb20gJy4vaWNvbnMvY2hhcnQtYXJlYS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhckNoYXJ0SG9yaXpvbnRhbEJpZywgZGVmYXVsdCBhcyBCYXJDaGFydEhvcml6b250YWxCaWdJY29uLCBkZWZhdWx0IGFzIENoYXJ0QmFyQmlnLCBkZWZhdWx0IGFzIENoYXJ0QmFyQmlnSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYXJDaGFydEhvcml6b250YWxCaWcsIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRCYXJCaWcgfSBmcm9tICcuL2ljb25zL2NoYXJ0LWJhci1iaWcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYXJDaGFydEhvcml6b250YWwsIGRlZmF1bHQgYXMgQmFyQ2hhcnRIb3Jpem9udGFsSWNvbiwgZGVmYXVsdCBhcyBDaGFydEJhciwgZGVmYXVsdCBhcyBDaGFydEJhckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFyQ2hhcnRIb3Jpem9udGFsLCBkZWZhdWx0IGFzIEx1Y2lkZUNoYXJ0QmFyIH0gZnJvbSAnLi9pY29ucy9jaGFydC1iYXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYW5kbGVzdGlja0NoYXJ0LCBkZWZhdWx0IGFzIENhbmRsZXN0aWNrQ2hhcnRJY29uLCBkZWZhdWx0IGFzIENoYXJ0Q2FuZGxlc3RpY2ssIGRlZmF1bHQgYXMgQ2hhcnRDYW5kbGVzdGlja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FuZGxlc3RpY2tDaGFydCwgZGVmYXVsdCBhcyBMdWNpZGVDaGFydENhbmRsZXN0aWNrIH0gZnJvbSAnLi9pY29ucy9jaGFydC1jYW5kbGVzdGljay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhckNoYXJ0QmlnLCBkZWZhdWx0IGFzIEJhckNoYXJ0QmlnSWNvbiwgZGVmYXVsdCBhcyBDaGFydENvbHVtbkJpZywgZGVmYXVsdCBhcyBDaGFydENvbHVtbkJpZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFyQ2hhcnRCaWcsIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRDb2x1bW5CaWcgfSBmcm9tICcuL2ljb25zL2NoYXJ0LWNvbHVtbi1iaWcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYXJDaGFydDQsIGRlZmF1bHQgYXMgQmFyQ2hhcnQ0SWNvbiwgZGVmYXVsdCBhcyBDaGFydENvbHVtbkluY3JlYXNpbmcsIGRlZmF1bHQgYXMgQ2hhcnRDb2x1bW5JbmNyZWFzaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYXJDaGFydDQsIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRDb2x1bW5JbmNyZWFzaW5nIH0gZnJvbSAnLi9pY29ucy9jaGFydC1jb2x1bW4taW5jcmVhc2luZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhckNoYXJ0MywgZGVmYXVsdCBhcyBCYXJDaGFydDNJY29uLCBkZWZhdWx0IGFzIENoYXJ0Q29sdW1uLCBkZWZhdWx0IGFzIENoYXJ0Q29sdW1uSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYXJDaGFydDMsIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRDb2x1bW4gfSBmcm9tICcuL2ljb25zL2NoYXJ0LWNvbHVtbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoYXJ0TGluZSwgZGVmYXVsdCBhcyBDaGFydExpbmVJY29uLCBkZWZhdWx0IGFzIExpbmVDaGFydCwgZGVmYXVsdCBhcyBMaW5lQ2hhcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoYXJ0TGluZSwgZGVmYXVsdCBhcyBMdWNpZGVMaW5lQ2hhcnQgfSBmcm9tICcuL2ljb25zL2NoYXJ0LWxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYXJDaGFydCwgZGVmYXVsdCBhcyBCYXJDaGFydEljb24sIGRlZmF1bHQgYXMgQ2hhcnROb0F4ZXNDb2x1bW5JbmNyZWFzaW5nLCBkZWZhdWx0IGFzIENoYXJ0Tm9BeGVzQ29sdW1uSW5jcmVhc2luZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFyQ2hhcnQsIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnROb0F4ZXNDb2x1bW5JbmNyZWFzaW5nIH0gZnJvbSAnLi9pY29ucy9jaGFydC1uby1heGVzLWNvbHVtbi1pbmNyZWFzaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFyQ2hhcnQyLCBkZWZhdWx0IGFzIEJhckNoYXJ0Mkljb24sIGRlZmF1bHQgYXMgQ2hhcnROb0F4ZXNDb2x1bW4sIGRlZmF1bHQgYXMgQ2hhcnROb0F4ZXNDb2x1bW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhckNoYXJ0MiwgZGVmYXVsdCBhcyBMdWNpZGVDaGFydE5vQXhlc0NvbHVtbiB9IGZyb20gJy4vaWNvbnMvY2hhcnQtbm8tYXhlcy1jb2x1bW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGFydE5vQXhlc0dhbnR0LCBkZWZhdWx0IGFzIENoYXJ0Tm9BeGVzR2FudHRJY29uLCBkZWZhdWx0IGFzIEdhbnR0Q2hhcnQsIGRlZmF1bHQgYXMgR2FudHRDaGFydEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnROb0F4ZXNHYW50dCwgZGVmYXVsdCBhcyBMdWNpZGVHYW50dENoYXJ0IH0gZnJvbSAnLi9pY29ucy9jaGFydC1uby1heGVzLWdhbnR0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hhcnRQaWUsIGRlZmF1bHQgYXMgQ2hhcnRQaWVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoYXJ0UGllLCBkZWZhdWx0IGFzIEx1Y2lkZVBpZUNoYXJ0LCBkZWZhdWx0IGFzIFBpZUNoYXJ0LCBkZWZhdWx0IGFzIFBpZUNoYXJ0SWNvbiB9IGZyb20gJy4vaWNvbnMvY2hhcnQtcGllLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hhcnRTY2F0dGVyLCBkZWZhdWx0IGFzIENoYXJ0U2NhdHRlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRTY2F0dGVyLCBkZWZhdWx0IGFzIEx1Y2lkZVNjYXR0ZXJDaGFydCwgZGVmYXVsdCBhcyBTY2F0dGVyQ2hhcnQsIGRlZmF1bHQgYXMgU2NhdHRlckNoYXJ0SWNvbiB9IGZyb20gJy4vaWNvbnMvY2hhcnQtc2NhdHRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsZXJ0Q2lyY2xlLCBkZWZhdWx0IGFzIEFsZXJ0Q2lyY2xlSWNvbiwgZGVmYXVsdCBhcyBDaXJjbGVBbGVydCwgZGVmYXVsdCBhcyBDaXJjbGVBbGVydEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxlcnRDaXJjbGUsIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlQWxlcnQgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1hbGVydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93RG93bkNpcmNsZSwgZGVmYXVsdCBhcyBBcnJvd0Rvd25DaXJjbGVJY29uLCBkZWZhdWx0IGFzIENpcmNsZUFycm93RG93biwgZGVmYXVsdCBhcyBDaXJjbGVBcnJvd0Rvd25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93bkNpcmNsZSwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVBcnJvd0Rvd24gfSBmcm9tICcuL2ljb25zL2NpcmNsZS1hcnJvdy1kb3duLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dMZWZ0Q2lyY2xlLCBkZWZhdWx0IGFzIEFycm93TGVmdENpcmNsZUljb24sIGRlZmF1bHQgYXMgQ2lyY2xlQXJyb3dMZWZ0LCBkZWZhdWx0IGFzIENpcmNsZUFycm93TGVmdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dMZWZ0Q2lyY2xlLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZUFycm93TGVmdCB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLWFycm93LWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25MZWZ0RnJvbUNpcmNsZSwgZGVmYXVsdCBhcyBBcnJvd0Rvd25MZWZ0RnJvbUNpcmNsZUljb24sIGRlZmF1bHQgYXMgQ2lyY2xlQXJyb3dPdXREb3duTGVmdCwgZGVmYXVsdCBhcyBDaXJjbGVBcnJvd091dERvd25MZWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0Rvd25MZWZ0RnJvbUNpcmNsZSwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVBcnJvd091dERvd25MZWZ0IH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtYXJyb3ctb3V0LWRvd24tbGVmdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93RG93blJpZ2h0RnJvbUNpcmNsZSwgZGVmYXVsdCBhcyBBcnJvd0Rvd25SaWdodEZyb21DaXJjbGVJY29uLCBkZWZhdWx0IGFzIENpcmNsZUFycm93T3V0RG93blJpZ2h0LCBkZWZhdWx0IGFzIENpcmNsZUFycm93T3V0RG93blJpZ2h0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0Rvd25SaWdodEZyb21DaXJjbGUsIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlQXJyb3dPdXREb3duUmlnaHQgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1hcnJvdy1vdXQtZG93bi1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93VXBMZWZ0RnJvbUNpcmNsZSwgZGVmYXVsdCBhcyBBcnJvd1VwTGVmdEZyb21DaXJjbGVJY29uLCBkZWZhdWx0IGFzIENpcmNsZUFycm93T3V0VXBMZWZ0LCBkZWZhdWx0IGFzIENpcmNsZUFycm93T3V0VXBMZWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1VwTGVmdEZyb21DaXJjbGUsIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlQXJyb3dPdXRVcExlZnQgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1hcnJvdy1vdXQtdXAtbGVmdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93VXBSaWdodEZyb21DaXJjbGUsIGRlZmF1bHQgYXMgQXJyb3dVcFJpZ2h0RnJvbUNpcmNsZUljb24sIGRlZmF1bHQgYXMgQ2lyY2xlQXJyb3dPdXRVcFJpZ2h0LCBkZWZhdWx0IGFzIENpcmNsZUFycm93T3V0VXBSaWdodEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcFJpZ2h0RnJvbUNpcmNsZSwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVBcnJvd091dFVwUmlnaHQgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1hcnJvdy1vdXQtdXAtcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1JpZ2h0Q2lyY2xlLCBkZWZhdWx0IGFzIEFycm93UmlnaHRDaXJjbGVJY29uLCBkZWZhdWx0IGFzIENpcmNsZUFycm93UmlnaHQsIGRlZmF1bHQgYXMgQ2lyY2xlQXJyb3dSaWdodEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dSaWdodENpcmNsZSwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVBcnJvd1JpZ2h0IH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtYXJyb3ctcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwQ2lyY2xlLCBkZWZhdWx0IGFzIEFycm93VXBDaXJjbGVJY29uLCBkZWZhdWx0IGFzIENpcmNsZUFycm93VXAsIGRlZmF1bHQgYXMgQ2lyY2xlQXJyb3dVcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcENpcmNsZSwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVBcnJvd1VwIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtYXJyb3ctdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGVja0NpcmNsZSwgZGVmYXVsdCBhcyBDaGVja0NpcmNsZUljb24sIGRlZmF1bHQgYXMgQ2lyY2xlQ2hlY2tCaWcsIGRlZmF1bHQgYXMgQ2lyY2xlQ2hlY2tCaWdJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZWNrQ2lyY2xlLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZUNoZWNrQmlnIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtY2hlY2stYmlnLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hlY2tDaXJjbGUyLCBkZWZhdWx0IGFzIENoZWNrQ2lyY2xlMkljb24sIGRlZmF1bHQgYXMgQ2lyY2xlQ2hlY2ssIGRlZmF1bHQgYXMgQ2lyY2xlQ2hlY2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZWNrQ2lyY2xlMiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVDaGVjayB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbkRvd25DaXJjbGUsIGRlZmF1bHQgYXMgQ2hldnJvbkRvd25DaXJjbGVJY29uLCBkZWZhdWx0IGFzIENpcmNsZUNoZXZyb25Eb3duLCBkZWZhdWx0IGFzIENpcmNsZUNoZXZyb25Eb3duSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uRG93bkNpcmNsZSwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVDaGV2cm9uRG93biB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLWNoZXZyb24tZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZXZyb25MZWZ0Q2lyY2xlLCBkZWZhdWx0IGFzIENoZXZyb25MZWZ0Q2lyY2xlSWNvbiwgZGVmYXVsdCBhcyBDaXJjbGVDaGV2cm9uTGVmdCwgZGVmYXVsdCBhcyBDaXJjbGVDaGV2cm9uTGVmdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hldnJvbkxlZnRDaXJjbGUsIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlQ2hldnJvbkxlZnQgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1jaGV2cm9uLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGV2cm9uUmlnaHRDaXJjbGUsIGRlZmF1bHQgYXMgQ2hldnJvblJpZ2h0Q2lyY2xlSWNvbiwgZGVmYXVsdCBhcyBDaXJjbGVDaGV2cm9uUmlnaHQsIGRlZmF1bHQgYXMgQ2lyY2xlQ2hldnJvblJpZ2h0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uUmlnaHRDaXJjbGUsIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlQ2hldnJvblJpZ2h0IH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtY2hldnJvbi1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZXZyb25VcENpcmNsZSwgZGVmYXVsdCBhcyBDaGV2cm9uVXBDaXJjbGVJY29uLCBkZWZhdWx0IGFzIENpcmNsZUNoZXZyb25VcCwgZGVmYXVsdCBhcyBDaXJjbGVDaGV2cm9uVXBJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZXZyb25VcENpcmNsZSwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVDaGV2cm9uVXAgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1jaGV2cm9uLXVwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY2xlRGl2aWRlLCBkZWZhdWx0IGFzIENpcmNsZURpdmlkZUljb24sIGRlZmF1bHQgYXMgRGl2aWRlQ2lyY2xlLCBkZWZhdWx0IGFzIERpdmlkZUNpcmNsZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlRGl2aWRlLCBkZWZhdWx0IGFzIEx1Y2lkZURpdmlkZUNpcmNsZSB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLWRpdmlkZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENpcmNsZUdhdWdlLCBkZWZhdWx0IGFzIENpcmNsZUdhdWdlSWNvbiwgZGVmYXVsdCBhcyBHYXVnZUNpcmNsZSwgZGVmYXVsdCBhcyBHYXVnZUNpcmNsZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlR2F1Z2UsIGRlZmF1bHQgYXMgTHVjaWRlR2F1Z2VDaXJjbGUgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1nYXVnZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENpcmNsZUhlbHAsIGRlZmF1bHQgYXMgQ2lyY2xlSGVscEljb24sIGRlZmF1bHQgYXMgSGVscENpcmNsZSwgZGVmYXVsdCBhcyBIZWxwQ2lyY2xlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVIZWxwLCBkZWZhdWx0IGFzIEx1Y2lkZUhlbHBDaXJjbGUgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1oZWxwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY2xlTWludXMsIGRlZmF1bHQgYXMgQ2lyY2xlTWludXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZU1pbnVzLCBkZWZhdWx0IGFzIEx1Y2lkZU1pbnVzQ2lyY2xlLCBkZWZhdWx0IGFzIE1pbnVzQ2lyY2xlLCBkZWZhdWx0IGFzIE1pbnVzQ2lyY2xlSWNvbiB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLW1pbnVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY2xlUGFya2luZ09mZiwgZGVmYXVsdCBhcyBDaXJjbGVQYXJraW5nT2ZmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVQYXJraW5nT2ZmLCBkZWZhdWx0IGFzIEx1Y2lkZVBhcmtpbmdDaXJjbGVPZmYsIGRlZmF1bHQgYXMgUGFya2luZ0NpcmNsZU9mZiwgZGVmYXVsdCBhcyBQYXJraW5nQ2lyY2xlT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLXBhcmtpbmctb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY2xlUGFya2luZywgZGVmYXVsdCBhcyBDaXJjbGVQYXJraW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVQYXJraW5nLCBkZWZhdWx0IGFzIEx1Y2lkZVBhcmtpbmdDaXJjbGUsIGRlZmF1bHQgYXMgUGFya2luZ0NpcmNsZSwgZGVmYXVsdCBhcyBQYXJraW5nQ2lyY2xlSWNvbiB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLXBhcmtpbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVQYXVzZSwgZGVmYXVsdCBhcyBDaXJjbGVQYXVzZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlUGF1c2UsIGRlZmF1bHQgYXMgTHVjaWRlUGF1c2VDaXJjbGUsIGRlZmF1bHQgYXMgUGF1c2VDaXJjbGUsIGRlZmF1bHQgYXMgUGF1c2VDaXJjbGVJY29uIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtcGF1c2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVQZXJjZW50LCBkZWZhdWx0IGFzIENpcmNsZVBlcmNlbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZVBlcmNlbnQsIGRlZmF1bHQgYXMgTHVjaWRlUGVyY2VudENpcmNsZSwgZGVmYXVsdCBhcyBQZXJjZW50Q2lyY2xlLCBkZWZhdWx0IGFzIFBlcmNlbnRDaXJjbGVJY29uIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtcGVyY2VudC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENpcmNsZVBsYXksIGRlZmF1bHQgYXMgQ2lyY2xlUGxheUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlUGxheSwgZGVmYXVsdCBhcyBMdWNpZGVQbGF5Q2lyY2xlLCBkZWZhdWx0IGFzIFBsYXlDaXJjbGUsIGRlZmF1bHQgYXMgUGxheUNpcmNsZUljb24gfSBmcm9tICcuL2ljb25zL2NpcmNsZS1wbGF5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY2xlUGx1cywgZGVmYXVsdCBhcyBDaXJjbGVQbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVQbHVzLCBkZWZhdWx0IGFzIEx1Y2lkZVBsdXNDaXJjbGUsIGRlZmF1bHQgYXMgUGx1c0NpcmNsZSwgZGVmYXVsdCBhcyBQbHVzQ2lyY2xlSWNvbiB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVQb3dlciwgZGVmYXVsdCBhcyBDaXJjbGVQb3dlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlUG93ZXIsIGRlZmF1bHQgYXMgTHVjaWRlUG93ZXJDaXJjbGUsIGRlZmF1bHQgYXMgUG93ZXJDaXJjbGUsIGRlZmF1bHQgYXMgUG93ZXJDaXJjbGVJY29uIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtcG93ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVTbGFzaDIsIGRlZmF1bHQgYXMgQ2lyY2xlU2xhc2gySWNvbiwgZGVmYXVsdCBhcyBDaXJjbGVTbGFzaGVkLCBkZWZhdWx0IGFzIENpcmNsZVNsYXNoZWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZVNsYXNoMiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVTbGFzaGVkIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtc2xhc2gtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENpcmNsZVN0b3AsIGRlZmF1bHQgYXMgQ2lyY2xlU3RvcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlU3RvcCwgZGVmYXVsdCBhcyBMdWNpZGVTdG9wQ2lyY2xlLCBkZWZhdWx0IGFzIFN0b3BDaXJjbGUsIGRlZmF1bHQgYXMgU3RvcENpcmNsZUljb24gfSBmcm9tICcuL2ljb25zL2NpcmNsZS1zdG9wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY2xlVXNlclJvdW5kLCBkZWZhdWx0IGFzIENpcmNsZVVzZXJSb3VuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlVXNlclJvdW5kLCBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJDaXJjbGUyLCBkZWZhdWx0IGFzIFVzZXJDaXJjbGUyLCBkZWZhdWx0IGFzIFVzZXJDaXJjbGUySWNvbiB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLXVzZXItcm91bmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVVc2VyLCBkZWZhdWx0IGFzIENpcmNsZVVzZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZVVzZXIsIGRlZmF1bHQgYXMgTHVjaWRlVXNlckNpcmNsZSwgZGVmYXVsdCBhcyBVc2VyQ2lyY2xlLCBkZWZhdWx0IGFzIFVzZXJDaXJjbGVJY29uIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtdXNlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENpcmNsZVgsIGRlZmF1bHQgYXMgQ2lyY2xlWEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlWCwgZGVmYXVsdCBhcyBMdWNpZGVYQ2lyY2xlLCBkZWZhdWx0IGFzIFhDaXJjbGUsIGRlZmF1bHQgYXMgWENpcmNsZUljb24gfSBmcm9tICcuL2ljb25zL2NpcmNsZS14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xpcGJvYXJkUGVuTGluZSwgZGVmYXVsdCBhcyBDbGlwYm9hcmRQZW5MaW5lSWNvbiwgZGVmYXVsdCBhcyBDbGlwYm9hcmRTaWduYXR1cmUsIGRlZmF1bHQgYXMgQ2xpcGJvYXJkU2lnbmF0dXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbGlwYm9hcmRQZW5MaW5lLCBkZWZhdWx0IGFzIEx1Y2lkZUNsaXBib2FyZFNpZ25hdHVyZSB9IGZyb20gJy4vaWNvbnMvY2xpcGJvYXJkLXBlbi1saW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xpcGJvYXJkRWRpdCwgZGVmYXVsdCBhcyBDbGlwYm9hcmRFZGl0SWNvbiwgZGVmYXVsdCBhcyBDbGlwYm9hcmRQZW4sIGRlZmF1bHQgYXMgQ2xpcGJvYXJkUGVuSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbGlwYm9hcmRFZGl0LCBkZWZhdWx0IGFzIEx1Y2lkZUNsaXBib2FyZFBlbiB9IGZyb20gJy4vaWNvbnMvY2xpcGJvYXJkLXBlbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsb3VkRG93bmxvYWQsIGRlZmF1bHQgYXMgQ2xvdWREb3dubG9hZEljb24sIGRlZmF1bHQgYXMgRG93bmxvYWRDbG91ZCwgZGVmYXVsdCBhcyBEb3dubG9hZENsb3VkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG91ZERvd25sb2FkLCBkZWZhdWx0IGFzIEx1Y2lkZURvd25sb2FkQ2xvdWQgfSBmcm9tICcuL2ljb25zL2Nsb3VkLWRvd25sb2FkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvdWRVcGxvYWQsIGRlZmF1bHQgYXMgQ2xvdWRVcGxvYWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb3VkVXBsb2FkLCBkZWZhdWx0IGFzIEx1Y2lkZVVwbG9hZENsb3VkLCBkZWZhdWx0IGFzIFVwbG9hZENsb3VkLCBkZWZhdWx0IGFzIFVwbG9hZENsb3VkSWNvbiB9IGZyb20gJy4vaWNvbnMvY2xvdWQtdXBsb2FkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29kZTIsIGRlZmF1bHQgYXMgQ29kZTJJY29uLCBkZWZhdWx0IGFzIENvZGVYbWwsIGRlZmF1bHQgYXMgQ29kZVhtbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29kZTIsIGRlZmF1bHQgYXMgTHVjaWRlQ29kZVhtbCB9IGZyb20gJy4vaWNvbnMvY29kZS14bWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2x1bW5zLCBkZWZhdWx0IGFzIENvbHVtbnMyLCBkZWZhdWx0IGFzIENvbHVtbnMySWNvbiwgZGVmYXVsdCBhcyBDb2x1bW5zSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDb2x1bW5zLCBkZWZhdWx0IGFzIEx1Y2lkZUNvbHVtbnMyIH0gZnJvbSAnLi9pY29ucy9jb2x1bW5zLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2x1bW5zMywgZGVmYXVsdCBhcyBDb2x1bW5zM0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29sdW1uczMsIGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxzTGVmdFJpZ2h0LCBkZWZhdWx0IGFzIFBhbmVsc0xlZnRSaWdodCwgZGVmYXVsdCBhcyBQYW5lbHNMZWZ0UmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy9jb2x1bW5zLTMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb250YWN0MiwgZGVmYXVsdCBhcyBDb250YWN0Mkljb24sIGRlZmF1bHQgYXMgQ29udGFjdFJvdW5kLCBkZWZhdWx0IGFzIENvbnRhY3RSb3VuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29udGFjdDIsIGRlZmF1bHQgYXMgTHVjaWRlQ29udGFjdFJvdW5kIH0gZnJvbSAnLi9pY29ucy9jb250YWN0LXJvdW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGlhbW9uZFBlcmNlbnQsIGRlZmF1bHQgYXMgRGlhbW9uZFBlcmNlbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURpYW1vbmRQZXJjZW50LCBkZWZhdWx0IGFzIEx1Y2lkZVBlcmNlbnREaWFtb25kLCBkZWZhdWx0IGFzIFBlcmNlbnREaWFtb25kLCBkZWZhdWx0IGFzIFBlcmNlbnREaWFtb25kSWNvbiB9IGZyb20gJy4vaWNvbnMvZGlhbW9uZC1wZXJjZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRWFydGgsIGRlZmF1bHQgYXMgRWFydGhJY29uLCBkZWZhdWx0IGFzIEdsb2JlMiwgZGVmYXVsdCBhcyBHbG9iZTJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUVhcnRoLCBkZWZhdWx0IGFzIEx1Y2lkZUdsb2JlMiB9IGZyb20gJy4vaWNvbnMvZWFydGguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFbGxpcHNpc1ZlcnRpY2FsLCBkZWZhdWx0IGFzIEVsbGlwc2lzVmVydGljYWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUVsbGlwc2lzVmVydGljYWwsIGRlZmF1bHQgYXMgTHVjaWRlTW9yZVZlcnRpY2FsLCBkZWZhdWx0IGFzIE1vcmVWZXJ0aWNhbCwgZGVmYXVsdCBhcyBNb3JlVmVydGljYWxJY29uIH0gZnJvbSAnLi9pY29ucy9lbGxpcHNpcy12ZXJ0aWNhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEVsbGlwc2lzLCBkZWZhdWx0IGFzIEVsbGlwc2lzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVFbGxpcHNpcywgZGVmYXVsdCBhcyBMdWNpZGVNb3JlSG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBNb3JlSG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBNb3JlSG9yaXpvbnRhbEljb24gfSBmcm9tICcuL2ljb25zL2VsbGlwc2lzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUF4aXMzRCwgZGVmYXVsdCBhcyBGaWxlQXhpczNESWNvbiwgZGVmYXVsdCBhcyBGaWxlQXhpczNkLCBkZWZhdWx0IGFzIEZpbGVBeGlzM2RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVBeGlzM0QsIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUF4aXMzZCB9IGZyb20gJy4vaWNvbnMvZmlsZS1heGlzLTNkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUJhckNoYXJ0LCBkZWZhdWx0IGFzIEZpbGVCYXJDaGFydEljb24sIGRlZmF1bHQgYXMgRmlsZUNoYXJ0Q29sdW1uSW5jcmVhc2luZywgZGVmYXVsdCBhcyBGaWxlQ2hhcnRDb2x1bW5JbmNyZWFzaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlQmFyQ2hhcnQsIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUNoYXJ0Q29sdW1uSW5jcmVhc2luZyB9IGZyb20gJy4vaWNvbnMvZmlsZS1jaGFydC1jb2x1bW4taW5jcmVhc2luZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVCYXJDaGFydDIsIGRlZmF1bHQgYXMgRmlsZUJhckNoYXJ0Mkljb24sIGRlZmF1bHQgYXMgRmlsZUNoYXJ0Q29sdW1uLCBkZWZhdWx0IGFzIEZpbGVDaGFydENvbHVtbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUJhckNoYXJ0MiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlQ2hhcnRDb2x1bW4gfSBmcm9tICcuL2ljb25zL2ZpbGUtY2hhcnQtY29sdW1uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUNoYXJ0TGluZSwgZGVmYXVsdCBhcyBGaWxlQ2hhcnRMaW5lSWNvbiwgZGVmYXVsdCBhcyBGaWxlTGluZUNoYXJ0LCBkZWZhdWx0IGFzIEZpbGVMaW5lQ2hhcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVDaGFydExpbmUsIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUxpbmVDaGFydCB9IGZyb20gJy4vaWNvbnMvZmlsZS1jaGFydC1saW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUNoYXJ0UGllLCBkZWZhdWx0IGFzIEZpbGVDaGFydFBpZUljb24sIGRlZmF1bHQgYXMgRmlsZVBpZUNoYXJ0LCBkZWZhdWx0IGFzIEZpbGVQaWVDaGFydEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUNoYXJ0UGllLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVQaWVDaGFydCB9IGZyb20gJy4vaWNvbnMvZmlsZS1jaGFydC1waWUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlQ29nLCBkZWZhdWx0IGFzIEZpbGVDb2cyLCBkZWZhdWx0IGFzIEZpbGVDb2cySWNvbiwgZGVmYXVsdCBhcyBGaWxlQ29nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlQ29nLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVDb2cyIH0gZnJvbSAnLi9pY29ucy9maWxlLWNvZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVQZW5MaW5lLCBkZWZhdWx0IGFzIEZpbGVQZW5MaW5lSWNvbiwgZGVmYXVsdCBhcyBGaWxlU2lnbmF0dXJlLCBkZWZhdWx0IGFzIEZpbGVTaWduYXR1cmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVQZW5MaW5lLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVTaWduYXR1cmUgfSBmcm9tICcuL2ljb25zL2ZpbGUtcGVuLWxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlRWRpdCwgZGVmYXVsdCBhcyBGaWxlRWRpdEljb24sIGRlZmF1bHQgYXMgRmlsZVBlbiwgZGVmYXVsdCBhcyBGaWxlUGVuSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlRWRpdCwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlUGVuIH0gZnJvbSAnLi9pY29ucy9maWxlLXBlbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlckNvZywgZGVmYXVsdCBhcyBGb2xkZXJDb2cyLCBkZWZhdWx0IGFzIEZvbGRlckNvZzJJY29uLCBkZWZhdWx0IGFzIEZvbGRlckNvZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyQ29nLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlckNvZzIgfSBmcm9tICcuL2ljb25zL2ZvbGRlci1jb2cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJFZGl0LCBkZWZhdWx0IGFzIEZvbGRlckVkaXRJY29uLCBkZWZhdWx0IGFzIEZvbGRlclBlbiwgZGVmYXVsdCBhcyBGb2xkZXJQZW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlckVkaXQsIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyUGVuIH0gZnJvbSAnLi9pY29ucy9mb2xkZXItcGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2l0Q29tbWl0LCBkZWZhdWx0IGFzIEdpdENvbW1pdEhvcml6b250YWwsIGRlZmF1bHQgYXMgR2l0Q29tbWl0SG9yaXpvbnRhbEljb24sIGRlZmF1bHQgYXMgR2l0Q29tbWl0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHaXRDb21taXQsIGRlZmF1bHQgYXMgTHVjaWRlR2l0Q29tbWl0SG9yaXpvbnRhbCB9IGZyb20gJy4vaWNvbnMvZ2l0LWNvbW1pdC1ob3Jpem9udGFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR3JpZDJYMlBsdXMsIGRlZmF1bHQgYXMgR3JpZDJYMlBsdXNJY29uLCBkZWZhdWx0IGFzIEdyaWQyeDJQbHVzLCBkZWZhdWx0IGFzIEdyaWQyeDJQbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHcmlkMlgyUGx1cywgZGVmYXVsdCBhcyBMdWNpZGVHcmlkMngyUGx1cyB9IGZyb20gJy4vaWNvbnMvZ3JpZC0yeDItcGx1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyaWQyWDIsIGRlZmF1bHQgYXMgR3JpZDJYMkljb24sIGRlZmF1bHQgYXMgR3JpZDJ4MiwgZGVmYXVsdCBhcyBHcmlkMngySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHcmlkMlgyLCBkZWZhdWx0IGFzIEx1Y2lkZUdyaWQyeDIgfSBmcm9tICcuL2ljb25zL2dyaWQtMngyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR3JpZCwgZGVmYXVsdCBhcyBHcmlkM1gzLCBkZWZhdWx0IGFzIEdyaWQzWDNJY29uLCBkZWZhdWx0IGFzIEdyaWQzeDMsIGRlZmF1bHQgYXMgR3JpZDN4M0ljb24sIGRlZmF1bHQgYXMgR3JpZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR3JpZCwgZGVmYXVsdCBhcyBMdWNpZGVHcmlkM1gzLCBkZWZhdWx0IGFzIEx1Y2lkZUdyaWQzeDMgfSBmcm9tICcuL2ljb25zL2dyaWQtM3gzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGFuZEhlbHBpbmcsIGRlZmF1bHQgYXMgSGFuZEhlbHBpbmdJY29uLCBkZWZhdWx0IGFzIEhlbHBpbmdIYW5kLCBkZWZhdWx0IGFzIEhlbHBpbmdIYW5kSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIYW5kSGVscGluZywgZGVmYXVsdCBhcyBMdWNpZGVIZWxwaW5nSGFuZCB9IGZyb20gJy4vaWNvbnMvaGFuZC1oZWxwaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSG9tZSwgZGVmYXVsdCBhcyBIb21lSWNvbiwgZGVmYXVsdCBhcyBIb3VzZSwgZGVmYXVsdCBhcyBIb3VzZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSG9tZSwgZGVmYXVsdCBhcyBMdWNpZGVIb3VzZSB9IGZyb20gJy4vaWNvbnMvaG91c2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJY2VDcmVhbTIsIGRlZmF1bHQgYXMgSWNlQ3JlYW0ySWNvbiwgZGVmYXVsdCBhcyBJY2VDcmVhbUJvd2wsIGRlZmF1bHQgYXMgSWNlQ3JlYW1Cb3dsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJY2VDcmVhbTIsIGRlZmF1bHQgYXMgTHVjaWRlSWNlQ3JlYW1Cb3dsIH0gZnJvbSAnLi9pY29ucy9pY2UtY3JlYW0tYm93bC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEljZUNyZWFtLCBkZWZhdWx0IGFzIEljZUNyZWFtQ29uZSwgZGVmYXVsdCBhcyBJY2VDcmVhbUNvbmVJY29uLCBkZWZhdWx0IGFzIEljZUNyZWFtSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJY2VDcmVhbSwgZGVmYXVsdCBhcyBMdWNpZGVJY2VDcmVhbUNvbmUgfSBmcm9tICcuL2ljb25zL2ljZS1jcmVhbS1jb25lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSW5kZW50RGVjcmVhc2UsIGRlZmF1bHQgYXMgSW5kZW50RGVjcmVhc2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUluZGVudERlY3JlYXNlLCBkZWZhdWx0IGFzIEx1Y2lkZU91dGRlbnQsIGRlZmF1bHQgYXMgT3V0ZGVudCwgZGVmYXVsdCBhcyBPdXRkZW50SWNvbiB9IGZyb20gJy4vaWNvbnMvaW5kZW50LWRlY3JlYXNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSW5kZW50LCBkZWZhdWx0IGFzIEluZGVudEljb24sIGRlZmF1bHQgYXMgSW5kZW50SW5jcmVhc2UsIGRlZmF1bHQgYXMgSW5kZW50SW5jcmVhc2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUluZGVudCwgZGVmYXVsdCBhcyBMdWNpZGVJbmRlbnRJbmNyZWFzZSB9IGZyb20gJy4vaWNvbnMvaW5kZW50LWluY3JlYXNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGFwdG9wMiwgZGVmYXVsdCBhcyBMYXB0b3AySWNvbiwgZGVmYXVsdCBhcyBMYXB0b3BNaW5pbWFsLCBkZWZhdWx0IGFzIExhcHRvcE1pbmltYWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhcHRvcDIsIGRlZmF1bHQgYXMgTHVjaWRlTGFwdG9wTWluaW1hbCB9IGZyb20gJy4vaWNvbnMvbGFwdG9wLW1pbmltYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXllcnMsIGRlZmF1bHQgYXMgTGF5ZXJzMywgZGVmYXVsdCBhcyBMYXllcnMzSWNvbiwgZGVmYXVsdCBhcyBMYXllcnNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxheWVycywgZGVmYXVsdCBhcyBMdWNpZGVMYXllcnMzIH0gZnJvbSAnLi9pY29ucy9sYXllcnMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2FkZXIyLCBkZWZhdWx0IGFzIExvYWRlcjJJY29uLCBkZWZhdWx0IGFzIExvYWRlckNpcmNsZSwgZGVmYXVsdCBhcyBMb2FkZXJDaXJjbGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxvYWRlcjIsIGRlZmF1bHQgYXMgTHVjaWRlTG9hZGVyQ2lyY2xlIH0gZnJvbSAnLi9pY29ucy9sb2FkZXItY2lyY2xlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9ja0tleWhvbGVPcGVuLCBkZWZhdWx0IGFzIExvY2tLZXlob2xlT3Blbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlTG9ja0tleWhvbGVPcGVuLCBkZWZhdWx0IGFzIEx1Y2lkZVVubG9ja0tleWhvbGUsIGRlZmF1bHQgYXMgVW5sb2NrS2V5aG9sZSwgZGVmYXVsdCBhcyBVbmxvY2tLZXlob2xlSWNvbiB9IGZyb20gJy4vaWNvbnMvbG9jay1rZXlob2xlLW9wZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2NrT3BlbiwgZGVmYXVsdCBhcyBMb2NrT3Blbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlTG9ja09wZW4sIGRlZmF1bHQgYXMgTHVjaWRlVW5sb2NrLCBkZWZhdWx0IGFzIFVubG9jaywgZGVmYXVsdCBhcyBVbmxvY2tJY29uIH0gZnJvbSAnLi9pY29ucy9sb2NrLW9wZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNaWMyLCBkZWZhdWx0IGFzIEx1Y2lkZU1pY1ZvY2FsLCBkZWZhdWx0IGFzIE1pYzIsIGRlZmF1bHQgYXMgTWljMkljb24sIGRlZmF1bHQgYXMgTWljVm9jYWwsIGRlZmF1bHQgYXMgTWljVm9jYWxJY29uIH0gZnJvbSAnLi9pY29ucy9taWMtdm9jYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3ZlM0QsIGRlZmF1bHQgYXMgTHVjaWRlTW92ZTNkLCBkZWZhdWx0IGFzIE1vdmUzRCwgZGVmYXVsdCBhcyBNb3ZlM0RJY29uLCBkZWZhdWx0IGFzIE1vdmUzZCwgZGVmYXVsdCBhcyBNb3ZlM2RJY29uIH0gZnJvbSAnLi9pY29ucy9tb3ZlLTNkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxlcnRPY3RhZ29uLCBkZWZhdWx0IGFzIEFsZXJ0T2N0YWdvbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxlcnRPY3RhZ29uLCBkZWZhdWx0IGFzIEx1Y2lkZU9jdGFnb25BbGVydCwgZGVmYXVsdCBhcyBPY3RhZ29uQWxlcnQsIGRlZmF1bHQgYXMgT2N0YWdvbkFsZXJ0SWNvbiB9IGZyb20gJy4vaWNvbnMvb2N0YWdvbi1hbGVydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU9jdGFnb25QYXVzZSwgZGVmYXVsdCBhcyBMdWNpZGVQYXVzZU9jdGFnb24sIGRlZmF1bHQgYXMgT2N0YWdvblBhdXNlLCBkZWZhdWx0IGFzIE9jdGFnb25QYXVzZUljb24sIGRlZmF1bHQgYXMgUGF1c2VPY3RhZ29uLCBkZWZhdWx0IGFzIFBhdXNlT2N0YWdvbkljb24gfSBmcm9tICcuL2ljb25zL29jdGFnb24tcGF1c2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVPY3RhZ29uWCwgZGVmYXVsdCBhcyBMdWNpZGVYT2N0YWdvbiwgZGVmYXVsdCBhcyBPY3RhZ29uWCwgZGVmYXVsdCBhcyBPY3RhZ29uWEljb24sIGRlZmF1bHQgYXMgWE9jdGFnb24sIGRlZmF1bHQgYXMgWE9jdGFnb25JY29uIH0gZnJvbSAnLi9pY29ucy9vY3RhZ29uLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYWludGJydXNoMiwgZGVmYXVsdCBhcyBMdWNpZGVQYWludGJydXNoVmVydGljYWwsIGRlZmF1bHQgYXMgUGFpbnRicnVzaDIsIGRlZmF1bHQgYXMgUGFpbnRicnVzaDJJY29uLCBkZWZhdWx0IGFzIFBhaW50YnJ1c2hWZXJ0aWNhbCwgZGVmYXVsdCBhcyBQYWludGJydXNoVmVydGljYWxJY29uIH0gZnJvbSAnLi9pY29ucy9wYWludGJydXNoLXZlcnRpY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxCb3R0b21EYXNoZWQsIGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxCb3R0b21JbmFjdGl2ZSwgZGVmYXVsdCBhcyBQYW5lbEJvdHRvbURhc2hlZCwgZGVmYXVsdCBhcyBQYW5lbEJvdHRvbURhc2hlZEljb24sIGRlZmF1bHQgYXMgUGFuZWxCb3R0b21JbmFjdGl2ZSwgZGVmYXVsdCBhcyBQYW5lbEJvdHRvbUluYWN0aXZlSWNvbiB9IGZyb20gJy4vaWNvbnMvcGFuZWwtYm90dG9tLWRhc2hlZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhbmVsTGVmdENsb3NlLCBkZWZhdWx0IGFzIEx1Y2lkZVNpZGViYXJDbG9zZSwgZGVmYXVsdCBhcyBQYW5lbExlZnRDbG9zZSwgZGVmYXVsdCBhcyBQYW5lbExlZnRDbG9zZUljb24sIGRlZmF1bHQgYXMgU2lkZWJhckNsb3NlLCBkZWZhdWx0IGFzIFNpZGViYXJDbG9zZUljb24gfSBmcm9tICcuL2ljb25zL3BhbmVsLWxlZnQtY2xvc2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYW5lbExlZnREYXNoZWQsIGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxMZWZ0SW5hY3RpdmUsIGRlZmF1bHQgYXMgUGFuZWxMZWZ0RGFzaGVkLCBkZWZhdWx0IGFzIFBhbmVsTGVmdERhc2hlZEljb24sIGRlZmF1bHQgYXMgUGFuZWxMZWZ0SW5hY3RpdmUsIGRlZmF1bHQgYXMgUGFuZWxMZWZ0SW5hY3RpdmVJY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbC1sZWZ0LWRhc2hlZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhbmVsTGVmdE9wZW4sIGRlZmF1bHQgYXMgTHVjaWRlU2lkZWJhck9wZW4sIGRlZmF1bHQgYXMgUGFuZWxMZWZ0T3BlbiwgZGVmYXVsdCBhcyBQYW5lbExlZnRPcGVuSWNvbiwgZGVmYXVsdCBhcyBTaWRlYmFyT3BlbiwgZGVmYXVsdCBhcyBTaWRlYmFyT3Blbkljb24gfSBmcm9tICcuL2ljb25zL3BhbmVsLWxlZnQtb3Blbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhbmVsTGVmdCwgZGVmYXVsdCBhcyBMdWNpZGVTaWRlYmFyLCBkZWZhdWx0IGFzIFBhbmVsTGVmdCwgZGVmYXVsdCBhcyBQYW5lbExlZnRJY29uLCBkZWZhdWx0IGFzIFNpZGViYXIsIGRlZmF1bHQgYXMgU2lkZWJhckljb24gfSBmcm9tICcuL2ljb25zL3BhbmVsLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYW5lbFJpZ2h0RGFzaGVkLCBkZWZhdWx0IGFzIEx1Y2lkZVBhbmVsUmlnaHRJbmFjdGl2ZSwgZGVmYXVsdCBhcyBQYW5lbFJpZ2h0RGFzaGVkLCBkZWZhdWx0IGFzIFBhbmVsUmlnaHREYXNoZWRJY29uLCBkZWZhdWx0IGFzIFBhbmVsUmlnaHRJbmFjdGl2ZSwgZGVmYXVsdCBhcyBQYW5lbFJpZ2h0SW5hY3RpdmVJY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbC1yaWdodC1kYXNoZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYW5lbFRvcERhc2hlZCwgZGVmYXVsdCBhcyBMdWNpZGVQYW5lbFRvcEluYWN0aXZlLCBkZWZhdWx0IGFzIFBhbmVsVG9wRGFzaGVkLCBkZWZhdWx0IGFzIFBhbmVsVG9wRGFzaGVkSWNvbiwgZGVmYXVsdCBhcyBQYW5lbFRvcEluYWN0aXZlLCBkZWZhdWx0IGFzIFBhbmVsVG9wSW5hY3RpdmVJY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbC10b3AtZGFzaGVkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGF5b3V0LCBkZWZhdWx0IGFzIExheW91dEljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGF5b3V0LCBkZWZhdWx0IGFzIEx1Y2lkZVBhbmVsc1RvcExlZnQsIGRlZmF1bHQgYXMgUGFuZWxzVG9wTGVmdCwgZGVmYXVsdCBhcyBQYW5lbHNUb3BMZWZ0SWNvbiB9IGZyb20gJy4vaWNvbnMvcGFuZWxzLXRvcC1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRWRpdDMsIGRlZmF1bHQgYXMgRWRpdDNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUVkaXQzLCBkZWZhdWx0IGFzIEx1Y2lkZVBlbkxpbmUsIGRlZmF1bHQgYXMgUGVuTGluZSwgZGVmYXVsdCBhcyBQZW5MaW5lSWNvbiB9IGZyb20gJy4vaWNvbnMvcGVuLWxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFZGl0MiwgZGVmYXVsdCBhcyBFZGl0Mkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRWRpdDIsIGRlZmF1bHQgYXMgTHVjaWRlUGVuLCBkZWZhdWx0IGFzIFBlbiwgZGVmYXVsdCBhcyBQZW5JY29uIH0gZnJvbSAnLi9pY29ucy9wZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQbHVnWmFwLCBkZWZhdWx0IGFzIEx1Y2lkZVBsdWdaYXAyLCBkZWZhdWx0IGFzIFBsdWdaYXAsIGRlZmF1bHQgYXMgUGx1Z1phcDIsIGRlZmF1bHQgYXMgUGx1Z1phcDJJY29uLCBkZWZhdWx0IGFzIFBsdWdaYXBJY29uIH0gZnJvbSAnLi9pY29ucy9wbHVnLXphcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvcm1JbnB1dCwgZGVmYXVsdCBhcyBGb3JtSW5wdXRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvcm1JbnB1dCwgZGVmYXVsdCBhcyBMdWNpZGVSZWN0YW5nbGVFbGxpcHNpcywgZGVmYXVsdCBhcyBSZWN0YW5nbGVFbGxpcHNpcywgZGVmYXVsdCBhcyBSZWN0YW5nbGVFbGxpcHNpc0ljb24gfSBmcm9tICcuL2ljb25zL3JlY3RhbmdsZS1lbGxpcHNpcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJvdGF0ZTNELCBkZWZhdWx0IGFzIEx1Y2lkZVJvdGF0ZTNkLCBkZWZhdWx0IGFzIFJvdGF0ZTNELCBkZWZhdWx0IGFzIFJvdGF0ZTNESWNvbiwgZGVmYXVsdCBhcyBSb3RhdGUzZCwgZGVmYXVsdCBhcyBSb3RhdGUzZEljb24gfSBmcm9tICcuL2ljb25zL3JvdGF0ZS0zZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJvd3MsIGRlZmF1bHQgYXMgTHVjaWRlUm93czIsIGRlZmF1bHQgYXMgUm93cywgZGVmYXVsdCBhcyBSb3dzMiwgZGVmYXVsdCBhcyBSb3dzMkljb24sIGRlZmF1bHQgYXMgUm93c0ljb24gfSBmcm9tICcuL2ljb25zL3Jvd3MtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhbmVsc1RvcEJvdHRvbSwgZGVmYXVsdCBhcyBMdWNpZGVSb3dzMywgZGVmYXVsdCBhcyBQYW5lbHNUb3BCb3R0b20sIGRlZmF1bHQgYXMgUGFuZWxzVG9wQm90dG9tSWNvbiwgZGVmYXVsdCBhcyBSb3dzMywgZGVmYXVsdCBhcyBSb3dzM0ljb24gfSBmcm9tICcuL2ljb25zL3Jvd3MtMy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNjYWxlM0QsIGRlZmF1bHQgYXMgTHVjaWRlU2NhbGUzZCwgZGVmYXVsdCBhcyBTY2FsZTNELCBkZWZhdWx0IGFzIFNjYWxlM0RJY29uLCBkZWZhdWx0IGFzIFNjYWxlM2QsIGRlZmF1bHQgYXMgU2NhbGUzZEljb24gfSBmcm9tICcuL2ljb25zL3NjYWxlLTNkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2VuZEhvcml6b25hbCwgZGVmYXVsdCBhcyBMdWNpZGVTZW5kSG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBTZW5kSG9yaXpvbmFsLCBkZWZhdWx0IGFzIFNlbmRIb3Jpem9uYWxJY29uLCBkZWZhdWx0IGFzIFNlbmRIb3Jpem9udGFsLCBkZWZhdWx0IGFzIFNlbmRIb3Jpem9udGFsSWNvbiB9IGZyb20gJy4vaWNvbnMvc2VuZC1ob3Jpem9udGFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2hpZWxkQ2xvc2UsIGRlZmF1bHQgYXMgTHVjaWRlU2hpZWxkWCwgZGVmYXVsdCBhcyBTaGllbGRDbG9zZSwgZGVmYXVsdCBhcyBTaGllbGRDbG9zZUljb24sIGRlZmF1bHQgYXMgU2hpZWxkWCwgZGVmYXVsdCBhcyBTaGllbGRYSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hpZWxkLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTbGlkZXJzLCBkZWZhdWx0IGFzIEx1Y2lkZVNsaWRlcnNWZXJ0aWNhbCwgZGVmYXVsdCBhcyBTbGlkZXJzLCBkZWZhdWx0IGFzIFNsaWRlcnNJY29uLCBkZWZhdWx0IGFzIFNsaWRlcnNWZXJ0aWNhbCwgZGVmYXVsdCBhcyBTbGlkZXJzVmVydGljYWxJY29uIH0gZnJvbSAnLi9pY29ucy9zbGlkZXJzLXZlcnRpY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3BhcmtsZXMsIGRlZmF1bHQgYXMgTHVjaWRlU3RhcnMsIGRlZmF1bHQgYXMgU3BhcmtsZXMsIGRlZmF1bHQgYXMgU3BhcmtsZXNJY29uLCBkZWZhdWx0IGFzIFN0YXJzLCBkZWZhdWx0IGFzIFN0YXJzSWNvbiB9IGZyb20gJy4vaWNvbnMvc3BhcmtsZXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBY3Rpdml0eVNxdWFyZSwgZGVmYXVsdCBhcyBBY3Rpdml0eVNxdWFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWN0aXZpdHlTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQWN0aXZpdHksIGRlZmF1bHQgYXMgU3F1YXJlQWN0aXZpdHksIGRlZmF1bHQgYXMgU3F1YXJlQWN0aXZpdHlJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYWN0aXZpdHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25MZWZ0U3F1YXJlLCBkZWZhdWx0IGFzIEFycm93RG93bkxlZnRTcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93bkxlZnRTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQXJyb3dEb3duTGVmdCwgZGVmYXVsdCBhcyBTcXVhcmVBcnJvd0Rvd25MZWZ0LCBkZWZhdWx0IGFzIFNxdWFyZUFycm93RG93bkxlZnRJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYXJyb3ctZG93bi1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dEb3duUmlnaHRTcXVhcmUsIGRlZmF1bHQgYXMgQXJyb3dEb3duUmlnaHRTcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93blJpZ2h0U3F1YXJlLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZUFycm93RG93blJpZ2h0LCBkZWZhdWx0IGFzIFNxdWFyZUFycm93RG93blJpZ2h0LCBkZWZhdWx0IGFzIFNxdWFyZUFycm93RG93blJpZ2h0SWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWFycm93LWRvd24tcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25TcXVhcmUsIGRlZmF1bHQgYXMgQXJyb3dEb3duU3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0Rvd25TcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQXJyb3dEb3duLCBkZWZhdWx0IGFzIFNxdWFyZUFycm93RG93biwgZGVmYXVsdCBhcyBTcXVhcmVBcnJvd0Rvd25JY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYXJyb3ctZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93TGVmdFNxdWFyZSwgZGVmYXVsdCBhcyBBcnJvd0xlZnRTcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93TGVmdFNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVBcnJvd0xlZnQsIGRlZmF1bHQgYXMgU3F1YXJlQXJyb3dMZWZ0LCBkZWZhdWx0IGFzIFNxdWFyZUFycm93TGVmdEljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1hcnJvdy1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dEb3duTGVmdEZyb21TcXVhcmUsIGRlZmF1bHQgYXMgQXJyb3dEb3duTGVmdEZyb21TcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93bkxlZnRGcm9tU3F1YXJlLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZUFycm93T3V0RG93bkxlZnQsIGRlZmF1bHQgYXMgU3F1YXJlQXJyb3dPdXREb3duTGVmdCwgZGVmYXVsdCBhcyBTcXVhcmVBcnJvd091dERvd25MZWZ0SWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWFycm93LW91dC1kb3duLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25SaWdodEZyb21TcXVhcmUsIGRlZmF1bHQgYXMgQXJyb3dEb3duUmlnaHRGcm9tU3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0Rvd25SaWdodEZyb21TcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQXJyb3dPdXREb3duUmlnaHQsIGRlZmF1bHQgYXMgU3F1YXJlQXJyb3dPdXREb3duUmlnaHQsIGRlZmF1bHQgYXMgU3F1YXJlQXJyb3dPdXREb3duUmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYXJyb3ctb3V0LWRvd24tcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwTGVmdEZyb21TcXVhcmUsIGRlZmF1bHQgYXMgQXJyb3dVcExlZnRGcm9tU3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1VwTGVmdEZyb21TcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQXJyb3dPdXRVcExlZnQsIGRlZmF1bHQgYXMgU3F1YXJlQXJyb3dPdXRVcExlZnQsIGRlZmF1bHQgYXMgU3F1YXJlQXJyb3dPdXRVcExlZnRJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYXJyb3ctb3V0LXVwLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwUmlnaHRGcm9tU3F1YXJlLCBkZWZhdWx0IGFzIEFycm93VXBSaWdodEZyb21TcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93VXBSaWdodEZyb21TcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQXJyb3dPdXRVcFJpZ2h0LCBkZWZhdWx0IGFzIFNxdWFyZUFycm93T3V0VXBSaWdodCwgZGVmYXVsdCBhcyBTcXVhcmVBcnJvd091dFVwUmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYXJyb3ctb3V0LXVwLXJpZ2h0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dSaWdodFNxdWFyZSwgZGVmYXVsdCBhcyBBcnJvd1JpZ2h0U3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1JpZ2h0U3F1YXJlLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZUFycm93UmlnaHQsIGRlZmF1bHQgYXMgU3F1YXJlQXJyb3dSaWdodCwgZGVmYXVsdCBhcyBTcXVhcmVBcnJvd1JpZ2h0SWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWFycm93LXJpZ2h0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dVcExlZnRTcXVhcmUsIGRlZmF1bHQgYXMgQXJyb3dVcExlZnRTcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93VXBMZWZ0U3F1YXJlLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZUFycm93VXBMZWZ0LCBkZWZhdWx0IGFzIFNxdWFyZUFycm93VXBMZWZ0LCBkZWZhdWx0IGFzIFNxdWFyZUFycm93VXBMZWZ0SWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWFycm93LXVwLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwUmlnaHRTcXVhcmUsIGRlZmF1bHQgYXMgQXJyb3dVcFJpZ2h0U3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1VwUmlnaHRTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQXJyb3dVcFJpZ2h0LCBkZWZhdWx0IGFzIFNxdWFyZUFycm93VXBSaWdodCwgZGVmYXVsdCBhcyBTcXVhcmVBcnJvd1VwUmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYXJyb3ctdXAtcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwU3F1YXJlLCBkZWZhdWx0IGFzIEFycm93VXBTcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93VXBTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQXJyb3dVcCwgZGVmYXVsdCBhcyBTcXVhcmVBcnJvd1VwLCBkZWZhdWx0IGFzIFNxdWFyZUFycm93VXBJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYXJyb3ctdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBc3Rlcmlza1NxdWFyZSwgZGVmYXVsdCBhcyBBc3Rlcmlza1NxdWFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXN0ZXJpc2tTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQXN0ZXJpc2ssIGRlZmF1bHQgYXMgU3F1YXJlQXN0ZXJpc2ssIGRlZmF1bHQgYXMgU3F1YXJlQXN0ZXJpc2tJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYXN0ZXJpc2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2lzc29yc1NxdWFyZURhc2hlZEJvdHRvbSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVCb3R0b21EYXNoZWRTY2lzc29ycywgZGVmYXVsdCBhcyBTY2lzc29yc1NxdWFyZURhc2hlZEJvdHRvbSwgZGVmYXVsdCBhcyBTY2lzc29yc1NxdWFyZURhc2hlZEJvdHRvbUljb24sIGRlZmF1bHQgYXMgU3F1YXJlQm90dG9tRGFzaGVkU2Npc3NvcnMsIGRlZmF1bHQgYXMgU3F1YXJlQm90dG9tRGFzaGVkU2Npc3NvcnNJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtYm90dG9tLWRhc2hlZC1zY2lzc29ycy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdhbnR0Q2hhcnRTcXVhcmUsIGRlZmF1bHQgYXMgR2FudHRDaGFydFNxdWFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2FudHRDaGFydFNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVDaGFydEdhbnR0LCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZUdhbnR0Q2hhcnQsIGRlZmF1bHQgYXMgU3F1YXJlQ2hhcnRHYW50dCwgZGVmYXVsdCBhcyBTcXVhcmVDaGFydEdhbnR0SWNvbiwgZGVmYXVsdCBhcyBTcXVhcmVHYW50dENoYXJ0LCBkZWZhdWx0IGFzIFNxdWFyZUdhbnR0Q2hhcnRJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtY2hhcnQtZ2FudHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGVja1NxdWFyZSwgZGVmYXVsdCBhcyBDaGVja1NxdWFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hlY2tTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQ2hlY2tCaWcsIGRlZmF1bHQgYXMgU3F1YXJlQ2hlY2tCaWcsIGRlZmF1bHQgYXMgU3F1YXJlQ2hlY2tCaWdJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtY2hlY2stYmlnLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hlY2tTcXVhcmUyLCBkZWZhdWx0IGFzIENoZWNrU3F1YXJlMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hlY2tTcXVhcmUyLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZUNoZWNrLCBkZWZhdWx0IGFzIFNxdWFyZUNoZWNrLCBkZWZhdWx0IGFzIFNxdWFyZUNoZWNrSWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbkRvd25TcXVhcmUsIGRlZmF1bHQgYXMgQ2hldnJvbkRvd25TcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZXZyb25Eb3duU3F1YXJlLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZUNoZXZyb25Eb3duLCBkZWZhdWx0IGFzIFNxdWFyZUNoZXZyb25Eb3duLCBkZWZhdWx0IGFzIFNxdWFyZUNoZXZyb25Eb3duSWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWNoZXZyb24tZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZXZyb25MZWZ0U3F1YXJlLCBkZWZhdWx0IGFzIENoZXZyb25MZWZ0U3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uTGVmdFNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVDaGV2cm9uTGVmdCwgZGVmYXVsdCBhcyBTcXVhcmVDaGV2cm9uTGVmdCwgZGVmYXVsdCBhcyBTcXVhcmVDaGV2cm9uTGVmdEljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1jaGV2cm9uLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGV2cm9uUmlnaHRTcXVhcmUsIGRlZmF1bHQgYXMgQ2hldnJvblJpZ2h0U3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uUmlnaHRTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQ2hldnJvblJpZ2h0LCBkZWZhdWx0IGFzIFNxdWFyZUNoZXZyb25SaWdodCwgZGVmYXVsdCBhcyBTcXVhcmVDaGV2cm9uUmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtY2hldnJvbi1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvZGVTcXVhcmUsIGRlZmF1bHQgYXMgQ29kZVNxdWFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29kZVNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVDb2RlLCBkZWZhdWx0IGFzIFNxdWFyZUNvZGUsIGRlZmF1bHQgYXMgU3F1YXJlQ29kZUljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1jb2RlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2FuYmFuU3F1YXJlRGFzaGVkLCBkZWZhdWx0IGFzIEthbmJhblNxdWFyZURhc2hlZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlS2FuYmFuU3F1YXJlRGFzaGVkLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZURhc2hlZEthbmJhbiwgZGVmYXVsdCBhcyBTcXVhcmVEYXNoZWRLYW5iYW4sIGRlZmF1bHQgYXMgU3F1YXJlRGFzaGVkS2FuYmFuSWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWRhc2hlZC1rYW5iYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGV2cm9uVXBTcXVhcmUsIGRlZmF1bHQgYXMgQ2hldnJvblVwU3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uVXBTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlQ2hldnJvblVwLCBkZWZhdWx0IGFzIFNxdWFyZUNoZXZyb25VcCwgZGVmYXVsdCBhcyBTcXVhcmVDaGV2cm9uVXBJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtY2hldnJvbi11cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vdXNlUG9pbnRlclNxdWFyZURhc2hlZCwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVEYXNoZWRNb3VzZVBvaW50ZXIsIGRlZmF1bHQgYXMgTW91c2VQb2ludGVyU3F1YXJlRGFzaGVkLCBkZWZhdWx0IGFzIE1vdXNlUG9pbnRlclNxdWFyZURhc2hlZEljb24sIGRlZmF1bHQgYXMgU3F1YXJlRGFzaGVkTW91c2VQb2ludGVyLCBkZWZhdWx0IGFzIFNxdWFyZURhc2hlZE1vdXNlUG9pbnRlckljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1kYXNoZWQtbW91c2UtcG9pbnRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJveFNlbGVjdCwgZGVmYXVsdCBhcyBCb3hTZWxlY3RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJveFNlbGVjdCwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVEYXNoZWQsIGRlZmF1bHQgYXMgU3F1YXJlRGFzaGVkLCBkZWZhdWx0IGFzIFNxdWFyZURhc2hlZEljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1kYXNoZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEaXZpZGVTcXVhcmUsIGRlZmF1bHQgYXMgRGl2aWRlU3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEaXZpZGVTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlRGl2aWRlLCBkZWZhdWx0IGFzIFNxdWFyZURpdmlkZSwgZGVmYXVsdCBhcyBTcXVhcmVEaXZpZGVJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtZGl2aWRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRG90U3F1YXJlLCBkZWZhdWx0IGFzIERvdFNxdWFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG90U3F1YXJlLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZURvdCwgZGVmYXVsdCBhcyBTcXVhcmVEb3QsIGRlZmF1bHQgYXMgU3F1YXJlRG90SWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWRvdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZ1bmN0aW9uU3F1YXJlLCBkZWZhdWx0IGFzIEZ1bmN0aW9uU3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGdW5jdGlvblNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVGdW5jdGlvbiwgZGVmYXVsdCBhcyBTcXVhcmVGdW5jdGlvbiwgZGVmYXVsdCBhcyBTcXVhcmVGdW5jdGlvbkljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1mdW5jdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEVxdWFsU3F1YXJlLCBkZWZhdWx0IGFzIEVxdWFsU3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVFcXVhbFNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVFcXVhbCwgZGVmYXVsdCBhcyBTcXVhcmVFcXVhbCwgZGVmYXVsdCBhcyBTcXVhcmVFcXVhbEljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1lcXVhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEthbmJhblNxdWFyZSwgZGVmYXVsdCBhcyBLYW5iYW5TcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUthbmJhblNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVLYW5iYW4sIGRlZmF1bHQgYXMgU3F1YXJlS2FuYmFuLCBkZWZhdWx0IGFzIFNxdWFyZUthbmJhbkljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1rYW5iYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaWJyYXJ5U3F1YXJlLCBkZWZhdWx0IGFzIExpYnJhcnlTcXVhcmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpYnJhcnlTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlTGlicmFyeSwgZGVmYXVsdCBhcyBTcXVhcmVMaWJyYXJ5LCBkZWZhdWx0IGFzIFNxdWFyZUxpYnJhcnlJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtbGlicmFyeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1TcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlTSwgZGVmYXVsdCBhcyBNU3F1YXJlLCBkZWZhdWx0IGFzIE1TcXVhcmVJY29uLCBkZWZhdWx0IGFzIFNxdWFyZU0sIGRlZmF1bHQgYXMgU3F1YXJlTUljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVudVNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVNZW51LCBkZWZhdWx0IGFzIE1lbnVTcXVhcmUsIGRlZmF1bHQgYXMgTWVudVNxdWFyZUljb24sIGRlZmF1bHQgYXMgU3F1YXJlTWVudSwgZGVmYXVsdCBhcyBTcXVhcmVNZW51SWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLW1lbnUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNaW51c1NxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVNaW51cywgZGVmYXVsdCBhcyBNaW51c1NxdWFyZSwgZGVmYXVsdCBhcyBNaW51c1NxdWFyZUljb24sIGRlZmF1bHQgYXMgU3F1YXJlTWludXMsIGRlZmF1bHQgYXMgU3F1YXJlTWludXNJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtbWludXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnNwZWN0LCBkZWZhdWx0IGFzIEluc3BlY3RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUluc3BlY3QsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlTW91c2VQb2ludGVyLCBkZWZhdWx0IGFzIFNxdWFyZU1vdXNlUG9pbnRlciwgZGVmYXVsdCBhcyBTcXVhcmVNb3VzZVBvaW50ZXJJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtbW91c2UtcG9pbnRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhcmtpbmdTcXVhcmVPZmYsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlUGFya2luZ09mZiwgZGVmYXVsdCBhcyBQYXJraW5nU3F1YXJlT2ZmLCBkZWZhdWx0IGFzIFBhcmtpbmdTcXVhcmVPZmZJY29uLCBkZWZhdWx0IGFzIFNxdWFyZVBhcmtpbmdPZmYsIGRlZmF1bHQgYXMgU3F1YXJlUGFya2luZ09mZkljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1wYXJraW5nLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhcmtpbmdTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlUGFya2luZywgZGVmYXVsdCBhcyBQYXJraW5nU3F1YXJlLCBkZWZhdWx0IGFzIFBhcmtpbmdTcXVhcmVJY29uLCBkZWZhdWx0IGFzIFNxdWFyZVBhcmtpbmcsIGRlZmF1bHQgYXMgU3F1YXJlUGFya2luZ0ljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1wYXJraW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRWRpdCwgZGVmYXVsdCBhcyBFZGl0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVFZGl0LCBkZWZhdWx0IGFzIEx1Y2lkZVBlbkJveCwgZGVmYXVsdCBhcyBMdWNpZGVQZW5TcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlUGVuLCBkZWZhdWx0IGFzIFBlbkJveCwgZGVmYXVsdCBhcyBQZW5Cb3hJY29uLCBkZWZhdWx0IGFzIFBlblNxdWFyZSwgZGVmYXVsdCBhcyBQZW5TcXVhcmVJY29uLCBkZWZhdWx0IGFzIFNxdWFyZVBlbiwgZGVmYXVsdCBhcyBTcXVhcmVQZW5JY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtcGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGVyY2VudFNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVQZXJjZW50LCBkZWZhdWx0IGFzIFBlcmNlbnRTcXVhcmUsIGRlZmF1bHQgYXMgUGVyY2VudFNxdWFyZUljb24sIGRlZmF1bHQgYXMgU3F1YXJlUGVyY2VudCwgZGVmYXVsdCBhcyBTcXVhcmVQZXJjZW50SWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLXBlcmNlbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaWxjcm93U3F1YXJlLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZVBpbGNyb3csIGRlZmF1bHQgYXMgUGlsY3Jvd1NxdWFyZSwgZGVmYXVsdCBhcyBQaWxjcm93U3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBTcXVhcmVQaWxjcm93LCBkZWZhdWx0IGFzIFNxdWFyZVBpbGNyb3dJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtcGlsY3Jvdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBpU3F1YXJlLCBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZVBpLCBkZWZhdWx0IGFzIFBpU3F1YXJlLCBkZWZhdWx0IGFzIFBpU3F1YXJlSWNvbiwgZGVmYXVsdCBhcyBTcXVhcmVQaSwgZGVmYXVsdCBhcyBTcXVhcmVQaUljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1waS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBsYXlTcXVhcmUsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlUGxheSwgZGVmYXVsdCBhcyBQbGF5U3F1YXJlLCBkZWZhdWx0IGFzIFBsYXlTcXVhcmVJY29uLCBkZWZhdWx0IGFzIFNxdWFyZVBsYXksIGRlZmF1bHQgYXMgU3F1YXJlUGxheUljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1wbGF5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGx1c1NxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVQbHVzLCBkZWZhdWx0IGFzIFBsdXNTcXVhcmUsIGRlZmF1bHQgYXMgUGx1c1NxdWFyZUljb24sIGRlZmF1bHQgYXMgU3F1YXJlUGx1cywgZGVmYXVsdCBhcyBTcXVhcmVQbHVzSWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQb3dlclNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVQb3dlciwgZGVmYXVsdCBhcyBQb3dlclNxdWFyZSwgZGVmYXVsdCBhcyBQb3dlclNxdWFyZUljb24sIGRlZmF1bHQgYXMgU3F1YXJlUG93ZXIsIGRlZmF1bHQgYXMgU3F1YXJlUG93ZXJJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtcG93ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2lzc29yc1NxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVTY2lzc29ycywgZGVmYXVsdCBhcyBTY2lzc29yc1NxdWFyZSwgZGVmYXVsdCBhcyBTY2lzc29yc1NxdWFyZUljb24sIGRlZmF1bHQgYXMgU3F1YXJlU2Npc3NvcnMsIGRlZmF1bHQgYXMgU3F1YXJlU2Npc3NvcnNJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtc2Npc3NvcnMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaWdtYVNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVTaWdtYSwgZGVmYXVsdCBhcyBTaWdtYVNxdWFyZSwgZGVmYXVsdCBhcyBTaWdtYVNxdWFyZUljb24sIGRlZmF1bHQgYXMgU3F1YXJlU2lnbWEsIGRlZmF1bHQgYXMgU3F1YXJlU2lnbWFJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtc2lnbWEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTbGFzaFNxdWFyZSwgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVTbGFzaCwgZGVmYXVsdCBhcyBTbGFzaFNxdWFyZSwgZGVmYXVsdCBhcyBTbGFzaFNxdWFyZUljb24sIGRlZmF1bHQgYXMgU3F1YXJlU2xhc2gsIGRlZmF1bHQgYXMgU3F1YXJlU2xhc2hJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtc2xhc2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcGxpdFNxdWFyZUhvcml6b250YWwsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlU3BsaXRIb3Jpem9udGFsLCBkZWZhdWx0IGFzIFNwbGl0U3F1YXJlSG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBTcGxpdFNxdWFyZUhvcml6b250YWxJY29uLCBkZWZhdWx0IGFzIFNxdWFyZVNwbGl0SG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBTcXVhcmVTcGxpdEhvcml6b250YWxJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtc3BsaXQtaG9yaXpvbnRhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNwbGl0U3F1YXJlVmVydGljYWwsIGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlU3BsaXRWZXJ0aWNhbCwgZGVmYXVsdCBhcyBTcGxpdFNxdWFyZVZlcnRpY2FsLCBkZWZhdWx0IGFzIFNwbGl0U3F1YXJlVmVydGljYWxJY29uLCBkZWZhdWx0IGFzIFNxdWFyZVNwbGl0VmVydGljYWwsIGRlZmF1bHQgYXMgU3F1YXJlU3BsaXRWZXJ0aWNhbEljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1zcGxpdC12ZXJ0aWNhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZVRlcm1pbmFsLCBkZWZhdWx0IGFzIEx1Y2lkZVRlcm1pbmFsU3F1YXJlLCBkZWZhdWx0IGFzIFNxdWFyZVRlcm1pbmFsLCBkZWZhdWx0IGFzIFNxdWFyZVRlcm1pbmFsSWNvbiwgZGVmYXVsdCBhcyBUZXJtaW5hbFNxdWFyZSwgZGVmYXVsdCBhcyBUZXJtaW5hbFNxdWFyZUljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS10ZXJtaW5hbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZVVzZXJSb3VuZCwgZGVmYXVsdCBhcyBMdWNpZGVVc2VyU3F1YXJlMiwgZGVmYXVsdCBhcyBTcXVhcmVVc2VyUm91bmQsIGRlZmF1bHQgYXMgU3F1YXJlVXNlclJvdW5kSWNvbiwgZGVmYXVsdCBhcyBVc2VyU3F1YXJlMiwgZGVmYXVsdCBhcyBVc2VyU3F1YXJlMkljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS11c2VyLXJvdW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlVXNlciwgZGVmYXVsdCBhcyBMdWNpZGVVc2VyU3F1YXJlLCBkZWZhdWx0IGFzIFNxdWFyZVVzZXIsIGRlZmF1bHQgYXMgU3F1YXJlVXNlckljb24sIGRlZmF1bHQgYXMgVXNlclNxdWFyZSwgZGVmYXVsdCBhcyBVc2VyU3F1YXJlSWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLXVzZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVYLCBkZWZhdWx0IGFzIEx1Y2lkZVhTcXVhcmUsIGRlZmF1bHQgYXMgU3F1YXJlWCwgZGVmYXVsdCBhcyBTcXVhcmVYSWNvbiwgZGVmYXVsdCBhcyBYU3F1YXJlLCBkZWZhdWx0IGFzIFhTcXVhcmVJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUteC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRlc3RUdWJlMiwgZGVmYXVsdCBhcyBMdWNpZGVUZXN0VHViZURpYWdvbmFsLCBkZWZhdWx0IGFzIFRlc3RUdWJlMiwgZGVmYXVsdCBhcyBUZXN0VHViZTJJY29uLCBkZWZhdWx0IGFzIFRlc3RUdWJlRGlhZ29uYWwsIGRlZmF1bHQgYXMgVGVzdFR1YmVEaWFnb25hbEljb24gfSBmcm9tICcuL2ljb25zL3Rlc3QtdHViZS1kaWFnb25hbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRyYWluLCBkZWZhdWx0IGFzIEx1Y2lkZVRyYW1Gcm9udCwgZGVmYXVsdCBhcyBUcmFpbiwgZGVmYXVsdCBhcyBUcmFpbkljb24sIGRlZmF1bHQgYXMgVHJhbUZyb250LCBkZWZhdWx0IGFzIFRyYW1Gcm9udEljb24gfSBmcm9tICcuL2ljb25zL3RyYW0tZnJvbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUZXh0U2VsZWN0LCBkZWZhdWx0IGFzIEx1Y2lkZVRleHRTZWxlY3Rpb24sIGRlZmF1bHQgYXMgVGV4dFNlbGVjdCwgZGVmYXVsdCBhcyBUZXh0U2VsZWN0SWNvbiwgZGVmYXVsdCBhcyBUZXh0U2VsZWN0aW9uLCBkZWZhdWx0IGFzIFRleHRTZWxlY3Rpb25JY29uIH0gZnJvbSAnLi9pY29ucy90ZXh0LXNlbGVjdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhbG10cmVlLCBkZWZhdWx0IGFzIEx1Y2lkZVRyZWVQYWxtLCBkZWZhdWx0IGFzIFBhbG10cmVlLCBkZWZhdWx0IGFzIFBhbG10cmVlSWNvbiwgZGVmYXVsdCBhcyBUcmVlUGFsbSwgZGVmYXVsdCBhcyBUcmVlUGFsbUljb24gfSBmcm9tICcuL2ljb25zL3RyZWUtcGFsbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsZXJ0VHJpYW5nbGUsIGRlZmF1bHQgYXMgQWxlcnRUcmlhbmdsZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxlcnRUcmlhbmdsZSwgZGVmYXVsdCBhcyBMdWNpZGVUcmlhbmdsZUFsZXJ0LCBkZWZhdWx0IGFzIFRyaWFuZ2xlQWxlcnQsIGRlZmF1bHQgYXMgVHJpYW5nbGVBbGVydEljb24gfSBmcm9tICcuL2ljb25zL3RyaWFuZ2xlLWFsZXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHYyLCBkZWZhdWx0IGFzIEx1Y2lkZVR2TWluaW1hbCwgZGVmYXVsdCBhcyBUdjIsIGRlZmF1bHQgYXMgVHYySWNvbiwgZGVmYXVsdCBhcyBUdk1pbmltYWwsIGRlZmF1bHQgYXMgVHZNaW5pbWFsSWNvbiB9IGZyb20gJy4vaWNvbnMvdHYtbWluaW1hbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNjaG9vbDIsIGRlZmF1bHQgYXMgTHVjaWRlVW5pdmVyc2l0eSwgZGVmYXVsdCBhcyBTY2hvb2wyLCBkZWZhdWx0IGFzIFNjaG9vbDJJY29uLCBkZWZhdWx0IGFzIFVuaXZlcnNpdHksIGRlZmF1bHQgYXMgVW5pdmVyc2l0eUljb24gfSBmcm9tICcuL2ljb25zL3VuaXZlcnNpdHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVc2VyQ2hlY2syLCBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJSb3VuZENoZWNrLCBkZWZhdWx0IGFzIFVzZXJDaGVjazIsIGRlZmF1bHQgYXMgVXNlckNoZWNrMkljb24sIGRlZmF1bHQgYXMgVXNlclJvdW5kQ2hlY2ssIGRlZmF1bHQgYXMgVXNlclJvdW5kQ2hlY2tJY29uIH0gZnJvbSAnLi9pY29ucy91c2VyLXJvdW5kLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVXNlckNvZzIsIGRlZmF1bHQgYXMgTHVjaWRlVXNlclJvdW5kQ29nLCBkZWZhdWx0IGFzIFVzZXJDb2cyLCBkZWZhdWx0IGFzIFVzZXJDb2cySWNvbiwgZGVmYXVsdCBhcyBVc2VyUm91bmRDb2csIGRlZmF1bHQgYXMgVXNlclJvdW5kQ29nSWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlci1yb3VuZC1jb2cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVc2VyTWludXMyLCBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJSb3VuZE1pbnVzLCBkZWZhdWx0IGFzIFVzZXJNaW51czIsIGRlZmF1bHQgYXMgVXNlck1pbnVzMkljb24sIGRlZmF1bHQgYXMgVXNlclJvdW5kTWludXMsIGRlZmF1bHQgYXMgVXNlclJvdW5kTWludXNJY29uIH0gZnJvbSAnLi9pY29ucy91c2VyLXJvdW5kLW1pbnVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVXNlclJvdW5kWCwgZGVmYXVsdCBhcyBMdWNpZGVVc2VyWDIsIGRlZmF1bHQgYXMgVXNlclJvdW5kWCwgZGVmYXVsdCBhcyBVc2VyUm91bmRYSWNvbiwgZGVmYXVsdCBhcyBVc2VyWDIsIGRlZmF1bHQgYXMgVXNlclgySWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlci1yb3VuZC14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVXNlclBsdXMyLCBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJSb3VuZFBsdXMsIGRlZmF1bHQgYXMgVXNlclBsdXMyLCBkZWZhdWx0IGFzIFVzZXJQbHVzMkljb24sIGRlZmF1bHQgYXMgVXNlclJvdW5kUGx1cywgZGVmYXVsdCBhcyBVc2VyUm91bmRQbHVzSWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlci1yb3VuZC1wbHVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVXNlcjIsIGRlZmF1bHQgYXMgTHVjaWRlVXNlclJvdW5kLCBkZWZhdWx0IGFzIFVzZXIyLCBkZWZhdWx0IGFzIFVzZXIySWNvbiwgZGVmYXVsdCBhcyBVc2VyUm91bmQsIGRlZmF1bHQgYXMgVXNlclJvdW5kSWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlci1yb3VuZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJzMiwgZGVmYXVsdCBhcyBMdWNpZGVVc2Vyc1JvdW5kLCBkZWZhdWx0IGFzIFVzZXJzMiwgZGVmYXVsdCBhcyBVc2VyczJJY29uLCBkZWZhdWx0IGFzIFVzZXJzUm91bmQsIGRlZmF1bHQgYXMgVXNlcnNSb3VuZEljb24gfSBmcm9tICcuL2ljb25zL3VzZXJzLXJvdW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9ya0tuaWZlQ3Jvc3NlZCwgZGVmYXVsdCBhcyBGb3JrS25pZmVDcm9zc2VkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb3JrS25pZmVDcm9zc2VkLCBkZWZhdWx0IGFzIEx1Y2lkZVV0ZW5zaWxzQ3Jvc3NlZCwgZGVmYXVsdCBhcyBVdGVuc2lsc0Nyb3NzZWQsIGRlZmF1bHQgYXMgVXRlbnNpbHNDcm9zc2VkSWNvbiB9IGZyb20gJy4vaWNvbnMvdXRlbnNpbHMtY3Jvc3NlZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvcmtLbmlmZSwgZGVmYXVsdCBhcyBGb3JrS25pZmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvcmtLbmlmZSwgZGVmYXVsdCBhcyBMdWNpZGVVdGVuc2lscywgZGVmYXVsdCBhcyBVdGVuc2lscywgZGVmYXVsdCBhcyBVdGVuc2lsc0ljb24gfSBmcm9tICcuL2ljb25zL3V0ZW5zaWxzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2FsbGV0MiwgZGVmYXVsdCBhcyBMdWNpZGVXYWxsZXRNaW5pbWFsLCBkZWZhdWx0IGFzIFdhbGxldDIsIGRlZmF1bHQgYXMgV2FsbGV0Mkljb24sIGRlZmF1bHQgYXMgV2FsbGV0TWluaW1hbCwgZGVmYXVsdCBhcyBXYWxsZXRNaW5pbWFsSWNvbiB9IGZyb20gJy4vaWNvbnMvd2FsbGV0LW1pbmltYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXYW5kMiwgZGVmYXVsdCBhcyBMdWNpZGVXYW5kU3BhcmtsZXMsIGRlZmF1bHQgYXMgV2FuZDIsIGRlZmF1bHQgYXMgV2FuZDJJY29uLCBkZWZhdWx0IGFzIFdhbmRTcGFya2xlcywgZGVmYXVsdCBhcyBXYW5kU3BhcmtsZXNJY29uIH0gZnJvbSAnLi9pY29ucy93YW5kLXNwYXJrbGVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQUFycm93RG93biwgZGVmYXVsdCBhcyBBQXJyb3dEb3duSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBQXJyb3dEb3duIH0gZnJvbSAnLi9pY29ucy9hLWFycm93LWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBQXJyb3dVcCwgZGVmYXVsdCBhcyBBQXJyb3dVcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQUFycm93VXAgfSBmcm9tICcuL2ljb25zL2EtYXJyb3ctdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBTGFyZ2VTbWFsbCwgZGVmYXVsdCBhcyBBTGFyZ2VTbWFsbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQUxhcmdlU21hbGwgfSBmcm9tICcuL2ljb25zL2EtbGFyZ2Utc21hbGwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBY2Nlc3NpYmlsaXR5LCBkZWZhdWx0IGFzIEFjY2Vzc2liaWxpdHlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFjY2Vzc2liaWxpdHkgfSBmcm9tICcuL2ljb25zL2FjY2Vzc2liaWxpdHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBY3Rpdml0eSwgZGVmYXVsdCBhcyBBY3Rpdml0eUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWN0aXZpdHkgfSBmcm9tICcuL2ljb25zL2FjdGl2aXR5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWlyVmVudCwgZGVmYXVsdCBhcyBBaXJWZW50SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBaXJWZW50IH0gZnJvbSAnLi9pY29ucy9haXItdmVudC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFpcnBsYXksIGRlZmF1bHQgYXMgQWlycGxheUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWlycGxheSB9IGZyb20gJy4vaWNvbnMvYWlycGxheS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsYXJtQ2xvY2tPZmYsIGRlZmF1bHQgYXMgQWxhcm1DbG9ja09mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxhcm1DbG9ja09mZiB9IGZyb20gJy4vaWNvbnMvYWxhcm0tY2xvY2stb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxhcm1DbG9jaywgZGVmYXVsdCBhcyBBbGFybUNsb2NrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGFybUNsb2NrIH0gZnJvbSAnLi9pY29ucy9hbGFybS1jbG9jay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsYXJtU21va2UsIGRlZmF1bHQgYXMgQWxhcm1TbW9rZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxhcm1TbW9rZSB9IGZyb20gJy4vaWNvbnMvYWxhcm0tc21va2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGJ1bSwgZGVmYXVsdCBhcyBBbGJ1bUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxidW0gfSBmcm9tICcuL2ljb25zL2FsYnVtLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25DZW50ZXJIb3Jpem9udGFsLCBkZWZhdWx0IGFzIEFsaWduQ2VudGVySG9yaXpvbnRhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25DZW50ZXJIb3Jpem9udGFsIH0gZnJvbSAnLi9pY29ucy9hbGlnbi1jZW50ZXItaG9yaXpvbnRhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduQ2VudGVyVmVydGljYWwsIGRlZmF1bHQgYXMgQWxpZ25DZW50ZXJWZXJ0aWNhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25DZW50ZXJWZXJ0aWNhbCB9IGZyb20gJy4vaWNvbnMvYWxpZ24tY2VudGVyLXZlcnRpY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25DZW50ZXIsIGRlZmF1bHQgYXMgQWxpZ25DZW50ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduQ2VudGVyIH0gZnJvbSAnLi9pY29ucy9hbGlnbi1jZW50ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGlnbkVuZEhvcml6b250YWwsIGRlZmF1bHQgYXMgQWxpZ25FbmRIb3Jpem9udGFsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGlnbkVuZEhvcml6b250YWwgfSBmcm9tICcuL2ljb25zL2FsaWduLWVuZC1ob3Jpem9udGFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25FbmRWZXJ0aWNhbCwgZGVmYXVsdCBhcyBBbGlnbkVuZFZlcnRpY2FsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGlnbkVuZFZlcnRpY2FsIH0gZnJvbSAnLi9pY29ucy9hbGlnbi1lbmQtdmVydGljYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGlnbkhvcml6b250YWxEaXN0cmlidXRlQ2VudGVyLCBkZWZhdWx0IGFzIEFsaWduSG9yaXpvbnRhbERpc3RyaWJ1dGVDZW50ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduSG9yaXpvbnRhbERpc3RyaWJ1dGVDZW50ZXIgfSBmcm9tICcuL2ljb25zL2FsaWduLWhvcml6b250YWwtZGlzdHJpYnV0ZS1jZW50ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGlnbkhvcml6b250YWxEaXN0cmlidXRlRW5kLCBkZWZhdWx0IGFzIEFsaWduSG9yaXpvbnRhbERpc3RyaWJ1dGVFbmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduSG9yaXpvbnRhbERpc3RyaWJ1dGVFbmQgfSBmcm9tICcuL2ljb25zL2FsaWduLWhvcml6b250YWwtZGlzdHJpYnV0ZS1lbmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGlnbkhvcml6b250YWxEaXN0cmlidXRlU3RhcnQsIGRlZmF1bHQgYXMgQWxpZ25Ib3Jpem9udGFsRGlzdHJpYnV0ZVN0YXJ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGlnbkhvcml6b250YWxEaXN0cmlidXRlU3RhcnQgfSBmcm9tICcuL2ljb25zL2FsaWduLWhvcml6b250YWwtZGlzdHJpYnV0ZS1zdGFydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduSG9yaXpvbnRhbEp1c3RpZnlDZW50ZXIsIGRlZmF1bHQgYXMgQWxpZ25Ib3Jpem9udGFsSnVzdGlmeUNlbnRlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25Ib3Jpem9udGFsSnVzdGlmeUNlbnRlciB9IGZyb20gJy4vaWNvbnMvYWxpZ24taG9yaXpvbnRhbC1qdXN0aWZ5LWNlbnRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduSG9yaXpvbnRhbEp1c3RpZnlFbmQsIGRlZmF1bHQgYXMgQWxpZ25Ib3Jpem9udGFsSnVzdGlmeUVuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25Ib3Jpem9udGFsSnVzdGlmeUVuZCB9IGZyb20gJy4vaWNvbnMvYWxpZ24taG9yaXpvbnRhbC1qdXN0aWZ5LWVuZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduSG9yaXpvbnRhbEp1c3RpZnlTdGFydCwgZGVmYXVsdCBhcyBBbGlnbkhvcml6b250YWxKdXN0aWZ5U3RhcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduSG9yaXpvbnRhbEp1c3RpZnlTdGFydCB9IGZyb20gJy4vaWNvbnMvYWxpZ24taG9yaXpvbnRhbC1qdXN0aWZ5LXN0YXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25Ib3Jpem9udGFsU3BhY2VBcm91bmQsIGRlZmF1bHQgYXMgQWxpZ25Ib3Jpem9udGFsU3BhY2VBcm91bmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduSG9yaXpvbnRhbFNwYWNlQXJvdW5kIH0gZnJvbSAnLi9pY29ucy9hbGlnbi1ob3Jpem9udGFsLXNwYWNlLWFyb3VuZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduSG9yaXpvbnRhbFNwYWNlQmV0d2VlbiwgZGVmYXVsdCBhcyBBbGlnbkhvcml6b250YWxTcGFjZUJldHdlZW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduSG9yaXpvbnRhbFNwYWNlQmV0d2VlbiB9IGZyb20gJy4vaWNvbnMvYWxpZ24taG9yaXpvbnRhbC1zcGFjZS1iZXR3ZWVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25KdXN0aWZ5LCBkZWZhdWx0IGFzIEFsaWduSnVzdGlmeUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25KdXN0aWZ5IH0gZnJvbSAnLi9pY29ucy9hbGlnbi1qdXN0aWZ5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25MZWZ0LCBkZWZhdWx0IGFzIEFsaWduTGVmdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25MZWZ0IH0gZnJvbSAnLi9pY29ucy9hbGlnbi1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25SaWdodCwgZGVmYXVsdCBhcyBBbGlnblJpZ2h0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGlnblJpZ2h0IH0gZnJvbSAnLi9pY29ucy9hbGlnbi1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduU3RhcnRIb3Jpem9udGFsLCBkZWZhdWx0IGFzIEFsaWduU3RhcnRIb3Jpem9udGFsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGlnblN0YXJ0SG9yaXpvbnRhbCB9IGZyb20gJy4vaWNvbnMvYWxpZ24tc3RhcnQtaG9yaXpvbnRhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduU3RhcnRWZXJ0aWNhbCwgZGVmYXVsdCBhcyBBbGlnblN0YXJ0VmVydGljYWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduU3RhcnRWZXJ0aWNhbCB9IGZyb20gJy4vaWNvbnMvYWxpZ24tc3RhcnQtdmVydGljYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGlnblZlcnRpY2FsRGlzdHJpYnV0ZUNlbnRlciwgZGVmYXVsdCBhcyBBbGlnblZlcnRpY2FsRGlzdHJpYnV0ZUNlbnRlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25WZXJ0aWNhbERpc3RyaWJ1dGVDZW50ZXIgfSBmcm9tICcuL2ljb25zL2FsaWduLXZlcnRpY2FsLWRpc3RyaWJ1dGUtY2VudGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25WZXJ0aWNhbERpc3RyaWJ1dGVFbmQsIGRlZmF1bHQgYXMgQWxpZ25WZXJ0aWNhbERpc3RyaWJ1dGVFbmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduVmVydGljYWxEaXN0cmlidXRlRW5kIH0gZnJvbSAnLi9pY29ucy9hbGlnbi12ZXJ0aWNhbC1kaXN0cmlidXRlLWVuZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduVmVydGljYWxEaXN0cmlidXRlU3RhcnQsIGRlZmF1bHQgYXMgQWxpZ25WZXJ0aWNhbERpc3RyaWJ1dGVTdGFydEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25WZXJ0aWNhbERpc3RyaWJ1dGVTdGFydCB9IGZyb20gJy4vaWNvbnMvYWxpZ24tdmVydGljYWwtZGlzdHJpYnV0ZS1zdGFydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFsaWduVmVydGljYWxKdXN0aWZ5Q2VudGVyLCBkZWZhdWx0IGFzIEFsaWduVmVydGljYWxKdXN0aWZ5Q2VudGVySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGlnblZlcnRpY2FsSnVzdGlmeUNlbnRlciB9IGZyb20gJy4vaWNvbnMvYWxpZ24tdmVydGljYWwtanVzdGlmeS1jZW50ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGlnblZlcnRpY2FsSnVzdGlmeUVuZCwgZGVmYXVsdCBhcyBBbGlnblZlcnRpY2FsSnVzdGlmeUVuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25WZXJ0aWNhbEp1c3RpZnlFbmQgfSBmcm9tICcuL2ljb25zL2FsaWduLXZlcnRpY2FsLWp1c3RpZnktZW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25WZXJ0aWNhbEp1c3RpZnlTdGFydCwgZGVmYXVsdCBhcyBBbGlnblZlcnRpY2FsSnVzdGlmeVN0YXJ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbGlnblZlcnRpY2FsSnVzdGlmeVN0YXJ0IH0gZnJvbSAnLi9pY29ucy9hbGlnbi12ZXJ0aWNhbC1qdXN0aWZ5LXN0YXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQWxpZ25WZXJ0aWNhbFNwYWNlQXJvdW5kLCBkZWZhdWx0IGFzIEFsaWduVmVydGljYWxTcGFjZUFyb3VuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQWxpZ25WZXJ0aWNhbFNwYWNlQXJvdW5kIH0gZnJvbSAnLi9pY29ucy9hbGlnbi12ZXJ0aWNhbC1zcGFjZS1hcm91bmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbGlnblZlcnRpY2FsU3BhY2VCZXR3ZWVuLCBkZWZhdWx0IGFzIEFsaWduVmVydGljYWxTcGFjZUJldHdlZW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFsaWduVmVydGljYWxTcGFjZUJldHdlZW4gfSBmcm9tICcuL2ljb25zL2FsaWduLXZlcnRpY2FsLXNwYWNlLWJldHdlZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbWJ1bGFuY2UsIGRlZmF1bHQgYXMgQW1idWxhbmNlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbWJ1bGFuY2UgfSBmcm9tICcuL2ljb25zL2FtYnVsYW5jZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFtcGVyc2FuZCwgZGVmYXVsdCBhcyBBbXBlcnNhbmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFtcGVyc2FuZCB9IGZyb20gJy4vaWNvbnMvYW1wZXJzYW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQW1wZXJzYW5kcywgZGVmYXVsdCBhcyBBbXBlcnNhbmRzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbXBlcnNhbmRzIH0gZnJvbSAnLi9pY29ucy9hbXBlcnNhbmRzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQW1waG9yYSwgZGVmYXVsdCBhcyBBbXBob3JhSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbXBob3JhIH0gZnJvbSAnLi9pY29ucy9hbXBob3JhLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQW5jaG9yLCBkZWZhdWx0IGFzIEFuY2hvckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQW5jaG9yIH0gZnJvbSAnLi9pY29ucy9hbmNob3IuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBbmdyeSwgZGVmYXVsdCBhcyBBbmdyeUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQW5ncnkgfSBmcm9tICcuL2ljb25zL2FuZ3J5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQW5ub3llZCwgZGVmYXVsdCBhcyBBbm5veWVkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbm5veWVkIH0gZnJvbSAnLi9pY29ucy9hbm5veWVkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQW50ZW5uYSwgZGVmYXVsdCBhcyBBbnRlbm5hSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBbnRlbm5hIH0gZnJvbSAnLi9pY29ucy9hbnRlbm5hLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQW52aWwsIGRlZmF1bHQgYXMgQW52aWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFudmlsIH0gZnJvbSAnLi9pY29ucy9hbnZpbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFwZXJ0dXJlLCBkZWZhdWx0IGFzIEFwZXJ0dXJlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcGVydHVyZSB9IGZyb20gJy4vaWNvbnMvYXBlcnR1cmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcHBXaW5kb3dNYWMsIGRlZmF1bHQgYXMgQXBwV2luZG93TWFjSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcHBXaW5kb3dNYWMgfSBmcm9tICcuL2ljb25zL2FwcC13aW5kb3ctbWFjLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXBwV2luZG93LCBkZWZhdWx0IGFzIEFwcFdpbmRvd0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXBwV2luZG93IH0gZnJvbSAnLi9pY29ucy9hcHAtd2luZG93LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXBwbGUsIGRlZmF1bHQgYXMgQXBwbGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFwcGxlIH0gZnJvbSAnLi9pY29ucy9hcHBsZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFyY2hpdmVSZXN0b3JlLCBkZWZhdWx0IGFzIEFyY2hpdmVSZXN0b3JlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcmNoaXZlUmVzdG9yZSB9IGZyb20gJy4vaWNvbnMvYXJjaGl2ZS1yZXN0b3JlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJjaGl2ZVgsIGRlZmF1bHQgYXMgQXJjaGl2ZVhJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFyY2hpdmVYIH0gZnJvbSAnLi9pY29ucy9hcmNoaXZlLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcmNoaXZlLCBkZWZhdWx0IGFzIEFyY2hpdmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFyY2hpdmUgfSBmcm9tICcuL2ljb25zL2FyY2hpdmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcm1jaGFpciwgZGVmYXVsdCBhcyBBcm1jaGFpckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJtY2hhaXIgfSBmcm9tICcuL2ljb25zL2FybWNoYWlyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dCaWdEb3duRGFzaCwgZGVmYXVsdCBhcyBBcnJvd0JpZ0Rvd25EYXNoSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0JpZ0Rvd25EYXNoIH0gZnJvbSAnLi9pY29ucy9hcnJvdy1iaWctZG93bi1kYXNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dCaWdEb3duLCBkZWZhdWx0IGFzIEFycm93QmlnRG93bkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dCaWdEb3duIH0gZnJvbSAnLi9pY29ucy9hcnJvdy1iaWctZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93QmlnTGVmdERhc2gsIGRlZmF1bHQgYXMgQXJyb3dCaWdMZWZ0RGFzaEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dCaWdMZWZ0RGFzaCB9IGZyb20gJy4vaWNvbnMvYXJyb3ctYmlnLWxlZnQtZGFzaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93QmlnTGVmdCwgZGVmYXVsdCBhcyBBcnJvd0JpZ0xlZnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93QmlnTGVmdCB9IGZyb20gJy4vaWNvbnMvYXJyb3ctYmlnLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0JpZ1JpZ2h0RGFzaCwgZGVmYXVsdCBhcyBBcnJvd0JpZ1JpZ2h0RGFzaEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dCaWdSaWdodERhc2ggfSBmcm9tICcuL2ljb25zL2Fycm93LWJpZy1yaWdodC1kYXNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dCaWdSaWdodCwgZGVmYXVsdCBhcyBBcnJvd0JpZ1JpZ2h0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0JpZ1JpZ2h0IH0gZnJvbSAnLi9pY29ucy9hcnJvdy1iaWctcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0JpZ1VwRGFzaCwgZGVmYXVsdCBhcyBBcnJvd0JpZ1VwRGFzaEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dCaWdVcERhc2ggfSBmcm9tICcuL2ljb25zL2Fycm93LWJpZy11cC1kYXNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dCaWdVcCwgZGVmYXVsdCBhcyBBcnJvd0JpZ1VwSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0JpZ1VwIH0gZnJvbSAnLi9pY29ucy9hcnJvdy1iaWctdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25Gcm9tTGluZSwgZGVmYXVsdCBhcyBBcnJvd0Rvd25Gcm9tTGluZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dEb3duRnJvbUxpbmUgfSBmcm9tICcuL2ljb25zL2Fycm93LWRvd24tZnJvbS1saW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dEb3duTGVmdCwgZGVmYXVsdCBhcyBBcnJvd0Rvd25MZWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0Rvd25MZWZ0IH0gZnJvbSAnLi9pY29ucy9hcnJvdy1kb3duLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25OYXJyb3dXaWRlLCBkZWZhdWx0IGFzIEFycm93RG93bk5hcnJvd1dpZGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93bk5hcnJvd1dpZGUgfSBmcm9tICcuL2ljb25zL2Fycm93LWRvd24tbmFycm93LXdpZGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25SaWdodCwgZGVmYXVsdCBhcyBBcnJvd0Rvd25SaWdodEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dEb3duUmlnaHQgfSBmcm9tICcuL2ljb25zL2Fycm93LWRvd24tcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25Ub0RvdCwgZGVmYXVsdCBhcyBBcnJvd0Rvd25Ub0RvdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dEb3duVG9Eb3QgfSBmcm9tICcuL2ljb25zL2Fycm93LWRvd24tdG8tZG90LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dEb3duVG9MaW5lLCBkZWZhdWx0IGFzIEFycm93RG93blRvTGluZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dEb3duVG9MaW5lIH0gZnJvbSAnLi9pY29ucy9hcnJvdy1kb3duLXRvLWxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd25VcCwgZGVmYXVsdCBhcyBBcnJvd0Rvd25VcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dEb3duVXAgfSBmcm9tICcuL2ljb25zL2Fycm93LWRvd24tdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd24sIGRlZmF1bHQgYXMgQXJyb3dEb3duSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0Rvd24gfSBmcm9tICcuL2ljb25zL2Fycm93LWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0xlZnRGcm9tTGluZSwgZGVmYXVsdCBhcyBBcnJvd0xlZnRGcm9tTGluZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dMZWZ0RnJvbUxpbmUgfSBmcm9tICcuL2ljb25zL2Fycm93LWxlZnQtZnJvbS1saW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dMZWZ0UmlnaHQsIGRlZmF1bHQgYXMgQXJyb3dMZWZ0UmlnaHRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93TGVmdFJpZ2h0IH0gZnJvbSAnLi9pY29ucy9hcnJvdy1sZWZ0LXJpZ2h0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dMZWZ0VG9MaW5lLCBkZWZhdWx0IGFzIEFycm93TGVmdFRvTGluZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dMZWZ0VG9MaW5lIH0gZnJvbSAnLi9pY29ucy9hcnJvdy1sZWZ0LXRvLWxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0xlZnQsIGRlZmF1bHQgYXMgQXJyb3dMZWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd0xlZnQgfSBmcm9tICcuL2ljb25zL2Fycm93LWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1JpZ2h0RnJvbUxpbmUsIGRlZmF1bHQgYXMgQXJyb3dSaWdodEZyb21MaW5lSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1JpZ2h0RnJvbUxpbmUgfSBmcm9tICcuL2ljb25zL2Fycm93LXJpZ2h0LWZyb20tbGluZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93UmlnaHRMZWZ0LCBkZWZhdWx0IGFzIEFycm93UmlnaHRMZWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1JpZ2h0TGVmdCB9IGZyb20gJy4vaWNvbnMvYXJyb3ctcmlnaHQtbGVmdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93UmlnaHRUb0xpbmUsIGRlZmF1bHQgYXMgQXJyb3dSaWdodFRvTGluZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dSaWdodFRvTGluZSB9IGZyb20gJy4vaWNvbnMvYXJyb3ctcmlnaHQtdG8tbGluZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93UmlnaHQsIGRlZmF1bHQgYXMgQXJyb3dSaWdodEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dSaWdodCB9IGZyb20gJy4vaWNvbnMvYXJyb3ctcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwRG93biwgZGVmYXVsdCBhcyBBcnJvd1VwRG93bkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcERvd24gfSBmcm9tICcuL2ljb25zL2Fycm93LXVwLWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwRnJvbURvdCwgZGVmYXVsdCBhcyBBcnJvd1VwRnJvbURvdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcEZyb21Eb3QgfSBmcm9tICcuL2ljb25zL2Fycm93LXVwLWZyb20tZG90LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dVcEZyb21MaW5lLCBkZWZhdWx0IGFzIEFycm93VXBGcm9tTGluZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcEZyb21MaW5lIH0gZnJvbSAnLi9pY29ucy9hcnJvdy11cC1mcm9tLWxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwTGVmdCwgZGVmYXVsdCBhcyBBcnJvd1VwTGVmdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcExlZnQgfSBmcm9tICcuL2ljb25zL2Fycm93LXVwLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd1VwUmlnaHQsIGRlZmF1bHQgYXMgQXJyb3dVcFJpZ2h0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1VwUmlnaHQgfSBmcm9tICcuL2ljb25zL2Fycm93LXVwLXJpZ2h0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dVcFRvTGluZSwgZGVmYXVsdCBhcyBBcnJvd1VwVG9MaW5lSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBcnJvd1VwVG9MaW5lIH0gZnJvbSAnLi9pY29ucy9hcnJvdy11cC10by1saW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dVcFdpZGVOYXJyb3csIGRlZmF1bHQgYXMgQXJyb3dVcFdpZGVOYXJyb3dJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93VXBXaWRlTmFycm93IH0gZnJvbSAnLi9pY29ucy9hcnJvdy11cC13aWRlLW5hcnJvdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93VXAsIGRlZmF1bHQgYXMgQXJyb3dVcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcCB9IGZyb20gJy4vaWNvbnMvYXJyb3ctdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd3NVcEZyb21MaW5lLCBkZWZhdWx0IGFzIEFycm93c1VwRnJvbUxpbmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93c1VwRnJvbUxpbmUgfSBmcm9tICcuL2ljb25zL2Fycm93cy11cC1mcm9tLWxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBc3RlcmlzaywgZGVmYXVsdCBhcyBBc3Rlcmlza0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXN0ZXJpc2sgfSBmcm9tICcuL2ljb25zL2FzdGVyaXNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXRTaWduLCBkZWZhdWx0IGFzIEF0U2lnbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXRTaWduIH0gZnJvbSAnLi9pY29ucy9hdC1zaWduLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXRvbSwgZGVmYXVsdCBhcyBBdG9tSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBdG9tIH0gZnJvbSAnLi9pY29ucy9hdG9tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXVkaW9MaW5lcywgZGVmYXVsdCBhcyBBdWRpb0xpbmVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVBdWRpb0xpbmVzIH0gZnJvbSAnLi9pY29ucy9hdWRpby1saW5lcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEF1ZGlvV2F2ZWZvcm0sIGRlZmF1bHQgYXMgQXVkaW9XYXZlZm9ybUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXVkaW9XYXZlZm9ybSB9IGZyb20gJy4vaWNvbnMvYXVkaW8td2F2ZWZvcm0uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBd2FyZCwgZGVmYXVsdCBhcyBBd2FyZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXdhcmQgfSBmcm9tICcuL2ljb25zL2F3YXJkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXhlLCBkZWZhdWx0IGFzIEF4ZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXhlIH0gZnJvbSAnLi9pY29ucy9heGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWJ5LCBkZWZhdWx0IGFzIEJhYnlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhYnkgfSBmcm9tICcuL2ljb25zL2JhYnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWNrcGFjaywgZGVmYXVsdCBhcyBCYWNrcGFja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFja3BhY2sgfSBmcm9tICcuL2ljb25zL2JhY2twYWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFkZ2VBbGVydCwgZGVmYXVsdCBhcyBCYWRnZUFsZXJ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYWRnZUFsZXJ0IH0gZnJvbSAnLi9pY29ucy9iYWRnZS1hbGVydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhZGdlQ2VudCwgZGVmYXVsdCBhcyBCYWRnZUNlbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlQ2VudCB9IGZyb20gJy4vaWNvbnMvYmFkZ2UtY2VudC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhZGdlRG9sbGFyU2lnbiwgZGVmYXVsdCBhcyBCYWRnZURvbGxhclNpZ25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlRG9sbGFyU2lnbiB9IGZyb20gJy4vaWNvbnMvYmFkZ2UtZG9sbGFyLXNpZ24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWRnZUV1cm8sIGRlZmF1bHQgYXMgQmFkZ2VFdXJvSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYWRnZUV1cm8gfSBmcm9tICcuL2ljb25zL2JhZGdlLWV1cm8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWRnZUhlbHAsIGRlZmF1bHQgYXMgQmFkZ2VIZWxwSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYWRnZUhlbHAgfSBmcm9tICcuL2ljb25zL2JhZGdlLWhlbHAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWRnZUluZGlhblJ1cGVlLCBkZWZhdWx0IGFzIEJhZGdlSW5kaWFuUnVwZWVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlSW5kaWFuUnVwZWUgfSBmcm9tICcuL2ljb25zL2JhZGdlLWluZGlhbi1ydXBlZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhZGdlSW5mbywgZGVmYXVsdCBhcyBCYWRnZUluZm9JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlSW5mbyB9IGZyb20gJy4vaWNvbnMvYmFkZ2UtaW5mby5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhZGdlSmFwYW5lc2VZZW4sIGRlZmF1bHQgYXMgQmFkZ2VKYXBhbmVzZVllbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFkZ2VKYXBhbmVzZVllbiB9IGZyb20gJy4vaWNvbnMvYmFkZ2UtamFwYW5lc2UteWVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFkZ2VNaW51cywgZGVmYXVsdCBhcyBCYWRnZU1pbnVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYWRnZU1pbnVzIH0gZnJvbSAnLi9pY29ucy9iYWRnZS1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhZGdlUGVyY2VudCwgZGVmYXVsdCBhcyBCYWRnZVBlcmNlbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlUGVyY2VudCB9IGZyb20gJy4vaWNvbnMvYmFkZ2UtcGVyY2VudC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhZGdlUGx1cywgZGVmYXVsdCBhcyBCYWRnZVBsdXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlUGx1cyB9IGZyb20gJy4vaWNvbnMvYmFkZ2UtcGx1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhZGdlUG91bmRTdGVybGluZywgZGVmYXVsdCBhcyBCYWRnZVBvdW5kU3RlcmxpbmdJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlUG91bmRTdGVybGluZyB9IGZyb20gJy4vaWNvbnMvYmFkZ2UtcG91bmQtc3RlcmxpbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWRnZVJ1c3NpYW5SdWJsZSwgZGVmYXVsdCBhcyBCYWRnZVJ1c3NpYW5SdWJsZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFkZ2VSdXNzaWFuUnVibGUgfSBmcm9tICcuL2ljb25zL2JhZGdlLXJ1c3NpYW4tcnVibGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYWRnZVN3aXNzRnJhbmMsIGRlZmF1bHQgYXMgQmFkZ2VTd2lzc0ZyYW5jSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYWRnZVN3aXNzRnJhbmMgfSBmcm9tICcuL2ljb25zL2JhZGdlLXN3aXNzLWZyYW5jLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFkZ2VYLCBkZWZhdWx0IGFzIEJhZGdlWEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFkZ2VYIH0gZnJvbSAnLi9pY29ucy9iYWRnZS14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFkZ2UsIGRlZmF1bHQgYXMgQmFkZ2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZGdlIH0gZnJvbSAnLi9pY29ucy9iYWRnZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhZ2dhZ2VDbGFpbSwgZGVmYXVsdCBhcyBCYWdnYWdlQ2xhaW1JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhZ2dhZ2VDbGFpbSB9IGZyb20gJy4vaWNvbnMvYmFnZ2FnZS1jbGFpbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhbiwgZGVmYXVsdCBhcyBCYW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhbiB9IGZyb20gJy4vaWNvbnMvYmFuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFuYW5hLCBkZWZhdWx0IGFzIEJhbmFuYUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFuYW5hIH0gZnJvbSAnLi9pY29ucy9iYW5hbmEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYW5kYWdlLCBkZWZhdWx0IGFzIEJhbmRhZ2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhbmRhZ2UgfSBmcm9tICcuL2ljb25zL2JhbmRhZ2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYW5rbm90ZSwgZGVmYXVsdCBhcyBCYW5rbm90ZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmFua25vdGUgfSBmcm9tICcuL2ljb25zL2Jhbmtub3RlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFyY29kZSwgZGVmYXVsdCBhcyBCYXJjb2RlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYXJjb2RlIH0gZnJvbSAnLi9pY29ucy9iYXJjb2RlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFzZWxpbmUsIGRlZmF1bHQgYXMgQmFzZWxpbmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhc2VsaW5lIH0gZnJvbSAnLi9pY29ucy9iYXNlbGluZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhdGgsIGRlZmF1bHQgYXMgQmF0aEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmF0aCB9IGZyb20gJy4vaWNvbnMvYmF0aC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhdHRlcnlDaGFyZ2luZywgZGVmYXVsdCBhcyBCYXR0ZXJ5Q2hhcmdpbmdJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJhdHRlcnlDaGFyZ2luZyB9IGZyb20gJy4vaWNvbnMvYmF0dGVyeS1jaGFyZ2luZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhdHRlcnlGdWxsLCBkZWZhdWx0IGFzIEJhdHRlcnlGdWxsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYXR0ZXJ5RnVsbCB9IGZyb20gJy4vaWNvbnMvYmF0dGVyeS1mdWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmF0dGVyeUxvdywgZGVmYXVsdCBhcyBCYXR0ZXJ5TG93SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCYXR0ZXJ5TG93IH0gZnJvbSAnLi9pY29ucy9iYXR0ZXJ5LWxvdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhdHRlcnlNZWRpdW0sIGRlZmF1bHQgYXMgQmF0dGVyeU1lZGl1bUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmF0dGVyeU1lZGl1bSB9IGZyb20gJy4vaWNvbnMvYmF0dGVyeS1tZWRpdW0uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYXR0ZXJ5V2FybmluZywgZGVmYXVsdCBhcyBCYXR0ZXJ5V2FybmluZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmF0dGVyeVdhcm5pbmcgfSBmcm9tICcuL2ljb25zL2JhdHRlcnktd2FybmluZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhdHRlcnksIGRlZmF1bHQgYXMgQmF0dGVyeUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmF0dGVyeSB9IGZyb20gJy4vaWNvbnMvYmF0dGVyeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJlYWtlciwgZGVmYXVsdCBhcyBCZWFrZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJlYWtlciB9IGZyb20gJy4vaWNvbnMvYmVha2VyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmVhbk9mZiwgZGVmYXVsdCBhcyBCZWFuT2ZmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCZWFuT2ZmIH0gZnJvbSAnLi9pY29ucy9iZWFuLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJlYW4sIGRlZmF1bHQgYXMgQmVhbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmVhbiB9IGZyb20gJy4vaWNvbnMvYmVhbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJlZERvdWJsZSwgZGVmYXVsdCBhcyBCZWREb3VibGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJlZERvdWJsZSB9IGZyb20gJy4vaWNvbnMvYmVkLWRvdWJsZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJlZFNpbmdsZSwgZGVmYXVsdCBhcyBCZWRTaW5nbGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJlZFNpbmdsZSB9IGZyb20gJy4vaWNvbnMvYmVkLXNpbmdsZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJlZCwgZGVmYXVsdCBhcyBCZWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJlZCB9IGZyb20gJy4vaWNvbnMvYmVkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmVlZiwgZGVmYXVsdCBhcyBCZWVmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCZWVmIH0gZnJvbSAnLi9pY29ucy9iZWVmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmVlck9mZiwgZGVmYXVsdCBhcyBCZWVyT2ZmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCZWVyT2ZmIH0gZnJvbSAnLi9pY29ucy9iZWVyLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJlZXIsIGRlZmF1bHQgYXMgQmVlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmVlciB9IGZyb20gJy4vaWNvbnMvYmVlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJlbGxEb3QsIGRlZmF1bHQgYXMgQmVsbERvdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmVsbERvdCB9IGZyb20gJy4vaWNvbnMvYmVsbC1kb3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCZWxsRWxlY3RyaWMsIGRlZmF1bHQgYXMgQmVsbEVsZWN0cmljSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCZWxsRWxlY3RyaWMgfSBmcm9tICcuL2ljb25zL2JlbGwtZWxlY3RyaWMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCZWxsTWludXMsIGRlZmF1bHQgYXMgQmVsbE1pbnVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCZWxsTWludXMgfSBmcm9tICcuL2ljb25zL2JlbGwtbWludXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCZWxsT2ZmLCBkZWZhdWx0IGFzIEJlbGxPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJlbGxPZmYgfSBmcm9tICcuL2ljb25zL2JlbGwtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmVsbFBsdXMsIGRlZmF1bHQgYXMgQmVsbFBsdXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJlbGxQbHVzIH0gZnJvbSAnLi9pY29ucy9iZWxsLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCZWxsUmluZywgZGVmYXVsdCBhcyBCZWxsUmluZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmVsbFJpbmcgfSBmcm9tICcuL2ljb25zL2JlbGwtcmluZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJlbGwsIGRlZmF1bHQgYXMgQmVsbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmVsbCB9IGZyb20gJy4vaWNvbnMvYmVsbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJldHdlZW5WZXJ0aWNhbEVuZCwgZGVmYXVsdCBhcyBCZXR3ZWVuVmVydGljYWxFbmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJldHdlZW5WZXJ0aWNhbEVuZCB9IGZyb20gJy4vaWNvbnMvYmV0d2Vlbi12ZXJ0aWNhbC1lbmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCZXR3ZWVuVmVydGljYWxTdGFydCwgZGVmYXVsdCBhcyBCZXR3ZWVuVmVydGljYWxTdGFydEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmV0d2VlblZlcnRpY2FsU3RhcnQgfSBmcm9tICcuL2ljb25zL2JldHdlZW4tdmVydGljYWwtc3RhcnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCaWNlcHNGbGV4ZWQsIGRlZmF1bHQgYXMgQmljZXBzRmxleGVkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCaWNlcHNGbGV4ZWQgfSBmcm9tICcuL2ljb25zL2JpY2Vwcy1mbGV4ZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCaWtlLCBkZWZhdWx0IGFzIEJpa2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJpa2UgfSBmcm9tICcuL2ljb25zL2Jpa2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCaW5hcnksIGRlZmF1bHQgYXMgQmluYXJ5SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCaW5hcnkgfSBmcm9tICcuL2ljb25zL2JpbmFyeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJpbm9jdWxhcnMsIGRlZmF1bHQgYXMgQmlub2N1bGFyc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmlub2N1bGFycyB9IGZyb20gJy4vaWNvbnMvYmlub2N1bGFycy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJpb2hhemFyZCwgZGVmYXVsdCBhcyBCaW9oYXphcmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJpb2hhemFyZCB9IGZyb20gJy4vaWNvbnMvYmlvaGF6YXJkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmlyZCwgZGVmYXVsdCBhcyBCaXJkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCaXJkIH0gZnJvbSAnLi9pY29ucy9iaXJkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQml0Y29pbiwgZGVmYXVsdCBhcyBCaXRjb2luSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCaXRjb2luIH0gZnJvbSAnLi9pY29ucy9iaXRjb2luLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmxlbmQsIGRlZmF1bHQgYXMgQmxlbmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJsZW5kIH0gZnJvbSAnLi9pY29ucy9ibGVuZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJsaW5kcywgZGVmYXVsdCBhcyBCbGluZHNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJsaW5kcyB9IGZyb20gJy4vaWNvbnMvYmxpbmRzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmxvY2tzLCBkZWZhdWx0IGFzIEJsb2Nrc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQmxvY2tzIH0gZnJvbSAnLi9pY29ucy9ibG9ja3MuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCbHVldG9vdGhDb25uZWN0ZWQsIGRlZmF1bHQgYXMgQmx1ZXRvb3RoQ29ubmVjdGVkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCbHVldG9vdGhDb25uZWN0ZWQgfSBmcm9tICcuL2ljb25zL2JsdWV0b290aC1jb25uZWN0ZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCbHVldG9vdGhPZmYsIGRlZmF1bHQgYXMgQmx1ZXRvb3RoT2ZmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCbHVldG9vdGhPZmYgfSBmcm9tICcuL2ljb25zL2JsdWV0b290aC1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCbHVldG9vdGhTZWFyY2hpbmcsIGRlZmF1bHQgYXMgQmx1ZXRvb3RoU2VhcmNoaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCbHVldG9vdGhTZWFyY2hpbmcgfSBmcm9tICcuL2ljb25zL2JsdWV0b290aC1zZWFyY2hpbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCbHVldG9vdGgsIGRlZmF1bHQgYXMgQmx1ZXRvb3RoSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCbHVldG9vdGggfSBmcm9tICcuL2ljb25zL2JsdWV0b290aC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvbGQsIGRlZmF1bHQgYXMgQm9sZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9sZCB9IGZyb20gJy4vaWNvbnMvYm9sZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvbHQsIGRlZmF1bHQgYXMgQm9sdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9sdCB9IGZyb20gJy4vaWNvbnMvYm9sdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvbWIsIGRlZmF1bHQgYXMgQm9tYkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9tYiB9IGZyb20gJy4vaWNvbnMvYm9tYi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvbmUsIGRlZmF1bHQgYXMgQm9uZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9uZSB9IGZyb20gJy4vaWNvbnMvYm9uZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2tBLCBkZWZhdWx0IGFzIEJvb2tBSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rQSB9IGZyb20gJy4vaWNvbnMvYm9vay1hLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va0F1ZGlvLCBkZWZhdWx0IGFzIEJvb2tBdWRpb0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va0F1ZGlvIH0gZnJvbSAnLi9pY29ucy9ib29rLWF1ZGlvLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va0NoZWNrLCBkZWZhdWx0IGFzIEJvb2tDaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va0NoZWNrIH0gZnJvbSAnLi9pY29ucy9ib29rLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va0NvcHksIGRlZmF1bHQgYXMgQm9va0NvcHlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJvb2tDb3B5IH0gZnJvbSAnLi9pY29ucy9ib29rLWNvcHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb29rRG93biwgZGVmYXVsdCBhcyBCb29rRG93bkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va0Rvd24gfSBmcm9tICcuL2ljb25zL2Jvb2stZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2tIZWFkcGhvbmVzLCBkZWZhdWx0IGFzIEJvb2tIZWFkcGhvbmVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rSGVhZHBob25lcyB9IGZyb20gJy4vaWNvbnMvYm9vay1oZWFkcGhvbmVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va0hlYXJ0LCBkZWZhdWx0IGFzIEJvb2tIZWFydEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va0hlYXJ0IH0gZnJvbSAnLi9pY29ucy9ib29rLWhlYXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va0ltYWdlLCBkZWZhdWx0IGFzIEJvb2tJbWFnZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va0ltYWdlIH0gZnJvbSAnLi9pY29ucy9ib29rLWltYWdlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va0tleSwgZGVmYXVsdCBhcyBCb29rS2V5SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rS2V5IH0gZnJvbSAnLi9pY29ucy9ib29rLWtleS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2tMb2NrLCBkZWZhdWx0IGFzIEJvb2tMb2NrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rTG9jayB9IGZyb20gJy4vaWNvbnMvYm9vay1sb2NrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va01hcmtlZCwgZGVmYXVsdCBhcyBCb29rTWFya2VkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rTWFya2VkIH0gZnJvbSAnLi9pY29ucy9ib29rLW1hcmtlZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2tNaW51cywgZGVmYXVsdCBhcyBCb29rTWludXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJvb2tNaW51cyB9IGZyb20gJy4vaWNvbnMvYm9vay1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2tPcGVuQ2hlY2ssIGRlZmF1bHQgYXMgQm9va09wZW5DaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va09wZW5DaGVjayB9IGZyb20gJy4vaWNvbnMvYm9vay1vcGVuLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va09wZW5UZXh0LCBkZWZhdWx0IGFzIEJvb2tPcGVuVGV4dEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va09wZW5UZXh0IH0gZnJvbSAnLi9pY29ucy9ib29rLW9wZW4tdGV4dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2tPcGVuLCBkZWZhdWx0IGFzIEJvb2tPcGVuSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rT3BlbiB9IGZyb20gJy4vaWNvbnMvYm9vay1vcGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va1BsdXMsIGRlZmF1bHQgYXMgQm9va1BsdXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJvb2tQbHVzIH0gZnJvbSAnLi9pY29ucy9ib29rLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb29rVGV4dCwgZGVmYXVsdCBhcyBCb29rVGV4dEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va1RleHQgfSBmcm9tICcuL2ljb25zL2Jvb2stdGV4dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2tUeXBlLCBkZWZhdWx0IGFzIEJvb2tUeXBlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rVHlwZSB9IGZyb20gJy4vaWNvbnMvYm9vay10eXBlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va1VwMiwgZGVmYXVsdCBhcyBCb29rVXAySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rVXAyIH0gZnJvbSAnLi9pY29ucy9ib29rLXVwLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb29rVXAsIGRlZmF1bHQgYXMgQm9va1VwSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rVXAgfSBmcm9tICcuL2ljb25zL2Jvb2stdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb29rVXNlciwgZGVmYXVsdCBhcyBCb29rVXNlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va1VzZXIgfSBmcm9tICcuL2ljb25zL2Jvb2stdXNlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2tYLCBkZWZhdWx0IGFzIEJvb2tYSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rWCB9IGZyb20gJy4vaWNvbnMvYm9vay14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9vaywgZGVmYXVsdCBhcyBCb29rSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rIH0gZnJvbSAnLi9pY29ucy9ib29rLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9va21hcmtDaGVjaywgZGVmYXVsdCBhcyBCb29rbWFya0NoZWNrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rbWFya0NoZWNrIH0gZnJvbSAnLi9pY29ucy9ib29rbWFyay1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvb2ttYXJrTWludXMsIGRlZmF1bHQgYXMgQm9va21hcmtNaW51c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va21hcmtNaW51cyB9IGZyb20gJy4vaWNvbnMvYm9va21hcmstbWludXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb29rbWFya1BsdXMsIGRlZmF1bHQgYXMgQm9va21hcmtQbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rbWFya1BsdXMgfSBmcm9tICcuL2ljb25zL2Jvb2ttYXJrLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb29rbWFya1gsIGRlZmF1bHQgYXMgQm9va21hcmtYSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29rbWFya1ggfSBmcm9tICcuL2ljb25zL2Jvb2ttYXJrLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb29rbWFyaywgZGVmYXVsdCBhcyBCb29rbWFya0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm9va21hcmsgfSBmcm9tICcuL2ljb25zL2Jvb2ttYXJrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm9vbUJveCwgZGVmYXVsdCBhcyBCb29tQm94SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb29tQm94IH0gZnJvbSAnLi9pY29ucy9ib29tLWJveC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJvdE1lc3NhZ2VTcXVhcmUsIGRlZmF1bHQgYXMgQm90TWVzc2FnZVNxdWFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm90TWVzc2FnZVNxdWFyZSB9IGZyb20gJy4vaWNvbnMvYm90LW1lc3NhZ2Utc3F1YXJlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm90T2ZmLCBkZWZhdWx0IGFzIEJvdE9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm90T2ZmIH0gZnJvbSAnLi9pY29ucy9ib3Qtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQm90LCBkZWZhdWx0IGFzIEJvdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQm90IH0gZnJvbSAnLi9pY29ucy9ib3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCb3gsIGRlZmF1bHQgYXMgQm94SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb3ggfSBmcm9tICcuL2ljb25zL2JveC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJveGVzLCBkZWZhdWx0IGFzIEJveGVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCb3hlcyB9IGZyb20gJy4vaWNvbnMvYm94ZXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCcmFja2V0cywgZGVmYXVsdCBhcyBCcmFja2V0c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQnJhY2tldHMgfSBmcm9tICcuL2ljb25zL2JyYWNrZXRzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnJhaW5DaXJjdWl0LCBkZWZhdWx0IGFzIEJyYWluQ2lyY3VpdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQnJhaW5DaXJjdWl0IH0gZnJvbSAnLi9pY29ucy9icmFpbi1jaXJjdWl0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnJhaW5Db2csIGRlZmF1bHQgYXMgQnJhaW5Db2dJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJyYWluQ29nIH0gZnJvbSAnLi9pY29ucy9icmFpbi1jb2cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCcmFpbiwgZGVmYXVsdCBhcyBCcmFpbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQnJhaW4gfSBmcm9tICcuL2ljb25zL2JyYWluLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnJpY2tXYWxsLCBkZWZhdWx0IGFzIEJyaWNrV2FsbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQnJpY2tXYWxsIH0gZnJvbSAnLi9pY29ucy9icmljay13YWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnJpZWZjYXNlQnVzaW5lc3MsIGRlZmF1bHQgYXMgQnJpZWZjYXNlQnVzaW5lc3NJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJyaWVmY2FzZUJ1c2luZXNzIH0gZnJvbSAnLi9pY29ucy9icmllZmNhc2UtYnVzaW5lc3MuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCcmllZmNhc2VDb252ZXlvckJlbHQsIGRlZmF1bHQgYXMgQnJpZWZjYXNlQ29udmV5b3JCZWx0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCcmllZmNhc2VDb252ZXlvckJlbHQgfSBmcm9tICcuL2ljb25zL2JyaWVmY2FzZS1jb252ZXlvci1iZWx0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnJpZWZjYXNlTWVkaWNhbCwgZGVmYXVsdCBhcyBCcmllZmNhc2VNZWRpY2FsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCcmllZmNhc2VNZWRpY2FsIH0gZnJvbSAnLi9pY29ucy9icmllZmNhc2UtbWVkaWNhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJyaWVmY2FzZSwgZGVmYXVsdCBhcyBCcmllZmNhc2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJyaWVmY2FzZSB9IGZyb20gJy4vaWNvbnMvYnJpZWZjYXNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnJpbmdUb0Zyb250LCBkZWZhdWx0IGFzIEJyaW5nVG9Gcm9udEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQnJpbmdUb0Zyb250IH0gZnJvbSAnLi9pY29ucy9icmluZy10by1mcm9udC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJydXNoLCBkZWZhdWx0IGFzIEJydXNoSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCcnVzaCB9IGZyb20gJy4vaWNvbnMvYnJ1c2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCdWdPZmYsIGRlZmF1bHQgYXMgQnVnT2ZmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCdWdPZmYgfSBmcm9tICcuL2ljb25zL2J1Zy1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCdWdQbGF5LCBkZWZhdWx0IGFzIEJ1Z1BsYXlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJ1Z1BsYXkgfSBmcm9tICcuL2ljb25zL2J1Zy1wbGF5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnVnLCBkZWZhdWx0IGFzIEJ1Z0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQnVnIH0gZnJvbSAnLi9pY29ucy9idWcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCdWlsZGluZzIsIGRlZmF1bHQgYXMgQnVpbGRpbmcySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCdWlsZGluZzIgfSBmcm9tICcuL2ljb25zL2J1aWxkaW5nLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCdWlsZGluZywgZGVmYXVsdCBhcyBCdWlsZGluZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQnVpbGRpbmcgfSBmcm9tICcuL2ljb25zL2J1aWxkaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnVzRnJvbnQsIGRlZmF1bHQgYXMgQnVzRnJvbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUJ1c0Zyb250IH0gZnJvbSAnLi9pY29ucy9idXMtZnJvbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCdXMsIGRlZmF1bHQgYXMgQnVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVCdXMgfSBmcm9tICcuL2ljb25zL2J1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhYmxlQ2FyLCBkZWZhdWx0IGFzIENhYmxlQ2FySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWJsZUNhciB9IGZyb20gJy4vaWNvbnMvY2FibGUtY2FyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FibGUsIGRlZmF1bHQgYXMgQ2FibGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhYmxlIH0gZnJvbSAnLi9pY29ucy9jYWJsZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENha2VTbGljZSwgZGVmYXVsdCBhcyBDYWtlU2xpY2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNha2VTbGljZSB9IGZyb20gJy4vaWNvbnMvY2FrZS1zbGljZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENha2UsIGRlZmF1bHQgYXMgQ2FrZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FrZSB9IGZyb20gJy4vaWNvbnMvY2FrZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGN1bGF0b3IsIGRlZmF1bHQgYXMgQ2FsY3VsYXRvckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsY3VsYXRvciB9IGZyb20gJy4vaWNvbnMvY2FsY3VsYXRvci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGVuZGFyMSwgZGVmYXVsdCBhcyBDYWxlbmRhcjFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhbGVuZGFyMSB9IGZyb20gJy4vaWNvbnMvY2FsZW5kYXItMS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGVuZGFyQXJyb3dEb3duLCBkZWZhdWx0IGFzIENhbGVuZGFyQXJyb3dEb3duSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhckFycm93RG93biB9IGZyb20gJy4vaWNvbnMvY2FsZW5kYXItYXJyb3ctZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGVuZGFyQXJyb3dVcCwgZGVmYXVsdCBhcyBDYWxlbmRhckFycm93VXBJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhbGVuZGFyQXJyb3dVcCB9IGZyb20gJy4vaWNvbnMvY2FsZW5kYXItYXJyb3ctdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYWxlbmRhckNoZWNrMiwgZGVmYXVsdCBhcyBDYWxlbmRhckNoZWNrMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXJDaGVjazIgfSBmcm9tICcuL2ljb25zL2NhbGVuZGFyLWNoZWNrLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYWxlbmRhckNoZWNrLCBkZWZhdWx0IGFzIENhbGVuZGFyQ2hlY2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhbGVuZGFyQ2hlY2sgfSBmcm9tICcuL2ljb25zL2NhbGVuZGFyLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXJDbG9jaywgZGVmYXVsdCBhcyBDYWxlbmRhckNsb2NrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhckNsb2NrIH0gZnJvbSAnLi9pY29ucy9jYWxlbmRhci1jbG9jay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGVuZGFyQ29nLCBkZWZhdWx0IGFzIENhbGVuZGFyQ29nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhckNvZyB9IGZyb20gJy4vaWNvbnMvY2FsZW5kYXItY29nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXJEYXlzLCBkZWZhdWx0IGFzIENhbGVuZGFyRGF5c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXJEYXlzIH0gZnJvbSAnLi9pY29ucy9jYWxlbmRhci1kYXlzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXJGb2xkLCBkZWZhdWx0IGFzIENhbGVuZGFyRm9sZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXJGb2xkIH0gZnJvbSAnLi9pY29ucy9jYWxlbmRhci1mb2xkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXJIZWFydCwgZGVmYXVsdCBhcyBDYWxlbmRhckhlYXJ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhckhlYXJ0IH0gZnJvbSAnLi9pY29ucy9jYWxlbmRhci1oZWFydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGVuZGFyTWludXMyLCBkZWZhdWx0IGFzIENhbGVuZGFyTWludXMySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhck1pbnVzMiB9IGZyb20gJy4vaWNvbnMvY2FsZW5kYXItbWludXMtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGVuZGFyTWludXMsIGRlZmF1bHQgYXMgQ2FsZW5kYXJNaW51c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXJNaW51cyB9IGZyb20gJy4vaWNvbnMvY2FsZW5kYXItbWludXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYWxlbmRhck9mZiwgZGVmYXVsdCBhcyBDYWxlbmRhck9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXJPZmYgfSBmcm9tICcuL2ljb25zL2NhbGVuZGFyLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGVuZGFyUGx1czIsIGRlZmF1bHQgYXMgQ2FsZW5kYXJQbHVzMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXJQbHVzMiB9IGZyb20gJy4vaWNvbnMvY2FsZW5kYXItcGx1cy0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXJQbHVzLCBkZWZhdWx0IGFzIENhbGVuZGFyUGx1c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXJQbHVzIH0gZnJvbSAnLi9pY29ucy9jYWxlbmRhci1wbHVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXJSYW5nZSwgZGVmYXVsdCBhcyBDYWxlbmRhclJhbmdlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhclJhbmdlIH0gZnJvbSAnLi9pY29ucy9jYWxlbmRhci1yYW5nZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbGVuZGFyU2VhcmNoLCBkZWZhdWx0IGFzIENhbGVuZGFyU2VhcmNoSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhclNlYXJjaCB9IGZyb20gJy4vaWNvbnMvY2FsZW5kYXItc2VhcmNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXJTeW5jLCBkZWZhdWx0IGFzIENhbGVuZGFyU3luY0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXJTeW5jIH0gZnJvbSAnLi9pY29ucy9jYWxlbmRhci1zeW5jLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXJYMiwgZGVmYXVsdCBhcyBDYWxlbmRhclgySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhclgyIH0gZnJvbSAnLi9pY29ucy9jYWxlbmRhci14LTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYWxlbmRhclgsIGRlZmF1bHQgYXMgQ2FsZW5kYXJYSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYWxlbmRhclggfSBmcm9tICcuL2ljb25zL2NhbGVuZGFyLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYWxlbmRhciwgZGVmYXVsdCBhcyBDYWxlbmRhckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FsZW5kYXIgfSBmcm9tICcuL2ljb25zL2NhbGVuZGFyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FtZXJhT2ZmLCBkZWZhdWx0IGFzIENhbWVyYU9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FtZXJhT2ZmIH0gZnJvbSAnLi9pY29ucy9jYW1lcmEtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FtZXJhLCBkZWZhdWx0IGFzIENhbWVyYUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FtZXJhIH0gZnJvbSAnLi9pY29ucy9jYW1lcmEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYW5keUNhbmUsIGRlZmF1bHQgYXMgQ2FuZHlDYW5lSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYW5keUNhbmUgfSBmcm9tICcuL2ljb25zL2NhbmR5LWNhbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYW5keU9mZiwgZGVmYXVsdCBhcyBDYW5keU9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FuZHlPZmYgfSBmcm9tICcuL2ljb25zL2NhbmR5LW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbmR5LCBkZWZhdWx0IGFzIENhbmR5SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYW5keSB9IGZyb20gJy4vaWNvbnMvY2FuZHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYW5uYWJpcywgZGVmYXVsdCBhcyBDYW5uYWJpc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FubmFiaXMgfSBmcm9tICcuL2ljb25zL2Nhbm5hYmlzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FwdGlvbnNPZmYsIGRlZmF1bHQgYXMgQ2FwdGlvbnNPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhcHRpb25zT2ZmIH0gZnJvbSAnLi9pY29ucy9jYXB0aW9ucy1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYXJGcm9udCwgZGVmYXVsdCBhcyBDYXJGcm9udEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FyRnJvbnQgfSBmcm9tICcuL2ljb25zL2Nhci1mcm9udC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhclRheGlGcm9udCwgZGVmYXVsdCBhcyBDYXJUYXhpRnJvbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhclRheGlGcm9udCB9IGZyb20gJy4vaWNvbnMvY2FyLXRheGktZnJvbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYXIsIGRlZmF1bHQgYXMgQ2FySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYXIgfSBmcm9tICcuL2ljb25zL2Nhci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhcmF2YW4sIGRlZmF1bHQgYXMgQ2FyYXZhbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FyYXZhbiB9IGZyb20gJy4vaWNvbnMvY2FyYXZhbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhcnJvdCwgZGVmYXVsdCBhcyBDYXJyb3RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhcnJvdCB9IGZyb20gJy4vaWNvbnMvY2Fycm90LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FzZUxvd2VyLCBkZWZhdWx0IGFzIENhc2VMb3dlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FzZUxvd2VyIH0gZnJvbSAnLi9pY29ucy9jYXNlLWxvd2VyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FzZVNlbnNpdGl2ZSwgZGVmYXVsdCBhcyBDYXNlU2Vuc2l0aXZlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDYXNlU2Vuc2l0aXZlIH0gZnJvbSAnLi9pY29ucy9jYXNlLXNlbnNpdGl2ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhc2VVcHBlciwgZGVmYXVsdCBhcyBDYXNlVXBwZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhc2VVcHBlciB9IGZyb20gJy4vaWNvbnMvY2FzZS11cHBlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhc3NldHRlVGFwZSwgZGVmYXVsdCBhcyBDYXNzZXR0ZVRhcGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhc3NldHRlVGFwZSB9IGZyb20gJy4vaWNvbnMvY2Fzc2V0dGUtdGFwZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhc3QsIGRlZmF1bHQgYXMgQ2FzdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2FzdCB9IGZyb20gJy4vaWNvbnMvY2FzdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhc3RsZSwgZGVmYXVsdCBhcyBDYXN0bGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNhc3RsZSB9IGZyb20gJy4vaWNvbnMvY2FzdGxlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2F0LCBkZWZhdWx0IGFzIENhdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2F0IH0gZnJvbSAnLi9pY29ucy9jYXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDY3R2LCBkZWZhdWx0IGFzIENjdHZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNjdHYgfSBmcm9tICcuL2ljb25zL2NjdHYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGFydEJhckRlY3JlYXNpbmcsIGRlZmF1bHQgYXMgQ2hhcnRCYXJEZWNyZWFzaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGFydEJhckRlY3JlYXNpbmcgfSBmcm9tICcuL2ljb25zL2NoYXJ0LWJhci1kZWNyZWFzaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hhcnRCYXJJbmNyZWFzaW5nLCBkZWZhdWx0IGFzIENoYXJ0QmFySW5jcmVhc2luZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRCYXJJbmNyZWFzaW5nIH0gZnJvbSAnLi9pY29ucy9jaGFydC1iYXItaW5jcmVhc2luZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoYXJ0QmFyU3RhY2tlZCwgZGVmYXVsdCBhcyBDaGFydEJhclN0YWNrZWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoYXJ0QmFyU3RhY2tlZCB9IGZyb20gJy4vaWNvbnMvY2hhcnQtYmFyLXN0YWNrZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGFydENvbHVtbkRlY3JlYXNpbmcsIGRlZmF1bHQgYXMgQ2hhcnRDb2x1bW5EZWNyZWFzaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGFydENvbHVtbkRlY3JlYXNpbmcgfSBmcm9tICcuL2ljb25zL2NoYXJ0LWNvbHVtbi1kZWNyZWFzaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hhcnRDb2x1bW5TdGFja2VkLCBkZWZhdWx0IGFzIENoYXJ0Q29sdW1uU3RhY2tlZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRDb2x1bW5TdGFja2VkIH0gZnJvbSAnLi9pY29ucy9jaGFydC1jb2x1bW4tc3RhY2tlZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoYXJ0R2FudHQsIGRlZmF1bHQgYXMgQ2hhcnRHYW50dEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRHYW50dCB9IGZyb20gJy4vaWNvbnMvY2hhcnQtZ2FudHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGFydE5ldHdvcmssIGRlZmF1bHQgYXMgQ2hhcnROZXR3b3JrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGFydE5ldHdvcmsgfSBmcm9tICcuL2ljb25zL2NoYXJ0LW5ldHdvcmsuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGFydE5vQXhlc0NvbHVtbkRlY3JlYXNpbmcsIGRlZmF1bHQgYXMgQ2hhcnROb0F4ZXNDb2x1bW5EZWNyZWFzaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGFydE5vQXhlc0NvbHVtbkRlY3JlYXNpbmcgfSBmcm9tICcuL2ljb25zL2NoYXJ0LW5vLWF4ZXMtY29sdW1uLWRlY3JlYXNpbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGFydE5vQXhlc0NvbWJpbmVkLCBkZWZhdWx0IGFzIENoYXJ0Tm9BeGVzQ29tYmluZWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoYXJ0Tm9BeGVzQ29tYmluZWQgfSBmcm9tICcuL2ljb25zL2NoYXJ0LW5vLWF4ZXMtY29tYmluZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGFydFNwbGluZSwgZGVmYXVsdCBhcyBDaGFydFNwbGluZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hhcnRTcGxpbmUgfSBmcm9tICcuL2ljb25zL2NoYXJ0LXNwbGluZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZWNrQ2hlY2ssIGRlZmF1bHQgYXMgQ2hlY2tDaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hlY2tDaGVjayB9IGZyb20gJy4vaWNvbnMvY2hlY2stY2hlY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGVjaywgZGVmYXVsdCBhcyBDaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hlY2sgfSBmcm9tICcuL2ljb25zL2NoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hlZkhhdCwgZGVmYXVsdCBhcyBDaGVmSGF0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGVmSGF0IH0gZnJvbSAnLi9pY29ucy9jaGVmLWhhdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZXJyeSwgZGVmYXVsdCBhcyBDaGVycnlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZXJyeSB9IGZyb20gJy4vaWNvbnMvY2hlcnJ5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbkRvd24sIGRlZmF1bHQgYXMgQ2hldnJvbkRvd25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZXZyb25Eb3duIH0gZnJvbSAnLi9pY29ucy9jaGV2cm9uLWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGV2cm9uRmlyc3QsIGRlZmF1bHQgYXMgQ2hldnJvbkZpcnN0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uRmlyc3QgfSBmcm9tICcuL2ljb25zL2NoZXZyb24tZmlyc3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGV2cm9uTGFzdCwgZGVmYXVsdCBhcyBDaGV2cm9uTGFzdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hldnJvbkxhc3QgfSBmcm9tICcuL2ljb25zL2NoZXZyb24tbGFzdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZXZyb25MZWZ0LCBkZWZhdWx0IGFzIENoZXZyb25MZWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uTGVmdCB9IGZyb20gJy4vaWNvbnMvY2hldnJvbi1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvblJpZ2h0LCBkZWZhdWx0IGFzIENoZXZyb25SaWdodEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hldnJvblJpZ2h0IH0gZnJvbSAnLi9pY29ucy9jaGV2cm9uLXJpZ2h0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvblVwLCBkZWZhdWx0IGFzIENoZXZyb25VcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hldnJvblVwIH0gZnJvbSAnLi9pY29ucy9jaGV2cm9uLXVwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbnNEb3duVXAsIGRlZmF1bHQgYXMgQ2hldnJvbnNEb3duVXBJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZXZyb25zRG93blVwIH0gZnJvbSAnLi9pY29ucy9jaGV2cm9ucy1kb3duLXVwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbnNEb3duLCBkZWZhdWx0IGFzIENoZXZyb25zRG93bkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hldnJvbnNEb3duIH0gZnJvbSAnLi9pY29ucy9jaGV2cm9ucy1kb3duLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbnNMZWZ0UmlnaHRFbGxpcHNpcywgZGVmYXVsdCBhcyBDaGV2cm9uc0xlZnRSaWdodEVsbGlwc2lzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uc0xlZnRSaWdodEVsbGlwc2lzIH0gZnJvbSAnLi9pY29ucy9jaGV2cm9ucy1sZWZ0LXJpZ2h0LWVsbGlwc2lzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbnNMZWZ0UmlnaHQsIGRlZmF1bHQgYXMgQ2hldnJvbnNMZWZ0UmlnaHRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZXZyb25zTGVmdFJpZ2h0IH0gZnJvbSAnLi9pY29ucy9jaGV2cm9ucy1sZWZ0LXJpZ2h0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbnNMZWZ0LCBkZWZhdWx0IGFzIENoZXZyb25zTGVmdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hldnJvbnNMZWZ0IH0gZnJvbSAnLi9pY29ucy9jaGV2cm9ucy1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbnNSaWdodExlZnQsIGRlZmF1bHQgYXMgQ2hldnJvbnNSaWdodExlZnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNoZXZyb25zUmlnaHRMZWZ0IH0gZnJvbSAnLi9pY29ucy9jaGV2cm9ucy1yaWdodC1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hldnJvbnNSaWdodCwgZGVmYXVsdCBhcyBDaGV2cm9uc1JpZ2h0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uc1JpZ2h0IH0gZnJvbSAnLi9pY29ucy9jaGV2cm9ucy1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZXZyb25zVXBEb3duLCBkZWZhdWx0IGFzIENoZXZyb25zVXBEb3duSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaGV2cm9uc1VwRG93biB9IGZyb20gJy4vaWNvbnMvY2hldnJvbnMtdXAtZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoZXZyb25zVXAsIGRlZmF1bHQgYXMgQ2hldnJvbnNVcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2hldnJvbnNVcCB9IGZyb20gJy4vaWNvbnMvY2hldnJvbnMtdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaHJvbWUsIGRlZmF1bHQgYXMgQ2hyb21lSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaHJvbWUgfSBmcm9tICcuL2ljb25zL2Nocm9tZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENodXJjaCwgZGVmYXVsdCBhcyBDaHVyY2hJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNodXJjaCB9IGZyb20gJy4vaWNvbnMvY2h1cmNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lnYXJldHRlT2ZmLCBkZWZhdWx0IGFzIENpZ2FyZXR0ZU9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lnYXJldHRlT2ZmIH0gZnJvbSAnLi9pY29ucy9jaWdhcmV0dGUtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lnYXJldHRlLCBkZWZhdWx0IGFzIENpZ2FyZXR0ZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lnYXJldHRlIH0gZnJvbSAnLi9pY29ucy9jaWdhcmV0dGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVEYXNoZWQsIGRlZmF1bHQgYXMgQ2lyY2xlRGFzaGVkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVEYXNoZWQgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1kYXNoZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVEb2xsYXJTaWduLCBkZWZhdWx0IGFzIENpcmNsZURvbGxhclNpZ25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZURvbGxhclNpZ24gfSBmcm9tICcuL2ljb25zL2NpcmNsZS1kb2xsYXItc2lnbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENpcmNsZURvdERhc2hlZCwgZGVmYXVsdCBhcyBDaXJjbGVEb3REYXNoZWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZURvdERhc2hlZCB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLWRvdC1kYXNoZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVEb3QsIGRlZmF1bHQgYXMgQ2lyY2xlRG90SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVEb3QgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1kb3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVFbGxpcHNpcywgZGVmYXVsdCBhcyBDaXJjbGVFbGxpcHNpc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlRWxsaXBzaXMgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1lbGxpcHNpcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENpcmNsZUVxdWFsLCBkZWZhdWx0IGFzIENpcmNsZUVxdWFsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVFcXVhbCB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLWVxdWFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY2xlRmFkaW5nQXJyb3dVcCwgZGVmYXVsdCBhcyBDaXJjbGVGYWRpbmdBcnJvd1VwSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVGYWRpbmdBcnJvd1VwIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtZmFkaW5nLWFycm93LXVwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY2xlRmFkaW5nUGx1cywgZGVmYXVsdCBhcyBDaXJjbGVGYWRpbmdQbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVGYWRpbmdQbHVzIH0gZnJvbSAnLi9pY29ucy9jaXJjbGUtZmFkaW5nLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVPZmYsIGRlZmF1bHQgYXMgQ2lyY2xlT2ZmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDaXJjbGVPZmYgfSBmcm9tICcuL2ljb25zL2NpcmNsZS1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaXJjbGVTbGFzaCwgZGVmYXVsdCBhcyBDaXJjbGVTbGFzaEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY2xlU2xhc2ggfSBmcm9tICcuL2ljb25zL2NpcmNsZS1zbGFzaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENpcmNsZSwgZGVmYXVsdCBhcyBDaXJjbGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNpcmNsZSB9IGZyb20gJy4vaWNvbnMvY2lyY2xlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2lyY3VpdEJvYXJkLCBkZWZhdWx0IGFzIENpcmN1aXRCb2FyZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2lyY3VpdEJvYXJkIH0gZnJvbSAnLi9pY29ucy9jaXJjdWl0LWJvYXJkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2l0cnVzLCBkZWZhdWx0IGFzIENpdHJ1c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2l0cnVzIH0gZnJvbSAnLi9pY29ucy9jaXRydXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbGFwcGVyYm9hcmQsIGRlZmF1bHQgYXMgQ2xhcHBlcmJvYXJkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbGFwcGVyYm9hcmQgfSBmcm9tICcuL2ljb25zL2NsYXBwZXJib2FyZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsaXBib2FyZENoZWNrLCBkZWZhdWx0IGFzIENsaXBib2FyZENoZWNrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbGlwYm9hcmRDaGVjayB9IGZyb20gJy4vaWNvbnMvY2xpcGJvYXJkLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xpcGJvYXJkQ29weSwgZGVmYXVsdCBhcyBDbGlwYm9hcmRDb3B5SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbGlwYm9hcmRDb3B5IH0gZnJvbSAnLi9pY29ucy9jbGlwYm9hcmQtY29weS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsaXBib2FyZExpc3QsIGRlZmF1bHQgYXMgQ2xpcGJvYXJkTGlzdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xpcGJvYXJkTGlzdCB9IGZyb20gJy4vaWNvbnMvY2xpcGJvYXJkLWxpc3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbGlwYm9hcmRNaW51cywgZGVmYXVsdCBhcyBDbGlwYm9hcmRNaW51c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xpcGJvYXJkTWludXMgfSBmcm9tICcuL2ljb25zL2NsaXBib2FyZC1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsaXBib2FyZFBhc3RlLCBkZWZhdWx0IGFzIENsaXBib2FyZFBhc3RlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbGlwYm9hcmRQYXN0ZSB9IGZyb20gJy4vaWNvbnMvY2xpcGJvYXJkLXBhc3RlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xpcGJvYXJkUGx1cywgZGVmYXVsdCBhcyBDbGlwYm9hcmRQbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbGlwYm9hcmRQbHVzIH0gZnJvbSAnLi9pY29ucy9jbGlwYm9hcmQtcGx1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsaXBib2FyZFR5cGUsIGRlZmF1bHQgYXMgQ2xpcGJvYXJkVHlwZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xpcGJvYXJkVHlwZSB9IGZyb20gJy4vaWNvbnMvY2xpcGJvYXJkLXR5cGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbGlwYm9hcmRYLCBkZWZhdWx0IGFzIENsaXBib2FyZFhJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsaXBib2FyZFggfSBmcm9tICcuL2ljb25zL2NsaXBib2FyZC14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xpcGJvYXJkLCBkZWZhdWx0IGFzIENsaXBib2FyZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xpcGJvYXJkIH0gZnJvbSAnLi9pY29ucy9jbGlwYm9hcmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazEsIGRlZmF1bHQgYXMgQ2xvY2sxSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazEgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazEwLCBkZWZhdWx0IGFzIENsb2NrMTBJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb2NrMTAgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTEwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvY2sxMSwgZGVmYXVsdCBhcyBDbG9jazExSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazExIH0gZnJvbSAnLi9pY29ucy9jbG9jay0xMS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsb2NrMTIsIGRlZmF1bHQgYXMgQ2xvY2sxMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvY2sxMiB9IGZyb20gJy4vaWNvbnMvY2xvY2stMTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazIsIGRlZmF1bHQgYXMgQ2xvY2sySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazIgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazMsIGRlZmF1bHQgYXMgQ2xvY2szSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazMgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazQsIGRlZmF1bHQgYXMgQ2xvY2s0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazQgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazUsIGRlZmF1bHQgYXMgQ2xvY2s1SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazUgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazYsIGRlZmF1bHQgYXMgQ2xvY2s2SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazYgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazcsIGRlZmF1bHQgYXMgQ2xvY2s3SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazcgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazgsIGRlZmF1bHQgYXMgQ2xvY2s4SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazggfSBmcm9tICcuL2ljb25zL2Nsb2NrLTguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9jazksIGRlZmF1bHQgYXMgQ2xvY2s5SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jazkgfSBmcm9tICcuL2ljb25zL2Nsb2NrLTkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG9ja0FsZXJ0LCBkZWZhdWx0IGFzIENsb2NrQWxlcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb2NrQWxlcnQgfSBmcm9tICcuL2ljb25zL2Nsb2NrLWFsZXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvY2tBcnJvd0Rvd24sIGRlZmF1bHQgYXMgQ2xvY2tBcnJvd0Rvd25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb2NrQXJyb3dEb3duIH0gZnJvbSAnLi9pY29ucy9jbG9jay1hcnJvdy1kb3duLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvY2tBcnJvd1VwLCBkZWZhdWx0IGFzIENsb2NrQXJyb3dVcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvY2tBcnJvd1VwIH0gZnJvbSAnLi9pY29ucy9jbG9jay1hcnJvdy11cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsb2NrLCBkZWZhdWx0IGFzIENsb2NrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG9jayB9IGZyb20gJy4vaWNvbnMvY2xvY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG91ZEFsZXJ0LCBkZWZhdWx0IGFzIENsb3VkQWxlcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb3VkQWxlcnQgfSBmcm9tICcuL2ljb25zL2Nsb3VkLWFsZXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvdWRDb2csIGRlZmF1bHQgYXMgQ2xvdWRDb2dJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb3VkQ29nIH0gZnJvbSAnLi9pY29ucy9jbG91ZC1jb2cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG91ZERyaXp6bGUsIGRlZmF1bHQgYXMgQ2xvdWREcml6emxlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG91ZERyaXp6bGUgfSBmcm9tICcuL2ljb25zL2Nsb3VkLWRyaXp6bGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG91ZEZvZywgZGVmYXVsdCBhcyBDbG91ZEZvZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvdWRGb2cgfSBmcm9tICcuL2ljb25zL2Nsb3VkLWZvZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsb3VkSGFpbCwgZGVmYXVsdCBhcyBDbG91ZEhhaWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb3VkSGFpbCB9IGZyb20gJy4vaWNvbnMvY2xvdWQtaGFpbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsb3VkTGlnaHRuaW5nLCBkZWZhdWx0IGFzIENsb3VkTGlnaHRuaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG91ZExpZ2h0bmluZyB9IGZyb20gJy4vaWNvbnMvY2xvdWQtbGlnaHRuaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvdWRNb29uUmFpbiwgZGVmYXVsdCBhcyBDbG91ZE1vb25SYWluSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG91ZE1vb25SYWluIH0gZnJvbSAnLi9pY29ucy9jbG91ZC1tb29uLXJhaW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG91ZE1vb24sIGRlZmF1bHQgYXMgQ2xvdWRNb29uSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG91ZE1vb24gfSBmcm9tICcuL2ljb25zL2Nsb3VkLW1vb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbG91ZE9mZiwgZGVmYXVsdCBhcyBDbG91ZE9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvdWRPZmYgfSBmcm9tICcuL2ljb25zL2Nsb3VkLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsb3VkUmFpbldpbmQsIGRlZmF1bHQgYXMgQ2xvdWRSYWluV2luZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvdWRSYWluV2luZCB9IGZyb20gJy4vaWNvbnMvY2xvdWQtcmFpbi13aW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvdWRSYWluLCBkZWZhdWx0IGFzIENsb3VkUmFpbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvdWRSYWluIH0gZnJvbSAnLi9pY29ucy9jbG91ZC1yYWluLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvdWRTbm93LCBkZWZhdWx0IGFzIENsb3VkU25vd0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvdWRTbm93IH0gZnJvbSAnLi9pY29ucy9jbG91ZC1zbm93LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvdWRTdW5SYWluLCBkZWZhdWx0IGFzIENsb3VkU3VuUmFpbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvdWRTdW5SYWluIH0gZnJvbSAnLi9pY29ucy9jbG91ZC1zdW4tcmFpbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsb3VkU3VuLCBkZWZhdWx0IGFzIENsb3VkU3VuSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDbG91ZFN1biB9IGZyb20gJy4vaWNvbnMvY2xvdWQtc3VuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvdWQsIGRlZmF1bHQgYXMgQ2xvdWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb3VkIH0gZnJvbSAnLi9pY29ucy9jbG91ZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENsb3VkeSwgZGVmYXVsdCBhcyBDbG91ZHlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsb3VkeSB9IGZyb20gJy4vaWNvbnMvY2xvdWR5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xvdmVyLCBkZWZhdWx0IGFzIENsb3Zlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ2xvdmVyIH0gZnJvbSAnLi9pY29ucy9jbG92ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDbHViLCBkZWZhdWx0IGFzIENsdWJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNsdWIgfSBmcm9tICcuL2ljb25zL2NsdWIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2RlLCBkZWZhdWx0IGFzIENvZGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvZGUgfSBmcm9tICcuL2ljb25zL2NvZGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2RlcGVuLCBkZWZhdWx0IGFzIENvZGVwZW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvZGVwZW4gfSBmcm9tICcuL2ljb25zL2NvZGVwZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2Rlc2FuZGJveCwgZGVmYXVsdCBhcyBDb2Rlc2FuZGJveEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29kZXNhbmRib3ggfSBmcm9tICcuL2ljb25zL2NvZGVzYW5kYm94LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29mZmVlLCBkZWZhdWx0IGFzIENvZmZlZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29mZmVlIH0gZnJvbSAnLi9pY29ucy9jb2ZmZWUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2csIGRlZmF1bHQgYXMgQ29nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDb2cgfSBmcm9tICcuL2ljb25zL2NvZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvaW5zLCBkZWZhdWx0IGFzIENvaW5zSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDb2lucyB9IGZyb20gJy4vaWNvbnMvY29pbnMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb2x1bW5zNCwgZGVmYXVsdCBhcyBDb2x1bW5zNEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29sdW1uczQgfSBmcm9tICcuL2ljb25zL2NvbHVtbnMtNC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbWJpbmUsIGRlZmF1bHQgYXMgQ29tYmluZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29tYmluZSB9IGZyb20gJy4vaWNvbnMvY29tYmluZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbW1hbmQsIGRlZmF1bHQgYXMgQ29tbWFuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29tbWFuZCB9IGZyb20gJy4vaWNvbnMvY29tbWFuZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbXBhc3MsIGRlZmF1bHQgYXMgQ29tcGFzc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29tcGFzcyB9IGZyb20gJy4vaWNvbnMvY29tcGFzcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbXBvbmVudCwgZGVmYXVsdCBhcyBDb21wb25lbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvbXBvbmVudCB9IGZyb20gJy4vaWNvbnMvY29tcG9uZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29tcHV0ZXIsIGRlZmF1bHQgYXMgQ29tcHV0ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvbXB1dGVyIH0gZnJvbSAnLi9pY29ucy9jb21wdXRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbmNpZXJnZUJlbGwsIGRlZmF1bHQgYXMgQ29uY2llcmdlQmVsbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29uY2llcmdlQmVsbCB9IGZyb20gJy4vaWNvbnMvY29uY2llcmdlLWJlbGwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb25lLCBkZWZhdWx0IGFzIENvbmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvbmUgfSBmcm9tICcuL2ljb25zL2NvbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb25zdHJ1Y3Rpb24sIGRlZmF1bHQgYXMgQ29uc3RydWN0aW9uSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDb25zdHJ1Y3Rpb24gfSBmcm9tICcuL2ljb25zL2NvbnN0cnVjdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbnRhY3QsIGRlZmF1bHQgYXMgQ29udGFjdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29udGFjdCB9IGZyb20gJy4vaWNvbnMvY29udGFjdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbnRhaW5lciwgZGVmYXVsdCBhcyBDb250YWluZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvbnRhaW5lciB9IGZyb20gJy4vaWNvbnMvY29udGFpbmVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29udHJhc3QsIGRlZmF1bHQgYXMgQ29udHJhc3RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvbnRyYXN0IH0gZnJvbSAnLi9pY29ucy9jb250cmFzdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvb2tpZSwgZGVmYXVsdCBhcyBDb29raWVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvb2tpZSB9IGZyb20gJy4vaWNvbnMvY29va2llLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29va2luZ1BvdCwgZGVmYXVsdCBhcyBDb29raW5nUG90SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDb29raW5nUG90IH0gZnJvbSAnLi9pY29ucy9jb29raW5nLXBvdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvcHlDaGVjaywgZGVmYXVsdCBhcyBDb3B5Q2hlY2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcHlDaGVjayB9IGZyb20gJy4vaWNvbnMvY29weS1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvcHlNaW51cywgZGVmYXVsdCBhcyBDb3B5TWludXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcHlNaW51cyB9IGZyb20gJy4vaWNvbnMvY29weS1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvcHlQbHVzLCBkZWZhdWx0IGFzIENvcHlQbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDb3B5UGx1cyB9IGZyb20gJy4vaWNvbnMvY29weS1wbHVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29weVNsYXNoLCBkZWZhdWx0IGFzIENvcHlTbGFzaEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29weVNsYXNoIH0gZnJvbSAnLi9pY29ucy9jb3B5LXNsYXNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29weVgsIGRlZmF1bHQgYXMgQ29weVhJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcHlYIH0gZnJvbSAnLi9pY29ucy9jb3B5LXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb3B5LCBkZWZhdWx0IGFzIENvcHlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcHkgfSBmcm9tICcuL2ljb25zL2NvcHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb3B5bGVmdCwgZGVmYXVsdCBhcyBDb3B5bGVmdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29weWxlZnQgfSBmcm9tICcuL2ljb25zL2NvcHlsZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29weXJpZ2h0LCBkZWZhdWx0IGFzIENvcHlyaWdodEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29weXJpZ2h0IH0gZnJvbSAnLi9pY29ucy9jb3B5cmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb3JuZXJEb3duTGVmdCwgZGVmYXVsdCBhcyBDb3JuZXJEb3duTGVmdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29ybmVyRG93bkxlZnQgfSBmcm9tICcuL2ljb25zL2Nvcm5lci1kb3duLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb3JuZXJEb3duUmlnaHQsIGRlZmF1bHQgYXMgQ29ybmVyRG93blJpZ2h0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDb3JuZXJEb3duUmlnaHQgfSBmcm9tICcuL2ljb25zL2Nvcm5lci1kb3duLXJpZ2h0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29ybmVyTGVmdERvd24sIGRlZmF1bHQgYXMgQ29ybmVyTGVmdERvd25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcm5lckxlZnREb3duIH0gZnJvbSAnLi9pY29ucy9jb3JuZXItbGVmdC1kb3duLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29ybmVyTGVmdFVwLCBkZWZhdWx0IGFzIENvcm5lckxlZnRVcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ29ybmVyTGVmdFVwIH0gZnJvbSAnLi9pY29ucy9jb3JuZXItbGVmdC11cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvcm5lclJpZ2h0RG93biwgZGVmYXVsdCBhcyBDb3JuZXJSaWdodERvd25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcm5lclJpZ2h0RG93biB9IGZyb20gJy4vaWNvbnMvY29ybmVyLXJpZ2h0LWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb3JuZXJSaWdodFVwLCBkZWZhdWx0IGFzIENvcm5lclJpZ2h0VXBJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcm5lclJpZ2h0VXAgfSBmcm9tICcuL2ljb25zL2Nvcm5lci1yaWdodC11cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvcm5lclVwTGVmdCwgZGVmYXVsdCBhcyBDb3JuZXJVcExlZnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcm5lclVwTGVmdCB9IGZyb20gJy4vaWNvbnMvY29ybmVyLXVwLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb3JuZXJVcFJpZ2h0LCBkZWZhdWx0IGFzIENvcm5lclVwUmlnaHRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcm5lclVwUmlnaHQgfSBmcm9tICcuL2ljb25zL2Nvcm5lci11cC1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENwdSwgZGVmYXVsdCBhcyBDcHVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNwdSB9IGZyb20gJy4vaWNvbnMvY3B1LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3JlYXRpdmVDb21tb25zLCBkZWZhdWx0IGFzIENyZWF0aXZlQ29tbW9uc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ3JlYXRpdmVDb21tb25zIH0gZnJvbSAnLi9pY29ucy9jcmVhdGl2ZS1jb21tb25zLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3JlZGl0Q2FyZCwgZGVmYXVsdCBhcyBDcmVkaXRDYXJkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDcmVkaXRDYXJkIH0gZnJvbSAnLi9pY29ucy9jcmVkaXQtY2FyZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENyb2lzc2FudCwgZGVmYXVsdCBhcyBDcm9pc3NhbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNyb2lzc2FudCB9IGZyb20gJy4vaWNvbnMvY3JvaXNzYW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3JvcCwgZGVmYXVsdCBhcyBDcm9wSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDcm9wIH0gZnJvbSAnLi9pY29ucy9jcm9wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3Jvc3MsIGRlZmF1bHQgYXMgQ3Jvc3NJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNyb3NzIH0gZnJvbSAnLi9pY29ucy9jcm9zcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENyb3NzaGFpciwgZGVmYXVsdCBhcyBDcm9zc2hhaXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNyb3NzaGFpciB9IGZyb20gJy4vaWNvbnMvY3Jvc3NoYWlyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3Jvd24sIGRlZmF1bHQgYXMgQ3Jvd25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNyb3duIH0gZnJvbSAnLi9pY29ucy9jcm93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEN1Ym9pZCwgZGVmYXVsdCBhcyBDdWJvaWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUN1Ym9pZCB9IGZyb20gJy4vaWNvbnMvY3Vib2lkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3VwU29kYSwgZGVmYXVsdCBhcyBDdXBTb2RhSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDdXBTb2RhIH0gZnJvbSAnLi9pY29ucy9jdXAtc29kYS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEN1cnJlbmN5LCBkZWZhdWx0IGFzIEN1cnJlbmN5SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDdXJyZW5jeSB9IGZyb20gJy4vaWNvbnMvY3VycmVuY3kuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDeWxpbmRlciwgZGVmYXVsdCBhcyBDeWxpbmRlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ3lsaW5kZXIgfSBmcm9tICcuL2ljb25zL2N5bGluZGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGFtLCBkZWZhdWx0IGFzIERhbUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRGFtIH0gZnJvbSAnLi9pY29ucy9kYW0uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEYXRhYmFzZUJhY2t1cCwgZGVmYXVsdCBhcyBEYXRhYmFzZUJhY2t1cEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRGF0YWJhc2VCYWNrdXAgfSBmcm9tICcuL2ljb25zL2RhdGFiYXNlLWJhY2t1cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERhdGFiYXNlWmFwLCBkZWZhdWx0IGFzIERhdGFiYXNlWmFwSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEYXRhYmFzZVphcCB9IGZyb20gJy4vaWNvbnMvZGF0YWJhc2UtemFwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGF0YWJhc2UsIGRlZmF1bHQgYXMgRGF0YWJhc2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURhdGFiYXNlIH0gZnJvbSAnLi9pY29ucy9kYXRhYmFzZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERlbGV0ZSwgZGVmYXVsdCBhcyBEZWxldGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURlbGV0ZSB9IGZyb20gJy4vaWNvbnMvZGVsZXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGVzc2VydCwgZGVmYXVsdCBhcyBEZXNzZXJ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEZXNzZXJ0IH0gZnJvbSAnLi9pY29ucy9kZXNzZXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGlhbWV0ZXIsIGRlZmF1bHQgYXMgRGlhbWV0ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURpYW1ldGVyIH0gZnJvbSAnLi9pY29ucy9kaWFtZXRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERpYW1vbmRNaW51cywgZGVmYXVsdCBhcyBEaWFtb25kTWludXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURpYW1vbmRNaW51cyB9IGZyb20gJy4vaWNvbnMvZGlhbW9uZC1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERpYW1vbmRQbHVzLCBkZWZhdWx0IGFzIERpYW1vbmRQbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEaWFtb25kUGx1cyB9IGZyb20gJy4vaWNvbnMvZGlhbW9uZC1wbHVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGlhbW9uZCwgZGVmYXVsdCBhcyBEaWFtb25kSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEaWFtb25kIH0gZnJvbSAnLi9pY29ucy9kaWFtb25kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGljZTEsIGRlZmF1bHQgYXMgRGljZTFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURpY2UxIH0gZnJvbSAnLi9pY29ucy9kaWNlLTEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEaWNlMiwgZGVmYXVsdCBhcyBEaWNlMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRGljZTIgfSBmcm9tICcuL2ljb25zL2RpY2UtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERpY2UzLCBkZWZhdWx0IGFzIERpY2UzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEaWNlMyB9IGZyb20gJy4vaWNvbnMvZGljZS0zLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGljZTQsIGRlZmF1bHQgYXMgRGljZTRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURpY2U0IH0gZnJvbSAnLi9pY29ucy9kaWNlLTQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEaWNlNSwgZGVmYXVsdCBhcyBEaWNlNUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRGljZTUgfSBmcm9tICcuL2ljb25zL2RpY2UtNS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERpY2U2LCBkZWZhdWx0IGFzIERpY2U2SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEaWNlNiB9IGZyb20gJy4vaWNvbnMvZGljZS02LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGljZXMsIGRlZmF1bHQgYXMgRGljZXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURpY2VzIH0gZnJvbSAnLi9pY29ucy9kaWNlcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERpZmYsIGRlZmF1bHQgYXMgRGlmZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRGlmZiB9IGZyb20gJy4vaWNvbnMvZGlmZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERpc2MyLCBkZWZhdWx0IGFzIERpc2MySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEaXNjMiB9IGZyb20gJy4vaWNvbnMvZGlzYy0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGlzYzMsIGRlZmF1bHQgYXMgRGlzYzNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURpc2MzIH0gZnJvbSAnLi9pY29ucy9kaXNjLTMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEaXNjQWxidW0sIGRlZmF1bHQgYXMgRGlzY0FsYnVtSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEaXNjQWxidW0gfSBmcm9tICcuL2ljb25zL2Rpc2MtYWxidW0uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEaXNjLCBkZWZhdWx0IGFzIERpc2NJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURpc2MgfSBmcm9tICcuL2ljb25zL2Rpc2MuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEaXZpZGUsIGRlZmF1bHQgYXMgRGl2aWRlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEaXZpZGUgfSBmcm9tICcuL2ljb25zL2RpdmlkZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERuYU9mZiwgZGVmYXVsdCBhcyBEbmFPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURuYU9mZiB9IGZyb20gJy4vaWNvbnMvZG5hLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERuYSwgZGVmYXVsdCBhcyBEbmFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURuYSB9IGZyb20gJy4vaWNvbnMvZG5hLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRG9jaywgZGVmYXVsdCBhcyBEb2NrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEb2NrIH0gZnJvbSAnLi9pY29ucy9kb2NrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRG9nLCBkZWZhdWx0IGFzIERvZ0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG9nIH0gZnJvbSAnLi9pY29ucy9kb2cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEb2xsYXJTaWduLCBkZWZhdWx0IGFzIERvbGxhclNpZ25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURvbGxhclNpZ24gfSBmcm9tICcuL2ljb25zL2RvbGxhci1zaWduLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRG9udXQsIGRlZmF1bHQgYXMgRG9udXRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURvbnV0IH0gZnJvbSAnLi9pY29ucy9kb251dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERvb3JDbG9zZWQsIGRlZmF1bHQgYXMgRG9vckNsb3NlZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG9vckNsb3NlZCB9IGZyb20gJy4vaWNvbnMvZG9vci1jbG9zZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEb29yT3BlbiwgZGVmYXVsdCBhcyBEb29yT3Blbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG9vck9wZW4gfSBmcm9tICcuL2ljb25zL2Rvb3Itb3Blbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERvdCwgZGVmYXVsdCBhcyBEb3RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURvdCB9IGZyb20gJy4vaWNvbnMvZG90LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRG93bmxvYWQsIGRlZmF1bHQgYXMgRG93bmxvYWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURvd25sb2FkIH0gZnJvbSAnLi9pY29ucy9kb3dubG9hZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERyYWZ0aW5nQ29tcGFzcywgZGVmYXVsdCBhcyBEcmFmdGluZ0NvbXBhc3NJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURyYWZ0aW5nQ29tcGFzcyB9IGZyb20gJy4vaWNvbnMvZHJhZnRpbmctY29tcGFzcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERyYW1hLCBkZWZhdWx0IGFzIERyYW1hSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEcmFtYSB9IGZyb20gJy4vaWNvbnMvZHJhbWEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmliYmJsZSwgZGVmYXVsdCBhcyBEcmliYmJsZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRHJpYmJibGUgfSBmcm9tICcuL2ljb25zL2RyaWJiYmxlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJpbGwsIGRlZmF1bHQgYXMgRHJpbGxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURyaWxsIH0gZnJvbSAnLi9pY29ucy9kcmlsbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERyb3BsZXRPZmYsIGRlZmF1bHQgYXMgRHJvcGxldE9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRHJvcGxldE9mZiB9IGZyb20gJy4vaWNvbnMvZHJvcGxldC1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcm9wbGV0LCBkZWZhdWx0IGFzIERyb3BsZXRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURyb3BsZXQgfSBmcm9tICcuL2ljb25zL2Ryb3BsZXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcm9wbGV0cywgZGVmYXVsdCBhcyBEcm9wbGV0c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRHJvcGxldHMgfSBmcm9tICcuL2ljb25zL2Ryb3BsZXRzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJ1bSwgZGVmYXVsdCBhcyBEcnVtSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEcnVtIH0gZnJvbSAnLi9pY29ucy9kcnVtLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJ1bXN0aWNrLCBkZWZhdWx0IGFzIERydW1zdGlja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRHJ1bXN0aWNrIH0gZnJvbSAnLi9pY29ucy9kcnVtc3RpY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEdW1iYmVsbCwgZGVmYXVsdCBhcyBEdW1iYmVsbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRHVtYmJlbGwgfSBmcm9tICcuL2ljb25zL2R1bWJiZWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRWFyT2ZmLCBkZWZhdWx0IGFzIEVhck9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRWFyT2ZmIH0gZnJvbSAnLi9pY29ucy9lYXItb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRWFyLCBkZWZhdWx0IGFzIEVhckljb24sIGRlZmF1bHQgYXMgTHVjaWRlRWFyIH0gZnJvbSAnLi9pY29ucy9lYXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFYXJ0aExvY2ssIGRlZmF1bHQgYXMgRWFydGhMb2NrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVFYXJ0aExvY2sgfSBmcm9tICcuL2ljb25zL2VhcnRoLWxvY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFY2xpcHNlLCBkZWZhdWx0IGFzIEVjbGlwc2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUVjbGlwc2UgfSBmcm9tICcuL2ljb25zL2VjbGlwc2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFZ2dGcmllZCwgZGVmYXVsdCBhcyBFZ2dGcmllZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRWdnRnJpZWQgfSBmcm9tICcuL2ljb25zL2VnZy1mcmllZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEVnZ09mZiwgZGVmYXVsdCBhcyBFZ2dPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUVnZ09mZiB9IGZyb20gJy4vaWNvbnMvZWdnLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEVnZywgZGVmYXVsdCBhcyBFZ2dJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUVnZyB9IGZyb20gJy4vaWNvbnMvZWdnLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXF1YWxBcHByb3hpbWF0ZWx5LCBkZWZhdWx0IGFzIEVxdWFsQXBwcm94aW1hdGVseUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRXF1YWxBcHByb3hpbWF0ZWx5IH0gZnJvbSAnLi9pY29ucy9lcXVhbC1hcHByb3hpbWF0ZWx5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXF1YWxOb3QsIGRlZmF1bHQgYXMgRXF1YWxOb3RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUVxdWFsTm90IH0gZnJvbSAnLi9pY29ucy9lcXVhbC1ub3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFcXVhbCwgZGVmYXVsdCBhcyBFcXVhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRXF1YWwgfSBmcm9tICcuL2ljb25zL2VxdWFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXJhc2VyLCBkZWZhdWx0IGFzIEVyYXNlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlRXJhc2VyIH0gZnJvbSAnLi9pY29ucy9lcmFzZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFdGhlcm5ldFBvcnQsIGRlZmF1bHQgYXMgRXRoZXJuZXRQb3J0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVFdGhlcm5ldFBvcnQgfSBmcm9tICcuL2ljb25zL2V0aGVybmV0LXBvcnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFdXJvLCBkZWZhdWx0IGFzIEV1cm9JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUV1cm8gfSBmcm9tICcuL2ljb25zL2V1cm8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFeHBhbmQsIGRlZmF1bHQgYXMgRXhwYW5kSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVFeHBhbmQgfSBmcm9tICcuL2ljb25zL2V4cGFuZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV4dGVybmFsTGluaywgZGVmYXVsdCBhcyBFeHRlcm5hbExpbmtJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUV4dGVybmFsTGluayB9IGZyb20gJy4vaWNvbnMvZXh0ZXJuYWwtbGluay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV5ZUNsb3NlZCwgZGVmYXVsdCBhcyBFeWVDbG9zZWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUV5ZUNsb3NlZCB9IGZyb20gJy4vaWNvbnMvZXllLWNsb3NlZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV5ZU9mZiwgZGVmYXVsdCBhcyBFeWVPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUV5ZU9mZiB9IGZyb20gJy4vaWNvbnMvZXllLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV5ZSwgZGVmYXVsdCBhcyBFeWVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUV5ZSB9IGZyb20gJy4vaWNvbnMvZXllLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmFjZWJvb2ssIGRlZmF1bHQgYXMgRmFjZWJvb2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZhY2Vib29rIH0gZnJvbSAnLi9pY29ucy9mYWNlYm9vay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZhY3RvcnksIGRlZmF1bHQgYXMgRmFjdG9yeUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmFjdG9yeSB9IGZyb20gJy4vaWNvbnMvZmFjdG9yeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZhbiwgZGVmYXVsdCBhcyBGYW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZhbiB9IGZyb20gJy4vaWNvbnMvZmFuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmFzdEZvcndhcmQsIGRlZmF1bHQgYXMgRmFzdEZvcndhcmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZhc3RGb3J3YXJkIH0gZnJvbSAnLi9pY29ucy9mYXN0LWZvcndhcmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGZWF0aGVyLCBkZWZhdWx0IGFzIEZlYXRoZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZlYXRoZXIgfSBmcm9tICcuL2ljb25zL2ZlYXRoZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGZW5jZSwgZGVmYXVsdCBhcyBGZW5jZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmVuY2UgfSBmcm9tICcuL2ljb25zL2ZlbmNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmVycmlzV2hlZWwsIGRlZmF1bHQgYXMgRmVycmlzV2hlZWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZlcnJpc1doZWVsIH0gZnJvbSAnLi9pY29ucy9mZXJyaXMtd2hlZWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWdtYSwgZGVmYXVsdCBhcyBGaWdtYUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlnbWEgfSBmcm9tICcuL2ljb25zL2ZpZ21hLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUFyY2hpdmUsIGRlZmF1bHQgYXMgRmlsZUFyY2hpdmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVBcmNoaXZlIH0gZnJvbSAnLi9pY29ucy9maWxlLWFyY2hpdmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlQXVkaW8yLCBkZWZhdWx0IGFzIEZpbGVBdWRpbzJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVBdWRpbzIgfSBmcm9tICcuL2ljb25zL2ZpbGUtYXVkaW8tMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVBdWRpbywgZGVmYXVsdCBhcyBGaWxlQXVkaW9JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVBdWRpbyB9IGZyb20gJy4vaWNvbnMvZmlsZS1hdWRpby5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVCYWRnZTIsIGRlZmF1bHQgYXMgRmlsZUJhZGdlMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUJhZGdlMiB9IGZyb20gJy4vaWNvbnMvZmlsZS1iYWRnZS0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUJhZGdlLCBkZWZhdWx0IGFzIEZpbGVCYWRnZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUJhZGdlIH0gZnJvbSAnLi9pY29ucy9maWxlLWJhZGdlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUJveCwgZGVmYXVsdCBhcyBGaWxlQm94SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlQm94IH0gZnJvbSAnLi9pY29ucy9maWxlLWJveC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVDaGVjazIsIGRlZmF1bHQgYXMgRmlsZUNoZWNrMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUNoZWNrMiB9IGZyb20gJy4vaWNvbnMvZmlsZS1jaGVjay0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUNoZWNrLCBkZWZhdWx0IGFzIEZpbGVDaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUNoZWNrIH0gZnJvbSAnLi9pY29ucy9maWxlLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUNsb2NrLCBkZWZhdWx0IGFzIEZpbGVDbG9ja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUNsb2NrIH0gZnJvbSAnLi9pY29ucy9maWxlLWNsb2NrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUNvZGUyLCBkZWZhdWx0IGFzIEZpbGVDb2RlMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUNvZGUyIH0gZnJvbSAnLi9pY29ucy9maWxlLWNvZGUtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVDb2RlLCBkZWZhdWx0IGFzIEZpbGVDb2RlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlQ29kZSB9IGZyb20gJy4vaWNvbnMvZmlsZS1jb2RlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZURpZmYsIGRlZmF1bHQgYXMgRmlsZURpZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVEaWZmIH0gZnJvbSAnLi9pY29ucy9maWxlLWRpZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlRGlnaXQsIGRlZmF1bHQgYXMgRmlsZURpZ2l0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlRGlnaXQgfSBmcm9tICcuL2ljb25zL2ZpbGUtZGlnaXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlRG93biwgZGVmYXVsdCBhcyBGaWxlRG93bkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZURvd24gfSBmcm9tICcuL2ljb25zL2ZpbGUtZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVIZWFydCwgZGVmYXVsdCBhcyBGaWxlSGVhcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVIZWFydCB9IGZyb20gJy4vaWNvbnMvZmlsZS1oZWFydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVJbWFnZSwgZGVmYXVsdCBhcyBGaWxlSW1hZ2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVJbWFnZSB9IGZyb20gJy4vaWNvbnMvZmlsZS1pbWFnZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVJbnB1dCwgZGVmYXVsdCBhcyBGaWxlSW5wdXRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVJbnB1dCB9IGZyb20gJy4vaWNvbnMvZmlsZS1pbnB1dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVKc29uMiwgZGVmYXVsdCBhcyBGaWxlSnNvbjJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVKc29uMiB9IGZyb20gJy4vaWNvbnMvZmlsZS1qc29uLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlSnNvbiwgZGVmYXVsdCBhcyBGaWxlSnNvbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUpzb24gfSBmcm9tICcuL2ljb25zL2ZpbGUtanNvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVLZXkyLCBkZWZhdWx0IGFzIEZpbGVLZXkySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlS2V5MiB9IGZyb20gJy4vaWNvbnMvZmlsZS1rZXktMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVLZXksIGRlZmF1bHQgYXMgRmlsZUtleUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZUtleSB9IGZyb20gJy4vaWNvbnMvZmlsZS1rZXkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlTG9jazIsIGRlZmF1bHQgYXMgRmlsZUxvY2sySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlTG9jazIgfSBmcm9tICcuL2ljb25zL2ZpbGUtbG9jay0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZUxvY2ssIGRlZmF1bHQgYXMgRmlsZUxvY2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVMb2NrIH0gZnJvbSAnLi9pY29ucy9maWxlLWxvY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlTWludXMyLCBkZWZhdWx0IGFzIEZpbGVNaW51czJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVNaW51czIgfSBmcm9tICcuL2ljb25zL2ZpbGUtbWludXMtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVNaW51cywgZGVmYXVsdCBhcyBGaWxlTWludXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVNaW51cyB9IGZyb20gJy4vaWNvbnMvZmlsZS1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVNdXNpYywgZGVmYXVsdCBhcyBGaWxlTXVzaWNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVNdXNpYyB9IGZyb20gJy4vaWNvbnMvZmlsZS1tdXNpYy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVPdXRwdXQsIGRlZmF1bHQgYXMgRmlsZU91dHB1dEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZU91dHB1dCB9IGZyb20gJy4vaWNvbnMvZmlsZS1vdXRwdXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlUGx1czIsIGRlZmF1bHQgYXMgRmlsZVBsdXMySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlUGx1czIgfSBmcm9tICcuL2ljb25zL2ZpbGUtcGx1cy0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZVBsdXMsIGRlZmF1bHQgYXMgRmlsZVBsdXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVQbHVzIH0gZnJvbSAnLi9pY29ucy9maWxlLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlUXVlc3Rpb24sIGRlZmF1bHQgYXMgRmlsZVF1ZXN0aW9uSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlUXVlc3Rpb24gfSBmcm9tICcuL2ljb25zL2ZpbGUtcXVlc3Rpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlU2NhbiwgZGVmYXVsdCBhcyBGaWxlU2Nhbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZVNjYW4gfSBmcm9tICcuL2ljb25zL2ZpbGUtc2Nhbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVTZWFyY2gyLCBkZWZhdWx0IGFzIEZpbGVTZWFyY2gySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlU2VhcmNoMiB9IGZyb20gJy4vaWNvbnMvZmlsZS1zZWFyY2gtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVTZWFyY2gsIGRlZmF1bHQgYXMgRmlsZVNlYXJjaEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZVNlYXJjaCB9IGZyb20gJy4vaWNvbnMvZmlsZS1zZWFyY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlU2xpZGVycywgZGVmYXVsdCBhcyBGaWxlU2xpZGVyc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZVNsaWRlcnMgfSBmcm9tICcuL2ljb25zL2ZpbGUtc2xpZGVycy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVTcHJlYWRzaGVldCwgZGVmYXVsdCBhcyBGaWxlU3ByZWFkc2hlZXRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVTcHJlYWRzaGVldCB9IGZyb20gJy4vaWNvbnMvZmlsZS1zcHJlYWRzaGVldC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVTdGFjaywgZGVmYXVsdCBhcyBGaWxlU3RhY2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVTdGFjayB9IGZyb20gJy4vaWNvbnMvZmlsZS1zdGFjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVTeW1saW5rLCBkZWZhdWx0IGFzIEZpbGVTeW1saW5rSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlU3ltbGluayB9IGZyb20gJy4vaWNvbnMvZmlsZS1zeW1saW5rLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZVRlcm1pbmFsLCBkZWZhdWx0IGFzIEZpbGVUZXJtaW5hbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZVRlcm1pbmFsIH0gZnJvbSAnLi9pY29ucy9maWxlLXRlcm1pbmFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZVRleHQsIGRlZmF1bHQgYXMgRmlsZVRleHRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVUZXh0IH0gZnJvbSAnLi9pY29ucy9maWxlLXRleHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlVHlwZTIsIGRlZmF1bHQgYXMgRmlsZVR5cGUySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlVHlwZTIgfSBmcm9tICcuL2ljb25zL2ZpbGUtdHlwZS0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZVR5cGUsIGRlZmF1bHQgYXMgRmlsZVR5cGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVUeXBlIH0gZnJvbSAnLi9pY29ucy9maWxlLXR5cGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlVXAsIGRlZmF1bHQgYXMgRmlsZVVwSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlVXAgfSBmcm9tICcuL2ljb25zL2ZpbGUtdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWxlVXNlciwgZGVmYXVsdCBhcyBGaWxlVXNlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZVVzZXIgfSBmcm9tICcuL2ljb25zL2ZpbGUtdXNlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVWaWRlbzIsIGRlZmF1bHQgYXMgRmlsZVZpZGVvMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZVZpZGVvMiB9IGZyb20gJy4vaWNvbnMvZmlsZS12aWRlby0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZVZpZGVvLCBkZWZhdWx0IGFzIEZpbGVWaWRlb0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZVZpZGVvIH0gZnJvbSAnLi9pY29ucy9maWxlLXZpZGVvLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZVZvbHVtZTIsIGRlZmF1bHQgYXMgRmlsZVZvbHVtZTJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVWb2x1bWUyIH0gZnJvbSAnLi9pY29ucy9maWxlLXZvbHVtZS0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZVZvbHVtZSwgZGVmYXVsdCBhcyBGaWxlVm9sdW1lSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlVm9sdW1lIH0gZnJvbSAnLi9pY29ucy9maWxlLXZvbHVtZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVXYXJuaW5nLCBkZWZhdWx0IGFzIEZpbGVXYXJuaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlV2FybmluZyB9IGZyb20gJy4vaWNvbnMvZmlsZS13YXJuaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZVgyLCBkZWZhdWx0IGFzIEZpbGVYMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsZVgyIH0gZnJvbSAnLi9pY29ucy9maWxlLXgtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVYLCBkZWZhdWx0IGFzIEZpbGVYSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlWCB9IGZyb20gJy4vaWNvbnMvZmlsZS14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZSwgZGVmYXVsdCBhcyBGaWxlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWxlIH0gZnJvbSAnLi9pY29ucy9maWxlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlsZXMsIGRlZmF1bHQgYXMgRmlsZXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpbGVzIH0gZnJvbSAnLi9pY29ucy9maWxlcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbG0sIGRlZmF1bHQgYXMgRmlsbUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsbSB9IGZyb20gJy4vaWNvbnMvZmlsbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbHRlclgsIGRlZmF1bHQgYXMgRmlsdGVyWEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlsdGVyWCB9IGZyb20gJy4vaWNvbnMvZmlsdGVyLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaWx0ZXIsIGRlZmF1bHQgYXMgRmlsdGVySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWx0ZXIgfSBmcm9tICcuL2ljb25zL2ZpbHRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbmdlcnByaW50LCBkZWZhdWx0IGFzIEZpbmdlcnByaW50SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaW5nZXJwcmludCB9IGZyb20gJy4vaWNvbnMvZmluZ2VycHJpbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaXJlRXh0aW5ndWlzaGVyLCBkZWZhdWx0IGFzIEZpcmVFeHRpbmd1aXNoZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpcmVFeHRpbmd1aXNoZXIgfSBmcm9tICcuL2ljb25zL2ZpcmUtZXh0aW5ndWlzaGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmlzaE9mZiwgZGVmYXVsdCBhcyBGaXNoT2ZmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaXNoT2ZmIH0gZnJvbSAnLi9pY29ucy9maXNoLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpc2hTeW1ib2wsIGRlZmF1bHQgYXMgRmlzaFN5bWJvbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmlzaFN5bWJvbCB9IGZyb20gJy4vaWNvbnMvZmlzaC1zeW1ib2wuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGaXNoLCBkZWZhdWx0IGFzIEZpc2hJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZpc2ggfSBmcm9tICcuL2ljb25zL2Zpc2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbGFnT2ZmLCBkZWZhdWx0IGFzIEZsYWdPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZsYWdPZmYgfSBmcm9tICcuL2ljb25zL2ZsYWctb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxhZ1RyaWFuZ2xlTGVmdCwgZGVmYXVsdCBhcyBGbGFnVHJpYW5nbGVMZWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGbGFnVHJpYW5nbGVMZWZ0IH0gZnJvbSAnLi9pY29ucy9mbGFnLXRyaWFuZ2xlLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbGFnVHJpYW5nbGVSaWdodCwgZGVmYXVsdCBhcyBGbGFnVHJpYW5nbGVSaWdodEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmxhZ1RyaWFuZ2xlUmlnaHQgfSBmcm9tICcuL2ljb25zL2ZsYWctdHJpYW5nbGUtcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbGFnLCBkZWZhdWx0IGFzIEZsYWdJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZsYWcgfSBmcm9tICcuL2ljb25zL2ZsYWcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbGFtZUtpbmRsaW5nLCBkZWZhdWx0IGFzIEZsYW1lS2luZGxpbmdJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZsYW1lS2luZGxpbmcgfSBmcm9tICcuL2ljb25zL2ZsYW1lLWtpbmRsaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxhbWUsIGRlZmF1bHQgYXMgRmxhbWVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZsYW1lIH0gZnJvbSAnLi9pY29ucy9mbGFtZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZsYXNobGlnaHRPZmYsIGRlZmF1bHQgYXMgRmxhc2hsaWdodE9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmxhc2hsaWdodE9mZiB9IGZyb20gJy4vaWNvbnMvZmxhc2hsaWdodC1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbGFzaGxpZ2h0LCBkZWZhdWx0IGFzIEZsYXNobGlnaHRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZsYXNobGlnaHQgfSBmcm9tICcuL2ljb25zL2ZsYXNobGlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbGFza0NvbmljYWxPZmYsIGRlZmF1bHQgYXMgRmxhc2tDb25pY2FsT2ZmSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGbGFza0NvbmljYWxPZmYgfSBmcm9tICcuL2ljb25zL2ZsYXNrLWNvbmljYWwtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxhc2tDb25pY2FsLCBkZWZhdWx0IGFzIEZsYXNrQ29uaWNhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmxhc2tDb25pY2FsIH0gZnJvbSAnLi9pY29ucy9mbGFzay1jb25pY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxhc2tSb3VuZCwgZGVmYXVsdCBhcyBGbGFza1JvdW5kSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGbGFza1JvdW5kIH0gZnJvbSAnLi9pY29ucy9mbGFzay1yb3VuZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZsaXBIb3Jpem9udGFsMiwgZGVmYXVsdCBhcyBGbGlwSG9yaXpvbnRhbDJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZsaXBIb3Jpem9udGFsMiB9IGZyb20gJy4vaWNvbnMvZmxpcC1ob3Jpem9udGFsLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbGlwSG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBGbGlwSG9yaXpvbnRhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmxpcEhvcml6b250YWwgfSBmcm9tICcuL2ljb25zL2ZsaXAtaG9yaXpvbnRhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZsaXBWZXJ0aWNhbDIsIGRlZmF1bHQgYXMgRmxpcFZlcnRpY2FsMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmxpcFZlcnRpY2FsMiB9IGZyb20gJy4vaWNvbnMvZmxpcC12ZXJ0aWNhbC0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxpcFZlcnRpY2FsLCBkZWZhdWx0IGFzIEZsaXBWZXJ0aWNhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmxpcFZlcnRpY2FsIH0gZnJvbSAnLi9pY29ucy9mbGlwLXZlcnRpY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxvd2VyMiwgZGVmYXVsdCBhcyBGbG93ZXIySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGbG93ZXIyIH0gZnJvbSAnLi9pY29ucy9mbG93ZXItMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZsb3dlciwgZGVmYXVsdCBhcyBGbG93ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZsb3dlciB9IGZyb20gJy4vaWNvbnMvZmxvd2VyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9jdXMsIGRlZmF1bHQgYXMgRm9jdXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvY3VzIH0gZnJvbSAnLi9pY29ucy9mb2N1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRIb3Jpem9udGFsLCBkZWZhdWx0IGFzIEZvbGRIb3Jpem9udGFsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkSG9yaXpvbnRhbCB9IGZyb20gJy4vaWNvbnMvZm9sZC1ob3Jpem9udGFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZFZlcnRpY2FsLCBkZWZhdWx0IGFzIEZvbGRWZXJ0aWNhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZFZlcnRpY2FsIH0gZnJvbSAnLi9pY29ucy9mb2xkLXZlcnRpY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVyQXJjaGl2ZSwgZGVmYXVsdCBhcyBGb2xkZXJBcmNoaXZlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXJBcmNoaXZlIH0gZnJvbSAnLi9pY29ucy9mb2xkZXItYXJjaGl2ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlckNoZWNrLCBkZWZhdWx0IGFzIEZvbGRlckNoZWNrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXJDaGVjayB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVyQ2xvY2ssIGRlZmF1bHQgYXMgRm9sZGVyQ2xvY2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlckNsb2NrIH0gZnJvbSAnLi9pY29ucy9mb2xkZXItY2xvY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJDbG9zZWQsIGRlZmF1bHQgYXMgRm9sZGVyQ2xvc2VkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXJDbG9zZWQgfSBmcm9tICcuL2ljb25zL2ZvbGRlci1jbG9zZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJDb2RlLCBkZWZhdWx0IGFzIEZvbGRlckNvZGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlckNvZGUgfSBmcm9tICcuL2ljb25zL2ZvbGRlci1jb2RlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVyRG90LCBkZWZhdWx0IGFzIEZvbGRlckRvdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyRG90IH0gZnJvbSAnLi9pY29ucy9mb2xkZXItZG90LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVyRG93biwgZGVmYXVsdCBhcyBGb2xkZXJEb3duSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXJEb3duIH0gZnJvbSAnLi9pY29ucy9mb2xkZXItZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlckdpdDIsIGRlZmF1bHQgYXMgRm9sZGVyR2l0Mkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyR2l0MiB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLWdpdC0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVyR2l0LCBkZWZhdWx0IGFzIEZvbGRlckdpdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyR2l0IH0gZnJvbSAnLi9pY29ucy9mb2xkZXItZ2l0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVySGVhcnQsIGRlZmF1bHQgYXMgRm9sZGVySGVhcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlckhlYXJ0IH0gZnJvbSAnLi9pY29ucy9mb2xkZXItaGVhcnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJJbnB1dCwgZGVmYXVsdCBhcyBGb2xkZXJJbnB1dEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVySW5wdXQgfSBmcm9tICcuL2ljb25zL2ZvbGRlci1pbnB1dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlckthbmJhbiwgZGVmYXVsdCBhcyBGb2xkZXJLYW5iYW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlckthbmJhbiB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLWthbmJhbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlcktleSwgZGVmYXVsdCBhcyBGb2xkZXJLZXlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlcktleSB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLWtleS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlckxvY2ssIGRlZmF1bHQgYXMgRm9sZGVyTG9ja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyTG9jayB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLWxvY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJNaW51cywgZGVmYXVsdCBhcyBGb2xkZXJNaW51c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyTWludXMgfSBmcm9tICcuL2ljb25zL2ZvbGRlci1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlck9wZW5Eb3QsIGRlZmF1bHQgYXMgRm9sZGVyT3BlbkRvdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyT3BlbkRvdCB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLW9wZW4tZG90LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVyT3BlbiwgZGVmYXVsdCBhcyBGb2xkZXJPcGVuSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXJPcGVuIH0gZnJvbSAnLi9pY29ucy9mb2xkZXItb3Blbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlck91dHB1dCwgZGVmYXVsdCBhcyBGb2xkZXJPdXRwdXRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlck91dHB1dCB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLW91dHB1dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlclBsdXMsIGRlZmF1bHQgYXMgRm9sZGVyUGx1c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyUGx1cyB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJSb290LCBkZWZhdWx0IGFzIEZvbGRlclJvb3RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlclJvb3QgfSBmcm9tICcuL2ljb25zL2ZvbGRlci1yb290LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVyU2VhcmNoMiwgZGVmYXVsdCBhcyBGb2xkZXJTZWFyY2gySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXJTZWFyY2gyIH0gZnJvbSAnLi9pY29ucy9mb2xkZXItc2VhcmNoLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJTZWFyY2gsIGRlZmF1bHQgYXMgRm9sZGVyU2VhcmNoSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXJTZWFyY2ggfSBmcm9tICcuL2ljb25zL2ZvbGRlci1zZWFyY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJTeW1saW5rLCBkZWZhdWx0IGFzIEZvbGRlclN5bWxpbmtJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvbGRlclN5bWxpbmsgfSBmcm9tICcuL2ljb25zL2ZvbGRlci1zeW1saW5rLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRm9sZGVyU3luYywgZGVmYXVsdCBhcyBGb2xkZXJTeW5jSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXJTeW5jIH0gZnJvbSAnLi9pY29ucy9mb2xkZXItc3luYy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlclRyZWUsIGRlZmF1bHQgYXMgRm9sZGVyVHJlZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyVHJlZSB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLXRyZWUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXJVcCwgZGVmYXVsdCBhcyBGb2xkZXJVcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyVXAgfSBmcm9tICcuL2ljb25zL2ZvbGRlci11cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlclgsIGRlZmF1bHQgYXMgRm9sZGVyWEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVyWCB9IGZyb20gJy4vaWNvbnMvZm9sZGVyLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb2xkZXIsIGRlZmF1bHQgYXMgRm9sZGVySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb2xkZXIgfSBmcm9tICcuL2ljb25zL2ZvbGRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvbGRlcnMsIGRlZmF1bHQgYXMgRm9sZGVyc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9sZGVycyB9IGZyb20gJy4vaWNvbnMvZm9sZGVycy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvb3RwcmludHMsIGRlZmF1bHQgYXMgRm9vdHByaW50c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRm9vdHByaW50cyB9IGZyb20gJy4vaWNvbnMvZm9vdHByaW50cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZvcmtsaWZ0LCBkZWZhdWx0IGFzIEZvcmtsaWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGb3JrbGlmdCB9IGZyb20gJy4vaWNvbnMvZm9ya2xpZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGb3J3YXJkLCBkZWZhdWx0IGFzIEZvcndhcmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZvcndhcmQgfSBmcm9tICcuL2ljb25zL2ZvcndhcmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGcmFtZSwgZGVmYXVsdCBhcyBGcmFtZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRnJhbWUgfSBmcm9tICcuL2ljb25zL2ZyYW1lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRnJhbWVyLCBkZWZhdWx0IGFzIEZyYW1lckljb24sIGRlZmF1bHQgYXMgTHVjaWRlRnJhbWVyIH0gZnJvbSAnLi9pY29ucy9mcmFtZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGcm93biwgZGVmYXVsdCBhcyBGcm93bkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRnJvd24gfSBmcm9tICcuL2ljb25zL2Zyb3duLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRnVlbCwgZGVmYXVsdCBhcyBGdWVsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGdWVsIH0gZnJvbSAnLi9pY29ucy9mdWVsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRnVsbHNjcmVlbiwgZGVmYXVsdCBhcyBGdWxsc2NyZWVuSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGdWxsc2NyZWVuIH0gZnJvbSAnLi9pY29ucy9mdWxsc2NyZWVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2FsbGVyeUhvcml6b250YWxFbmQsIGRlZmF1bHQgYXMgR2FsbGVyeUhvcml6b250YWxFbmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdhbGxlcnlIb3Jpem9udGFsRW5kIH0gZnJvbSAnLi9pY29ucy9nYWxsZXJ5LWhvcml6b250YWwtZW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2FsbGVyeUhvcml6b250YWwsIGRlZmF1bHQgYXMgR2FsbGVyeUhvcml6b250YWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdhbGxlcnlIb3Jpem9udGFsIH0gZnJvbSAnLi9pY29ucy9nYWxsZXJ5LWhvcml6b250YWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHYWxsZXJ5VGh1bWJuYWlscywgZGVmYXVsdCBhcyBHYWxsZXJ5VGh1bWJuYWlsc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2FsbGVyeVRodW1ibmFpbHMgfSBmcm9tICcuL2ljb25zL2dhbGxlcnktdGh1bWJuYWlscy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdhbGxlcnlWZXJ0aWNhbEVuZCwgZGVmYXVsdCBhcyBHYWxsZXJ5VmVydGljYWxFbmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdhbGxlcnlWZXJ0aWNhbEVuZCB9IGZyb20gJy4vaWNvbnMvZ2FsbGVyeS12ZXJ0aWNhbC1lbmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHYWxsZXJ5VmVydGljYWwsIGRlZmF1bHQgYXMgR2FsbGVyeVZlcnRpY2FsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHYWxsZXJ5VmVydGljYWwgfSBmcm9tICcuL2ljb25zL2dhbGxlcnktdmVydGljYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHYW1lcGFkMiwgZGVmYXVsdCBhcyBHYW1lcGFkMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2FtZXBhZDIgfSBmcm9tICcuL2ljb25zL2dhbWVwYWQtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdhbWVwYWQsIGRlZmF1bHQgYXMgR2FtZXBhZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2FtZXBhZCB9IGZyb20gJy4vaWNvbnMvZ2FtZXBhZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdhdWdlLCBkZWZhdWx0IGFzIEdhdWdlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHYXVnZSB9IGZyb20gJy4vaWNvbnMvZ2F1Z2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHYXZlbCwgZGVmYXVsdCBhcyBHYXZlbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2F2ZWwgfSBmcm9tICcuL2ljb25zL2dhdmVsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2VtLCBkZWZhdWx0IGFzIEdlbUljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2VtIH0gZnJvbSAnLi9pY29ucy9nZW0uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHaG9zdCwgZGVmYXVsdCBhcyBHaG9zdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2hvc3QgfSBmcm9tICcuL2ljb25zL2dob3N0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2lmdCwgZGVmYXVsdCBhcyBHaWZ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHaWZ0IH0gZnJvbSAnLi9pY29ucy9naWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2l0QnJhbmNoUGx1cywgZGVmYXVsdCBhcyBHaXRCcmFuY2hQbHVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHaXRCcmFuY2hQbHVzIH0gZnJvbSAnLi9pY29ucy9naXQtYnJhbmNoLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHaXRCcmFuY2gsIGRlZmF1bHQgYXMgR2l0QnJhbmNoSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHaXRCcmFuY2ggfSBmcm9tICcuL2ljb25zL2dpdC1icmFuY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHaXRDb21taXRWZXJ0aWNhbCwgZGVmYXVsdCBhcyBHaXRDb21taXRWZXJ0aWNhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2l0Q29tbWl0VmVydGljYWwgfSBmcm9tICcuL2ljb25zL2dpdC1jb21taXQtdmVydGljYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHaXRDb21wYXJlQXJyb3dzLCBkZWZhdWx0IGFzIEdpdENvbXBhcmVBcnJvd3NJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdpdENvbXBhcmVBcnJvd3MgfSBmcm9tICcuL2ljb25zL2dpdC1jb21wYXJlLWFycm93cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdpdENvbXBhcmUsIGRlZmF1bHQgYXMgR2l0Q29tcGFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2l0Q29tcGFyZSB9IGZyb20gJy4vaWNvbnMvZ2l0LWNvbXBhcmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHaXRGb3JrLCBkZWZhdWx0IGFzIEdpdEZvcmtJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdpdEZvcmsgfSBmcm9tICcuL2ljb25zL2dpdC1mb3JrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2l0R3JhcGgsIGRlZmF1bHQgYXMgR2l0R3JhcGhJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdpdEdyYXBoIH0gZnJvbSAnLi9pY29ucy9naXQtZ3JhcGguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHaXRNZXJnZSwgZGVmYXVsdCBhcyBHaXRNZXJnZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2l0TWVyZ2UgfSBmcm9tICcuL2ljb25zL2dpdC1tZXJnZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdpdFB1bGxSZXF1ZXN0QXJyb3csIGRlZmF1bHQgYXMgR2l0UHVsbFJlcXVlc3RBcnJvd0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2l0UHVsbFJlcXVlc3RBcnJvdyB9IGZyb20gJy4vaWNvbnMvZ2l0LXB1bGwtcmVxdWVzdC1hcnJvdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdpdFB1bGxSZXF1ZXN0Q2xvc2VkLCBkZWZhdWx0IGFzIEdpdFB1bGxSZXF1ZXN0Q2xvc2VkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHaXRQdWxsUmVxdWVzdENsb3NlZCB9IGZyb20gJy4vaWNvbnMvZ2l0LXB1bGwtcmVxdWVzdC1jbG9zZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHaXRQdWxsUmVxdWVzdENyZWF0ZUFycm93LCBkZWZhdWx0IGFzIEdpdFB1bGxSZXF1ZXN0Q3JlYXRlQXJyb3dJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdpdFB1bGxSZXF1ZXN0Q3JlYXRlQXJyb3cgfSBmcm9tICcuL2ljb25zL2dpdC1wdWxsLXJlcXVlc3QtY3JlYXRlLWFycm93LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2l0UHVsbFJlcXVlc3RDcmVhdGUsIGRlZmF1bHQgYXMgR2l0UHVsbFJlcXVlc3RDcmVhdGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdpdFB1bGxSZXF1ZXN0Q3JlYXRlIH0gZnJvbSAnLi9pY29ucy9naXQtcHVsbC1yZXF1ZXN0LWNyZWF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdpdFB1bGxSZXF1ZXN0RHJhZnQsIGRlZmF1bHQgYXMgR2l0UHVsbFJlcXVlc3REcmFmdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2l0UHVsbFJlcXVlc3REcmFmdCB9IGZyb20gJy4vaWNvbnMvZ2l0LXB1bGwtcmVxdWVzdC1kcmFmdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdpdFB1bGxSZXF1ZXN0LCBkZWZhdWx0IGFzIEdpdFB1bGxSZXF1ZXN0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHaXRQdWxsUmVxdWVzdCB9IGZyb20gJy4vaWNvbnMvZ2l0LXB1bGwtcmVxdWVzdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdpdGh1YiwgZGVmYXVsdCBhcyBHaXRodWJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdpdGh1YiB9IGZyb20gJy4vaWNvbnMvZ2l0aHViLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2l0bGFiLCBkZWZhdWx0IGFzIEdpdGxhYkljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2l0bGFiIH0gZnJvbSAnLi9pY29ucy9naXRsYWIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbGFzc1dhdGVyLCBkZWZhdWx0IGFzIEdsYXNzV2F0ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdsYXNzV2F0ZXIgfSBmcm9tICcuL2ljb25zL2dsYXNzLXdhdGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xhc3NlcywgZGVmYXVsdCBhcyBHbGFzc2VzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHbGFzc2VzIH0gZnJvbSAnLi9pY29ucy9nbGFzc2VzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmVMb2NrLCBkZWZhdWx0IGFzIEdsb2JlTG9ja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlR2xvYmVMb2NrIH0gZnJvbSAnLi9pY29ucy9nbG9iZS1sb2NrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmUsIGRlZmF1bHQgYXMgR2xvYmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdsb2JlIH0gZnJvbSAnLi9pY29ucy9nbG9iZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdvYWwsIGRlZmF1bHQgYXMgR29hbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR29hbCB9IGZyb20gJy4vaWNvbnMvZ29hbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyYWIsIGRlZmF1bHQgYXMgR3JhYkljb24sIGRlZmF1bHQgYXMgTHVjaWRlR3JhYiB9IGZyb20gJy4vaWNvbnMvZ3JhYi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyYWR1YXRpb25DYXAsIGRlZmF1bHQgYXMgR3JhZHVhdGlvbkNhcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR3JhZHVhdGlvbkNhcCB9IGZyb20gJy4vaWNvbnMvZ3JhZHVhdGlvbi1jYXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHcmFwZSwgZGVmYXVsdCBhcyBHcmFwZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlR3JhcGUgfSBmcm9tICcuL2ljb25zL2dyYXBlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR3JpZDJ4MkNoZWNrLCBkZWZhdWx0IGFzIEdyaWQyeDJDaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlR3JpZDJ4MkNoZWNrIH0gZnJvbSAnLi9pY29ucy9ncmlkLTJ4Mi1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyaWQyeDJYLCBkZWZhdWx0IGFzIEdyaWQyeDJYSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHcmlkMngyWCB9IGZyb20gJy4vaWNvbnMvZ3JpZC0yeDIteC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyaXBIb3Jpem9udGFsLCBkZWZhdWx0IGFzIEdyaXBIb3Jpem9udGFsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHcmlwSG9yaXpvbnRhbCB9IGZyb20gJy4vaWNvbnMvZ3JpcC1ob3Jpem9udGFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR3JpcFZlcnRpY2FsLCBkZWZhdWx0IGFzIEdyaXBWZXJ0aWNhbEljb24sIGRlZmF1bHQgYXMgTHVjaWRlR3JpcFZlcnRpY2FsIH0gZnJvbSAnLi9pY29ucy9ncmlwLXZlcnRpY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR3JpcCwgZGVmYXVsdCBhcyBHcmlwSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVHcmlwIH0gZnJvbSAnLi9pY29ucy9ncmlwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR3JvdXAsIGRlZmF1bHQgYXMgR3JvdXBJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUdyb3VwIH0gZnJvbSAnLi9pY29ucy9ncm91cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEd1aXRhciwgZGVmYXVsdCBhcyBHdWl0YXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUd1aXRhciB9IGZyb20gJy4vaWNvbnMvZ3VpdGFyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGFtLCBkZWZhdWx0IGFzIEhhbUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGFtIH0gZnJvbSAnLi9pY29ucy9oYW0uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIYW1tZXIsIGRlZmF1bHQgYXMgSGFtbWVySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIYW1tZXIgfSBmcm9tICcuL2ljb25zL2hhbW1lci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhhbmRDb2lucywgZGVmYXVsdCBhcyBIYW5kQ29pbnNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhhbmRDb2lucyB9IGZyb20gJy4vaWNvbnMvaGFuZC1jb2lucy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhhbmRIZWFydCwgZGVmYXVsdCBhcyBIYW5kSGVhcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhhbmRIZWFydCB9IGZyb20gJy4vaWNvbnMvaGFuZC1oZWFydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhhbmRNZXRhbCwgZGVmYXVsdCBhcyBIYW5kTWV0YWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhhbmRNZXRhbCB9IGZyb20gJy4vaWNvbnMvaGFuZC1tZXRhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhhbmRQbGF0dGVyLCBkZWZhdWx0IGFzIEhhbmRQbGF0dGVySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIYW5kUGxhdHRlciB9IGZyb20gJy4vaWNvbnMvaGFuZC1wbGF0dGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGFuZCwgZGVmYXVsdCBhcyBIYW5kSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIYW5kIH0gZnJvbSAnLi9pY29ucy9oYW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGFuZHNoYWtlLCBkZWZhdWx0IGFzIEhhbmRzaGFrZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGFuZHNoYWtlIH0gZnJvbSAnLi9pY29ucy9oYW5kc2hha2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIYXJkRHJpdmVEb3dubG9hZCwgZGVmYXVsdCBhcyBIYXJkRHJpdmVEb3dubG9hZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGFyZERyaXZlRG93bmxvYWQgfSBmcm9tICcuL2ljb25zL2hhcmQtZHJpdmUtZG93bmxvYWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIYXJkRHJpdmVVcGxvYWQsIGRlZmF1bHQgYXMgSGFyZERyaXZlVXBsb2FkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIYXJkRHJpdmVVcGxvYWQgfSBmcm9tICcuL2ljb25zL2hhcmQtZHJpdmUtdXBsb2FkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGFyZERyaXZlLCBkZWZhdWx0IGFzIEhhcmREcml2ZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGFyZERyaXZlIH0gZnJvbSAnLi9pY29ucy9oYXJkLWRyaXZlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGFyZEhhdCwgZGVmYXVsdCBhcyBIYXJkSGF0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIYXJkSGF0IH0gZnJvbSAnLi9pY29ucy9oYXJkLWhhdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhhc2gsIGRlZmF1bHQgYXMgSGFzaEljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGFzaCB9IGZyb20gJy4vaWNvbnMvaGFzaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhhemUsIGRlZmF1bHQgYXMgSGF6ZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGF6ZSB9IGZyb20gJy4vaWNvbnMvaGF6ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhkbWlQb3J0LCBkZWZhdWx0IGFzIEhkbWlQb3J0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZG1pUG9ydCB9IGZyb20gJy4vaWNvbnMvaGRtaS1wb3J0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhZGluZzEsIGRlZmF1bHQgYXMgSGVhZGluZzFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhlYWRpbmcxIH0gZnJvbSAnLi9pY29ucy9oZWFkaW5nLTEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIZWFkaW5nMiwgZGVmYXVsdCBhcyBIZWFkaW5nMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGVhZGluZzIgfSBmcm9tICcuL2ljb25zL2hlYWRpbmctMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhlYWRpbmczLCBkZWZhdWx0IGFzIEhlYWRpbmczSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZWFkaW5nMyB9IGZyb20gJy4vaWNvbnMvaGVhZGluZy0zLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhZGluZzQsIGRlZmF1bHQgYXMgSGVhZGluZzRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhlYWRpbmc0IH0gZnJvbSAnLi9pY29ucy9oZWFkaW5nLTQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIZWFkaW5nNSwgZGVmYXVsdCBhcyBIZWFkaW5nNUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGVhZGluZzUgfSBmcm9tICcuL2ljb25zL2hlYWRpbmctNS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhlYWRpbmc2LCBkZWZhdWx0IGFzIEhlYWRpbmc2SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZWFkaW5nNiB9IGZyb20gJy4vaWNvbnMvaGVhZGluZy02LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhZGluZywgZGVmYXVsdCBhcyBIZWFkaW5nSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZWFkaW5nIH0gZnJvbSAnLi9pY29ucy9oZWFkaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhZHBob25lT2ZmLCBkZWZhdWx0IGFzIEhlYWRwaG9uZU9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGVhZHBob25lT2ZmIH0gZnJvbSAnLi9pY29ucy9oZWFkcGhvbmUtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhZHBob25lcywgZGVmYXVsdCBhcyBIZWFkcGhvbmVzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZWFkcGhvbmVzIH0gZnJvbSAnLi9pY29ucy9oZWFkcGhvbmVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhZHNldCwgZGVmYXVsdCBhcyBIZWFkc2V0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZWFkc2V0IH0gZnJvbSAnLi9pY29ucy9oZWFkc2V0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhcnRDcmFjaywgZGVmYXVsdCBhcyBIZWFydENyYWNrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZWFydENyYWNrIH0gZnJvbSAnLi9pY29ucy9oZWFydC1jcmFjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhlYXJ0SGFuZHNoYWtlLCBkZWZhdWx0IGFzIEhlYXJ0SGFuZHNoYWtlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZWFydEhhbmRzaGFrZSB9IGZyb20gJy4vaWNvbnMvaGVhcnQtaGFuZHNoYWtlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhcnRPZmYsIGRlZmF1bHQgYXMgSGVhcnRPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhlYXJ0T2ZmIH0gZnJvbSAnLi9pY29ucy9oZWFydC1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIZWFydFB1bHNlLCBkZWZhdWx0IGFzIEhlYXJ0UHVsc2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhlYXJ0UHVsc2UgfSBmcm9tICcuL2ljb25zL2hlYXJ0LXB1bHNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVhcnQsIGRlZmF1bHQgYXMgSGVhcnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhlYXJ0IH0gZnJvbSAnLi9pY29ucy9oZWFydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhlYXRlciwgZGVmYXVsdCBhcyBIZWF0ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhlYXRlciB9IGZyb20gJy4vaWNvbnMvaGVhdGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGV4YWdvbiwgZGVmYXVsdCBhcyBIZXhhZ29uSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIZXhhZ29uIH0gZnJvbSAnLi9pY29ucy9oZXhhZ29uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGlnaGxpZ2h0ZXIsIGRlZmF1bHQgYXMgSGlnaGxpZ2h0ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhpZ2hsaWdodGVyIH0gZnJvbSAnLi9pY29ucy9oaWdobGlnaHRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhpc3RvcnksIGRlZmF1bHQgYXMgSGlzdG9yeUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSGlzdG9yeSB9IGZyb20gJy4vaWNvbnMvaGlzdG9yeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhvcE9mZiwgZGVmYXVsdCBhcyBIb3BPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhvcE9mZiB9IGZyb20gJy4vaWNvbnMvaG9wLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhvcCwgZGVmYXVsdCBhcyBIb3BJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhvcCB9IGZyb20gJy4vaWNvbnMvaG9wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSG9zcGl0YWwsIGRlZmF1bHQgYXMgSG9zcGl0YWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhvc3BpdGFsIH0gZnJvbSAnLi9pY29ucy9ob3NwaXRhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhvdGVsLCBkZWZhdWx0IGFzIEhvdGVsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIb3RlbCB9IGZyb20gJy4vaWNvbnMvaG90ZWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIb3VyZ2xhc3MsIGRlZmF1bHQgYXMgSG91cmdsYXNzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVIb3VyZ2xhc3MgfSBmcm9tICcuL2ljb25zL2hvdXJnbGFzcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhvdXNlUGx1ZywgZGVmYXVsdCBhcyBIb3VzZVBsdWdJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhvdXNlUGx1ZyB9IGZyb20gJy4vaWNvbnMvaG91c2UtcGx1Zy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhvdXNlUGx1cywgZGVmYXVsdCBhcyBIb3VzZVBsdXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUhvdXNlUGx1cyB9IGZyb20gJy4vaWNvbnMvaG91c2UtcGx1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIElkQ2FyZCwgZGVmYXVsdCBhcyBJZENhcmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUlkQ2FyZCB9IGZyb20gJy4vaWNvbnMvaWQtY2FyZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEltYWdlRG93biwgZGVmYXVsdCBhcyBJbWFnZURvd25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUltYWdlRG93biB9IGZyb20gJy4vaWNvbnMvaW1hZ2UtZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEltYWdlTWludXMsIGRlZmF1bHQgYXMgSW1hZ2VNaW51c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlSW1hZ2VNaW51cyB9IGZyb20gJy4vaWNvbnMvaW1hZ2UtbWludXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbWFnZU9mZiwgZGVmYXVsdCBhcyBJbWFnZU9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlSW1hZ2VPZmYgfSBmcm9tICcuL2ljb25zL2ltYWdlLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEltYWdlUGxheSwgZGVmYXVsdCBhcyBJbWFnZVBsYXlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUltYWdlUGxheSB9IGZyb20gJy4vaWNvbnMvaW1hZ2UtcGxheS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEltYWdlUGx1cywgZGVmYXVsdCBhcyBJbWFnZVBsdXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUltYWdlUGx1cyB9IGZyb20gJy4vaWNvbnMvaW1hZ2UtcGx1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEltYWdlVXAsIGRlZmF1bHQgYXMgSW1hZ2VVcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlSW1hZ2VVcCB9IGZyb20gJy4vaWNvbnMvaW1hZ2UtdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbWFnZVVwc2NhbGUsIGRlZmF1bHQgYXMgSW1hZ2VVcHNjYWxlSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbWFnZVVwc2NhbGUgfSBmcm9tICcuL2ljb25zL2ltYWdlLXVwc2NhbGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbWFnZSwgZGVmYXVsdCBhcyBJbWFnZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSW1hZ2UgfSBmcm9tICcuL2ljb25zL2ltYWdlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSW1hZ2VzLCBkZWZhdWx0IGFzIEltYWdlc0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlSW1hZ2VzIH0gZnJvbSAnLi9pY29ucy9pbWFnZXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbXBvcnQsIGRlZmF1bHQgYXMgSW1wb3J0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbXBvcnQgfSBmcm9tICcuL2ljb25zL2ltcG9ydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEluYm94LCBkZWZhdWx0IGFzIEluYm94SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbmJveCB9IGZyb20gJy4vaWNvbnMvaW5ib3guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbmRpYW5SdXBlZSwgZGVmYXVsdCBhcyBJbmRpYW5SdXBlZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSW5kaWFuUnVwZWUgfSBmcm9tICcuL2ljb25zL2luZGlhbi1ydXBlZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEluZmluaXR5LCBkZWZhdWx0IGFzIEluZmluaXR5SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbmZpbml0eSB9IGZyb20gJy4vaWNvbnMvaW5maW5pdHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbmZvLCBkZWZhdWx0IGFzIEluZm9JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUluZm8gfSBmcm9tICcuL2ljb25zL2luZm8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnNwZWN0aW9uUGFuZWwsIGRlZmF1bHQgYXMgSW5zcGVjdGlvblBhbmVsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbnNwZWN0aW9uUGFuZWwgfSBmcm9tICcuL2ljb25zL2luc3BlY3Rpb24tcGFuZWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnN0YWdyYW0sIGRlZmF1bHQgYXMgSW5zdGFncmFtSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbnN0YWdyYW0gfSBmcm9tICcuL2ljb25zL2luc3RhZ3JhbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEl0YWxpYywgZGVmYXVsdCBhcyBJdGFsaWNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUl0YWxpYyB9IGZyb20gJy4vaWNvbnMvaXRhbGljLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSXRlcmF0aW9uQ2N3LCBkZWZhdWx0IGFzIEl0ZXJhdGlvbkNjd0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlSXRlcmF0aW9uQ2N3IH0gZnJvbSAnLi9pY29ucy9pdGVyYXRpb24tY2N3LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSXRlcmF0aW9uQ3csIGRlZmF1bHQgYXMgSXRlcmF0aW9uQ3dJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUl0ZXJhdGlvbkN3IH0gZnJvbSAnLi9pY29ucy9pdGVyYXRpb24tY3cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBKYXBhbmVzZVllbiwgZGVmYXVsdCBhcyBKYXBhbmVzZVllbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlSmFwYW5lc2VZZW4gfSBmcm9tICcuL2ljb25zL2phcGFuZXNlLXllbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEpveXN0aWNrLCBkZWZhdWx0IGFzIEpveXN0aWNrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVKb3lzdGljayB9IGZyb20gJy4vaWNvbnMvam95c3RpY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBLYW5iYW4sIGRlZmF1bHQgYXMgS2FuYmFuSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVLYW5iYW4gfSBmcm9tICcuL2ljb25zL2thbmJhbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEtleVJvdW5kLCBkZWZhdWx0IGFzIEtleVJvdW5kSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVLZXlSb3VuZCB9IGZyb20gJy4vaWNvbnMva2V5LXJvdW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5U3F1YXJlLCBkZWZhdWx0IGFzIEtleVNxdWFyZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlS2V5U3F1YXJlIH0gZnJvbSAnLi9pY29ucy9rZXktc3F1YXJlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5LCBkZWZhdWx0IGFzIEtleUljb24sIGRlZmF1bHQgYXMgTHVjaWRlS2V5IH0gZnJvbSAnLi9pY29ucy9rZXkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBLZXlib2FyZE11c2ljLCBkZWZhdWx0IGFzIEtleWJvYXJkTXVzaWNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUtleWJvYXJkTXVzaWMgfSBmcm9tICcuL2ljb25zL2tleWJvYXJkLW11c2ljLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5Ym9hcmRPZmYsIGRlZmF1bHQgYXMgS2V5Ym9hcmRPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUtleWJvYXJkT2ZmIH0gZnJvbSAnLi9pY29ucy9rZXlib2FyZC1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBLZXlib2FyZCwgZGVmYXVsdCBhcyBLZXlib2FyZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlS2V5Ym9hcmQgfSBmcm9tICcuL2ljb25zL2tleWJvYXJkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGFtcENlaWxpbmcsIGRlZmF1bHQgYXMgTGFtcENlaWxpbmdJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhbXBDZWlsaW5nIH0gZnJvbSAnLi9pY29ucy9sYW1wLWNlaWxpbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYW1wRGVzaywgZGVmYXVsdCBhcyBMYW1wRGVza0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGFtcERlc2sgfSBmcm9tICcuL2ljb25zL2xhbXAtZGVzay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExhbXBGbG9vciwgZGVmYXVsdCBhcyBMYW1wRmxvb3JJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhbXBGbG9vciB9IGZyb20gJy4vaWNvbnMvbGFtcC1mbG9vci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExhbXBXYWxsRG93biwgZGVmYXVsdCBhcyBMYW1wV2FsbERvd25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhbXBXYWxsRG93biB9IGZyb20gJy4vaWNvbnMvbGFtcC13YWxsLWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYW1wV2FsbFVwLCBkZWZhdWx0IGFzIExhbXBXYWxsVXBJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhbXBXYWxsVXAgfSBmcm9tICcuL2ljb25zL2xhbXAtd2FsbC11cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExhbXAsIGRlZmF1bHQgYXMgTGFtcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGFtcCB9IGZyb20gJy4vaWNvbnMvbGFtcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExhbmRQbG90LCBkZWZhdWx0IGFzIExhbmRQbG90SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMYW5kUGxvdCB9IGZyb20gJy4vaWNvbnMvbGFuZC1wbG90LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGFuZG1hcmssIGRlZmF1bHQgYXMgTGFuZG1hcmtJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhbmRtYXJrIH0gZnJvbSAnLi9pY29ucy9sYW5kbWFyay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExhbmd1YWdlcywgZGVmYXVsdCBhcyBMYW5ndWFnZXNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhbmd1YWdlcyB9IGZyb20gJy4vaWNvbnMvbGFuZ3VhZ2VzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGFwdG9wTWluaW1hbENoZWNrLCBkZWZhdWx0IGFzIExhcHRvcE1pbmltYWxDaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGFwdG9wTWluaW1hbENoZWNrIH0gZnJvbSAnLi9pY29ucy9sYXB0b3AtbWluaW1hbC1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExhcHRvcCwgZGVmYXVsdCBhcyBMYXB0b3BJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhcHRvcCB9IGZyb20gJy4vaWNvbnMvbGFwdG9wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGFzc29TZWxlY3QsIGRlZmF1bHQgYXMgTGFzc29TZWxlY3RJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhc3NvU2VsZWN0IH0gZnJvbSAnLi9pY29ucy9sYXNzby1zZWxlY3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXNzbywgZGVmYXVsdCBhcyBMYXNzb0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGFzc28gfSBmcm9tICcuL2ljb25zL2xhc3NvLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGF1Z2gsIGRlZmF1bHQgYXMgTGF1Z2hJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxhdWdoIH0gZnJvbSAnLi9pY29ucy9sYXVnaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExheWVyczIsIGRlZmF1bHQgYXMgTGF5ZXJzMkljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGF5ZXJzMiB9IGZyb20gJy4vaWNvbnMvbGF5ZXJzLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXlvdXREYXNoYm9hcmQsIGRlZmF1bHQgYXMgTGF5b3V0RGFzaGJvYXJkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMYXlvdXREYXNoYm9hcmQgfSBmcm9tICcuL2ljb25zL2xheW91dC1kYXNoYm9hcmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXlvdXRHcmlkLCBkZWZhdWx0IGFzIExheW91dEdyaWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxheW91dEdyaWQgfSBmcm9tICcuL2ljb25zL2xheW91dC1ncmlkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGF5b3V0TGlzdCwgZGVmYXVsdCBhcyBMYXlvdXRMaXN0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMYXlvdXRMaXN0IH0gZnJvbSAnLi9pY29ucy9sYXlvdXQtbGlzdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExheW91dFBhbmVsTGVmdCwgZGVmYXVsdCBhcyBMYXlvdXRQYW5lbExlZnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxheW91dFBhbmVsTGVmdCB9IGZyb20gJy4vaWNvbnMvbGF5b3V0LXBhbmVsLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXlvdXRQYW5lbFRvcCwgZGVmYXVsdCBhcyBMYXlvdXRQYW5lbFRvcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGF5b3V0UGFuZWxUb3AgfSBmcm9tICcuL2ljb25zL2xheW91dC1wYW5lbC10b3AuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXlvdXRUZW1wbGF0ZSwgZGVmYXVsdCBhcyBMYXlvdXRUZW1wbGF0ZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGF5b3V0VGVtcGxhdGUgfSBmcm9tICcuL2ljb25zL2xheW91dC10ZW1wbGF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExlYWYsIGRlZmF1bHQgYXMgTGVhZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGVhZiB9IGZyb20gJy4vaWNvbnMvbGVhZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExlYWZ5R3JlZW4sIGRlZmF1bHQgYXMgTGVhZnlHcmVlbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGVhZnlHcmVlbiB9IGZyb20gJy4vaWNvbnMvbGVhZnktZ3JlZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMZWN0ZXJuLCBkZWZhdWx0IGFzIExlY3Rlcm5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxlY3Rlcm4gfSBmcm9tICcuL2ljb25zL2xlY3Rlcm4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMZXR0ZXJUZXh0LCBkZWZhdWx0IGFzIExldHRlclRleHRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxldHRlclRleHQgfSBmcm9tICcuL2ljb25zL2xldHRlci10ZXh0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlicmFyeUJpZywgZGVmYXVsdCBhcyBMaWJyYXJ5QmlnSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMaWJyYXJ5QmlnIH0gZnJvbSAnLi9pY29ucy9saWJyYXJ5LWJpZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpYnJhcnksIGRlZmF1bHQgYXMgTGlicmFyeUljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlicmFyeSB9IGZyb20gJy4vaWNvbnMvbGlicmFyeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpZmVCdW95LCBkZWZhdWx0IGFzIExpZmVCdW95SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMaWZlQnVveSB9IGZyb20gJy4vaWNvbnMvbGlmZS1idW95LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlnYXR1cmUsIGRlZmF1bHQgYXMgTGlnYXR1cmVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpZ2F0dXJlIH0gZnJvbSAnLi9pY29ucy9saWdhdHVyZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpZ2h0YnVsYk9mZiwgZGVmYXVsdCBhcyBMaWdodGJ1bGJPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpZ2h0YnVsYk9mZiB9IGZyb20gJy4vaWNvbnMvbGlnaHRidWxiLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpZ2h0YnVsYiwgZGVmYXVsdCBhcyBMaWdodGJ1bGJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpZ2h0YnVsYiB9IGZyb20gJy4vaWNvbnMvbGlnaHRidWxiLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGluazJPZmYsIGRlZmF1bHQgYXMgTGluazJPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpbmsyT2ZmIH0gZnJvbSAnLi9pY29ucy9saW5rLTItb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGluazIsIGRlZmF1bHQgYXMgTGluazJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpbmsyIH0gZnJvbSAnLi9pY29ucy9saW5rLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaW5rLCBkZWZhdWx0IGFzIExpbmtJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpbmsgfSBmcm9tICcuL2ljb25zL2xpbmsuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaW5rZWRpbiwgZGVmYXVsdCBhcyBMaW5rZWRpbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlua2VkaW4gfSBmcm9tICcuL2ljb25zL2xpbmtlZGluLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlzdENoZWNrLCBkZWZhdWx0IGFzIExpc3RDaGVja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlzdENoZWNrIH0gZnJvbSAnLi9pY29ucy9saXN0LWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlzdENoZWNrcywgZGVmYXVsdCBhcyBMaXN0Q2hlY2tzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMaXN0Q2hlY2tzIH0gZnJvbSAnLi9pY29ucy9saXN0LWNoZWNrcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpc3RDb2xsYXBzZSwgZGVmYXVsdCBhcyBMaXN0Q29sbGFwc2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpc3RDb2xsYXBzZSB9IGZyb20gJy4vaWNvbnMvbGlzdC1jb2xsYXBzZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpc3RFbmQsIGRlZmF1bHQgYXMgTGlzdEVuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlzdEVuZCB9IGZyb20gJy4vaWNvbnMvbGlzdC1lbmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaXN0RmlsdGVyUGx1cywgZGVmYXVsdCBhcyBMaXN0RmlsdGVyUGx1c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlzdEZpbHRlclBsdXMgfSBmcm9tICcuL2ljb25zL2xpc3QtZmlsdGVyLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaXN0RmlsdGVyLCBkZWZhdWx0IGFzIExpc3RGaWx0ZXJJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpc3RGaWx0ZXIgfSBmcm9tICcuL2ljb25zL2xpc3QtZmlsdGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlzdE1pbnVzLCBkZWZhdWx0IGFzIExpc3RNaW51c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlzdE1pbnVzIH0gZnJvbSAnLi9pY29ucy9saXN0LW1pbnVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlzdE11c2ljLCBkZWZhdWx0IGFzIExpc3RNdXNpY0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlzdE11c2ljIH0gZnJvbSAnLi9pY29ucy9saXN0LW11c2ljLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlzdE9yZGVyZWQsIGRlZmF1bHQgYXMgTGlzdE9yZGVyZWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpc3RPcmRlcmVkIH0gZnJvbSAnLi9pY29ucy9saXN0LW9yZGVyZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaXN0UGx1cywgZGVmYXVsdCBhcyBMaXN0UGx1c0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlzdFBsdXMgfSBmcm9tICcuL2ljb25zL2xpc3QtcGx1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpc3RSZXN0YXJ0LCBkZWZhdWx0IGFzIExpc3RSZXN0YXJ0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMaXN0UmVzdGFydCB9IGZyb20gJy4vaWNvbnMvbGlzdC1yZXN0YXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlzdFN0YXJ0LCBkZWZhdWx0IGFzIExpc3RTdGFydEljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlzdFN0YXJ0IH0gZnJvbSAnLi9pY29ucy9saXN0LXN0YXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlzdFRvZG8sIGRlZmF1bHQgYXMgTGlzdFRvZG9JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpc3RUb2RvIH0gZnJvbSAnLi9pY29ucy9saXN0LXRvZG8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaXN0VHJlZSwgZGVmYXVsdCBhcyBMaXN0VHJlZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlTGlzdFRyZWUgfSBmcm9tICcuL2ljb25zL2xpc3QtdHJlZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpc3RWaWRlbywgZGVmYXVsdCBhcyBMaXN0VmlkZW9JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxpc3RWaWRlbyB9IGZyb20gJy4vaWNvbnMvbGlzdC12aWRlby5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpc3RYLCBkZWZhdWx0IGFzIExpc3RYSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMaXN0WCB9IGZyb20gJy4vaWNvbnMvbGlzdC14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGlzdCwgZGVmYXVsdCBhcyBMaXN0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMaXN0IH0gZnJvbSAnLi9pY29ucy9saXN0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9hZGVyUGlud2hlZWwsIGRlZmF1bHQgYXMgTG9hZGVyUGlud2hlZWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxvYWRlclBpbndoZWVsIH0gZnJvbSAnLi9pY29ucy9sb2FkZXItcGlud2hlZWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2FkZXIsIGRlZmF1bHQgYXMgTG9hZGVySWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMb2FkZXIgfSBmcm9tICcuL2ljb25zL2xvYWRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExvY2F0ZUZpeGVkLCBkZWZhdWx0IGFzIExvY2F0ZUZpeGVkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMb2NhdGVGaXhlZCB9IGZyb20gJy4vaWNvbnMvbG9jYXRlLWZpeGVkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9jYXRlT2ZmLCBkZWZhdWx0IGFzIExvY2F0ZU9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlTG9jYXRlT2ZmIH0gZnJvbSAnLi9pY29ucy9sb2NhdGUtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9jYXRlLCBkZWZhdWx0IGFzIExvY2F0ZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlTG9jYXRlIH0gZnJvbSAnLi9pY29ucy9sb2NhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2NrS2V5aG9sZSwgZGVmYXVsdCBhcyBMb2NrS2V5aG9sZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlTG9ja0tleWhvbGUgfSBmcm9tICcuL2ljb25zL2xvY2sta2V5aG9sZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExvY2ssIGRlZmF1bHQgYXMgTG9ja0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlTG9jayB9IGZyb20gJy4vaWNvbnMvbG9jay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExvZ0luLCBkZWZhdWx0IGFzIExvZ0luSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMb2dJbiB9IGZyb20gJy4vaWNvbnMvbG9nLWluLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9nT3V0LCBkZWZhdWx0IGFzIExvZ091dEljb24sIGRlZmF1bHQgYXMgTHVjaWRlTG9nT3V0IH0gZnJvbSAnLi9pY29ucy9sb2ctb3V0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9ncywgZGVmYXVsdCBhcyBMb2dzSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVMb2dzIH0gZnJvbSAnLi9pY29ucy9sb2dzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9sbGlwb3AsIGRlZmF1bHQgYXMgTG9sbGlwb3BJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUxvbGxpcG9wIH0gZnJvbSAnLi9pY29ucy9sb2xsaXBvcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZUx1Z2dhZ2UsIGRlZmF1bHQgYXMgTHVnZ2FnZSwgZGVmYXVsdCBhcyBMdWdnYWdlSWNvbiB9IGZyb20gJy4vaWNvbnMvbHVnZ2FnZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1hZ25ldCwgZGVmYXVsdCBhcyBNYWduZXQsIGRlZmF1bHQgYXMgTWFnbmV0SWNvbiB9IGZyb20gJy4vaWNvbnMvbWFnbmV0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFpbENoZWNrLCBkZWZhdWx0IGFzIE1haWxDaGVjaywgZGVmYXVsdCBhcyBNYWlsQ2hlY2tJY29uIH0gZnJvbSAnLi9pY29ucy9tYWlsLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFpbE1pbnVzLCBkZWZhdWx0IGFzIE1haWxNaW51cywgZGVmYXVsdCBhcyBNYWlsTWludXNJY29uIH0gZnJvbSAnLi9pY29ucy9tYWlsLW1pbnVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFpbE9wZW4sIGRlZmF1bHQgYXMgTWFpbE9wZW4sIGRlZmF1bHQgYXMgTWFpbE9wZW5JY29uIH0gZnJvbSAnLi9pY29ucy9tYWlsLW9wZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNYWlsUGx1cywgZGVmYXVsdCBhcyBNYWlsUGx1cywgZGVmYXVsdCBhcyBNYWlsUGx1c0ljb24gfSBmcm9tICcuL2ljb25zL21haWwtcGx1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1haWxRdWVzdGlvbiwgZGVmYXVsdCBhcyBNYWlsUXVlc3Rpb24sIGRlZmF1bHQgYXMgTWFpbFF1ZXN0aW9uSWNvbiB9IGZyb20gJy4vaWNvbnMvbWFpbC1xdWVzdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1haWxTZWFyY2gsIGRlZmF1bHQgYXMgTWFpbFNlYXJjaCwgZGVmYXVsdCBhcyBNYWlsU2VhcmNoSWNvbiB9IGZyb20gJy4vaWNvbnMvbWFpbC1zZWFyY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNYWlsV2FybmluZywgZGVmYXVsdCBhcyBNYWlsV2FybmluZywgZGVmYXVsdCBhcyBNYWlsV2FybmluZ0ljb24gfSBmcm9tICcuL2ljb25zL21haWwtd2FybmluZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1haWxYLCBkZWZhdWx0IGFzIE1haWxYLCBkZWZhdWx0IGFzIE1haWxYSWNvbiB9IGZyb20gJy4vaWNvbnMvbWFpbC14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFpbCwgZGVmYXVsdCBhcyBNYWlsLCBkZWZhdWx0IGFzIE1haWxJY29uIH0gZnJvbSAnLi9pY29ucy9tYWlsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFpbGJveCwgZGVmYXVsdCBhcyBNYWlsYm94LCBkZWZhdWx0IGFzIE1haWxib3hJY29uIH0gZnJvbSAnLi9pY29ucy9tYWlsYm94LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFpbHMsIGRlZmF1bHQgYXMgTWFpbHMsIGRlZmF1bHQgYXMgTWFpbHNJY29uIH0gZnJvbSAnLi9pY29ucy9tYWlscy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1hcFBpbkNoZWNrSW5zaWRlLCBkZWZhdWx0IGFzIE1hcFBpbkNoZWNrSW5zaWRlLCBkZWZhdWx0IGFzIE1hcFBpbkNoZWNrSW5zaWRlSWNvbiB9IGZyb20gJy4vaWNvbnMvbWFwLXBpbi1jaGVjay1pbnNpZGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNYXBQaW5DaGVjaywgZGVmYXVsdCBhcyBNYXBQaW5DaGVjaywgZGVmYXVsdCBhcyBNYXBQaW5DaGVja0ljb24gfSBmcm9tICcuL2ljb25zL21hcC1waW4tY2hlY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNYXBQaW5Ib3VzZSwgZGVmYXVsdCBhcyBNYXBQaW5Ib3VzZSwgZGVmYXVsdCBhcyBNYXBQaW5Ib3VzZUljb24gfSBmcm9tICcuL2ljb25zL21hcC1waW4taG91c2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNYXBQaW5NaW51c0luc2lkZSwgZGVmYXVsdCBhcyBNYXBQaW5NaW51c0luc2lkZSwgZGVmYXVsdCBhcyBNYXBQaW5NaW51c0luc2lkZUljb24gfSBmcm9tICcuL2ljb25zL21hcC1waW4tbWludXMtaW5zaWRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFwUGluTWludXMsIGRlZmF1bHQgYXMgTWFwUGluTWludXMsIGRlZmF1bHQgYXMgTWFwUGluTWludXNJY29uIH0gZnJvbSAnLi9pY29ucy9tYXAtcGluLW1pbnVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFwUGluT2ZmLCBkZWZhdWx0IGFzIE1hcFBpbk9mZiwgZGVmYXVsdCBhcyBNYXBQaW5PZmZJY29uIH0gZnJvbSAnLi9pY29ucy9tYXAtcGluLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1hcFBpblBsdXNJbnNpZGUsIGRlZmF1bHQgYXMgTWFwUGluUGx1c0luc2lkZSwgZGVmYXVsdCBhcyBNYXBQaW5QbHVzSW5zaWRlSWNvbiB9IGZyb20gJy4vaWNvbnMvbWFwLXBpbi1wbHVzLWluc2lkZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1hcFBpblBsdXMsIGRlZmF1bHQgYXMgTWFwUGluUGx1cywgZGVmYXVsdCBhcyBNYXBQaW5QbHVzSWNvbiB9IGZyb20gJy4vaWNvbnMvbWFwLXBpbi1wbHVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFwUGluWEluc2lkZSwgZGVmYXVsdCBhcyBNYXBQaW5YSW5zaWRlLCBkZWZhdWx0IGFzIE1hcFBpblhJbnNpZGVJY29uIH0gZnJvbSAnLi9pY29ucy9tYXAtcGluLXgtaW5zaWRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWFwUGluWCwgZGVmYXVsdCBhcyBNYXBQaW5YLCBkZWZhdWx0IGFzIE1hcFBpblhJY29uIH0gZnJvbSAnLi9pY29ucy9tYXAtcGluLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNYXBQaW4sIGRlZmF1bHQgYXMgTWFwUGluLCBkZWZhdWx0IGFzIE1hcFBpbkljb24gfSBmcm9tICcuL2ljb25zL21hcC1waW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNYXBQaW5uZWQsIGRlZmF1bHQgYXMgTWFwUGlubmVkLCBkZWZhdWx0IGFzIE1hcFBpbm5lZEljb24gfSBmcm9tICcuL2ljb25zL21hcC1waW5uZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNYXAsIGRlZmF1bHQgYXMgTWFwLCBkZWZhdWx0IGFzIE1hcEljb24gfSBmcm9tICcuL2ljb25zL21hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1hcnRpbmksIGRlZmF1bHQgYXMgTWFydGluaSwgZGVmYXVsdCBhcyBNYXJ0aW5pSWNvbiB9IGZyb20gJy4vaWNvbnMvbWFydGluaS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1heGltaXplMiwgZGVmYXVsdCBhcyBNYXhpbWl6ZTIsIGRlZmF1bHQgYXMgTWF4aW1pemUySWNvbiB9IGZyb20gJy4vaWNvbnMvbWF4aW1pemUtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1heGltaXplLCBkZWZhdWx0IGFzIE1heGltaXplLCBkZWZhdWx0IGFzIE1heGltaXplSWNvbiB9IGZyb20gJy4vaWNvbnMvbWF4aW1pemUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZWRhbCwgZGVmYXVsdCBhcyBNZWRhbCwgZGVmYXVsdCBhcyBNZWRhbEljb24gfSBmcm9tICcuL2ljb25zL21lZGFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVnYXBob25lT2ZmLCBkZWZhdWx0IGFzIE1lZ2FwaG9uZU9mZiwgZGVmYXVsdCBhcyBNZWdhcGhvbmVPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9tZWdhcGhvbmUtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVnYXBob25lLCBkZWZhdWx0IGFzIE1lZ2FwaG9uZSwgZGVmYXVsdCBhcyBNZWdhcGhvbmVJY29uIH0gZnJvbSAnLi9pY29ucy9tZWdhcGhvbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZWgsIGRlZmF1bHQgYXMgTWVoLCBkZWZhdWx0IGFzIE1laEljb24gfSBmcm9tICcuL2ljb25zL21laC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lbW9yeVN0aWNrLCBkZWZhdWx0IGFzIE1lbW9yeVN0aWNrLCBkZWZhdWx0IGFzIE1lbW9yeVN0aWNrSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVtb3J5LXN0aWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVudSwgZGVmYXVsdCBhcyBNZW51LCBkZWZhdWx0IGFzIE1lbnVJY29uIH0gZnJvbSAnLi9pY29ucy9tZW51LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVyZ2UsIGRlZmF1bHQgYXMgTWVyZ2UsIGRlZmF1bHQgYXMgTWVyZ2VJY29uIH0gZnJvbSAnLi9pY29ucy9tZXJnZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VDaXJjbGVDb2RlLCBkZWZhdWx0IGFzIE1lc3NhZ2VDaXJjbGVDb2RlLCBkZWZhdWx0IGFzIE1lc3NhZ2VDaXJjbGVDb2RlSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1jaXJjbGUtY29kZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VDaXJjbGVEYXNoZWQsIGRlZmF1bHQgYXMgTWVzc2FnZUNpcmNsZURhc2hlZCwgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlRGFzaGVkSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1jaXJjbGUtZGFzaGVkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVzc2FnZUNpcmNsZUhlYXJ0LCBkZWZhdWx0IGFzIE1lc3NhZ2VDaXJjbGVIZWFydCwgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlSGVhcnRJY29uIH0gZnJvbSAnLi9pY29ucy9tZXNzYWdlLWNpcmNsZS1oZWFydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VDaXJjbGVNb3JlLCBkZWZhdWx0IGFzIE1lc3NhZ2VDaXJjbGVNb3JlLCBkZWZhdWx0IGFzIE1lc3NhZ2VDaXJjbGVNb3JlSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1jaXJjbGUtbW9yZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VDaXJjbGVPZmYsIGRlZmF1bHQgYXMgTWVzc2FnZUNpcmNsZU9mZiwgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1jaXJjbGUtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVzc2FnZUNpcmNsZVBsdXMsIGRlZmF1bHQgYXMgTWVzc2FnZUNpcmNsZVBsdXMsIGRlZmF1bHQgYXMgTWVzc2FnZUNpcmNsZVBsdXNJY29uIH0gZnJvbSAnLi9pY29ucy9tZXNzYWdlLWNpcmNsZS1wbHVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVzc2FnZUNpcmNsZVF1ZXN0aW9uLCBkZWZhdWx0IGFzIE1lc3NhZ2VDaXJjbGVRdWVzdGlvbiwgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlUXVlc3Rpb25JY29uIH0gZnJvbSAnLi9pY29ucy9tZXNzYWdlLWNpcmNsZS1xdWVzdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VDaXJjbGVSZXBseSwgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlUmVwbHksIGRlZmF1bHQgYXMgTWVzc2FnZUNpcmNsZVJlcGx5SWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1jaXJjbGUtcmVwbHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlQ2lyY2xlV2FybmluZywgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlV2FybmluZywgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlV2FybmluZ0ljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2UtY2lyY2xlLXdhcm5pbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlQ2lyY2xlWCwgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlWCwgZGVmYXVsdCBhcyBNZXNzYWdlQ2lyY2xlWEljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2UtY2lyY2xlLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlQ2lyY2xlLCBkZWZhdWx0IGFzIE1lc3NhZ2VDaXJjbGUsIGRlZmF1bHQgYXMgTWVzc2FnZUNpcmNsZUljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2UtY2lyY2xlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVzc2FnZVNxdWFyZUNvZGUsIGRlZmF1bHQgYXMgTWVzc2FnZVNxdWFyZUNvZGUsIGRlZmF1bHQgYXMgTWVzc2FnZVNxdWFyZUNvZGVJY29uIH0gZnJvbSAnLi9pY29ucy9tZXNzYWdlLXNxdWFyZS1jb2RlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVzc2FnZVNxdWFyZURhc2hlZCwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlRGFzaGVkLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVEYXNoZWRJY29uIH0gZnJvbSAnLi9pY29ucy9tZXNzYWdlLXNxdWFyZS1kYXNoZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlU3F1YXJlRGlmZiwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlRGlmZiwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlRGlmZkljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2Utc3F1YXJlLWRpZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlU3F1YXJlRG90LCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVEb3QsIGRlZmF1bHQgYXMgTWVzc2FnZVNxdWFyZURvdEljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2Utc3F1YXJlLWRvdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VTcXVhcmVIZWFydCwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlSGVhcnQsIGRlZmF1bHQgYXMgTWVzc2FnZVNxdWFyZUhlYXJ0SWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1zcXVhcmUtaGVhcnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlU3F1YXJlTG9jaywgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlTG9jaywgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlTG9ja0ljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2Utc3F1YXJlLWxvY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlU3F1YXJlTW9yZSwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlTW9yZSwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlTW9yZUljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2Utc3F1YXJlLW1vcmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlU3F1YXJlT2ZmLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVPZmYsIGRlZmF1bHQgYXMgTWVzc2FnZVNxdWFyZU9mZkljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2Utc3F1YXJlLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VTcXVhcmVQbHVzLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVQbHVzLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVQbHVzSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1zcXVhcmUtcGx1cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VTcXVhcmVRdW90ZSwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlUXVvdGUsIGRlZmF1bHQgYXMgTWVzc2FnZVNxdWFyZVF1b3RlSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1zcXVhcmUtcXVvdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlU3F1YXJlUmVwbHksIGRlZmF1bHQgYXMgTWVzc2FnZVNxdWFyZVJlcGx5LCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVSZXBseUljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2Utc3F1YXJlLXJlcGx5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWVzc2FnZVNxdWFyZVNoYXJlLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVTaGFyZSwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlU2hhcmVJY29uIH0gZnJvbSAnLi9pY29ucy9tZXNzYWdlLXNxdWFyZS1zaGFyZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VTcXVhcmVUZXh0LCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVUZXh0LCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVUZXh0SWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1zcXVhcmUtdGV4dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VTcXVhcmVXYXJuaW5nLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVXYXJuaW5nLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVXYXJuaW5nSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1zcXVhcmUtd2FybmluZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VTcXVhcmVYLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVYLCBkZWZhdWx0IGFzIE1lc3NhZ2VTcXVhcmVYSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1zcXVhcmUteC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1lc3NhZ2VTcXVhcmUsIGRlZmF1bHQgYXMgTWVzc2FnZVNxdWFyZSwgZGVmYXVsdCBhcyBNZXNzYWdlU3F1YXJlSWNvbiB9IGZyb20gJy4vaWNvbnMvbWVzc2FnZS1zcXVhcmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNZXNzYWdlc1NxdWFyZSwgZGVmYXVsdCBhcyBNZXNzYWdlc1NxdWFyZSwgZGVmYXVsdCBhcyBNZXNzYWdlc1NxdWFyZUljb24gfSBmcm9tICcuL2ljb25zL21lc3NhZ2VzLXNxdWFyZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1pY09mZiwgZGVmYXVsdCBhcyBNaWNPZmYsIGRlZmF1bHQgYXMgTWljT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvbWljLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1pYywgZGVmYXVsdCBhcyBNaWMsIGRlZmF1bHQgYXMgTWljSWNvbiB9IGZyb20gJy4vaWNvbnMvbWljLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWljcm9jaGlwLCBkZWZhdWx0IGFzIE1pY3JvY2hpcCwgZGVmYXVsdCBhcyBNaWNyb2NoaXBJY29uIH0gZnJvbSAnLi9pY29ucy9taWNyb2NoaXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNaWNyb3Njb3BlLCBkZWZhdWx0IGFzIE1pY3Jvc2NvcGUsIGRlZmF1bHQgYXMgTWljcm9zY29wZUljb24gfSBmcm9tICcuL2ljb25zL21pY3Jvc2NvcGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNaWNyb3dhdmUsIGRlZmF1bHQgYXMgTWljcm93YXZlLCBkZWZhdWx0IGFzIE1pY3Jvd2F2ZUljb24gfSBmcm9tICcuL2ljb25zL21pY3Jvd2F2ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1pbGVzdG9uZSwgZGVmYXVsdCBhcyBNaWxlc3RvbmUsIGRlZmF1bHQgYXMgTWlsZXN0b25lSWNvbiB9IGZyb20gJy4vaWNvbnMvbWlsZXN0b25lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTWlsa09mZiwgZGVmYXVsdCBhcyBNaWxrT2ZmLCBkZWZhdWx0IGFzIE1pbGtPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9taWxrLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1pbGssIGRlZmF1bHQgYXMgTWlsaywgZGVmYXVsdCBhcyBNaWxrSWNvbiB9IGZyb20gJy4vaWNvbnMvbWlsay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1pbmltaXplMiwgZGVmYXVsdCBhcyBNaW5pbWl6ZTIsIGRlZmF1bHQgYXMgTWluaW1pemUySWNvbiB9IGZyb20gJy4vaWNvbnMvbWluaW1pemUtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1pbmltaXplLCBkZWZhdWx0IGFzIE1pbmltaXplLCBkZWZhdWx0IGFzIE1pbmltaXplSWNvbiB9IGZyb20gJy4vaWNvbnMvbWluaW1pemUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNaW51cywgZGVmYXVsdCBhcyBNaW51cywgZGVmYXVsdCBhcyBNaW51c0ljb24gfSBmcm9tICcuL2ljb25zL21pbnVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW9uaXRvckNoZWNrLCBkZWZhdWx0IGFzIE1vbml0b3JDaGVjaywgZGVmYXVsdCBhcyBNb25pdG9yQ2hlY2tJY29uIH0gZnJvbSAnLi9pY29ucy9tb25pdG9yLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW9uaXRvckNvZywgZGVmYXVsdCBhcyBNb25pdG9yQ29nLCBkZWZhdWx0IGFzIE1vbml0b3JDb2dJY29uIH0gZnJvbSAnLi9pY29ucy9tb25pdG9yLWNvZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vbml0b3JEb3QsIGRlZmF1bHQgYXMgTW9uaXRvckRvdCwgZGVmYXVsdCBhcyBNb25pdG9yRG90SWNvbiB9IGZyb20gJy4vaWNvbnMvbW9uaXRvci1kb3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb25pdG9yRG93biwgZGVmYXVsdCBhcyBNb25pdG9yRG93biwgZGVmYXVsdCBhcyBNb25pdG9yRG93bkljb24gfSBmcm9tICcuL2ljb25zL21vbml0b3ItZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vbml0b3JPZmYsIGRlZmF1bHQgYXMgTW9uaXRvck9mZiwgZGVmYXVsdCBhcyBNb25pdG9yT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvbW9uaXRvci1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb25pdG9yUGF1c2UsIGRlZmF1bHQgYXMgTW9uaXRvclBhdXNlLCBkZWZhdWx0IGFzIE1vbml0b3JQYXVzZUljb24gfSBmcm9tICcuL2ljb25zL21vbml0b3ItcGF1c2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb25pdG9yUGxheSwgZGVmYXVsdCBhcyBNb25pdG9yUGxheSwgZGVmYXVsdCBhcyBNb25pdG9yUGxheUljb24gfSBmcm9tICcuL2ljb25zL21vbml0b3ItcGxheS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vbml0b3JTbWFydHBob25lLCBkZWZhdWx0IGFzIE1vbml0b3JTbWFydHBob25lLCBkZWZhdWx0IGFzIE1vbml0b3JTbWFydHBob25lSWNvbiB9IGZyb20gJy4vaWNvbnMvbW9uaXRvci1zbWFydHBob25lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW9uaXRvclNwZWFrZXIsIGRlZmF1bHQgYXMgTW9uaXRvclNwZWFrZXIsIGRlZmF1bHQgYXMgTW9uaXRvclNwZWFrZXJJY29uIH0gZnJvbSAnLi9pY29ucy9tb25pdG9yLXNwZWFrZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb25pdG9yU3RvcCwgZGVmYXVsdCBhcyBNb25pdG9yU3RvcCwgZGVmYXVsdCBhcyBNb25pdG9yU3RvcEljb24gfSBmcm9tICcuL2ljb25zL21vbml0b3Itc3RvcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vbml0b3JVcCwgZGVmYXVsdCBhcyBNb25pdG9yVXAsIGRlZmF1bHQgYXMgTW9uaXRvclVwSWNvbiB9IGZyb20gJy4vaWNvbnMvbW9uaXRvci11cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vbml0b3JYLCBkZWZhdWx0IGFzIE1vbml0b3JYLCBkZWZhdWx0IGFzIE1vbml0b3JYSWNvbiB9IGZyb20gJy4vaWNvbnMvbW9uaXRvci14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW9uaXRvciwgZGVmYXVsdCBhcyBNb25pdG9yLCBkZWZhdWx0IGFzIE1vbml0b3JJY29uIH0gZnJvbSAnLi9pY29ucy9tb25pdG9yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW9vblN0YXIsIGRlZmF1bHQgYXMgTW9vblN0YXIsIGRlZmF1bHQgYXMgTW9vblN0YXJJY29uIH0gZnJvbSAnLi9pY29ucy9tb29uLXN0YXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb29uLCBkZWZhdWx0IGFzIE1vb24sIGRlZmF1bHQgYXMgTW9vbkljb24gfSBmcm9tICcuL2ljb25zL21vb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3VudGFpblNub3csIGRlZmF1bHQgYXMgTW91bnRhaW5Tbm93LCBkZWZhdWx0IGFzIE1vdW50YWluU25vd0ljb24gfSBmcm9tICcuL2ljb25zL21vdW50YWluLXNub3cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3VudGFpbiwgZGVmYXVsdCBhcyBNb3VudGFpbiwgZGVmYXVsdCBhcyBNb3VudGFpbkljb24gfSBmcm9tICcuL2ljb25zL21vdW50YWluLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW91c2VPZmYsIGRlZmF1bHQgYXMgTW91c2VPZmYsIGRlZmF1bHQgYXMgTW91c2VPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9tb3VzZS1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3VzZVBvaW50ZXIyLCBkZWZhdWx0IGFzIE1vdXNlUG9pbnRlcjIsIGRlZmF1bHQgYXMgTW91c2VQb2ludGVyMkljb24gfSBmcm9tICcuL2ljb25zL21vdXNlLXBvaW50ZXItMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vdXNlUG9pbnRlckJhbiwgZGVmYXVsdCBhcyBNb3VzZVBvaW50ZXJCYW4sIGRlZmF1bHQgYXMgTW91c2VQb2ludGVyQmFuSWNvbiB9IGZyb20gJy4vaWNvbnMvbW91c2UtcG9pbnRlci1iYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3VzZVBvaW50ZXJDbGljaywgZGVmYXVsdCBhcyBNb3VzZVBvaW50ZXJDbGljaywgZGVmYXVsdCBhcyBNb3VzZVBvaW50ZXJDbGlja0ljb24gfSBmcm9tICcuL2ljb25zL21vdXNlLXBvaW50ZXItY2xpY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3VzZVBvaW50ZXIsIGRlZmF1bHQgYXMgTW91c2VQb2ludGVyLCBkZWZhdWx0IGFzIE1vdXNlUG9pbnRlckljb24gfSBmcm9tICcuL2ljb25zL21vdXNlLXBvaW50ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3VzZSwgZGVmYXVsdCBhcyBNb3VzZSwgZGVmYXVsdCBhcyBNb3VzZUljb24gfSBmcm9tICcuL2ljb25zL21vdXNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW92ZURpYWdvbmFsMiwgZGVmYXVsdCBhcyBNb3ZlRGlhZ29uYWwyLCBkZWZhdWx0IGFzIE1vdmVEaWFnb25hbDJJY29uIH0gZnJvbSAnLi9pY29ucy9tb3ZlLWRpYWdvbmFsLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3ZlRGlhZ29uYWwsIGRlZmF1bHQgYXMgTW92ZURpYWdvbmFsLCBkZWZhdWx0IGFzIE1vdmVEaWFnb25hbEljb24gfSBmcm9tICcuL2ljb25zL21vdmUtZGlhZ29uYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3ZlRG93bkxlZnQsIGRlZmF1bHQgYXMgTW92ZURvd25MZWZ0LCBkZWZhdWx0IGFzIE1vdmVEb3duTGVmdEljb24gfSBmcm9tICcuL2ljb25zL21vdmUtZG93bi1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW92ZURvd25SaWdodCwgZGVmYXVsdCBhcyBNb3ZlRG93blJpZ2h0LCBkZWZhdWx0IGFzIE1vdmVEb3duUmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy9tb3ZlLWRvd24tcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3ZlRG93biwgZGVmYXVsdCBhcyBNb3ZlRG93biwgZGVmYXVsdCBhcyBNb3ZlRG93bkljb24gfSBmcm9tICcuL2ljb25zL21vdmUtZG93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vdmVIb3Jpem9udGFsLCBkZWZhdWx0IGFzIE1vdmVIb3Jpem9udGFsLCBkZWZhdWx0IGFzIE1vdmVIb3Jpem9udGFsSWNvbiB9IGZyb20gJy4vaWNvbnMvbW92ZS1ob3Jpem9udGFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTW92ZUxlZnQsIGRlZmF1bHQgYXMgTW92ZUxlZnQsIGRlZmF1bHQgYXMgTW92ZUxlZnRJY29uIH0gZnJvbSAnLi9pY29ucy9tb3ZlLWxlZnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3ZlUmlnaHQsIGRlZmF1bHQgYXMgTW92ZVJpZ2h0LCBkZWZhdWx0IGFzIE1vdmVSaWdodEljb24gfSBmcm9tICcuL2ljb25zL21vdmUtcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVNb3ZlVXBMZWZ0LCBkZWZhdWx0IGFzIE1vdmVVcExlZnQsIGRlZmF1bHQgYXMgTW92ZVVwTGVmdEljb24gfSBmcm9tICcuL2ljb25zL21vdmUtdXAtbGVmdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vdmVVcFJpZ2h0LCBkZWZhdWx0IGFzIE1vdmVVcFJpZ2h0LCBkZWZhdWx0IGFzIE1vdmVVcFJpZ2h0SWNvbiB9IGZyb20gJy4vaWNvbnMvbW92ZS11cC1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vdmVVcCwgZGVmYXVsdCBhcyBNb3ZlVXAsIGRlZmF1bHQgYXMgTW92ZVVwSWNvbiB9IGZyb20gJy4vaWNvbnMvbW92ZS11cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vdmVWZXJ0aWNhbCwgZGVmYXVsdCBhcyBNb3ZlVmVydGljYWwsIGRlZmF1bHQgYXMgTW92ZVZlcnRpY2FsSWNvbiB9IGZyb20gJy4vaWNvbnMvbW92ZS12ZXJ0aWNhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU1vdmUsIGRlZmF1bHQgYXMgTW92ZSwgZGVmYXVsdCBhcyBNb3ZlSWNvbiB9IGZyb20gJy4vaWNvbnMvbW92ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU11c2ljMiwgZGVmYXVsdCBhcyBNdXNpYzIsIGRlZmF1bHQgYXMgTXVzaWMySWNvbiB9IGZyb20gJy4vaWNvbnMvbXVzaWMtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU11c2ljMywgZGVmYXVsdCBhcyBNdXNpYzMsIGRlZmF1bHQgYXMgTXVzaWMzSWNvbiB9IGZyb20gJy4vaWNvbnMvbXVzaWMtMy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU11c2ljNCwgZGVmYXVsdCBhcyBNdXNpYzQsIGRlZmF1bHQgYXMgTXVzaWM0SWNvbiB9IGZyb20gJy4vaWNvbnMvbXVzaWMtNC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU11c2ljLCBkZWZhdWx0IGFzIE11c2ljLCBkZWZhdWx0IGFzIE11c2ljSWNvbiB9IGZyb20gJy4vaWNvbnMvbXVzaWMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOYXZpZ2F0aW9uMk9mZiwgZGVmYXVsdCBhcyBOYXZpZ2F0aW9uMk9mZiwgZGVmYXVsdCBhcyBOYXZpZ2F0aW9uMk9mZkljb24gfSBmcm9tICcuL2ljb25zL25hdmlnYXRpb24tMi1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOYXZpZ2F0aW9uMiwgZGVmYXVsdCBhcyBOYXZpZ2F0aW9uMiwgZGVmYXVsdCBhcyBOYXZpZ2F0aW9uMkljb24gfSBmcm9tICcuL2ljb25zL25hdmlnYXRpb24tMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU5hdmlnYXRpb25PZmYsIGRlZmF1bHQgYXMgTmF2aWdhdGlvbk9mZiwgZGVmYXVsdCBhcyBOYXZpZ2F0aW9uT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvbmF2aWdhdGlvbi1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOYXZpZ2F0aW9uLCBkZWZhdWx0IGFzIE5hdmlnYXRpb24sIGRlZmF1bHQgYXMgTmF2aWdhdGlvbkljb24gfSBmcm9tICcuL2ljb25zL25hdmlnYXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOZXR3b3JrLCBkZWZhdWx0IGFzIE5ldHdvcmssIGRlZmF1bHQgYXMgTmV0d29ya0ljb24gfSBmcm9tICcuL2ljb25zL25ldHdvcmsuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOZXdzcGFwZXIsIGRlZmF1bHQgYXMgTmV3c3BhcGVyLCBkZWZhdWx0IGFzIE5ld3NwYXBlckljb24gfSBmcm9tICcuL2ljb25zL25ld3NwYXBlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU5mYywgZGVmYXVsdCBhcyBOZmMsIGRlZmF1bHQgYXMgTmZjSWNvbiB9IGZyb20gJy4vaWNvbnMvbmZjLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTm90ZWJvb2tQZW4sIGRlZmF1bHQgYXMgTm90ZWJvb2tQZW4sIGRlZmF1bHQgYXMgTm90ZWJvb2tQZW5JY29uIH0gZnJvbSAnLi9pY29ucy9ub3RlYm9vay1wZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOb3RlYm9va1RhYnMsIGRlZmF1bHQgYXMgTm90ZWJvb2tUYWJzLCBkZWZhdWx0IGFzIE5vdGVib29rVGFic0ljb24gfSBmcm9tICcuL2ljb25zL25vdGVib29rLXRhYnMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOb3RlYm9va1RleHQsIGRlZmF1bHQgYXMgTm90ZWJvb2tUZXh0LCBkZWZhdWx0IGFzIE5vdGVib29rVGV4dEljb24gfSBmcm9tICcuL2ljb25zL25vdGVib29rLXRleHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOb3RlYm9vaywgZGVmYXVsdCBhcyBOb3RlYm9vaywgZGVmYXVsdCBhcyBOb3RlYm9va0ljb24gfSBmcm9tICcuL2ljb25zL25vdGVib29rLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTm90ZXBhZFRleHREYXNoZWQsIGRlZmF1bHQgYXMgTm90ZXBhZFRleHREYXNoZWQsIGRlZmF1bHQgYXMgTm90ZXBhZFRleHREYXNoZWRJY29uIH0gZnJvbSAnLi9pY29ucy9ub3RlcGFkLXRleHQtZGFzaGVkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlTm90ZXBhZFRleHQsIGRlZmF1bHQgYXMgTm90ZXBhZFRleHQsIGRlZmF1bHQgYXMgTm90ZXBhZFRleHRJY29uIH0gZnJvbSAnLi9pY29ucy9ub3RlcGFkLXRleHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOdXRPZmYsIGRlZmF1bHQgYXMgTnV0T2ZmLCBkZWZhdWx0IGFzIE51dE9mZkljb24gfSBmcm9tICcuL2ljb25zL251dC1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVOdXQsIGRlZmF1bHQgYXMgTnV0LCBkZWZhdWx0IGFzIE51dEljb24gfSBmcm9tICcuL2ljb25zL251dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU9jdGFnb25NaW51cywgZGVmYXVsdCBhcyBPY3RhZ29uTWludXMsIGRlZmF1bHQgYXMgT2N0YWdvbk1pbnVzSWNvbiB9IGZyb20gJy4vaWNvbnMvb2N0YWdvbi1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU9jdGFnb24sIGRlZmF1bHQgYXMgT2N0YWdvbiwgZGVmYXVsdCBhcyBPY3RhZ29uSWNvbiB9IGZyb20gJy4vaWNvbnMvb2N0YWdvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU9tZWdhLCBkZWZhdWx0IGFzIE9tZWdhLCBkZWZhdWx0IGFzIE9tZWdhSWNvbiB9IGZyb20gJy4vaWNvbnMvb21lZ2EuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVPcHRpb24sIGRlZmF1bHQgYXMgT3B0aW9uLCBkZWZhdWx0IGFzIE9wdGlvbkljb24gfSBmcm9tICcuL2ljb25zL29wdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZU9yYml0LCBkZWZhdWx0IGFzIE9yYml0LCBkZWZhdWx0IGFzIE9yYml0SWNvbiB9IGZyb20gJy4vaWNvbnMvb3JiaXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVPcmlnYW1pLCBkZWZhdWx0IGFzIE9yaWdhbWksIGRlZmF1bHQgYXMgT3JpZ2FtaUljb24gfSBmcm9tICcuL2ljb25zL29yaWdhbWkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYWNrYWdlMiwgZGVmYXVsdCBhcyBQYWNrYWdlMiwgZGVmYXVsdCBhcyBQYWNrYWdlMkljb24gfSBmcm9tICcuL2ljb25zL3BhY2thZ2UtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhY2thZ2VDaGVjaywgZGVmYXVsdCBhcyBQYWNrYWdlQ2hlY2ssIGRlZmF1bHQgYXMgUGFja2FnZUNoZWNrSWNvbiB9IGZyb20gJy4vaWNvbnMvcGFja2FnZS1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhY2thZ2VNaW51cywgZGVmYXVsdCBhcyBQYWNrYWdlTWludXMsIGRlZmF1bHQgYXMgUGFja2FnZU1pbnVzSWNvbiB9IGZyb20gJy4vaWNvbnMvcGFja2FnZS1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhY2thZ2VPcGVuLCBkZWZhdWx0IGFzIFBhY2thZ2VPcGVuLCBkZWZhdWx0IGFzIFBhY2thZ2VPcGVuSWNvbiB9IGZyb20gJy4vaWNvbnMvcGFja2FnZS1vcGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFja2FnZVBsdXMsIGRlZmF1bHQgYXMgUGFja2FnZVBsdXMsIGRlZmF1bHQgYXMgUGFja2FnZVBsdXNJY29uIH0gZnJvbSAnLi9pY29ucy9wYWNrYWdlLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYWNrYWdlU2VhcmNoLCBkZWZhdWx0IGFzIFBhY2thZ2VTZWFyY2gsIGRlZmF1bHQgYXMgUGFja2FnZVNlYXJjaEljb24gfSBmcm9tICcuL2ljb25zL3BhY2thZ2Utc2VhcmNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFja2FnZVgsIGRlZmF1bHQgYXMgUGFja2FnZVgsIGRlZmF1bHQgYXMgUGFja2FnZVhJY29uIH0gZnJvbSAnLi9pY29ucy9wYWNrYWdlLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYWNrYWdlLCBkZWZhdWx0IGFzIFBhY2thZ2UsIGRlZmF1bHQgYXMgUGFja2FnZUljb24gfSBmcm9tICcuL2ljb25zL3BhY2thZ2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYWludEJ1Y2tldCwgZGVmYXVsdCBhcyBQYWludEJ1Y2tldCwgZGVmYXVsdCBhcyBQYWludEJ1Y2tldEljb24gfSBmcm9tICcuL2ljb25zL3BhaW50LWJ1Y2tldC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhaW50Um9sbGVyLCBkZWZhdWx0IGFzIFBhaW50Um9sbGVyLCBkZWZhdWx0IGFzIFBhaW50Um9sbGVySWNvbiB9IGZyb20gJy4vaWNvbnMvcGFpbnQtcm9sbGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFpbnRicnVzaCwgZGVmYXVsdCBhcyBQYWludGJydXNoLCBkZWZhdWx0IGFzIFBhaW50YnJ1c2hJY29uIH0gZnJvbSAnLi9pY29ucy9wYWludGJydXNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFsZXR0ZSwgZGVmYXVsdCBhcyBQYWxldHRlLCBkZWZhdWx0IGFzIFBhbGV0dGVJY29uIH0gZnJvbSAnLi9pY29ucy9wYWxldHRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxCb3R0b21DbG9zZSwgZGVmYXVsdCBhcyBQYW5lbEJvdHRvbUNsb3NlLCBkZWZhdWx0IGFzIFBhbmVsQm90dG9tQ2xvc2VJY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbC1ib3R0b20tY2xvc2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYW5lbEJvdHRvbU9wZW4sIGRlZmF1bHQgYXMgUGFuZWxCb3R0b21PcGVuLCBkZWZhdWx0IGFzIFBhbmVsQm90dG9tT3Blbkljb24gfSBmcm9tICcuL2ljb25zL3BhbmVsLWJvdHRvbS1vcGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxCb3R0b20sIGRlZmF1bHQgYXMgUGFuZWxCb3R0b20sIGRlZmF1bHQgYXMgUGFuZWxCb3R0b21JY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbC1ib3R0b20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYW5lbFJpZ2h0Q2xvc2UsIGRlZmF1bHQgYXMgUGFuZWxSaWdodENsb3NlLCBkZWZhdWx0IGFzIFBhbmVsUmlnaHRDbG9zZUljb24gfSBmcm9tICcuL2ljb25zL3BhbmVsLXJpZ2h0LWNsb3NlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxSaWdodE9wZW4sIGRlZmF1bHQgYXMgUGFuZWxSaWdodE9wZW4sIGRlZmF1bHQgYXMgUGFuZWxSaWdodE9wZW5JY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbC1yaWdodC1vcGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxSaWdodCwgZGVmYXVsdCBhcyBQYW5lbFJpZ2h0LCBkZWZhdWx0IGFzIFBhbmVsUmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbC1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhbmVsVG9wQ2xvc2UsIGRlZmF1bHQgYXMgUGFuZWxUb3BDbG9zZSwgZGVmYXVsdCBhcyBQYW5lbFRvcENsb3NlSWNvbiB9IGZyb20gJy4vaWNvbnMvcGFuZWwtdG9wLWNsb3NlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxUb3BPcGVuLCBkZWZhdWx0IGFzIFBhbmVsVG9wT3BlbiwgZGVmYXVsdCBhcyBQYW5lbFRvcE9wZW5JY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbC10b3Atb3Blbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhbmVsVG9wLCBkZWZhdWx0IGFzIFBhbmVsVG9wLCBkZWZhdWx0IGFzIFBhbmVsVG9wSWNvbiB9IGZyb20gJy4vaWNvbnMvcGFuZWwtdG9wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGFuZWxzTGVmdEJvdHRvbSwgZGVmYXVsdCBhcyBQYW5lbHNMZWZ0Qm90dG9tLCBkZWZhdWx0IGFzIFBhbmVsc0xlZnRCb3R0b21JY29uIH0gZnJvbSAnLi9pY29ucy9wYW5lbHMtbGVmdC1ib3R0b20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYW5lbHNSaWdodEJvdHRvbSwgZGVmYXVsdCBhcyBQYW5lbHNSaWdodEJvdHRvbSwgZGVmYXVsdCBhcyBQYW5lbHNSaWdodEJvdHRvbUljb24gfSBmcm9tICcuL2ljb25zL3BhbmVscy1yaWdodC1ib3R0b20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYXBlcmNsaXAsIGRlZmF1bHQgYXMgUGFwZXJjbGlwLCBkZWZhdWx0IGFzIFBhcGVyY2xpcEljb24gfSBmcm9tICcuL2ljb25zL3BhcGVyY2xpcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhcmVudGhlc2VzLCBkZWZhdWx0IGFzIFBhcmVudGhlc2VzLCBkZWZhdWx0IGFzIFBhcmVudGhlc2VzSWNvbiB9IGZyb20gJy4vaWNvbnMvcGFyZW50aGVzZXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYXJraW5nTWV0ZXIsIGRlZmF1bHQgYXMgUGFya2luZ01ldGVyLCBkZWZhdWx0IGFzIFBhcmtpbmdNZXRlckljb24gfSBmcm9tICcuL2ljb25zL3BhcmtpbmctbWV0ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYXJ0eVBvcHBlciwgZGVmYXVsdCBhcyBQYXJ0eVBvcHBlciwgZGVmYXVsdCBhcyBQYXJ0eVBvcHBlckljb24gfSBmcm9tICcuL2ljb25zL3BhcnR5LXBvcHBlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBhdXNlLCBkZWZhdWx0IGFzIFBhdXNlLCBkZWZhdWx0IGFzIFBhdXNlSWNvbiB9IGZyb20gJy4vaWNvbnMvcGF1c2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQYXdQcmludCwgZGVmYXVsdCBhcyBQYXdQcmludCwgZGVmYXVsdCBhcyBQYXdQcmludEljb24gfSBmcm9tICcuL2ljb25zL3Bhdy1wcmludC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBjQ2FzZSwgZGVmYXVsdCBhcyBQY0Nhc2UsIGRlZmF1bHQgYXMgUGNDYXNlSWNvbiB9IGZyb20gJy4vaWNvbnMvcGMtY2FzZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBlbk9mZiwgZGVmYXVsdCBhcyBQZW5PZmYsIGRlZmF1bHQgYXMgUGVuT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvcGVuLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBlblRvb2wsIGRlZmF1bHQgYXMgUGVuVG9vbCwgZGVmYXVsdCBhcyBQZW5Ub29sSWNvbiB9IGZyb20gJy4vaWNvbnMvcGVuLXRvb2wuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQZW5jaWxMaW5lLCBkZWZhdWx0IGFzIFBlbmNpbExpbmUsIGRlZmF1bHQgYXMgUGVuY2lsTGluZUljb24gfSBmcm9tICcuL2ljb25zL3BlbmNpbC1saW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGVuY2lsT2ZmLCBkZWZhdWx0IGFzIFBlbmNpbE9mZiwgZGVmYXVsdCBhcyBQZW5jaWxPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9wZW5jaWwtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGVuY2lsUnVsZXIsIGRlZmF1bHQgYXMgUGVuY2lsUnVsZXIsIGRlZmF1bHQgYXMgUGVuY2lsUnVsZXJJY29uIH0gZnJvbSAnLi9pY29ucy9wZW5jaWwtcnVsZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQZW5jaWwsIGRlZmF1bHQgYXMgUGVuY2lsLCBkZWZhdWx0IGFzIFBlbmNpbEljb24gfSBmcm9tICcuL2ljb25zL3BlbmNpbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBlbnRhZ29uLCBkZWZhdWx0IGFzIFBlbnRhZ29uLCBkZWZhdWx0IGFzIFBlbnRhZ29uSWNvbiB9IGZyb20gJy4vaWNvbnMvcGVudGFnb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQZXJjZW50LCBkZWZhdWx0IGFzIFBlcmNlbnQsIGRlZmF1bHQgYXMgUGVyY2VudEljb24gfSBmcm9tICcuL2ljb25zL3BlcmNlbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQZXJzb25TdGFuZGluZywgZGVmYXVsdCBhcyBQZXJzb25TdGFuZGluZywgZGVmYXVsdCBhcyBQZXJzb25TdGFuZGluZ0ljb24gfSBmcm9tICcuL2ljb25zL3BlcnNvbi1zdGFuZGluZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBoaWxpcHBpbmVQZXNvLCBkZWZhdWx0IGFzIFBoaWxpcHBpbmVQZXNvLCBkZWZhdWx0IGFzIFBoaWxpcHBpbmVQZXNvSWNvbiB9IGZyb20gJy4vaWNvbnMvcGhpbGlwcGluZS1wZXNvLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGhvbmVDYWxsLCBkZWZhdWx0IGFzIFBob25lQ2FsbCwgZGVmYXVsdCBhcyBQaG9uZUNhbGxJY29uIH0gZnJvbSAnLi9pY29ucy9waG9uZS1jYWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGhvbmVGb3J3YXJkZWQsIGRlZmF1bHQgYXMgUGhvbmVGb3J3YXJkZWQsIGRlZmF1bHQgYXMgUGhvbmVGb3J3YXJkZWRJY29uIH0gZnJvbSAnLi9pY29ucy9waG9uZS1mb3J3YXJkZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaG9uZUluY29taW5nLCBkZWZhdWx0IGFzIFBob25lSW5jb21pbmcsIGRlZmF1bHQgYXMgUGhvbmVJbmNvbWluZ0ljb24gfSBmcm9tICcuL2ljb25zL3Bob25lLWluY29taW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGhvbmVNaXNzZWQsIGRlZmF1bHQgYXMgUGhvbmVNaXNzZWQsIGRlZmF1bHQgYXMgUGhvbmVNaXNzZWRJY29uIH0gZnJvbSAnLi9pY29ucy9waG9uZS1taXNzZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaG9uZU9mZiwgZGVmYXVsdCBhcyBQaG9uZU9mZiwgZGVmYXVsdCBhcyBQaG9uZU9mZkljb24gfSBmcm9tICcuL2ljb25zL3Bob25lLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBob25lT3V0Z29pbmcsIGRlZmF1bHQgYXMgUGhvbmVPdXRnb2luZywgZGVmYXVsdCBhcyBQaG9uZU91dGdvaW5nSWNvbiB9IGZyb20gJy4vaWNvbnMvcGhvbmUtb3V0Z29pbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaG9uZSwgZGVmYXVsdCBhcyBQaG9uZSwgZGVmYXVsdCBhcyBQaG9uZUljb24gfSBmcm9tICcuL2ljb25zL3Bob25lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGksIGRlZmF1bHQgYXMgUGksIGRlZmF1bHQgYXMgUGlJY29uIH0gZnJvbSAnLi9pY29ucy9waS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBpYW5vLCBkZWZhdWx0IGFzIFBpYW5vLCBkZWZhdWx0IGFzIFBpYW5vSWNvbiB9IGZyb20gJy4vaWNvbnMvcGlhbm8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaWNrYXhlLCBkZWZhdWx0IGFzIFBpY2theGUsIGRlZmF1bHQgYXMgUGlja2F4ZUljb24gfSBmcm9tICcuL2ljb25zL3BpY2theGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaWN0dXJlSW5QaWN0dXJlMiwgZGVmYXVsdCBhcyBQaWN0dXJlSW5QaWN0dXJlMiwgZGVmYXVsdCBhcyBQaWN0dXJlSW5QaWN0dXJlMkljb24gfSBmcm9tICcuL2ljb25zL3BpY3R1cmUtaW4tcGljdHVyZS0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGljdHVyZUluUGljdHVyZSwgZGVmYXVsdCBhcyBQaWN0dXJlSW5QaWN0dXJlLCBkZWZhdWx0IGFzIFBpY3R1cmVJblBpY3R1cmVJY29uIH0gZnJvbSAnLi9pY29ucy9waWN0dXJlLWluLXBpY3R1cmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaWdneUJhbmssIGRlZmF1bHQgYXMgUGlnZ3lCYW5rLCBkZWZhdWx0IGFzIFBpZ2d5QmFua0ljb24gfSBmcm9tICcuL2ljb25zL3BpZ2d5LWJhbmsuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaWxjcm93TGVmdCwgZGVmYXVsdCBhcyBQaWxjcm93TGVmdCwgZGVmYXVsdCBhcyBQaWxjcm93TGVmdEljb24gfSBmcm9tICcuL2ljb25zL3BpbGNyb3ctbGVmdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBpbGNyb3dSaWdodCwgZGVmYXVsdCBhcyBQaWxjcm93UmlnaHQsIGRlZmF1bHQgYXMgUGlsY3Jvd1JpZ2h0SWNvbiB9IGZyb20gJy4vaWNvbnMvcGlsY3Jvdy1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBpbGNyb3csIGRlZmF1bHQgYXMgUGlsY3JvdywgZGVmYXVsdCBhcyBQaWxjcm93SWNvbiB9IGZyb20gJy4vaWNvbnMvcGlsY3Jvdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBpbGxCb3R0bGUsIGRlZmF1bHQgYXMgUGlsbEJvdHRsZSwgZGVmYXVsdCBhcyBQaWxsQm90dGxlSWNvbiB9IGZyb20gJy4vaWNvbnMvcGlsbC1ib3R0bGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaWxsLCBkZWZhdWx0IGFzIFBpbGwsIGRlZmF1bHQgYXMgUGlsbEljb24gfSBmcm9tICcuL2ljb25zL3BpbGwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaW5PZmYsIGRlZmF1bHQgYXMgUGluT2ZmLCBkZWZhdWx0IGFzIFBpbk9mZkljb24gfSBmcm9tICcuL2ljb25zL3Bpbi1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQaW4sIGRlZmF1bHQgYXMgUGluLCBkZWZhdWx0IGFzIFBpbkljb24gfSBmcm9tICcuL2ljb25zL3Bpbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBpcGV0dGUsIGRlZmF1bHQgYXMgUGlwZXR0ZSwgZGVmYXVsdCBhcyBQaXBldHRlSWNvbiB9IGZyb20gJy4vaWNvbnMvcGlwZXR0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBpenphLCBkZWZhdWx0IGFzIFBpenphLCBkZWZhdWx0IGFzIFBpenphSWNvbiB9IGZyb20gJy4vaWNvbnMvcGl6emEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQbGFuZUxhbmRpbmcsIGRlZmF1bHQgYXMgUGxhbmVMYW5kaW5nLCBkZWZhdWx0IGFzIFBsYW5lTGFuZGluZ0ljb24gfSBmcm9tICcuL2ljb25zL3BsYW5lLWxhbmRpbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQbGFuZVRha2VvZmYsIGRlZmF1bHQgYXMgUGxhbmVUYWtlb2ZmLCBkZWZhdWx0IGFzIFBsYW5lVGFrZW9mZkljb24gfSBmcm9tICcuL2ljb25zL3BsYW5lLXRha2VvZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQbGFuZSwgZGVmYXVsdCBhcyBQbGFuZSwgZGVmYXVsdCBhcyBQbGFuZUljb24gfSBmcm9tICcuL2ljb25zL3BsYW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGxheSwgZGVmYXVsdCBhcyBQbGF5LCBkZWZhdWx0IGFzIFBsYXlJY29uIH0gZnJvbSAnLi9pY29ucy9wbGF5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUGx1ZzIsIGRlZmF1bHQgYXMgUGx1ZzIsIGRlZmF1bHQgYXMgUGx1ZzJJY29uIH0gZnJvbSAnLi9pY29ucy9wbHVnLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQbHVnLCBkZWZhdWx0IGFzIFBsdWcsIGRlZmF1bHQgYXMgUGx1Z0ljb24gfSBmcm9tICcuL2ljb25zL3BsdWcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQbHVzLCBkZWZhdWx0IGFzIFBsdXMsIGRlZmF1bHQgYXMgUGx1c0ljb24gfSBmcm9tICcuL2ljb25zL3BsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQb2NrZXRLbmlmZSwgZGVmYXVsdCBhcyBQb2NrZXRLbmlmZSwgZGVmYXVsdCBhcyBQb2NrZXRLbmlmZUljb24gfSBmcm9tICcuL2ljb25zL3BvY2tldC1rbmlmZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBvY2tldCwgZGVmYXVsdCBhcyBQb2NrZXQsIGRlZmF1bHQgYXMgUG9ja2V0SWNvbiB9IGZyb20gJy4vaWNvbnMvcG9ja2V0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUG9kY2FzdCwgZGVmYXVsdCBhcyBQb2RjYXN0LCBkZWZhdWx0IGFzIFBvZGNhc3RJY29uIH0gZnJvbSAnLi9pY29ucy9wb2RjYXN0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUG9pbnRlck9mZiwgZGVmYXVsdCBhcyBQb2ludGVyT2ZmLCBkZWZhdWx0IGFzIFBvaW50ZXJPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9wb2ludGVyLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBvaW50ZXIsIGRlZmF1bHQgYXMgUG9pbnRlciwgZGVmYXVsdCBhcyBQb2ludGVySWNvbiB9IGZyb20gJy4vaWNvbnMvcG9pbnRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBvcGNvcm4sIGRlZmF1bHQgYXMgUG9wY29ybiwgZGVmYXVsdCBhcyBQb3Bjb3JuSWNvbiB9IGZyb20gJy4vaWNvbnMvcG9wY29ybi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVBvcHNpY2xlLCBkZWZhdWx0IGFzIFBvcHNpY2xlLCBkZWZhdWx0IGFzIFBvcHNpY2xlSWNvbiB9IGZyb20gJy4vaWNvbnMvcG9wc2ljbGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQb3VuZFN0ZXJsaW5nLCBkZWZhdWx0IGFzIFBvdW5kU3RlcmxpbmcsIGRlZmF1bHQgYXMgUG91bmRTdGVybGluZ0ljb24gfSBmcm9tICcuL2ljb25zL3BvdW5kLXN0ZXJsaW5nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUG93ZXJPZmYsIGRlZmF1bHQgYXMgUG93ZXJPZmYsIGRlZmF1bHQgYXMgUG93ZXJPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9wb3dlci1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQb3dlciwgZGVmYXVsdCBhcyBQb3dlciwgZGVmYXVsdCBhcyBQb3dlckljb24gfSBmcm9tICcuL2ljb25zL3Bvd2VyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUHJlc2VudGF0aW9uLCBkZWZhdWx0IGFzIFByZXNlbnRhdGlvbiwgZGVmYXVsdCBhcyBQcmVzZW50YXRpb25JY29uIH0gZnJvbSAnLi9pY29ucy9wcmVzZW50YXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQcmludGVyQ2hlY2ssIGRlZmF1bHQgYXMgUHJpbnRlckNoZWNrLCBkZWZhdWx0IGFzIFByaW50ZXJDaGVja0ljb24gfSBmcm9tICcuL2ljb25zL3ByaW50ZXItY2hlY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQcmludGVyLCBkZWZhdWx0IGFzIFByaW50ZXIsIGRlZmF1bHQgYXMgUHJpbnRlckljb24gfSBmcm9tICcuL2ljb25zL3ByaW50ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQcm9qZWN0b3IsIGRlZmF1bHQgYXMgUHJvamVjdG9yLCBkZWZhdWx0IGFzIFByb2plY3Rvckljb24gfSBmcm9tICcuL2ljb25zL3Byb2plY3Rvci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVByb3BvcnRpb25zLCBkZWZhdWx0IGFzIFByb3BvcnRpb25zLCBkZWZhdWx0IGFzIFByb3BvcnRpb25zSWNvbiB9IGZyb20gJy4vaWNvbnMvcHJvcG9ydGlvbnMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVQdXp6bGUsIGRlZmF1bHQgYXMgUHV6emxlLCBkZWZhdWx0IGFzIFB1enpsZUljb24gfSBmcm9tICcuL2ljb25zL3B1enpsZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVB5cmFtaWQsIGRlZmF1bHQgYXMgUHlyYW1pZCwgZGVmYXVsdCBhcyBQeXJhbWlkSWNvbiB9IGZyb20gJy4vaWNvbnMvcHlyYW1pZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVFyQ29kZSwgZGVmYXVsdCBhcyBRckNvZGUsIGRlZmF1bHQgYXMgUXJDb2RlSWNvbiB9IGZyb20gJy4vaWNvbnMvcXItY29kZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVF1b3RlLCBkZWZhdWx0IGFzIFF1b3RlLCBkZWZhdWx0IGFzIFF1b3RlSWNvbiB9IGZyb20gJy4vaWNvbnMvcXVvdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSYWJiaXQsIGRlZmF1bHQgYXMgUmFiYml0LCBkZWZhdWx0IGFzIFJhYmJpdEljb24gfSBmcm9tICcuL2ljb25zL3JhYmJpdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJhZGFyLCBkZWZhdWx0IGFzIFJhZGFyLCBkZWZhdWx0IGFzIFJhZGFySWNvbiB9IGZyb20gJy4vaWNvbnMvcmFkYXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSYWRpYXRpb24sIGRlZmF1bHQgYXMgUmFkaWF0aW9uLCBkZWZhdWx0IGFzIFJhZGlhdGlvbkljb24gfSBmcm9tICcuL2ljb25zL3JhZGlhdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJhZGljYWwsIGRlZmF1bHQgYXMgUmFkaWNhbCwgZGVmYXVsdCBhcyBSYWRpY2FsSWNvbiB9IGZyb20gJy4vaWNvbnMvcmFkaWNhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJhZGlvUmVjZWl2ZXIsIGRlZmF1bHQgYXMgUmFkaW9SZWNlaXZlciwgZGVmYXVsdCBhcyBSYWRpb1JlY2VpdmVySWNvbiB9IGZyb20gJy4vaWNvbnMvcmFkaW8tcmVjZWl2ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSYWRpb1Rvd2VyLCBkZWZhdWx0IGFzIFJhZGlvVG93ZXIsIGRlZmF1bHQgYXMgUmFkaW9Ub3dlckljb24gfSBmcm9tICcuL2ljb25zL3JhZGlvLXRvd2VyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmFkaW8sIGRlZmF1bHQgYXMgUmFkaW8sIGRlZmF1bHQgYXMgUmFkaW9JY29uIH0gZnJvbSAnLi9pY29ucy9yYWRpby5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJhZGl1cywgZGVmYXVsdCBhcyBSYWRpdXMsIGRlZmF1bHQgYXMgUmFkaXVzSWNvbiB9IGZyb20gJy4vaWNvbnMvcmFkaXVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmFpbFN5bWJvbCwgZGVmYXVsdCBhcyBSYWlsU3ltYm9sLCBkZWZhdWx0IGFzIFJhaWxTeW1ib2xJY29uIH0gZnJvbSAnLi9pY29ucy9yYWlsLXN5bWJvbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJhaW5ib3csIGRlZmF1bHQgYXMgUmFpbmJvdywgZGVmYXVsdCBhcyBSYWluYm93SWNvbiB9IGZyb20gJy4vaWNvbnMvcmFpbmJvdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJhdCwgZGVmYXVsdCBhcyBSYXQsIGRlZmF1bHQgYXMgUmF0SWNvbiB9IGZyb20gJy4vaWNvbnMvcmF0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmF0aW8sIGRlZmF1bHQgYXMgUmF0aW8sIGRlZmF1bHQgYXMgUmF0aW9JY29uIH0gZnJvbSAnLi9pY29ucy9yYXRpby5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJlY2VpcHRDZW50LCBkZWZhdWx0IGFzIFJlY2VpcHRDZW50LCBkZWZhdWx0IGFzIFJlY2VpcHRDZW50SWNvbiB9IGZyb20gJy4vaWNvbnMvcmVjZWlwdC1jZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVjZWlwdEV1cm8sIGRlZmF1bHQgYXMgUmVjZWlwdEV1cm8sIGRlZmF1bHQgYXMgUmVjZWlwdEV1cm9JY29uIH0gZnJvbSAnLi9pY29ucy9yZWNlaXB0LWV1cm8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWNlaXB0SW5kaWFuUnVwZWUsIGRlZmF1bHQgYXMgUmVjZWlwdEluZGlhblJ1cGVlLCBkZWZhdWx0IGFzIFJlY2VpcHRJbmRpYW5SdXBlZUljb24gfSBmcm9tICcuL2ljb25zL3JlY2VpcHQtaW5kaWFuLXJ1cGVlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVjZWlwdEphcGFuZXNlWWVuLCBkZWZhdWx0IGFzIFJlY2VpcHRKYXBhbmVzZVllbiwgZGVmYXVsdCBhcyBSZWNlaXB0SmFwYW5lc2VZZW5JY29uIH0gZnJvbSAnLi9pY29ucy9yZWNlaXB0LWphcGFuZXNlLXllbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJlY2VpcHRQb3VuZFN0ZXJsaW5nLCBkZWZhdWx0IGFzIFJlY2VpcHRQb3VuZFN0ZXJsaW5nLCBkZWZhdWx0IGFzIFJlY2VpcHRQb3VuZFN0ZXJsaW5nSWNvbiB9IGZyb20gJy4vaWNvbnMvcmVjZWlwdC1wb3VuZC1zdGVybGluZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJlY2VpcHRSdXNzaWFuUnVibGUsIGRlZmF1bHQgYXMgUmVjZWlwdFJ1c3NpYW5SdWJsZSwgZGVmYXVsdCBhcyBSZWNlaXB0UnVzc2lhblJ1YmxlSWNvbiB9IGZyb20gJy4vaWNvbnMvcmVjZWlwdC1ydXNzaWFuLXJ1YmxlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVjZWlwdFN3aXNzRnJhbmMsIGRlZmF1bHQgYXMgUmVjZWlwdFN3aXNzRnJhbmMsIGRlZmF1bHQgYXMgUmVjZWlwdFN3aXNzRnJhbmNJY29uIH0gZnJvbSAnLi9pY29ucy9yZWNlaXB0LXN3aXNzLWZyYW5jLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVjZWlwdFRleHQsIGRlZmF1bHQgYXMgUmVjZWlwdFRleHQsIGRlZmF1bHQgYXMgUmVjZWlwdFRleHRJY29uIH0gZnJvbSAnLi9pY29ucy9yZWNlaXB0LXRleHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWNlaXB0LCBkZWZhdWx0IGFzIFJlY2VpcHQsIGRlZmF1bHQgYXMgUmVjZWlwdEljb24gfSBmcm9tICcuL2ljb25zL3JlY2VpcHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWN0YW5nbGVIb3Jpem9udGFsLCBkZWZhdWx0IGFzIFJlY3RhbmdsZUhvcml6b250YWwsIGRlZmF1bHQgYXMgUmVjdGFuZ2xlSG9yaXpvbnRhbEljb24gfSBmcm9tICcuL2ljb25zL3JlY3RhbmdsZS1ob3Jpem9udGFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVjdGFuZ2xlVmVydGljYWwsIGRlZmF1bHQgYXMgUmVjdGFuZ2xlVmVydGljYWwsIGRlZmF1bHQgYXMgUmVjdGFuZ2xlVmVydGljYWxJY29uIH0gZnJvbSAnLi9pY29ucy9yZWN0YW5nbGUtdmVydGljYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWN5Y2xlLCBkZWZhdWx0IGFzIFJlY3ljbGUsIGRlZmF1bHQgYXMgUmVjeWNsZUljb24gfSBmcm9tICcuL2ljb25zL3JlY3ljbGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWRvMiwgZGVmYXVsdCBhcyBSZWRvMiwgZGVmYXVsdCBhcyBSZWRvMkljb24gfSBmcm9tICcuL2ljb25zL3JlZG8tMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJlZG9Eb3QsIGRlZmF1bHQgYXMgUmVkb0RvdCwgZGVmYXVsdCBhcyBSZWRvRG90SWNvbiB9IGZyb20gJy4vaWNvbnMvcmVkby1kb3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWRvLCBkZWZhdWx0IGFzIFJlZG8sIGRlZmF1bHQgYXMgUmVkb0ljb24gfSBmcm9tICcuL2ljb25zL3JlZG8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWZyZXNoQ2N3RG90LCBkZWZhdWx0IGFzIFJlZnJlc2hDY3dEb3QsIGRlZmF1bHQgYXMgUmVmcmVzaENjd0RvdEljb24gfSBmcm9tICcuL2ljb25zL3JlZnJlc2gtY2N3LWRvdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJlZnJlc2hDY3csIGRlZmF1bHQgYXMgUmVmcmVzaENjdywgZGVmYXVsdCBhcyBSZWZyZXNoQ2N3SWNvbiB9IGZyb20gJy4vaWNvbnMvcmVmcmVzaC1jY3cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWZyZXNoQ3dPZmYsIGRlZmF1bHQgYXMgUmVmcmVzaEN3T2ZmLCBkZWZhdWx0IGFzIFJlZnJlc2hDd09mZkljb24gfSBmcm9tICcuL2ljb25zL3JlZnJlc2gtY3ctb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVmcmVzaEN3LCBkZWZhdWx0IGFzIFJlZnJlc2hDdywgZGVmYXVsdCBhcyBSZWZyZXNoQ3dJY29uIH0gZnJvbSAnLi9pY29ucy9yZWZyZXNoLWN3LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVmcmlnZXJhdG9yLCBkZWZhdWx0IGFzIFJlZnJpZ2VyYXRvciwgZGVmYXVsdCBhcyBSZWZyaWdlcmF0b3JJY29uIH0gZnJvbSAnLi9pY29ucy9yZWZyaWdlcmF0b3IuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZWdleCwgZGVmYXVsdCBhcyBSZWdleCwgZGVmYXVsdCBhcyBSZWdleEljb24gfSBmcm9tICcuL2ljb25zL3JlZ2V4LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVtb3ZlRm9ybWF0dGluZywgZGVmYXVsdCBhcyBSZW1vdmVGb3JtYXR0aW5nLCBkZWZhdWx0IGFzIFJlbW92ZUZvcm1hdHRpbmdJY29uIH0gZnJvbSAnLi9pY29ucy9yZW1vdmUtZm9ybWF0dGluZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJlcGVhdDEsIGRlZmF1bHQgYXMgUmVwZWF0MSwgZGVmYXVsdCBhcyBSZXBlYXQxSWNvbiB9IGZyb20gJy4vaWNvbnMvcmVwZWF0LTEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZXBlYXQyLCBkZWZhdWx0IGFzIFJlcGVhdDIsIGRlZmF1bHQgYXMgUmVwZWF0Mkljb24gfSBmcm9tICcuL2ljb25zL3JlcGVhdC0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVwZWF0LCBkZWZhdWx0IGFzIFJlcGVhdCwgZGVmYXVsdCBhcyBSZXBlYXRJY29uIH0gZnJvbSAnLi9pY29ucy9yZXBlYXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZXBsYWNlQWxsLCBkZWZhdWx0IGFzIFJlcGxhY2VBbGwsIGRlZmF1bHQgYXMgUmVwbGFjZUFsbEljb24gfSBmcm9tICcuL2ljb25zL3JlcGxhY2UtYWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVwbGFjZSwgZGVmYXVsdCBhcyBSZXBsYWNlLCBkZWZhdWx0IGFzIFJlcGxhY2VJY29uIH0gZnJvbSAnLi9pY29ucy9yZXBsYWNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmVwbHlBbGwsIGRlZmF1bHQgYXMgUmVwbHlBbGwsIGRlZmF1bHQgYXMgUmVwbHlBbGxJY29uIH0gZnJvbSAnLi9pY29ucy9yZXBseS1hbGwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSZXBseSwgZGVmYXVsdCBhcyBSZXBseSwgZGVmYXVsdCBhcyBSZXBseUljb24gfSBmcm9tICcuL2ljb25zL3JlcGx5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUmV3aW5kLCBkZWZhdWx0IGFzIFJld2luZCwgZGVmYXVsdCBhcyBSZXdpbmRJY29uIH0gZnJvbSAnLi9pY29ucy9yZXdpbmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSaWJib24sIGRlZmF1bHQgYXMgUmliYm9uLCBkZWZhdWx0IGFzIFJpYmJvbkljb24gfSBmcm9tICcuL2ljb25zL3JpYmJvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJvY2tldCwgZGVmYXVsdCBhcyBSb2NrZXQsIGRlZmF1bHQgYXMgUm9ja2V0SWNvbiB9IGZyb20gJy4vaWNvbnMvcm9ja2V0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUm9ja2luZ0NoYWlyLCBkZWZhdWx0IGFzIFJvY2tpbmdDaGFpciwgZGVmYXVsdCBhcyBSb2NraW5nQ2hhaXJJY29uIH0gZnJvbSAnLi9pY29ucy9yb2NraW5nLWNoYWlyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUm9sbGVyQ29hc3RlciwgZGVmYXVsdCBhcyBSb2xsZXJDb2FzdGVyLCBkZWZhdWx0IGFzIFJvbGxlckNvYXN0ZXJJY29uIH0gZnJvbSAnLi9pY29ucy9yb2xsZXItY29hc3Rlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJvdGF0ZUNjd1NxdWFyZSwgZGVmYXVsdCBhcyBSb3RhdGVDY3dTcXVhcmUsIGRlZmF1bHQgYXMgUm90YXRlQ2N3U3F1YXJlSWNvbiB9IGZyb20gJy4vaWNvbnMvcm90YXRlLWNjdy1zcXVhcmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSb3RhdGVDY3csIGRlZmF1bHQgYXMgUm90YXRlQ2N3LCBkZWZhdWx0IGFzIFJvdGF0ZUNjd0ljb24gfSBmcm9tICcuL2ljb25zL3JvdGF0ZS1jY3cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSb3RhdGVDd1NxdWFyZSwgZGVmYXVsdCBhcyBSb3RhdGVDd1NxdWFyZSwgZGVmYXVsdCBhcyBSb3RhdGVDd1NxdWFyZUljb24gfSBmcm9tICcuL2ljb25zL3JvdGF0ZS1jdy1zcXVhcmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSb3RhdGVDdywgZGVmYXVsdCBhcyBSb3RhdGVDdywgZGVmYXVsdCBhcyBSb3RhdGVDd0ljb24gfSBmcm9tICcuL2ljb25zL3JvdGF0ZS1jdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJvdXRlT2ZmLCBkZWZhdWx0IGFzIFJvdXRlT2ZmLCBkZWZhdWx0IGFzIFJvdXRlT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvcm91dGUtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUm91dGUsIGRlZmF1bHQgYXMgUm91dGUsIGRlZmF1bHQgYXMgUm91dGVJY29uIH0gZnJvbSAnLi9pY29ucy9yb3V0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJvdXRlciwgZGVmYXVsdCBhcyBSb3V0ZXIsIGRlZmF1bHQgYXMgUm91dGVySWNvbiB9IGZyb20gJy4vaWNvbnMvcm91dGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlUm93czQsIGRlZmF1bHQgYXMgUm93czQsIGRlZmF1bHQgYXMgUm93czRJY29uIH0gZnJvbSAnLi9pY29ucy9yb3dzLTQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSc3MsIGRlZmF1bHQgYXMgUnNzLCBkZWZhdWx0IGFzIFJzc0ljb24gfSBmcm9tICcuL2ljb25zL3Jzcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVJ1bGVyLCBkZWZhdWx0IGFzIFJ1bGVyLCBkZWZhdWx0IGFzIFJ1bGVySWNvbiB9IGZyb20gJy4vaWNvbnMvcnVsZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVSdXNzaWFuUnVibGUsIGRlZmF1bHQgYXMgUnVzc2lhblJ1YmxlLCBkZWZhdWx0IGFzIFJ1c3NpYW5SdWJsZUljb24gfSBmcm9tICcuL2ljb25zL3J1c3NpYW4tcnVibGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTYWlsYm9hdCwgZGVmYXVsdCBhcyBTYWlsYm9hdCwgZGVmYXVsdCBhcyBTYWlsYm9hdEljb24gfSBmcm9tICcuL2ljb25zL3NhaWxib2F0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2FsYWQsIGRlZmF1bHQgYXMgU2FsYWQsIGRlZmF1bHQgYXMgU2FsYWRJY29uIH0gZnJvbSAnLi9pY29ucy9zYWxhZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNhbmR3aWNoLCBkZWZhdWx0IGFzIFNhbmR3aWNoLCBkZWZhdWx0IGFzIFNhbmR3aWNoSWNvbiB9IGZyb20gJy4vaWNvbnMvc2FuZHdpY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTYXRlbGxpdGVEaXNoLCBkZWZhdWx0IGFzIFNhdGVsbGl0ZURpc2gsIGRlZmF1bHQgYXMgU2F0ZWxsaXRlRGlzaEljb24gfSBmcm9tICcuL2ljb25zL3NhdGVsbGl0ZS1kaXNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2F0ZWxsaXRlLCBkZWZhdWx0IGFzIFNhdGVsbGl0ZSwgZGVmYXVsdCBhcyBTYXRlbGxpdGVJY29uIH0gZnJvbSAnLi9pY29ucy9zYXRlbGxpdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTYXZlQWxsLCBkZWZhdWx0IGFzIFNhdmVBbGwsIGRlZmF1bHQgYXMgU2F2ZUFsbEljb24gfSBmcm9tICcuL2ljb25zL3NhdmUtYWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2F2ZU9mZiwgZGVmYXVsdCBhcyBTYXZlT2ZmLCBkZWZhdWx0IGFzIFNhdmVPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9zYXZlLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNhdmUsIGRlZmF1bHQgYXMgU2F2ZSwgZGVmYXVsdCBhcyBTYXZlSWNvbiB9IGZyb20gJy4vaWNvbnMvc2F2ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNjYWxlLCBkZWZhdWx0IGFzIFNjYWxlLCBkZWZhdWx0IGFzIFNjYWxlSWNvbiB9IGZyb20gJy4vaWNvbnMvc2NhbGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2FsaW5nLCBkZWZhdWx0IGFzIFNjYWxpbmcsIGRlZmF1bHQgYXMgU2NhbGluZ0ljb24gfSBmcm9tICcuL2ljb25zL3NjYWxpbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2FuQmFyY29kZSwgZGVmYXVsdCBhcyBTY2FuQmFyY29kZSwgZGVmYXVsdCBhcyBTY2FuQmFyY29kZUljb24gfSBmcm9tICcuL2ljb25zL3NjYW4tYmFyY29kZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNjYW5FeWUsIGRlZmF1bHQgYXMgU2NhbkV5ZSwgZGVmYXVsdCBhcyBTY2FuRXllSWNvbiB9IGZyb20gJy4vaWNvbnMvc2Nhbi1leWUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2FuRmFjZSwgZGVmYXVsdCBhcyBTY2FuRmFjZSwgZGVmYXVsdCBhcyBTY2FuRmFjZUljb24gfSBmcm9tICcuL2ljb25zL3NjYW4tZmFjZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNjYW5MaW5lLCBkZWZhdWx0IGFzIFNjYW5MaW5lLCBkZWZhdWx0IGFzIFNjYW5MaW5lSWNvbiB9IGZyb20gJy4vaWNvbnMvc2Nhbi1saW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2NhblFyQ29kZSwgZGVmYXVsdCBhcyBTY2FuUXJDb2RlLCBkZWZhdWx0IGFzIFNjYW5RckNvZGVJY29uIH0gZnJvbSAnLi9pY29ucy9zY2FuLXFyLWNvZGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2FuU2VhcmNoLCBkZWZhdWx0IGFzIFNjYW5TZWFyY2gsIGRlZmF1bHQgYXMgU2NhblNlYXJjaEljb24gfSBmcm9tICcuL2ljb25zL3NjYW4tc2VhcmNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2NhblRleHQsIGRlZmF1bHQgYXMgU2NhblRleHQsIGRlZmF1bHQgYXMgU2NhblRleHRJY29uIH0gZnJvbSAnLi9pY29ucy9zY2FuLXRleHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2FuLCBkZWZhdWx0IGFzIFNjYW4sIGRlZmF1bHQgYXMgU2Nhbkljb24gfSBmcm9tICcuL2ljb25zL3NjYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2hvb2wsIGRlZmF1bHQgYXMgU2Nob29sLCBkZWZhdWx0IGFzIFNjaG9vbEljb24gfSBmcm9tICcuL2ljb25zL3NjaG9vbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNjaXNzb3JzTGluZURhc2hlZCwgZGVmYXVsdCBhcyBTY2lzc29yc0xpbmVEYXNoZWQsIGRlZmF1bHQgYXMgU2Npc3NvcnNMaW5lRGFzaGVkSWNvbiB9IGZyb20gJy4vaWNvbnMvc2Npc3NvcnMtbGluZS1kYXNoZWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY2lzc29ycywgZGVmYXVsdCBhcyBTY2lzc29ycywgZGVmYXVsdCBhcyBTY2lzc29yc0ljb24gfSBmcm9tICcuL2ljb25zL3NjaXNzb3JzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2NyZWVuU2hhcmVPZmYsIGRlZmF1bHQgYXMgU2NyZWVuU2hhcmVPZmYsIGRlZmF1bHQgYXMgU2NyZWVuU2hhcmVPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9zY3JlZW4tc2hhcmUtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2NyZWVuU2hhcmUsIGRlZmF1bHQgYXMgU2NyZWVuU2hhcmUsIGRlZmF1bHQgYXMgU2NyZWVuU2hhcmVJY29uIH0gZnJvbSAnLi9pY29ucy9zY3JlZW4tc2hhcmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTY3JvbGxUZXh0LCBkZWZhdWx0IGFzIFNjcm9sbFRleHQsIGRlZmF1bHQgYXMgU2Nyb2xsVGV4dEljb24gfSBmcm9tICcuL2ljb25zL3Njcm9sbC10ZXh0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2Nyb2xsLCBkZWZhdWx0IGFzIFNjcm9sbCwgZGVmYXVsdCBhcyBTY3JvbGxJY29uIH0gZnJvbSAnLi9pY29ucy9zY3JvbGwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTZWFyY2hDaGVjaywgZGVmYXVsdCBhcyBTZWFyY2hDaGVjaywgZGVmYXVsdCBhcyBTZWFyY2hDaGVja0ljb24gfSBmcm9tICcuL2ljb25zL3NlYXJjaC1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNlYXJjaENvZGUsIGRlZmF1bHQgYXMgU2VhcmNoQ29kZSwgZGVmYXVsdCBhcyBTZWFyY2hDb2RlSWNvbiB9IGZyb20gJy4vaWNvbnMvc2VhcmNoLWNvZGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTZWFyY2hTbGFzaCwgZGVmYXVsdCBhcyBTZWFyY2hTbGFzaCwgZGVmYXVsdCBhcyBTZWFyY2hTbGFzaEljb24gfSBmcm9tICcuL2ljb25zL3NlYXJjaC1zbGFzaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNlYXJjaFgsIGRlZmF1bHQgYXMgU2VhcmNoWCwgZGVmYXVsdCBhcyBTZWFyY2hYSWNvbiB9IGZyb20gJy4vaWNvbnMvc2VhcmNoLXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTZWFyY2gsIGRlZmF1bHQgYXMgU2VhcmNoLCBkZWZhdWx0IGFzIFNlYXJjaEljb24gfSBmcm9tICcuL2ljb25zL3NlYXJjaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNlY3Rpb24sIGRlZmF1bHQgYXMgU2VjdGlvbiwgZGVmYXVsdCBhcyBTZWN0aW9uSWNvbiB9IGZyb20gJy4vaWNvbnMvc2VjdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNlbmRUb0JhY2ssIGRlZmF1bHQgYXMgU2VuZFRvQmFjaywgZGVmYXVsdCBhcyBTZW5kVG9CYWNrSWNvbiB9IGZyb20gJy4vaWNvbnMvc2VuZC10by1iYWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2VuZCwgZGVmYXVsdCBhcyBTZW5kLCBkZWZhdWx0IGFzIFNlbmRJY29uIH0gZnJvbSAnLi9pY29ucy9zZW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2VwYXJhdG9ySG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBTZXBhcmF0b3JIb3Jpem9udGFsLCBkZWZhdWx0IGFzIFNlcGFyYXRvckhvcml6b250YWxJY29uIH0gZnJvbSAnLi9pY29ucy9zZXBhcmF0b3ItaG9yaXpvbnRhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNlcGFyYXRvclZlcnRpY2FsLCBkZWZhdWx0IGFzIFNlcGFyYXRvclZlcnRpY2FsLCBkZWZhdWx0IGFzIFNlcGFyYXRvclZlcnRpY2FsSWNvbiB9IGZyb20gJy4vaWNvbnMvc2VwYXJhdG9yLXZlcnRpY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2VydmVyQ29nLCBkZWZhdWx0IGFzIFNlcnZlckNvZywgZGVmYXVsdCBhcyBTZXJ2ZXJDb2dJY29uIH0gZnJvbSAnLi9pY29ucy9zZXJ2ZXItY29nLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2VydmVyQ3Jhc2gsIGRlZmF1bHQgYXMgU2VydmVyQ3Jhc2gsIGRlZmF1bHQgYXMgU2VydmVyQ3Jhc2hJY29uIH0gZnJvbSAnLi9pY29ucy9zZXJ2ZXItY3Jhc2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTZXJ2ZXJPZmYsIGRlZmF1bHQgYXMgU2VydmVyT2ZmLCBkZWZhdWx0IGFzIFNlcnZlck9mZkljb24gfSBmcm9tICcuL2ljb25zL3NlcnZlci1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTZXJ2ZXIsIGRlZmF1bHQgYXMgU2VydmVyLCBkZWZhdWx0IGFzIFNlcnZlckljb24gfSBmcm9tICcuL2ljb25zL3NlcnZlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNldHRpbmdzMiwgZGVmYXVsdCBhcyBTZXR0aW5nczIsIGRlZmF1bHQgYXMgU2V0dGluZ3MySWNvbiB9IGZyb20gJy4vaWNvbnMvc2V0dGluZ3MtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNldHRpbmdzLCBkZWZhdWx0IGFzIFNldHRpbmdzLCBkZWZhdWx0IGFzIFNldHRpbmdzSWNvbiB9IGZyb20gJy4vaWNvbnMvc2V0dGluZ3MuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaGFwZXMsIGRlZmF1bHQgYXMgU2hhcGVzLCBkZWZhdWx0IGFzIFNoYXBlc0ljb24gfSBmcm9tICcuL2ljb25zL3NoYXBlcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNoYXJlMiwgZGVmYXVsdCBhcyBTaGFyZTIsIGRlZmF1bHQgYXMgU2hhcmUySWNvbiB9IGZyb20gJy4vaWNvbnMvc2hhcmUtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNoYXJlLCBkZWZhdWx0IGFzIFNoYXJlLCBkZWZhdWx0IGFzIFNoYXJlSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hhcmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaGVldCwgZGVmYXVsdCBhcyBTaGVldCwgZGVmYXVsdCBhcyBTaGVldEljb24gfSBmcm9tICcuL2ljb25zL3NoZWV0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2hlbGwsIGRlZmF1bHQgYXMgU2hlbGwsIGRlZmF1bHQgYXMgU2hlbGxJY29uIH0gZnJvbSAnLi9pY29ucy9zaGVsbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNoaWVsZEFsZXJ0LCBkZWZhdWx0IGFzIFNoaWVsZEFsZXJ0LCBkZWZhdWx0IGFzIFNoaWVsZEFsZXJ0SWNvbiB9IGZyb20gJy4vaWNvbnMvc2hpZWxkLWFsZXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2hpZWxkQmFuLCBkZWZhdWx0IGFzIFNoaWVsZEJhbiwgZGVmYXVsdCBhcyBTaGllbGRCYW5JY29uIH0gZnJvbSAnLi9pY29ucy9zaGllbGQtYmFuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2hpZWxkQ2hlY2ssIGRlZmF1bHQgYXMgU2hpZWxkQ2hlY2ssIGRlZmF1bHQgYXMgU2hpZWxkQ2hlY2tJY29uIH0gZnJvbSAnLi9pY29ucy9zaGllbGQtY2hlY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaGllbGRFbGxpcHNpcywgZGVmYXVsdCBhcyBTaGllbGRFbGxpcHNpcywgZGVmYXVsdCBhcyBTaGllbGRFbGxpcHNpc0ljb24gfSBmcm9tICcuL2ljb25zL3NoaWVsZC1lbGxpcHNpcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNoaWVsZEhhbGYsIGRlZmF1bHQgYXMgU2hpZWxkSGFsZiwgZGVmYXVsdCBhcyBTaGllbGRIYWxmSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hpZWxkLWhhbGYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaGllbGRNaW51cywgZGVmYXVsdCBhcyBTaGllbGRNaW51cywgZGVmYXVsdCBhcyBTaGllbGRNaW51c0ljb24gfSBmcm9tICcuL2ljb25zL3NoaWVsZC1taW51cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNoaWVsZE9mZiwgZGVmYXVsdCBhcyBTaGllbGRPZmYsIGRlZmF1bHQgYXMgU2hpZWxkT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hpZWxkLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNoaWVsZFBsdXMsIGRlZmF1bHQgYXMgU2hpZWxkUGx1cywgZGVmYXVsdCBhcyBTaGllbGRQbHVzSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hpZWxkLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaGllbGRRdWVzdGlvbiwgZGVmYXVsdCBhcyBTaGllbGRRdWVzdGlvbiwgZGVmYXVsdCBhcyBTaGllbGRRdWVzdGlvbkljb24gfSBmcm9tICcuL2ljb25zL3NoaWVsZC1xdWVzdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNoaWVsZCwgZGVmYXVsdCBhcyBTaGllbGQsIGRlZmF1bHQgYXMgU2hpZWxkSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hpZWxkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2hpcFdoZWVsLCBkZWZhdWx0IGFzIFNoaXBXaGVlbCwgZGVmYXVsdCBhcyBTaGlwV2hlZWxJY29uIH0gZnJvbSAnLi9pY29ucy9zaGlwLXdoZWVsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2hpcCwgZGVmYXVsdCBhcyBTaGlwLCBkZWZhdWx0IGFzIFNoaXBJY29uIH0gZnJvbSAnLi9pY29ucy9zaGlwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2hpcnQsIGRlZmF1bHQgYXMgU2hpcnQsIGRlZmF1bHQgYXMgU2hpcnRJY29uIH0gZnJvbSAnLi9pY29ucy9zaGlydC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNob3BwaW5nQmFnLCBkZWZhdWx0IGFzIFNob3BwaW5nQmFnLCBkZWZhdWx0IGFzIFNob3BwaW5nQmFnSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hvcHBpbmctYmFnLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2hvcHBpbmdCYXNrZXQsIGRlZmF1bHQgYXMgU2hvcHBpbmdCYXNrZXQsIGRlZmF1bHQgYXMgU2hvcHBpbmdCYXNrZXRJY29uIH0gZnJvbSAnLi9pY29ucy9zaG9wcGluZy1iYXNrZXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaG9wcGluZ0NhcnQsIGRlZmF1bHQgYXMgU2hvcHBpbmdDYXJ0LCBkZWZhdWx0IGFzIFNob3BwaW5nQ2FydEljb24gfSBmcm9tICcuL2ljb25zL3Nob3BwaW5nLWNhcnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaG92ZWwsIGRlZmF1bHQgYXMgU2hvdmVsLCBkZWZhdWx0IGFzIFNob3ZlbEljb24gfSBmcm9tICcuL2ljb25zL3Nob3ZlbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNob3dlckhlYWQsIGRlZmF1bHQgYXMgU2hvd2VySGVhZCwgZGVmYXVsdCBhcyBTaG93ZXJIZWFkSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hvd2VyLWhlYWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaHJpbmssIGRlZmF1bHQgYXMgU2hyaW5rLCBkZWZhdWx0IGFzIFNocmlua0ljb24gfSBmcm9tICcuL2ljb25zL3Nocmluay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNocnViLCBkZWZhdWx0IGFzIFNocnViLCBkZWZhdWx0IGFzIFNocnViSWNvbiB9IGZyb20gJy4vaWNvbnMvc2hydWIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaHVmZmxlLCBkZWZhdWx0IGFzIFNodWZmbGUsIGRlZmF1bHQgYXMgU2h1ZmZsZUljb24gfSBmcm9tICcuL2ljb25zL3NodWZmbGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaWdtYSwgZGVmYXVsdCBhcyBTaWdtYSwgZGVmYXVsdCBhcyBTaWdtYUljb24gfSBmcm9tICcuL2ljb25zL3NpZ21hLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2lnbmFsSGlnaCwgZGVmYXVsdCBhcyBTaWduYWxIaWdoLCBkZWZhdWx0IGFzIFNpZ25hbEhpZ2hJY29uIH0gZnJvbSAnLi9pY29ucy9zaWduYWwtaGlnaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNpZ25hbExvdywgZGVmYXVsdCBhcyBTaWduYWxMb3csIGRlZmF1bHQgYXMgU2lnbmFsTG93SWNvbiB9IGZyb20gJy4vaWNvbnMvc2lnbmFsLWxvdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNpZ25hbE1lZGl1bSwgZGVmYXVsdCBhcyBTaWduYWxNZWRpdW0sIGRlZmF1bHQgYXMgU2lnbmFsTWVkaXVtSWNvbiB9IGZyb20gJy4vaWNvbnMvc2lnbmFsLW1lZGl1bS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNpZ25hbFplcm8sIGRlZmF1bHQgYXMgU2lnbmFsWmVybywgZGVmYXVsdCBhcyBTaWduYWxaZXJvSWNvbiB9IGZyb20gJy4vaWNvbnMvc2lnbmFsLXplcm8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaWduYWwsIGRlZmF1bHQgYXMgU2lnbmFsLCBkZWZhdWx0IGFzIFNpZ25hbEljb24gfSBmcm9tICcuL2ljb25zL3NpZ25hbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNpZ25hdHVyZSwgZGVmYXVsdCBhcyBTaWduYXR1cmUsIGRlZmF1bHQgYXMgU2lnbmF0dXJlSWNvbiB9IGZyb20gJy4vaWNvbnMvc2lnbmF0dXJlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2lnbnBvc3RCaWcsIGRlZmF1bHQgYXMgU2lnbnBvc3RCaWcsIGRlZmF1bHQgYXMgU2lnbnBvc3RCaWdJY29uIH0gZnJvbSAnLi9pY29ucy9zaWducG9zdC1iaWcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTaWducG9zdCwgZGVmYXVsdCBhcyBTaWducG9zdCwgZGVmYXVsdCBhcyBTaWducG9zdEljb24gfSBmcm9tICcuL2ljb25zL3NpZ25wb3N0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2lyZW4sIGRlZmF1bHQgYXMgU2lyZW4sIGRlZmF1bHQgYXMgU2lyZW5JY29uIH0gZnJvbSAnLi9pY29ucy9zaXJlbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNraXBCYWNrLCBkZWZhdWx0IGFzIFNraXBCYWNrLCBkZWZhdWx0IGFzIFNraXBCYWNrSWNvbiB9IGZyb20gJy4vaWNvbnMvc2tpcC1iYWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2tpcEZvcndhcmQsIGRlZmF1bHQgYXMgU2tpcEZvcndhcmQsIGRlZmF1bHQgYXMgU2tpcEZvcndhcmRJY29uIH0gZnJvbSAnLi9pY29ucy9za2lwLWZvcndhcmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTa3VsbCwgZGVmYXVsdCBhcyBTa3VsbCwgZGVmYXVsdCBhcyBTa3VsbEljb24gfSBmcm9tICcuL2ljb25zL3NrdWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2xhY2ssIGRlZmF1bHQgYXMgU2xhY2ssIGRlZmF1bHQgYXMgU2xhY2tJY29uIH0gZnJvbSAnLi9pY29ucy9zbGFjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNsYXNoLCBkZWZhdWx0IGFzIFNsYXNoLCBkZWZhdWx0IGFzIFNsYXNoSWNvbiB9IGZyb20gJy4vaWNvbnMvc2xhc2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTbGljZSwgZGVmYXVsdCBhcyBTbGljZSwgZGVmYXVsdCBhcyBTbGljZUljb24gfSBmcm9tICcuL2ljb25zL3NsaWNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU2xpZGVyc0hvcml6b250YWwsIGRlZmF1bHQgYXMgU2xpZGVyc0hvcml6b250YWwsIGRlZmF1bHQgYXMgU2xpZGVyc0hvcml6b250YWxJY29uIH0gZnJvbSAnLi9pY29ucy9zbGlkZXJzLWhvcml6b250YWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTbWFydHBob25lQ2hhcmdpbmcsIGRlZmF1bHQgYXMgU21hcnRwaG9uZUNoYXJnaW5nLCBkZWZhdWx0IGFzIFNtYXJ0cGhvbmVDaGFyZ2luZ0ljb24gfSBmcm9tICcuL2ljb25zL3NtYXJ0cGhvbmUtY2hhcmdpbmcuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTbWFydHBob25lTmZjLCBkZWZhdWx0IGFzIFNtYXJ0cGhvbmVOZmMsIGRlZmF1bHQgYXMgU21hcnRwaG9uZU5mY0ljb24gfSBmcm9tICcuL2ljb25zL3NtYXJ0cGhvbmUtbmZjLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU21hcnRwaG9uZSwgZGVmYXVsdCBhcyBTbWFydHBob25lLCBkZWZhdWx0IGFzIFNtYXJ0cGhvbmVJY29uIH0gZnJvbSAnLi9pY29ucy9zbWFydHBob25lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU21pbGVQbHVzLCBkZWZhdWx0IGFzIFNtaWxlUGx1cywgZGVmYXVsdCBhcyBTbWlsZVBsdXNJY29uIH0gZnJvbSAnLi9pY29ucy9zbWlsZS1wbHVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU21pbGUsIGRlZmF1bHQgYXMgU21pbGUsIGRlZmF1bHQgYXMgU21pbGVJY29uIH0gZnJvbSAnLi9pY29ucy9zbWlsZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNuYWlsLCBkZWZhdWx0IGFzIFNuYWlsLCBkZWZhdWx0IGFzIFNuYWlsSWNvbiB9IGZyb20gJy4vaWNvbnMvc25haWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTbm93Zmxha2UsIGRlZmF1bHQgYXMgU25vd2ZsYWtlLCBkZWZhdWx0IGFzIFNub3dmbGFrZUljb24gfSBmcm9tICcuL2ljb25zL3Nub3dmbGFrZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNvZmEsIGRlZmF1bHQgYXMgU29mYSwgZGVmYXVsdCBhcyBTb2ZhSWNvbiB9IGZyb20gJy4vaWNvbnMvc29mYS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNvdXAsIGRlZmF1bHQgYXMgU291cCwgZGVmYXVsdCBhcyBTb3VwSWNvbiB9IGZyb20gJy4vaWNvbnMvc291cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNwYWNlLCBkZWZhdWx0IGFzIFNwYWNlLCBkZWZhdWx0IGFzIFNwYWNlSWNvbiB9IGZyb20gJy4vaWNvbnMvc3BhY2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcGFkZSwgZGVmYXVsdCBhcyBTcGFkZSwgZGVmYXVsdCBhcyBTcGFkZUljb24gfSBmcm9tICcuL2ljb25zL3NwYWRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3BhcmtsZSwgZGVmYXVsdCBhcyBTcGFya2xlLCBkZWZhdWx0IGFzIFNwYXJrbGVJY29uIH0gZnJvbSAnLi9pY29ucy9zcGFya2xlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3BlYWtlciwgZGVmYXVsdCBhcyBTcGVha2VyLCBkZWZhdWx0IGFzIFNwZWFrZXJJY29uIH0gZnJvbSAnLi9pY29ucy9zcGVha2VyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3BlZWNoLCBkZWZhdWx0IGFzIFNwZWVjaCwgZGVmYXVsdCBhcyBTcGVlY2hJY29uIH0gZnJvbSAnLi9pY29ucy9zcGVlY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcGVsbENoZWNrMiwgZGVmYXVsdCBhcyBTcGVsbENoZWNrMiwgZGVmYXVsdCBhcyBTcGVsbENoZWNrMkljb24gfSBmcm9tICcuL2ljb25zL3NwZWxsLWNoZWNrLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcGVsbENoZWNrLCBkZWZhdWx0IGFzIFNwZWxsQ2hlY2ssIGRlZmF1bHQgYXMgU3BlbGxDaGVja0ljb24gfSBmcm9tICcuL2ljb25zL3NwZWxsLWNoZWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3BsaW5lLCBkZWZhdWx0IGFzIFNwbGluZSwgZGVmYXVsdCBhcyBTcGxpbmVJY29uIH0gZnJvbSAnLi9pY29ucy9zcGxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcGxpdCwgZGVmYXVsdCBhcyBTcGxpdCwgZGVmYXVsdCBhcyBTcGxpdEljb24gfSBmcm9tICcuL2ljb25zL3NwbGl0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3ByYXlDYW4sIGRlZmF1bHQgYXMgU3ByYXlDYW4sIGRlZmF1bHQgYXMgU3ByYXlDYW5JY29uIH0gZnJvbSAnLi9pY29ucy9zcHJheS1jYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcHJvdXQsIGRlZmF1bHQgYXMgU3Byb3V0LCBkZWZhdWx0IGFzIFNwcm91dEljb24gfSBmcm9tICcuL2ljb25zL3Nwcm91dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZURhc2hlZEJvdHRvbUNvZGUsIGRlZmF1bHQgYXMgU3F1YXJlRGFzaGVkQm90dG9tQ29kZSwgZGVmYXVsdCBhcyBTcXVhcmVEYXNoZWRCb3R0b21Db2RlSWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWRhc2hlZC1ib3R0b20tY29kZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNxdWFyZURhc2hlZEJvdHRvbSwgZGVmYXVsdCBhcyBTcXVhcmVEYXNoZWRCb3R0b20sIGRlZmF1bHQgYXMgU3F1YXJlRGFzaGVkQm90dG9tSWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1YXJlLWRhc2hlZC1ib3R0b20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmVSYWRpY2FsLCBkZWZhdWx0IGFzIFNxdWFyZVJhZGljYWwsIGRlZmF1bHQgYXMgU3F1YXJlUmFkaWNhbEljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS1yYWRpY2FsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlU3F1YXJlLCBkZWZhdWx0IGFzIFNxdWFyZVNxdWFyZSwgZGVmYXVsdCBhcyBTcXVhcmVTcXVhcmVJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtc3F1YXJlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3F1YXJlU3RhY2ssIGRlZmF1bHQgYXMgU3F1YXJlU3RhY2ssIGRlZmF1bHQgYXMgU3F1YXJlU3RhY2tJY29uIH0gZnJvbSAnLi9pY29ucy9zcXVhcmUtc3RhY2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcXVhcmUsIGRlZmF1bHQgYXMgU3F1YXJlLCBkZWZhdWx0IGFzIFNxdWFyZUljb24gfSBmcm9tICcuL2ljb25zL3NxdWFyZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVNxdWlyY2xlLCBkZWZhdWx0IGFzIFNxdWlyY2xlLCBkZWZhdWx0IGFzIFNxdWlyY2xlSWNvbiB9IGZyb20gJy4vaWNvbnMvc3F1aXJjbGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTcXVpcnJlbCwgZGVmYXVsdCBhcyBTcXVpcnJlbCwgZGVmYXVsdCBhcyBTcXVpcnJlbEljb24gfSBmcm9tICcuL2ljb25zL3NxdWlycmVsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3RhbXAsIGRlZmF1bHQgYXMgU3RhbXAsIGRlZmF1bHQgYXMgU3RhbXBJY29uIH0gZnJvbSAnLi9pY29ucy9zdGFtcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN0YXJIYWxmLCBkZWZhdWx0IGFzIFN0YXJIYWxmLCBkZWZhdWx0IGFzIFN0YXJIYWxmSWNvbiB9IGZyb20gJy4vaWNvbnMvc3Rhci1oYWxmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3Rhck9mZiwgZGVmYXVsdCBhcyBTdGFyT2ZmLCBkZWZhdWx0IGFzIFN0YXJPZmZJY29uIH0gZnJvbSAnLi9pY29ucy9zdGFyLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN0YXIsIGRlZmF1bHQgYXMgU3RhciwgZGVmYXVsdCBhcyBTdGFySWNvbiB9IGZyb20gJy4vaWNvbnMvc3Rhci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN0ZXBCYWNrLCBkZWZhdWx0IGFzIFN0ZXBCYWNrLCBkZWZhdWx0IGFzIFN0ZXBCYWNrSWNvbiB9IGZyb20gJy4vaWNvbnMvc3RlcC1iYWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3RlcEZvcndhcmQsIGRlZmF1bHQgYXMgU3RlcEZvcndhcmQsIGRlZmF1bHQgYXMgU3RlcEZvcndhcmRJY29uIH0gZnJvbSAnLi9pY29ucy9zdGVwLWZvcndhcmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTdGV0aG9zY29wZSwgZGVmYXVsdCBhcyBTdGV0aG9zY29wZSwgZGVmYXVsdCBhcyBTdGV0aG9zY29wZUljb24gfSBmcm9tICcuL2ljb25zL3N0ZXRob3Njb3BlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3RpY2tlciwgZGVmYXVsdCBhcyBTdGlja2VyLCBkZWZhdWx0IGFzIFN0aWNrZXJJY29uIH0gZnJvbSAnLi9pY29ucy9zdGlja2VyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3RpY2t5Tm90ZSwgZGVmYXVsdCBhcyBTdGlja3lOb3RlLCBkZWZhdWx0IGFzIFN0aWNreU5vdGVJY29uIH0gZnJvbSAnLi9pY29ucy9zdGlja3ktbm90ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN0b3JlLCBkZWZhdWx0IGFzIFN0b3JlLCBkZWZhdWx0IGFzIFN0b3JlSWNvbiB9IGZyb20gJy4vaWNvbnMvc3RvcmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTdHJldGNoSG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBTdHJldGNoSG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBTdHJldGNoSG9yaXpvbnRhbEljb24gfSBmcm9tICcuL2ljb25zL3N0cmV0Y2gtaG9yaXpvbnRhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN0cmV0Y2hWZXJ0aWNhbCwgZGVmYXVsdCBhcyBTdHJldGNoVmVydGljYWwsIGRlZmF1bHQgYXMgU3RyZXRjaFZlcnRpY2FsSWNvbiB9IGZyb20gJy4vaWNvbnMvc3RyZXRjaC12ZXJ0aWNhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN0cmlrZXRocm91Z2gsIGRlZmF1bHQgYXMgU3RyaWtldGhyb3VnaCwgZGVmYXVsdCBhcyBTdHJpa2V0aHJvdWdoSWNvbiB9IGZyb20gJy4vaWNvbnMvc3RyaWtldGhyb3VnaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN1YnNjcmlwdCwgZGVmYXVsdCBhcyBTdWJzY3JpcHQsIGRlZmF1bHQgYXMgU3Vic2NyaXB0SWNvbiB9IGZyb20gJy4vaWNvbnMvc3Vic2NyaXB0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3VuRGltLCBkZWZhdWx0IGFzIFN1bkRpbSwgZGVmYXVsdCBhcyBTdW5EaW1JY29uIH0gZnJvbSAnLi9pY29ucy9zdW4tZGltLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3VuTWVkaXVtLCBkZWZhdWx0IGFzIFN1bk1lZGl1bSwgZGVmYXVsdCBhcyBTdW5NZWRpdW1JY29uIH0gZnJvbSAnLi9pY29ucy9zdW4tbWVkaXVtLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3VuTW9vbiwgZGVmYXVsdCBhcyBTdW5Nb29uLCBkZWZhdWx0IGFzIFN1bk1vb25JY29uIH0gZnJvbSAnLi9pY29ucy9zdW4tbW9vbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN1blNub3csIGRlZmF1bHQgYXMgU3VuU25vdywgZGVmYXVsdCBhcyBTdW5Tbm93SWNvbiB9IGZyb20gJy4vaWNvbnMvc3VuLXNub3cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTdW4sIGRlZmF1bHQgYXMgU3VuLCBkZWZhdWx0IGFzIFN1bkljb24gfSBmcm9tICcuL2ljb25zL3N1bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN1bnJpc2UsIGRlZmF1bHQgYXMgU3VucmlzZSwgZGVmYXVsdCBhcyBTdW5yaXNlSWNvbiB9IGZyb20gJy4vaWNvbnMvc3VucmlzZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN1bnNldCwgZGVmYXVsdCBhcyBTdW5zZXQsIGRlZmF1bHQgYXMgU3Vuc2V0SWNvbiB9IGZyb20gJy4vaWNvbnMvc3Vuc2V0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3VwZXJzY3JpcHQsIGRlZmF1bHQgYXMgU3VwZXJzY3JpcHQsIGRlZmF1bHQgYXMgU3VwZXJzY3JpcHRJY29uIH0gZnJvbSAnLi9pY29ucy9zdXBlcnNjcmlwdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN3YXRjaEJvb2ssIGRlZmF1bHQgYXMgU3dhdGNoQm9vaywgZGVmYXVsdCBhcyBTd2F0Y2hCb29rSWNvbiB9IGZyb20gJy4vaWNvbnMvc3dhdGNoLWJvb2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVTd2lzc0ZyYW5jLCBkZWZhdWx0IGFzIFN3aXNzRnJhbmMsIGRlZmF1bHQgYXMgU3dpc3NGcmFuY0ljb24gfSBmcm9tICcuL2ljb25zL3N3aXNzLWZyYW5jLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3dpdGNoQ2FtZXJhLCBkZWZhdWx0IGFzIFN3aXRjaENhbWVyYSwgZGVmYXVsdCBhcyBTd2l0Y2hDYW1lcmFJY29uIH0gZnJvbSAnLi9pY29ucy9zd2l0Y2gtY2FtZXJhLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3dvcmQsIGRlZmF1bHQgYXMgU3dvcmQsIGRlZmF1bHQgYXMgU3dvcmRJY29uIH0gZnJvbSAnLi9pY29ucy9zd29yZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVN3b3JkcywgZGVmYXVsdCBhcyBTd29yZHMsIGRlZmF1bHQgYXMgU3dvcmRzSWNvbiB9IGZyb20gJy4vaWNvbnMvc3dvcmRzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlU3lyaW5nZSwgZGVmYXVsdCBhcyBTeXJpbmdlLCBkZWZhdWx0IGFzIFN5cmluZ2VJY29uIH0gZnJvbSAnLi9pY29ucy9zeXJpbmdlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFibGUyLCBkZWZhdWx0IGFzIFRhYmxlMiwgZGVmYXVsdCBhcyBUYWJsZTJJY29uIH0gZnJvbSAnLi9pY29ucy90YWJsZS0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFibGVDZWxsc01lcmdlLCBkZWZhdWx0IGFzIFRhYmxlQ2VsbHNNZXJnZSwgZGVmYXVsdCBhcyBUYWJsZUNlbGxzTWVyZ2VJY29uIH0gZnJvbSAnLi9pY29ucy90YWJsZS1jZWxscy1tZXJnZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRhYmxlQ2VsbHNTcGxpdCwgZGVmYXVsdCBhcyBUYWJsZUNlbGxzU3BsaXQsIGRlZmF1bHQgYXMgVGFibGVDZWxsc1NwbGl0SWNvbiB9IGZyb20gJy4vaWNvbnMvdGFibGUtY2VsbHMtc3BsaXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUYWJsZUNvbHVtbnNTcGxpdCwgZGVmYXVsdCBhcyBUYWJsZUNvbHVtbnNTcGxpdCwgZGVmYXVsdCBhcyBUYWJsZUNvbHVtbnNTcGxpdEljb24gfSBmcm9tICcuL2ljb25zL3RhYmxlLWNvbHVtbnMtc3BsaXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUYWJsZU9mQ29udGVudHMsIGRlZmF1bHQgYXMgVGFibGVPZkNvbnRlbnRzLCBkZWZhdWx0IGFzIFRhYmxlT2ZDb250ZW50c0ljb24gfSBmcm9tICcuL2ljb25zL3RhYmxlLW9mLWNvbnRlbnRzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFibGVQcm9wZXJ0aWVzLCBkZWZhdWx0IGFzIFRhYmxlUHJvcGVydGllcywgZGVmYXVsdCBhcyBUYWJsZVByb3BlcnRpZXNJY29uIH0gZnJvbSAnLi9pY29ucy90YWJsZS1wcm9wZXJ0aWVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFibGVSb3dzU3BsaXQsIGRlZmF1bHQgYXMgVGFibGVSb3dzU3BsaXQsIGRlZmF1bHQgYXMgVGFibGVSb3dzU3BsaXRJY29uIH0gZnJvbSAnLi9pY29ucy90YWJsZS1yb3dzLXNwbGl0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFibGUsIGRlZmF1bHQgYXMgVGFibGUsIGRlZmF1bHQgYXMgVGFibGVJY29uIH0gZnJvbSAnLi9pY29ucy90YWJsZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRhYmxldFNtYXJ0cGhvbmUsIGRlZmF1bHQgYXMgVGFibGV0U21hcnRwaG9uZSwgZGVmYXVsdCBhcyBUYWJsZXRTbWFydHBob25lSWNvbiB9IGZyb20gJy4vaWNvbnMvdGFibGV0LXNtYXJ0cGhvbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUYWJsZXQsIGRlZmF1bHQgYXMgVGFibGV0LCBkZWZhdWx0IGFzIFRhYmxldEljb24gfSBmcm9tICcuL2ljb25zL3RhYmxldC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRhYmxldHMsIGRlZmF1bHQgYXMgVGFibGV0cywgZGVmYXVsdCBhcyBUYWJsZXRzSWNvbiB9IGZyb20gJy4vaWNvbnMvdGFibGV0cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRhZywgZGVmYXVsdCBhcyBUYWcsIGRlZmF1bHQgYXMgVGFnSWNvbiB9IGZyb20gJy4vaWNvbnMvdGFnLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFncywgZGVmYXVsdCBhcyBUYWdzLCBkZWZhdWx0IGFzIFRhZ3NJY29uIH0gZnJvbSAnLi9pY29ucy90YWdzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFsbHkxLCBkZWZhdWx0IGFzIFRhbGx5MSwgZGVmYXVsdCBhcyBUYWxseTFJY29uIH0gZnJvbSAnLi9pY29ucy90YWxseS0xLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFsbHkyLCBkZWZhdWx0IGFzIFRhbGx5MiwgZGVmYXVsdCBhcyBUYWxseTJJY29uIH0gZnJvbSAnLi9pY29ucy90YWxseS0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFsbHkzLCBkZWZhdWx0IGFzIFRhbGx5MywgZGVmYXVsdCBhcyBUYWxseTNJY29uIH0gZnJvbSAnLi9pY29ucy90YWxseS0zLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFsbHk0LCBkZWZhdWx0IGFzIFRhbGx5NCwgZGVmYXVsdCBhcyBUYWxseTRJY29uIH0gZnJvbSAnLi9pY29ucy90YWxseS00LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFsbHk1LCBkZWZhdWx0IGFzIFRhbGx5NSwgZGVmYXVsdCBhcyBUYWxseTVJY29uIH0gZnJvbSAnLi9pY29ucy90YWxseS01LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFuZ2VudCwgZGVmYXVsdCBhcyBUYW5nZW50LCBkZWZhdWx0IGFzIFRhbmdlbnRJY29uIH0gZnJvbSAnLi9pY29ucy90YW5nZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGFyZ2V0LCBkZWZhdWx0IGFzIFRhcmdldCwgZGVmYXVsdCBhcyBUYXJnZXRJY29uIH0gZnJvbSAnLi9pY29ucy90YXJnZXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUZWxlc2NvcGUsIGRlZmF1bHQgYXMgVGVsZXNjb3BlLCBkZWZhdWx0IGFzIFRlbGVzY29wZUljb24gfSBmcm9tICcuL2ljb25zL3RlbGVzY29wZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRlbnRUcmVlLCBkZWZhdWx0IGFzIFRlbnRUcmVlLCBkZWZhdWx0IGFzIFRlbnRUcmVlSWNvbiB9IGZyb20gJy4vaWNvbnMvdGVudC10cmVlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGVudCwgZGVmYXVsdCBhcyBUZW50LCBkZWZhdWx0IGFzIFRlbnRJY29uIH0gZnJvbSAnLi9pY29ucy90ZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGVybWluYWwsIGRlZmF1bHQgYXMgVGVybWluYWwsIGRlZmF1bHQgYXMgVGVybWluYWxJY29uIH0gZnJvbSAnLi9pY29ucy90ZXJtaW5hbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRlc3RUdWJlLCBkZWZhdWx0IGFzIFRlc3RUdWJlLCBkZWZhdWx0IGFzIFRlc3RUdWJlSWNvbiB9IGZyb20gJy4vaWNvbnMvdGVzdC10dWJlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGVzdFR1YmVzLCBkZWZhdWx0IGFzIFRlc3RUdWJlcywgZGVmYXVsdCBhcyBUZXN0VHViZXNJY29uIH0gZnJvbSAnLi9pY29ucy90ZXN0LXR1YmVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGV4dEN1cnNvcklucHV0LCBkZWZhdWx0IGFzIFRleHRDdXJzb3JJbnB1dCwgZGVmYXVsdCBhcyBUZXh0Q3Vyc29ySW5wdXRJY29uIH0gZnJvbSAnLi9pY29ucy90ZXh0LWN1cnNvci1pbnB1dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRleHRDdXJzb3IsIGRlZmF1bHQgYXMgVGV4dEN1cnNvciwgZGVmYXVsdCBhcyBUZXh0Q3Vyc29ySWNvbiB9IGZyb20gJy4vaWNvbnMvdGV4dC1jdXJzb3IuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUZXh0UXVvdGUsIGRlZmF1bHQgYXMgVGV4dFF1b3RlLCBkZWZhdWx0IGFzIFRleHRRdW90ZUljb24gfSBmcm9tICcuL2ljb25zL3RleHQtcXVvdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUZXh0U2VhcmNoLCBkZWZhdWx0IGFzIFRleHRTZWFyY2gsIGRlZmF1bHQgYXMgVGV4dFNlYXJjaEljb24gfSBmcm9tICcuL2ljb25zL3RleHQtc2VhcmNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGV4dCwgZGVmYXVsdCBhcyBUZXh0LCBkZWZhdWx0IGFzIFRleHRJY29uIH0gZnJvbSAnLi9pY29ucy90ZXh0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGhlYXRlciwgZGVmYXVsdCBhcyBUaGVhdGVyLCBkZWZhdWx0IGFzIFRoZWF0ZXJJY29uIH0gZnJvbSAnLi9pY29ucy90aGVhdGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGhlcm1vbWV0ZXJTbm93Zmxha2UsIGRlZmF1bHQgYXMgVGhlcm1vbWV0ZXJTbm93Zmxha2UsIGRlZmF1bHQgYXMgVGhlcm1vbWV0ZXJTbm93Zmxha2VJY29uIH0gZnJvbSAnLi9pY29ucy90aGVybW9tZXRlci1zbm93Zmxha2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUaGVybW9tZXRlclN1biwgZGVmYXVsdCBhcyBUaGVybW9tZXRlclN1biwgZGVmYXVsdCBhcyBUaGVybW9tZXRlclN1bkljb24gfSBmcm9tICcuL2ljb25zL3RoZXJtb21ldGVyLXN1bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRoZXJtb21ldGVyLCBkZWZhdWx0IGFzIFRoZXJtb21ldGVyLCBkZWZhdWx0IGFzIFRoZXJtb21ldGVySWNvbiB9IGZyb20gJy4vaWNvbnMvdGhlcm1vbWV0ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUaHVtYnNEb3duLCBkZWZhdWx0IGFzIFRodW1ic0Rvd24sIGRlZmF1bHQgYXMgVGh1bWJzRG93bkljb24gfSBmcm9tICcuL2ljb25zL3RodW1icy1kb3duLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGh1bWJzVXAsIGRlZmF1bHQgYXMgVGh1bWJzVXAsIGRlZmF1bHQgYXMgVGh1bWJzVXBJY29uIH0gZnJvbSAnLi9pY29ucy90aHVtYnMtdXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUaWNrZXRDaGVjaywgZGVmYXVsdCBhcyBUaWNrZXRDaGVjaywgZGVmYXVsdCBhcyBUaWNrZXRDaGVja0ljb24gfSBmcm9tICcuL2ljb25zL3RpY2tldC1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRpY2tldE1pbnVzLCBkZWZhdWx0IGFzIFRpY2tldE1pbnVzLCBkZWZhdWx0IGFzIFRpY2tldE1pbnVzSWNvbiB9IGZyb20gJy4vaWNvbnMvdGlja2V0LW1pbnVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGlja2V0UGVyY2VudCwgZGVmYXVsdCBhcyBUaWNrZXRQZXJjZW50LCBkZWZhdWx0IGFzIFRpY2tldFBlcmNlbnRJY29uIH0gZnJvbSAnLi9pY29ucy90aWNrZXQtcGVyY2VudC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRpY2tldFBsdXMsIGRlZmF1bHQgYXMgVGlja2V0UGx1cywgZGVmYXVsdCBhcyBUaWNrZXRQbHVzSWNvbiB9IGZyb20gJy4vaWNvbnMvdGlja2V0LXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUaWNrZXRTbGFzaCwgZGVmYXVsdCBhcyBUaWNrZXRTbGFzaCwgZGVmYXVsdCBhcyBUaWNrZXRTbGFzaEljb24gfSBmcm9tICcuL2ljb25zL3RpY2tldC1zbGFzaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRpY2tldFgsIGRlZmF1bHQgYXMgVGlja2V0WCwgZGVmYXVsdCBhcyBUaWNrZXRYSWNvbiB9IGZyb20gJy4vaWNvbnMvdGlja2V0LXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUaWNrZXQsIGRlZmF1bHQgYXMgVGlja2V0LCBkZWZhdWx0IGFzIFRpY2tldEljb24gfSBmcm9tICcuL2ljb25zL3RpY2tldC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRpY2tldHNQbGFuZSwgZGVmYXVsdCBhcyBUaWNrZXRzUGxhbmUsIGRlZmF1bHQgYXMgVGlja2V0c1BsYW5lSWNvbiB9IGZyb20gJy4vaWNvbnMvdGlja2V0cy1wbGFuZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRpY2tldHMsIGRlZmF1bHQgYXMgVGlja2V0cywgZGVmYXVsdCBhcyBUaWNrZXRzSWNvbiB9IGZyb20gJy4vaWNvbnMvdGlja2V0cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRpbWVyT2ZmLCBkZWZhdWx0IGFzIFRpbWVyT2ZmLCBkZWZhdWx0IGFzIFRpbWVyT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvdGltZXItb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVGltZXJSZXNldCwgZGVmYXVsdCBhcyBUaW1lclJlc2V0LCBkZWZhdWx0IGFzIFRpbWVyUmVzZXRJY29uIH0gZnJvbSAnLi9pY29ucy90aW1lci1yZXNldC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRpbWVyLCBkZWZhdWx0IGFzIFRpbWVyLCBkZWZhdWx0IGFzIFRpbWVySWNvbiB9IGZyb20gJy4vaWNvbnMvdGltZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUb2dnbGVMZWZ0LCBkZWZhdWx0IGFzIFRvZ2dsZUxlZnQsIGRlZmF1bHQgYXMgVG9nZ2xlTGVmdEljb24gfSBmcm9tICcuL2ljb25zL3RvZ2dsZS1sZWZ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVG9nZ2xlUmlnaHQsIGRlZmF1bHQgYXMgVG9nZ2xlUmlnaHQsIGRlZmF1bHQgYXMgVG9nZ2xlUmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy90b2dnbGUtcmlnaHQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUb2lsZXQsIGRlZmF1bHQgYXMgVG9pbGV0LCBkZWZhdWx0IGFzIFRvaWxldEljb24gfSBmcm9tICcuL2ljb25zL3RvaWxldC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRvcm5hZG8sIGRlZmF1bHQgYXMgVG9ybmFkbywgZGVmYXVsdCBhcyBUb3JuYWRvSWNvbiB9IGZyb20gJy4vaWNvbnMvdG9ybmFkby5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRvcnVzLCBkZWZhdWx0IGFzIFRvcnVzLCBkZWZhdWx0IGFzIFRvcnVzSWNvbiB9IGZyb20gJy4vaWNvbnMvdG9ydXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUb3VjaHBhZE9mZiwgZGVmYXVsdCBhcyBUb3VjaHBhZE9mZiwgZGVmYXVsdCBhcyBUb3VjaHBhZE9mZkljb24gfSBmcm9tICcuL2ljb25zL3RvdWNocGFkLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRvdWNocGFkLCBkZWZhdWx0IGFzIFRvdWNocGFkLCBkZWZhdWx0IGFzIFRvdWNocGFkSWNvbiB9IGZyb20gJy4vaWNvbnMvdG91Y2hwYWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUb3dlckNvbnRyb2wsIGRlZmF1bHQgYXMgVG93ZXJDb250cm9sLCBkZWZhdWx0IGFzIFRvd2VyQ29udHJvbEljb24gfSBmcm9tICcuL2ljb25zL3Rvd2VyLWNvbnRyb2wuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUb3lCcmljaywgZGVmYXVsdCBhcyBUb3lCcmljaywgZGVmYXVsdCBhcyBUb3lCcmlja0ljb24gfSBmcm9tICcuL2ljb25zL3RveS1icmljay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRyYWN0b3IsIGRlZmF1bHQgYXMgVHJhY3RvciwgZGVmYXVsdCBhcyBUcmFjdG9ySWNvbiB9IGZyb20gJy4vaWNvbnMvdHJhY3Rvci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRyYWZmaWNDb25lLCBkZWZhdWx0IGFzIFRyYWZmaWNDb25lLCBkZWZhdWx0IGFzIFRyYWZmaWNDb25lSWNvbiB9IGZyb20gJy4vaWNvbnMvdHJhZmZpYy1jb25lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHJhaW5Gcm9udFR1bm5lbCwgZGVmYXVsdCBhcyBUcmFpbkZyb250VHVubmVsLCBkZWZhdWx0IGFzIFRyYWluRnJvbnRUdW5uZWxJY29uIH0gZnJvbSAnLi9pY29ucy90cmFpbi1mcm9udC10dW5uZWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUcmFpbkZyb250LCBkZWZhdWx0IGFzIFRyYWluRnJvbnQsIGRlZmF1bHQgYXMgVHJhaW5Gcm9udEljb24gfSBmcm9tICcuL2ljb25zL3RyYWluLWZyb250LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHJhaW5UcmFjaywgZGVmYXVsdCBhcyBUcmFpblRyYWNrLCBkZWZhdWx0IGFzIFRyYWluVHJhY2tJY29uIH0gZnJvbSAnLi9pY29ucy90cmFpbi10cmFjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRyYXNoMiwgZGVmYXVsdCBhcyBUcmFzaDIsIGRlZmF1bHQgYXMgVHJhc2gySWNvbiB9IGZyb20gJy4vaWNvbnMvdHJhc2gtMi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRyYXNoLCBkZWZhdWx0IGFzIFRyYXNoLCBkZWZhdWx0IGFzIFRyYXNoSWNvbiB9IGZyb20gJy4vaWNvbnMvdHJhc2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUcmVlRGVjaWR1b3VzLCBkZWZhdWx0IGFzIFRyZWVEZWNpZHVvdXMsIGRlZmF1bHQgYXMgVHJlZURlY2lkdW91c0ljb24gfSBmcm9tICcuL2ljb25zL3RyZWUtZGVjaWR1b3VzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHJlZVBpbmUsIGRlZmF1bHQgYXMgVHJlZVBpbmUsIGRlZmF1bHQgYXMgVHJlZVBpbmVJY29uIH0gZnJvbSAnLi9pY29ucy90cmVlLXBpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUcmVlcywgZGVmYXVsdCBhcyBUcmVlcywgZGVmYXVsdCBhcyBUcmVlc0ljb24gfSBmcm9tICcuL2ljb25zL3RyZWVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHJlbGxvLCBkZWZhdWx0IGFzIFRyZWxsbywgZGVmYXVsdCBhcyBUcmVsbG9JY29uIH0gZnJvbSAnLi9pY29ucy90cmVsbG8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUcmVuZGluZ0Rvd24sIGRlZmF1bHQgYXMgVHJlbmRpbmdEb3duLCBkZWZhdWx0IGFzIFRyZW5kaW5nRG93bkljb24gfSBmcm9tICcuL2ljb25zL3RyZW5kaW5nLWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUcmVuZGluZ1VwRG93biwgZGVmYXVsdCBhcyBUcmVuZGluZ1VwRG93biwgZGVmYXVsdCBhcyBUcmVuZGluZ1VwRG93bkljb24gfSBmcm9tICcuL2ljb25zL3RyZW5kaW5nLXVwLWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUcmVuZGluZ1VwLCBkZWZhdWx0IGFzIFRyZW5kaW5nVXAsIGRlZmF1bHQgYXMgVHJlbmRpbmdVcEljb24gfSBmcm9tICcuL2ljb25zL3RyZW5kaW5nLXVwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHJpYW5nbGVSaWdodCwgZGVmYXVsdCBhcyBUcmlhbmdsZVJpZ2h0LCBkZWZhdWx0IGFzIFRyaWFuZ2xlUmlnaHRJY29uIH0gZnJvbSAnLi9pY29ucy90cmlhbmdsZS1yaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRyaWFuZ2xlLCBkZWZhdWx0IGFzIFRyaWFuZ2xlLCBkZWZhdWx0IGFzIFRyaWFuZ2xlSWNvbiB9IGZyb20gJy4vaWNvbnMvdHJpYW5nbGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUcm9waHksIGRlZmF1bHQgYXMgVHJvcGh5LCBkZWZhdWx0IGFzIFRyb3BoeUljb24gfSBmcm9tICcuL2ljb25zL3Ryb3BoeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVRydWNrLCBkZWZhdWx0IGFzIFRydWNrLCBkZWZhdWx0IGFzIFRydWNrSWNvbiB9IGZyb20gJy4vaWNvbnMvdHJ1Y2suanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUdXJ0bGUsIGRlZmF1bHQgYXMgVHVydGxlLCBkZWZhdWx0IGFzIFR1cnRsZUljb24gfSBmcm9tICcuL2ljb25zL3R1cnRsZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVR2TWluaW1hbFBsYXksIGRlZmF1bHQgYXMgVHZNaW5pbWFsUGxheSwgZGVmYXVsdCBhcyBUdk1pbmltYWxQbGF5SWNvbiB9IGZyb20gJy4vaWNvbnMvdHYtbWluaW1hbC1wbGF5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHYsIGRlZmF1bHQgYXMgVHYsIGRlZmF1bHQgYXMgVHZJY29uIH0gZnJvbSAnLi9pY29ucy90di5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVR3aXRjaCwgZGVmYXVsdCBhcyBUd2l0Y2gsIGRlZmF1bHQgYXMgVHdpdGNoSWNvbiB9IGZyb20gJy4vaWNvbnMvdHdpdGNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHdpdHRlciwgZGVmYXVsdCBhcyBUd2l0dGVyLCBkZWZhdWx0IGFzIFR3aXR0ZXJJY29uIH0gZnJvbSAnLi9pY29ucy90d2l0dGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVHlwZU91dGxpbmUsIGRlZmF1bHQgYXMgVHlwZU91dGxpbmUsIGRlZmF1bHQgYXMgVHlwZU91dGxpbmVJY29uIH0gZnJvbSAnLi9pY29ucy90eXBlLW91dGxpbmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVUeXBlLCBkZWZhdWx0IGFzIFR5cGUsIGRlZmF1bHQgYXMgVHlwZUljb24gfSBmcm9tICcuL2ljb25zL3R5cGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVbWJyZWxsYU9mZiwgZGVmYXVsdCBhcyBVbWJyZWxsYU9mZiwgZGVmYXVsdCBhcyBVbWJyZWxsYU9mZkljb24gfSBmcm9tICcuL2ljb25zL3VtYnJlbGxhLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVtYnJlbGxhLCBkZWZhdWx0IGFzIFVtYnJlbGxhLCBkZWZhdWx0IGFzIFVtYnJlbGxhSWNvbiB9IGZyb20gJy4vaWNvbnMvdW1icmVsbGEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVbmRlcmxpbmUsIGRlZmF1bHQgYXMgVW5kZXJsaW5lLCBkZWZhdWx0IGFzIFVuZGVybGluZUljb24gfSBmcm9tICcuL2ljb25zL3VuZGVybGluZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVuZG8yLCBkZWZhdWx0IGFzIFVuZG8yLCBkZWZhdWx0IGFzIFVuZG8ySWNvbiB9IGZyb20gJy4vaWNvbnMvdW5kby0yLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVW5kb0RvdCwgZGVmYXVsdCBhcyBVbmRvRG90LCBkZWZhdWx0IGFzIFVuZG9Eb3RJY29uIH0gZnJvbSAnLi9pY29ucy91bmRvLWRvdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVuZG8sIGRlZmF1bHQgYXMgVW5kbywgZGVmYXVsdCBhcyBVbmRvSWNvbiB9IGZyb20gJy4vaWNvbnMvdW5kby5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVuZm9sZEhvcml6b250YWwsIGRlZmF1bHQgYXMgVW5mb2xkSG9yaXpvbnRhbCwgZGVmYXVsdCBhcyBVbmZvbGRIb3Jpem9udGFsSWNvbiB9IGZyb20gJy4vaWNvbnMvdW5mb2xkLWhvcml6b250YWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVbmZvbGRWZXJ0aWNhbCwgZGVmYXVsdCBhcyBVbmZvbGRWZXJ0aWNhbCwgZGVmYXVsdCBhcyBVbmZvbGRWZXJ0aWNhbEljb24gfSBmcm9tICcuL2ljb25zL3VuZm9sZC12ZXJ0aWNhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVuZ3JvdXAsIGRlZmF1bHQgYXMgVW5ncm91cCwgZGVmYXVsdCBhcyBVbmdyb3VwSWNvbiB9IGZyb20gJy4vaWNvbnMvdW5ncm91cC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVubGluazIsIGRlZmF1bHQgYXMgVW5saW5rMiwgZGVmYXVsdCBhcyBVbmxpbmsySWNvbiB9IGZyb20gJy4vaWNvbnMvdW5saW5rLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVbmxpbmssIGRlZmF1bHQgYXMgVW5saW5rLCBkZWZhdWx0IGFzIFVubGlua0ljb24gfSBmcm9tICcuL2ljb25zL3VubGluay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVucGx1ZywgZGVmYXVsdCBhcyBVbnBsdWcsIGRlZmF1bHQgYXMgVW5wbHVnSWNvbiB9IGZyb20gJy4vaWNvbnMvdW5wbHVnLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVXBsb2FkLCBkZWZhdWx0IGFzIFVwbG9hZCwgZGVmYXVsdCBhcyBVcGxvYWRJY29uIH0gZnJvbSAnLi9pY29ucy91cGxvYWQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVc2IsIGRlZmF1bHQgYXMgVXNiLCBkZWZhdWx0IGFzIFVzYkljb24gfSBmcm9tICcuL2ljb25zL3VzYi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJDaGVjaywgZGVmYXVsdCBhcyBVc2VyQ2hlY2ssIGRlZmF1bHQgYXMgVXNlckNoZWNrSWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlci1jaGVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJDb2csIGRlZmF1bHQgYXMgVXNlckNvZywgZGVmYXVsdCBhcyBVc2VyQ29nSWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlci1jb2cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVc2VyTWludXMsIGRlZmF1bHQgYXMgVXNlck1pbnVzLCBkZWZhdWx0IGFzIFVzZXJNaW51c0ljb24gfSBmcm9tICcuL2ljb25zL3VzZXItbWludXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVc2VyUGVuLCBkZWZhdWx0IGFzIFVzZXJQZW4sIGRlZmF1bHQgYXMgVXNlclBlbkljb24gfSBmcm9tICcuL2ljb25zL3VzZXItcGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVXNlclBsdXMsIGRlZmF1bHQgYXMgVXNlclBsdXMsIGRlZmF1bHQgYXMgVXNlclBsdXNJY29uIH0gZnJvbSAnLi9pY29ucy91c2VyLXBsdXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVc2VyUm91bmRQZW4sIGRlZmF1bHQgYXMgVXNlclJvdW5kUGVuLCBkZWZhdWx0IGFzIFVzZXJSb3VuZFBlbkljb24gfSBmcm9tICcuL2ljb25zL3VzZXItcm91bmQtcGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVXNlclJvdW5kU2VhcmNoLCBkZWZhdWx0IGFzIFVzZXJSb3VuZFNlYXJjaCwgZGVmYXVsdCBhcyBVc2VyUm91bmRTZWFyY2hJY29uIH0gZnJvbSAnLi9pY29ucy91c2VyLXJvdW5kLXNlYXJjaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJTZWFyY2gsIGRlZmF1bHQgYXMgVXNlclNlYXJjaCwgZGVmYXVsdCBhcyBVc2VyU2VhcmNoSWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlci1zZWFyY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVc2VyWCwgZGVmYXVsdCBhcyBVc2VyWCwgZGVmYXVsdCBhcyBVc2VyWEljb24gfSBmcm9tICcuL2ljb25zL3VzZXIteC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVzZXIsIGRlZmF1bHQgYXMgVXNlciwgZGVmYXVsdCBhcyBVc2VySWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVVzZXJzLCBkZWZhdWx0IGFzIFVzZXJzLCBkZWZhdWx0IGFzIFVzZXJzSWNvbiB9IGZyb20gJy4vaWNvbnMvdXNlcnMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVVdGlsaXR5UG9sZSwgZGVmYXVsdCBhcyBVdGlsaXR5UG9sZSwgZGVmYXVsdCBhcyBVdGlsaXR5UG9sZUljb24gfSBmcm9tICcuL2ljb25zL3V0aWxpdHktcG9sZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVZhcmlhYmxlLCBkZWZhdWx0IGFzIFZhcmlhYmxlLCBkZWZhdWx0IGFzIFZhcmlhYmxlSWNvbiB9IGZyb20gJy4vaWNvbnMvdmFyaWFibGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVWYXVsdCwgZGVmYXVsdCBhcyBWYXVsdCwgZGVmYXVsdCBhcyBWYXVsdEljb24gfSBmcm9tICcuL2ljb25zL3ZhdWx0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVmVnYW4sIGRlZmF1bHQgYXMgVmVnYW4sIGRlZmF1bHQgYXMgVmVnYW5JY29uIH0gZnJvbSAnLi9pY29ucy92ZWdhbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVZlbmV0aWFuTWFzaywgZGVmYXVsdCBhcyBWZW5ldGlhbk1hc2ssIGRlZmF1bHQgYXMgVmVuZXRpYW5NYXNrSWNvbiB9IGZyb20gJy4vaWNvbnMvdmVuZXRpYW4tbWFzay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVZpYnJhdGVPZmYsIGRlZmF1bHQgYXMgVmlicmF0ZU9mZiwgZGVmYXVsdCBhcyBWaWJyYXRlT2ZmSWNvbiB9IGZyb20gJy4vaWNvbnMvdmlicmF0ZS1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVWaWJyYXRlLCBkZWZhdWx0IGFzIFZpYnJhdGUsIGRlZmF1bHQgYXMgVmlicmF0ZUljb24gfSBmcm9tICcuL2ljb25zL3ZpYnJhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVWaWRlb09mZiwgZGVmYXVsdCBhcyBWaWRlb09mZiwgZGVmYXVsdCBhcyBWaWRlb09mZkljb24gfSBmcm9tICcuL2ljb25zL3ZpZGVvLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVZpZGVvLCBkZWZhdWx0IGFzIFZpZGVvLCBkZWZhdWx0IGFzIFZpZGVvSWNvbiB9IGZyb20gJy4vaWNvbnMvdmlkZW8uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVWaWRlb3RhcGUsIGRlZmF1bHQgYXMgVmlkZW90YXBlLCBkZWZhdWx0IGFzIFZpZGVvdGFwZUljb24gfSBmcm9tICcuL2ljb25zL3ZpZGVvdGFwZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVZpZXcsIGRlZmF1bHQgYXMgVmlldywgZGVmYXVsdCBhcyBWaWV3SWNvbiB9IGZyb20gJy4vaWNvbnMvdmlldy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVZvaWNlbWFpbCwgZGVmYXVsdCBhcyBWb2ljZW1haWwsIGRlZmF1bHQgYXMgVm9pY2VtYWlsSWNvbiB9IGZyb20gJy4vaWNvbnMvdm9pY2VtYWlsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVm9sbGV5YmFsbCwgZGVmYXVsdCBhcyBWb2xsZXliYWxsLCBkZWZhdWx0IGFzIFZvbGxleWJhbGxJY29uIH0gZnJvbSAnLi9pY29ucy92b2xsZXliYWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVm9sdW1lMSwgZGVmYXVsdCBhcyBWb2x1bWUxLCBkZWZhdWx0IGFzIFZvbHVtZTFJY29uIH0gZnJvbSAnLi9pY29ucy92b2x1bWUtMS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVZvbHVtZTIsIGRlZmF1bHQgYXMgVm9sdW1lMiwgZGVmYXVsdCBhcyBWb2x1bWUySWNvbiB9IGZyb20gJy4vaWNvbnMvdm9sdW1lLTIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVWb2x1bWVPZmYsIGRlZmF1bHQgYXMgVm9sdW1lT2ZmLCBkZWZhdWx0IGFzIFZvbHVtZU9mZkljb24gfSBmcm9tICcuL2ljb25zL3ZvbHVtZS1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVWb2x1bWVYLCBkZWZhdWx0IGFzIFZvbHVtZVgsIGRlZmF1bHQgYXMgVm9sdW1lWEljb24gfSBmcm9tICcuL2ljb25zL3ZvbHVtZS14LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlVm9sdW1lLCBkZWZhdWx0IGFzIFZvbHVtZSwgZGVmYXVsdCBhcyBWb2x1bWVJY29uIH0gZnJvbSAnLi9pY29ucy92b2x1bWUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVWb3RlLCBkZWZhdWx0IGFzIFZvdGUsIGRlZmF1bHQgYXMgVm90ZUljb24gfSBmcm9tICcuL2ljb25zL3ZvdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXYWxsZXRDYXJkcywgZGVmYXVsdCBhcyBXYWxsZXRDYXJkcywgZGVmYXVsdCBhcyBXYWxsZXRDYXJkc0ljb24gfSBmcm9tICcuL2ljb25zL3dhbGxldC1jYXJkcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdhbGxldCwgZGVmYXVsdCBhcyBXYWxsZXQsIGRlZmF1bHQgYXMgV2FsbGV0SWNvbiB9IGZyb20gJy4vaWNvbnMvd2FsbGV0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2FsbHBhcGVyLCBkZWZhdWx0IGFzIFdhbGxwYXBlciwgZGVmYXVsdCBhcyBXYWxscGFwZXJJY29uIH0gZnJvbSAnLi9pY29ucy93YWxscGFwZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXYW5kLCBkZWZhdWx0IGFzIFdhbmQsIGRlZmF1bHQgYXMgV2FuZEljb24gfSBmcm9tICcuL2ljb25zL3dhbmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXYXJlaG91c2UsIGRlZmF1bHQgYXMgV2FyZWhvdXNlLCBkZWZhdWx0IGFzIFdhcmVob3VzZUljb24gfSBmcm9tICcuL2ljb25zL3dhcmVob3VzZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdhc2hpbmdNYWNoaW5lLCBkZWZhdWx0IGFzIFdhc2hpbmdNYWNoaW5lLCBkZWZhdWx0IGFzIFdhc2hpbmdNYWNoaW5lSWNvbiB9IGZyb20gJy4vaWNvbnMvd2FzaGluZy1tYWNoaW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2F0Y2gsIGRlZmF1bHQgYXMgV2F0Y2gsIGRlZmF1bHQgYXMgV2F0Y2hJY29uIH0gZnJvbSAnLi9pY29ucy93YXRjaC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdhdmVzLCBkZWZhdWx0IGFzIFdhdmVzLCBkZWZhdWx0IGFzIFdhdmVzSWNvbiB9IGZyb20gJy4vaWNvbnMvd2F2ZXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXYXlwb2ludHMsIGRlZmF1bHQgYXMgV2F5cG9pbnRzLCBkZWZhdWx0IGFzIFdheXBvaW50c0ljb24gfSBmcm9tICcuL2ljb25zL3dheXBvaW50cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdlYmNhbSwgZGVmYXVsdCBhcyBXZWJjYW0sIGRlZmF1bHQgYXMgV2ViY2FtSWNvbiB9IGZyb20gJy4vaWNvbnMvd2ViY2FtLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2ViaG9va09mZiwgZGVmYXVsdCBhcyBXZWJob29rT2ZmLCBkZWZhdWx0IGFzIFdlYmhvb2tPZmZJY29uIH0gZnJvbSAnLi9pY29ucy93ZWJob29rLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdlYmhvb2ssIGRlZmF1bHQgYXMgV2ViaG9vaywgZGVmYXVsdCBhcyBXZWJob29rSWNvbiB9IGZyb20gJy4vaWNvbnMvd2ViaG9vay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdlaWdodCwgZGVmYXVsdCBhcyBXZWlnaHQsIGRlZmF1bHQgYXMgV2VpZ2h0SWNvbiB9IGZyb20gJy4vaWNvbnMvd2VpZ2h0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2hlYXRPZmYsIGRlZmF1bHQgYXMgV2hlYXRPZmYsIGRlZmF1bHQgYXMgV2hlYXRPZmZJY29uIH0gZnJvbSAnLi9pY29ucy93aGVhdC1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXaGVhdCwgZGVmYXVsdCBhcyBXaGVhdCwgZGVmYXVsdCBhcyBXaGVhdEljb24gfSBmcm9tICcuL2ljb25zL3doZWF0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2hvbGVXb3JkLCBkZWZhdWx0IGFzIFdob2xlV29yZCwgZGVmYXVsdCBhcyBXaG9sZVdvcmRJY29uIH0gZnJvbSAnLi9pY29ucy93aG9sZS13b3JkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2lmaUhpZ2gsIGRlZmF1bHQgYXMgV2lmaUhpZ2gsIGRlZmF1bHQgYXMgV2lmaUhpZ2hJY29uIH0gZnJvbSAnLi9pY29ucy93aWZpLWhpZ2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXaWZpTG93LCBkZWZhdWx0IGFzIFdpZmlMb3csIGRlZmF1bHQgYXMgV2lmaUxvd0ljb24gfSBmcm9tICcuL2ljb25zL3dpZmktbG93LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2lmaU9mZiwgZGVmYXVsdCBhcyBXaWZpT2ZmLCBkZWZhdWx0IGFzIFdpZmlPZmZJY29uIH0gZnJvbSAnLi9pY29ucy93aWZpLW9mZi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdpZmlaZXJvLCBkZWZhdWx0IGFzIFdpZmlaZXJvLCBkZWZhdWx0IGFzIFdpZmlaZXJvSWNvbiB9IGZyb20gJy4vaWNvbnMvd2lmaS16ZXJvLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2lmaSwgZGVmYXVsdCBhcyBXaWZpLCBkZWZhdWx0IGFzIFdpZmlJY29uIH0gZnJvbSAnLi9pY29ucy93aWZpLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2luZEFycm93RG93biwgZGVmYXVsdCBhcyBXaW5kQXJyb3dEb3duLCBkZWZhdWx0IGFzIFdpbmRBcnJvd0Rvd25JY29uIH0gZnJvbSAnLi9pY29ucy93aW5kLWFycm93LWRvd24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXaW5kLCBkZWZhdWx0IGFzIFdpbmQsIGRlZmF1bHQgYXMgV2luZEljb24gfSBmcm9tICcuL2ljb25zL3dpbmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVXaW5lT2ZmLCBkZWZhdWx0IGFzIFdpbmVPZmYsIGRlZmF1bHQgYXMgV2luZU9mZkljb24gfSBmcm9tICcuL2ljb25zL3dpbmUtb2ZmLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV2luZSwgZGVmYXVsdCBhcyBXaW5lLCBkZWZhdWx0IGFzIFdpbmVJY29uIH0gZnJvbSAnLi9pY29ucy93aW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV29ya2Zsb3csIGRlZmF1bHQgYXMgV29ya2Zsb3csIGRlZmF1bHQgYXMgV29ya2Zsb3dJY29uIH0gZnJvbSAnLi9pY29ucy93b3JrZmxvdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdvcm0sIGRlZmF1bHQgYXMgV29ybSwgZGVmYXVsdCBhcyBXb3JtSWNvbiB9IGZyb20gJy4vaWNvbnMvd29ybS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVdyYXBUZXh0LCBkZWZhdWx0IGFzIFdyYXBUZXh0LCBkZWZhdWx0IGFzIFdyYXBUZXh0SWNvbiB9IGZyb20gJy4vaWNvbnMvd3JhcC10ZXh0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTHVjaWRlV3JlbmNoLCBkZWZhdWx0IGFzIFdyZW5jaCwgZGVmYXVsdCBhcyBXcmVuY2hJY29uIH0gZnJvbSAnLi9pY29ucy93cmVuY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVYLCBkZWZhdWx0IGFzIFgsIGRlZmF1bHQgYXMgWEljb24gfSBmcm9tICcuL2ljb25zL3guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVZb3V0dWJlLCBkZWZhdWx0IGFzIFlvdXR1YmUsIGRlZmF1bHQgYXMgWW91dHViZUljb24gfSBmcm9tICcuL2ljb25zL3lvdXR1YmUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVaYXBPZmYsIGRlZmF1bHQgYXMgWmFwT2ZmLCBkZWZhdWx0IGFzIFphcE9mZkljb24gfSBmcm9tICcuL2ljb25zL3phcC1vZmYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMdWNpZGVaYXAsIGRlZmF1bHQgYXMgWmFwLCBkZWZhdWx0IGFzIFphcEljb24gfSBmcm9tICcuL2ljb25zL3phcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVpvb21JbiwgZGVmYXVsdCBhcyBab29tSW4sIGRlZmF1bHQgYXMgWm9vbUluSWNvbiB9IGZyb20gJy4vaWNvbnMvem9vbS1pbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEx1Y2lkZVpvb21PdXQsIGRlZmF1bHQgYXMgWm9vbU91dCwgZGVmYXVsdCBhcyBab29tT3V0SWNvbiB9IGZyb20gJy4vaWNvbnMvem9vbS1vdXQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcnJvd0Rvd24wMSwgZGVmYXVsdCBhcyBBcnJvd0Rvd24wMUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dEb3duMDEgfSBmcm9tICcuL2ljb25zL2Fycm93LWRvd24tMC0xLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dEb3duMTAsIGRlZmF1bHQgYXMgQXJyb3dEb3duMTBJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93RG93bjEwIH0gZnJvbSAnLi9pY29ucy9hcnJvdy1kb3duLTEtMC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFycm93VXAwMSwgZGVmYXVsdCBhcyBBcnJvd1VwMDFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUFycm93VXAwMSB9IGZyb20gJy4vaWNvbnMvYXJyb3ctdXAtMC0xLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dVcDEwLCBkZWZhdWx0IGFzIEFycm93VXAxMEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQXJyb3dVcDEwIH0gZnJvbSAnLi9pY29ucy9hcnJvdy11cC0xLTAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVMdWNpZGVJY29uIH0gZnJvbSAnLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSWNvbiB9IGZyb20gJy4vSWNvbi5qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sdWNpZGUtcmVhY3QuanMubWFwXG4iLCAiaW1wb3J0IHsgQ2FtZWxUb1Bhc2NhbCB9IGZyb20gJy4vdXRpbGl0eS10eXBlcyc7XG5cbi8qKlxuICogQ29udmVydHMgc3RyaW5nIHRvIGtlYmFiIGNhc2VcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIGtlYmFiaXplZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHRvS2ViYWJDYXNlID0gKHN0cmluZzogc3RyaW5nKSA9PlxuICBzdHJpbmcucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBzdHJpbmcgdG8gY2FtZWwgY2FzZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgY2FtZWxpemVkIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgdG9DYW1lbENhc2UgPSA8VCBleHRlbmRzIHN0cmluZz4oc3RyaW5nOiBUKSA9PlxuICBzdHJpbmcucmVwbGFjZSgvXihbQS1aXSl8W1xccy1fXSsoXFx3KS9nLCAobWF0Y2gsIHAxLCBwMikgPT5cbiAgICBwMiA/IHAyLnRvVXBwZXJDYXNlKCkgOiBwMS50b0xvd2VyQ2FzZSgpLFxuICApO1xuXG4vKipcbiAqIENvbnZlcnRzIHN0cmluZyB0byBwYXNjYWwgY2FzZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgcGFzY2FsaXplZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHRvUGFzY2FsQ2FzZSA9IDxUIGV4dGVuZHMgc3RyaW5nPihzdHJpbmc6IFQpOiBDYW1lbFRvUGFzY2FsPFQ+ID0+IHtcbiAgY29uc3QgY2FtZWxDYXNlID0gdG9DYW1lbENhc2Uoc3RyaW5nKTtcblxuICByZXR1cm4gKGNhbWVsQ2FzZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhbWVsQ2FzZS5zbGljZSgxKSkgYXMgQ2FtZWxUb1Bhc2NhbDxUPjtcbn07XG5cbi8qKlxuICogTWVyZ2VzIGNsYXNzZXMgaW50byBhIHNpbmdsZSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge2FycmF5fSBjbGFzc2VzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZyBvZiBjbGFzc2VzXG4gKi9cbmV4cG9ydCBjb25zdCBtZXJnZUNsYXNzZXMgPSA8Q2xhc3NUeXBlID0gc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbD4oLi4uY2xhc3NlczogQ2xhc3NUeXBlW10pID0+XG4gIGNsYXNzZXNcbiAgICAuZmlsdGVyKChjbGFzc05hbWUsIGluZGV4LCBhcnJheSkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgQm9vbGVhbihjbGFzc05hbWUpICYmXG4gICAgICAgIChjbGFzc05hbWUgYXMgc3RyaW5nKS50cmltKCkgIT09ICcnICYmXG4gICAgICAgIGFycmF5LmluZGV4T2YoY2xhc3NOYW1lKSA9PT0gaW5kZXhcbiAgICAgICk7XG4gICAgfSlcbiAgICAuam9pbignICcpXG4gICAgLnRyaW0oKTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gIHhtbG5zOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLFxuICB3aWR0aDogMjQsXG4gIGhlaWdodDogMjQsXG4gIHZpZXdCb3g6ICcwIDAgMjQgMjQnLFxuICBmaWxsOiAnbm9uZScsXG4gIHN0cm9rZTogJ2N1cnJlbnRDb2xvcicsXG4gIHN0cm9rZVdpZHRoOiAyLFxuICBzdHJva2VMaW5lY2FwOiAncm91bmQnLFxuICBzdHJva2VMaW5lam9pbjogJ3JvdW5kJyxcbn07XG4iLCAiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBkZWZhdWx0QXR0cmlidXRlcyBmcm9tICcuL2RlZmF1bHRBdHRyaWJ1dGVzJztcbmltcG9ydCB7IEljb25Ob2RlLCBMdWNpZGVQcm9wcyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgbWVyZ2VDbGFzc2VzIH0gZnJvbSAnQGx1Y2lkZS9zaGFyZWQnO1xuXG5pbnRlcmZhY2UgSWNvbkNvbXBvbmVudFByb3BzIGV4dGVuZHMgTHVjaWRlUHJvcHMge1xuICBpY29uTm9kZTogSWNvbk5vZGU7XG59XG5cbi8qKlxuICogTHVjaWRlIGljb24gY29tcG9uZW50XG4gKlxuICogQGNvbXBvbmVudCBJY29uXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5jb2xvciAtIFRoZSBjb2xvciBvZiB0aGUgaWNvblxuICogQHBhcmFtIHtudW1iZXJ9IHByb3BzLnNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgaWNvblxuICogQHBhcmFtIHtudW1iZXJ9IHByb3BzLnN0cm9rZVdpZHRoIC0gVGhlIHN0cm9rZSB3aWR0aCBvZiB0aGUgaWNvblxuICogQHBhcmFtIHtib29sZWFufSBwcm9wcy5hYnNvbHV0ZVN0cm9rZVdpZHRoIC0gV2hldGhlciB0byB1c2UgYWJzb2x1dGUgc3Ryb2tlIHdpZHRoXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuY2xhc3NOYW1lIC0gVGhlIGNsYXNzIG5hbWUgb2YgdGhlIGljb25cbiAqIEBwYXJhbSB7SWNvbk5vZGV9IHByb3BzLmNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIG9mIHRoZSBpY29uXG4gKiBAcGFyYW0ge0ljb25Ob2RlfSBwcm9wcy5pY29uTm9kZSAtIFRoZSBpY29uIG5vZGUgb2YgdGhlIGljb25cbiAqXG4gKiBAcmV0dXJucyB7Rm9yd2FyZFJlZkV4b3RpY0NvbXBvbmVudH0gTHVjaWRlSWNvblxuICovXG5jb25zdCBJY29uID0gZm9yd2FyZFJlZjxTVkdTVkdFbGVtZW50LCBJY29uQ29tcG9uZW50UHJvcHM+KFxuICAoXG4gICAge1xuICAgICAgY29sb3IgPSAnY3VycmVudENvbG9yJyxcbiAgICAgIHNpemUgPSAyNCxcbiAgICAgIHN0cm9rZVdpZHRoID0gMixcbiAgICAgIGFic29sdXRlU3Ryb2tlV2lkdGgsXG4gICAgICBjbGFzc05hbWUgPSAnJyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgaWNvbk5vZGUsXG4gICAgICAuLi5yZXN0XG4gICAgfSxcbiAgICByZWYsXG4gICkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFxuICAgICAgJ3N2ZycsXG4gICAgICB7XG4gICAgICAgIHJlZixcbiAgICAgICAgLi4uZGVmYXVsdEF0dHJpYnV0ZXMsXG4gICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICAgIHN0cm9rZTogY29sb3IsXG4gICAgICAgIHN0cm9rZVdpZHRoOiBhYnNvbHV0ZVN0cm9rZVdpZHRoID8gKE51bWJlcihzdHJva2VXaWR0aCkgKiAyNCkgLyBOdW1iZXIoc2l6ZSkgOiBzdHJva2VXaWR0aCxcbiAgICAgICAgY2xhc3NOYW1lOiBtZXJnZUNsYXNzZXMoJ2x1Y2lkZScsIGNsYXNzTmFtZSksXG4gICAgICAgIC4uLnJlc3QsXG4gICAgICB9LFxuICAgICAgW1xuICAgICAgICAuLi5pY29uTm9kZS5tYXAoKFt0YWcsIGF0dHJzXSkgPT4gY3JlYXRlRWxlbWVudCh0YWcsIGF0dHJzKSksXG4gICAgICAgIC4uLihBcnJheS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogW2NoaWxkcmVuXSksXG4gICAgICBdLFxuICAgICk7XG4gIH0sXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBJY29uO1xuIiwgImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZXJnZUNsYXNzZXMsIHRvS2ViYWJDYXNlIH0gZnJvbSAnQGx1Y2lkZS9zaGFyZWQnO1xuaW1wb3J0IHsgSWNvbk5vZGUsIEx1Y2lkZVByb3BzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL0ljb24nO1xuXG4vKipcbiAqIENyZWF0ZSBhIEx1Y2lkZSBpY29uIGNvbXBvbmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGljb25OYW1lXG4gKiBAcGFyYW0ge2FycmF5fSBpY29uTm9kZVxuICogQHJldHVybnMge0ZvcndhcmRSZWZFeG90aWNDb21wb25lbnR9IEx1Y2lkZUljb25cbiAqL1xuY29uc3QgY3JlYXRlTHVjaWRlSWNvbiA9IChpY29uTmFtZTogc3RyaW5nLCBpY29uTm9kZTogSWNvbk5vZGUpID0+IHtcbiAgY29uc3QgQ29tcG9uZW50ID0gZm9yd2FyZFJlZjxTVkdTVkdFbGVtZW50LCBMdWNpZGVQcm9wcz4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+XG4gICAgY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgICByZWYsXG4gICAgICBpY29uTm9kZSxcbiAgICAgIGNsYXNzTmFtZTogbWVyZ2VDbGFzc2VzKGBsdWNpZGUtJHt0b0tlYmFiQ2FzZShpY29uTmFtZSl9YCwgY2xhc3NOYW1lKSxcbiAgICAgIC4uLnByb3BzLFxuICAgIH0pLFxuICApO1xuXG4gIENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IGAke2ljb25OYW1lfWA7XG5cbiAgcmV0dXJuIENvbXBvbmVudDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUx1Y2lkZUljb247XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBBcnJvd0Rvd25XaWRlTmFycm93XG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSnRNeUF4TmlBMElEUWdOQzAwSWlBdlBnb2dJRHh3WVhSb0lHUTlJazAzSURJd1ZqUWlJQzgrQ2lBZ1BIQmhkR2dnWkQwaVRURXhJRFJvTVRBaUlDOCtDaUFnUEhCaGRHZ2daRDBpVFRFeElEaG9OeUlnTHo0S0lDQThjR0YwYUNCa1BTSk5NVEVnTVRKb05DSWdMejRLUEM5emRtYytDZz09KSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9hcnJvdy1kb3duLXdpZGUtbmFycm93XG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgQXJyb3dEb3duV2lkZU5hcnJvdyA9IGNyZWF0ZUx1Y2lkZUljb24oJ0Fycm93RG93bldpZGVOYXJyb3cnLCBbXG4gIFsncGF0aCcsIHsgZDogJ20zIDE2IDQgNCA0LTQnLCBrZXk6ICcxY282d2onIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNNyAyMFY0Jywga2V5OiAnMXlveGVjJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTExIDRoMTAnLCBrZXk6ICcxdzg3Z2MnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTEgOGg3Jywga2V5OiAnZGp5ZTM0JyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTExIDEyaDQnLCBrZXk6ICdxOHRpaDQnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFycm93RG93bldpZGVOYXJyb3c7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBBcnJvd1JpZ2h0XG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5OU0F4TW1neE5DSWdMejRLSUNBOGNHRjBhQ0JrUFNKdE1USWdOU0EzSURjdE55QTNJaUF2UGdvOEwzTjJaejRLKSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9hcnJvdy1yaWdodFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IEFycm93UmlnaHQgPSBjcmVhdGVMdWNpZGVJY29uKCdBcnJvd1JpZ2h0JywgW1xuICBbJ3BhdGgnLCB7IGQ6ICdNNSAxMmgxNCcsIGtleTogJzFheXMwaCcgfV0sXG4gIFsncGF0aCcsIHsgZDogJ20xMiA1IDcgNy03IDcnLCBrZXk6ICd4cXV6NGMnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFycm93UmlnaHQ7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBBcnJvd1VwV2lkZU5hcnJvd1xuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0p0TXlBNElEUXROQ0EwSURRaUlDOCtDaUFnUEhCaGRHZ2daRDBpVFRjZ05IWXhOaUlnTHo0S0lDQThjR0YwYUNCa1BTSk5NVEVnTVRKb01UQWlJQzgrQ2lBZ1BIQmhkR2dnWkQwaVRURXhJREUyYURjaUlDOCtDaUFnUEhCaGRHZ2daRDBpVFRFeElESXdhRFFpSUM4K0Nqd3ZjM1puUGdvPSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvYXJyb3ctdXAtd2lkZS1uYXJyb3dcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBBcnJvd1VwV2lkZU5hcnJvdyA9IGNyZWF0ZUx1Y2lkZUljb24oJ0Fycm93VXBXaWRlTmFycm93JywgW1xuICBbJ3BhdGgnLCB7IGQ6ICdtMyA4IDQtNCA0IDQnLCBrZXk6ICcxMXdsN3UnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNNyA0djE2Jywga2V5OiAnMWdsZmN4JyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTExIDEyaDEwJywga2V5OiAnMTQzOGppJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTExIDE2aDcnLCBrZXk6ICd1b3Npc3YnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTEgMjBoNCcsIGtleTogJzFrcmMzMicgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgQXJyb3dVcFdpZGVOYXJyb3c7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBDaGVja1xuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0pOTWpBZ05pQTVJREUzYkMwMUxUVWlJQzgrQ2p3dmMzWm5QZ289KSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9jaGVja1xuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IENoZWNrID0gY3JlYXRlTHVjaWRlSWNvbignQ2hlY2snLCBbWydwYXRoJywgeyBkOiAnTTIwIDYgOSAxN2wtNS01Jywga2V5OiAnMWdtZjJjJyB9XV0pO1xuXG5leHBvcnQgZGVmYXVsdCBDaGVjaztcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIENoZXZyb25Eb3duXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSnROaUE1SURZZ05pQTJMVFlpSUM4K0Nqd3ZjM1puUGdvPSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvY2hldnJvbi1kb3duXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgQ2hldnJvbkRvd24gPSBjcmVhdGVMdWNpZGVJY29uKCdDaGV2cm9uRG93bicsIFtcbiAgWydwYXRoJywgeyBkOiAnbTYgOSA2IDYgNi02Jywga2V5OiAncXJ1bnNsJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBDaGV2cm9uRG93bjtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIENoZXZyb25MZWZ0XG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSnRNVFVnTVRndE5pMDJJRFl0TmlJZ0x6NEtQQzl6ZG1jK0NnPT0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2NoZXZyb24tbGVmdFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IENoZXZyb25MZWZ0ID0gY3JlYXRlTHVjaWRlSWNvbignQ2hldnJvbkxlZnQnLCBbXG4gIFsncGF0aCcsIHsgZDogJ20xNSAxOC02LTYgNi02Jywga2V5OiAnMXduZmczJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBDaGV2cm9uTGVmdDtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIENoZXZyb25SaWdodFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0p0T1NBeE9DQTJMVFl0TmkwMklpQXZQZ284TDNOMlp6NEspIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2NoZXZyb24tcmlnaHRcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBDaGV2cm9uUmlnaHQgPSBjcmVhdGVMdWNpZGVJY29uKCdDaGV2cm9uUmlnaHQnLCBbXG4gIFsncGF0aCcsIHsgZDogJ205IDE4IDYtNi02LTYnLCBrZXk6ICdtdGhod3EnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENoZXZyb25SaWdodDtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIENoZXZyb25VcFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0p0TVRnZ01UVXROaTAyTFRZZ05pSWdMejRLUEM5emRtYytDZz09KSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9jaGV2cm9uLXVwXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgQ2hldnJvblVwID0gY3JlYXRlTHVjaWRlSWNvbignQ2hldnJvblVwJywgW1sncGF0aCcsIHsgZDogJ20xOCAxNS02LTYtNiA2Jywga2V5OiAnMTUzdWR6JyB9XV0pO1xuXG5leHBvcnQgZGVmYXVsdCBDaGV2cm9uVXA7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBDaGV2cm9uc0xlZnRcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKdE1URWdNVGN0TlMwMUlEVXROU0lnTHo0S0lDQThjR0YwYUNCa1BTSnRNVGdnTVRjdE5TMDFJRFV0TlNJZ0x6NEtQQzl6ZG1jK0NnPT0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2NoZXZyb25zLWxlZnRcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBDaGV2cm9uc0xlZnQgPSBjcmVhdGVMdWNpZGVJY29uKCdDaGV2cm9uc0xlZnQnLCBbXG4gIFsncGF0aCcsIHsgZDogJ20xMSAxNy01LTUgNS01Jywga2V5OiAnMTN6aGFmJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnbTE4IDE3LTUtNSA1LTUnLCBrZXk6ICdoOGE4ZXQnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENoZXZyb25zTGVmdDtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIENoZXZyb25zUmlnaHRcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKdE5pQXhOeUExTFRVdE5TMDFJaUF2UGdvZ0lEeHdZWFJvSUdROUltMHhNeUF4TnlBMUxUVXROUzAxSWlBdlBnbzhMM04yWno0SykgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvY2hldnJvbnMtcmlnaHRcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBDaGV2cm9uc1JpZ2h0ID0gY3JlYXRlTHVjaWRlSWNvbignQ2hldnJvbnNSaWdodCcsIFtcbiAgWydwYXRoJywgeyBkOiAnbTYgMTcgNS01LTUtNScsIGtleTogJ3huandxJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnbTEzIDE3IDUtNS01LTUnLCBrZXk6ICcxN3htbWYnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENoZXZyb25zUmlnaHQ7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBDaXJjbGVBbGVydFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4WTJseVkyeGxJR040UFNJeE1pSWdZM2s5SWpFeUlpQnlQU0l4TUNJZ0x6NEtJQ0E4YkdsdVpTQjRNVDBpTVRJaUlIZ3lQU0l4TWlJZ2VURTlJamdpSUhreVBTSXhNaUlnTHo0S0lDQThiR2x1WlNCNE1UMGlNVElpSUhneVBTSXhNaTR3TVNJZ2VURTlJakUySWlCNU1qMGlNVFlpSUM4K0Nqd3ZjM1puUGdvPSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvY2lyY2xlLWFsZXJ0XG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgQ2lyY2xlQWxlcnQgPSBjcmVhdGVMdWNpZGVJY29uKCdDaXJjbGVBbGVydCcsIFtcbiAgWydjaXJjbGUnLCB7IGN4OiAnMTInLCBjeTogJzEyJywgcjogJzEwJywga2V5OiAnMW1nbGF5JyB9XSxcbiAgWydsaW5lJywgeyB4MTogJzEyJywgeDI6ICcxMicsIHkxOiAnOCcsIHkyOiAnMTInLCBrZXk6ICcxcGtldWgnIH1dLFxuICBbJ2xpbmUnLCB7IHgxOiAnMTInLCB4MjogJzEyLjAxJywgeTE6ICcxNicsIHkyOiAnMTYnLCBrZXk6ICc0ZGZxOTAnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENpcmNsZUFsZXJ0O1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgQ2lyY2xlQ2hlY2tCaWdcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKTk1qRXVPREF4SURFd1FURXdJREV3SURBZ01TQXhJREUzSURNdU16TTFJaUF2UGdvZ0lEeHdZWFJvSUdROUltMDVJREV4SURNZ00wd3lNaUEwSWlBdlBnbzhMM04yWno0SykgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvY2lyY2xlLWNoZWNrLWJpZ1xuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IENpcmNsZUNoZWNrQmlnID0gY3JlYXRlTHVjaWRlSWNvbignQ2lyY2xlQ2hlY2tCaWcnLCBbXG4gIFsncGF0aCcsIHsgZDogJ00yMS44MDEgMTBBMTAgMTAgMCAxIDEgMTcgMy4zMzUnLCBrZXk6ICd5cHMzY3QnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdtOSAxMSAzIDNMMjIgNCcsIGtleTogJzFwZmx6bCcgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlQ2hlY2tCaWc7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBDaXJjbGVIZWxwXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThZMmx5WTJ4bElHTjRQU0l4TWlJZ1kzazlJakV5SWlCeVBTSXhNQ0lnTHo0S0lDQThjR0YwYUNCa1BTSk5PUzR3T1NBNVlUTWdNeUF3SURBZ01TQTFMamd6SURGak1DQXlMVE1nTXkweklETWlJQzgrQ2lBZ1BIQmhkR2dnWkQwaVRURXlJREUzYUM0d01TSWdMejRLUEM5emRtYytDZz09KSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9jaXJjbGUtaGVscFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IENpcmNsZUhlbHAgPSBjcmVhdGVMdWNpZGVJY29uKCdDaXJjbGVIZWxwJywgW1xuICBbJ2NpcmNsZScsIHsgY3g6ICcxMicsIGN5OiAnMTInLCByOiAnMTAnLCBrZXk6ICcxbWdsYXknIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNOS4wOSA5YTMgMyAwIDAgMSA1LjgzIDFjMCAyLTMgMy0zIDMnLCBrZXk6ICcxdTc3M3MnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTIgMTdoLjAxJywga2V5OiAncDMycDA1JyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBDaXJjbGVIZWxwO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgQ2lyY2xlXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThZMmx5WTJ4bElHTjRQU0l4TWlJZ1kzazlJakV5SWlCeVBTSXhNQ0lnTHo0S1BDOXpkbWMrQ2c9PSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvY2lyY2xlXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgQ2lyY2xlID0gY3JlYXRlTHVjaWRlSWNvbignQ2lyY2xlJywgW1xuICBbJ2NpcmNsZScsIHsgY3g6ICcxMicsIGN5OiAnMTInLCByOiAnMTAnLCBrZXk6ICcxbWdsYXknIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENpcmNsZTtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIENvcHlcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNtVmpkQ0IzYVdSMGFEMGlNVFFpSUdobGFXZG9kRDBpTVRRaUlIZzlJamdpSUhrOUlqZ2lJSEo0UFNJeUlpQnllVDBpTWlJZ0x6NEtJQ0E4Y0dGMGFDQmtQU0pOTkNBeE5tTXRNUzR4SURBdE1pMHVPUzB5TFRKV05HTXdMVEV1TVM0NUxUSWdNaTB5YURFd1l6RXVNU0F3SURJZ0xqa2dNaUF5SWlBdlBnbzhMM04yWno0SykgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvY29weVxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IENvcHkgPSBjcmVhdGVMdWNpZGVJY29uKCdDb3B5JywgW1xuICBbJ3JlY3QnLCB7IHdpZHRoOiAnMTQnLCBoZWlnaHQ6ICcxNCcsIHg6ICc4JywgeTogJzgnLCByeDogJzInLCByeTogJzInLCBrZXk6ICcxN2p5ZWEnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyJywga2V5OiAneml4OXVmJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBDb3B5O1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgQ29ybmVyRG93bkxlZnRcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHOXNlV3hwYm1VZ2NHOXBiblJ6UFNJNUlERXdJRFFnTVRVZ09TQXlNQ0lnTHo0S0lDQThjR0YwYUNCa1BTSk5NakFnTkhZM1lUUWdOQ0F3SURBZ01TMDBJRFJJTkNJZ0x6NEtQQzl6ZG1jK0NnPT0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2Nvcm5lci1kb3duLWxlZnRcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBDb3JuZXJEb3duTGVmdCA9IGNyZWF0ZUx1Y2lkZUljb24oJ0Nvcm5lckRvd25MZWZ0JywgW1xuICBbJ3BvbHlsaW5lJywgeyBwb2ludHM6ICc5IDEwIDQgMTUgOSAyMCcsIGtleTogJ3IzanBydicgfV0sXG4gIFsncGF0aCcsIHsgZDogJ00yMCA0djdhNCA0IDAgMCAxLTQgNEg0Jywga2V5OiAnNm81YjdsJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBDb3JuZXJEb3duTGVmdDtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIEZpbHRlclxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0c5c2VXZHZiaUJ3YjJsdWRITTlJakl5SURNZ01pQXpJREV3SURFeUxqUTJJREV3SURFNUlERTBJREl4SURFMElERXlMalEySURJeUlETWlJQzgrQ2p3dmMzWm5QZ289KSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9maWx0ZXJcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBGaWx0ZXIgPSBjcmVhdGVMdWNpZGVJY29uKCdGaWx0ZXInLCBbXG4gIFsncG9seWdvbicsIHsgcG9pbnRzOiAnMjIgMyAyIDMgMTAgMTIuNDYgMTAgMTkgMTQgMjEgMTQgMTIuNDYgMjIgMycsIGtleTogJzF5Zzc3ZicgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsdGVyO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgR3JpcFZlcnRpY2FsXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThZMmx5WTJ4bElHTjRQU0k1SWlCamVUMGlNVElpSUhJOUlqRWlJQzgrQ2lBZ1BHTnBjbU5zWlNCamVEMGlPU0lnWTNrOUlqVWlJSEk5SWpFaUlDOCtDaUFnUEdOcGNtTnNaU0JqZUQwaU9TSWdZM2s5SWpFNUlpQnlQU0l4SWlBdlBnb2dJRHhqYVhKamJHVWdZM2c5SWpFMUlpQmplVDBpTVRJaUlISTlJakVpSUM4K0NpQWdQR05wY21Oc1pTQmplRDBpTVRVaUlHTjVQU0kxSWlCeVBTSXhJaUF2UGdvZ0lEeGphWEpqYkdVZ1kzZzlJakUxSWlCamVUMGlNVGtpSUhJOUlqRWlJQzgrQ2p3dmMzWm5QZ289KSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9ncmlwLXZlcnRpY2FsXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgR3JpcFZlcnRpY2FsID0gY3JlYXRlTHVjaWRlSWNvbignR3JpcFZlcnRpY2FsJywgW1xuICBbJ2NpcmNsZScsIHsgY3g6ICc5JywgY3k6ICcxMicsIHI6ICcxJywga2V5OiAnMXZjdGdmJyB9XSxcbiAgWydjaXJjbGUnLCB7IGN4OiAnOScsIGN5OiAnNScsIHI6ICcxJywga2V5OiAnaHAwdGNmJyB9XSxcbiAgWydjaXJjbGUnLCB7IGN4OiAnOScsIGN5OiAnMTknLCByOiAnMScsIGtleTogJ2ZrampmNicgfV0sXG4gIFsnY2lyY2xlJywgeyBjeDogJzE1JywgY3k6ICcxMicsIHI6ICcxJywga2V5OiAnMXRtYWlqJyB9XSxcbiAgWydjaXJjbGUnLCB7IGN4OiAnMTUnLCBjeTogJzUnLCByOiAnMScsIGtleTogJzE5bDI4ZScgfV0sXG4gIFsnY2lyY2xlJywgeyBjeDogJzE1JywgY3k6ICcxOScsIHI6ICcxJywga2V5OiAnZjR6b2ozJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBHcmlwVmVydGljYWw7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBLZXlSb3VuZFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0pOTWk0MU9EWWdNVGN1TkRFMFFUSWdNaUF3SURBZ01DQXlJREU0TGpneU9GWXlNV0V4SURFZ01DQXdJREFnTVNBeGFETmhNU0F4SURBZ01DQXdJREV0TVhZdE1XRXhJREVnTUNBd0lERWdNUzB4YURGaE1TQXhJREFnTUNBd0lERXRNWFl0TVdFeElERWdNQ0F3SURFZ01TMHhhQzR4TnpKaE1pQXlJREFnTUNBd0lERXVOREUwTFM0MU9EWnNMamd4TkMwdU9ERTBZVFl1TlNBMkxqVWdNQ0F4SURBdE5DMDBlaUlnTHo0S0lDQThZMmx5WTJ4bElHTjRQU0l4Tmk0MUlpQmplVDBpTnk0MUlpQnlQU0l1TlNJZ1ptbHNiRDBpWTNWeWNtVnVkRU52Ykc5eUlpQXZQZ284TDNOMlp6NEspIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2tleS1yb3VuZFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IEtleVJvdW5kID0gY3JlYXRlTHVjaWRlSWNvbignS2V5Um91bmQnLCBbXG4gIFtcbiAgICAncGF0aCcsXG4gICAge1xuICAgICAgZDogJ00yLjU4NiAxNy40MTRBMiAyIDAgMCAwIDIgMTguODI4VjIxYTEgMSAwIDAgMCAxIDFoM2ExIDEgMCAwIDAgMS0xdi0xYTEgMSAwIDAgMSAxLTFoMWExIDEgMCAwIDAgMS0xdi0xYTEgMSAwIDAgMSAxLTFoLjE3MmEyIDIgMCAwIDAgMS40MTQtLjU4NmwuODE0LS44MTRhNi41IDYuNSAwIDEgMC00LTR6JyxcbiAgICAgIGtleTogJzFzNnQ3dCcsXG4gICAgfSxcbiAgXSxcbiAgWydjaXJjbGUnLCB7IGN4OiAnMTYuNScsIGN5OiAnNy41JywgcjogJy41JywgZmlsbDogJ2N1cnJlbnRDb2xvcicsIGtleTogJ3cwZWtwZycgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgS2V5Um91bmQ7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBLZXlcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKdE1UVXVOU0EzTGpVZ01pNHpJREl1TTJFeElERWdNQ0F3SURBZ01TNDBJREJzTWk0eExUSXVNV0V4SURFZ01DQXdJREFnTUMweExqUk1NVGtnTkNJZ0x6NEtJQ0E4Y0dGMGFDQmtQU0p0TWpFZ01pMDVMallnT1M0MklpQXZQZ29nSUR4amFYSmpiR1VnWTNnOUlqY3VOU0lnWTNrOUlqRTFMalVpSUhJOUlqVXVOU0lnTHo0S1BDOXpkbWMrQ2c9PSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMva2V5XG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgS2V5ID0gY3JlYXRlTHVjaWRlSWNvbignS2V5JywgW1xuICBbJ3BhdGgnLCB7IGQ6ICdtMTUuNSA3LjUgMi4zIDIuM2ExIDEgMCAwIDAgMS40IDBsMi4xLTIuMWExIDEgMCAwIDAgMC0xLjRMMTkgNCcsIGtleTogJ2cwZmxkaycgfV0sXG4gIFsncGF0aCcsIHsgZDogJ20yMSAyLTkuNiA5LjYnLCBrZXk6ICcxajBobzgnIH1dLFxuICBbJ2NpcmNsZScsIHsgY3g6ICc3LjUnLCBjeTogJzE1LjUnLCByOiAnNS41Jywga2V5OiAneXFiM2hyJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBLZXk7XG4iLCAiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBNYXhpbWl6ZVxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0pOT0NBelNEVmhNaUF5SURBZ01DQXdMVElnTW5ZeklpQXZQZ29nSUR4d1lYUm9JR1E5SWsweU1TQTRWalZoTWlBeUlEQWdNQ0F3TFRJdE1tZ3RNeUlnTHo0S0lDQThjR0YwYUNCa1BTSk5NeUF4Tm5ZellUSWdNaUF3SURBZ01DQXlJREpvTXlJZ0x6NEtJQ0E4Y0dGMGFDQmtQU0pOTVRZZ01qRm9NMkV5SURJZ01DQXdJREFnTWkweWRpMHpJaUF2UGdvOEwzTjJaejRLKSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9tYXhpbWl6ZVxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IE1heGltaXplID0gY3JlYXRlTHVjaWRlSWNvbignTWF4aW1pemUnLCBbXG4gIFsncGF0aCcsIHsgZDogJ004IDNINWEyIDIgMCAwIDAtMiAydjMnLCBrZXk6ICcxZGNtaXQnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMjEgOFY1YTIgMiAwIDAgMC0yLTJoLTMnLCBrZXk6ICcxZTRndDMnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMyAxNnYzYTIgMiAwIDAgMCAyIDJoMycsIGtleTogJ3dzbDVzYycgfV0sXG4gIFsncGF0aCcsIHsgZDogJ00xNiAyMWgzYTIgMiAwIDAgMCAyLTJ2LTMnLCBrZXk6ICcxOHRyZWsnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1heGltaXplO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgTWluaW1pemVcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKTk9DQXpkak5oTWlBeUlEQWdNQ0F4TFRJZ01rZ3pJaUF2UGdvZ0lEeHdZWFJvSUdROUlrMHlNU0E0YUMwellUSWdNaUF3SURBZ01TMHlMVEpXTXlJZ0x6NEtJQ0E4Y0dGMGFDQmtQU0pOTXlBeE5tZ3pZVElnTWlBd0lEQWdNU0F5SURKMk15SWdMejRLSUNBOGNHRjBhQ0JrUFNKTk1UWWdNakYyTFROaE1pQXlJREFnTUNBeElESXRNbWd6SWlBdlBnbzhMM04yWno0SykgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvbWluaW1pemVcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBNaW5pbWl6ZSA9IGNyZWF0ZUx1Y2lkZUljb24oJ01pbmltaXplJywgW1xuICBbJ3BhdGgnLCB7IGQ6ICdNOCAzdjNhMiAyIDAgMCAxLTIgMkgzJywga2V5OiAnaG9oYnRyJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTIxIDhoLTNhMiAyIDAgMCAxLTItMlYzJywga2V5OiAnNWp3MWYzJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTMgMTZoM2EyIDIgMCAwIDEgMiAydjMnLCBrZXk6ICcxOTh0dnInIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTYgMjF2LTNhMiAyIDAgMCAxIDItMmgzJywga2V5OiAncGg4bXhwJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBNaW5pbWl6ZTtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIE1vdmVEb3duXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5PQ0F4T0V3eE1pQXlNa3d4TmlBeE9DSWdMejRLSUNBOGNHRjBhQ0JrUFNKTk1USWdNbFl5TWlJZ0x6NEtQQzl6ZG1jK0NnPT0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL21vdmUtZG93blxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IE1vdmVEb3duID0gY3JlYXRlTHVjaWRlSWNvbignTW92ZURvd24nLCBbXG4gIFsncGF0aCcsIHsgZDogJ004IDE4TDEyIDIyTDE2IDE4Jywga2V5OiAnY3NrdmZ2JyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTEyIDJWMjInLCBrZXk6ICdyODlyemsnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1vdmVEb3duO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgTW92ZVVwXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5PQ0EyVERFeUlESk1NVFlnTmlJZ0x6NEtJQ0E4Y0dGMGFDQmtQU0pOTVRJZ01sWXlNaUlnTHo0S1BDOXpkbWMrQ2c9PSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvbW92ZS11cFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IE1vdmVVcCA9IGNyZWF0ZUx1Y2lkZUljb24oJ01vdmVVcCcsIFtcbiAgWydwYXRoJywgeyBkOiAnTTggNkwxMiAyTDE2IDYnLCBrZXk6ICcxeXZreXgnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTIgMlYyMicsIGtleTogJ3I4OXJ6aycgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgTW92ZVVwO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgUGFuZWxMZWZ0Q2xvc2VcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNtVmpkQ0IzYVdSMGFEMGlNVGdpSUdobGFXZG9kRDBpTVRnaUlIZzlJak1pSUhrOUlqTWlJSEo0UFNJeUlpQXZQZ29nSUR4d1lYUm9JR1E5SWswNUlETjJNVGdpSUM4K0NpQWdQSEJoZEdnZ1pEMGliVEUySURFMUxUTXRNeUF6TFRNaUlDOCtDand2YzNablBnbz0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL3BhbmVsLWxlZnQtY2xvc2VcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBQYW5lbExlZnRDbG9zZSA9IGNyZWF0ZUx1Y2lkZUljb24oJ1BhbmVsTGVmdENsb3NlJywgW1xuICBbJ3JlY3QnLCB7IHdpZHRoOiAnMTgnLCBoZWlnaHQ6ICcxOCcsIHg6ICczJywgeTogJzMnLCByeDogJzInLCBrZXk6ICdhZml0djcnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNOSAzdjE4Jywga2V5OiAnZmgzaHFhJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnbTE2IDE1LTMtMyAzLTMnLCBrZXk6ICcxNHk5OXonIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFBhbmVsTGVmdENsb3NlO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgUGFuZWxMZWZ0T3BlblxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y21WamRDQjNhV1IwYUQwaU1UZ2lJR2hsYVdkb2REMGlNVGdpSUhnOUlqTWlJSGs5SWpNaUlISjRQU0l5SWlBdlBnb2dJRHh3WVhSb0lHUTlJazA1SUROMk1UZ2lJQzgrQ2lBZ1BIQmhkR2dnWkQwaWJURTBJRGtnTXlBekxUTWdNeUlnTHo0S1BDOXpkbWMrQ2c9PSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvcGFuZWwtbGVmdC1vcGVuXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgUGFuZWxMZWZ0T3BlbiA9IGNyZWF0ZUx1Y2lkZUljb24oJ1BhbmVsTGVmdE9wZW4nLCBbXG4gIFsncmVjdCcsIHsgd2lkdGg6ICcxOCcsIGhlaWdodDogJzE4JywgeDogJzMnLCB5OiAnMycsIHJ4OiAnMicsIGtleTogJ2FmaXR2NycgfV0sXG4gIFsncGF0aCcsIHsgZDogJ005IDN2MTgnLCBrZXk6ICdmaDNocWEnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdtMTQgOSAzIDMtMyAzJywga2V5OiAnODAxMGVlJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBQYW5lbExlZnRPcGVuO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgUGluT2ZmXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5NVElnTVRkMk5TSWdMejRLSUNBOGNHRjBhQ0JrUFNKTk1UVWdPUzR6TkZZM1lURWdNU0F3SURBZ01TQXhMVEVnTWlBeUlEQWdNQ0F3SURBdE5FZzNMamc1SWlBdlBnb2dJRHh3WVhSb0lHUTlJbTB5SURJZ01qQWdNakFpSUM4K0NpQWdQSEJoZEdnZ1pEMGlUVGtnT1hZeExqYzJZVElnTWlBd0lEQWdNUzB4TGpFeElERXVOemxzTFRFdU56Z3VPVUV5SURJZ01DQXdJREFnTlNBeE5TNHlORll4Tm1FeElERWdNQ0F3SURBZ01TQXhhREV4SWlBdlBnbzhMM04yWno0SykgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvcGluLW9mZlxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IFBpbk9mZiA9IGNyZWF0ZUx1Y2lkZUljb24oJ1Bpbk9mZicsIFtcbiAgWydwYXRoJywgeyBkOiAnTTEyIDE3djUnLCBrZXk6ICdiYjFkdTknIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTUgOS4zNFY3YTEgMSAwIDAgMSAxLTEgMiAyIDAgMCAwIDAtNEg3Ljg5Jywga2V5OiAnem53bnpxJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnbTIgMiAyMCAyMCcsIGtleTogJzFvb2V3eScgfV0sXG4gIFtcbiAgICAncGF0aCcsXG4gICAge1xuICAgICAgZDogJ005IDl2MS43NmEyIDIgMCAwIDEtMS4xMSAxLjc5bC0xLjc4LjlBMiAyIDAgMCAwIDUgMTUuMjRWMTZhMSAxIDAgMCAwIDEgMWgxMScsXG4gICAgICBrZXk6ICdjOXFobTInLFxuICAgIH0sXG4gIF0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgUGluT2ZmO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgUGluXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5NVElnTVRkMk5TSWdMejRLSUNBOGNHRjBhQ0JrUFNKTk9TQXhNQzQzTm1FeUlESWdNQ0F3SURFdE1TNHhNU0F4TGpjNWJDMHhMamM0TGpsQk1pQXlJREFnTUNBd0lEVWdNVFV1TWpSV01UWmhNU0F4SURBZ01DQXdJREVnTVdneE1tRXhJREVnTUNBd0lEQWdNUzB4ZGkwdU56WmhNaUF5SURBZ01DQXdMVEV1TVRFdE1TNDNPV3d0TVM0M09DMHVPVUV5SURJZ01DQXdJREVnTVRVZ01UQXVOelpXTjJFeElERWdNQ0F3SURFZ01TMHhJRElnTWlBd0lEQWdNQ0F3TFRSSU9HRXlJRElnTUNBd0lEQWdNQ0EwSURFZ01TQXdJREFnTVNBeElERjZJaUF2UGdvOEwzTjJaejRLKSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9waW5cbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBQaW4gPSBjcmVhdGVMdWNpZGVJY29uKCdQaW4nLCBbXG4gIFsncGF0aCcsIHsgZDogJ00xMiAxN3Y1Jywga2V5OiAnYmIxZHU5JyB9XSxcbiAgW1xuICAgICdwYXRoJyxcbiAgICB7XG4gICAgICBkOiAnTTkgMTAuNzZhMiAyIDAgMCAxLTEuMTEgMS43OWwtMS43OC45QTIgMiAwIDAgMCA1IDE1LjI0VjE2YTEgMSAwIDAgMCAxIDFoMTJhMSAxIDAgMCAwIDEtMXYtLjc2YTIgMiAwIDAgMC0xLjExLTEuNzlsLTEuNzgtLjlBMiAyIDAgMCAxIDE1IDEwLjc2VjdhMSAxIDAgMCAxIDEtMSAyIDIgMCAwIDAgMC00SDhhMiAyIDAgMCAwIDAgNCAxIDEgMCAwIDEgMSAxeicsXG4gICAgICBrZXk6ICcxbmt6OGInLFxuICAgIH0sXG4gIF0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgUGluO1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgUmVmcmVzaEN3XG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5NeUF4TW1FNUlEa2dNQ0F3SURFZ09TMDVJRGt1TnpVZ09TNDNOU0F3SURBZ01TQTJMamMwSURJdU56Uk1NakVnT0NJZ0x6NEtJQ0E4Y0dGMGFDQmtQU0pOTWpFZ00zWTFhQzAxSWlBdlBnb2dJRHh3WVhSb0lHUTlJazB5TVNBeE1tRTVJRGtnTUNBd0lERXRPU0E1SURrdU56VWdPUzQzTlNBd0lEQWdNUzAyTGpjMExUSXVOelJNTXlBeE5pSWdMejRLSUNBOGNHRjBhQ0JrUFNKTk9DQXhOa2d6ZGpVaUlDOCtDand2YzNablBnbz0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL3JlZnJlc2gtY3dcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBSZWZyZXNoQ3cgPSBjcmVhdGVMdWNpZGVJY29uKCdSZWZyZXNoQ3cnLCBbXG4gIFsncGF0aCcsIHsgZDogJ00zIDEyYTkgOSAwIDAgMSA5LTkgOS43NSA5Ljc1IDAgMCAxIDYuNzQgMi43NEwyMSA4Jywga2V5OiAndjloNXZjJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTIxIDN2NWgtNScsIGtleTogJzFxN3RvMCcgfV0sXG4gIFsncGF0aCcsIHsgZDogJ00yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNicsIGtleTogJzN1aWZsMycgfV0sXG4gIFsncGF0aCcsIHsgZDogJ004IDE2SDN2NScsIGtleTogJzFjdjY3OCcgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgUmVmcmVzaEN3O1xuIiwgImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgU3F1YXJlQXJyb3dSaWdodFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y21WamRDQjNhV1IwYUQwaU1UZ2lJR2hsYVdkb2REMGlNVGdpSUhnOUlqTWlJSGs5SWpNaUlISjRQU0l5SWlBdlBnb2dJRHh3WVhSb0lHUTlJazA0SURFeWFEZ2lJQzgrQ2lBZ1BIQmhkR2dnWkQwaWJURXlJREUySURRdE5DMDBMVFFpSUM4K0Nqd3ZjM1puUGdvPSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvc3F1YXJlLWFycm93LXJpZ2h0XG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgU3F1YXJlQXJyb3dSaWdodCA9IGNyZWF0ZUx1Y2lkZUljb24oJ1NxdWFyZUFycm93UmlnaHQnLCBbXG4gIFsncmVjdCcsIHsgd2lkdGg6ICcxOCcsIGhlaWdodDogJzE4JywgeDogJzMnLCB5OiAnMycsIHJ4OiAnMicsIGtleTogJ2FmaXR2NycgfV0sXG4gIFsncGF0aCcsIHsgZDogJ004IDEyaDgnLCBrZXk6ICcxd2N5ZXYnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdtMTIgMTYgNC00LTQtNCcsIGtleTogJzFpOXpjdicgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgU3F1YXJlQXJyb3dSaWdodDtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIFNxdWFyZVxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y21WamRDQjNhV1IwYUQwaU1UZ2lJR2hsYVdkb2REMGlNVGdpSUhnOUlqTWlJSGs5SWpNaUlISjRQU0l5SWlBdlBnbzhMM04yWno0SykgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvc3F1YXJlXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgU3F1YXJlID0gY3JlYXRlTHVjaWRlSWNvbignU3F1YXJlJywgW1xuICBbJ3JlY3QnLCB7IHdpZHRoOiAnMTgnLCBoZWlnaHQ6ICcxOCcsIHg6ICczJywgeTogJzMnLCByeDogJzInLCBrZXk6ICdhZml0djcnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNxdWFyZTtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIFRhYmxlMlxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0pOT1NBelNEVmhNaUF5SURBZ01DQXdMVElnTW5ZMGJUWXRObWd4TUdFeUlESWdNQ0F3SURFZ01pQXlkalJOT1NBemRqRTRiVEFnTUdneE1HRXlJRElnTUNBd0lEQWdNaTB5VmpsTk9TQXlNVWcxWVRJZ01pQXdJREFnTVMweUxUSldPVzB3SURCb01UZ2lJQzgrQ2p3dmMzWm5QZ289KSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy90YWJsZS0yXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgVGFibGUyID0gY3JlYXRlTHVjaWRlSWNvbignVGFibGUyJywgW1xuICBbXG4gICAgJ3BhdGgnLFxuICAgIHtcbiAgICAgIGQ6ICdNOSAzSDVhMiAyIDAgMCAwLTIgMnY0bTYtNmgxMGEyIDIgMCAwIDEgMiAydjRNOSAzdjE4bTAgMGgxMGEyIDIgMCAwIDAgMi0yVjlNOSAyMUg1YTIgMiAwIDAgMS0yLTJWOW0wIDBoMTgnLFxuICAgICAga2V5OiAnZ3VnajgzJyxcbiAgICB9LFxuICBdLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRhYmxlMjtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIFRyaWFuZ2xlQWxlcnRcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKdE1qRXVOek1nTVRndE9DMHhOR0V5SURJZ01DQXdJREF0TXk0ME9DQXdiQzA0SURFMFFUSWdNaUF3SURBZ01DQTBJREl4YURFMllUSWdNaUF3SURBZ01DQXhMamN6TFRNaUlDOCtDaUFnUEhCaGRHZ2daRDBpVFRFeUlEbDJOQ0lnTHo0S0lDQThjR0YwYUNCa1BTSk5NVElnTVRkb0xqQXhJaUF2UGdvOEwzTjJaejRLKSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy90cmlhbmdsZS1hbGVydFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IFRyaWFuZ2xlQWxlcnQgPSBjcmVhdGVMdWNpZGVJY29uKCdUcmlhbmdsZUFsZXJ0JywgW1xuICBbXG4gICAgJ3BhdGgnLFxuICAgIHtcbiAgICAgIGQ6ICdtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMnLFxuICAgICAga2V5OiAnd21vZW5xJyxcbiAgICB9LFxuICBdLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTIgOXY0Jywga2V5OiAnanV6cHU3JyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTEyIDE3aC4wMScsIGtleTogJ3AzMnAwNScgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgVHJpYW5nbGVBbGVydDtcbiIsICJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIFhcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKTk1UZ2dOaUEySURFNElpQXZQZ29nSUR4d1lYUm9JR1E5SW0wMklEWWdNVElnTVRJaUlDOCtDand2YzNablBnbz0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL3hcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBYID0gY3JlYXRlTHVjaWRlSWNvbignWCcsIFtcbiAgWydwYXRoJywgeyBkOiAnTTE4IDYgNiAxOCcsIGtleTogJzFibDVmOCcgfV0sXG4gIFsncGF0aCcsIHsgZDogJ202IDYgMTIgMTInLCBrZXk6ICdkOGJrNnYnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFg7XG4iLCAiaW1wb3J0ICogYXMgU2VsZWN0UHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2VsZWN0XCI7XG5pbXBvcnQgeyBDaGVjaywgQ2hldnJvbkRvd24sIENoZXZyb25VcCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC91aS9saWIvdXRpbHNcIjtcblxuY29uc3QgU2VsZWN0ID0gU2VsZWN0UHJpbWl0aXZlLlJvb3Q7XG5cbmNvbnN0IFNlbGVjdEdyb3VwID0gU2VsZWN0UHJpbWl0aXZlLkdyb3VwO1xuXG5jb25zdCBTZWxlY3RWYWx1ZSA9IFNlbGVjdFByaW1pdGl2ZS5WYWx1ZTtcblxuY29uc3QgU2VsZWN0VHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5UcmlnZ2VyPixcbiAgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuVHJpZ2dlcj4gJiB7IGxhYmVsPzogUmVhY3ROb2RlIH1cbj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgbGFiZWwsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8U2VsZWN0UHJpbWl0aXZlLlRyaWdnZXJcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJmbGV4IGgtOSB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB3aGl0ZXNwYWNlLW5vd3JhcCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItaW5wdXQgYmctdHJhbnNwYXJlbnQgcHgtMyBweS0yIHRleHQtc20gc2hhZG93LXNtIHJpbmctb2Zmc2V0LWJhY2tncm91bmQgZGF0YS1wbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLXJpbmcgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAgWyY+c3Bhbl06bGluZS1jbGFtcC0xXCIsXG4gICAgICBjbGFzc05hbWUsXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICB7bGFiZWwgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+e2xhYmVsfTo8L3NwYW4+fVxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICAgIDxTZWxlY3RQcmltaXRpdmUuSWNvbiBhc0NoaWxkPlxuICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cImgtNCB3LTQgb3BhY2l0eS01MFwiIC8+XG4gICAgPC9TZWxlY3RQcmltaXRpdmUuSWNvbj5cbiAgPC9TZWxlY3RQcmltaXRpdmUuVHJpZ2dlcj5cbikpO1xuU2VsZWN0VHJpZ2dlci5kaXNwbGF5TmFtZSA9IFNlbGVjdFByaW1pdGl2ZS5UcmlnZ2VyLmRpc3BsYXlOYW1lO1xuXG5jb25zdCBTZWxlY3RTY3JvbGxVcEJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxVcEJ1dHRvbj4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLlNjcm9sbFVwQnV0dG9uPlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8U2VsZWN0UHJpbWl0aXZlLlNjcm9sbFVwQnV0dG9uXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcImZsZXggY3Vyc29yLWRlZmF1bHQgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTFcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8Q2hldnJvblVwIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICA8L1NlbGVjdFByaW1pdGl2ZS5TY3JvbGxVcEJ1dHRvbj5cbikpO1xuU2VsZWN0U2Nyb2xsVXBCdXR0b24uZGlzcGxheU5hbWUgPSBTZWxlY3RQcmltaXRpdmUuU2Nyb2xsVXBCdXR0b24uZGlzcGxheU5hbWU7XG5cbmNvbnN0IFNlbGVjdFNjcm9sbERvd25CdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2Nyb2xsRG93bkJ1dHRvbj4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLlNjcm9sbERvd25CdXR0b24+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTZWxlY3RQcmltaXRpdmUuU2Nyb2xsRG93bkJ1dHRvblxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXCJmbGV4IGN1cnNvci1kZWZhdWx0IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICA8L1NlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uPlxuKSk7XG5TZWxlY3RTY3JvbGxEb3duQnV0dG9uLmRpc3BsYXlOYW1lID0gU2VsZWN0UHJpbWl0aXZlLlNjcm9sbERvd25CdXR0b24uZGlzcGxheU5hbWU7XG5cbmNvbnN0IFNlbGVjdENvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuQ29udGVudD4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLkNvbnRlbnQ+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIHBvc2l0aW9uID0gXCJwb3BwZXJcIiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTZWxlY3RQcmltaXRpdmUuUG9ydGFsPlxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHNcIj5cbiAgICAgIDxTZWxlY3RQcmltaXRpdmUuQ29udGVudFxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcInJlbGF0aXZlIHotNTAgbWF4LWgtKC0tcmFkaXgtc2VsZWN0LWNvbnRlbnQtYXZhaWxhYmxlLWhlaWdodCkgbWluLXctMzIgb3ZlcmZsb3cteS1hdXRvIG92ZXJmbG93LXgtaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctcG9wb3ZlciB0ZXh0LXBvcG92ZXItZm9yZWdyb3VuZCBzaGFkb3ctbWQgZGF0YS1bc3RhdGU9b3Blbl06YW5pbWF0ZS1pbiBkYXRhLVtzdGF0ZT1jbG9zZWRdOmFuaW1hdGUtb3V0IGRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtMCBkYXRhLVtzdGF0ZT1vcGVuXTpmYWRlLWluLTAgZGF0YS1bc3RhdGU9Y2xvc2VkXTp6b29tLW91dC05NSBkYXRhLVtzdGF0ZT1vcGVuXTp6b29tLWluLTk1IGRhdGEtW3NpZGU9Ym90dG9tXTpzbGlkZS1pbi1mcm9tLXRvcC0yIGRhdGEtW3NpZGU9bGVmdF06c2xpZGUtaW4tZnJvbS1yaWdodC0yIGRhdGEtW3NpZGU9cmlnaHRdOnNsaWRlLWluLWZyb20tbGVmdC0yIGRhdGEtW3NpZGU9dG9wXTpzbGlkZS1pbi1mcm9tLWJvdHRvbS0yIG9yaWdpbi0oLS1yYWRpeC1zZWxlY3QtY29udGVudC10cmFuc2Zvcm0tb3JpZ2luKVwiLFxuICAgICAgICAgIHBvc2l0aW9uID09PSBcInBvcHBlclwiICYmXG4gICAgICAgICAgICBcImRhdGEtW3NpZGU9Ym90dG9tXTp0cmFuc2xhdGUteS0xIGRhdGEtW3NpZGU9bGVmdF06LXRyYW5zbGF0ZS14LTEgZGF0YS1bc2lkZT1yaWdodF06dHJhbnNsYXRlLXgtMSBkYXRhLVtzaWRlPXRvcF06LXRyYW5zbGF0ZS15LTFcIixcbiAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICl9XG4gICAgICAgIHBvc2l0aW9uPXtwb3NpdGlvbn1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgPlxuICAgICAgICA8U2VsZWN0U2Nyb2xsVXBCdXR0b24gLz5cbiAgICAgICAgPFNlbGVjdFByaW1pdGl2ZS5WaWV3cG9ydFxuICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICBcInAtMVwiLFxuICAgICAgICAgICAgcG9zaXRpb24gPT09IFwicG9wcGVyXCIgJiYgXCJoLSgtLXJhZGl4LXNlbGVjdC10cmlnZ2VyLWhlaWdodCkgdy1mdWxsIG1pbi13LSgtLXJhZGl4LXNlbGVjdC10cmlnZ2VyLXdpZHRoKVwiLFxuICAgICAgICAgICl9XG4gICAgICAgID5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvU2VsZWN0UHJpbWl0aXZlLlZpZXdwb3J0PlxuICAgICAgICA8U2VsZWN0U2Nyb2xsRG93bkJ1dHRvbiAvPlxuICAgICAgPC9TZWxlY3RQcmltaXRpdmUuQ29udGVudD5cbiAgICA8L2Rpdj5cbiAgPC9TZWxlY3RQcmltaXRpdmUuUG9ydGFsPlxuKSk7XG5TZWxlY3RDb250ZW50LmRpc3BsYXlOYW1lID0gU2VsZWN0UHJpbWl0aXZlLkNvbnRlbnQuZGlzcGxheU5hbWU7XG5cbmNvbnN0IFNlbGVjdExhYmVsID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLkxhYmVsPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuTGFiZWw+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTZWxlY3RQcmltaXRpdmUuTGFiZWwgcmVmPXtyZWZ9IGNsYXNzTmFtZT17Y24oXCJweC0yIHB5LTEuNSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIiwgY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPlxuKSk7XG5TZWxlY3RMYWJlbC5kaXNwbGF5TmFtZSA9IFNlbGVjdFByaW1pdGl2ZS5MYWJlbC5kaXNwbGF5TmFtZTtcblxuY29uc3QgU2VsZWN0SXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5JdGVtPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuSXRlbT5cbj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTZWxlY3RQcmltaXRpdmUuSXRlbVxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICBcInJlbGF0aXZlIGZsZXggdy1mdWxsIGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB5LTEuNSBwbC0yIHByLTggdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6YmctYWNjZW50IGZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGF0YS1kaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRhdGEtZGlzYWJsZWQ6b3BhY2l0eS01MFwiLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiBmbGV4IGgtMy41IHctMy41IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgPFNlbGVjdFByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPlxuICAgICAgICA8Q2hlY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICA8L1NlbGVjdFByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPlxuICAgIDwvc3Bhbj5cbiAgICA8U2VsZWN0UHJpbWl0aXZlLkl0ZW1UZXh0PntjaGlsZHJlbn08L1NlbGVjdFByaW1pdGl2ZS5JdGVtVGV4dD5cbiAgPC9TZWxlY3RQcmltaXRpdmUuSXRlbT5cbikpO1xuU2VsZWN0SXRlbS5kaXNwbGF5TmFtZSA9IFNlbGVjdFByaW1pdGl2ZS5JdGVtLmRpc3BsYXlOYW1lO1xuXG5jb25zdCBTZWxlY3RTZXBhcmF0b3IgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2VwYXJhdG9yPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2VwYXJhdG9yPlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8U2VsZWN0UHJpbWl0aXZlLlNlcGFyYXRvciByZWY9e3JlZn0gY2xhc3NOYW1lPXtjbihcIi1teC0xIG15LTEgaC1weCBiZy1tdXRlZFwiLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9IC8+XG4pKTtcblNlbGVjdFNlcGFyYXRvci5kaXNwbGF5TmFtZSA9IFNlbGVjdFByaW1pdGl2ZS5TZXBhcmF0b3IuZGlzcGxheU5hbWU7XG5cbmV4cG9ydCB7XG4gIFNlbGVjdCxcbiAgU2VsZWN0R3JvdXAsXG4gIFNlbGVjdFZhbHVlLFxuICBTZWxlY3RUcmlnZ2VyLFxuICBTZWxlY3RDb250ZW50LFxuICBTZWxlY3RMYWJlbCxcbiAgU2VsZWN0SXRlbSxcbiAgU2VsZWN0U2VwYXJhdG9yLFxuICBTZWxlY3RTY3JvbGxVcEJ1dHRvbixcbiAgU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbixcbn07XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnQHJhZGl4LXVpL251bWJlcic7XG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gJ0ByYWRpeC11aS9wcmltaXRpdmUnO1xuaW1wb3J0IHsgY3JlYXRlQ29sbGVjdGlvbiB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb2xsZWN0aW9uJztcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnMnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWNvbnRleHQnO1xuaW1wb3J0IHsgdXNlRGlyZWN0aW9uIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWRpcmVjdGlvbic7XG5pbXBvcnQgeyBEaXNtaXNzYWJsZUxheWVyIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWRpc21pc3NhYmxlLWxheWVyJztcbmltcG9ydCB7IHVzZUZvY3VzR3VhcmRzIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWZvY3VzLWd1YXJkcyc7XG5pbXBvcnQgeyBGb2N1c1Njb3BlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWZvY3VzLXNjb3BlJztcbmltcG9ydCB7IHVzZUlkIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWlkJztcbmltcG9ydCAqIGFzIFBvcHBlclByaW1pdGl2ZSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtcG9wcGVyJztcbmltcG9ydCB7IGNyZWF0ZVBvcHBlclNjb3BlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXBvcHBlcic7XG5pbXBvcnQgeyBQb3J0YWwgYXMgUG9ydGFsUHJpbWl0aXZlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXBvcnRhbCc7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlJztcbmltcG9ydCB7IFNsb3QgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3Qtc2xvdCc7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC11c2UtY2FsbGJhY2stcmVmJztcbmltcG9ydCB7IHVzZUNvbnRyb2xsYWJsZVN0YXRlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXVzZS1jb250cm9sbGFibGUtc3RhdGUnO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXVzZS1sYXlvdXQtZWZmZWN0JztcbmltcG9ydCB7IHVzZVByZXZpb3VzIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXVzZS1wcmV2aW91cyc7XG5pbXBvcnQgeyBWaXN1YWxseUhpZGRlbiB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC12aXN1YWxseS1oaWRkZW4nO1xuaW1wb3J0IHsgaGlkZU90aGVycyB9IGZyb20gJ2FyaWEtaGlkZGVuJztcbmltcG9ydCB7IFJlbW92ZVNjcm9sbCB9IGZyb20gJ3JlYWN0LXJlbW92ZS1zY3JvbGwnO1xuXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWNvbnRleHQnO1xuXG50eXBlIERpcmVjdGlvbiA9ICdsdHInIHwgJ3J0bCc7XG5cbmNvbnN0IE9QRU5fS0VZUyA9IFsnICcsICdFbnRlcicsICdBcnJvd1VwJywgJ0Fycm93RG93biddO1xuY29uc3QgU0VMRUNUSU9OX0tFWVMgPSBbJyAnLCAnRW50ZXInXTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VsZWN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IFNFTEVDVF9OQU1FID0gJ1NlbGVjdCc7XG5cbnR5cGUgSXRlbURhdGEgPSB7IHZhbHVlOiBzdHJpbmc7IGRpc2FibGVkOiBib29sZWFuOyB0ZXh0VmFsdWU6IHN0cmluZyB9O1xuY29uc3QgW0NvbGxlY3Rpb24sIHVzZUNvbGxlY3Rpb24sIGNyZWF0ZUNvbGxlY3Rpb25TY29wZV0gPSBjcmVhdGVDb2xsZWN0aW9uPFxuICBTZWxlY3RJdGVtRWxlbWVudCxcbiAgSXRlbURhdGFcbj4oU0VMRUNUX05BTUUpO1xuXG50eXBlIFNjb3BlZFByb3BzPFA+ID0gUCAmIHsgX19zY29wZVNlbGVjdD86IFNjb3BlIH07XG5jb25zdCBbY3JlYXRlU2VsZWN0Q29udGV4dCwgY3JlYXRlU2VsZWN0U2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlKFNFTEVDVF9OQU1FLCBbXG4gIGNyZWF0ZUNvbGxlY3Rpb25TY29wZSxcbiAgY3JlYXRlUG9wcGVyU2NvcGUsXG5dKTtcbmNvbnN0IHVzZVBvcHBlclNjb3BlID0gY3JlYXRlUG9wcGVyU2NvcGUoKTtcblxudHlwZSBTZWxlY3RDb250ZXh0VmFsdWUgPSB7XG4gIHRyaWdnZXI6IFNlbGVjdFRyaWdnZXJFbGVtZW50IHwgbnVsbDtcbiAgb25UcmlnZ2VyQ2hhbmdlKG5vZGU6IFNlbGVjdFRyaWdnZXJFbGVtZW50IHwgbnVsbCk6IHZvaWQ7XG4gIHZhbHVlTm9kZTogU2VsZWN0VmFsdWVFbGVtZW50IHwgbnVsbDtcbiAgb25WYWx1ZU5vZGVDaGFuZ2Uobm9kZTogU2VsZWN0VmFsdWVFbGVtZW50KTogdm9pZDtcbiAgdmFsdWVOb2RlSGFzQ2hpbGRyZW46IGJvb2xlYW47XG4gIG9uVmFsdWVOb2RlSGFzQ2hpbGRyZW5DaGFuZ2UoaGFzQ2hpbGRyZW46IGJvb2xlYW4pOiB2b2lkO1xuICBjb250ZW50SWQ6IHN0cmluZztcbiAgdmFsdWU/OiBzdHJpbmc7XG4gIG9uVmFsdWVDaGFuZ2UodmFsdWU6IHN0cmluZyk6IHZvaWQ7XG4gIG9wZW46IGJvb2xlYW47XG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcbiAgb25PcGVuQ2hhbmdlKG9wZW46IGJvb2xlYW4pOiB2b2lkO1xuICBkaXI6IFNlbGVjdFByb3BzWydkaXInXTtcbiAgdHJpZ2dlclBvaW50ZXJEb3duUG9zUmVmOiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+O1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG59O1xuXG5jb25zdCBbU2VsZWN0UHJvdmlkZXIsIHVzZVNlbGVjdENvbnRleHRdID0gY3JlYXRlU2VsZWN0Q29udGV4dDxTZWxlY3RDb250ZXh0VmFsdWU+KFNFTEVDVF9OQU1FKTtcblxudHlwZSBOYXRpdmVPcHRpb24gPSBSZWFjdC5SZWFjdEVsZW1lbnQ8UmVhY3QuQ29tcG9uZW50UHJvcHM8J29wdGlvbic+PjtcblxudHlwZSBTZWxlY3ROYXRpdmVPcHRpb25zQ29udGV4dFZhbHVlID0ge1xuICBvbk5hdGl2ZU9wdGlvbkFkZChvcHRpb246IE5hdGl2ZU9wdGlvbik6IHZvaWQ7XG4gIG9uTmF0aXZlT3B0aW9uUmVtb3ZlKG9wdGlvbjogTmF0aXZlT3B0aW9uKTogdm9pZDtcbn07XG5jb25zdCBbU2VsZWN0TmF0aXZlT3B0aW9uc1Byb3ZpZGVyLCB1c2VTZWxlY3ROYXRpdmVPcHRpb25zQ29udGV4dF0gPVxuICBjcmVhdGVTZWxlY3RDb250ZXh0PFNlbGVjdE5hdGl2ZU9wdGlvbnNDb250ZXh0VmFsdWU+KFNFTEVDVF9OQU1FKTtcblxuaW50ZXJmYWNlIFNlbGVjdFByb3BzIHtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHZhbHVlPzogc3RyaW5nO1xuICBkZWZhdWx0VmFsdWU/OiBzdHJpbmc7XG4gIG9uVmFsdWVDaGFuZ2U/KHZhbHVlOiBzdHJpbmcpOiB2b2lkO1xuICBvcGVuPzogYm9vbGVhbjtcbiAgZGVmYXVsdE9wZW4/OiBib29sZWFuO1xuICBvbk9wZW5DaGFuZ2U/KG9wZW46IGJvb2xlYW4pOiB2b2lkO1xuICBkaXI/OiBEaXJlY3Rpb247XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGF1dG9Db21wbGV0ZT86IHN0cmluZztcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICByZXF1aXJlZD86IGJvb2xlYW47XG4gIGZvcm0/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFNlbGVjdDogUmVhY3QuRkM8U2VsZWN0UHJvcHM+ID0gKHByb3BzOiBTY29wZWRQcm9wczxTZWxlY3RQcm9wcz4pID0+IHtcbiAgY29uc3Qge1xuICAgIF9fc2NvcGVTZWxlY3QsXG4gICAgY2hpbGRyZW4sXG4gICAgb3Blbjogb3BlblByb3AsXG4gICAgZGVmYXVsdE9wZW4sXG4gICAgb25PcGVuQ2hhbmdlLFxuICAgIHZhbHVlOiB2YWx1ZVByb3AsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIG9uVmFsdWVDaGFuZ2UsXG4gICAgZGlyLFxuICAgIG5hbWUsXG4gICAgYXV0b0NvbXBsZXRlLFxuICAgIGRpc2FibGVkLFxuICAgIHJlcXVpcmVkLFxuICAgIGZvcm0sXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlU2VsZWN0KTtcbiAgY29uc3QgW3RyaWdnZXIsIHNldFRyaWdnZXJdID0gUmVhY3QudXNlU3RhdGU8U2VsZWN0VHJpZ2dlckVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3ZhbHVlTm9kZSwgc2V0VmFsdWVOb2RlXSA9IFJlYWN0LnVzZVN0YXRlPFNlbGVjdFZhbHVlRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdmFsdWVOb2RlSGFzQ2hpbGRyZW4sIHNldFZhbHVlTm9kZUhhc0NoaWxkcmVuXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZGlyZWN0aW9uID0gdXNlRGlyZWN0aW9uKGRpcik7XG4gIGNvbnN0IFtvcGVuID0gZmFsc2UsIHNldE9wZW5dID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIHByb3A6IG9wZW5Qcm9wLFxuICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0T3BlbixcbiAgICBvbkNoYW5nZTogb25PcGVuQ2hhbmdlLFxuICB9KTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VDb250cm9sbGFibGVTdGF0ZSh7XG4gICAgcHJvcDogdmFsdWVQcm9wLFxuICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0VmFsdWUsXG4gICAgb25DaGFuZ2U6IG9uVmFsdWVDaGFuZ2UsXG4gIH0pO1xuICBjb25zdCB0cmlnZ2VyUG9pbnRlckRvd25Qb3NSZWYgPSBSZWFjdC51c2VSZWY8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBieSBkZWZhdWx0IHNvIHRoYXQgZXZlbnRzIGJ1YmJsZSB0byBmb3JtcyB3aXRob3V0IEpTIChTU1IpXG4gIGNvbnN0IGlzRm9ybUNvbnRyb2wgPSB0cmlnZ2VyID8gZm9ybSB8fCAhIXRyaWdnZXIuY2xvc2VzdCgnZm9ybScpIDogdHJ1ZTtcbiAgY29uc3QgW25hdGl2ZU9wdGlvbnNTZXQsIHNldE5hdGl2ZU9wdGlvbnNTZXRdID0gUmVhY3QudXNlU3RhdGUobmV3IFNldDxOYXRpdmVPcHRpb24+KCkpO1xuXG4gIC8vIFRoZSBuYXRpdmUgYHNlbGVjdGAgb25seSBhc3NvY2lhdGVzIHRoZSBjb3JyZWN0IGRlZmF1bHQgdmFsdWUgaWYgdGhlIGNvcnJlc3BvbmRpbmdcbiAgLy8gYG9wdGlvbmAgaXMgcmVuZGVyZWQgYXMgYSBjaGlsZCAqKmF0IHRoZSBzYW1lIHRpbWUqKiBhcyBpdHNlbGYuXG4gIC8vIEJlY2F1c2UgaXQgbWlnaHQgdGFrZSBhIGZldyByZW5kZXJzIGZvciBvdXIgaXRlbXMgdG8gZ2F0aGVyIHRoZSBpbmZvcm1hdGlvbiB0byBidWlsZFxuICAvLyB0aGUgbmF0aXZlIGBvcHRpb25gKHMpLCB3ZSBnZW5lcmF0ZSBhIGtleSBvbiB0aGUgYHNlbGVjdGAgdG8gbWFrZSBzdXJlIFJlYWN0IHJlLWJ1aWxkcyBpdFxuICAvLyBlYWNoIHRpbWUgdGhlIG9wdGlvbnMgY2hhbmdlLlxuICBjb25zdCBuYXRpdmVTZWxlY3RLZXkgPSBBcnJheS5mcm9tKG5hdGl2ZU9wdGlvbnNTZXQpXG4gICAgLm1hcCgob3B0aW9uKSA9PiBvcHRpb24ucHJvcHMudmFsdWUpXG4gICAgLmpvaW4oJzsnKTtcblxuICByZXR1cm4gKFxuICAgIDxQb3BwZXJQcmltaXRpdmUuUm9vdCB7Li4ucG9wcGVyU2NvcGV9PlxuICAgICAgPFNlbGVjdFByb3ZpZGVyXG4gICAgICAgIHJlcXVpcmVkPXtyZXF1aXJlZH1cbiAgICAgICAgc2NvcGU9e19fc2NvcGVTZWxlY3R9XG4gICAgICAgIHRyaWdnZXI9e3RyaWdnZXJ9XG4gICAgICAgIG9uVHJpZ2dlckNoYW5nZT17c2V0VHJpZ2dlcn1cbiAgICAgICAgdmFsdWVOb2RlPXt2YWx1ZU5vZGV9XG4gICAgICAgIG9uVmFsdWVOb2RlQ2hhbmdlPXtzZXRWYWx1ZU5vZGV9XG4gICAgICAgIHZhbHVlTm9kZUhhc0NoaWxkcmVuPXt2YWx1ZU5vZGVIYXNDaGlsZHJlbn1cbiAgICAgICAgb25WYWx1ZU5vZGVIYXNDaGlsZHJlbkNoYW5nZT17c2V0VmFsdWVOb2RlSGFzQ2hpbGRyZW59XG4gICAgICAgIGNvbnRlbnRJZD17dXNlSWQoKX1cbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICBvblZhbHVlQ2hhbmdlPXtzZXRWYWx1ZX1cbiAgICAgICAgb3Blbj17b3Blbn1cbiAgICAgICAgb25PcGVuQ2hhbmdlPXtzZXRPcGVufVxuICAgICAgICBkaXI9e2RpcmVjdGlvbn1cbiAgICAgICAgdHJpZ2dlclBvaW50ZXJEb3duUG9zUmVmPXt0cmlnZ2VyUG9pbnRlckRvd25Qb3NSZWZ9XG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgID5cbiAgICAgICAgPENvbGxlY3Rpb24uUHJvdmlkZXIgc2NvcGU9e19fc2NvcGVTZWxlY3R9PlxuICAgICAgICAgIDxTZWxlY3ROYXRpdmVPcHRpb25zUHJvdmlkZXJcbiAgICAgICAgICAgIHNjb3BlPXtwcm9wcy5fX3Njb3BlU2VsZWN0fVxuICAgICAgICAgICAgb25OYXRpdmVPcHRpb25BZGQ9e1JlYWN0LnVzZUNhbGxiYWNrKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgc2V0TmF0aXZlT3B0aW9uc1NldCgocHJldikgPT4gbmV3IFNldChwcmV2KS5hZGQob3B0aW9uKSk7XG4gICAgICAgICAgICB9LCBbXSl9XG4gICAgICAgICAgICBvbk5hdGl2ZU9wdGlvblJlbW92ZT17UmVhY3QudXNlQ2FsbGJhY2soKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICBzZXROYXRpdmVPcHRpb25zU2V0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uc1NldCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1NldC5kZWxldGUob3B0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uc1NldDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBbXSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDwvU2VsZWN0TmF0aXZlT3B0aW9uc1Byb3ZpZGVyPlxuICAgICAgICA8L0NvbGxlY3Rpb24uUHJvdmlkZXI+XG5cbiAgICAgICAge2lzRm9ybUNvbnRyb2wgPyAoXG4gICAgICAgICAgPEJ1YmJsZVNlbGVjdFxuICAgICAgICAgICAga2V5PXtuYXRpdmVTZWxlY3RLZXl9XG4gICAgICAgICAgICBhcmlhLWhpZGRlblxuICAgICAgICAgICAgcmVxdWlyZWQ9e3JlcXVpcmVkfVxuICAgICAgICAgICAgdGFiSW5kZXg9ey0xfVxuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIGF1dG9Db21wbGV0ZT17YXV0b0NvbXBsZXRlfVxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgLy8gZW5hYmxlIGZvcm0gYXV0b2ZpbGxcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldFZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgICBmb3JtPXtmb3JtfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt2YWx1ZSA9PT0gdW5kZWZpbmVkID8gPG9wdGlvbiB2YWx1ZT1cIlwiIC8+IDogbnVsbH1cbiAgICAgICAgICAgIHtBcnJheS5mcm9tKG5hdGl2ZU9wdGlvbnNTZXQpfVxuICAgICAgICAgIDwvQnViYmxlU2VsZWN0PlxuICAgICAgICApIDogbnVsbH1cbiAgICAgIDwvU2VsZWN0UHJvdmlkZXI+XG4gICAgPC9Qb3BwZXJQcmltaXRpdmUuUm9vdD5cbiAgKTtcbn07XG5cblNlbGVjdC5kaXNwbGF5TmFtZSA9IFNFTEVDVF9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3RUcmlnZ2VyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IFRSSUdHRVJfTkFNRSA9ICdTZWxlY3RUcmlnZ2VyJztcblxudHlwZSBTZWxlY3RUcmlnZ2VyRWxlbWVudCA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5idXR0b24+O1xudHlwZSBQcmltaXRpdmVCdXR0b25Qcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUHJpbWl0aXZlLmJ1dHRvbj47XG5pbnRlcmZhY2UgU2VsZWN0VHJpZ2dlclByb3BzIGV4dGVuZHMgUHJpbWl0aXZlQnV0dG9uUHJvcHMge31cblxuY29uc3QgU2VsZWN0VHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWY8U2VsZWN0VHJpZ2dlckVsZW1lbnQsIFNlbGVjdFRyaWdnZXJQcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8U2VsZWN0VHJpZ2dlclByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlU2VsZWN0LCBkaXNhYmxlZCA9IGZhbHNlLCAuLi50cmlnZ2VyUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHBvcHBlclNjb3BlID0gdXNlUG9wcGVyU2NvcGUoX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoVFJJR0dFUl9OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gY29udGV4dC5kaXNhYmxlZCB8fCBkaXNhYmxlZDtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCBjb250ZXh0Lm9uVHJpZ2dlckNoYW5nZSk7XG4gICAgY29uc3QgZ2V0SXRlbXMgPSB1c2VDb2xsZWN0aW9uKF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IHBvaW50ZXJUeXBlUmVmID0gUmVhY3QudXNlUmVmPFJlYWN0LlBvaW50ZXJFdmVudFsncG9pbnRlclR5cGUnXT4oJ3RvdWNoJyk7XG5cbiAgICBjb25zdCBbc2VhcmNoUmVmLCBoYW5kbGVUeXBlYWhlYWRTZWFyY2gsIHJlc2V0VHlwZWFoZWFkXSA9IHVzZVR5cGVhaGVhZFNlYXJjaCgoc2VhcmNoKSA9PiB7XG4gICAgICBjb25zdCBlbmFibGVkSXRlbXMgPSBnZXRJdGVtcygpLmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0uZGlzYWJsZWQpO1xuICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBlbmFibGVkSXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS52YWx1ZSA9PT0gY29udGV4dC52YWx1ZSk7XG4gICAgICBjb25zdCBuZXh0SXRlbSA9IGZpbmROZXh0SXRlbShlbmFibGVkSXRlbXMsIHNlYXJjaCwgY3VycmVudEl0ZW0pO1xuICAgICAgaWYgKG5leHRJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5vblZhbHVlQ2hhbmdlKG5leHRJdGVtLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZU9wZW4gPSAocG9pbnRlckV2ZW50PzogUmVhY3QuTW91c2VFdmVudCB8IFJlYWN0LlBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgaWYgKCFpc0Rpc2FibGVkKSB7XG4gICAgICAgIGNvbnRleHQub25PcGVuQ2hhbmdlKHRydWUpO1xuICAgICAgICAvLyByZXNldCB0eXBlYWhlYWQgd2hlbiB3ZSBvcGVuXG4gICAgICAgIHJlc2V0VHlwZWFoZWFkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgY29udGV4dC50cmlnZ2VyUG9pbnRlckRvd25Qb3NSZWYuY3VycmVudCA9IHtcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKHBvaW50ZXJFdmVudC5wYWdlWCksXG4gICAgICAgICAgeTogTWF0aC5yb3VuZChwb2ludGVyRXZlbnQucGFnZVkpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFBvcHBlclByaW1pdGl2ZS5BbmNob3IgYXNDaGlsZCB7Li4ucG9wcGVyU2NvcGV9PlxuICAgICAgICA8UHJpbWl0aXZlLmJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIHJvbGU9XCJjb21ib2JveFwiXG4gICAgICAgICAgYXJpYS1jb250cm9scz17Y29udGV4dC5jb250ZW50SWR9XG4gICAgICAgICAgYXJpYS1leHBhbmRlZD17Y29udGV4dC5vcGVufVxuICAgICAgICAgIGFyaWEtcmVxdWlyZWQ9e2NvbnRleHQucmVxdWlyZWR9XG4gICAgICAgICAgYXJpYS1hdXRvY29tcGxldGU9XCJub25lXCJcbiAgICAgICAgICBkaXI9e2NvbnRleHQuZGlyfVxuICAgICAgICAgIGRhdGEtc3RhdGU9e2NvbnRleHQub3BlbiA/ICdvcGVuJyA6ICdjbG9zZWQnfVxuICAgICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICAgIGRhdGEtZGlzYWJsZWQ9e2lzRGlzYWJsZWQgPyAnJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBkYXRhLXBsYWNlaG9sZGVyPXtzaG91bGRTaG93UGxhY2Vob2xkZXIoY29udGV4dC52YWx1ZSkgPyAnJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgICB7Li4udHJpZ2dlclByb3BzfVxuICAgICAgICAgIHJlZj17Y29tcG9zZWRSZWZzfVxuICAgICAgICAgIC8vIEVuYWJsZSBjb21wYXRpYmlsaXR5IHdpdGggbmF0aXZlIGxhYmVsIG9yIGN1c3RvbSBgTGFiZWxgIFwiY2xpY2tcIiBmb3IgU2FmYXJpOlxuICAgICAgICAgIG9uQ2xpY2s9e2NvbXBvc2VFdmVudEhhbmRsZXJzKHRyaWdnZXJQcm9wcy5vbkNsaWNrLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIFdoaWxzdCBicm93c2VycyBnZW5lcmFsbHkgaGF2ZSBubyBpc3N1ZSBmb2N1c2luZyB0aGUgdHJpZ2dlciB3aGVuIGNsaWNraW5nXG4gICAgICAgICAgICAvLyBvbiBhIGxhYmVsLCBTYWZhcmkgc2VlbXMgdG8gc3RydWdnbGUgd2l0aCB0aGUgZmFjdCB0aGF0IHRoZXJlJ3Mgbm8gYG9uQ2xpY2tgLlxuICAgICAgICAgICAgLy8gV2UgZm9yY2UgYGZvY3VzYCBpbiB0aGlzIGNhc2UuIE5vdGU6IHRoaXMgZG9lc24ndCBjcmVhdGUgYW55IG90aGVyIHNpZGUtZWZmZWN0XG4gICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGFyZSBwcmV2ZW50aW5nIGRlZmF1bHQgaW4gYG9uUG9pbnRlckRvd25gIHNvIGVmZmVjdGl2ZWx5XG4gICAgICAgICAgICAvLyB0aGlzIG9ubHkgcnVucyBmb3IgYSBsYWJlbCBcImNsaWNrXCJcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZm9jdXMoKTtcblxuICAgICAgICAgICAgLy8gT3BlbiBvbiBjbGljayB3aGVuIHVzaW5nIGEgdG91Y2ggb3IgcGVuIGRldmljZVxuICAgICAgICAgICAgaWYgKHBvaW50ZXJUeXBlUmVmLmN1cnJlbnQgIT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgICAgaGFuZGxlT3BlbihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgb25Qb2ludGVyRG93bj17Y29tcG9zZUV2ZW50SGFuZGxlcnModHJpZ2dlclByb3BzLm9uUG9pbnRlckRvd24sIChldmVudCkgPT4ge1xuICAgICAgICAgICAgcG9pbnRlclR5cGVSZWYuY3VycmVudCA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IGltcGxpY2l0IHBvaW50ZXIgY2FwdHVyZVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMzLyNpbXBsaWNpdC1wb2ludGVyLWNhcHR1cmVcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKSkge1xuICAgICAgICAgICAgICB0YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY2FsbCBoYW5kbGVyIGlmIGl0J3MgdGhlIGxlZnQgYnV0dG9uIChtb3VzZWRvd24gZ2V0cyB0cmlnZ2VyZWQgYnkgYWxsIG1vdXNlIGJ1dHRvbnMpXG4gICAgICAgICAgICAvLyBidXQgbm90IHdoZW4gdGhlIGNvbnRyb2wga2V5IGlzIHByZXNzZWQgKGF2b2lkaW5nIE1hY09TIHJpZ2h0IGNsaWNrKTsgYWxzbyBub3QgZm9yIHRvdWNoXG4gICAgICAgICAgICAvLyBkZXZpY2VzIGJlY2F1c2UgdGhhdCB3b3VsZCBvcGVuIHRoZSBtZW51IG9uIHNjcm9sbC4gKHBlbiBkZXZpY2VzIGJlaGF2ZSBhcyB0b3VjaCBvbiBpT1MpLlxuICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiBldmVudC5jdHJsS2V5ID09PSBmYWxzZSAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgICBoYW5kbGVPcGVuKGV2ZW50KTtcbiAgICAgICAgICAgICAgLy8gcHJldmVudCB0cmlnZ2VyIGZyb20gc3RlYWxpbmcgZm9jdXMgZnJvbSB0aGUgYWN0aXZlIGl0ZW0gYWZ0ZXIgb3BlbmluZy5cbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KX1cbiAgICAgICAgICBvbktleURvd249e2NvbXBvc2VFdmVudEhhbmRsZXJzKHRyaWdnZXJQcm9wcy5vbktleURvd24sIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNUeXBpbmdBaGVhZCA9IHNlYXJjaFJlZi5jdXJyZW50ICE9PSAnJztcbiAgICAgICAgICAgIGNvbnN0IGlzTW9kaWZpZXJLZXkgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5tZXRhS2V5O1xuICAgICAgICAgICAgaWYgKCFpc01vZGlmaWVyS2V5ICYmIGV2ZW50LmtleS5sZW5ndGggPT09IDEpIGhhbmRsZVR5cGVhaGVhZFNlYXJjaChldmVudC5rZXkpO1xuICAgICAgICAgICAgaWYgKGlzVHlwaW5nQWhlYWQgJiYgZXZlbnQua2V5ID09PSAnICcpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChPUEVOX0tFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkge1xuICAgICAgICAgICAgICBoYW5kbGVPcGVuKCk7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSl9XG4gICAgICAgIC8+XG4gICAgICA8L1BvcHBlclByaW1pdGl2ZS5BbmNob3I+XG4gICAgKTtcbiAgfVxuKTtcblxuU2VsZWN0VHJpZ2dlci5kaXNwbGF5TmFtZSA9IFRSSUdHRVJfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VsZWN0VmFsdWVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgVkFMVUVfTkFNRSA9ICdTZWxlY3RWYWx1ZSc7XG5cbnR5cGUgU2VsZWN0VmFsdWVFbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLnNwYW4+O1xudHlwZSBQcmltaXRpdmVTcGFuUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5zcGFuPjtcbmludGVyZmFjZSBTZWxlY3RWYWx1ZVByb3BzIGV4dGVuZHMgT21pdDxQcmltaXRpdmVTcGFuUHJvcHMsICdwbGFjZWhvbGRlcic+IHtcbiAgcGxhY2Vob2xkZXI/OiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmNvbnN0IFNlbGVjdFZhbHVlID0gUmVhY3QuZm9yd2FyZFJlZjxTZWxlY3RWYWx1ZUVsZW1lbnQsIFNlbGVjdFZhbHVlUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdFZhbHVlUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICAvLyBXZSBpZ25vcmUgYGNsYXNzTmFtZWAgYW5kIGBzdHlsZWAgYXMgdGhpcyBwYXJ0IHNob3VsZG4ndCBiZSBzdHlsZWQuXG4gICAgY29uc3QgeyBfX3Njb3BlU2VsZWN0LCBjbGFzc05hbWUsIHN0eWxlLCBjaGlsZHJlbiwgcGxhY2Vob2xkZXIgPSAnJywgLi4udmFsdWVQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoVkFMVUVfTkFNRSwgX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgeyBvblZhbHVlTm9kZUhhc0NoaWxkcmVuQ2hhbmdlIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IGhhc0NoaWxkcmVuID0gY2hpbGRyZW4gIT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCBjb250ZXh0Lm9uVmFsdWVOb2RlQ2hhbmdlKTtcblxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBvblZhbHVlTm9kZUhhc0NoaWxkcmVuQ2hhbmdlKGhhc0NoaWxkcmVuKTtcbiAgICB9LCBbb25WYWx1ZU5vZGVIYXNDaGlsZHJlbkNoYW5nZSwgaGFzQ2hpbGRyZW5dKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8UHJpbWl0aXZlLnNwYW5cbiAgICAgICAgey4uLnZhbHVlUHJvcHN9XG4gICAgICAgIHJlZj17Y29tcG9zZWRSZWZzfVxuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IGV2ZW50cyBmcm9tIHRoZSBwb3J0YWxsZWQgYFNlbGVjdFZhbHVlYCBjaGlsZHJlbiB0byBidWJibGVcbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgaXRlbSB0aGV5IGNhbWUgZnJvbVxuICAgICAgICBzdHlsZT17eyBwb2ludGVyRXZlbnRzOiAnbm9uZScgfX1cbiAgICAgID5cbiAgICAgICAge3Nob3VsZFNob3dQbGFjZWhvbGRlcihjb250ZXh0LnZhbHVlKSA/IDw+e3BsYWNlaG9sZGVyfTwvPiA6IGNoaWxkcmVufVxuICAgICAgPC9QcmltaXRpdmUuc3Bhbj5cbiAgICApO1xuICB9XG4pO1xuXG5TZWxlY3RWYWx1ZS5kaXNwbGF5TmFtZSA9IFZBTFVFX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNlbGVjdEljb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgSUNPTl9OQU1FID0gJ1NlbGVjdEljb24nO1xuXG50eXBlIFNlbGVjdEljb25FbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLnNwYW4+O1xuaW50ZXJmYWNlIFNlbGVjdEljb25Qcm9wcyBleHRlbmRzIFByaW1pdGl2ZVNwYW5Qcm9wcyB7fVxuXG5jb25zdCBTZWxlY3RJY29uID0gUmVhY3QuZm9yd2FyZFJlZjxTZWxlY3RJY29uRWxlbWVudCwgU2VsZWN0SWNvblByb3BzPihcbiAgKHByb3BzOiBTY29wZWRQcm9wczxTZWxlY3RJY29uUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIGNoaWxkcmVuLCAuLi5pY29uUHJvcHMgfSA9IHByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8UHJpbWl0aXZlLnNwYW4gYXJpYS1oaWRkZW4gey4uLmljb25Qcm9wc30gcmVmPXtmb3J3YXJkZWRSZWZ9PlxuICAgICAgICB7Y2hpbGRyZW4gfHwgJ1x1MjVCQyd9XG4gICAgICA8L1ByaW1pdGl2ZS5zcGFuPlxuICAgICk7XG4gIH1cbik7XG5cblNlbGVjdEljb24uZGlzcGxheU5hbWUgPSBJQ09OX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNlbGVjdFBvcnRhbFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBQT1JUQUxfTkFNRSA9ICdTZWxlY3RQb3J0YWwnO1xuXG50eXBlIFBvcnRhbFByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQb3J0YWxQcmltaXRpdmU+O1xuaW50ZXJmYWNlIFNlbGVjdFBvcnRhbFByb3BzIHtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIC8qKlxuICAgKiBTcGVjaWZ5IGEgY29udGFpbmVyIGVsZW1lbnQgdG8gcG9ydGFsIHRoZSBjb250ZW50IGludG8uXG4gICAqL1xuICBjb250YWluZXI/OiBQb3J0YWxQcm9wc1snY29udGFpbmVyJ107XG59XG5cbmNvbnN0IFNlbGVjdFBvcnRhbDogUmVhY3QuRkM8U2VsZWN0UG9ydGFsUHJvcHM+ID0gKHByb3BzOiBTY29wZWRQcm9wczxTZWxlY3RQb3J0YWxQcm9wcz4pID0+IHtcbiAgcmV0dXJuIDxQb3J0YWxQcmltaXRpdmUgYXNDaGlsZCB7Li4ucHJvcHN9IC8+O1xufTtcblxuU2VsZWN0UG9ydGFsLmRpc3BsYXlOYW1lID0gUE9SVEFMX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNlbGVjdENvbnRlbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgQ09OVEVOVF9OQU1FID0gJ1NlbGVjdENvbnRlbnQnO1xuXG50eXBlIFNlbGVjdENvbnRlbnRFbGVtZW50ID0gU2VsZWN0Q29udGVudEltcGxFbGVtZW50O1xuaW50ZXJmYWNlIFNlbGVjdENvbnRlbnRQcm9wcyBleHRlbmRzIFNlbGVjdENvbnRlbnRJbXBsUHJvcHMge31cblxuY29uc3QgU2VsZWN0Q29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8U2VsZWN0Q29udGVudEVsZW1lbnQsIFNlbGVjdENvbnRlbnRQcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8U2VsZWN0Q29udGVudFByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlU2VsZWN0KTtcbiAgICBjb25zdCBbZnJhZ21lbnQsIHNldEZyYWdtZW50XSA9IFJlYWN0LnVzZVN0YXRlPERvY3VtZW50RnJhZ21lbnQ+KCk7XG5cbiAgICAvLyBzZXR0aW5nIHRoZSBmcmFnbWVudCBpbiBgdXNlTGF5b3V0RWZmZWN0YCBhcyBgRG9jdW1lbnRGcmFnbWVudGAgZG9lc24ndCBleGlzdCBvbiB0aGUgc2VydmVyXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIHNldEZyYWdtZW50KG5ldyBEb2N1bWVudEZyYWdtZW50KCkpO1xuICAgIH0sIFtdKTtcblxuICAgIGlmICghY29udGV4dC5vcGVuKSB7XG4gICAgICBjb25zdCBmcmFnID0gZnJhZ21lbnQgYXMgRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBmcmFnXG4gICAgICAgID8gUmVhY3RET00uY3JlYXRlUG9ydGFsKFxuICAgICAgICAgICAgPFNlbGVjdENvbnRlbnRQcm92aWRlciBzY29wZT17cHJvcHMuX19zY29wZVNlbGVjdH0+XG4gICAgICAgICAgICAgIDxDb2xsZWN0aW9uLlNsb3Qgc2NvcGU9e3Byb3BzLl9fc2NvcGVTZWxlY3R9PlxuICAgICAgICAgICAgICAgIDxkaXY+e3Byb3BzLmNoaWxkcmVufTwvZGl2PlxuICAgICAgICAgICAgICA8L0NvbGxlY3Rpb24uU2xvdD5cbiAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudFByb3ZpZGVyPixcbiAgICAgICAgICAgIGZyYWdcbiAgICAgICAgICApXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gPFNlbGVjdENvbnRlbnRJbXBsIHsuLi5wcm9wc30gcmVmPXtmb3J3YXJkZWRSZWZ9IC8+O1xuICB9XG4pO1xuXG5TZWxlY3RDb250ZW50LmRpc3BsYXlOYW1lID0gQ09OVEVOVF9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3RDb250ZW50SW1wbFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBDT05URU5UX01BUkdJTiA9IDEwO1xuXG50eXBlIFNlbGVjdENvbnRlbnRDb250ZXh0VmFsdWUgPSB7XG4gIGNvbnRlbnQ/OiBTZWxlY3RDb250ZW50RWxlbWVudCB8IG51bGw7XG4gIHZpZXdwb3J0PzogU2VsZWN0Vmlld3BvcnRFbGVtZW50IHwgbnVsbDtcbiAgb25WaWV3cG9ydENoYW5nZT86IChub2RlOiBTZWxlY3RWaWV3cG9ydEVsZW1lbnQgfCBudWxsKSA9PiB2b2lkO1xuICBpdGVtUmVmQ2FsbGJhY2s/OiAobm9kZTogU2VsZWN0SXRlbUVsZW1lbnQgfCBudWxsLCB2YWx1ZTogc3RyaW5nLCBkaXNhYmxlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2VsZWN0ZWRJdGVtPzogU2VsZWN0SXRlbUVsZW1lbnQgfCBudWxsO1xuICBvbkl0ZW1MZWF2ZT86ICgpID0+IHZvaWQ7XG4gIGl0ZW1UZXh0UmVmQ2FsbGJhY2s/OiAoXG4gICAgbm9kZTogU2VsZWN0SXRlbVRleHRFbGVtZW50IHwgbnVsbCxcbiAgICB2YWx1ZTogc3RyaW5nLFxuICAgIGRpc2FibGVkOiBib29sZWFuXG4gICkgPT4gdm9pZDtcbiAgZm9jdXNTZWxlY3RlZEl0ZW0/OiAoKSA9PiB2b2lkO1xuICBzZWxlY3RlZEl0ZW1UZXh0PzogU2VsZWN0SXRlbVRleHRFbGVtZW50IHwgbnVsbDtcbiAgcG9zaXRpb24/OiBTZWxlY3RDb250ZW50UHJvcHNbJ3Bvc2l0aW9uJ107XG4gIGlzUG9zaXRpb25lZD86IGJvb2xlYW47XG4gIHNlYXJjaFJlZj86IFJlYWN0LlJlZk9iamVjdDxzdHJpbmc+O1xufTtcblxuY29uc3QgW1NlbGVjdENvbnRlbnRQcm92aWRlciwgdXNlU2VsZWN0Q29udGVudENvbnRleHRdID1cbiAgY3JlYXRlU2VsZWN0Q29udGV4dDxTZWxlY3RDb250ZW50Q29udGV4dFZhbHVlPihDT05URU5UX05BTUUpO1xuXG5jb25zdCBDT05URU5UX0lNUExfTkFNRSA9ICdTZWxlY3RDb250ZW50SW1wbCc7XG5cbnR5cGUgU2VsZWN0Q29udGVudEltcGxFbGVtZW50ID0gU2VsZWN0UG9wcGVyUG9zaXRpb25FbGVtZW50IHwgU2VsZWN0SXRlbUFsaWduZWRQb3NpdGlvbkVsZW1lbnQ7XG50eXBlIERpc21pc3NhYmxlTGF5ZXJQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRGlzbWlzc2FibGVMYXllcj47XG50eXBlIEZvY3VzU2NvcGVQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRm9jdXNTY29wZT47XG5cbnR5cGUgU2VsZWN0UG9wcGVyUHJpdmF0ZVByb3BzID0geyBvblBsYWNlZD86IFBvcHBlckNvbnRlbnRQcm9wc1snb25QbGFjZWQnXSB9O1xuXG5pbnRlcmZhY2UgU2VsZWN0Q29udGVudEltcGxQcm9wc1xuICBleHRlbmRzIE9taXQ8U2VsZWN0UG9wcGVyUG9zaXRpb25Qcm9wcywga2V5b2YgU2VsZWN0UG9wcGVyUHJpdmF0ZVByb3BzPixcbiAgICBPbWl0PFNlbGVjdEl0ZW1BbGlnbmVkUG9zaXRpb25Qcm9wcywga2V5b2YgU2VsZWN0UG9wcGVyUHJpdmF0ZVByb3BzPiB7XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGNhbGxlZCB3aGVuIGF1dG8tZm9jdXNpbmcgb24gY2xvc2UuXG4gICAqIENhbiBiZSBwcmV2ZW50ZWQuXG4gICAqL1xuICBvbkNsb3NlQXV0b0ZvY3VzPzogRm9jdXNTY29wZVByb3BzWydvblVubW91bnRBdXRvRm9jdXMnXTtcbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgY2FsbGVkIHdoZW4gdGhlIGVzY2FwZSBrZXkgaXMgZG93bi5cbiAgICogQ2FuIGJlIHByZXZlbnRlZC5cbiAgICovXG4gIG9uRXNjYXBlS2V5RG93bj86IERpc21pc3NhYmxlTGF5ZXJQcm9wc1snb25Fc2NhcGVLZXlEb3duJ107XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGNhbGxlZCB3aGVuIHRoZSBhIGBwb2ludGVyZG93bmAgZXZlbnQgaGFwcGVucyBvdXRzaWRlIG9mIHRoZSBgRGlzbWlzc2FibGVMYXllcmAuXG4gICAqIENhbiBiZSBwcmV2ZW50ZWQuXG4gICAqL1xuICBvblBvaW50ZXJEb3duT3V0c2lkZT86IERpc21pc3NhYmxlTGF5ZXJQcm9wc1snb25Qb2ludGVyRG93bk91dHNpZGUnXTtcblxuICBwb3NpdGlvbj86ICdpdGVtLWFsaWduZWQnIHwgJ3BvcHBlcic7XG59XG5cbmNvbnN0IFNlbGVjdENvbnRlbnRJbXBsID0gUmVhY3QuZm9yd2FyZFJlZjxTZWxlY3RDb250ZW50SW1wbEVsZW1lbnQsIFNlbGVjdENvbnRlbnRJbXBsUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdENvbnRlbnRJbXBsUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBfX3Njb3BlU2VsZWN0LFxuICAgICAgcG9zaXRpb24gPSAnaXRlbS1hbGlnbmVkJyxcbiAgICAgIG9uQ2xvc2VBdXRvRm9jdXMsXG4gICAgICBvbkVzY2FwZUtleURvd24sXG4gICAgICBvblBvaW50ZXJEb3duT3V0c2lkZSxcbiAgICAgIC8vXG4gICAgICAvLyBQb3BwZXJDb250ZW50IHByb3BzXG4gICAgICBzaWRlLFxuICAgICAgc2lkZU9mZnNldCxcbiAgICAgIGFsaWduLFxuICAgICAgYWxpZ25PZmZzZXQsXG4gICAgICBhcnJvd1BhZGRpbmcsXG4gICAgICBjb2xsaXNpb25Cb3VuZGFyeSxcbiAgICAgIGNvbGxpc2lvblBhZGRpbmcsXG4gICAgICBzdGlja3ksXG4gICAgICBoaWRlV2hlbkRldGFjaGVkLFxuICAgICAgYXZvaWRDb2xsaXNpb25zLFxuICAgICAgLy9cbiAgICAgIC4uLmNvbnRlbnRQcm9wc1xuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlU2VsZWN0Q29udGV4dChDT05URU5UX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IFtjb250ZW50LCBzZXRDb250ZW50XSA9IFJlYWN0LnVzZVN0YXRlPFNlbGVjdENvbnRlbnRJbXBsRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFt2aWV3cG9ydCwgc2V0Vmlld3BvcnRdID0gUmVhY3QudXNlU3RhdGU8U2VsZWN0Vmlld3BvcnRFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgKG5vZGUpID0+IHNldENvbnRlbnQobm9kZSkpO1xuICAgIGNvbnN0IFtzZWxlY3RlZEl0ZW0sIHNldFNlbGVjdGVkSXRlbV0gPSBSZWFjdC51c2VTdGF0ZTxTZWxlY3RJdGVtRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtzZWxlY3RlZEl0ZW1UZXh0LCBzZXRTZWxlY3RlZEl0ZW1UZXh0XSA9IFJlYWN0LnVzZVN0YXRlPFNlbGVjdEl0ZW1UZXh0RWxlbWVudCB8IG51bGw+KFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgY29uc3QgZ2V0SXRlbXMgPSB1c2VDb2xsZWN0aW9uKF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IFtpc1Bvc2l0aW9uZWQsIHNldElzUG9zaXRpb25lZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgZmlyc3RWYWxpZEl0ZW1Gb3VuZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG5cbiAgICAvLyBhcmlhLWhpZGUgZXZlcnl0aGluZyBleGNlcHQgdGhlIGNvbnRlbnQgKGJldHRlciBzdXBwb3J0ZWQgZXF1aXZhbGVudCB0byBzZXR0aW5nIGFyaWEtbW9kYWwpXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb250ZW50KSByZXR1cm4gaGlkZU90aGVycyhjb250ZW50KTtcbiAgICB9LCBbY29udGVudF0pO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSB3aG9sZSB0cmVlIGhhcyBmb2N1cyBndWFyZHMgYXMgb3VyIGBTZWxlY3RgIG1heSBiZVxuICAgIC8vIHRoZSBsYXN0IGVsZW1lbnQgaW4gdGhlIERPTSAoYmVjYXVzZSBvZiB0aGUgYFBvcnRhbGApXG4gICAgdXNlRm9jdXNHdWFyZHMoKTtcblxuICAgIGNvbnN0IGZvY3VzRmlyc3QgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgIChjYW5kaWRhdGVzOiBBcnJheTxIVE1MRWxlbWVudCB8IG51bGw+KSA9PiB7XG4gICAgICAgIGNvbnN0IFtmaXJzdEl0ZW0sIC4uLnJlc3RJdGVtc10gPSBnZXRJdGVtcygpLm1hcCgoaXRlbSkgPT4gaXRlbS5yZWYuY3VycmVudCk7XG4gICAgICAgIGNvbnN0IFtsYXN0SXRlbV0gPSByZXN0SXRlbXMuc2xpY2UoLTEpO1xuXG4gICAgICAgIGNvbnN0IFBSRVZJT1VTTFlfRk9DVVNFRF9FTEVNRU5UID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuICAgICAgICAgIC8vIGlmIGZvY3VzIGlzIGFscmVhZHkgd2hlcmUgd2Ugd2FudCB0byBnbywgd2UgZG9uJ3Qgd2FudCB0byBrZWVwIGdvaW5nIHRocm91Z2ggdGhlIGNhbmRpZGF0ZXNcbiAgICAgICAgICBpZiAoY2FuZGlkYXRlID09PSBQUkVWSU9VU0xZX0ZPQ1VTRURfRUxFTUVOVCkgcmV0dXJuO1xuICAgICAgICAgIGNhbmRpZGF0ZT8uc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogJ25lYXJlc3QnIH0pO1xuICAgICAgICAgIC8vIHZpZXdwb3J0IG1pZ2h0IGhhdmUgcGFkZGluZyBzbyBzY3JvbGwgdG8gaXRzIGVkZ2VzIHdoZW4gZm9jdXNpbmcgZmlyc3QvbGFzdCBpdGVtcy5cbiAgICAgICAgICBpZiAoY2FuZGlkYXRlID09PSBmaXJzdEl0ZW0gJiYgdmlld3BvcnQpIHZpZXdwb3J0LnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgaWYgKGNhbmRpZGF0ZSA9PT0gbGFzdEl0ZW0gJiYgdmlld3BvcnQpIHZpZXdwb3J0LnNjcm9sbFRvcCA9IHZpZXdwb3J0LnNjcm9sbEhlaWdodDtcbiAgICAgICAgICBjYW5kaWRhdGU/LmZvY3VzKCk7XG4gICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IFBSRVZJT1VTTFlfRk9DVVNFRF9FTEVNRU5UKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbZ2V0SXRlbXMsIHZpZXdwb3J0XVxuICAgICk7XG5cbiAgICBjb25zdCBmb2N1c1NlbGVjdGVkSXRlbSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICAgKCkgPT4gZm9jdXNGaXJzdChbc2VsZWN0ZWRJdGVtLCBjb250ZW50XSksXG4gICAgICBbZm9jdXNGaXJzdCwgc2VsZWN0ZWRJdGVtLCBjb250ZW50XVxuICAgICk7XG5cbiAgICAvLyBTaW5jZSB0aGlzIGlzIG5vdCBkZXBlbmRlbnQgb24gbGF5b3V0LCB3ZSB3YW50IHRvIGVuc3VyZSB0aGlzIHJ1bnMgYXQgdGhlIHNhbWUgdGltZSBhc1xuICAgIC8vIG90aGVyIGVmZmVjdHMgYWNyb3NzIGNvbXBvbmVudHMuIEhlbmNlIHdoeSB3ZSBkb24ndCBjYWxsIGBmb2N1c1NlbGVjdGVkSXRlbWAgaW5zaWRlIGBwb3NpdGlvbmAuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChpc1Bvc2l0aW9uZWQpIHtcbiAgICAgICAgZm9jdXNTZWxlY3RlZEl0ZW0oKTtcbiAgICAgIH1cbiAgICB9LCBbaXNQb3NpdGlvbmVkLCBmb2N1c1NlbGVjdGVkSXRlbV0pO1xuXG4gICAgLy8gcHJldmVudCBzZWxlY3RpbmcgaXRlbXMgb24gYHBvaW50ZXJ1cGAgaW4gc29tZSBjYXNlcyBhZnRlciBvcGVuaW5nIGZyb20gYHBvaW50ZXJkb3duYFxuICAgIC8vIGFuZCBjbG9zZSBvbiBgcG9pbnRlcnVwYCBvdXRzaWRlLlxuICAgIGNvbnN0IHsgb25PcGVuQ2hhbmdlLCB0cmlnZ2VyUG9pbnRlckRvd25Qb3NSZWYgfSA9IGNvbnRleHQ7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIGxldCBwb2ludGVyTW92ZURlbHRhID0geyB4OiAwLCB5OiAwIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICAgIHBvaW50ZXJNb3ZlRGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBNYXRoLmFicyhNYXRoLnJvdW5kKGV2ZW50LnBhZ2VYKSAtICh0cmlnZ2VyUG9pbnRlckRvd25Qb3NSZWYuY3VycmVudD8ueCA/PyAwKSksXG4gICAgICAgICAgICB5OiBNYXRoLmFicyhNYXRoLnJvdW5kKGV2ZW50LnBhZ2VZKSAtICh0cmlnZ2VyUG9pbnRlckRvd25Qb3NSZWYuY3VycmVudD8ueSA/PyAwKSksXG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgICAgICAvLyBJZiB0aGUgcG9pbnRlciBoYXNuJ3QgbW92ZWQgYnkgYSBjZXJ0YWluIHRocmVzaG9sZCB0aGVuIHdlIHByZXZlbnQgc2VsZWN0aW5nIGl0ZW0gb24gYHBvaW50ZXJ1cGAuXG4gICAgICAgICAgaWYgKHBvaW50ZXJNb3ZlRGVsdGEueCA8PSAxMCAmJiBwb2ludGVyTW92ZURlbHRhLnkgPD0gMTApIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgaWYgdGhlIGV2ZW50IHdhcyBvdXRzaWRlIHRoZSBjb250ZW50LCBjbG9zZS5cbiAgICAgICAgICAgIGlmICghY29udGVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgIG9uT3BlbkNoYW5nZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgICAgIHRyaWdnZXJQb2ludGVyRG93blBvc1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHJpZ2dlclBvaW50ZXJEb3duUG9zUmVmLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBoYW5kbGVQb2ludGVyVXAsIHsgY2FwdHVyZTogdHJ1ZSwgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgW2NvbnRlbnQsIG9uT3BlbkNoYW5nZSwgdHJpZ2dlclBvaW50ZXJEb3duUG9zUmVmXSk7XG5cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgY2xvc2UgPSAoKSA9PiBvbk9wZW5DaGFuZ2UoZmFsc2UpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBjbG9zZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgY2xvc2UpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBjbG9zZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBjbG9zZSk7XG4gICAgICB9O1xuICAgIH0sIFtvbk9wZW5DaGFuZ2VdKTtcblxuICAgIGNvbnN0IFtzZWFyY2hSZWYsIGhhbmRsZVR5cGVhaGVhZFNlYXJjaF0gPSB1c2VUeXBlYWhlYWRTZWFyY2goKHNlYXJjaCkgPT4ge1xuICAgICAgY29uc3QgZW5hYmxlZEl0ZW1zID0gZ2V0SXRlbXMoKS5maWx0ZXIoKGl0ZW0pID0+ICFpdGVtLmRpc2FibGVkKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gZW5hYmxlZEl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0ucmVmLmN1cnJlbnQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgICAgY29uc3QgbmV4dEl0ZW0gPSBmaW5kTmV4dEl0ZW0oZW5hYmxlZEl0ZW1zLCBzZWFyY2gsIGN1cnJlbnRJdGVtKTtcbiAgICAgIGlmIChuZXh0SXRlbSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW1wZXJhdGl2ZSBmb2N1cyBkdXJpbmcga2V5ZG93biBpcyByaXNreSBzbyB3ZSBwcmV2ZW50IFJlYWN0J3MgYmF0Y2hpbmcgdXBkYXRlc1xuICAgICAgICAgKiB0byBhdm9pZCBwb3RlbnRpYWwgYnVncy4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzIwMzMyXG4gICAgICAgICAqL1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IChuZXh0SXRlbS5yZWYuY3VycmVudCBhcyBIVE1MRWxlbWVudCkuZm9jdXMoKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBpdGVtUmVmQ2FsbGJhY2sgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgIChub2RlOiBTZWxlY3RJdGVtRWxlbWVudCB8IG51bGwsIHZhbHVlOiBzdHJpbmcsIGRpc2FibGVkOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRmlyc3RWYWxpZEl0ZW0gPSAhZmlyc3RWYWxpZEl0ZW1Gb3VuZFJlZi5jdXJyZW50ICYmICFkaXNhYmxlZDtcbiAgICAgICAgY29uc3QgaXNTZWxlY3RlZEl0ZW0gPSBjb250ZXh0LnZhbHVlICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC52YWx1ZSA9PT0gdmFsdWU7XG4gICAgICAgIGlmIChpc1NlbGVjdGVkSXRlbSB8fCBpc0ZpcnN0VmFsaWRJdGVtKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKG5vZGUpO1xuICAgICAgICAgIGlmIChpc0ZpcnN0VmFsaWRJdGVtKSBmaXJzdFZhbGlkSXRlbUZvdW5kUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2NvbnRleHQudmFsdWVdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVJdGVtTGVhdmUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBjb250ZW50Py5mb2N1cygpLCBbY29udGVudF0pO1xuICAgIGNvbnN0IGl0ZW1UZXh0UmVmQ2FsbGJhY2sgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgIChub2RlOiBTZWxlY3RJdGVtVGV4dEVsZW1lbnQgfCBudWxsLCB2YWx1ZTogc3RyaW5nLCBkaXNhYmxlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICBjb25zdCBpc0ZpcnN0VmFsaWRJdGVtID0gIWZpcnN0VmFsaWRJdGVtRm91bmRSZWYuY3VycmVudCAmJiAhZGlzYWJsZWQ7XG4gICAgICAgIGNvbnN0IGlzU2VsZWN0ZWRJdGVtID0gY29udGV4dC52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIGNvbnRleHQudmFsdWUgPT09IHZhbHVlO1xuICAgICAgICBpZiAoaXNTZWxlY3RlZEl0ZW0gfHwgaXNGaXJzdFZhbGlkSXRlbSkge1xuICAgICAgICAgIHNldFNlbGVjdGVkSXRlbVRleHQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbY29udGV4dC52YWx1ZV1cbiAgICApO1xuXG4gICAgY29uc3QgU2VsZWN0UG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gJ3BvcHBlcicgPyBTZWxlY3RQb3BwZXJQb3NpdGlvbiA6IFNlbGVjdEl0ZW1BbGlnbmVkUG9zaXRpb247XG5cbiAgICAvLyBTaWxlbnRseSBpZ25vcmUgcHJvcHMgdGhhdCBhcmUgbm90IHN1cHBvcnRlZCBieSBgU2VsZWN0SXRlbUFsaWduZWRQb3NpdGlvbmBcbiAgICBjb25zdCBwb3BwZXJDb250ZW50UHJvcHMgPVxuICAgICAgU2VsZWN0UG9zaXRpb24gPT09IFNlbGVjdFBvcHBlclBvc2l0aW9uXG4gICAgICAgID8ge1xuICAgICAgICAgICAgc2lkZSxcbiAgICAgICAgICAgIHNpZGVPZmZzZXQsXG4gICAgICAgICAgICBhbGlnbixcbiAgICAgICAgICAgIGFsaWduT2Zmc2V0LFxuICAgICAgICAgICAgYXJyb3dQYWRkaW5nLFxuICAgICAgICAgICAgY29sbGlzaW9uQm91bmRhcnksXG4gICAgICAgICAgICBjb2xsaXNpb25QYWRkaW5nLFxuICAgICAgICAgICAgc3RpY2t5LFxuICAgICAgICAgICAgaGlkZVdoZW5EZXRhY2hlZCxcbiAgICAgICAgICAgIGF2b2lkQ29sbGlzaW9ucyxcbiAgICAgICAgICB9XG4gICAgICAgIDoge307XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFNlbGVjdENvbnRlbnRQcm92aWRlclxuICAgICAgICBzY29wZT17X19zY29wZVNlbGVjdH1cbiAgICAgICAgY29udGVudD17Y29udGVudH1cbiAgICAgICAgdmlld3BvcnQ9e3ZpZXdwb3J0fVxuICAgICAgICBvblZpZXdwb3J0Q2hhbmdlPXtzZXRWaWV3cG9ydH1cbiAgICAgICAgaXRlbVJlZkNhbGxiYWNrPXtpdGVtUmVmQ2FsbGJhY2t9XG4gICAgICAgIHNlbGVjdGVkSXRlbT17c2VsZWN0ZWRJdGVtfVxuICAgICAgICBvbkl0ZW1MZWF2ZT17aGFuZGxlSXRlbUxlYXZlfVxuICAgICAgICBpdGVtVGV4dFJlZkNhbGxiYWNrPXtpdGVtVGV4dFJlZkNhbGxiYWNrfVxuICAgICAgICBmb2N1c1NlbGVjdGVkSXRlbT17Zm9jdXNTZWxlY3RlZEl0ZW19XG4gICAgICAgIHNlbGVjdGVkSXRlbVRleHQ9e3NlbGVjdGVkSXRlbVRleHR9XG4gICAgICAgIHBvc2l0aW9uPXtwb3NpdGlvbn1cbiAgICAgICAgaXNQb3NpdGlvbmVkPXtpc1Bvc2l0aW9uZWR9XG4gICAgICAgIHNlYXJjaFJlZj17c2VhcmNoUmVmfVxuICAgICAgPlxuICAgICAgICA8UmVtb3ZlU2Nyb2xsIGFzPXtTbG90fSBhbGxvd1BpbmNoWm9vbT5cbiAgICAgICAgICA8Rm9jdXNTY29wZVxuICAgICAgICAgICAgYXNDaGlsZFxuICAgICAgICAgICAgLy8gd2UgbWFrZSBzdXJlIHdlJ3JlIG5vdCB0cmFwcGluZyBvbmNlIGl0J3MgYmVlbiBjbG9zZWRcbiAgICAgICAgICAgIC8vIChjbG9zZWQgIT09IHVubW91bnRlZCB3aGVuIGFuaW1hdGluZyBvdXQpXG4gICAgICAgICAgICB0cmFwcGVkPXtjb250ZXh0Lm9wZW59XG4gICAgICAgICAgICBvbk1vdW50QXV0b0ZvY3VzPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgLy8gd2UgcHJldmVudCBvcGVuIGF1dG9mb2N1cyBiZWNhdXNlIHdlIG1hbnVhbGx5IGZvY3VzIHRoZSBzZWxlY3RlZCBpdGVtXG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Vbm1vdW50QXV0b0ZvY3VzPXtjb21wb3NlRXZlbnRIYW5kbGVycyhvbkNsb3NlQXV0b0ZvY3VzLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgY29udGV4dC50cmlnZ2VyPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RGlzbWlzc2FibGVMYXllclxuICAgICAgICAgICAgICBhc0NoaWxkXG4gICAgICAgICAgICAgIGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50c1xuICAgICAgICAgICAgICBvbkVzY2FwZUtleURvd249e29uRXNjYXBlS2V5RG93bn1cbiAgICAgICAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU9e29uUG9pbnRlckRvd25PdXRzaWRlfVxuICAgICAgICAgICAgICAvLyBXaGVuIGZvY3VzIGlzIHRyYXBwZWQsIGEgZm9jdXNvdXQgZXZlbnQgbWF5IHN0aWxsIGhhcHBlbi5cbiAgICAgICAgICAgICAgLy8gV2UgbWFrZSBzdXJlIHdlIGRvbid0IHRyaWdnZXIgb3VyIGBvbkRpc21pc3NgIGluIHN1Y2ggY2FzZS5cbiAgICAgICAgICAgICAgb25Gb2N1c091dHNpZGU9eyhldmVudCkgPT4gZXZlbnQucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICAgICAgb25EaXNtaXNzPXsoKSA9PiBjb250ZXh0Lm9uT3BlbkNoYW5nZShmYWxzZSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTZWxlY3RQb3NpdGlvblxuICAgICAgICAgICAgICAgIHJvbGU9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgICAgICBpZD17Y29udGV4dC5jb250ZW50SWR9XG4gICAgICAgICAgICAgICAgZGF0YS1zdGF0ZT17Y29udGV4dC5vcGVuID8gJ29wZW4nIDogJ2Nsb3NlZCd9XG4gICAgICAgICAgICAgICAgZGlyPXtjb250ZXh0LmRpcn1cbiAgICAgICAgICAgICAgICBvbkNvbnRleHRNZW51PXsoZXZlbnQpID0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCl9XG4gICAgICAgICAgICAgICAgey4uLmNvbnRlbnRQcm9wc31cbiAgICAgICAgICAgICAgICB7Li4ucG9wcGVyQ29udGVudFByb3BzfVxuICAgICAgICAgICAgICAgIG9uUGxhY2VkPXsoKSA9PiBzZXRJc1Bvc2l0aW9uZWQodHJ1ZSl9XG4gICAgICAgICAgICAgICAgcmVmPXtjb21wb3NlZFJlZnN9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIC8vIGZsZXggbGF5b3V0IHNvIHdlIGNhbiBwbGFjZSB0aGUgc2Nyb2xsIGJ1dHRvbnMgcHJvcGVybHlcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIG91dGxpbmUgYnkgZGVmYXVsdCBhcyB0aGUgY29udGVudCBNQVkgZ2V0IGZvY3VzZWRcbiAgICAgICAgICAgICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgIC4uLmNvbnRlbnRQcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17Y29tcG9zZUV2ZW50SGFuZGxlcnMoY29udGVudFByb3BzLm9uS2V5RG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpc01vZGlmaWVyS2V5ID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQubWV0YUtleTtcblxuICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0IHNob3VsZCBub3QgYmUgbmF2aWdhdGVkIHVzaW5nIHRhYiBrZXkgc28gd2UgcHJldmVudCBpdFxuICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ1RhYicpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmICghaXNNb2RpZmllcktleSAmJiBldmVudC5rZXkubGVuZ3RoID09PSAxKSBoYW5kbGVUeXBlYWhlYWRTZWFyY2goZXZlbnQua2V5KTtcblxuICAgICAgICAgICAgICAgICAgaWYgKFsnQXJyb3dVcCcsICdBcnJvd0Rvd24nLCAnSG9tZScsICdFbmQnXS5pbmNsdWRlcyhldmVudC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gZ2V0SXRlbXMoKS5maWx0ZXIoKGl0ZW0pID0+ICFpdGVtLmRpc2FibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbmRpZGF0ZU5vZGVzID0gaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnJlZi5jdXJyZW50ISk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKFsnQXJyb3dVcCcsICdFbmQnXS5pbmNsdWRlcyhldmVudC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlTm9kZXMgPSBjYW5kaWRhdGVOb2Rlcy5zbGljZSgpLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoWydBcnJvd1VwJywgJ0Fycm93RG93biddLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBTZWxlY3RJdGVtRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBjYW5kaWRhdGVOb2Rlcy5pbmRleE9mKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVOb2RlcyA9IGNhbmRpZGF0ZU5vZGVzLnNsaWNlKGN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEltcGVyYXRpdmUgZm9jdXMgZHVyaW5nIGtleWRvd24gaXMgcmlza3kgc28gd2UgcHJldmVudCBSZWFjdCdzIGJhdGNoaW5nIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICAgICAgICogdG8gYXZvaWQgcG90ZW50aWFsIGJ1Z3MuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8yMDMzMlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBmb2N1c0ZpcnN0KGNhbmRpZGF0ZU5vZGVzKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRGlzbWlzc2FibGVMYXllcj5cbiAgICAgICAgICA8L0ZvY3VzU2NvcGU+XG4gICAgICAgIDwvUmVtb3ZlU2Nyb2xsPlxuICAgICAgPC9TZWxlY3RDb250ZW50UHJvdmlkZXI+XG4gICAgKTtcbiAgfVxuKTtcblxuU2VsZWN0Q29udGVudEltcGwuZGlzcGxheU5hbWUgPSBDT05URU5UX0lNUExfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VsZWN0SXRlbUFsaWduZWRQb3NpdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBJVEVNX0FMSUdORURfUE9TSVRJT05fTkFNRSA9ICdTZWxlY3RJdGVtQWxpZ25lZFBvc2l0aW9uJztcblxudHlwZSBTZWxlY3RJdGVtQWxpZ25lZFBvc2l0aW9uRWxlbWVudCA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuaW50ZXJmYWNlIFNlbGVjdEl0ZW1BbGlnbmVkUG9zaXRpb25Qcm9wcyBleHRlbmRzIFByaW1pdGl2ZURpdlByb3BzLCBTZWxlY3RQb3BwZXJQcml2YXRlUHJvcHMge31cblxuY29uc3QgU2VsZWN0SXRlbUFsaWduZWRQb3NpdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFNlbGVjdEl0ZW1BbGlnbmVkUG9zaXRpb25FbGVtZW50LFxuICBTZWxlY3RJdGVtQWxpZ25lZFBvc2l0aW9uUHJvcHNcbj4oKHByb3BzOiBTY29wZWRQcm9wczxTZWxlY3RJdGVtQWxpZ25lZFBvc2l0aW9uUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlU2VsZWN0LCBvblBsYWNlZCwgLi4ucG9wcGVyUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBjb250ZXh0ID0gdXNlU2VsZWN0Q29udGV4dChDT05URU5UX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICBjb25zdCBjb250ZW50Q29udGV4dCA9IHVzZVNlbGVjdENvbnRlbnRDb250ZXh0KENPTlRFTlRfTkFNRSwgX19zY29wZVNlbGVjdCk7XG4gIGNvbnN0IFtjb250ZW50V3JhcHBlciwgc2V0Q29udGVudFdyYXBwZXJdID0gUmVhY3QudXNlU3RhdGU8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gUmVhY3QudXNlU3RhdGU8U2VsZWN0SXRlbUFsaWduZWRQb3NpdGlvbkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgKG5vZGUpID0+IHNldENvbnRlbnQobm9kZSkpO1xuICBjb25zdCBnZXRJdGVtcyA9IHVzZUNvbGxlY3Rpb24oX19zY29wZVNlbGVjdCk7XG4gIGNvbnN0IHNob3VsZEV4cGFuZE9uU2Nyb2xsUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgc2hvdWxkUmVwb3NpdGlvblJlZiA9IFJlYWN0LnVzZVJlZih0cnVlKTtcblxuICBjb25zdCB7IHZpZXdwb3J0LCBzZWxlY3RlZEl0ZW0sIHNlbGVjdGVkSXRlbVRleHQsIGZvY3VzU2VsZWN0ZWRJdGVtIH0gPSBjb250ZW50Q29udGV4dDtcbiAgY29uc3QgcG9zaXRpb24gPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgY29udGV4dC50cmlnZ2VyICYmXG4gICAgICBjb250ZXh0LnZhbHVlTm9kZSAmJlxuICAgICAgY29udGVudFdyYXBwZXIgJiZcbiAgICAgIGNvbnRlbnQgJiZcbiAgICAgIHZpZXdwb3J0ICYmXG4gICAgICBzZWxlY3RlZEl0ZW0gJiZcbiAgICAgIHNlbGVjdGVkSXRlbVRleHRcbiAgICApIHtcbiAgICAgIGNvbnN0IHRyaWdnZXJSZWN0ID0gY29udGV4dC50cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gIEhvcml6b250YWwgcG9zaXRpb25pbmdcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBjb25zdCBjb250ZW50UmVjdCA9IGNvbnRlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCB2YWx1ZU5vZGVSZWN0ID0gY29udGV4dC52YWx1ZU5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBpdGVtVGV4dFJlY3QgPSBzZWxlY3RlZEl0ZW1UZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBpZiAoY29udGV4dC5kaXIgIT09ICdydGwnKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1UZXh0T2Zmc2V0ID0gaXRlbVRleHRSZWN0LmxlZnQgLSBjb250ZW50UmVjdC5sZWZ0O1xuICAgICAgICBjb25zdCBsZWZ0ID0gdmFsdWVOb2RlUmVjdC5sZWZ0IC0gaXRlbVRleHRPZmZzZXQ7XG4gICAgICAgIGNvbnN0IGxlZnREZWx0YSA9IHRyaWdnZXJSZWN0LmxlZnQgLSBsZWZ0O1xuICAgICAgICBjb25zdCBtaW5Db250ZW50V2lkdGggPSB0cmlnZ2VyUmVjdC53aWR0aCArIGxlZnREZWx0YTtcbiAgICAgICAgY29uc3QgY29udGVudFdpZHRoID0gTWF0aC5tYXgobWluQ29udGVudFdpZHRoLCBjb250ZW50UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0RWRnZSA9IHdpbmRvdy5pbm5lcldpZHRoIC0gQ09OVEVOVF9NQVJHSU47XG4gICAgICAgIGNvbnN0IGNsYW1wZWRMZWZ0ID0gY2xhbXAobGVmdCwgW1xuICAgICAgICAgIENPTlRFTlRfTUFSR0lOLFxuICAgICAgICAgIC8vIFByZXZlbnRzIHRoZSBjb250ZW50IGZyb20gZ29pbmcgb2ZmIHRoZSBzdGFydGluZyBlZGdlIG9mIHRoZVxuICAgICAgICAgIC8vIHZpZXdwb3J0LiBJdCBtYXkgc3RpbGwgZ28gb2ZmIHRoZSBlbmRpbmcgZWRnZSwgYnV0IHRoaXMgY2FuIGJlXG4gICAgICAgICAgLy8gY29udHJvbGxlZCBieSB0aGUgdXNlciBzaW5jZSB0aGV5IG1heSB3YW50IHRvIG1hbmFnZSBvdmVyZmxvdyBpbiBhXG4gICAgICAgICAgLy8gc3BlY2lmaWMgd2F5LlxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWRpeC11aS9wcmltaXRpdmVzL2lzc3Vlcy8yMDQ5XG4gICAgICAgICAgTWF0aC5tYXgoQ09OVEVOVF9NQVJHSU4sIHJpZ2h0RWRnZSAtIGNvbnRlbnRXaWR0aCksXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLm1pbldpZHRoID0gbWluQ29udGVudFdpZHRoICsgJ3B4JztcbiAgICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUubGVmdCA9IGNsYW1wZWRMZWZ0ICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGl0ZW1UZXh0T2Zmc2V0ID0gY29udGVudFJlY3QucmlnaHQgLSBpdGVtVGV4dFJlY3QucmlnaHQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggLSB2YWx1ZU5vZGVSZWN0LnJpZ2h0IC0gaXRlbVRleHRPZmZzZXQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0RGVsdGEgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHRyaWdnZXJSZWN0LnJpZ2h0IC0gcmlnaHQ7XG4gICAgICAgIGNvbnN0IG1pbkNvbnRlbnRXaWR0aCA9IHRyaWdnZXJSZWN0LndpZHRoICsgcmlnaHREZWx0YTtcbiAgICAgICAgY29uc3QgY29udGVudFdpZHRoID0gTWF0aC5tYXgobWluQ29udGVudFdpZHRoLCBjb250ZW50UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IGxlZnRFZGdlID0gd2luZG93LmlubmVyV2lkdGggLSBDT05URU5UX01BUkdJTjtcbiAgICAgICAgY29uc3QgY2xhbXBlZFJpZ2h0ID0gY2xhbXAocmlnaHQsIFtcbiAgICAgICAgICBDT05URU5UX01BUkdJTixcbiAgICAgICAgICBNYXRoLm1heChDT05URU5UX01BUkdJTiwgbGVmdEVkZ2UgLSBjb250ZW50V2lkdGgpLFxuICAgICAgICBdKTtcblxuICAgICAgICBjb250ZW50V3JhcHBlci5zdHlsZS5taW5XaWR0aCA9IG1pbkNvbnRlbnRXaWR0aCArICdweCc7XG4gICAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLnJpZ2h0ID0gY2xhbXBlZFJpZ2h0ICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIFZlcnRpY2FsIHBvc2l0aW9uaW5nXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgY29uc3QgaXRlbXMgPSBnZXRJdGVtcygpO1xuICAgICAgY29uc3QgYXZhaWxhYmxlSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gQ09OVEVOVF9NQVJHSU4gKiAyO1xuICAgICAgY29uc3QgaXRlbXNIZWlnaHQgPSB2aWV3cG9ydC5zY3JvbGxIZWlnaHQ7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnRTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjb250ZW50KTtcbiAgICAgIGNvbnN0IGNvbnRlbnRCb3JkZXJUb3BXaWR0aCA9IHBhcnNlSW50KGNvbnRlbnRTdHlsZXMuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgICAgIGNvbnN0IGNvbnRlbnRQYWRkaW5nVG9wID0gcGFyc2VJbnQoY29udGVudFN0eWxlcy5wYWRkaW5nVG9wLCAxMCk7XG4gICAgICBjb25zdCBjb250ZW50Qm9yZGVyQm90dG9tV2lkdGggPSBwYXJzZUludChjb250ZW50U3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoLCAxMCk7XG4gICAgICBjb25zdCBjb250ZW50UGFkZGluZ0JvdHRvbSA9IHBhcnNlSW50KGNvbnRlbnRTdHlsZXMucGFkZGluZ0JvdHRvbSwgMTApO1xuICAgICAgY29uc3QgZnVsbENvbnRlbnRIZWlnaHQgPSBjb250ZW50Qm9yZGVyVG9wV2lkdGggKyBjb250ZW50UGFkZGluZ1RvcCArIGl0ZW1zSGVpZ2h0ICsgY29udGVudFBhZGRpbmdCb3R0b20gKyBjb250ZW50Qm9yZGVyQm90dG9tV2lkdGg7IC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgY29uc3QgbWluQ29udGVudEhlaWdodCA9IE1hdGgubWluKHNlbGVjdGVkSXRlbS5vZmZzZXRIZWlnaHQgKiA1LCBmdWxsQ29udGVudEhlaWdodCk7XG5cbiAgICAgIGNvbnN0IHZpZXdwb3J0U3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodmlld3BvcnQpO1xuICAgICAgY29uc3Qgdmlld3BvcnRQYWRkaW5nVG9wID0gcGFyc2VJbnQodmlld3BvcnRTdHlsZXMucGFkZGluZ1RvcCwgMTApO1xuICAgICAgY29uc3Qgdmlld3BvcnRQYWRkaW5nQm90dG9tID0gcGFyc2VJbnQodmlld3BvcnRTdHlsZXMucGFkZGluZ0JvdHRvbSwgMTApO1xuXG4gICAgICBjb25zdCB0b3BFZGdlVG9UcmlnZ2VyTWlkZGxlID0gdHJpZ2dlclJlY3QudG9wICsgdHJpZ2dlclJlY3QuaGVpZ2h0IC8gMiAtIENPTlRFTlRfTUFSR0lOO1xuICAgICAgY29uc3QgdHJpZ2dlck1pZGRsZVRvQm90dG9tRWRnZSA9IGF2YWlsYWJsZUhlaWdodCAtIHRvcEVkZ2VUb1RyaWdnZXJNaWRkbGU7XG5cbiAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbUhhbGZIZWlnaHQgPSBzZWxlY3RlZEl0ZW0ub2Zmc2V0SGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGl0ZW1PZmZzZXRNaWRkbGUgPSBzZWxlY3RlZEl0ZW0ub2Zmc2V0VG9wICsgc2VsZWN0ZWRJdGVtSGFsZkhlaWdodDtcbiAgICAgIGNvbnN0IGNvbnRlbnRUb3BUb0l0ZW1NaWRkbGUgPSBjb250ZW50Qm9yZGVyVG9wV2lkdGggKyBjb250ZW50UGFkZGluZ1RvcCArIGl0ZW1PZmZzZXRNaWRkbGU7XG4gICAgICBjb25zdCBpdGVtTWlkZGxlVG9Db250ZW50Qm90dG9tID0gZnVsbENvbnRlbnRIZWlnaHQgLSBjb250ZW50VG9wVG9JdGVtTWlkZGxlO1xuXG4gICAgICBjb25zdCB3aWxsQWxpZ25XaXRob3V0VG9wT3ZlcmZsb3cgPSBjb250ZW50VG9wVG9JdGVtTWlkZGxlIDw9IHRvcEVkZ2VUb1RyaWdnZXJNaWRkbGU7XG5cbiAgICAgIGlmICh3aWxsQWxpZ25XaXRob3V0VG9wT3ZlcmZsb3cpIHtcbiAgICAgICAgY29uc3QgaXNMYXN0SXRlbSA9IGl0ZW1zLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJdGVtID09PSBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXS5yZWYuY3VycmVudDtcbiAgICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUuYm90dG9tID0gMCArICdweCc7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0T2Zmc2V0Qm90dG9tID1cbiAgICAgICAgICBjb250ZW50LmNsaWVudEhlaWdodCAtIHZpZXdwb3J0Lm9mZnNldFRvcCAtIHZpZXdwb3J0Lm9mZnNldEhlaWdodDtcbiAgICAgICAgY29uc3QgY2xhbXBlZFRyaWdnZXJNaWRkbGVUb0JvdHRvbUVkZ2UgPSBNYXRoLm1heChcbiAgICAgICAgICB0cmlnZ2VyTWlkZGxlVG9Cb3R0b21FZGdlLFxuICAgICAgICAgIHNlbGVjdGVkSXRlbUhhbGZIZWlnaHQgK1xuICAgICAgICAgICAgLy8gdmlld3BvcnQgbWlnaHQgaGF2ZSBwYWRkaW5nIGJvdHRvbSwgaW5jbHVkZSBpdCB0byBhdm9pZCBhIHNjcm9sbGFibGUgdmlld3BvcnRcbiAgICAgICAgICAgIChpc0xhc3RJdGVtID8gdmlld3BvcnRQYWRkaW5nQm90dG9tIDogMCkgK1xuICAgICAgICAgICAgdmlld3BvcnRPZmZzZXRCb3R0b20gK1xuICAgICAgICAgICAgY29udGVudEJvcmRlckJvdHRvbVdpZHRoXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNvbnRlbnRUb3BUb0l0ZW1NaWRkbGUgKyBjbGFtcGVkVHJpZ2dlck1pZGRsZVRvQm90dG9tRWRnZTtcbiAgICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGlzRmlyc3RJdGVtID0gaXRlbXMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZEl0ZW0gPT09IGl0ZW1zWzBdLnJlZi5jdXJyZW50O1xuICAgICAgICBjb250ZW50V3JhcHBlci5zdHlsZS50b3AgPSAwICsgJ3B4JztcbiAgICAgICAgY29uc3QgY2xhbXBlZFRvcEVkZ2VUb1RyaWdnZXJNaWRkbGUgPSBNYXRoLm1heChcbiAgICAgICAgICB0b3BFZGdlVG9UcmlnZ2VyTWlkZGxlLFxuICAgICAgICAgIGNvbnRlbnRCb3JkZXJUb3BXaWR0aCArXG4gICAgICAgICAgICB2aWV3cG9ydC5vZmZzZXRUb3AgK1xuICAgICAgICAgICAgLy8gdmlld3BvcnQgbWlnaHQgaGF2ZSBwYWRkaW5nIHRvcCwgaW5jbHVkZSBpdCB0byBhdm9pZCBhIHNjcm9sbGFibGUgdmlld3BvcnRcbiAgICAgICAgICAgIChpc0ZpcnN0SXRlbSA/IHZpZXdwb3J0UGFkZGluZ1RvcCA6IDApICtcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbUhhbGZIZWlnaHRcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gY2xhbXBlZFRvcEVkZ2VUb1RyaWdnZXJNaWRkbGUgKyBpdGVtTWlkZGxlVG9Db250ZW50Qm90dG9tO1xuICAgICAgICBjb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgICAgICB2aWV3cG9ydC5zY3JvbGxUb3AgPSBjb250ZW50VG9wVG9JdGVtTWlkZGxlIC0gdG9wRWRnZVRvVHJpZ2dlck1pZGRsZSArIHZpZXdwb3J0Lm9mZnNldFRvcDtcbiAgICAgIH1cblxuICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUubWFyZ2luID0gYCR7Q09OVEVOVF9NQVJHSU59cHggMGA7XG4gICAgICBjb250ZW50V3JhcHBlci5zdHlsZS5taW5IZWlnaHQgPSBtaW5Db250ZW50SGVpZ2h0ICsgJ3B4JztcbiAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLm1heEhlaWdodCA9IGF2YWlsYWJsZUhlaWdodCArICdweCc7XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICBvblBsYWNlZD8uKCk7XG5cbiAgICAgIC8vIHdlIGRvbid0IHdhbnQgdGhlIGluaXRpYWwgc2Nyb2xsIHBvc2l0aW9uIGFkanVzdG1lbnQgdG8gdHJpZ2dlciBcImV4cGFuZCBvbiBzY3JvbGxcIlxuICAgICAgLy8gc28gd2UgZXhwbGljaXRseSB0dXJuIGl0IG9uIG9ubHkgYWZ0ZXIgdGhleSd2ZSByZWdpc3RlcmVkLlxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IChzaG91bGRFeHBhbmRPblNjcm9sbFJlZi5jdXJyZW50ID0gdHJ1ZSkpO1xuICAgIH1cbiAgfSwgW1xuICAgIGdldEl0ZW1zLFxuICAgIGNvbnRleHQudHJpZ2dlcixcbiAgICBjb250ZXh0LnZhbHVlTm9kZSxcbiAgICBjb250ZW50V3JhcHBlcixcbiAgICBjb250ZW50LFxuICAgIHZpZXdwb3J0LFxuICAgIHNlbGVjdGVkSXRlbSxcbiAgICBzZWxlY3RlZEl0ZW1UZXh0LFxuICAgIGNvbnRleHQuZGlyLFxuICAgIG9uUGxhY2VkLFxuICBdKTtcblxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4gcG9zaXRpb24oKSwgW3Bvc2l0aW9uXSk7XG5cbiAgLy8gY29weSB6LWluZGV4IGZyb20gY29udGVudCB0byB3cmFwcGVyXG4gIGNvbnN0IFtjb250ZW50WkluZGV4LCBzZXRDb250ZW50WkluZGV4XSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29udGVudCkgc2V0Q29udGVudFpJbmRleCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjb250ZW50KS56SW5kZXgpO1xuICB9LCBbY29udGVudF0pO1xuXG4gIC8vIFdoZW4gdGhlIHZpZXdwb3J0IGJlY29tZXMgc2Nyb2xsYWJsZSBhdCB0aGUgdG9wLCB0aGUgc2Nyb2xsIHVwIGJ1dHRvbiB3aWxsIG1vdW50LlxuICAvLyBCZWNhdXNlIGl0IGlzIHBhcnQgb2YgdGhlIG5vcm1hbCBmbG93LCBpdCB3aWxsIHB1c2ggZG93biB0aGUgdmlld3BvcnQsIHRodXMgdGhyb3dpbmcgb3VyXG4gIC8vIHRyaWdnZXIgPT4gc2VsZWN0ZWRJdGVtIGFsaWdubWVudCBvZmYgYnkgdGhlIGFtb3VudCB0aGUgdmlld3BvcnQgd2FzIHB1c2hlZCBkb3duLlxuICAvLyBXZSB3YWl0IGZvciB0aGlzIHRvIGhhcHBlbiBhbmQgdGhlbiByZS1ydW4gdGhlIHBvc2l0aW5pbmcgbG9naWMgb25lIG1vcmUgdGltZSB0byBhY2NvdW50IGZvciBpdC5cbiAgY29uc3QgaGFuZGxlU2Nyb2xsQnV0dG9uQ2hhbmdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKG5vZGU6IFNlbGVjdFNjcm9sbEJ1dHRvbkltcGxFbGVtZW50IHwgbnVsbCkgPT4ge1xuICAgICAgaWYgKG5vZGUgJiYgc2hvdWxkUmVwb3NpdGlvblJlZi5jdXJyZW50ID09PSB0cnVlKSB7XG4gICAgICAgIHBvc2l0aW9uKCk7XG4gICAgICAgIGZvY3VzU2VsZWN0ZWRJdGVtPy4oKTtcbiAgICAgICAgc2hvdWxkUmVwb3NpdGlvblJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcG9zaXRpb24sIGZvY3VzU2VsZWN0ZWRJdGVtXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFNlbGVjdFZpZXdwb3J0UHJvdmlkZXJcbiAgICAgIHNjb3BlPXtfX3Njb3BlU2VsZWN0fVxuICAgICAgY29udGVudFdyYXBwZXI9e2NvbnRlbnRXcmFwcGVyfVxuICAgICAgc2hvdWxkRXhwYW5kT25TY3JvbGxSZWY9e3Nob3VsZEV4cGFuZE9uU2Nyb2xsUmVmfVxuICAgICAgb25TY3JvbGxCdXR0b25DaGFuZ2U9e2hhbmRsZVNjcm9sbEJ1dHRvbkNoYW5nZX1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17c2V0Q29udGVudFdyYXBwZXJ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIHpJbmRleDogY29udGVudFpJbmRleCxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPFByaW1pdGl2ZS5kaXZcbiAgICAgICAgICB7Li4ucG9wcGVyUHJvcHN9XG4gICAgICAgICAgcmVmPXtjb21wb3NlZFJlZnN9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgZ2V0IHRoZSBoZWlnaHQgb2YgdGhlIGNvbnRlbnQsIGl0IGluY2x1ZGVzIGJvcmRlcnMuIElmIHdlIHdlcmUgdG8gc2V0XG4gICAgICAgICAgICAvLyB0aGUgaGVpZ2h0IHdpdGhvdXQgaGF2aW5nIGBib3hTaXppbmc6ICdib3JkZXItYm94J2AgaXQgd291bGQgYmUgdG9vIGJpZy5cbiAgICAgICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBlbnN1cmUgdGhlIGNvbnRlbnQgZG9lc24ndCBnZXQgdGFsbGVyIHRoYW4gdGhlIHdyYXBwZXJcbiAgICAgICAgICAgIG1heEhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgLi4ucG9wcGVyUHJvcHMuc3R5bGUsXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvU2VsZWN0Vmlld3BvcnRQcm92aWRlcj5cbiAgKTtcbn0pO1xuXG5TZWxlY3RJdGVtQWxpZ25lZFBvc2l0aW9uLmRpc3BsYXlOYW1lID0gSVRFTV9BTElHTkVEX1BPU0lUSU9OX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNlbGVjdFBvcHBlclBvc2l0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IFBPUFBFUl9QT1NJVElPTl9OQU1FID0gJ1NlbGVjdFBvcHBlclBvc2l0aW9uJztcblxudHlwZSBTZWxlY3RQb3BwZXJQb3NpdGlvbkVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQb3BwZXJQcmltaXRpdmUuQ29udGVudD47XG50eXBlIFBvcHBlckNvbnRlbnRQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUG9wcGVyUHJpbWl0aXZlLkNvbnRlbnQ+O1xuaW50ZXJmYWNlIFNlbGVjdFBvcHBlclBvc2l0aW9uUHJvcHMgZXh0ZW5kcyBQb3BwZXJDb250ZW50UHJvcHMsIFNlbGVjdFBvcHBlclByaXZhdGVQcm9wcyB7fVxuXG5jb25zdCBTZWxlY3RQb3BwZXJQb3NpdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFNlbGVjdFBvcHBlclBvc2l0aW9uRWxlbWVudCxcbiAgU2VsZWN0UG9wcGVyUG9zaXRpb25Qcm9wc1xuPigocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdFBvcHBlclBvc2l0aW9uUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIF9fc2NvcGVTZWxlY3QsXG4gICAgYWxpZ24gPSAnc3RhcnQnLFxuICAgIGNvbGxpc2lvblBhZGRpbmcgPSBDT05URU5UX01BUkdJTixcbiAgICAuLi5wb3BwZXJQcm9wc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHBvcHBlclNjb3BlID0gdXNlUG9wcGVyU2NvcGUoX19zY29wZVNlbGVjdCk7XG5cbiAgcmV0dXJuIChcbiAgICA8UG9wcGVyUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgIHsuLi5wb3BwZXJTY29wZX1cbiAgICAgIHsuLi5wb3BwZXJQcm9wc31cbiAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgYWxpZ249e2FsaWdufVxuICAgICAgY29sbGlzaW9uUGFkZGluZz17Y29sbGlzaW9uUGFkZGluZ31cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIC8vIEVuc3VyZSBib3JkZXItYm94IGZvciBmbG9hdGluZy11aSBjYWxjdWxhdGlvbnNcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgIC4uLnBvcHBlclByb3BzLnN0eWxlLFxuICAgICAgICAvLyByZS1uYW1lc3BhY2UgZXhwb3NlZCBjb250ZW50IGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICAgIC4uLntcbiAgICAgICAgICAnLS1yYWRpeC1zZWxlY3QtY29udGVudC10cmFuc2Zvcm0tb3JpZ2luJzogJ3ZhcigtLXJhZGl4LXBvcHBlci10cmFuc2Zvcm0tb3JpZ2luKScsXG4gICAgICAgICAgJy0tcmFkaXgtc2VsZWN0LWNvbnRlbnQtYXZhaWxhYmxlLXdpZHRoJzogJ3ZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtd2lkdGgpJyxcbiAgICAgICAgICAnLS1yYWRpeC1zZWxlY3QtY29udGVudC1hdmFpbGFibGUtaGVpZ2h0JzogJ3ZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtaGVpZ2h0KScsXG4gICAgICAgICAgJy0tcmFkaXgtc2VsZWN0LXRyaWdnZXItd2lkdGgnOiAndmFyKC0tcmFkaXgtcG9wcGVyLWFuY2hvci13aWR0aCknLFxuICAgICAgICAgICctLXJhZGl4LXNlbGVjdC10cmlnZ2VyLWhlaWdodCc6ICd2YXIoLS1yYWRpeC1wb3BwZXItYW5jaG9yLWhlaWdodCknLFxuICAgICAgICB9LFxuICAgICAgfX1cbiAgICAvPlxuICApO1xufSk7XG5cblNlbGVjdFBvcHBlclBvc2l0aW9uLmRpc3BsYXlOYW1lID0gUE9QUEVSX1BPU0lUSU9OX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNlbGVjdFZpZXdwb3J0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbnR5cGUgU2VsZWN0Vmlld3BvcnRDb250ZXh0VmFsdWUgPSB7XG4gIGNvbnRlbnRXcmFwcGVyPzogSFRNTERpdkVsZW1lbnQgfCBudWxsO1xuICBzaG91bGRFeHBhbmRPblNjcm9sbFJlZj86IFJlYWN0LlJlZk9iamVjdDxib29sZWFuPjtcbiAgb25TY3JvbGxCdXR0b25DaGFuZ2U/OiAobm9kZTogU2VsZWN0U2Nyb2xsQnV0dG9uSW1wbEVsZW1lbnQgfCBudWxsKSA9PiB2b2lkO1xufTtcblxuY29uc3QgW1NlbGVjdFZpZXdwb3J0UHJvdmlkZXIsIHVzZVNlbGVjdFZpZXdwb3J0Q29udGV4dF0gPVxuICBjcmVhdGVTZWxlY3RDb250ZXh0PFNlbGVjdFZpZXdwb3J0Q29udGV4dFZhbHVlPihDT05URU5UX05BTUUsIHt9KTtcblxuY29uc3QgVklFV1BPUlRfTkFNRSA9ICdTZWxlY3RWaWV3cG9ydCc7XG5cbnR5cGUgU2VsZWN0Vmlld3BvcnRFbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG50eXBlIFByaW1pdGl2ZURpdlByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbmludGVyZmFjZSBTZWxlY3RWaWV3cG9ydFByb3BzIGV4dGVuZHMgUHJpbWl0aXZlRGl2UHJvcHMge1xuICBub25jZT86IHN0cmluZztcbn1cblxuY29uc3QgU2VsZWN0Vmlld3BvcnQgPSBSZWFjdC5mb3J3YXJkUmVmPFNlbGVjdFZpZXdwb3J0RWxlbWVudCwgU2VsZWN0Vmlld3BvcnRQcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8U2VsZWN0Vmlld3BvcnRQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVNlbGVjdCwgbm9uY2UsIC4uLnZpZXdwb3J0UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRlbnRDb250ZXh0ID0gdXNlU2VsZWN0Q29udGVudENvbnRleHQoVklFV1BPUlRfTkFNRSwgX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3Qgdmlld3BvcnRDb250ZXh0ID0gdXNlU2VsZWN0Vmlld3BvcnRDb250ZXh0KFZJRVdQT1JUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIGNvbnRlbnRDb250ZXh0Lm9uVmlld3BvcnRDaGFuZ2UpO1xuICAgIGNvbnN0IHByZXZTY3JvbGxUb3BSZWYgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIHsvKiBIaWRlIHNjcm9sbGJhcnMgY3Jvc3MtYnJvd3NlciBhbmQgZW5hYmxlIG1vbWVudHVtIHNjcm9sbCBmb3IgdG91Y2ggZGV2aWNlcyAqL31cbiAgICAgICAgPHN0eWxlXG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogYFtkYXRhLXJhZGl4LXNlbGVjdC12aWV3cG9ydF17c2Nyb2xsYmFyLXdpZHRoOm5vbmU7LW1zLW92ZXJmbG93LXN0eWxlOm5vbmU7LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2g7fVtkYXRhLXJhZGl4LXNlbGVjdC12aWV3cG9ydF06Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX1gLFxuICAgICAgICAgIH19XG4gICAgICAgICAgbm9uY2U9e25vbmNlfVxuICAgICAgICAvPlxuICAgICAgICA8Q29sbGVjdGlvbi5TbG90IHNjb3BlPXtfX3Njb3BlU2VsZWN0fT5cbiAgICAgICAgICA8UHJpbWl0aXZlLmRpdlxuICAgICAgICAgICAgZGF0YS1yYWRpeC1zZWxlY3Qtdmlld3BvcnQ9XCJcIlxuICAgICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgICAgICB7Li4udmlld3BvcnRQcm9wc31cbiAgICAgICAgICAgIHJlZj17Y29tcG9zZWRSZWZzfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgLy8gd2UgdXNlIHBvc2l0aW9uOiAncmVsYXRpdmUnIGhlcmUgb24gdGhlIGB2aWV3cG9ydGAgc28gdGhhdCB3aGVuIHdlIGNhbGxcbiAgICAgICAgICAgICAgLy8gYHNlbGVjdGVkSXRlbS5vZmZzZXRUb3BgIGluIGNhbGN1bGF0aW9ucywgdGhlIG9mZnNldCBpcyByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgICAgLy8gKGluZGVwZW5kZW50IG9mIHRoZSBzY3JvbGxVcEJ1dHRvbikuXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAvLyBWaWV3cG9ydCBzaG91bGQgb25seSBiZSBzY3JvbGxhYmxlIGluIHRoZSB2ZXJ0aWNhbCBkaXJlY3Rpb24uXG4gICAgICAgICAgICAgIC8vIFRoaXMgd29uJ3Qgd29yayBpbiB2ZXJ0aWNhbCB3cml0aW5nIG1vZGVzLCBzbyB3ZSdsbCBuZWVkIHRvXG4gICAgICAgICAgICAgIC8vIHJldmlzaXQgdGhpcyBpZi93aGVuIHRoYXQgaXMgc3VwcG9ydGVkXG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYmxvZy92ZXJ0aWNhbC1mb3JtLWNvbnRyb2xzXG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuIGF1dG8nLFxuICAgICAgICAgICAgICAuLi52aWV3cG9ydFByb3BzLnN0eWxlLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uU2Nyb2xsPXtjb21wb3NlRXZlbnRIYW5kbGVycyh2aWV3cG9ydFByb3BzLm9uU2Nyb2xsLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgdmlld3BvcnQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICBjb25zdCB7IGNvbnRlbnRXcmFwcGVyLCBzaG91bGRFeHBhbmRPblNjcm9sbFJlZiB9ID0gdmlld3BvcnRDb250ZXh0O1xuICAgICAgICAgICAgICBpZiAoc2hvdWxkRXhwYW5kT25TY3JvbGxSZWY/LmN1cnJlbnQgJiYgY29udGVudFdyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGxlZEJ5ID0gTWF0aC5hYnMocHJldlNjcm9sbFRvcFJlZi5jdXJyZW50IC0gdmlld3BvcnQuc2Nyb2xsVG9wKTtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsZWRCeSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIENPTlRFTlRfTUFSR0lOICogMjtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNzc01pbkhlaWdodCA9IHBhcnNlRmxvYXQoY29udGVudFdyYXBwZXIuc3R5bGUubWluSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNzc0hlaWdodCA9IHBhcnNlRmxvYXQoY29udGVudFdyYXBwZXIuc3R5bGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZIZWlnaHQgPSBNYXRoLm1heChjc3NNaW5IZWlnaHQsIGNzc0hlaWdodCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChwcmV2SGVpZ2h0IDwgYXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRIZWlnaHQgPSBwcmV2SGVpZ2h0ICsgc2Nyb2xsZWRCeTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xhbXBlZE5leHRIZWlnaHQgPSBNYXRoLm1pbihhdmFpbGFibGVIZWlnaHQsIG5leHRIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHREaWZmID0gbmV4dEhlaWdodCAtIGNsYW1wZWROZXh0SGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLmhlaWdodCA9IGNsYW1wZWROZXh0SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRXcmFwcGVyLnN0eWxlLmJvdHRvbSA9PT0gJzBweCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydC5zY3JvbGxUb3AgPSBoZWlnaHREaWZmID4gMCA/IGhlaWdodERpZmYgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB0aGUgY29udGVudCBzdGF5cyBwaW5uZWQgdG8gdGhlIGJvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2ZsZXgtZW5kJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2U2Nyb2xsVG9wUmVmLmN1cnJlbnQgPSB2aWV3cG9ydC5zY3JvbGxUb3A7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0NvbGxlY3Rpb24uU2xvdD5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbik7XG5cblNlbGVjdFZpZXdwb3J0LmRpc3BsYXlOYW1lID0gVklFV1BPUlRfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VsZWN0R3JvdXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgR1JPVVBfTkFNRSA9ICdTZWxlY3RHcm91cCc7XG5cbnR5cGUgU2VsZWN0R3JvdXBDb250ZXh0VmFsdWUgPSB7IGlkOiBzdHJpbmcgfTtcblxuY29uc3QgW1NlbGVjdEdyb3VwQ29udGV4dFByb3ZpZGVyLCB1c2VTZWxlY3RHcm91cENvbnRleHRdID1cbiAgY3JlYXRlU2VsZWN0Q29udGV4dDxTZWxlY3RHcm91cENvbnRleHRWYWx1ZT4oR1JPVVBfTkFNRSk7XG5cbnR5cGUgU2VsZWN0R3JvdXBFbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG5pbnRlcmZhY2UgU2VsZWN0R3JvdXBQcm9wcyBleHRlbmRzIFByaW1pdGl2ZURpdlByb3BzIHt9XG5cbmNvbnN0IFNlbGVjdEdyb3VwID0gUmVhY3QuZm9yd2FyZFJlZjxTZWxlY3RHcm91cEVsZW1lbnQsIFNlbGVjdEdyb3VwUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdEdyb3VwUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIC4uLmdyb3VwUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGdyb3VwSWQgPSB1c2VJZCgpO1xuICAgIHJldHVybiAoXG4gICAgICA8U2VsZWN0R3JvdXBDb250ZXh0UHJvdmlkZXIgc2NvcGU9e19fc2NvcGVTZWxlY3R9IGlkPXtncm91cElkfT5cbiAgICAgICAgPFByaW1pdGl2ZS5kaXYgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5PXtncm91cElkfSB7Li4uZ3JvdXBQcm9wc30gcmVmPXtmb3J3YXJkZWRSZWZ9IC8+XG4gICAgICA8L1NlbGVjdEdyb3VwQ29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gIH1cbik7XG5cblNlbGVjdEdyb3VwLmRpc3BsYXlOYW1lID0gR1JPVVBfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VsZWN0TGFiZWxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgTEFCRUxfTkFNRSA9ICdTZWxlY3RMYWJlbCc7XG5cbnR5cGUgU2VsZWN0TGFiZWxFbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG5pbnRlcmZhY2UgU2VsZWN0TGFiZWxQcm9wcyBleHRlbmRzIFByaW1pdGl2ZURpdlByb3BzIHt9XG5cbmNvbnN0IFNlbGVjdExhYmVsID0gUmVhY3QuZm9yd2FyZFJlZjxTZWxlY3RMYWJlbEVsZW1lbnQsIFNlbGVjdExhYmVsUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdExhYmVsUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIC4uLmxhYmVsUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGdyb3VwQ29udGV4dCA9IHVzZVNlbGVjdEdyb3VwQ29udGV4dChMQUJFTF9OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICByZXR1cm4gPFByaW1pdGl2ZS5kaXYgaWQ9e2dyb3VwQ29udGV4dC5pZH0gey4uLmxhYmVsUHJvcHN9IHJlZj17Zm9yd2FyZGVkUmVmfSAvPjtcbiAgfVxuKTtcblxuU2VsZWN0TGFiZWwuZGlzcGxheU5hbWUgPSBMQUJFTF9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3RJdGVtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IElURU1fTkFNRSA9ICdTZWxlY3RJdGVtJztcblxudHlwZSBTZWxlY3RJdGVtQ29udGV4dFZhbHVlID0ge1xuICB2YWx1ZTogc3RyaW5nO1xuICBkaXNhYmxlZDogYm9vbGVhbjtcbiAgdGV4dElkOiBzdHJpbmc7XG4gIGlzU2VsZWN0ZWQ6IGJvb2xlYW47XG4gIG9uSXRlbVRleHRDaGFuZ2Uobm9kZTogU2VsZWN0SXRlbVRleHRFbGVtZW50IHwgbnVsbCk6IHZvaWQ7XG59O1xuXG5jb25zdCBbU2VsZWN0SXRlbUNvbnRleHRQcm92aWRlciwgdXNlU2VsZWN0SXRlbUNvbnRleHRdID1cbiAgY3JlYXRlU2VsZWN0Q29udGV4dDxTZWxlY3RJdGVtQ29udGV4dFZhbHVlPihJVEVNX05BTUUpO1xuXG50eXBlIFNlbGVjdEl0ZW1FbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG5pbnRlcmZhY2UgU2VsZWN0SXRlbVByb3BzIGV4dGVuZHMgUHJpbWl0aXZlRGl2UHJvcHMge1xuICB2YWx1ZTogc3RyaW5nO1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIHRleHRWYWx1ZT86IHN0cmluZztcbn1cblxuY29uc3QgU2VsZWN0SXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8U2VsZWN0SXRlbUVsZW1lbnQsIFNlbGVjdEl0ZW1Qcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8U2VsZWN0SXRlbVByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgX19zY29wZVNlbGVjdCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICAgIHRleHRWYWx1ZTogdGV4dFZhbHVlUHJvcCxcbiAgICAgIC4uLml0ZW1Qcm9wc1xuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlU2VsZWN0Q29udGV4dChJVEVNX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IGNvbnRlbnRDb250ZXh0ID0gdXNlU2VsZWN0Q29udGVudENvbnRleHQoSVRFTV9OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gY29udGV4dC52YWx1ZSA9PT0gdmFsdWU7XG4gICAgY29uc3QgW3RleHRWYWx1ZSwgc2V0VGV4dFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKHRleHRWYWx1ZVByb3AgPz8gJycpO1xuICAgIGNvbnN0IFtpc0ZvY3VzZWQsIHNldElzRm9jdXNlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgKG5vZGUpID0+XG4gICAgICBjb250ZW50Q29udGV4dC5pdGVtUmVmQ2FsbGJhY2s/Lihub2RlLCB2YWx1ZSwgZGlzYWJsZWQpXG4gICAgKTtcbiAgICBjb25zdCB0ZXh0SWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IHBvaW50ZXJUeXBlUmVmID0gUmVhY3QudXNlUmVmPFJlYWN0LlBvaW50ZXJFdmVudFsncG9pbnRlclR5cGUnXT4oJ3RvdWNoJyk7XG5cbiAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgIGNvbnRleHQub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG4gICAgICAgIGNvbnRleHQub25PcGVuQ2hhbmdlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQSA8U2VsZWN0Lkl0ZW0gLz4gbXVzdCBoYXZlIGEgdmFsdWUgcHJvcCB0aGF0IGlzIG5vdCBhbiBlbXB0eSBzdHJpbmcuIFRoaXMgaXMgYmVjYXVzZSB0aGUgU2VsZWN0IHZhbHVlIGNhbiBiZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nIHRvIGNsZWFyIHRoZSBzZWxlY3Rpb24gYW5kIHNob3cgdGhlIHBsYWNlaG9sZGVyLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxTZWxlY3RJdGVtQ29udGV4dFByb3ZpZGVyXG4gICAgICAgIHNjb3BlPXtfX3Njb3BlU2VsZWN0fVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgdGV4dElkPXt0ZXh0SWR9XG4gICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgIG9uSXRlbVRleHRDaGFuZ2U9e1JlYWN0LnVzZUNhbGxiYWNrKChub2RlKSA9PiB7XG4gICAgICAgICAgc2V0VGV4dFZhbHVlKChwcmV2VGV4dFZhbHVlKSA9PiBwcmV2VGV4dFZhbHVlIHx8IChub2RlPy50ZXh0Q29udGVudCA/PyAnJykudHJpbSgpKTtcbiAgICAgICAgfSwgW10pfVxuICAgICAgPlxuICAgICAgICA8Q29sbGVjdGlvbi5JdGVtU2xvdFxuICAgICAgICAgIHNjb3BlPXtfX3Njb3BlU2VsZWN0fVxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgdGV4dFZhbHVlPXt0ZXh0VmFsdWV9XG4gICAgICAgID5cbiAgICAgICAgICA8UHJpbWl0aXZlLmRpdlxuICAgICAgICAgICAgcm9sZT1cIm9wdGlvblwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9e3RleHRJZH1cbiAgICAgICAgICAgIGRhdGEtaGlnaGxpZ2h0ZWQ9e2lzRm9jdXNlZCA/ICcnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgLy8gYGlzRm9jdXNlZGAgY2F2ZWF0IGZpeGVzIHN0dXR0ZXJpbmcgaW4gVm9pY2VPdmVyXG4gICAgICAgICAgICBhcmlhLXNlbGVjdGVkPXtpc1NlbGVjdGVkICYmIGlzRm9jdXNlZH1cbiAgICAgICAgICAgIGRhdGEtc3RhdGU9e2lzU2VsZWN0ZWQgPyAnY2hlY2tlZCcgOiAndW5jaGVja2VkJ31cbiAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9e2Rpc2FibGVkIHx8IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIGRhdGEtZGlzYWJsZWQ9e2Rpc2FibGVkID8gJycgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICB0YWJJbmRleD17ZGlzYWJsZWQgPyB1bmRlZmluZWQgOiAtMX1cbiAgICAgICAgICAgIHsuLi5pdGVtUHJvcHN9XG4gICAgICAgICAgICByZWY9e2NvbXBvc2VkUmVmc31cbiAgICAgICAgICAgIG9uRm9jdXM9e2NvbXBvc2VFdmVudEhhbmRsZXJzKGl0ZW1Qcm9wcy5vbkZvY3VzLCAoKSA9PiBzZXRJc0ZvY3VzZWQodHJ1ZSkpfVxuICAgICAgICAgICAgb25CbHVyPXtjb21wb3NlRXZlbnRIYW5kbGVycyhpdGVtUHJvcHMub25CbHVyLCAoKSA9PiBzZXRJc0ZvY3VzZWQoZmFsc2UpKX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2NvbXBvc2VFdmVudEhhbmRsZXJzKGl0ZW1Qcm9wcy5vbkNsaWNrLCAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIE9wZW4gb24gY2xpY2sgd2hlbiB1c2luZyBhIHRvdWNoIG9yIHBlbiBkZXZpY2VcbiAgICAgICAgICAgICAgaWYgKHBvaW50ZXJUeXBlUmVmLmN1cnJlbnQgIT09ICdtb3VzZScpIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICBvblBvaW50ZXJVcD17Y29tcG9zZUV2ZW50SGFuZGxlcnMoaXRlbVByb3BzLm9uUG9pbnRlclVwLCAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFVzaW5nIGEgbW91c2UgeW91IHNob3VsZCBiZSBhYmxlIHRvIGRvIHBvaW50ZXIgZG93biwgbW92ZSB0aHJvdWdoXG4gICAgICAgICAgICAgIC8vIHRoZSBsaXN0LCBhbmQgcmVsZWFzZSB0aGUgcG9pbnRlciBvdmVyIHRoZSBpdGVtIHRvIHNlbGVjdCBpdC5cbiAgICAgICAgICAgICAgaWYgKHBvaW50ZXJUeXBlUmVmLmN1cnJlbnQgPT09ICdtb3VzZScpIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICBvblBvaW50ZXJEb3duPXtjb21wb3NlRXZlbnRIYW5kbGVycyhpdGVtUHJvcHMub25Qb2ludGVyRG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIHBvaW50ZXJUeXBlUmVmLmN1cnJlbnQgPSBldmVudC5wb2ludGVyVHlwZTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgb25Qb2ludGVyTW92ZT17Y29tcG9zZUV2ZW50SGFuZGxlcnMoaXRlbVByb3BzLm9uUG9pbnRlck1vdmUsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAvLyBSZW1lbWJlciBwb2ludGVyIHR5cGUgd2hlbiBzbGlkaW5nIG92ZXIgdG8gdGhpcyBpdGVtIGZyb20gYW5vdGhlciBvbmVcbiAgICAgICAgICAgICAgcG9pbnRlclR5cGVSZWYuY3VycmVudCA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50Q29udGV4dC5vbkl0ZW1MZWF2ZT8uKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9pbnRlclR5cGVSZWYuY3VycmVudCA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgICAgIC8vIGV2ZW4gdGhvdWdoIHNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgdGhpcyBvcHRpb24sIGl0J3MgYWNjZXB0YWJsZVxuICAgICAgICAgICAgICAgIC8vIGFzIGl0IG9ubHkgbWVhbnMgaXQgbWlnaHQgc2Nyb2xsIGEgZmV3IHBpeGVscyB3aGVuIHVzaW5nIHRoZSBwb2ludGVyLlxuICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIG9uUG9pbnRlckxlYXZlPXtjb21wb3NlRXZlbnRIYW5kbGVycyhpdGVtUHJvcHMub25Qb2ludGVyTGVhdmUsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRDb250ZXh0Lm9uSXRlbUxlYXZlPy4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICBvbktleURvd249e2NvbXBvc2VFdmVudEhhbmRsZXJzKGl0ZW1Qcm9wcy5vbktleURvd24sIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBpc1R5cGluZ0FoZWFkID0gY29udGVudENvbnRleHQuc2VhcmNoUmVmPy5jdXJyZW50ICE9PSAnJztcbiAgICAgICAgICAgICAgaWYgKGlzVHlwaW5nQWhlYWQgJiYgZXZlbnQua2V5ID09PSAnICcpIHJldHVybjtcbiAgICAgICAgICAgICAgaWYgKFNFTEVDVElPTl9LRVlTLmluY2x1ZGVzKGV2ZW50LmtleSkpIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgICAgICAvLyBwcmV2ZW50IHBhZ2Ugc2Nyb2xsIGlmIHVzaW5nIHRoZSBzcGFjZSBrZXkgdG8gc2VsZWN0IGFuIGl0ZW1cbiAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJyAnKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Db2xsZWN0aW9uLkl0ZW1TbG90PlxuICAgICAgPC9TZWxlY3RJdGVtQ29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gIH1cbik7XG5cblNlbGVjdEl0ZW0uZGlzcGxheU5hbWUgPSBJVEVNX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNlbGVjdEl0ZW1UZXh0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IElURU1fVEVYVF9OQU1FID0gJ1NlbGVjdEl0ZW1UZXh0JztcblxudHlwZSBTZWxlY3RJdGVtVGV4dEVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuc3Bhbj47XG5pbnRlcmZhY2UgU2VsZWN0SXRlbVRleHRQcm9wcyBleHRlbmRzIFByaW1pdGl2ZVNwYW5Qcm9wcyB7fVxuXG5jb25zdCBTZWxlY3RJdGVtVGV4dCA9IFJlYWN0LmZvcndhcmRSZWY8U2VsZWN0SXRlbVRleHRFbGVtZW50LCBTZWxlY3RJdGVtVGV4dFByb3BzPihcbiAgKHByb3BzOiBTY29wZWRQcm9wczxTZWxlY3RJdGVtVGV4dFByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgLy8gV2UgaWdub3JlIGBjbGFzc05hbWVgIGFuZCBgc3R5bGVgIGFzIHRoaXMgcGFydCBzaG91bGRuJ3QgYmUgc3R5bGVkLlxuICAgIGNvbnN0IHsgX19zY29wZVNlbGVjdCwgY2xhc3NOYW1lLCBzdHlsZSwgLi4uaXRlbVRleHRQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoSVRFTV9URVhUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IGNvbnRlbnRDb250ZXh0ID0gdXNlU2VsZWN0Q29udGVudENvbnRleHQoSVRFTV9URVhUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IGl0ZW1Db250ZXh0ID0gdXNlU2VsZWN0SXRlbUNvbnRleHQoSVRFTV9URVhUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IG5hdGl2ZU9wdGlvbnNDb250ZXh0ID0gdXNlU2VsZWN0TmF0aXZlT3B0aW9uc0NvbnRleHQoSVRFTV9URVhUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IFtpdGVtVGV4dE5vZGUsIHNldEl0ZW1UZXh0Tm9kZV0gPSBSZWFjdC51c2VTdGF0ZTxTZWxlY3RJdGVtVGV4dEVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoXG4gICAgICBmb3J3YXJkZWRSZWYsXG4gICAgICAobm9kZSkgPT4gc2V0SXRlbVRleHROb2RlKG5vZGUpLFxuICAgICAgaXRlbUNvbnRleHQub25JdGVtVGV4dENoYW5nZSxcbiAgICAgIChub2RlKSA9PiBjb250ZW50Q29udGV4dC5pdGVtVGV4dFJlZkNhbGxiYWNrPy4obm9kZSwgaXRlbUNvbnRleHQudmFsdWUsIGl0ZW1Db250ZXh0LmRpc2FibGVkKVxuICAgICk7XG5cbiAgICBjb25zdCB0ZXh0Q29udGVudCA9IGl0ZW1UZXh0Tm9kZT8udGV4dENvbnRlbnQ7XG4gICAgY29uc3QgbmF0aXZlT3B0aW9uID0gUmVhY3QudXNlTWVtbyhcbiAgICAgICgpID0+IChcbiAgICAgICAgPG9wdGlvbiBrZXk9e2l0ZW1Db250ZXh0LnZhbHVlfSB2YWx1ZT17aXRlbUNvbnRleHQudmFsdWV9IGRpc2FibGVkPXtpdGVtQ29udGV4dC5kaXNhYmxlZH0+XG4gICAgICAgICAge3RleHRDb250ZW50fVxuICAgICAgICA8L29wdGlvbj5cbiAgICAgICksXG4gICAgICBbaXRlbUNvbnRleHQuZGlzYWJsZWQsIGl0ZW1Db250ZXh0LnZhbHVlLCB0ZXh0Q29udGVudF1cbiAgICApO1xuXG4gICAgY29uc3QgeyBvbk5hdGl2ZU9wdGlvbkFkZCwgb25OYXRpdmVPcHRpb25SZW1vdmUgfSA9IG5hdGl2ZU9wdGlvbnNDb250ZXh0O1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBvbk5hdGl2ZU9wdGlvbkFkZChuYXRpdmVPcHRpb24pO1xuICAgICAgcmV0dXJuICgpID0+IG9uTmF0aXZlT3B0aW9uUmVtb3ZlKG5hdGl2ZU9wdGlvbik7XG4gICAgfSwgW29uTmF0aXZlT3B0aW9uQWRkLCBvbk5hdGl2ZU9wdGlvblJlbW92ZSwgbmF0aXZlT3B0aW9uXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPFByaW1pdGl2ZS5zcGFuIGlkPXtpdGVtQ29udGV4dC50ZXh0SWR9IHsuLi5pdGVtVGV4dFByb3BzfSByZWY9e2NvbXBvc2VkUmVmc30gLz5cblxuICAgICAgICB7LyogUG9ydGFsIHRoZSBzZWxlY3QgaXRlbSB0ZXh0IGludG8gdGhlIHRyaWdnZXIgdmFsdWUgbm9kZSAqL31cbiAgICAgICAge2l0ZW1Db250ZXh0LmlzU2VsZWN0ZWQgJiYgY29udGV4dC52YWx1ZU5vZGUgJiYgIWNvbnRleHQudmFsdWVOb2RlSGFzQ2hpbGRyZW5cbiAgICAgICAgICA/IFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChpdGVtVGV4dFByb3BzLmNoaWxkcmVuLCBjb250ZXh0LnZhbHVlTm9kZSlcbiAgICAgICAgICA6IG51bGx9XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG4pO1xuXG5TZWxlY3RJdGVtVGV4dC5kaXNwbGF5TmFtZSA9IElURU1fVEVYVF9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3RJdGVtSW5kaWNhdG9yXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IElURU1fSU5ESUNBVE9SX05BTUUgPSAnU2VsZWN0SXRlbUluZGljYXRvcic7XG5cbnR5cGUgU2VsZWN0SXRlbUluZGljYXRvckVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuc3Bhbj47XG5pbnRlcmZhY2UgU2VsZWN0SXRlbUluZGljYXRvclByb3BzIGV4dGVuZHMgUHJpbWl0aXZlU3BhblByb3BzIHt9XG5cbmNvbnN0IFNlbGVjdEl0ZW1JbmRpY2F0b3IgPSBSZWFjdC5mb3J3YXJkUmVmPFNlbGVjdEl0ZW1JbmRpY2F0b3JFbGVtZW50LCBTZWxlY3RJdGVtSW5kaWNhdG9yUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdEl0ZW1JbmRpY2F0b3JQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVNlbGVjdCwgLi4uaXRlbUluZGljYXRvclByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBpdGVtQ29udGV4dCA9IHVzZVNlbGVjdEl0ZW1Db250ZXh0KElURU1fSU5ESUNBVE9SX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIHJldHVybiBpdGVtQ29udGV4dC5pc1NlbGVjdGVkID8gKFxuICAgICAgPFByaW1pdGl2ZS5zcGFuIGFyaWEtaGlkZGVuIHsuLi5pdGVtSW5kaWNhdG9yUHJvcHN9IHJlZj17Zm9yd2FyZGVkUmVmfSAvPlxuICAgICkgOiBudWxsO1xuICB9XG4pO1xuXG5TZWxlY3RJdGVtSW5kaWNhdG9yLmRpc3BsYXlOYW1lID0gSVRFTV9JTkRJQ0FUT1JfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VsZWN0U2Nyb2xsVXBCdXR0b25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgU0NST0xMX1VQX0JVVFRPTl9OQU1FID0gJ1NlbGVjdFNjcm9sbFVwQnV0dG9uJztcblxudHlwZSBTZWxlY3RTY3JvbGxVcEJ1dHRvbkVsZW1lbnQgPSBTZWxlY3RTY3JvbGxCdXR0b25JbXBsRWxlbWVudDtcbmludGVyZmFjZSBTZWxlY3RTY3JvbGxVcEJ1dHRvblByb3BzIGV4dGVuZHMgT21pdDxTZWxlY3RTY3JvbGxCdXR0b25JbXBsUHJvcHMsICdvbkF1dG9TY3JvbGwnPiB7fVxuXG5jb25zdCBTZWxlY3RTY3JvbGxVcEJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFNlbGVjdFNjcm9sbFVwQnV0dG9uRWxlbWVudCxcbiAgU2VsZWN0U2Nyb2xsVXBCdXR0b25Qcm9wc1xuPigocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdFNjcm9sbFVwQnV0dG9uUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VTZWxlY3RDb250ZW50Q29udGV4dChTQ1JPTExfVVBfQlVUVE9OX05BTUUsIHByb3BzLl9fc2NvcGVTZWxlY3QpO1xuICBjb25zdCB2aWV3cG9ydENvbnRleHQgPSB1c2VTZWxlY3RWaWV3cG9ydENvbnRleHQoU0NST0xMX1VQX0JVVFRPTl9OQU1FLCBwcm9wcy5fX3Njb3BlU2VsZWN0KTtcbiAgY29uc3QgW2NhblNjcm9sbFVwLCBzZXRDYW5TY3JvbGxVcF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHZpZXdwb3J0Q29udGV4dC5vblNjcm9sbEJ1dHRvbkNoYW5nZSk7XG5cbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29udGVudENvbnRleHQudmlld3BvcnQgJiYgY29udGVudENvbnRleHQuaXNQb3NpdGlvbmVkKSB7XG4gICAgICBjb25zdCB2aWV3cG9ydCA9IGNvbnRlbnRDb250ZXh0LnZpZXdwb3J0O1xuICAgICAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkge1xuICAgICAgICBjb25zdCBjYW5TY3JvbGxVcCA9IHZpZXdwb3J0LnNjcm9sbFRvcCA+IDA7XG4gICAgICAgIHNldENhblNjcm9sbFVwKGNhblNjcm9sbFVwKTtcbiAgICAgIH1cbiAgICAgIGhhbmRsZVNjcm9sbCgpO1xuICAgICAgdmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcbiAgICAgIHJldHVybiAoKSA9PiB2aWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpO1xuICAgIH1cbiAgfSwgW2NvbnRlbnRDb250ZXh0LnZpZXdwb3J0LCBjb250ZW50Q29udGV4dC5pc1Bvc2l0aW9uZWRdKTtcblxuICByZXR1cm4gY2FuU2Nyb2xsVXAgPyAoXG4gICAgPFNlbGVjdFNjcm9sbEJ1dHRvbkltcGxcbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIHJlZj17Y29tcG9zZWRSZWZzfVxuICAgICAgb25BdXRvU2Nyb2xsPXsoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdmlld3BvcnQsIHNlbGVjdGVkSXRlbSB9ID0gY29udGVudENvbnRleHQ7XG4gICAgICAgIGlmICh2aWV3cG9ydCAmJiBzZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICB2aWV3cG9ydC5zY3JvbGxUb3AgPSB2aWV3cG9ydC5zY3JvbGxUb3AgLSBzZWxlY3RlZEl0ZW0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9fVxuICAgIC8+XG4gICkgOiBudWxsO1xufSk7XG5cblNlbGVjdFNjcm9sbFVwQnV0dG9uLmRpc3BsYXlOYW1lID0gU0NST0xMX1VQX0JVVFRPTl9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3RTY3JvbGxEb3duQnV0dG9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IFNDUk9MTF9ET1dOX0JVVFRPTl9OQU1FID0gJ1NlbGVjdFNjcm9sbERvd25CdXR0b24nO1xuXG50eXBlIFNlbGVjdFNjcm9sbERvd25CdXR0b25FbGVtZW50ID0gU2VsZWN0U2Nyb2xsQnV0dG9uSW1wbEVsZW1lbnQ7XG5pbnRlcmZhY2UgU2VsZWN0U2Nyb2xsRG93bkJ1dHRvblByb3BzIGV4dGVuZHMgT21pdDxTZWxlY3RTY3JvbGxCdXR0b25JbXBsUHJvcHMsICdvbkF1dG9TY3JvbGwnPiB7fVxuXG5jb25zdCBTZWxlY3RTY3JvbGxEb3duQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbkVsZW1lbnQsXG4gIFNlbGVjdFNjcm9sbERvd25CdXR0b25Qcm9wc1xuPigocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdFNjcm9sbERvd25CdXR0b25Qcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCBjb250ZW50Q29udGV4dCA9IHVzZVNlbGVjdENvbnRlbnRDb250ZXh0KFNDUk9MTF9ET1dOX0JVVFRPTl9OQU1FLCBwcm9wcy5fX3Njb3BlU2VsZWN0KTtcbiAgY29uc3Qgdmlld3BvcnRDb250ZXh0ID0gdXNlU2VsZWN0Vmlld3BvcnRDb250ZXh0KFNDUk9MTF9ET1dOX0JVVFRPTl9OQU1FLCBwcm9wcy5fX3Njb3BlU2VsZWN0KTtcbiAgY29uc3QgW2NhblNjcm9sbERvd24sIHNldENhblNjcm9sbERvd25dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCB2aWV3cG9ydENvbnRleHQub25TY3JvbGxCdXR0b25DaGFuZ2UpO1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbnRlbnRDb250ZXh0LnZpZXdwb3J0ICYmIGNvbnRlbnRDb250ZXh0LmlzUG9zaXRpb25lZCkge1xuICAgICAgY29uc3Qgdmlld3BvcnQgPSBjb250ZW50Q29udGV4dC52aWV3cG9ydDtcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHtcbiAgICAgICAgY29uc3QgbWF4U2Nyb2xsID0gdmlld3BvcnQuc2Nyb2xsSGVpZ2h0IC0gdmlld3BvcnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAvLyB3ZSB1c2UgTWF0aC5jZWlsIGhlcmUgYmVjYXVzZSBpZiB0aGUgVUkgaXMgem9vbWVkLWluXG4gICAgICAgIC8vIGBzY3JvbGxUb3BgIGlzIG5vdCBhbHdheXMgcmVwb3J0ZWQgYXMgYW4gaW50ZWdlclxuICAgICAgICBjb25zdCBjYW5TY3JvbGxEb3duID0gTWF0aC5jZWlsKHZpZXdwb3J0LnNjcm9sbFRvcCkgPCBtYXhTY3JvbGw7XG4gICAgICAgIHNldENhblNjcm9sbERvd24oY2FuU2Nyb2xsRG93bik7XG4gICAgICB9XG4gICAgICBoYW5kbGVTY3JvbGwoKTtcbiAgICAgIHZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7XG4gICAgICByZXR1cm4gKCkgPT4gdmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcbiAgICB9XG4gIH0sIFtjb250ZW50Q29udGV4dC52aWV3cG9ydCwgY29udGVudENvbnRleHQuaXNQb3NpdGlvbmVkXSk7XG5cbiAgcmV0dXJuIGNhblNjcm9sbERvd24gPyAoXG4gICAgPFNlbGVjdFNjcm9sbEJ1dHRvbkltcGxcbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIHJlZj17Y29tcG9zZWRSZWZzfVxuICAgICAgb25BdXRvU2Nyb2xsPXsoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdmlld3BvcnQsIHNlbGVjdGVkSXRlbSB9ID0gY29udGVudENvbnRleHQ7XG4gICAgICAgIGlmICh2aWV3cG9ydCAmJiBzZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICB2aWV3cG9ydC5zY3JvbGxUb3AgPSB2aWV3cG9ydC5zY3JvbGxUb3AgKyBzZWxlY3RlZEl0ZW0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9fVxuICAgIC8+XG4gICkgOiBudWxsO1xufSk7XG5cblNlbGVjdFNjcm9sbERvd25CdXR0b24uZGlzcGxheU5hbWUgPSBTQ1JPTExfRE9XTl9CVVRUT05fTkFNRTtcblxudHlwZSBTZWxlY3RTY3JvbGxCdXR0b25JbXBsRWxlbWVudCA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuaW50ZXJmYWNlIFNlbGVjdFNjcm9sbEJ1dHRvbkltcGxQcm9wcyBleHRlbmRzIFByaW1pdGl2ZURpdlByb3BzIHtcbiAgb25BdXRvU2Nyb2xsKCk6IHZvaWQ7XG59XG5cbmNvbnN0IFNlbGVjdFNjcm9sbEJ1dHRvbkltcGwgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBTZWxlY3RTY3JvbGxCdXR0b25JbXBsRWxlbWVudCxcbiAgU2VsZWN0U2Nyb2xsQnV0dG9uSW1wbFByb3BzXG4+KChwcm9wczogU2NvcGVkUHJvcHM8U2VsZWN0U2Nyb2xsQnV0dG9uSW1wbFByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHsgX19zY29wZVNlbGVjdCwgb25BdXRvU2Nyb2xsLCAuLi5zY3JvbGxJbmRpY2F0b3JQcm9wcyB9ID0gcHJvcHM7XG4gIGNvbnN0IGNvbnRlbnRDb250ZXh0ID0gdXNlU2VsZWN0Q29udGVudENvbnRleHQoJ1NlbGVjdFNjcm9sbEJ1dHRvbicsIF9fc2NvcGVTZWxlY3QpO1xuICBjb25zdCBhdXRvU2Nyb2xsVGltZXJSZWYgPSBSZWFjdC51c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGdldEl0ZW1zID0gdXNlQ29sbGVjdGlvbihfX3Njb3BlU2VsZWN0KTtcblxuICBjb25zdCBjbGVhckF1dG9TY3JvbGxUaW1lciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoYXV0b1Njcm9sbFRpbWVyUmVmLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGF1dG9TY3JvbGxUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgIGF1dG9TY3JvbGxUaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiBjbGVhckF1dG9TY3JvbGxUaW1lcigpO1xuICB9LCBbY2xlYXJBdXRvU2Nyb2xsVGltZXJdKTtcblxuICAvLyBXaGVuIHRoZSB2aWV3cG9ydCBiZWNvbWVzIHNjcm9sbGFibGUgb24gZWl0aGVyIHNpZGUsIHRoZSByZWxldmFudCBzY3JvbGwgYnV0dG9uIHdpbGwgbW91bnQuXG4gIC8vIEJlY2F1c2UgaXQgaXMgcGFydCBvZiB0aGUgbm9ybWFsIGZsb3csIGl0IHdpbGwgcHVzaCBkb3duICh0b3AgYnV0dG9uKSBvciBzaHJpbmsgKGJvdHRvbSBidXR0b24pXG4gIC8vIHRoZSB2aWV3cG9ydCwgcG90ZW50aWFsbHkgY2F1c2luZyB0aGUgYWN0aXZlIGl0ZW0gdG8gbm93IGJlIHBhcnRpYWxseSBvdXQgb2Ygdmlldy5cbiAgLy8gV2UgcmUtcnVuIHRoZSBgc2Nyb2xsSW50b1ZpZXdgIGxvZ2ljIHRvIG1ha2Ugc3VyZSBpdCBzdGF5cyB3aXRoaW4gdGhlIHZpZXdwb3J0LlxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGFjdGl2ZUl0ZW0gPSBnZXRJdGVtcygpLmZpbmQoKGl0ZW0pID0+IGl0ZW0ucmVmLmN1cnJlbnQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIGFjdGl2ZUl0ZW0/LnJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiAnbmVhcmVzdCcgfSk7XG4gIH0sIFtnZXRJdGVtc10pO1xuXG4gIHJldHVybiAoXG4gICAgPFByaW1pdGl2ZS5kaXZcbiAgICAgIGFyaWEtaGlkZGVuXG4gICAgICB7Li4uc2Nyb2xsSW5kaWNhdG9yUHJvcHN9XG4gICAgICByZWY9e2ZvcndhcmRlZFJlZn1cbiAgICAgIHN0eWxlPXt7IGZsZXhTaHJpbms6IDAsIC4uLnNjcm9sbEluZGljYXRvclByb3BzLnN0eWxlIH19XG4gICAgICBvblBvaW50ZXJEb3duPXtjb21wb3NlRXZlbnRIYW5kbGVycyhzY3JvbGxJbmRpY2F0b3JQcm9wcy5vblBvaW50ZXJEb3duLCAoKSA9PiB7XG4gICAgICAgIGlmIChhdXRvU2Nyb2xsVGltZXJSZWYuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgIGF1dG9TY3JvbGxUaW1lclJlZi5jdXJyZW50ID0gd2luZG93LnNldEludGVydmFsKG9uQXV0b1Njcm9sbCwgNTApO1xuICAgICAgICB9XG4gICAgICB9KX1cbiAgICAgIG9uUG9pbnRlck1vdmU9e2NvbXBvc2VFdmVudEhhbmRsZXJzKHNjcm9sbEluZGljYXRvclByb3BzLm9uUG9pbnRlck1vdmUsICgpID0+IHtcbiAgICAgICAgY29udGVudENvbnRleHQub25JdGVtTGVhdmU/LigpO1xuICAgICAgICBpZiAoYXV0b1Njcm9sbFRpbWVyUmVmLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICBhdXRvU2Nyb2xsVGltZXJSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRJbnRlcnZhbChvbkF1dG9TY3JvbGwsIDUwKTtcbiAgICAgICAgfVxuICAgICAgfSl9XG4gICAgICBvblBvaW50ZXJMZWF2ZT17Y29tcG9zZUV2ZW50SGFuZGxlcnMoc2Nyb2xsSW5kaWNhdG9yUHJvcHMub25Qb2ludGVyTGVhdmUsICgpID0+IHtcbiAgICAgICAgY2xlYXJBdXRvU2Nyb2xsVGltZXIoKTtcbiAgICAgIH0pfVxuICAgIC8+XG4gICk7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VsZWN0U2VwYXJhdG9yXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IFNFUEFSQVRPUl9OQU1FID0gJ1NlbGVjdFNlcGFyYXRvcic7XG5cbnR5cGUgU2VsZWN0U2VwYXJhdG9yRWxlbWVudCA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuaW50ZXJmYWNlIFNlbGVjdFNlcGFyYXRvclByb3BzIGV4dGVuZHMgUHJpbWl0aXZlRGl2UHJvcHMge31cblxuY29uc3QgU2VsZWN0U2VwYXJhdG9yID0gUmVhY3QuZm9yd2FyZFJlZjxTZWxlY3RTZXBhcmF0b3JFbGVtZW50LCBTZWxlY3RTZXBhcmF0b3JQcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8U2VsZWN0U2VwYXJhdG9yUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIC4uLnNlcGFyYXRvclByb3BzIH0gPSBwcm9wcztcbiAgICByZXR1cm4gPFByaW1pdGl2ZS5kaXYgYXJpYS1oaWRkZW4gey4uLnNlcGFyYXRvclByb3BzfSByZWY9e2ZvcndhcmRlZFJlZn0gLz47XG4gIH1cbik7XG5cblNlbGVjdFNlcGFyYXRvci5kaXNwbGF5TmFtZSA9IFNFUEFSQVRPUl9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3RBcnJvd1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBBUlJPV19OQU1FID0gJ1NlbGVjdEFycm93JztcblxudHlwZSBTZWxlY3RBcnJvd0VsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQb3BwZXJQcmltaXRpdmUuQXJyb3c+O1xudHlwZSBQb3BwZXJBcnJvd1Byb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQb3BwZXJQcmltaXRpdmUuQXJyb3c+O1xuaW50ZXJmYWNlIFNlbGVjdEFycm93UHJvcHMgZXh0ZW5kcyBQb3BwZXJBcnJvd1Byb3BzIHt9XG5cbmNvbnN0IFNlbGVjdEFycm93ID0gUmVhY3QuZm9yd2FyZFJlZjxTZWxlY3RBcnJvd0VsZW1lbnQsIFNlbGVjdEFycm93UHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPFNlbGVjdEFycm93UHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIC4uLmFycm93UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHBvcHBlclNjb3BlID0gdXNlUG9wcGVyU2NvcGUoX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoQVJST1dfTkFNRSwgX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VTZWxlY3RDb250ZW50Q29udGV4dChBUlJPV19OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICByZXR1cm4gY29udGV4dC5vcGVuICYmIGNvbnRlbnRDb250ZXh0LnBvc2l0aW9uID09PSAncG9wcGVyJyA/IChcbiAgICAgIDxQb3BwZXJQcmltaXRpdmUuQXJyb3cgey4uLnBvcHBlclNjb3BlfSB7Li4uYXJyb3dQcm9wc30gcmVmPXtmb3J3YXJkZWRSZWZ9IC8+XG4gICAgKSA6IG51bGw7XG4gIH1cbik7XG5cblNlbGVjdEFycm93LmRpc3BsYXlOYW1lID0gQVJST1dfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5mdW5jdGlvbiBzaG91bGRTaG93UGxhY2Vob2xkZXIodmFsdWU/OiBzdHJpbmcpIHtcbiAgcmV0dXJuIHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xufVxuXG5jb25zdCBCdWJibGVTZWxlY3QgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxTZWxlY3RFbGVtZW50LCBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8J3NlbGVjdCc+PihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IHZhbHVlLCAuLi5zZWxlY3RQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmPEhUTUxTZWxlY3RFbGVtZW50PihudWxsKTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCByZWYpO1xuICAgIGNvbnN0IHByZXZWYWx1ZSA9IHVzZVByZXZpb3VzKHZhbHVlKTtcblxuICAgIC8vIEJ1YmJsZSB2YWx1ZSBjaGFuZ2UgdG8gcGFyZW50cyAoZS5nIGZvcm0gY2hhbmdlIGV2ZW50KVxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBzZWxlY3QgPSByZWYuY3VycmVudCE7XG4gICAgICBjb25zdCBzZWxlY3RQcm90byA9IHdpbmRvdy5IVE1MU2VsZWN0RWxlbWVudC5wcm90b3R5cGU7XG4gICAgICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgc2VsZWN0UHJvdG8sXG4gICAgICAgICd2YWx1ZSdcbiAgICAgICkgYXMgUHJvcGVydHlEZXNjcmlwdG9yO1xuICAgICAgY29uc3Qgc2V0VmFsdWUgPSBkZXNjcmlwdG9yLnNldDtcbiAgICAgIGlmIChwcmV2VmFsdWUgIT09IHZhbHVlICYmIHNldFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG4gICAgICAgIHNldFZhbHVlLmNhbGwoc2VsZWN0LCB2YWx1ZSk7XG4gICAgICAgIHNlbGVjdC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBbcHJldlZhbHVlLCB2YWx1ZV0pO1xuXG4gICAgLyoqXG4gICAgICogV2UgcHVycG9zZWZ1bGx5IHVzZSBhIGBzZWxlY3RgIGhlcmUgdG8gc3VwcG9ydCBmb3JtIGF1dG9maWxsIGFzIG11Y2hcbiAgICAgKiBhcyBwb3NzaWJsZS5cbiAgICAgKlxuICAgICAqIFdlIHB1cnBvc2VmdWxseSBkbyBub3QgYWRkIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZSBoZXJlIHRvIGFsbG93IHRoZSB2YWx1ZVxuICAgICAqIHRvIGJlIHNldCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBidWJibGUgdG8gYW55IHBhcmVudCBmb3JtIGBvbkNoYW5nZWAgZXZlbnQuXG4gICAgICogQWRkaW5nIHRoZSBgdmFsdWVgIHdpbGwgY2F1c2UgUmVhY3QgdG8gY29uc2lkZXIgdGhlIHByb2dyYW1tYXRpY1xuICAgICAqIGRpc3BhdGNoIGEgZHVwbGljYXRlIGFuZCBpdCB3aWxsIGdldCBzd2FsbG93ZWQuXG4gICAgICpcbiAgICAgKiBXZSB1c2UgYFZpc3VhbGx5SGlkZGVuYCByYXRoZXIgdGhhbiBgZGlzcGxheTogXCJub25lXCJgIGJlY2F1c2UgU2FmYXJpIGF1dG9maWxsXG4gICAgICogd29uJ3Qgd29yayBvdGhlcndpc2UuXG4gICAgICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaXN1YWxseUhpZGRlbiBhc0NoaWxkPlxuICAgICAgICA8c2VsZWN0IHsuLi5zZWxlY3RQcm9wc30gcmVmPXtjb21wb3NlZFJlZnN9IGRlZmF1bHRWYWx1ZT17dmFsdWV9IC8+XG4gICAgICA8L1Zpc3VhbGx5SGlkZGVuPlxuICAgICk7XG4gIH1cbik7XG5cbkJ1YmJsZVNlbGVjdC5kaXNwbGF5TmFtZSA9ICdCdWJibGVTZWxlY3QnO1xuXG5mdW5jdGlvbiB1c2VUeXBlYWhlYWRTZWFyY2gob25TZWFyY2hDaGFuZ2U6IChzZWFyY2g6IHN0cmluZykgPT4gdm9pZCkge1xuICBjb25zdCBoYW5kbGVTZWFyY2hDaGFuZ2UgPSB1c2VDYWxsYmFja1JlZihvblNlYXJjaENoYW5nZSk7XG4gIGNvbnN0IHNlYXJjaFJlZiA9IFJlYWN0LnVzZVJlZignJyk7XG4gIGNvbnN0IHRpbWVyUmVmID0gUmVhY3QudXNlUmVmKDApO1xuXG4gIGNvbnN0IGhhbmRsZVR5cGVhaGVhZFNlYXJjaCA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUmVmLmN1cnJlbnQgKyBrZXk7XG4gICAgICBoYW5kbGVTZWFyY2hDaGFuZ2Uoc2VhcmNoKTtcblxuICAgICAgKGZ1bmN0aW9uIHVwZGF0ZVNlYXJjaCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHNlYXJjaFJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIC8vIFJlc2V0IGBzZWFyY2hSZWZgIDEgc2Vjb25kIGFmdGVyIGl0IHdhcyBsYXN0IHVwZGF0ZWRcbiAgICAgICAgaWYgKHZhbHVlICE9PSAnJykgdGltZXJSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHVwZGF0ZVNlYXJjaCgnJyksIDEwMDApO1xuICAgICAgfSkoc2VhcmNoKTtcbiAgICB9LFxuICAgIFtoYW5kbGVTZWFyY2hDaGFuZ2VdXG4gICk7XG5cbiAgY29uc3QgcmVzZXRUeXBlYWhlYWQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2VhcmNoUmVmLmN1cnJlbnQgPSAnJztcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVyUmVmLmN1cnJlbnQpO1xuICB9LCBbXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LmNsZWFyVGltZW91dCh0aW1lclJlZi5jdXJyZW50KTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBbc2VhcmNoUmVmLCBoYW5kbGVUeXBlYWhlYWRTZWFyY2gsIHJlc2V0VHlwZWFoZWFkXSBhcyBjb25zdDtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBcIm1lYXRcIiBvZiB0aGUgdHlwZWFoZWFkIG1hdGNoaW5nIGxvZ2ljLiBJdCB0YWtlcyBpbiBhIGxpc3Qgb2YgaXRlbXMsXG4gKiB0aGUgc2VhcmNoIGFuZCB0aGUgY3VycmVudCBpdGVtLCBhbmQgcmV0dXJucyB0aGUgbmV4dCBpdGVtIChvciBgdW5kZWZpbmVkYCkuXG4gKlxuICogV2Ugbm9ybWFsaXplIHRoZSBzZWFyY2ggYmVjYXVzZSBpZiBhIHVzZXIgaGFzIHJlcGVhdGVkbHkgcHJlc3NlZCBhIGNoYXJhY3RlcixcbiAqIHdlIHdhbnQgdGhlIGV4YWN0IHNhbWUgYmVoYXZpb3IgYXMgaWYgd2Ugb25seSBoYWQgdGhhdCBvbmUgY2hhcmFjdGVyXG4gKiAoaWUuIGN5Y2xlIHRocm91Z2ggaXRlbXMgc3RhcnRpbmcgd2l0aCB0aGF0IGNoYXJhY3RlcilcbiAqXG4gKiBXZSBhbHNvIHJlb3JkZXIgdGhlIGl0ZW1zIGJ5IHdyYXBwaW5nIHRoZSBhcnJheSBhcm91bmQgdGhlIGN1cnJlbnQgaXRlbS5cbiAqIFRoaXMgaXMgc28gd2UgYWx3YXlzIGxvb2sgZm9yd2FyZCBmcm9tIHRoZSBjdXJyZW50IGl0ZW0sIGFuZCBwaWNraW5nIHRoZSBmaXJzdFxuICogaXRlbSB3aWxsIGFsd2F5cyBiZSB0aGUgY29ycmVjdCBvbmUuXG4gKlxuICogRmluYWxseSwgaWYgdGhlIG5vcm1hbGl6ZWQgc2VhcmNoIGlzIGV4YWN0bHkgb25lIGNoYXJhY3Rlciwgd2UgZXhjbHVkZSB0aGVcbiAqIGN1cnJlbnQgaXRlbSBmcm9tIHRoZSB2YWx1ZXMgYmVjYXVzZSBvdGhlcndpc2UgaXQgd291bGQgYmUgdGhlIGZpcnN0IHRvIG1hdGNoIGFsd2F5c1xuICogYW5kIGZvY3VzIHdvdWxkIG5ldmVyIG1vdmUuIFRoaXMgaXMgYXMgb3Bwb3NlZCB0byB0aGUgcmVndWxhciBjYXNlLCB3aGVyZSB3ZVxuICogZG9uJ3Qgd2FudCBmb2N1cyB0byBtb3ZlIGlmIHRoZSBjdXJyZW50IGl0ZW0gc3RpbGwgbWF0Y2hlcy5cbiAqL1xuZnVuY3Rpb24gZmluZE5leHRJdGVtPFQgZXh0ZW5kcyB7IHRleHRWYWx1ZTogc3RyaW5nIH0+KFxuICBpdGVtczogVFtdLFxuICBzZWFyY2g6IHN0cmluZyxcbiAgY3VycmVudEl0ZW0/OiBUXG4pIHtcbiAgY29uc3QgaXNSZXBlYXRlZCA9IHNlYXJjaC5sZW5ndGggPiAxICYmIEFycmF5LmZyb20oc2VhcmNoKS5ldmVyeSgoY2hhcikgPT4gY2hhciA9PT0gc2VhcmNoWzBdKTtcbiAgY29uc3Qgbm9ybWFsaXplZFNlYXJjaCA9IGlzUmVwZWF0ZWQgPyBzZWFyY2hbMF0gOiBzZWFyY2g7XG4gIGNvbnN0IGN1cnJlbnRJdGVtSW5kZXggPSBjdXJyZW50SXRlbSA/IGl0ZW1zLmluZGV4T2YoY3VycmVudEl0ZW0pIDogLTE7XG4gIGxldCB3cmFwcGVkSXRlbXMgPSB3cmFwQXJyYXkoaXRlbXMsIE1hdGgubWF4KGN1cnJlbnRJdGVtSW5kZXgsIDApKTtcbiAgY29uc3QgZXhjbHVkZUN1cnJlbnRJdGVtID0gbm9ybWFsaXplZFNlYXJjaC5sZW5ndGggPT09IDE7XG4gIGlmIChleGNsdWRlQ3VycmVudEl0ZW0pIHdyYXBwZWRJdGVtcyA9IHdyYXBwZWRJdGVtcy5maWx0ZXIoKHYpID0+IHYgIT09IGN1cnJlbnRJdGVtKTtcbiAgY29uc3QgbmV4dEl0ZW0gPSB3cmFwcGVkSXRlbXMuZmluZCgoaXRlbSkgPT5cbiAgICBpdGVtLnRleHRWYWx1ZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgobm9ybWFsaXplZFNlYXJjaC50b0xvd2VyQ2FzZSgpKVxuICApO1xuICByZXR1cm4gbmV4dEl0ZW0gIT09IGN1cnJlbnRJdGVtID8gbmV4dEl0ZW0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogV3JhcHMgYW4gYXJyYXkgYXJvdW5kIGl0c2VsZiBhdCBhIGdpdmVuIHN0YXJ0IGluZGV4XG4gKiBFeGFtcGxlOiBgd3JhcEFycmF5KFsnYScsICdiJywgJ2MnLCAnZCddLCAyKSA9PT0gWydjJywgJ2QnLCAnYScsICdiJ11gXG4gKi9cbmZ1bmN0aW9uIHdyYXBBcnJheTxUPihhcnJheTogVFtdLCBzdGFydEluZGV4OiBudW1iZXIpIHtcbiAgcmV0dXJuIGFycmF5Lm1hcCgoXywgaW5kZXgpID0+IGFycmF5WyhzdGFydEluZGV4ICsgaW5kZXgpICUgYXJyYXkubGVuZ3RoXSk7XG59XG5cbmNvbnN0IFJvb3QgPSBTZWxlY3Q7XG5jb25zdCBUcmlnZ2VyID0gU2VsZWN0VHJpZ2dlcjtcbmNvbnN0IFZhbHVlID0gU2VsZWN0VmFsdWU7XG5jb25zdCBJY29uID0gU2VsZWN0SWNvbjtcbmNvbnN0IFBvcnRhbCA9IFNlbGVjdFBvcnRhbDtcbmNvbnN0IENvbnRlbnQgPSBTZWxlY3RDb250ZW50O1xuY29uc3QgVmlld3BvcnQgPSBTZWxlY3RWaWV3cG9ydDtcbmNvbnN0IEdyb3VwID0gU2VsZWN0R3JvdXA7XG5jb25zdCBMYWJlbCA9IFNlbGVjdExhYmVsO1xuY29uc3QgSXRlbSA9IFNlbGVjdEl0ZW07XG5jb25zdCBJdGVtVGV4dCA9IFNlbGVjdEl0ZW1UZXh0O1xuY29uc3QgSXRlbUluZGljYXRvciA9IFNlbGVjdEl0ZW1JbmRpY2F0b3I7XG5jb25zdCBTY3JvbGxVcEJ1dHRvbiA9IFNlbGVjdFNjcm9sbFVwQnV0dG9uO1xuY29uc3QgU2Nyb2xsRG93bkJ1dHRvbiA9IFNlbGVjdFNjcm9sbERvd25CdXR0b247XG5jb25zdCBTZXBhcmF0b3IgPSBTZWxlY3RTZXBhcmF0b3I7XG5jb25zdCBBcnJvdyA9IFNlbGVjdEFycm93O1xuXG5leHBvcnQge1xuICBjcmVhdGVTZWxlY3RTY29wZSxcbiAgLy9cbiAgU2VsZWN0LFxuICBTZWxlY3RUcmlnZ2VyLFxuICBTZWxlY3RWYWx1ZSxcbiAgU2VsZWN0SWNvbixcbiAgU2VsZWN0UG9ydGFsLFxuICBTZWxlY3RDb250ZW50LFxuICBTZWxlY3RWaWV3cG9ydCxcbiAgU2VsZWN0R3JvdXAsXG4gIFNlbGVjdExhYmVsLFxuICBTZWxlY3RJdGVtLFxuICBTZWxlY3RJdGVtVGV4dCxcbiAgU2VsZWN0SXRlbUluZGljYXRvcixcbiAgU2VsZWN0U2Nyb2xsVXBCdXR0b24sXG4gIFNlbGVjdFNjcm9sbERvd25CdXR0b24sXG4gIFNlbGVjdFNlcGFyYXRvcixcbiAgU2VsZWN0QXJyb3csXG4gIC8vXG4gIFJvb3QsXG4gIFRyaWdnZXIsXG4gIFZhbHVlLFxuICBJY29uLFxuICBQb3J0YWwsXG4gIENvbnRlbnQsXG4gIFZpZXdwb3J0LFxuICBHcm91cCxcbiAgTGFiZWwsXG4gIEl0ZW0sXG4gIEl0ZW1UZXh0LFxuICBJdGVtSW5kaWNhdG9yLFxuICBTY3JvbGxVcEJ1dHRvbixcbiAgU2Nyb2xsRG93bkJ1dHRvbixcbiAgU2VwYXJhdG9yLFxuICBBcnJvdyxcbn07XG5leHBvcnQgdHlwZSB7XG4gIFNlbGVjdFByb3BzLFxuICBTZWxlY3RUcmlnZ2VyUHJvcHMsXG4gIFNlbGVjdFZhbHVlUHJvcHMsXG4gIFNlbGVjdEljb25Qcm9wcyxcbiAgU2VsZWN0UG9ydGFsUHJvcHMsXG4gIFNlbGVjdENvbnRlbnRQcm9wcyxcbiAgU2VsZWN0Vmlld3BvcnRQcm9wcyxcbiAgU2VsZWN0R3JvdXBQcm9wcyxcbiAgU2VsZWN0TGFiZWxQcm9wcyxcbiAgU2VsZWN0SXRlbVByb3BzLFxuICBTZWxlY3RJdGVtVGV4dFByb3BzLFxuICBTZWxlY3RJdGVtSW5kaWNhdG9yUHJvcHMsXG4gIFNlbGVjdFNjcm9sbFVwQnV0dG9uUHJvcHMsXG4gIFNlbGVjdFNjcm9sbERvd25CdXR0b25Qcm9wcyxcbiAgU2VsZWN0U2VwYXJhdG9yUHJvcHMsXG4gIFNlbGVjdEFycm93UHJvcHMsXG59O1xuIiwgImZ1bmN0aW9uIGNsYW1wKHZhbHVlOiBudW1iZXIsIFttaW4sIG1heF06IFtudW1iZXIsIG51bWJlcl0pOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHZhbHVlKSk7XG59XG5cbmV4cG9ydCB7IGNsYW1wIH07XG4iLCAiZnVuY3Rpb24gY29tcG9zZUV2ZW50SGFuZGxlcnM8RT4oXG4gIG9yaWdpbmFsRXZlbnRIYW5kbGVyPzogKGV2ZW50OiBFKSA9PiB2b2lkLFxuICBvdXJFdmVudEhhbmRsZXI/OiAoZXZlbnQ6IEUpID0+IHZvaWQsXG4gIHsgY2hlY2tGb3JEZWZhdWx0UHJldmVudGVkID0gdHJ1ZSB9ID0ge31cbikge1xuICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQ6IEUpIHtcbiAgICBvcmlnaW5hbEV2ZW50SGFuZGxlcj8uKGV2ZW50KTtcblxuICAgIGlmIChjaGVja0ZvckRlZmF1bHRQcmV2ZW50ZWQgPT09IGZhbHNlIHx8ICEoZXZlbnQgYXMgdW5rbm93biBhcyBFdmVudCkuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuIG91ckV2ZW50SGFuZGxlcj8uKGV2ZW50KTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH07XG4iLCAiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRTY29wZSB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb250ZXh0JztcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnMnO1xuaW1wb3J0IHsgU2xvdCB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1zbG90JztcblxudHlwZSBTbG90UHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNsb3Q+O1xudHlwZSBDb2xsZWN0aW9uRWxlbWVudCA9IEhUTUxFbGVtZW50O1xuaW50ZXJmYWNlIENvbGxlY3Rpb25Qcm9wcyBleHRlbmRzIFNsb3RQcm9wcyB7XG4gIHNjb3BlOiBhbnk7XG59XG5cbi8vIFdlIGhhdmUgcmVzb3J0ZWQgdG8gcmV0dXJuaW5nIHNsb3RzIGRpcmVjdGx5IHJhdGhlciB0aGFuIGV4cG9zaW5nIHByaW1pdGl2ZXMgdGhhdCBjYW4gdGhlblxuLy8gYmUgc2xvdHRlZCBsaWtlIGA8Q29sbGVjdGlvbkl0ZW0gYXM9e1Nsb3R9Plx1MjAyNjwvQ29sbGVjdGlvbkl0ZW0+YC5cbi8vIFRoaXMgaXMgYmVjYXVzZSB3ZSBlbmNvdW50ZXJlZCBpc3N1ZXMgd2l0aCBnZW5lcmljIHR5cGVzIHRoYXQgY2Fubm90IGJlIHN0YXRpY2FsbHkgYW5hbHlzZWRcbi8vIGR1ZSB0byBjcmVhdGluZyB0aGVtIGR5bmFtaWNhbGx5IHZpYSBjcmVhdGVDb2xsZWN0aW9uLlxuXG5mdW5jdGlvbiBjcmVhdGVDb2xsZWN0aW9uPEl0ZW1FbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQsIEl0ZW1EYXRhID0ge30+KG5hbWU6IHN0cmluZykge1xuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb2xsZWN0aW9uUHJvdmlkZXJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICBjb25zdCBQUk9WSURFUl9OQU1FID0gbmFtZSArICdDb2xsZWN0aW9uUHJvdmlkZXInO1xuICBjb25zdCBbY3JlYXRlQ29sbGVjdGlvbkNvbnRleHQsIGNyZWF0ZUNvbGxlY3Rpb25TY29wZV0gPSBjcmVhdGVDb250ZXh0U2NvcGUoUFJPVklERVJfTkFNRSk7XG5cbiAgdHlwZSBDb250ZXh0VmFsdWUgPSB7XG4gICAgY29sbGVjdGlvblJlZjogUmVhY3QuUmVmT2JqZWN0PENvbGxlY3Rpb25FbGVtZW50IHwgbnVsbD47XG4gICAgaXRlbU1hcDogTWFwPFxuICAgICAgUmVhY3QuUmVmT2JqZWN0PEl0ZW1FbGVtZW50IHwgbnVsbD4sXG4gICAgICB7IHJlZjogUmVhY3QuUmVmT2JqZWN0PEl0ZW1FbGVtZW50IHwgbnVsbD4gfSAmIEl0ZW1EYXRhXG4gICAgPjtcbiAgfTtcblxuICBjb25zdCBbQ29sbGVjdGlvblByb3ZpZGVySW1wbCwgdXNlQ29sbGVjdGlvbkNvbnRleHRdID0gY3JlYXRlQ29sbGVjdGlvbkNvbnRleHQ8Q29udGV4dFZhbHVlPihcbiAgICBQUk9WSURFUl9OQU1FLFxuICAgIHsgY29sbGVjdGlvblJlZjogeyBjdXJyZW50OiBudWxsIH0sIGl0ZW1NYXA6IG5ldyBNYXAoKSB9XG4gICk7XG5cbiAgY29uc3QgQ29sbGVjdGlvblByb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOyBzY29wZTogYW55IH0+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBzY29wZSwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZjxDb2xsZWN0aW9uRWxlbWVudD4obnVsbCk7XG4gICAgY29uc3QgaXRlbU1hcCA9IFJlYWN0LnVzZVJlZjxDb250ZXh0VmFsdWVbJ2l0ZW1NYXAnXT4obmV3IE1hcCgpKS5jdXJyZW50O1xuICAgIHJldHVybiAoXG4gICAgICA8Q29sbGVjdGlvblByb3ZpZGVySW1wbCBzY29wZT17c2NvcGV9IGl0ZW1NYXA9e2l0ZW1NYXB9IGNvbGxlY3Rpb25SZWY9e3JlZn0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvQ29sbGVjdGlvblByb3ZpZGVySW1wbD5cbiAgICApO1xuICB9O1xuXG4gIENvbGxlY3Rpb25Qcm92aWRlci5kaXNwbGF5TmFtZSA9IFBST1ZJREVSX05BTUU7XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29sbGVjdGlvblNsb3RcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICBjb25zdCBDT0xMRUNUSU9OX1NMT1RfTkFNRSA9IG5hbWUgKyAnQ29sbGVjdGlvblNsb3QnO1xuXG4gIGNvbnN0IENvbGxlY3Rpb25TbG90ID0gUmVhY3QuZm9yd2FyZFJlZjxDb2xsZWN0aW9uRWxlbWVudCwgQ29sbGVjdGlvblByb3BzPihcbiAgICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgICAgY29uc3QgeyBzY29wZSwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgICAgY29uc3QgY29udGV4dCA9IHVzZUNvbGxlY3Rpb25Db250ZXh0KENPTExFQ1RJT05fU0xPVF9OQU1FLCBzY29wZSk7XG4gICAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCBjb250ZXh0LmNvbGxlY3Rpb25SZWYpO1xuICAgICAgcmV0dXJuIDxTbG90IHJlZj17Y29tcG9zZWRSZWZzfT57Y2hpbGRyZW59PC9TbG90PjtcbiAgICB9XG4gICk7XG5cbiAgQ29sbGVjdGlvblNsb3QuZGlzcGxheU5hbWUgPSBDT0xMRUNUSU9OX1NMT1RfTkFNRTtcblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb2xsZWN0aW9uSXRlbVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIGNvbnN0IElURU1fU0xPVF9OQU1FID0gbmFtZSArICdDb2xsZWN0aW9uSXRlbVNsb3QnO1xuICBjb25zdCBJVEVNX0RBVEFfQVRUUiA9ICdkYXRhLXJhZGl4LWNvbGxlY3Rpb24taXRlbSc7XG5cbiAgdHlwZSBDb2xsZWN0aW9uSXRlbVNsb3RQcm9wcyA9IEl0ZW1EYXRhICYge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgc2NvcGU6IGFueTtcbiAgfTtcblxuICBjb25zdCBDb2xsZWN0aW9uSXRlbVNsb3QgPSBSZWFjdC5mb3J3YXJkUmVmPEl0ZW1FbGVtZW50LCBDb2xsZWN0aW9uSXRlbVNsb3RQcm9wcz4oXG4gICAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICAgIGNvbnN0IHsgc2NvcGUsIGNoaWxkcmVuLCAuLi5pdGVtRGF0YSB9ID0gcHJvcHM7XG4gICAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWY8SXRlbUVsZW1lbnQ+KG51bGwpO1xuICAgICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgcmVmKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb2xsZWN0aW9uQ29udGV4dChJVEVNX1NMT1RfTkFNRSwgc2NvcGUpO1xuXG4gICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb250ZXh0Lml0ZW1NYXAuc2V0KHJlZiwgeyByZWYsIC4uLihpdGVtRGF0YSBhcyB1bmtub3duIGFzIEl0ZW1EYXRhKSB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHZvaWQgY29udGV4dC5pdGVtTWFwLmRlbGV0ZShyZWYpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTbG90IHsuLi57IFtJVEVNX0RBVEFfQVRUUl06ICcnIH19IHJlZj17Y29tcG9zZWRSZWZzfT5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvU2xvdD5cbiAgICAgICk7XG4gICAgfVxuICApO1xuXG4gIENvbGxlY3Rpb25JdGVtU2xvdC5kaXNwbGF5TmFtZSA9IElURU1fU0xPVF9OQU1FO1xuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIHVzZUNvbGxlY3Rpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICBmdW5jdGlvbiB1c2VDb2xsZWN0aW9uKHNjb3BlOiBhbnkpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29sbGVjdGlvbkNvbnRleHQobmFtZSArICdDb2xsZWN0aW9uQ29uc3VtZXInLCBzY29wZSk7XG5cbiAgICBjb25zdCBnZXRJdGVtcyA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25Ob2RlID0gY29udGV4dC5jb2xsZWN0aW9uUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25Ob2RlKSByZXR1cm4gW107XG4gICAgICBjb25zdCBvcmRlcmVkTm9kZXMgPSBBcnJheS5mcm9tKGNvbGxlY3Rpb25Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0lURU1fREFUQV9BVFRSfV1gKSk7XG4gICAgICBjb25zdCBpdGVtcyA9IEFycmF5LmZyb20oY29udGV4dC5pdGVtTWFwLnZhbHVlcygpKTtcbiAgICAgIGNvbnN0IG9yZGVyZWRJdGVtcyA9IGl0ZW1zLnNvcnQoXG4gICAgICAgIChhLCBiKSA9PiBvcmRlcmVkTm9kZXMuaW5kZXhPZihhLnJlZi5jdXJyZW50ISkgLSBvcmRlcmVkTm9kZXMuaW5kZXhPZihiLnJlZi5jdXJyZW50ISlcbiAgICAgICk7XG4gICAgICByZXR1cm4gb3JkZXJlZEl0ZW1zO1xuICAgIH0sIFtjb250ZXh0LmNvbGxlY3Rpb25SZWYsIGNvbnRleHQuaXRlbU1hcF0pO1xuXG4gICAgcmV0dXJuIGdldEl0ZW1zO1xuICB9XG5cbiAgcmV0dXJuIFtcbiAgICB7IFByb3ZpZGVyOiBDb2xsZWN0aW9uUHJvdmlkZXIsIFNsb3Q6IENvbGxlY3Rpb25TbG90LCBJdGVtU2xvdDogQ29sbGVjdGlvbkl0ZW1TbG90IH0sXG4gICAgdXNlQ29sbGVjdGlvbixcbiAgICBjcmVhdGVDb2xsZWN0aW9uU2NvcGUsXG4gIF0gYXMgY29uc3Q7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUNvbGxlY3Rpb24gfTtcbmV4cG9ydCB0eXBlIHsgQ29sbGVjdGlvblByb3BzIH07XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0PENvbnRleHRWYWx1ZVR5cGUgZXh0ZW5kcyBvYmplY3QgfCBudWxsPihcbiAgcm9vdENvbXBvbmVudE5hbWU6IHN0cmluZyxcbiAgZGVmYXVsdENvbnRleHQ/OiBDb250ZXh0VmFsdWVUeXBlXG4pIHtcbiAgY29uc3QgQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8Q29udGV4dFZhbHVlVHlwZSB8IHVuZGVmaW5lZD4oZGVmYXVsdENvbnRleHQpO1xuXG4gIGNvbnN0IFByb3ZpZGVyOiBSZWFjdC5GQzxDb250ZXh0VmFsdWVUeXBlICYgeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgLi4uY29udGV4dCB9ID0gcHJvcHM7XG4gICAgLy8gT25seSByZS1tZW1vaXplIHdoZW4gcHJvcCB2YWx1ZXMgY2hhbmdlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIGNvbnN0IHZhbHVlID0gUmVhY3QudXNlTWVtbygoKSA9PiBjb250ZXh0LCBPYmplY3QudmFsdWVzKGNvbnRleHQpKSBhcyBDb250ZXh0VmFsdWVUeXBlO1xuICAgIHJldHVybiA8Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PntjaGlsZHJlbn08L0NvbnRleHQuUHJvdmlkZXI+O1xuICB9O1xuXG4gIFByb3ZpZGVyLmRpc3BsYXlOYW1lID0gcm9vdENvbXBvbmVudE5hbWUgKyAnUHJvdmlkZXInO1xuXG4gIGZ1bmN0aW9uIHVzZUNvbnRleHQoY29uc3VtZXJOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICBpZiAoY29udGV4dCkgcmV0dXJuIGNvbnRleHQ7XG4gICAgaWYgKGRlZmF1bHRDb250ZXh0ICE9PSB1bmRlZmluZWQpIHJldHVybiBkZWZhdWx0Q29udGV4dDtcbiAgICAvLyBpZiBhIGRlZmF1bHRDb250ZXh0IHdhc24ndCBzcGVjaWZpZWQsIGl0J3MgYSByZXF1aXJlZCBjb250ZXh0LlxuICAgIHRocm93IG5ldyBFcnJvcihgXFxgJHtjb25zdW1lck5hbWV9XFxgIG11c3QgYmUgdXNlZCB3aXRoaW4gXFxgJHtyb290Q29tcG9uZW50TmFtZX1cXGBgKTtcbiAgfVxuXG4gIHJldHVybiBbUHJvdmlkZXIsIHVzZUNvbnRleHRdIGFzIGNvbnN0O1xufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGVDb250ZXh0U2NvcGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxudHlwZSBTY29wZTxDID0gYW55PiA9IHsgW3Njb3BlTmFtZTogc3RyaW5nXTogUmVhY3QuQ29udGV4dDxDPltdIH0gfCB1bmRlZmluZWQ7XG50eXBlIFNjb3BlSG9vayA9IChzY29wZTogU2NvcGUpID0+IHsgW19fc2NvcGVQcm9wOiBzdHJpbmddOiBTY29wZSB9O1xuaW50ZXJmYWNlIENyZWF0ZVNjb3BlIHtcbiAgc2NvcGVOYW1lOiBzdHJpbmc7XG4gICgpOiBTY29wZUhvb2s7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRleHRTY29wZShzY29wZU5hbWU6IHN0cmluZywgY3JlYXRlQ29udGV4dFNjb3BlRGVwczogQ3JlYXRlU2NvcGVbXSA9IFtdKSB7XG4gIGxldCBkZWZhdWx0Q29udGV4dHM6IGFueVtdID0gW107XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogY3JlYXRlQ29udGV4dFxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQ8Q29udGV4dFZhbHVlVHlwZSBleHRlbmRzIG9iamVjdCB8IG51bGw+KFxuICAgIHJvb3RDb21wb25lbnROYW1lOiBzdHJpbmcsXG4gICAgZGVmYXVsdENvbnRleHQ/OiBDb250ZXh0VmFsdWVUeXBlXG4gICkge1xuICAgIGNvbnN0IEJhc2VDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxDb250ZXh0VmFsdWVUeXBlIHwgdW5kZWZpbmVkPihkZWZhdWx0Q29udGV4dCk7XG4gICAgY29uc3QgaW5kZXggPSBkZWZhdWx0Q29udGV4dHMubGVuZ3RoO1xuICAgIGRlZmF1bHRDb250ZXh0cyA9IFsuLi5kZWZhdWx0Q29udGV4dHMsIGRlZmF1bHRDb250ZXh0XTtcblxuICAgIGNvbnN0IFByb3ZpZGVyOiBSZWFjdC5GQzxcbiAgICAgIENvbnRleHRWYWx1ZVR5cGUgJiB7IHNjb3BlOiBTY29wZTxDb250ZXh0VmFsdWVUeXBlPjsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9XG4gICAgPiA9IChwcm9wcykgPT4ge1xuICAgICAgY29uc3QgeyBzY29wZSwgY2hpbGRyZW4sIC4uLmNvbnRleHQgfSA9IHByb3BzO1xuICAgICAgY29uc3QgQ29udGV4dCA9IHNjb3BlPy5bc2NvcGVOYW1lXT8uW2luZGV4XSB8fCBCYXNlQ29udGV4dDtcbiAgICAgIC8vIE9ubHkgcmUtbWVtb2l6ZSB3aGVuIHByb3AgdmFsdWVzIGNoYW5nZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICAgY29uc3QgdmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IGNvbnRleHQsIE9iamVjdC52YWx1ZXMoY29udGV4dCkpIGFzIENvbnRleHRWYWx1ZVR5cGU7XG4gICAgICByZXR1cm4gPENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9Db250ZXh0LlByb3ZpZGVyPjtcbiAgICB9O1xuXG4gICAgUHJvdmlkZXIuZGlzcGxheU5hbWUgPSByb290Q29tcG9uZW50TmFtZSArICdQcm92aWRlcic7XG5cbiAgICBmdW5jdGlvbiB1c2VDb250ZXh0KGNvbnN1bWVyTmFtZTogc3RyaW5nLCBzY29wZTogU2NvcGU8Q29udGV4dFZhbHVlVHlwZSB8IHVuZGVmaW5lZD4pIHtcbiAgICAgIGNvbnN0IENvbnRleHQgPSBzY29wZT8uW3Njb3BlTmFtZV0/LltpbmRleF0gfHwgQmFzZUNvbnRleHQ7XG4gICAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICAgIGlmIChjb250ZXh0KSByZXR1cm4gY29udGV4dDtcbiAgICAgIGlmIChkZWZhdWx0Q29udGV4dCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZGVmYXVsdENvbnRleHQ7XG4gICAgICAvLyBpZiBhIGRlZmF1bHRDb250ZXh0IHdhc24ndCBzcGVjaWZpZWQsIGl0J3MgYSByZXF1aXJlZCBjb250ZXh0LlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBcXGAke2NvbnN1bWVyTmFtZX1cXGAgbXVzdCBiZSB1c2VkIHdpdGhpbiBcXGAke3Jvb3RDb21wb25lbnROYW1lfVxcYGApO1xuICAgIH1cblxuICAgIHJldHVybiBbUHJvdmlkZXIsIHVzZUNvbnRleHRdIGFzIGNvbnN0O1xuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogY3JlYXRlU2NvcGVcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICBjb25zdCBjcmVhdGVTY29wZTogQ3JlYXRlU2NvcGUgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2NvcGVDb250ZXh0cyA9IGRlZmF1bHRDb250ZXh0cy5tYXAoKGRlZmF1bHRDb250ZXh0KSA9PiB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlQ29udGV4dChkZWZhdWx0Q29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVzZVNjb3BlKHNjb3BlOiBTY29wZSkge1xuICAgICAgY29uc3QgY29udGV4dHMgPSBzY29wZT8uW3Njb3BlTmFtZV0gfHwgc2NvcGVDb250ZXh0cztcbiAgICAgIHJldHVybiBSZWFjdC51c2VNZW1vKFxuICAgICAgICAoKSA9PiAoeyBbYF9fc2NvcGUke3Njb3BlTmFtZX1gXTogeyAuLi5zY29wZSwgW3Njb3BlTmFtZV06IGNvbnRleHRzIH0gfSksXG4gICAgICAgIFtzY29wZSwgY29udGV4dHNdXG4gICAgICApO1xuICAgIH07XG4gIH07XG5cbiAgY3JlYXRlU2NvcGUuc2NvcGVOYW1lID0gc2NvcGVOYW1lO1xuICByZXR1cm4gW2NyZWF0ZUNvbnRleHQsIGNvbXBvc2VDb250ZXh0U2NvcGVzKGNyZWF0ZVNjb3BlLCAuLi5jcmVhdGVDb250ZXh0U2NvcGVEZXBzKV0gYXMgY29uc3Q7XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNvbXBvc2VDb250ZXh0U2NvcGVzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmZ1bmN0aW9uIGNvbXBvc2VDb250ZXh0U2NvcGVzKC4uLnNjb3BlczogQ3JlYXRlU2NvcGVbXSkge1xuICBjb25zdCBiYXNlU2NvcGUgPSBzY29wZXNbMF07XG4gIGlmIChzY29wZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYmFzZVNjb3BlO1xuXG4gIGNvbnN0IGNyZWF0ZVNjb3BlOiBDcmVhdGVTY29wZSA9ICgpID0+IHtcbiAgICBjb25zdCBzY29wZUhvb2tzID0gc2NvcGVzLm1hcCgoY3JlYXRlU2NvcGUpID0+ICh7XG4gICAgICB1c2VTY29wZTogY3JlYXRlU2NvcGUoKSxcbiAgICAgIHNjb3BlTmFtZTogY3JlYXRlU2NvcGUuc2NvcGVOYW1lLFxuICAgIH0pKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1c2VDb21wb3NlZFNjb3BlcyhvdmVycmlkZVNjb3Blcykge1xuICAgICAgY29uc3QgbmV4dFNjb3BlcyA9IHNjb3BlSG9va3MucmVkdWNlKChuZXh0U2NvcGVzLCB7IHVzZVNjb3BlLCBzY29wZU5hbWUgfSkgPT4ge1xuICAgICAgICAvLyBXZSBhcmUgY2FsbGluZyBhIGhvb2sgaW5zaWRlIGEgY2FsbGJhY2sgd2hpY2ggUmVhY3Qgd2FybnMgYWdhaW5zdCB0byBhdm9pZCBpbmNvbnNpc3RlbnRcbiAgICAgICAgLy8gcmVuZGVycywgaG93ZXZlciwgc2NvcGluZyBkb2Vzbid0IGhhdmUgcmVuZGVyIHNpZGUgZWZmZWN0cyBzbyB3ZSBpZ25vcmUgdGhlIHJ1bGUuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgICAgICBjb25zdCBzY29wZVByb3BzID0gdXNlU2NvcGUob3ZlcnJpZGVTY29wZXMpO1xuICAgICAgICBjb25zdCBjdXJyZW50U2NvcGUgPSBzY29wZVByb3BzW2BfX3Njb3BlJHtzY29wZU5hbWV9YF07XG4gICAgICAgIHJldHVybiB7IC4uLm5leHRTY29wZXMsIC4uLmN1cnJlbnRTY29wZSB9O1xuICAgICAgfSwge30pO1xuXG4gICAgICByZXR1cm4gUmVhY3QudXNlTWVtbygoKSA9PiAoeyBbYF9fc2NvcGUke2Jhc2VTY29wZS5zY29wZU5hbWV9YF06IG5leHRTY29wZXMgfSksIFtuZXh0U2NvcGVzXSk7XG4gICAgfTtcbiAgfTtcblxuICBjcmVhdGVTY29wZS5zY29wZU5hbWUgPSBiYXNlU2NvcGUuc2NvcGVOYW1lO1xuICByZXR1cm4gY3JlYXRlU2NvcGU7XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZXhwb3J0IHsgY3JlYXRlQ29udGV4dCwgY3JlYXRlQ29udGV4dFNjb3BlIH07XG5leHBvcnQgdHlwZSB7IENyZWF0ZVNjb3BlLCBTY29wZSB9O1xuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudHlwZSBEaXJlY3Rpb24gPSAnbHRyJyB8ICdydGwnO1xuY29uc3QgRGlyZWN0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8RGlyZWN0aW9uIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEaXJlY3Rpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW50ZXJmYWNlIERpcmVjdGlvblByb3ZpZGVyUHJvcHMge1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgZGlyOiBEaXJlY3Rpb247XG59XG5jb25zdCBEaXJlY3Rpb25Qcm92aWRlcjogUmVhY3QuRkM8RGlyZWN0aW9uUHJvdmlkZXJQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBkaXIsIGNoaWxkcmVuIH0gPSBwcm9wcztcbiAgcmV0dXJuIDxEaXJlY3Rpb25Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXtkaXJ9PntjaGlsZHJlbn08L0RpcmVjdGlvbkNvbnRleHQuUHJvdmlkZXI+O1xufTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5mdW5jdGlvbiB1c2VEaXJlY3Rpb24obG9jYWxEaXI/OiBEaXJlY3Rpb24pIHtcbiAgY29uc3QgZ2xvYmFsRGlyID0gUmVhY3QudXNlQ29udGV4dChEaXJlY3Rpb25Db250ZXh0KTtcbiAgcmV0dXJuIGxvY2FsRGlyIHx8IGdsb2JhbERpciB8fCAnbHRyJztcbn1cblxuY29uc3QgUHJvdmlkZXIgPSBEaXJlY3Rpb25Qcm92aWRlcjtcblxuZXhwb3J0IHtcbiAgdXNlRGlyZWN0aW9uLFxuICAvL1xuICBQcm92aWRlcixcbiAgLy9cbiAgRGlyZWN0aW9uUHJvdmlkZXIsXG59O1xuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSAnQHJhZGl4LXVpL3ByaW1pdGl2ZSc7XG5pbXBvcnQgeyBQcmltaXRpdmUsIGRpc3BhdGNoRGlzY3JldGVDdXN0b21FdmVudCB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1wcmltaXRpdmUnO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmcyc7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC11c2UtY2FsbGJhY2stcmVmJztcbmltcG9ydCB7IHVzZUVzY2FwZUtleWRvd24gfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtdXNlLWVzY2FwZS1rZXlkb3duJztcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGlzbWlzc2FibGVMYXllclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBESVNNSVNTQUJMRV9MQVlFUl9OQU1FID0gJ0Rpc21pc3NhYmxlTGF5ZXInO1xuY29uc3QgQ09OVEVYVF9VUERBVEUgPSAnZGlzbWlzc2FibGVMYXllci51cGRhdGUnO1xuY29uc3QgUE9JTlRFUl9ET1dOX09VVFNJREUgPSAnZGlzbWlzc2FibGVMYXllci5wb2ludGVyRG93bk91dHNpZGUnO1xuY29uc3QgRk9DVVNfT1VUU0lERSA9ICdkaXNtaXNzYWJsZUxheWVyLmZvY3VzT3V0c2lkZSc7XG5cbmxldCBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzOiBzdHJpbmc7XG5cbmNvbnN0IERpc21pc3NhYmxlTGF5ZXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gIGxheWVyczogbmV3IFNldDxEaXNtaXNzYWJsZUxheWVyRWxlbWVudD4oKSxcbiAgbGF5ZXJzV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWQ6IG5ldyBTZXQ8RGlzbWlzc2FibGVMYXllckVsZW1lbnQ+KCksXG4gIGJyYW5jaGVzOiBuZXcgU2V0PERpc21pc3NhYmxlTGF5ZXJCcmFuY2hFbGVtZW50PigpLFxufSk7XG5cbnR5cGUgRGlzbWlzc2FibGVMYXllckVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbnR5cGUgUHJpbWl0aXZlRGl2UHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuaW50ZXJmYWNlIERpc21pc3NhYmxlTGF5ZXJQcm9wcyBleHRlbmRzIFByaW1pdGl2ZURpdlByb3BzIHtcbiAgLyoqXG4gICAqIFdoZW4gYHRydWVgLCBob3Zlci9mb2N1cy9jbGljayBpbnRlcmFjdGlvbnMgd2lsbCBiZSBkaXNhYmxlZCBvbiBlbGVtZW50cyBvdXRzaWRlXG4gICAqIHRoZSBgRGlzbWlzc2FibGVMYXllcmAuIFVzZXJzIHdpbGwgbmVlZCB0byBjbGljayB0d2ljZSBvbiBvdXRzaWRlIGVsZW1lbnRzIHRvXG4gICAqIGludGVyYWN0IHdpdGggdGhlbTogb25jZSB0byBjbG9zZSB0aGUgYERpc21pc3NhYmxlTGF5ZXJgLCBhbmQgYWdhaW4gdG8gdHJpZ2dlciB0aGUgZWxlbWVudC5cbiAgICovXG4gIGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50cz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGNhbGxlZCB3aGVuIHRoZSBlc2NhcGUga2V5IGlzIGRvd24uXG4gICAqIENhbiBiZSBwcmV2ZW50ZWQuXG4gICAqL1xuICBvbkVzY2FwZUtleURvd24/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGNhbGxlZCB3aGVuIHRoZSBhIGBwb2ludGVyZG93bmAgZXZlbnQgaGFwcGVucyBvdXRzaWRlIG9mIHRoZSBgRGlzbWlzc2FibGVMYXllcmAuXG4gICAqIENhbiBiZSBwcmV2ZW50ZWQuXG4gICAqL1xuICBvblBvaW50ZXJEb3duT3V0c2lkZT86IChldmVudDogUG9pbnRlckRvd25PdXRzaWRlRXZlbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGNhbGxlZCB3aGVuIHRoZSBmb2N1cyBtb3ZlcyBvdXRzaWRlIG9mIHRoZSBgRGlzbWlzc2FibGVMYXllcmAuXG4gICAqIENhbiBiZSBwcmV2ZW50ZWQuXG4gICAqL1xuICBvbkZvY3VzT3V0c2lkZT86IChldmVudDogRm9jdXNPdXRzaWRlRXZlbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGNhbGxlZCB3aGVuIGFuIGludGVyYWN0aW9uIGhhcHBlbnMgb3V0c2lkZSB0aGUgYERpc21pc3NhYmxlTGF5ZXJgLlxuICAgKiBTcGVjaWZpY2FsbHksIHdoZW4gYSBgcG9pbnRlcmRvd25gIGV2ZW50IGhhcHBlbnMgb3V0c2lkZSBvciBmb2N1cyBtb3ZlcyBvdXRzaWRlIG9mIGl0LlxuICAgKiBDYW4gYmUgcHJldmVudGVkLlxuICAgKi9cbiAgb25JbnRlcmFjdE91dHNpZGU/OiAoZXZlbnQ6IFBvaW50ZXJEb3duT3V0c2lkZUV2ZW50IHwgRm9jdXNPdXRzaWRlRXZlbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBIYW5kbGVyIGNhbGxlZCB3aGVuIHRoZSBgRGlzbWlzc2FibGVMYXllcmAgc2hvdWxkIGJlIGRpc21pc3NlZFxuICAgKi9cbiAgb25EaXNtaXNzPzogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgRGlzbWlzc2FibGVMYXllciA9IFJlYWN0LmZvcndhcmRSZWY8RGlzbWlzc2FibGVMYXllckVsZW1lbnQsIERpc21pc3NhYmxlTGF5ZXJQcm9wcz4oXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzID0gZmFsc2UsXG4gICAgICBvbkVzY2FwZUtleURvd24sXG4gICAgICBvblBvaW50ZXJEb3duT3V0c2lkZSxcbiAgICAgIG9uRm9jdXNPdXRzaWRlLFxuICAgICAgb25JbnRlcmFjdE91dHNpZGUsXG4gICAgICBvbkRpc21pc3MsXG4gICAgICAuLi5sYXllclByb3BzXG4gICAgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KERpc21pc3NhYmxlTGF5ZXJDb250ZXh0KTtcbiAgICBjb25zdCBbbm9kZSwgc2V0Tm9kZV0gPSBSZWFjdC51c2VTdGF0ZTxEaXNtaXNzYWJsZUxheWVyRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBub2RlPy5vd25lckRvY3VtZW50ID8/IGdsb2JhbFRoaXM/LmRvY3VtZW50O1xuICAgIGNvbnN0IFssIGZvcmNlXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCAobm9kZSkgPT4gc2V0Tm9kZShub2RlKSk7XG4gICAgY29uc3QgbGF5ZXJzID0gQXJyYXkuZnJvbShjb250ZXh0LmxheWVycyk7XG4gICAgY29uc3QgW2hpZ2hlc3RMYXllcldpdGhPdXRzaWRlUG9pbnRlckV2ZW50c0Rpc2FibGVkXSA9IFsuLi5jb250ZXh0LmxheWVyc1dpdGhPdXRzaWRlUG9pbnRlckV2ZW50c0Rpc2FibGVkXS5zbGljZSgtMSk7IC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGhpZ2hlc3RMYXllcldpdGhPdXRzaWRlUG9pbnRlckV2ZW50c0Rpc2FibGVkSW5kZXggPSBsYXllcnMuaW5kZXhPZihoaWdoZXN0TGF5ZXJXaXRoT3V0c2lkZVBvaW50ZXJFdmVudHNEaXNhYmxlZCk7IC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGluZGV4ID0gbm9kZSA/IGxheWVycy5pbmRleE9mKG5vZGUpIDogLTE7XG4gICAgY29uc3QgaXNCb2R5UG9pbnRlckV2ZW50c0Rpc2FibGVkID0gY29udGV4dC5sYXllcnNXaXRoT3V0c2lkZVBvaW50ZXJFdmVudHNEaXNhYmxlZC5zaXplID4gMDtcbiAgICBjb25zdCBpc1BvaW50ZXJFdmVudHNFbmFibGVkID0gaW5kZXggPj0gaGlnaGVzdExheWVyV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWRJbmRleDtcblxuICAgIGNvbnN0IHBvaW50ZXJEb3duT3V0c2lkZSA9IHVzZVBvaW50ZXJEb3duT3V0c2lkZSgoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IGlzUG9pbnRlckRvd25PbkJyYW5jaCA9IFsuLi5jb250ZXh0LmJyYW5jaGVzXS5zb21lKChicmFuY2gpID0+IGJyYW5jaC5jb250YWlucyh0YXJnZXQpKTtcbiAgICAgIGlmICghaXNQb2ludGVyRXZlbnRzRW5hYmxlZCB8fCBpc1BvaW50ZXJEb3duT25CcmFuY2gpIHJldHVybjtcbiAgICAgIG9uUG9pbnRlckRvd25PdXRzaWRlPy4oZXZlbnQpO1xuICAgICAgb25JbnRlcmFjdE91dHNpZGU/LihldmVudCk7XG4gICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIG9uRGlzbWlzcz8uKCk7XG4gICAgfSwgb3duZXJEb2N1bWVudCk7XG5cbiAgICBjb25zdCBmb2N1c091dHNpZGUgPSB1c2VGb2N1c091dHNpZGUoKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCBpc0ZvY3VzSW5CcmFuY2ggPSBbLi4uY29udGV4dC5icmFuY2hlc10uc29tZSgoYnJhbmNoKSA9PiBicmFuY2guY29udGFpbnModGFyZ2V0KSk7XG4gICAgICBpZiAoaXNGb2N1c0luQnJhbmNoKSByZXR1cm47XG4gICAgICBvbkZvY3VzT3V0c2lkZT8uKGV2ZW50KTtcbiAgICAgIG9uSW50ZXJhY3RPdXRzaWRlPy4oZXZlbnQpO1xuICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSBvbkRpc21pc3M/LigpO1xuICAgIH0sIG93bmVyRG9jdW1lbnQpO1xuXG4gICAgdXNlRXNjYXBlS2V5ZG93bigoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGlzSGlnaGVzdExheWVyID0gaW5kZXggPT09IGNvbnRleHQubGF5ZXJzLnNpemUgLSAxO1xuICAgICAgaWYgKCFpc0hpZ2hlc3RMYXllcikgcmV0dXJuO1xuICAgICAgb25Fc2NhcGVLZXlEb3duPy4oZXZlbnQpO1xuICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkICYmIG9uRGlzbWlzcykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBvbkRpc21pc3MoKTtcbiAgICAgIH1cbiAgICB9LCBvd25lckRvY3VtZW50KTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybjtcbiAgICAgIGlmIChkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgaWYgKGNvbnRleHQubGF5ZXJzV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWQuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgIG9yaWdpbmFsQm9keVBvaW50ZXJFdmVudHMgPSBvd25lckRvY3VtZW50LmJvZHkuc3R5bGUucG9pbnRlckV2ZW50cztcbiAgICAgICAgICBvd25lckRvY3VtZW50LmJvZHkuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmxheWVyc1dpdGhPdXRzaWRlUG9pbnRlckV2ZW50c0Rpc2FibGVkLmFkZChub2RlKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQubGF5ZXJzLmFkZChub2RlKTtcbiAgICAgIGRpc3BhdGNoVXBkYXRlKCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzICYmXG4gICAgICAgICAgY29udGV4dC5sYXllcnNXaXRoT3V0c2lkZVBvaW50ZXJFdmVudHNEaXNhYmxlZC5zaXplID09PSAxXG4gICAgICAgICkge1xuICAgICAgICAgIG93bmVyRG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gb3JpZ2luYWxCb2R5UG9pbnRlckV2ZW50cztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LCBbbm9kZSwgb3duZXJEb2N1bWVudCwgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzLCBjb250ZXh0XSk7XG5cbiAgICAvKipcbiAgICAgKiBXZSBwdXJwb3NlZnVsbHkgcHJldmVudCBjb21iaW5pbmcgdGhpcyBlZmZlY3Qgd2l0aCB0aGUgYGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50c2AgZWZmZWN0XG4gICAgICogYmVjYXVzZSBhIGNoYW5nZSB0byBgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzYCB3b3VsZCByZW1vdmUgdGhpcyBsYXllciBmcm9tIHRoZSBzdGFja1xuICAgICAqIGFuZCBhZGQgaXQgdG8gdGhlIGVuZCBhZ2FpbiBzbyB0aGUgbGF5ZXJpbmcgb3JkZXIgd291bGRuJ3QgYmUgX2NyZWF0aW9uIG9yZGVyXy5cbiAgICAgKiBXZSBvbmx5IHdhbnQgdGhlbSB0byBiZSByZW1vdmVkIGZyb20gY29udGV4dCBzdGFja3Mgd2hlbiB1bm1vdW50ZWQuXG4gICAgICovXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmICghbm9kZSkgcmV0dXJuO1xuICAgICAgICBjb250ZXh0LmxheWVycy5kZWxldGUobm9kZSk7XG4gICAgICAgIGNvbnRleHQubGF5ZXJzV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWQuZGVsZXRlKG5vZGUpO1xuICAgICAgICBkaXNwYXRjaFVwZGF0ZSgpO1xuICAgICAgfTtcbiAgICB9LCBbbm9kZSwgY29udGV4dF0pO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZVVwZGF0ZSA9ICgpID0+IGZvcmNlKHt9KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoQ09OVEVYVF9VUERBVEUsIGhhbmRsZVVwZGF0ZSk7XG4gICAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihDT05URVhUX1VQREFURSwgaGFuZGxlVXBkYXRlKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFByaW1pdGl2ZS5kaXZcbiAgICAgICAgey4uLmxheWVyUHJvcHN9XG4gICAgICAgIHJlZj17Y29tcG9zZWRSZWZzfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBvaW50ZXJFdmVudHM6IGlzQm9keVBvaW50ZXJFdmVudHNEaXNhYmxlZFxuICAgICAgICAgICAgPyBpc1BvaW50ZXJFdmVudHNFbmFibGVkXG4gICAgICAgICAgICAgID8gJ2F1dG8nXG4gICAgICAgICAgICAgIDogJ25vbmUnXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAuLi5wcm9wcy5zdHlsZSxcbiAgICAgICAgfX1cbiAgICAgICAgb25Gb2N1c0NhcHR1cmU9e2NvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uRm9jdXNDYXB0dXJlLCBmb2N1c091dHNpZGUub25Gb2N1c0NhcHR1cmUpfVxuICAgICAgICBvbkJsdXJDYXB0dXJlPXtjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkJsdXJDYXB0dXJlLCBmb2N1c091dHNpZGUub25CbHVyQ2FwdHVyZSl9XG4gICAgICAgIG9uUG9pbnRlckRvd25DYXB0dXJlPXtjb21wb3NlRXZlbnRIYW5kbGVycyhcbiAgICAgICAgICBwcm9wcy5vblBvaW50ZXJEb3duQ2FwdHVyZSxcbiAgICAgICAgICBwb2ludGVyRG93bk91dHNpZGUub25Qb2ludGVyRG93bkNhcHR1cmVcbiAgICAgICAgKX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuKTtcblxuRGlzbWlzc2FibGVMYXllci5kaXNwbGF5TmFtZSA9IERJU01JU1NBQkxFX0xBWUVSX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERpc21pc3NhYmxlTGF5ZXJCcmFuY2hcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgQlJBTkNIX05BTUUgPSAnRGlzbWlzc2FibGVMYXllckJyYW5jaCc7XG5cbnR5cGUgRGlzbWlzc2FibGVMYXllckJyYW5jaEVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbmludGVyZmFjZSBEaXNtaXNzYWJsZUxheWVyQnJhbmNoUHJvcHMgZXh0ZW5kcyBQcmltaXRpdmVEaXZQcm9wcyB7fVxuXG5jb25zdCBEaXNtaXNzYWJsZUxheWVyQnJhbmNoID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgRGlzbWlzc2FibGVMYXllckJyYW5jaEVsZW1lbnQsXG4gIERpc21pc3NhYmxlTGF5ZXJCcmFuY2hQcm9wc1xuPigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChEaXNtaXNzYWJsZUxheWVyQ29udGV4dCk7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZjxEaXNtaXNzYWJsZUxheWVyQnJhbmNoRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHJlZik7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBub2RlID0gcmVmLmN1cnJlbnQ7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIGNvbnRleHQuYnJhbmNoZXMuYWRkKG5vZGUpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29udGV4dC5icmFuY2hlcy5kZWxldGUobm9kZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2NvbnRleHQuYnJhbmNoZXNdKTtcblxuICByZXR1cm4gPFByaW1pdGl2ZS5kaXYgey4uLnByb3BzfSByZWY9e2NvbXBvc2VkUmVmc30gLz47XG59KTtcblxuRGlzbWlzc2FibGVMYXllckJyYW5jaC5kaXNwbGF5TmFtZSA9IEJSQU5DSF9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbnR5cGUgUG9pbnRlckRvd25PdXRzaWRlRXZlbnQgPSBDdXN0b21FdmVudDx7IG9yaWdpbmFsRXZlbnQ6IFBvaW50ZXJFdmVudCB9PjtcbnR5cGUgRm9jdXNPdXRzaWRlRXZlbnQgPSBDdXN0b21FdmVudDx7IG9yaWdpbmFsRXZlbnQ6IEZvY3VzRXZlbnQgfT47XG5cbi8qKlxuICogTGlzdGVucyBmb3IgYHBvaW50ZXJkb3duYCBvdXRzaWRlIGEgcmVhY3Qgc3VidHJlZS4gV2UgdXNlIGBwb2ludGVyZG93bmAgcmF0aGVyIHRoYW4gYHBvaW50ZXJ1cGBcbiAqIHRvIG1pbWljIGxheWVyIGRpc21pc3NpbmcgYmVoYXZpb3VyIHByZXNlbnQgaW4gT1MuXG4gKiBSZXR1cm5zIHByb3BzIHRvIHBhc3MgdG8gdGhlIG5vZGUgd2Ugd2FudCB0byBjaGVjayBmb3Igb3V0c2lkZSBldmVudHMuXG4gKi9cbmZ1bmN0aW9uIHVzZVBvaW50ZXJEb3duT3V0c2lkZShcbiAgb25Qb2ludGVyRG93bk91dHNpZGU/OiAoZXZlbnQ6IFBvaW50ZXJEb3duT3V0c2lkZUV2ZW50KSA9PiB2b2lkLFxuICBvd25lckRvY3VtZW50OiBEb2N1bWVudCA9IGdsb2JhbFRoaXM/LmRvY3VtZW50XG4pIHtcbiAgY29uc3QgaGFuZGxlUG9pbnRlckRvd25PdXRzaWRlID0gdXNlQ2FsbGJhY2tSZWYob25Qb2ludGVyRG93bk91dHNpZGUpIGFzIEV2ZW50TGlzdGVuZXI7XG4gIGNvbnN0IGlzUG9pbnRlckluc2lkZVJlYWN0VHJlZVJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrUmVmID0gUmVhY3QudXNlUmVmKCgpID0+IHt9KTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgJiYgIWlzUG9pbnRlckluc2lkZVJlYWN0VHJlZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IGV2ZW50RGV0YWlsID0geyBvcmlnaW5hbEV2ZW50OiBldmVudCB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUFuZERpc3BhdGNoUG9pbnRlckRvd25PdXRzaWRlRXZlbnQoKSB7XG4gICAgICAgICAgaGFuZGxlQW5kRGlzcGF0Y2hDdXN0b21FdmVudChcbiAgICAgICAgICAgIFBPSU5URVJfRE9XTl9PVVRTSURFLFxuICAgICAgICAgICAgaGFuZGxlUG9pbnRlckRvd25PdXRzaWRlLFxuICAgICAgICAgICAgZXZlbnREZXRhaWwsXG4gICAgICAgICAgICB7IGRpc2NyZXRlOiB0cnVlIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9uIHRvdWNoIGRldmljZXMsIHdlIG5lZWQgdG8gd2FpdCBmb3IgYSBjbGljayBldmVudCBiZWNhdXNlIGJyb3dzZXJzIGltcGxlbWVudFxuICAgICAgICAgKiBhIH4zNTBtcyBkZWxheSBiZXR3ZWVuIHRoZSB0aW1lIHRoZSB1c2VyIHN0b3BzIHRvdWNoaW5nIHRoZSBkaXNwbGF5IGFuZCB3aGVuIHRoZVxuICAgICAgICAgKiBicm93c2VyIGV4ZWN1dHJlcyBldmVudHMuIFdlIG5lZWQgdG8gZW5zdXJlIHdlIGRvbid0IHJlYWN0aXZhdGUgcG9pbnRlci1ldmVudHMgd2l0aGluXG4gICAgICAgICAqIHRoaXMgdGltZWZyYW1lIG90aGVyd2lzZSB0aGUgYnJvd3NlciBtYXkgZXhlY3V0ZSBldmVudHMgdGhhdCBzaG91bGQgaGF2ZSBiZWVuIHByZXZlbnRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQWRkaXRpb25hbGx5LCB0aGlzIGFsc28gbGV0cyB1cyBkZWFsIGF1dG9tYXRpY2FsbHkgd2l0aCBjYW5jZWxsYXRpb25zIHdoZW4gYSBjbGljayBldmVudFxuICAgICAgICAgKiBpc24ndCByYWlzZWQgYmVjYXVzZSB0aGUgcGFnZSB3YXMgY29uc2lkZXJlZCBzY3JvbGxlZC9kcmFnLXNjcm9sbGVkLCBsb25nLXByZXNzZWQsIGV0Yy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyB3aHkgd2UgYWxzbyBjb250aW51b3VzbHkgcmVtb3ZlIHRoZSBwcmV2aW91cyBsaXN0ZW5lciwgYmVjYXVzZSB3ZSBjYW5ub3QgYmVcbiAgICAgICAgICogY2VydGFpbiB0aGF0IGl0IHdhcyByYWlzZWQsIGFuZCB0aGVyZWZvcmUgY2xlYW5lZC11cC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgIG93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGlja1JlZi5jdXJyZW50KTtcbiAgICAgICAgICBoYW5kbGVDbGlja1JlZi5jdXJyZW50ID0gaGFuZGxlQW5kRGlzcGF0Y2hQb2ludGVyRG93bk91dHNpZGVFdmVudDtcbiAgICAgICAgICBvd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2tSZWYuY3VycmVudCwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZUFuZERpc3BhdGNoUG9pbnRlckRvd25PdXRzaWRlRXZlbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIGluIGNhc2UgdGhlIG91dHNpZGUgY2xpY2sgaGFzIGJlZW4gY2FuY2VsZWQuXG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3JhZGl4LXVpL3ByaW1pdGl2ZXMvaXNzdWVzLzIxNzFcbiAgICAgICAgb3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgaXNQb2ludGVySW5zaWRlUmVhY3RUcmVlUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGlmIHRoaXMgaG9vayBleGVjdXRlcyBpbiBhIGNvbXBvbmVudCB0aGF0IG1vdW50cyB2aWEgYSBgcG9pbnRlcmRvd25gIGV2ZW50LCB0aGUgZXZlbnRcbiAgICAgKiB3b3VsZCBidWJibGUgdXAgdG8gdGhlIGRvY3VtZW50IGFuZCB0cmlnZ2VyIGEgYHBvaW50ZXJEb3duT3V0c2lkZWAgZXZlbnQuIFdlIGF2b2lkXG4gICAgICogdGhpcyBieSBkZWxheWluZyB0aGUgZXZlbnQgbGlzdGVuZXIgcmVnaXN0cmF0aW9uIG9uIHRoZSBkb2N1bWVudC5cbiAgICAgKiBUaGlzIGlzIG5vdCBSZWFjdCBzcGVjaWZpYywgYnV0IHJhdGhlciBob3cgdGhlIERPTSB3b3JrcywgaWU6XG4gICAgICogYGBgXG4gICAgICogYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coJ0kgd2lsbCBsb2cnKTtcbiAgICAgKiAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnSSB3aWxsIGFsc28gbG9nJyk7XG4gICAgICogICB9KVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGNvbnN0IHRpbWVySWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBvd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlUG9pbnRlckRvd24pO1xuICAgIH0sIDApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgb3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGhhbmRsZVBvaW50ZXJEb3duKTtcbiAgICAgIG93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGlja1JlZi5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbb3duZXJEb2N1bWVudCwgaGFuZGxlUG9pbnRlckRvd25PdXRzaWRlXSk7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBlbnN1cmVzIHdlIGNoZWNrIFJlYWN0IGNvbXBvbmVudCB0cmVlIChub3QganVzdCBET00gdHJlZSlcbiAgICBvblBvaW50ZXJEb3duQ2FwdHVyZTogKCkgPT4gKGlzUG9pbnRlckluc2lkZVJlYWN0VHJlZVJlZi5jdXJyZW50ID0gdHJ1ZSksXG4gIH07XG59XG5cbi8qKlxuICogTGlzdGVucyBmb3Igd2hlbiBmb2N1cyBoYXBwZW5zIG91dHNpZGUgYSByZWFjdCBzdWJ0cmVlLlxuICogUmV0dXJucyBwcm9wcyB0byBwYXNzIHRvIHRoZSByb290IChub2RlKSBvZiB0aGUgc3VidHJlZSB3ZSB3YW50IHRvIGNoZWNrLlxuICovXG5mdW5jdGlvbiB1c2VGb2N1c091dHNpZGUoXG4gIG9uRm9jdXNPdXRzaWRlPzogKGV2ZW50OiBGb2N1c091dHNpZGVFdmVudCkgPT4gdm9pZCxcbiAgb3duZXJEb2N1bWVudDogRG9jdW1lbnQgPSBnbG9iYWxUaGlzPy5kb2N1bWVudFxuKSB7XG4gIGNvbnN0IGhhbmRsZUZvY3VzT3V0c2lkZSA9IHVzZUNhbGxiYWNrUmVmKG9uRm9jdXNPdXRzaWRlKSBhcyBFdmVudExpc3RlbmVyO1xuICBjb25zdCBpc0ZvY3VzSW5zaWRlUmVhY3RUcmVlUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUZvY3VzID0gKGV2ZW50OiBGb2N1c0V2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ICYmICFpc0ZvY3VzSW5zaWRlUmVhY3RUcmVlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnREZXRhaWwgPSB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50IH07XG4gICAgICAgIGhhbmRsZUFuZERpc3BhdGNoQ3VzdG9tRXZlbnQoRk9DVVNfT1VUU0lERSwgaGFuZGxlRm9jdXNPdXRzaWRlLCBldmVudERldGFpbCwge1xuICAgICAgICAgIGRpc2NyZXRlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBvd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBoYW5kbGVGb2N1cyk7XG4gICAgcmV0dXJuICgpID0+IG93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGhhbmRsZUZvY3VzKTtcbiAgfSwgW293bmVyRG9jdW1lbnQsIGhhbmRsZUZvY3VzT3V0c2lkZV0pO1xuXG4gIHJldHVybiB7XG4gICAgb25Gb2N1c0NhcHR1cmU6ICgpID0+IChpc0ZvY3VzSW5zaWRlUmVhY3RUcmVlUmVmLmN1cnJlbnQgPSB0cnVlKSxcbiAgICBvbkJsdXJDYXB0dXJlOiAoKSA9PiAoaXNGb2N1c0luc2lkZVJlYWN0VHJlZVJlZi5jdXJyZW50ID0gZmFsc2UpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaFVwZGF0ZSgpIHtcbiAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoQ09OVEVYVF9VUERBVEUpO1xuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQW5kRGlzcGF0Y2hDdXN0b21FdmVudDxFIGV4dGVuZHMgQ3VzdG9tRXZlbnQsIE9yaWdpbmFsRXZlbnQgZXh0ZW5kcyBFdmVudD4oXG4gIG5hbWU6IHN0cmluZyxcbiAgaGFuZGxlcjogKChldmVudDogRSkgPT4gdm9pZCkgfCB1bmRlZmluZWQsXG4gIGRldGFpbDogeyBvcmlnaW5hbEV2ZW50OiBPcmlnaW5hbEV2ZW50IH0gJiAoRSBleHRlbmRzIEN1c3RvbUV2ZW50PGluZmVyIEQ+ID8gRCA6IG5ldmVyKSxcbiAgeyBkaXNjcmV0ZSB9OiB7IGRpc2NyZXRlOiBib29sZWFuIH1cbikge1xuICBjb25zdCB0YXJnZXQgPSBkZXRhaWwub3JpZ2luYWxFdmVudC50YXJnZXQ7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IHRydWUsIGRldGFpbCB9KTtcbiAgaWYgKGhhbmRsZXIpIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuXG4gIGlmIChkaXNjcmV0ZSkge1xuICAgIGRpc3BhdGNoRGlzY3JldGVDdXN0b21FdmVudCh0YXJnZXQsIGV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cbn1cblxuY29uc3QgUm9vdCA9IERpc21pc3NhYmxlTGF5ZXI7XG5jb25zdCBCcmFuY2ggPSBEaXNtaXNzYWJsZUxheWVyQnJhbmNoO1xuXG5leHBvcnQge1xuICBEaXNtaXNzYWJsZUxheWVyLFxuICBEaXNtaXNzYWJsZUxheWVyQnJhbmNoLFxuICAvL1xuICBSb290LFxuICBCcmFuY2gsXG59O1xuZXhwb3J0IHR5cGUgeyBEaXNtaXNzYWJsZUxheWVyUHJvcHMgfTtcbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgU2xvdCB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1zbG90JztcblxuY29uc3QgTk9ERVMgPSBbXG4gICdhJyxcbiAgJ2J1dHRvbicsXG4gICdkaXYnLFxuICAnZm9ybScsXG4gICdoMicsXG4gICdoMycsXG4gICdpbWcnLFxuICAnaW5wdXQnLFxuICAnbGFiZWwnLFxuICAnbGknLFxuICAnbmF2JyxcbiAgJ29sJyxcbiAgJ3AnLFxuICAnc3BhbicsXG4gICdzdmcnLFxuICAndWwnLFxuXSBhcyBjb25zdDtcblxudHlwZSBQcmltaXRpdmVzID0geyBbRSBpbiAodHlwZW9mIE5PREVTKVtudW1iZXJdXTogUHJpbWl0aXZlRm9yd2FyZFJlZkNvbXBvbmVudDxFPiB9O1xudHlwZSBQcmltaXRpdmVQcm9wc1dpdGhSZWY8RSBleHRlbmRzIFJlYWN0LkVsZW1lbnRUeXBlPiA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aFJlZjxFPiAmIHtcbiAgYXNDaGlsZD86IGJvb2xlYW47XG59O1xuXG5pbnRlcmZhY2UgUHJpbWl0aXZlRm9yd2FyZFJlZkNvbXBvbmVudDxFIGV4dGVuZHMgUmVhY3QuRWxlbWVudFR5cGU+XG4gIGV4dGVuZHMgUmVhY3QuRm9yd2FyZFJlZkV4b3RpY0NvbXBvbmVudDxQcmltaXRpdmVQcm9wc1dpdGhSZWY8RT4+IHt9XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFByaW1pdGl2ZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBQcmltaXRpdmUgPSBOT0RFUy5yZWR1Y2UoKHByaW1pdGl2ZSwgbm9kZSkgPT4ge1xuICBjb25zdCBOb2RlID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHM6IFByaW1pdGl2ZVByb3BzV2l0aFJlZjx0eXBlb2Ygbm9kZT4sIGZvcndhcmRlZFJlZjogYW55KSA9PiB7XG4gICAgY29uc3QgeyBhc0NoaWxkLCAuLi5wcmltaXRpdmVQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgQ29tcDogYW55ID0gYXNDaGlsZCA/IFNsb3QgOiBub2RlO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAod2luZG93IGFzIGFueSlbU3ltYm9sLmZvcigncmFkaXgtdWknKV0gPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiA8Q29tcCB7Li4ucHJpbWl0aXZlUHJvcHN9IHJlZj17Zm9yd2FyZGVkUmVmfSAvPjtcbiAgfSk7XG5cbiAgTm9kZS5kaXNwbGF5TmFtZSA9IGBQcmltaXRpdmUuJHtub2RlfWA7XG5cbiAgcmV0dXJuIHsgLi4ucHJpbWl0aXZlLCBbbm9kZV06IE5vZGUgfTtcbn0sIHt9IGFzIFByaW1pdGl2ZXMpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBVdGlsc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIEZsdXNoIGN1c3RvbSBldmVudCBkaXNwYXRjaFxuICogaHR0cHM6Ly9naXRodWIuY29tL3JhZGl4LXVpL3ByaW1pdGl2ZXMvcHVsbC8xMzc4XG4gKlxuICogUmVhY3QgYmF0Y2hlcyAqYWxsKiBldmVudCBoYW5kbGVycyBzaW5jZSB2ZXJzaW9uIDE4LCB0aGlzIGludHJvZHVjZXMgY2VydGFpbiBjb25zaWRlcmF0aW9ucyB3aGVuIHVzaW5nIGN1c3RvbSBldmVudCB0eXBlcy5cbiAqXG4gKiBJbnRlcm5hbGx5LCBSZWFjdCBwcmlvcml0aXNlcyBldmVudHMgaW4gdGhlIGZvbGxvd2luZyBvcmRlcjpcbiAqICAtIGRpc2NyZXRlXG4gKiAgLSBjb250aW51b3VzXG4gKiAgLSBkZWZhdWx0XG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYThhNDc0MmYxYzU0NDkzZGYwMGRhNjQ4YTNmOWQyNmUzZGI5YzhiNS9wYWNrYWdlcy9yZWFjdC1kb20vc3JjL2V2ZW50cy9SZWFjdERPTUV2ZW50TGlzdGVuZXIuanMjTDI5NC1MMzUwXG4gKlxuICogYGRpc2NyZXRlYCBpcyBhbiAgaW1wb3J0YW50IGRpc3RpbmN0aW9uIGFzIHVwZGF0ZXMgd2l0aGluIHRoZXNlIGV2ZW50cyBhcmUgYXBwbGllZCBpbW1lZGlhdGVseS5cbiAqIFJlYWN0IGhvd2V2ZXIsIGlzIG5vdCBhYmxlIHRvIGluZmVyIHRoZSBwcmlvcml0eSBvZiBjdXN0b20gZXZlbnQgdHlwZXMgZHVlIHRvIGhvdyB0aGV5IGFyZSBkZXRlY3RlZCBpbnRlcm5hbGx5LlxuICogQmVjYXVzZSBvZiB0aGlzLCBpdCdzIHBvc3NpYmxlIGZvciB1cGRhdGVzIGZyb20gY3VzdG9tIGV2ZW50cyB0byBiZSB1bmV4cGVjdGVkbHkgYmF0Y2hlZCB3aGVuXG4gKiBkaXNwYXRjaGVkIGJ5IGFub3RoZXIgYGRpc2NyZXRlYCBldmVudC5cbiAqXG4gKiBJbiBvcmRlciB0byBlbnN1cmUgdGhhdCB1cGRhdGVzIGZyb20gY3VzdG9tIGV2ZW50cyBhcmUgYXBwbGllZCBwcmVkaWN0YWJseSwgd2UgbmVlZCB0byBtYW51YWxseSBmbHVzaCB0aGUgYmF0Y2guXG4gKiBUaGlzIHV0aWxpdHkgc2hvdWxkIGJlIHVzZWQgd2hlbiBkaXNwYXRjaGluZyBhIGN1c3RvbSBldmVudCBmcm9tIHdpdGhpbiBhbm90aGVyIGBkaXNjcmV0ZWAgZXZlbnQsIHRoaXMgdXRpbGl0eVxuICogaXMgbm90IG5lY2Vzc2FyeSB3aGVuIGRpc3BhdGNoaW5nIGtub3duIGV2ZW50IHR5cGVzLCBvciBpZiBkaXNwYXRjaGluZyBhIGN1c3RvbSB0eXBlIGluc2lkZSBhIG5vbi1kaXNjcmV0ZSBldmVudC5cbiAqIEZvciBleGFtcGxlOlxuICpcbiAqIGRpc3BhdGNoaW5nIGEga25vd24gY2xpY2sgXHVEODNEXHVEQzRFXG4gKiB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXHUyMDE4Y2xpY2tcdTIwMTkpKVxuICpcbiAqIGRpc3BhdGNoaW5nIGEgY3VzdG9tIHR5cGUgd2l0aGluIGEgbm9uLWRpc2NyZXRlIGV2ZW50IFx1RDgzRFx1REM0RVxuICogb25TY3JvbGw9eyhldmVudCkgPT4gZXZlbnQudGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFx1MjAxOGN1c3RvbVR5cGVcdTIwMTkpKX1cbiAqXG4gKiBkaXNwYXRjaGluZyBhIGN1c3RvbSB0eXBlIHdpdGhpbiBhIGBkaXNjcmV0ZWAgZXZlbnQgXHVEODNEXHVEQzREXG4gKiBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IGRpc3BhdGNoRGlzY3JldGVDdXN0b21FdmVudChldmVudC50YXJnZXQsIG5ldyBDdXN0b21FdmVudChcdTIwMThjdXN0b21UeXBlXHUyMDE5KSl9XG4gKlxuICogTm90ZTogdGhvdWdoIFJlYWN0IGNsYXNzaWZpZXMgYGZvY3VzYCwgYGZvY3VzaW5gIGFuZCBgZm9jdXNvdXRgIGV2ZW50cyBhcyBgZGlzY3JldGVgLCBpdCdzICBub3QgcmVjb21tZW5kZWQgdG8gdXNlXG4gKiB0aGlzIHV0aWxpdHkgd2l0aCB0aGVtLiBUaGlzIGlzIGJlY2F1c2UgaXQncyBwb3NzaWJsZSBmb3IgdGhvc2UgaGFuZGxlcnMgdG8gYmUgY2FsbGVkIGltcGxpY2l0bHkgZHVyaW5nIHJlbmRlclxuICogZS5nLiB3aGVuIGZvY3VzIGlzIHdpdGhpbiBhIGNvbXBvbmVudCBhcyBpdCBpcyB1bm1vdW50ZWQsIG9yIHdoZW4gbWFuYWdpbmcgZm9jdXMgb24gbW91bnQuXG4gKi9cblxuZnVuY3Rpb24gZGlzcGF0Y2hEaXNjcmV0ZUN1c3RvbUV2ZW50PEUgZXh0ZW5kcyBDdXN0b21FdmVudD4odGFyZ2V0OiBFWyd0YXJnZXQnXSwgZXZlbnQ6IEUpIHtcbiAgaWYgKHRhcmdldCkgUmVhY3RET00uZmx1c2hTeW5jKCgpID0+IHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KSk7XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgUm9vdCA9IFByaW1pdGl2ZTtcblxuZXhwb3J0IHtcbiAgUHJpbWl0aXZlLFxuICAvL1xuICBSb290LFxuICAvL1xuICBkaXNwYXRjaERpc2NyZXRlQ3VzdG9tRXZlbnQsXG59O1xuZXhwb3J0IHR5cGUgeyBQcmltaXRpdmVQcm9wc1dpdGhSZWYgfTtcbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogQSBjdXN0b20gaG9vayB0aGF0IGNvbnZlcnRzIGEgY2FsbGJhY2sgdG8gYSByZWYgdG8gYXZvaWQgdHJpZ2dlcmluZyByZS1yZW5kZXJzIHdoZW4gcGFzc2VkIGFzIGFcbiAqIHByb3Agb3IgYXZvaWQgcmUtZXhlY3V0aW5nIGVmZmVjdHMgd2hlbiBwYXNzZWQgYXMgYSBkZXBlbmRlbmN5XG4gKi9cbmZ1bmN0aW9uIHVzZUNhbGxiYWNrUmVmPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oY2FsbGJhY2s6IFQgfCB1bmRlZmluZWQpOiBUIHtcbiAgY29uc3QgY2FsbGJhY2tSZWYgPSBSZWFjdC51c2VSZWYoY2FsbGJhY2spO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FsbGJhY2tSZWYuY3VycmVudCA9IGNhbGxiYWNrO1xuICB9KTtcblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE5MjQwXG4gIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+ICgoLi4uYXJncykgPT4gY2FsbGJhY2tSZWYuY3VycmVudD8uKC4uLmFyZ3MpKSBhcyBULCBbXSk7XG59XG5cbmV4cG9ydCB7IHVzZUNhbGxiYWNrUmVmIH07XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2tSZWYgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZic7XG5cbi8qKlxuICogTGlzdGVucyBmb3Igd2hlbiB0aGUgZXNjYXBlIGtleSBpcyBkb3duXG4gKi9cbmZ1bmN0aW9uIHVzZUVzY2FwZUtleWRvd24oXG4gIG9uRXNjYXBlS2V5RG93blByb3A/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIG93bmVyRG9jdW1lbnQ6IERvY3VtZW50ID0gZ2xvYmFsVGhpcz8uZG9jdW1lbnRcbikge1xuICBjb25zdCBvbkVzY2FwZUtleURvd24gPSB1c2VDYWxsYmFja1JlZihvbkVzY2FwZUtleURvd25Qcm9wKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIG9uRXNjYXBlS2V5RG93bihldmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBvd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgcmV0dXJuICgpID0+IG93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfSwgW29uRXNjYXBlS2V5RG93biwgb3duZXJEb2N1bWVudF0pO1xufVxuXG5leHBvcnQgeyB1c2VFc2NhcGVLZXlkb3duIH07XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKiogTnVtYmVyIG9mIGNvbXBvbmVudHMgd2hpY2ggaGF2ZSByZXF1ZXN0ZWQgaW50ZXJlc3QgdG8gaGF2ZSBmb2N1cyBndWFyZHMgKi9cbmxldCBjb3VudCA9IDA7XG5cbmZ1bmN0aW9uIEZvY3VzR3VhcmRzKHByb3BzOiBhbnkpIHtcbiAgdXNlRm9jdXNHdWFyZHMoKTtcbiAgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqIEluamVjdHMgYSBwYWlyIG9mIGZvY3VzIGd1YXJkcyBhdCB0aGUgZWRnZXMgb2YgdGhlIHdob2xlIERPTSB0cmVlXG4gKiB0byBlbnN1cmUgYGZvY3VzaW5gICYgYGZvY3Vzb3V0YCBldmVudHMgY2FuIGJlIGNhdWdodCBjb25zaXN0ZW50bHkuXG4gKi9cbmZ1bmN0aW9uIHVzZUZvY3VzR3VhcmRzKCkge1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVkZ2VHdWFyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1yYWRpeC1mb2N1cy1ndWFyZF0nKTtcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIGVkZ2VHdWFyZHNbMF0gPz8gY3JlYXRlRm9jdXNHdWFyZCgpKTtcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgZWRnZUd1YXJkc1sxXSA/PyBjcmVhdGVGb2N1c0d1YXJkKCkpO1xuICAgIGNvdW50Kys7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXJhZGl4LWZvY3VzLWd1YXJkXScpLmZvckVhY2goKG5vZGUpID0+IG5vZGUucmVtb3ZlKCkpO1xuICAgICAgfVxuICAgICAgY291bnQtLTtcbiAgICB9O1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZvY3VzR3VhcmQoKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXJhZGl4LWZvY3VzLWd1YXJkJywgJycpO1xuICBlbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgZWxlbWVudC5zdHlsZS5vdXRsaW5lID0gJ25vbmUnO1xuICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICBlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5jb25zdCBSb290ID0gRm9jdXNHdWFyZHM7XG5cbmV4cG9ydCB7XG4gIEZvY3VzR3VhcmRzLFxuICAvL1xuICBSb290LFxuICAvL1xuICB1c2VGb2N1c0d1YXJkcyxcbn07XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmcyc7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrUmVmIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWYnO1xuXG5jb25zdCBBVVRPRk9DVVNfT05fTU9VTlQgPSAnZm9jdXNTY29wZS5hdXRvRm9jdXNPbk1vdW50JztcbmNvbnN0IEFVVE9GT0NVU19PTl9VTk1PVU5UID0gJ2ZvY3VzU2NvcGUuYXV0b0ZvY3VzT25Vbm1vdW50JztcbmNvbnN0IEVWRU5UX09QVElPTlMgPSB7IGJ1YmJsZXM6IGZhbHNlLCBjYW5jZWxhYmxlOiB0cnVlIH07XG5cbnR5cGUgRm9jdXNhYmxlVGFyZ2V0ID0gSFRNTEVsZW1lbnQgfCB7IGZvY3VzKCk6IHZvaWQgfTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRm9jdXNTY29wZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBGT0NVU19TQ09QRV9OQU1FID0gJ0ZvY3VzU2NvcGUnO1xuXG50eXBlIEZvY3VzU2NvcGVFbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG50eXBlIFByaW1pdGl2ZURpdlByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbmludGVyZmFjZSBGb2N1c1Njb3BlUHJvcHMgZXh0ZW5kcyBQcmltaXRpdmVEaXZQcm9wcyB7XG4gIC8qKlxuICAgKiBXaGVuIGB0cnVlYCwgdGFiYmluZyBmcm9tIGxhc3QgaXRlbSB3aWxsIGZvY3VzIGZpcnN0IHRhYmJhYmxlXG4gICAqIGFuZCBzaGlmdCt0YWIgZnJvbSBmaXJzdCBpdGVtIHdpbGwgZm9jdXMgbGFzdCB0YWJhYmJsZS5cbiAgICogQGRlZmF1bHRWYWx1ZSBmYWxzZVxuICAgKi9cbiAgbG9vcD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZW4gYHRydWVgLCBmb2N1cyBjYW5ub3QgZXNjYXBlIHRoZSBmb2N1cyBzY29wZSB2aWEga2V5Ym9hcmQsXG4gICAqIHBvaW50ZXIsIG9yIGEgcHJvZ3JhbW1hdGljIGZvY3VzLlxuICAgKiBAZGVmYXVsdFZhbHVlIGZhbHNlXG4gICAqL1xuICB0cmFwcGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBjYWxsZWQgd2hlbiBhdXRvLWZvY3VzaW5nIG9uIG1vdW50LlxuICAgKiBDYW4gYmUgcHJldmVudGVkLlxuICAgKi9cbiAgb25Nb3VudEF1dG9Gb2N1cz86IChldmVudDogRXZlbnQpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgY2FsbGVkIHdoZW4gYXV0by1mb2N1c2luZyBvbiB1bm1vdW50LlxuICAgKiBDYW4gYmUgcHJldmVudGVkLlxuICAgKi9cbiAgb25Vbm1vdW50QXV0b0ZvY3VzPzogKGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcbn1cblxuY29uc3QgRm9jdXNTY29wZSA9IFJlYWN0LmZvcndhcmRSZWY8Rm9jdXNTY29wZUVsZW1lbnQsIEZvY3VzU2NvcGVQcm9wcz4oKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIGxvb3AgPSBmYWxzZSxcbiAgICB0cmFwcGVkID0gZmFsc2UsXG4gICAgb25Nb3VudEF1dG9Gb2N1czogb25Nb3VudEF1dG9Gb2N1c1Byb3AsXG4gICAgb25Vbm1vdW50QXV0b0ZvY3VzOiBvblVubW91bnRBdXRvRm9jdXNQcm9wLFxuICAgIC4uLnNjb3BlUHJvcHNcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbY29udGFpbmVyLCBzZXRDb250YWluZXJdID0gUmVhY3QudXNlU3RhdGU8SFRNTEVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgb25Nb3VudEF1dG9Gb2N1cyA9IHVzZUNhbGxiYWNrUmVmKG9uTW91bnRBdXRvRm9jdXNQcm9wKTtcbiAgY29uc3Qgb25Vbm1vdW50QXV0b0ZvY3VzID0gdXNlQ2FsbGJhY2tSZWYob25Vbm1vdW50QXV0b0ZvY3VzUHJvcCk7XG4gIGNvbnN0IGxhc3RGb2N1c2VkRWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCAobm9kZSkgPT4gc2V0Q29udGFpbmVyKG5vZGUpKTtcblxuICBjb25zdCBmb2N1c1Njb3BlID0gUmVhY3QudXNlUmVmKHtcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHBhdXNlKCkge1xuICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgcmVzdW1lKCkge1xuICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcbiAgICB9LFxuICB9KS5jdXJyZW50O1xuXG4gIC8vIFRha2VzIGNhcmUgb2YgdHJhcHBpbmcgZm9jdXMgaWYgZm9jdXMgaXMgbW92ZWQgb3V0c2lkZSBwcm9ncmFtbWF0aWNhbGx5IGZvciBleGFtcGxlXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRyYXBwZWQpIHtcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzSW4oZXZlbnQ6IEZvY3VzRXZlbnQpIHtcbiAgICAgICAgaWYgKGZvY3VzU2NvcGUucGF1c2VkIHx8ICFjb250YWluZXIpIHJldHVybjtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgbGFzdEZvY3VzZWRFbGVtZW50UmVmLmN1cnJlbnQgPSB0YXJnZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9jdXMobGFzdEZvY3VzZWRFbGVtZW50UmVmLmN1cnJlbnQsIHsgc2VsZWN0OiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzT3V0KGV2ZW50OiBGb2N1c0V2ZW50KSB7XG4gICAgICAgIGlmIChmb2N1c1Njb3BlLnBhdXNlZCB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSBldmVudC5yZWxhdGVkVGFyZ2V0IGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcblxuICAgICAgICAvLyBBIGBmb2N1c291dGAgZXZlbnQgd2l0aCBhIGBudWxsYCBgcmVsYXRlZFRhcmdldGAgd2lsbCBoYXBwZW4gaW4gYXQgbGVhc3QgdHdvIGNhc2VzOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxLiBXaGVuIHRoZSB1c2VyIHN3aXRjaGVzIGFwcC90YWJzL3dpbmRvd3MvdGhlIGJyb3dzZXIgaXRzZWxmIGxvc2VzIGZvY3VzLlxuICAgICAgICAvLyAyLiBJbiBHb29nbGUgQ2hyb21lLCB3aGVuIHRoZSBmb2N1c2VkIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIGxldCB0aGUgYnJvd3NlciBkbyBpdHMgdGhpbmcgaGVyZSBiZWNhdXNlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxLiBUaGUgYnJvd3NlciBhbHJlYWR5IGtlZXBzIGEgbWVtb3J5IG9mIHdoYXQncyBmb2N1c2VkIGZvciB3aGVuIHRoZSBwYWdlIGdldHMgcmVmb2N1c2VkLlxuICAgICAgICAvLyAyLiBJbiBHb29nbGUgQ2hyb21lLCBpZiB3ZSB0cnkgdG8gZm9jdXMgdGhlIGRlbGV0ZWQgZm9jdXNlZCBlbGVtZW50IChhcyBwZXIgYmVsb3cpLCBpdFxuICAgICAgICAvLyAgICB0aHJvd3MgdGhlIENQVSB0byAxMDAlLCBzbyB3ZSBhdm9pZCBkb2luZyBhbnl0aGluZyBmb3IgdGhpcyByZWFzb24gaGVyZSB0b28uXG4gICAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgLy8gSWYgdGhlIGZvY3VzIGhhcyBtb3ZlZCB0byBhbiBhY3R1YWwgbGVnaXRpbWF0ZSBlbGVtZW50IChgcmVsYXRlZFRhcmdldCAhPT0gbnVsbGApXG4gICAgICAgIC8vIHRoYXQgaXMgb3V0c2lkZSB0aGUgY29udGFpbmVyLCB3ZSBtb3ZlIGZvY3VzIHRvIHRoZSBsYXN0IHZhbGlkIGZvY3VzZWQgZWxlbWVudCBpbnNpZGUuXG4gICAgICAgIGlmICghY29udGFpbmVyLmNvbnRhaW5zKHJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICAgICAgZm9jdXMobGFzdEZvY3VzZWRFbGVtZW50UmVmLmN1cnJlbnQsIHsgc2VsZWN0OiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdGhlIGZvY3VzZWQgZWxlbWVudCBnZXRzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLCBicm93c2VycyBtb3ZlIGZvY3VzXG4gICAgICAvLyBiYWNrIHRvIHRoZSBkb2N1bWVudC5ib2R5LiBJbiB0aGlzIGNhc2UsIHdlIG1vdmUgZm9jdXMgdG8gdGhlIGNvbnRhaW5lclxuICAgICAgLy8gdG8ga2VlcCBmb2N1cyB0cmFwcGVkIGNvcnJlY3RseS5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZU11dGF0aW9ucyhtdXRhdGlvbnM6IE11dGF0aW9uUmVjb3JkW10pIHtcbiAgICAgICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgaWYgKGZvY3VzZWRFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSByZXR1cm47XG4gICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgaWYgKG11dGF0aW9uLnJlbW92ZWROb2Rlcy5sZW5ndGggPiAwKSBmb2N1cyhjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBoYW5kbGVGb2N1c0luKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgaGFuZGxlRm9jdXNPdXQpO1xuICAgICAgY29uc3QgbXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGhhbmRsZU11dGF0aW9ucyk7XG4gICAgICBpZiAoY29udGFpbmVyKSBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyLCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGhhbmRsZUZvY3VzSW4pO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGhhbmRsZUZvY3VzT3V0KTtcbiAgICAgICAgbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3RyYXBwZWQsIGNvbnRhaW5lciwgZm9jdXNTY29wZS5wYXVzZWRdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIGZvY3VzU2NvcGVzU3RhY2suYWRkKGZvY3VzU2NvcGUpO1xuICAgICAgY29uc3QgcHJldmlvdXNseUZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgICBjb25zdCBoYXNGb2N1c2VkQ2FuZGlkYXRlID0gY29udGFpbmVyLmNvbnRhaW5zKHByZXZpb3VzbHlGb2N1c2VkRWxlbWVudCk7XG5cbiAgICAgIGlmICghaGFzRm9jdXNlZENhbmRpZGF0ZSkge1xuICAgICAgICBjb25zdCBtb3VudEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KEFVVE9GT0NVU19PTl9NT1VOVCwgRVZFTlRfT1BUSU9OUyk7XG4gICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKEFVVE9GT0NVU19PTl9NT1VOVCwgb25Nb3VudEF1dG9Gb2N1cyk7XG4gICAgICAgIGNvbnRhaW5lci5kaXNwYXRjaEV2ZW50KG1vdW50RXZlbnQpO1xuICAgICAgICBpZiAoIW1vdW50RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIGZvY3VzRmlyc3QocmVtb3ZlTGlua3MoZ2V0VGFiYmFibGVDYW5kaWRhdGVzKGNvbnRhaW5lcikpLCB7IHNlbGVjdDogdHJ1ZSB9KTtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gcHJldmlvdXNseUZvY3VzZWRFbGVtZW50KSB7XG4gICAgICAgICAgICBmb2N1cyhjb250YWluZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBVVRPRk9DVVNfT05fTU9VTlQsIG9uTW91bnRBdXRvRm9jdXMpO1xuXG4gICAgICAgIC8vIFdlIGhpdCBhIHJlYWN0IGJ1ZyAoZml4ZWQgaW4gdjE3KSB3aXRoIGZvY3VzaW5nIGluIHVubW91bnQuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZGVsYXkgdGhlIGZvY3VzIGEgbGl0dGxlIHRvIGdldCBhcm91bmQgaXQgZm9yIG5vdy5cbiAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE3ODk0XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVubW91bnRFdmVudCA9IG5ldyBDdXN0b21FdmVudChBVVRPRk9DVVNfT05fVU5NT1VOVCwgRVZFTlRfT1BUSU9OUyk7XG4gICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoQVVUT0ZPQ1VTX09OX1VOTU9VTlQsIG9uVW5tb3VudEF1dG9Gb2N1cyk7XG4gICAgICAgICAgY29udGFpbmVyLmRpc3BhdGNoRXZlbnQodW5tb3VudEV2ZW50KTtcbiAgICAgICAgICBpZiAoIXVubW91bnRFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICBmb2N1cyhwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQgPz8gZG9jdW1lbnQuYm9keSwgeyBzZWxlY3Q6IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBhZnRlciB3ZSBgZGlzcGF0Y2hFdmVudGBcbiAgICAgICAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBVVRPRk9DVVNfT05fVU5NT1VOVCwgb25Vbm1vdW50QXV0b0ZvY3VzKTtcblxuICAgICAgICAgIGZvY3VzU2NvcGVzU3RhY2sucmVtb3ZlKGZvY3VzU2NvcGUpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbY29udGFpbmVyLCBvbk1vdW50QXV0b0ZvY3VzLCBvblVubW91bnRBdXRvRm9jdXMsIGZvY3VzU2NvcGVdKTtcblxuICAvLyBUYWtlcyBjYXJlIG9mIGxvb3BpbmcgZm9jdXMgKHdoZW4gdGFiYmluZyB3aGlsc3QgYXQgdGhlIGVkZ2VzKVxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50OiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWxvb3AgJiYgIXRyYXBwZWQpIHJldHVybjtcbiAgICAgIGlmIChmb2N1c1Njb3BlLnBhdXNlZCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBpc1RhYktleSA9IGV2ZW50LmtleSA9PT0gJ1RhYicgJiYgIWV2ZW50LmFsdEtleSAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQubWV0YUtleTtcbiAgICAgIGNvbnN0IGZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG5cbiAgICAgIGlmIChpc1RhYktleSAmJiBmb2N1c2VkRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBldmVudC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCBbZmlyc3QsIGxhc3RdID0gZ2V0VGFiYmFibGVFZGdlcyhjb250YWluZXIpO1xuICAgICAgICBjb25zdCBoYXNUYWJiYWJsZUVsZW1lbnRzSW5zaWRlID0gZmlyc3QgJiYgbGFzdDtcblxuICAgICAgICAvLyB3ZSBjYW4gb25seSB3cmFwIGZvY3VzIGlmIHdlIGhhdmUgdGFiYmFibGUgZWRnZXNcbiAgICAgICAgaWYgKCFoYXNUYWJiYWJsZUVsZW1lbnRzSW5zaWRlKSB7XG4gICAgICAgICAgaWYgKGZvY3VzZWRFbGVtZW50ID09PSBjb250YWluZXIpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFldmVudC5zaGlmdEtleSAmJiBmb2N1c2VkRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChsb29wKSBmb2N1cyhmaXJzdCwgeyBzZWxlY3Q6IHRydWUgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudC5zaGlmdEtleSAmJiBmb2N1c2VkRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAobG9vcCkgZm9jdXMobGFzdCwgeyBzZWxlY3Q6IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbbG9vcCwgdHJhcHBlZCwgZm9jdXNTY29wZS5wYXVzZWRdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8UHJpbWl0aXZlLmRpdiB0YWJJbmRleD17LTF9IHsuLi5zY29wZVByb3BzfSByZWY9e2NvbXBvc2VkUmVmc30gb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufSAvPlxuICApO1xufSk7XG5cbkZvY3VzU2NvcGUuZGlzcGxheU5hbWUgPSBGT0NVU19TQ09QRV9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBVdGlsc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIEF0dGVtcHRzIGZvY3VzaW5nIHRoZSBmaXJzdCBlbGVtZW50IGluIGEgbGlzdCBvZiBjYW5kaWRhdGVzLlxuICogU3RvcHMgd2hlbiBmb2N1cyBoYXMgYWN0dWFsbHkgbW92ZWQuXG4gKi9cbmZ1bmN0aW9uIGZvY3VzRmlyc3QoY2FuZGlkYXRlczogSFRNTEVsZW1lbnRbXSwgeyBzZWxlY3QgPSBmYWxzZSB9ID0ge30pIHtcbiAgY29uc3QgcHJldmlvdXNseUZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuICAgIGZvY3VzKGNhbmRpZGF0ZSwgeyBzZWxlY3QgfSk7XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHByZXZpb3VzbHlGb2N1c2VkRWxlbWVudCkgcmV0dXJuO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgYW5kIGxhc3QgdGFiYmFibGUgZWxlbWVudHMgaW5zaWRlIGEgY29udGFpbmVyLlxuICovXG5mdW5jdGlvbiBnZXRUYWJiYWJsZUVkZ2VzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgY2FuZGlkYXRlcyA9IGdldFRhYmJhYmxlQ2FuZGlkYXRlcyhjb250YWluZXIpO1xuICBjb25zdCBmaXJzdCA9IGZpbmRWaXNpYmxlKGNhbmRpZGF0ZXMsIGNvbnRhaW5lcik7XG4gIGNvbnN0IGxhc3QgPSBmaW5kVmlzaWJsZShjYW5kaWRhdGVzLnJldmVyc2UoKSwgY29udGFpbmVyKTtcbiAgcmV0dXJuIFtmaXJzdCwgbGFzdF0gYXMgY29uc3Q7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgcG90ZW50aWFsIHRhYmJhYmxlIGNhbmRpZGF0ZXMuXG4gKlxuICogTk9URTogVGhpcyBpcyBvbmx5IGEgY2xvc2UgYXBwcm94aW1hdGlvbi4gRm9yIGV4YW1wbGUgaXQgZG9lc24ndCB0YWtlIGludG8gYWNjb3VudCBjYXNlcyBsaWtlIHdoZW5cbiAqIGVsZW1lbnRzIGFyZSBub3QgdmlzaWJsZS4gVGhpcyBjYW5ub3QgYmUgd29ya2VkIG91dCBlYXNpbHkgYnkganVzdCByZWFkaW5nIGEgcHJvcGVydHksIGJ1dCByYXRoZXJcbiAqIG5lY2Vzc2l0YXRlIHJ1bnRpbWUga25vd2xlZGdlIChjb21wdXRlZCBzdHlsZXMsIGV0YykuIFdlIGRlYWwgd2l0aCB0aGVzZSBjYXNlcyBzZXBhcmF0ZWx5LlxuICpcbiAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RyZWVXYWxrZXJcbiAqIENyZWRpdDogaHR0cHM6Ly9naXRodWIuY29tL2Rpc2NvcmQvZm9jdXMtbGF5ZXJzL2Jsb2IvbWFzdGVyL3NyYy91dGlsL3dyYXBGb2N1cy50c3gjTDFcbiAqL1xuZnVuY3Rpb24gZ2V0VGFiYmFibGVDYW5kaWRhdGVzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3Qgbm9kZXM6IEhUTUxFbGVtZW50W10gPSBbXTtcbiAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250YWluZXIsIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULCB7XG4gICAgYWNjZXB0Tm9kZTogKG5vZGU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgaXNIaWRkZW5JbnB1dCA9IG5vZGUudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBub2RlLnR5cGUgPT09ICdoaWRkZW4nO1xuICAgICAgaWYgKG5vZGUuZGlzYWJsZWQgfHwgbm9kZS5oaWRkZW4gfHwgaXNIaWRkZW5JbnB1dCkgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX1NLSVA7XG4gICAgICAvLyBgLnRhYkluZGV4YCBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIGB0YWJpbmRleGAgYXR0cmlidXRlLiBJdCB3b3JrcyBvbiB0aGVcbiAgICAgIC8vIHJ1bnRpbWUncyB1bmRlcnN0YW5kaW5nIG9mIHRhYmJhYmlsaXR5LCBzbyB0aGlzIGF1dG9tYXRpY2FsbHkgYWNjb3VudHNcbiAgICAgIC8vIGZvciBhbnkga2luZCBvZiBlbGVtZW50IHRoYXQgY291bGQgYmUgdGFiYmVkIHRvLlxuICAgICAgcmV0dXJuIG5vZGUudGFiSW5kZXggPj0gMCA/IE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVCA6IE5vZGVGaWx0ZXIuRklMVEVSX1NLSVA7XG4gICAgfSxcbiAgfSk7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkgbm9kZXMucHVzaCh3YWxrZXIuY3VycmVudE5vZGUgYXMgSFRNTEVsZW1lbnQpO1xuICAvLyB3ZSBkbyBub3QgdGFrZSBpbnRvIGFjY291bnQgdGhlIG9yZGVyIG9mIG5vZGVzIHdpdGggcG9zaXRpdmUgYHRhYkluZGV4YCBhcyBpdFxuICAvLyBoaW5kZXJzIGFjY2Vzc2liaWxpdHkgdG8gaGF2ZSB0YWIgb3JkZXIgZGlmZmVyZW50IGZyb20gdmlzdWFsIG9yZGVyLlxuICByZXR1cm4gbm9kZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgdmlzaWJsZSBlbGVtZW50IGluIGEgbGlzdC5cbiAqIE5PVEU6IE9ubHkgY2hlY2tzIHZpc2liaWxpdHkgdXAgdG8gdGhlIGBjb250YWluZXJgLlxuICovXG5mdW5jdGlvbiBmaW5kVmlzaWJsZShlbGVtZW50czogSFRNTEVsZW1lbnRbXSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAvLyB3ZSBzdG9wIGNoZWNraW5nIGlmIGl0J3MgaGlkZGVuIGF0IHRoZSBgY29udGFpbmVyYCBsZXZlbCAoZXhjbHVkaW5nKVxuICAgIGlmICghaXNIaWRkZW4oZWxlbWVudCwgeyB1cFRvOiBjb250YWluZXIgfSkpIHJldHVybiBlbGVtZW50O1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzSGlkZGVuKG5vZGU6IEhUTUxFbGVtZW50LCB7IHVwVG8gfTogeyB1cFRvPzogSFRNTEVsZW1lbnQgfSkge1xuICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS52aXNpYmlsaXR5ID09PSAnaGlkZGVuJykgcmV0dXJuIHRydWU7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgLy8gd2Ugc3RvcCBhdCBgdXBUb2AgKGV4Y2x1ZGluZyBpdClcbiAgICBpZiAodXBUbyAhPT0gdW5kZWZpbmVkICYmIG5vZGUgPT09IHVwVG8pIHJldHVybiBmYWxzZTtcbiAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybiB0cnVlO1xuICAgIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1NlbGVjdGFibGVJbnB1dChlbGVtZW50OiBhbnkpOiBlbGVtZW50IGlzIEZvY3VzYWJsZVRhcmdldCAmIHsgc2VsZWN0OiAoKSA9PiB2b2lkIH0ge1xuICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgJ3NlbGVjdCcgaW4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gZm9jdXMoZWxlbWVudD86IEZvY3VzYWJsZVRhcmdldCB8IG51bGwsIHsgc2VsZWN0ID0gZmFsc2UgfSA9IHt9KSB7XG4gIC8vIG9ubHkgZm9jdXMgaWYgdGhhdCBlbGVtZW50IGlzIGZvY3VzYWJsZVxuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmZvY3VzKSB7XG4gICAgY29uc3QgcHJldmlvdXNseUZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAvLyBOT1RFOiB3ZSBwcmV2ZW50IHNjcm9sbGluZyBvbiBmb2N1cywgdG8gbWluaW1pemUgamFycmluZyB0cmFuc2l0aW9ucyBmb3IgdXNlcnNcbiAgICBlbGVtZW50LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAvLyBvbmx5IHNlbGVjdCBpZiBpdHMgbm90IHRoZSBzYW1lIGVsZW1lbnQsIGl0IHN1cHBvcnRzIHNlbGVjdGlvbiBhbmQgd2UgbmVlZCB0byBzZWxlY3RcbiAgICBpZiAoZWxlbWVudCAhPT0gcHJldmlvdXNseUZvY3VzZWRFbGVtZW50ICYmIGlzU2VsZWN0YWJsZUlucHV0KGVsZW1lbnQpICYmIHNlbGVjdClcbiAgICAgIGVsZW1lbnQuc2VsZWN0KCk7XG4gIH1cbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRm9jdXNTY29wZSBzdGFja1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG50eXBlIEZvY3VzU2NvcGVBUEkgPSB7IHBhdXNlZDogYm9vbGVhbjsgcGF1c2UoKTogdm9pZDsgcmVzdW1lKCk6IHZvaWQgfTtcbmNvbnN0IGZvY3VzU2NvcGVzU3RhY2sgPSBjcmVhdGVGb2N1c1Njb3Blc1N0YWNrKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUZvY3VzU2NvcGVzU3RhY2soKSB7XG4gIC8qKiBBIHN0YWNrIG9mIGZvY3VzIHNjb3Blcywgd2l0aCB0aGUgYWN0aXZlIG9uZSBhdCB0aGUgdG9wICovXG4gIGxldCBzdGFjazogRm9jdXNTY29wZUFQSVtdID0gW107XG5cbiAgcmV0dXJuIHtcbiAgICBhZGQoZm9jdXNTY29wZTogRm9jdXNTY29wZUFQSSkge1xuICAgICAgLy8gcGF1c2UgdGhlIGN1cnJlbnRseSBhY3RpdmUgZm9jdXMgc2NvcGUgKGF0IHRoZSB0b3Agb2YgdGhlIHN0YWNrKVxuICAgICAgY29uc3QgYWN0aXZlRm9jdXNTY29wZSA9IHN0YWNrWzBdO1xuICAgICAgaWYgKGZvY3VzU2NvcGUgIT09IGFjdGl2ZUZvY3VzU2NvcGUpIHtcbiAgICAgICAgYWN0aXZlRm9jdXNTY29wZT8ucGF1c2UoKTtcbiAgICAgIH1cbiAgICAgIC8vIHJlbW92ZSBpbiBjYXNlIGl0IGFscmVhZHkgZXhpc3RzIChiZWNhdXNlIHdlJ2xsIHJlLWFkZCBpdCBhdCB0aGUgdG9wIG9mIHRoZSBzdGFjaylcbiAgICAgIHN0YWNrID0gYXJyYXlSZW1vdmUoc3RhY2ssIGZvY3VzU2NvcGUpO1xuICAgICAgc3RhY2sudW5zaGlmdChmb2N1c1Njb3BlKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlKGZvY3VzU2NvcGU6IEZvY3VzU2NvcGVBUEkpIHtcbiAgICAgIHN0YWNrID0gYXJyYXlSZW1vdmUoc3RhY2ssIGZvY3VzU2NvcGUpO1xuICAgICAgc3RhY2tbMF0/LnJlc3VtZSgpO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGFycmF5UmVtb3ZlPFQ+KGFycmF5OiBUW10sIGl0ZW06IFQpIHtcbiAgY29uc3QgdXBkYXRlZEFycmF5ID0gWy4uLmFycmF5XTtcbiAgY29uc3QgaW5kZXggPSB1cGRhdGVkQXJyYXkuaW5kZXhPZihpdGVtKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHVwZGF0ZWRBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB1cGRhdGVkQXJyYXk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUxpbmtzKGl0ZW1zOiBIVE1MRWxlbWVudFtdKSB7XG4gIHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udGFnTmFtZSAhPT0gJ0EnKTtcbn1cblxuY29uc3QgUm9vdCA9IEZvY3VzU2NvcGU7XG5cbmV4cG9ydCB7XG4gIEZvY3VzU2NvcGUsXG4gIC8vXG4gIFJvb3QsXG59O1xuZXhwb3J0IHR5cGUgeyBGb2N1c1Njb3BlUHJvcHMgfTtcbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtdXNlLWxheW91dC1lZmZlY3QnO1xuXG4vLyBXZSBgdG9TdHJpbmcoKWAgdG8gcHJldmVudCBidW5kbGVycyBmcm9tIHRyeWluZyB0byBgaW1wb3J0IHsgdXNlSWQgfSBmcm9tICdyZWFjdCc7YFxuY29uc3QgdXNlUmVhY3RJZCA9IChSZWFjdCBhcyBhbnkpWyd1c2VJZCcudG9TdHJpbmcoKV0gfHwgKCgpID0+IHVuZGVmaW5lZCk7XG5sZXQgY291bnQgPSAwO1xuXG5mdW5jdGlvbiB1c2VJZChkZXRlcm1pbmlzdGljSWQ/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBbaWQsIHNldElkXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IHVuZGVmaW5lZD4odXNlUmVhY3RJZCgpKTtcbiAgLy8gUmVhY3QgdmVyc2lvbnMgb2xkZXIgdGhhbiAxOCB3aWxsIGhhdmUgY2xpZW50LXNpZGUgaWRzIG9ubHkuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkZXRlcm1pbmlzdGljSWQpIHNldElkKChyZWFjdElkKSA9PiByZWFjdElkID8/IFN0cmluZyhjb3VudCsrKSk7XG4gIH0sIFtkZXRlcm1pbmlzdGljSWRdKTtcbiAgcmV0dXJuIGRldGVybWluaXN0aWNJZCB8fCAoaWQgPyBgcmFkaXgtJHtpZH1gIDogJycpO1xufVxuXG5leHBvcnQgeyB1c2VJZCB9O1xuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBPbiB0aGUgc2VydmVyLCBSZWFjdCBlbWl0cyBhIHdhcm5pbmcgd2hlbiBjYWxsaW5nIGB1c2VMYXlvdXRFZmZlY3RgLlxuICogVGhpcyBpcyBiZWNhdXNlIG5laXRoZXIgYHVzZUxheW91dEVmZmVjdGAgbm9yIGB1c2VFZmZlY3RgIHJ1biBvbiB0aGUgc2VydmVyLlxuICogV2UgdXNlIHRoaXMgc2FmZSB2ZXJzaW9uIHdoaWNoIHN1cHByZXNzZXMgdGhlIHdhcm5pbmcgYnkgcmVwbGFjaW5nIGl0IHdpdGggYSBub29wIG9uIHRoZSBzZXJ2ZXIuXG4gKlxuICogU2VlOiBodHRwczovL3JlYWN0anMub3JnL2RvY3MvaG9va3MtcmVmZXJlbmNlLmh0bWwjdXNlbGF5b3V0ZWZmZWN0XG4gKi9cbmNvbnN0IHVzZUxheW91dEVmZmVjdCA9IEJvb2xlYW4oZ2xvYmFsVGhpcz8uZG9jdW1lbnQpID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogKCkgPT4ge307XG5cbmV4cG9ydCB7IHVzZUxheW91dEVmZmVjdCB9O1xuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIHVzZUZsb2F0aW5nLFxuICBhdXRvVXBkYXRlLFxuICBvZmZzZXQsXG4gIHNoaWZ0LFxuICBsaW1pdFNoaWZ0LFxuICBoaWRlLFxuICBhcnJvdyBhcyBmbG9hdGluZ1VJYXJyb3csXG4gIGZsaXAsXG4gIHNpemUsXG59IGZyb20gJ0BmbG9hdGluZy11aS9yZWFjdC1kb20nO1xuaW1wb3J0ICogYXMgQXJyb3dQcmltaXRpdmUgZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWFycm93JztcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnMnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWNvbnRleHQnO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZSc7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC11c2UtY2FsbGJhY2stcmVmJztcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC11c2UtbGF5b3V0LWVmZmVjdCc7XG5pbXBvcnQgeyB1c2VTaXplIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXVzZS1zaXplJztcblxuaW1wb3J0IHR5cGUgeyBQbGFjZW1lbnQsIE1pZGRsZXdhcmUgfSBmcm9tICdAZmxvYXRpbmctdWkvcmVhY3QtZG9tJztcbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtY29udGV4dCc7XG5pbXBvcnQgdHlwZSB7IE1lYXN1cmFibGUgfSBmcm9tICdAcmFkaXgtdWkvcmVjdCc7XG5cbmNvbnN0IFNJREVfT1BUSU9OUyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10gYXMgY29uc3Q7XG5jb25zdCBBTElHTl9PUFRJT05TID0gWydzdGFydCcsICdjZW50ZXInLCAnZW5kJ10gYXMgY29uc3Q7XG5cbnR5cGUgU2lkZSA9ICh0eXBlb2YgU0lERV9PUFRJT05TKVtudW1iZXJdO1xudHlwZSBBbGlnbiA9ICh0eXBlb2YgQUxJR05fT1BUSU9OUylbbnVtYmVyXTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUG9wcGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IFBPUFBFUl9OQU1FID0gJ1BvcHBlcic7XG5cbnR5cGUgU2NvcGVkUHJvcHM8UD4gPSBQICYgeyBfX3Njb3BlUG9wcGVyPzogU2NvcGUgfTtcbmNvbnN0IFtjcmVhdGVQb3BwZXJDb250ZXh0LCBjcmVhdGVQb3BwZXJTY29wZV0gPSBjcmVhdGVDb250ZXh0U2NvcGUoUE9QUEVSX05BTUUpO1xuXG50eXBlIFBvcHBlckNvbnRleHRWYWx1ZSA9IHtcbiAgYW5jaG9yOiBNZWFzdXJhYmxlIHwgbnVsbDtcbiAgb25BbmNob3JDaGFuZ2UoYW5jaG9yOiBNZWFzdXJhYmxlIHwgbnVsbCk6IHZvaWQ7XG59O1xuY29uc3QgW1BvcHBlclByb3ZpZGVyLCB1c2VQb3BwZXJDb250ZXh0XSA9IGNyZWF0ZVBvcHBlckNvbnRleHQ8UG9wcGVyQ29udGV4dFZhbHVlPihQT1BQRVJfTkFNRSk7XG5cbmludGVyZmFjZSBQb3BwZXJQcm9wcyB7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xufVxuY29uc3QgUG9wcGVyOiBSZWFjdC5GQzxQb3BwZXJQcm9wcz4gPSAocHJvcHM6IFNjb3BlZFByb3BzPFBvcHBlclByb3BzPikgPT4ge1xuICBjb25zdCB7IF9fc2NvcGVQb3BwZXIsIGNoaWxkcmVuIH0gPSBwcm9wcztcbiAgY29uc3QgW2FuY2hvciwgc2V0QW5jaG9yXSA9IFJlYWN0LnVzZVN0YXRlPE1lYXN1cmFibGUgfCBudWxsPihudWxsKTtcbiAgcmV0dXJuIChcbiAgICA8UG9wcGVyUHJvdmlkZXIgc2NvcGU9e19fc2NvcGVQb3BwZXJ9IGFuY2hvcj17YW5jaG9yfSBvbkFuY2hvckNoYW5nZT17c2V0QW5jaG9yfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1BvcHBlclByb3ZpZGVyPlxuICApO1xufTtcblxuUG9wcGVyLmRpc3BsYXlOYW1lID0gUE9QUEVSX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBvcHBlckFuY2hvclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBBTkNIT1JfTkFNRSA9ICdQb3BwZXJBbmNob3InO1xuXG50eXBlIFBvcHBlckFuY2hvckVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbnR5cGUgUHJpbWl0aXZlRGl2UHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuaW50ZXJmYWNlIFBvcHBlckFuY2hvclByb3BzIGV4dGVuZHMgUHJpbWl0aXZlRGl2UHJvcHMge1xuICB2aXJ0dWFsUmVmPzogUmVhY3QuUmVmT2JqZWN0PE1lYXN1cmFibGU+O1xufVxuXG5jb25zdCBQb3BwZXJBbmNob3IgPSBSZWFjdC5mb3J3YXJkUmVmPFBvcHBlckFuY2hvckVsZW1lbnQsIFBvcHBlckFuY2hvclByb3BzPihcbiAgKHByb3BzOiBTY29wZWRQcm9wczxQb3BwZXJBbmNob3JQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVBvcHBlciwgdmlydHVhbFJlZiwgLi4uYW5jaG9yUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VQb3BwZXJDb250ZXh0KEFOQ0hPUl9OQU1FLCBfX3Njb3BlUG9wcGVyKTtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWY8UG9wcGVyQW5jaG9yRWxlbWVudD4obnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgcmVmKTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAvLyBDb25zdW1lciBjYW4gYW5jaG9yIHRoZSBwb3BwZXIgdG8gc29tZXRoaW5nIHRoYXQgaXNuJ3RcbiAgICAgIC8vIGEgRE9NIG5vZGUgZS5nLiBwb2ludGVyIHBvc2l0aW9uLCBzbyB3ZSBvdmVycmlkZSB0aGVcbiAgICAgIC8vIGBhbmNob3JSZWZgIHdpdGggdGhlaXIgdmlydHVhbCByZWYgaW4gdGhpcyBjYXNlLlxuICAgICAgY29udGV4dC5vbkFuY2hvckNoYW5nZSh2aXJ0dWFsUmVmPy5jdXJyZW50IHx8IHJlZi5jdXJyZW50KTtcbiAgICB9KTtcblxuICAgIHJldHVybiB2aXJ0dWFsUmVmID8gbnVsbCA6IDxQcmltaXRpdmUuZGl2IHsuLi5hbmNob3JQcm9wc30gcmVmPXtjb21wb3NlZFJlZnN9IC8+O1xuICB9XG4pO1xuXG5Qb3BwZXJBbmNob3IuZGlzcGxheU5hbWUgPSBBTkNIT1JfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUG9wcGVyQ29udGVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBDT05URU5UX05BTUUgPSAnUG9wcGVyQ29udGVudCc7XG5cbnR5cGUgUG9wcGVyQ29udGVudENvbnRleHRWYWx1ZSA9IHtcbiAgcGxhY2VkU2lkZTogU2lkZTtcbiAgb25BcnJvd0NoYW5nZShhcnJvdzogSFRNTFNwYW5FbGVtZW50IHwgbnVsbCk6IHZvaWQ7XG4gIGFycm93WD86IG51bWJlcjtcbiAgYXJyb3dZPzogbnVtYmVyO1xuICBzaG91bGRIaWRlQXJyb3c6IGJvb2xlYW47XG59O1xuXG5jb25zdCBbUG9wcGVyQ29udGVudFByb3ZpZGVyLCB1c2VDb250ZW50Q29udGV4dF0gPVxuICBjcmVhdGVQb3BwZXJDb250ZXh0PFBvcHBlckNvbnRlbnRDb250ZXh0VmFsdWU+KENPTlRFTlRfTkFNRSk7XG5cbnR5cGUgQm91bmRhcnkgPSBFbGVtZW50IHwgbnVsbDtcblxudHlwZSBQb3BwZXJDb250ZW50RWxlbWVudCA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuaW50ZXJmYWNlIFBvcHBlckNvbnRlbnRQcm9wcyBleHRlbmRzIFByaW1pdGl2ZURpdlByb3BzIHtcbiAgc2lkZT86IFNpZGU7XG4gIHNpZGVPZmZzZXQ/OiBudW1iZXI7XG4gIGFsaWduPzogQWxpZ247XG4gIGFsaWduT2Zmc2V0PzogbnVtYmVyO1xuICBhcnJvd1BhZGRpbmc/OiBudW1iZXI7XG4gIGF2b2lkQ29sbGlzaW9ucz86IGJvb2xlYW47XG4gIGNvbGxpc2lvbkJvdW5kYXJ5PzogQm91bmRhcnkgfCBCb3VuZGFyeVtdO1xuICBjb2xsaXNpb25QYWRkaW5nPzogbnVtYmVyIHwgUGFydGlhbDxSZWNvcmQ8U2lkZSwgbnVtYmVyPj47XG4gIHN0aWNreT86ICdwYXJ0aWFsJyB8ICdhbHdheXMnO1xuICBoaWRlV2hlbkRldGFjaGVkPzogYm9vbGVhbjtcbiAgdXBkYXRlUG9zaXRpb25TdHJhdGVneT86ICdvcHRpbWl6ZWQnIHwgJ2Fsd2F5cyc7XG4gIG9uUGxhY2VkPzogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgUG9wcGVyQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8UG9wcGVyQ29udGVudEVsZW1lbnQsIFBvcHBlckNvbnRlbnRQcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8UG9wcGVyQ29udGVudFByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgX19zY29wZVBvcHBlcixcbiAgICAgIHNpZGUgPSAnYm90dG9tJyxcbiAgICAgIHNpZGVPZmZzZXQgPSAwLFxuICAgICAgYWxpZ24gPSAnY2VudGVyJyxcbiAgICAgIGFsaWduT2Zmc2V0ID0gMCxcbiAgICAgIGFycm93UGFkZGluZyA9IDAsXG4gICAgICBhdm9pZENvbGxpc2lvbnMgPSB0cnVlLFxuICAgICAgY29sbGlzaW9uQm91bmRhcnkgPSBbXSxcbiAgICAgIGNvbGxpc2lvblBhZGRpbmc6IGNvbGxpc2lvblBhZGRpbmdQcm9wID0gMCxcbiAgICAgIHN0aWNreSA9ICdwYXJ0aWFsJyxcbiAgICAgIGhpZGVXaGVuRGV0YWNoZWQgPSBmYWxzZSxcbiAgICAgIHVwZGF0ZVBvc2l0aW9uU3RyYXRlZ3kgPSAnb3B0aW1pemVkJyxcbiAgICAgIG9uUGxhY2VkLFxuICAgICAgLi4uY29udGVudFByb3BzXG4gICAgfSA9IHByb3BzO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHVzZVBvcHBlckNvbnRleHQoQ09OVEVOVF9OQU1FLCBfX3Njb3BlUG9wcGVyKTtcblxuICAgIGNvbnN0IFtjb250ZW50LCBzZXRDb250ZW50XSA9IFJlYWN0LnVzZVN0YXRlPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgKG5vZGUpID0+IHNldENvbnRlbnQobm9kZSkpO1xuXG4gICAgY29uc3QgW2Fycm93LCBzZXRBcnJvd10gPSBSZWFjdC51c2VTdGF0ZTxIVE1MU3BhbkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBhcnJvd1NpemUgPSB1c2VTaXplKGFycm93KTtcbiAgICBjb25zdCBhcnJvd1dpZHRoID0gYXJyb3dTaXplPy53aWR0aCA/PyAwO1xuICAgIGNvbnN0IGFycm93SGVpZ2h0ID0gYXJyb3dTaXplPy5oZWlnaHQgPz8gMDtcblxuICAgIGNvbnN0IGRlc2lyZWRQbGFjZW1lbnQgPSAoc2lkZSArIChhbGlnbiAhPT0gJ2NlbnRlcicgPyAnLScgKyBhbGlnbiA6ICcnKSkgYXMgUGxhY2VtZW50O1xuXG4gICAgY29uc3QgY29sbGlzaW9uUGFkZGluZyA9XG4gICAgICB0eXBlb2YgY29sbGlzaW9uUGFkZGluZ1Byb3AgPT09ICdudW1iZXInXG4gICAgICAgID8gY29sbGlzaW9uUGFkZGluZ1Byb3BcbiAgICAgICAgOiB7IHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgbGVmdDogMCwgLi4uY29sbGlzaW9uUGFkZGluZ1Byb3AgfTtcblxuICAgIGNvbnN0IGJvdW5kYXJ5ID0gQXJyYXkuaXNBcnJheShjb2xsaXNpb25Cb3VuZGFyeSkgPyBjb2xsaXNpb25Cb3VuZGFyeSA6IFtjb2xsaXNpb25Cb3VuZGFyeV07XG4gICAgY29uc3QgaGFzRXhwbGljaXRCb3VuZGFyaWVzID0gYm91bmRhcnkubGVuZ3RoID4gMDtcblxuICAgIGNvbnN0IGRldGVjdE92ZXJmbG93T3B0aW9ucyA9IHtcbiAgICAgIHBhZGRpbmc6IGNvbGxpc2lvblBhZGRpbmcsXG4gICAgICBib3VuZGFyeTogYm91bmRhcnkuZmlsdGVyKGlzTm90TnVsbCksXG4gICAgICAvLyB3aXRoIGBzdHJhdGVneTogJ2ZpeGVkJ2AsIHRoaXMgaXMgdGhlIG9ubHkgd2F5IHRvIGdldCBpdCB0byByZXNwZWN0IGJvdW5kYXJpZXNcbiAgICAgIGFsdEJvdW5kYXJ5OiBoYXNFeHBsaWNpdEJvdW5kYXJpZXMsXG4gICAgfTtcblxuICAgIGNvbnN0IHsgcmVmcywgZmxvYXRpbmdTdHlsZXMsIHBsYWNlbWVudCwgaXNQb3NpdGlvbmVkLCBtaWRkbGV3YXJlRGF0YSB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgLy8gZGVmYXVsdCB0byBgZml4ZWRgIHN0cmF0ZWd5IHNvIHVzZXJzIGRvbid0IGhhdmUgdG8gcGljayBhbmQgd2UgYWxzbyBhdm9pZCBmb2N1cyBzY3JvbGwgaXNzdWVzXG4gICAgICBzdHJhdGVneTogJ2ZpeGVkJyxcbiAgICAgIHBsYWNlbWVudDogZGVzaXJlZFBsYWNlbWVudCxcbiAgICAgIHdoaWxlRWxlbWVudHNNb3VudGVkOiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gYXV0b1VwZGF0ZSguLi5hcmdzLCB7XG4gICAgICAgICAgYW5pbWF0aW9uRnJhbWU6IHVwZGF0ZVBvc2l0aW9uU3RyYXRlZ3kgPT09ICdhbHdheXMnLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsZWFudXA7XG4gICAgICB9LFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiBjb250ZXh0LmFuY2hvcixcbiAgICAgIH0sXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG9mZnNldCh7IG1haW5BeGlzOiBzaWRlT2Zmc2V0ICsgYXJyb3dIZWlnaHQsIGFsaWdubWVudEF4aXM6IGFsaWduT2Zmc2V0IH0pLFxuICAgICAgICBhdm9pZENvbGxpc2lvbnMgJiZcbiAgICAgICAgICBzaGlmdCh7XG4gICAgICAgICAgICBtYWluQXhpczogdHJ1ZSxcbiAgICAgICAgICAgIGNyb3NzQXhpczogZmFsc2UsXG4gICAgICAgICAgICBsaW1pdGVyOiBzdGlja3kgPT09ICdwYXJ0aWFsJyA/IGxpbWl0U2hpZnQoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9ucyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgYXZvaWRDb2xsaXNpb25zICYmIGZsaXAoeyAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMgfSksXG4gICAgICAgIHNpemUoe1xuICAgICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9ucyxcbiAgICAgICAgICBhcHBseTogKHsgZWxlbWVudHMsIHJlY3RzLCBhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0IH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgd2lkdGg6IGFuY2hvcldpZHRoLCBoZWlnaHQ6IGFuY2hvckhlaWdodCB9ID0gcmVjdHMucmVmZXJlbmNlO1xuICAgICAgICAgICAgY29uc3QgY29udGVudFN0eWxlID0gZWxlbWVudHMuZmxvYXRpbmcuc3R5bGU7XG4gICAgICAgICAgICBjb250ZW50U3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXgtcG9wcGVyLWF2YWlsYWJsZS13aWR0aCcsIGAke2F2YWlsYWJsZVdpZHRofXB4YCk7XG4gICAgICAgICAgICBjb250ZW50U3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXgtcG9wcGVyLWF2YWlsYWJsZS1oZWlnaHQnLCBgJHthdmFpbGFibGVIZWlnaHR9cHhgKTtcbiAgICAgICAgICAgIGNvbnRlbnRTdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpeC1wb3BwZXItYW5jaG9yLXdpZHRoJywgYCR7YW5jaG9yV2lkdGh9cHhgKTtcbiAgICAgICAgICAgIGNvbnRlbnRTdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpeC1wb3BwZXItYW5jaG9yLWhlaWdodCcsIGAke2FuY2hvckhlaWdodH1weGApO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBhcnJvdyAmJiBmbG9hdGluZ1VJYXJyb3coeyBlbGVtZW50OiBhcnJvdywgcGFkZGluZzogYXJyb3dQYWRkaW5nIH0pLFxuICAgICAgICB0cmFuc2Zvcm1PcmlnaW4oeyBhcnJvd1dpZHRoLCBhcnJvd0hlaWdodCB9KSxcbiAgICAgICAgaGlkZVdoZW5EZXRhY2hlZCAmJiBoaWRlKHsgc3RyYXRlZ3k6ICdyZWZlcmVuY2VIaWRkZW4nLCAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMgfSksXG4gICAgICBdLFxuICAgIH0pO1xuXG4gICAgY29uc3QgW3BsYWNlZFNpZGUsIHBsYWNlZEFsaWduXSA9IGdldFNpZGVBbmRBbGlnbkZyb21QbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgIGNvbnN0IGhhbmRsZVBsYWNlZCA9IHVzZUNhbGxiYWNrUmVmKG9uUGxhY2VkKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGlzUG9zaXRpb25lZCkge1xuICAgICAgICBoYW5kbGVQbGFjZWQ/LigpO1xuICAgICAgfVxuICAgIH0sIFtpc1Bvc2l0aW9uZWQsIGhhbmRsZVBsYWNlZF0pO1xuXG4gICAgY29uc3QgYXJyb3dYID0gbWlkZGxld2FyZURhdGEuYXJyb3c/Lng7XG4gICAgY29uc3QgYXJyb3dZID0gbWlkZGxld2FyZURhdGEuYXJyb3c/Lnk7XG4gICAgY29uc3QgY2Fubm90Q2VudGVyQXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdz8uY2VudGVyT2Zmc2V0ICE9PSAwO1xuXG4gICAgY29uc3QgW2NvbnRlbnRaSW5kZXgsIHNldENvbnRlbnRaSW5kZXhdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nPigpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoY29udGVudCkgc2V0Q29udGVudFpJbmRleCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjb250ZW50KS56SW5kZXgpO1xuICAgIH0sIFtjb250ZW50XSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICByZWY9e3JlZnMuc2V0RmxvYXRpbmd9XG4gICAgICAgIGRhdGEtcmFkaXgtcG9wcGVyLWNvbnRlbnQtd3JhcHBlcj1cIlwiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgLi4uZmxvYXRpbmdTdHlsZXMsXG4gICAgICAgICAgdHJhbnNmb3JtOiBpc1Bvc2l0aW9uZWQgPyBmbG9hdGluZ1N0eWxlcy50cmFuc2Zvcm0gOiAndHJhbnNsYXRlKDAsIC0yMDAlKScsIC8vIGtlZXAgb2ZmIHRoZSBwYWdlIHdoZW4gbWVhc3VyaW5nXG4gICAgICAgICAgbWluV2lkdGg6ICdtYXgtY29udGVudCcsXG4gICAgICAgICAgekluZGV4OiBjb250ZW50WkluZGV4LFxuICAgICAgICAgIFsnLS1yYWRpeC1wb3BwZXItdHJhbnNmb3JtLW9yaWdpbicgYXMgYW55XTogW1xuICAgICAgICAgICAgbWlkZGxld2FyZURhdGEudHJhbnNmb3JtT3JpZ2luPy54LFxuICAgICAgICAgICAgbWlkZGxld2FyZURhdGEudHJhbnNmb3JtT3JpZ2luPy55LFxuICAgICAgICAgIF0uam9pbignICcpLFxuXG4gICAgICAgICAgLy8gaGlkZSB0aGUgY29udGVudCBpZiB1c2luZyB0aGUgaGlkZSBtaWRkbGV3YXJlIGFuZCBzaG91bGQgYmUgaGlkZGVuXG4gICAgICAgICAgLy8gc2V0IHZpc2liaWxpdHkgdG8gaGlkZGVuIGFuZCBkaXNhYmxlIHBvaW50ZXIgZXZlbnRzIHNvIHRoZSBVSSBiZWhhdmVzXG4gICAgICAgICAgLy8gYXMgaWYgdGhlIFBvcHBlckNvbnRlbnQgaXNuJ3QgdGhlcmUgYXQgYWxsXG4gICAgICAgICAgLi4uKG1pZGRsZXdhcmVEYXRhLmhpZGU/LnJlZmVyZW5jZUhpZGRlbiAmJiB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfX1cbiAgICAgICAgLy8gRmxvYXRpbmcgVUkgaW50ZXJhbGx5IGNhbGN1bGF0ZXMgbG9naWNhbCBhbGlnbm1lbnQgYmFzZWQgdGhlIGBkaXJgIGF0dHJpYnV0ZSBvblxuICAgICAgICAvLyB0aGUgcmVmZXJlbmNlL2Zsb2F0aW5nIG5vZGUsIHdlIG11c3QgYWRkIHRoaXMgYXR0cmlidXRlIGhlcmUgdG8gZW5zdXJlXG4gICAgICAgIC8vIHRoaXMgaXMgY2FsY3VsYXRlZCB3aGVuIHBvcnRhbGxlZCBhcyB3ZWxsIGFzIGlubGluZS5cbiAgICAgICAgZGlyPXtwcm9wcy5kaXJ9XG4gICAgICA+XG4gICAgICAgIDxQb3BwZXJDb250ZW50UHJvdmlkZXJcbiAgICAgICAgICBzY29wZT17X19zY29wZVBvcHBlcn1cbiAgICAgICAgICBwbGFjZWRTaWRlPXtwbGFjZWRTaWRlfVxuICAgICAgICAgIG9uQXJyb3dDaGFuZ2U9e3NldEFycm93fVxuICAgICAgICAgIGFycm93WD17YXJyb3dYfVxuICAgICAgICAgIGFycm93WT17YXJyb3dZfVxuICAgICAgICAgIHNob3VsZEhpZGVBcnJvdz17Y2Fubm90Q2VudGVyQXJyb3d9XG4gICAgICAgID5cbiAgICAgICAgICA8UHJpbWl0aXZlLmRpdlxuICAgICAgICAgICAgZGF0YS1zaWRlPXtwbGFjZWRTaWRlfVxuICAgICAgICAgICAgZGF0YS1hbGlnbj17cGxhY2VkQWxpZ259XG4gICAgICAgICAgICB7Li4uY29udGVudFByb3BzfVxuICAgICAgICAgICAgcmVmPXtjb21wb3NlZFJlZnN9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAuLi5jb250ZW50UHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBQb3BwZXJDb250ZW50IGhhc24ndCBiZWVuIHBsYWNlZCB5ZXQgKG5vdCBhbGwgbWVhc3VyZW1lbnRzIGRvbmUpXG4gICAgICAgICAgICAgIC8vIHdlIHByZXZlbnQgYW5pbWF0aW9ucyBzbyB0aGF0IHVzZXJzJ3MgYW5pbWF0aW9uIGRvbid0IGtpY2sgaW4gdG9vIGVhcmx5IHJlZmVycmluZyB3cm9uZyBzaWRlc1xuICAgICAgICAgICAgICBhbmltYXRpb246ICFpc1Bvc2l0aW9uZWQgPyAnbm9uZScgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvUG9wcGVyQ29udGVudFByb3ZpZGVyPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuKTtcblxuUG9wcGVyQ29udGVudC5kaXNwbGF5TmFtZSA9IENPTlRFTlRfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUG9wcGVyQXJyb3dcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgQVJST1dfTkFNRSA9ICdQb3BwZXJBcnJvdyc7XG5cbmNvbnN0IE9QUE9TSVRFX1NJREU6IFJlY29yZDxTaWRlLCBTaWRlPiA9IHtcbiAgdG9wOiAnYm90dG9tJyxcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgYm90dG9tOiAndG9wJyxcbiAgbGVmdDogJ3JpZ2h0Jyxcbn07XG5cbnR5cGUgUG9wcGVyQXJyb3dFbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQXJyb3dQcmltaXRpdmUuUm9vdD47XG50eXBlIEFycm93UHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFycm93UHJpbWl0aXZlLlJvb3Q+O1xuaW50ZXJmYWNlIFBvcHBlckFycm93UHJvcHMgZXh0ZW5kcyBBcnJvd1Byb3BzIHt9XG5cbmNvbnN0IFBvcHBlckFycm93ID0gUmVhY3QuZm9yd2FyZFJlZjxQb3BwZXJBcnJvd0VsZW1lbnQsIFBvcHBlckFycm93UHJvcHM+KGZ1bmN0aW9uIFBvcHBlckFycm93KFxuICBwcm9wczogU2NvcGVkUHJvcHM8UG9wcGVyQXJyb3dQcm9wcz4sXG4gIGZvcndhcmRlZFJlZlxuKSB7XG4gIGNvbnN0IHsgX19zY29wZVBvcHBlciwgLi4uYXJyb3dQcm9wcyB9ID0gcHJvcHM7XG4gIGNvbnN0IGNvbnRlbnRDb250ZXh0ID0gdXNlQ29udGVudENvbnRleHQoQVJST1dfTkFNRSwgX19zY29wZVBvcHBlcik7XG4gIGNvbnN0IGJhc2VTaWRlID0gT1BQT1NJVEVfU0lERVtjb250ZW50Q29udGV4dC5wbGFjZWRTaWRlXTtcblxuICByZXR1cm4gKFxuICAgIC8vIHdlIGhhdmUgdG8gdXNlIGFuIGV4dHJhIHdyYXBwZXIgYmVjYXVzZSBgUmVzaXplT2JzZXJ2ZXJgICh1c2VkIGJ5IGB1c2VTaXplYClcbiAgICAvLyBkb2Vzbid0IHJlcG9ydCBzaXplIGFzIHdlJ2QgZXhwZWN0IG9uIFNWRyBlbGVtZW50cy5cbiAgICAvLyBpdCByZXBvcnRzIHRoZWlyIGJvdW5kaW5nIGJveCB3aGljaCBpcyBlZmZlY3RpdmVseSB0aGUgbGFyZ2VzdCBwYXRoIGluc2lkZSB0aGUgU1ZHLlxuICAgIDxzcGFuXG4gICAgICByZWY9e2NvbnRlbnRDb250ZXh0Lm9uQXJyb3dDaGFuZ2V9XG4gICAgICBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgbGVmdDogY29udGVudENvbnRleHQuYXJyb3dYLFxuICAgICAgICB0b3A6IGNvbnRlbnRDb250ZXh0LmFycm93WSxcbiAgICAgICAgW2Jhc2VTaWRlXTogMCxcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgICAgdG9wOiAnJyxcbiAgICAgICAgICByaWdodDogJzAgMCcsXG4gICAgICAgICAgYm90dG9tOiAnY2VudGVyIDAnLFxuICAgICAgICAgIGxlZnQ6ICcxMDAlIDAnLFxuICAgICAgICB9W2NvbnRlbnRDb250ZXh0LnBsYWNlZFNpZGVdLFxuICAgICAgICB0cmFuc2Zvcm06IHtcbiAgICAgICAgICB0b3A6ICd0cmFuc2xhdGVZKDEwMCUpJyxcbiAgICAgICAgICByaWdodDogJ3RyYW5zbGF0ZVkoNTAlKSByb3RhdGUoOTBkZWcpIHRyYW5zbGF0ZVgoLTUwJSknLFxuICAgICAgICAgIGJvdHRvbTogYHJvdGF0ZSgxODBkZWcpYCxcbiAgICAgICAgICBsZWZ0OiAndHJhbnNsYXRlWSg1MCUpIHJvdGF0ZSgtOTBkZWcpIHRyYW5zbGF0ZVgoNTAlKScsXG4gICAgICAgIH1bY29udGVudENvbnRleHQucGxhY2VkU2lkZV0sXG4gICAgICAgIHZpc2liaWxpdHk6IGNvbnRlbnRDb250ZXh0LnNob3VsZEhpZGVBcnJvdyA/ICdoaWRkZW4nIDogdW5kZWZpbmVkLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8QXJyb3dQcmltaXRpdmUuUm9vdFxuICAgICAgICB7Li4uYXJyb3dQcm9wc31cbiAgICAgICAgcmVmPXtmb3J3YXJkZWRSZWZ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgLi4uYXJyb3dQcm9wcy5zdHlsZSxcbiAgICAgICAgICAvLyBlbnN1cmVzIHRoZSBlbGVtZW50IGNhbiBiZSBtZWFzdXJlZCBjb3JyZWN0bHkgKG1vc3RseSBmb3IgaWYgU1ZHKVxuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvc3Bhbj5cbiAgKTtcbn0pO1xuXG5Qb3BwZXJBcnJvdy5kaXNwbGF5TmFtZSA9IEFSUk9XX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gaXNOb3ROdWxsPFQ+KHZhbHVlOiBUIHwgbnVsbCk6IHZhbHVlIGlzIFQge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGw7XG59XG5cbmNvbnN0IHRyYW5zZm9ybU9yaWdpbiA9IChvcHRpb25zOiB7IGFycm93V2lkdGg6IG51bWJlcjsgYXJyb3dIZWlnaHQ6IG51bWJlciB9KTogTWlkZGxld2FyZSA9PiAoe1xuICBuYW1lOiAndHJhbnNmb3JtT3JpZ2luJyxcbiAgb3B0aW9ucyxcbiAgZm4oZGF0YSkge1xuICAgIGNvbnN0IHsgcGxhY2VtZW50LCByZWN0cywgbWlkZGxld2FyZURhdGEgfSA9IGRhdGE7XG5cbiAgICBjb25zdCBjYW5ub3RDZW50ZXJBcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93Py5jZW50ZXJPZmZzZXQgIT09IDA7XG4gICAgY29uc3QgaXNBcnJvd0hpZGRlbiA9IGNhbm5vdENlbnRlckFycm93O1xuICAgIGNvbnN0IGFycm93V2lkdGggPSBpc0Fycm93SGlkZGVuID8gMCA6IG9wdGlvbnMuYXJyb3dXaWR0aDtcbiAgICBjb25zdCBhcnJvd0hlaWdodCA9IGlzQXJyb3dIaWRkZW4gPyAwIDogb3B0aW9ucy5hcnJvd0hlaWdodDtcblxuICAgIGNvbnN0IFtwbGFjZWRTaWRlLCBwbGFjZWRBbGlnbl0gPSBnZXRTaWRlQW5kQWxpZ25Gcm9tUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gICAgY29uc3Qgbm9BcnJvd0FsaWduID0geyBzdGFydDogJzAlJywgY2VudGVyOiAnNTAlJywgZW5kOiAnMTAwJScgfVtwbGFjZWRBbGlnbl07XG5cbiAgICBjb25zdCBhcnJvd1hDZW50ZXIgPSAobWlkZGxld2FyZURhdGEuYXJyb3c/LnggPz8gMCkgKyBhcnJvd1dpZHRoIC8gMjtcbiAgICBjb25zdCBhcnJvd1lDZW50ZXIgPSAobWlkZGxld2FyZURhdGEuYXJyb3c/LnkgPz8gMCkgKyBhcnJvd0hlaWdodCAvIDI7XG5cbiAgICBsZXQgeCA9ICcnO1xuICAgIGxldCB5ID0gJyc7XG5cbiAgICBpZiAocGxhY2VkU2lkZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHggPSBpc0Fycm93SGlkZGVuID8gbm9BcnJvd0FsaWduIDogYCR7YXJyb3dYQ2VudGVyfXB4YDtcbiAgICAgIHkgPSBgJHstYXJyb3dIZWlnaHR9cHhgO1xuICAgIH0gZWxzZSBpZiAocGxhY2VkU2lkZSA9PT0gJ3RvcCcpIHtcbiAgICAgIHggPSBpc0Fycm93SGlkZGVuID8gbm9BcnJvd0FsaWduIDogYCR7YXJyb3dYQ2VudGVyfXB4YDtcbiAgICAgIHkgPSBgJHtyZWN0cy5mbG9hdGluZy5oZWlnaHQgKyBhcnJvd0hlaWdodH1weGA7XG4gICAgfSBlbHNlIGlmIChwbGFjZWRTaWRlID09PSAncmlnaHQnKSB7XG4gICAgICB4ID0gYCR7LWFycm93SGVpZ2h0fXB4YDtcbiAgICAgIHkgPSBpc0Fycm93SGlkZGVuID8gbm9BcnJvd0FsaWduIDogYCR7YXJyb3dZQ2VudGVyfXB4YDtcbiAgICB9IGVsc2UgaWYgKHBsYWNlZFNpZGUgPT09ICdsZWZ0Jykge1xuICAgICAgeCA9IGAke3JlY3RzLmZsb2F0aW5nLndpZHRoICsgYXJyb3dIZWlnaHR9cHhgO1xuICAgICAgeSA9IGlzQXJyb3dIaWRkZW4gPyBub0Fycm93QWxpZ24gOiBgJHthcnJvd1lDZW50ZXJ9cHhgO1xuICAgIH1cbiAgICByZXR1cm4geyBkYXRhOiB7IHgsIHkgfSB9O1xuICB9LFxufSk7XG5cbmZ1bmN0aW9uIGdldFNpZGVBbmRBbGlnbkZyb21QbGFjZW1lbnQocGxhY2VtZW50OiBQbGFjZW1lbnQpIHtcbiAgY29uc3QgW3NpZGUsIGFsaWduID0gJ2NlbnRlciddID0gcGxhY2VtZW50LnNwbGl0KCctJyk7XG4gIHJldHVybiBbc2lkZSBhcyBTaWRlLCBhbGlnbiBhcyBBbGlnbl0gYXMgY29uc3Q7XG59XG5cbmNvbnN0IFJvb3QgPSBQb3BwZXI7XG5jb25zdCBBbmNob3IgPSBQb3BwZXJBbmNob3I7XG5jb25zdCBDb250ZW50ID0gUG9wcGVyQ29udGVudDtcbmNvbnN0IEFycm93ID0gUG9wcGVyQXJyb3c7XG5cbmV4cG9ydCB7XG4gIGNyZWF0ZVBvcHBlclNjb3BlLFxuICAvL1xuICBQb3BwZXIsXG4gIFBvcHBlckFuY2hvcixcbiAgUG9wcGVyQ29udGVudCxcbiAgUG9wcGVyQXJyb3csXG4gIC8vXG4gIFJvb3QsXG4gIEFuY2hvcixcbiAgQ29udGVudCxcbiAgQXJyb3csXG4gIC8vXG4gIFNJREVfT1BUSU9OUyxcbiAgQUxJR05fT1BUSU9OUyxcbn07XG5leHBvcnQgdHlwZSB7IFBvcHBlclByb3BzLCBQb3BwZXJBbmNob3JQcm9wcywgUG9wcGVyQ29udGVudFByb3BzLCBQb3BwZXJBcnJvd1Byb3BzIH07XG4iLCAiaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBhcnJvdyBhcyBhcnJvdyQyLCBvZmZzZXQgYXMgb2Zmc2V0JDEsIHNoaWZ0IGFzIHNoaWZ0JDEsIGxpbWl0U2hpZnQgYXMgbGltaXRTaGlmdCQxLCBmbGlwIGFzIGZsaXAkMSwgc2l6ZSBhcyBzaXplJDEsIGF1dG9QbGFjZW1lbnQgYXMgYXV0b1BsYWNlbWVudCQxLCBoaWRlIGFzIGhpZGUkMSwgaW5saW5lIGFzIGlubGluZSQxIH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSc7XG5leHBvcnQgeyBhdXRvVXBkYXRlLCBjb21wdXRlUG9zaXRpb24sIGRldGVjdE92ZXJmbG93LCBnZXRPdmVyZmxvd0FuY2VzdG9ycywgcGxhdGZvcm0gfSBmcm9tICdAZmxvYXRpbmctdWkvZG9tJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxudmFyIGluZGV4ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcblxuLy8gRm9yayBvZiBgZmFzdC1kZWVwLWVxdWFsYCB0aGF0IG9ubHkgZG9lcyB0aGUgY29tcGFyaXNvbnMgd2UgbmVlZCBhbmQgY29tcGFyZXNcbi8vIGZ1bmN0aW9uc1xuZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIGEgIT09IHR5cGVvZiBiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyAmJiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGxldCBsZW5ndGg7XG4gIGxldCBpO1xuICBsZXQga2V5cztcbiAgaWYgKGEgJiYgYiAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICAgIGlmICghZGVlcEVxdWFsKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIHtcbiAgICAgIGlmICghe30uaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChrZXkgPT09ICdfb3duZXInICYmIGEuJCR0eXBlb2YpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoIWRlZXBFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiO1xufVxuXG5mdW5jdGlvbiBnZXREUFIoZWxlbWVudCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBjb25zdCB3aW4gPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICByZXR1cm4gd2luLmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbn1cblxuZnVuY3Rpb24gcm91bmRCeURQUihlbGVtZW50LCB2YWx1ZSkge1xuICBjb25zdCBkcHIgPSBnZXREUFIoZWxlbWVudCk7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogZHByKSAvIGRwcjtcbn1cblxuZnVuY3Rpb24gdXNlTGF0ZXN0UmVmKHZhbHVlKSB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZih2YWx1ZSk7XG4gIGluZGV4KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlZjtcbn1cblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIHBvc2l0aW9uIGEgZmxvYXRpbmcgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy91c2VGbG9hdGluZ1xuICovXG5mdW5jdGlvbiB1c2VGbG9hdGluZyhvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgY29uc3Qge1xuICAgIHBsYWNlbWVudCA9ICdib3R0b20nLFxuICAgIHN0cmF0ZWd5ID0gJ2Fic29sdXRlJyxcbiAgICBtaWRkbGV3YXJlID0gW10sXG4gICAgcGxhdGZvcm0sXG4gICAgZWxlbWVudHM6IHtcbiAgICAgIHJlZmVyZW5jZTogZXh0ZXJuYWxSZWZlcmVuY2UsXG4gICAgICBmbG9hdGluZzogZXh0ZXJuYWxGbG9hdGluZ1xuICAgIH0gPSB7fSxcbiAgICB0cmFuc2Zvcm0gPSB0cnVlLFxuICAgIHdoaWxlRWxlbWVudHNNb3VudGVkLFxuICAgIG9wZW5cbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IFJlYWN0LnVzZVN0YXRlKHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgc3RyYXRlZ3ksXG4gICAgcGxhY2VtZW50LFxuICAgIG1pZGRsZXdhcmVEYXRhOiB7fSxcbiAgICBpc1Bvc2l0aW9uZWQ6IGZhbHNlXG4gIH0pO1xuICBjb25zdCBbbGF0ZXN0TWlkZGxld2FyZSwgc2V0TGF0ZXN0TWlkZGxld2FyZV0gPSBSZWFjdC51c2VTdGF0ZShtaWRkbGV3YXJlKTtcbiAgaWYgKCFkZWVwRXF1YWwobGF0ZXN0TWlkZGxld2FyZSwgbWlkZGxld2FyZSkpIHtcbiAgICBzZXRMYXRlc3RNaWRkbGV3YXJlKG1pZGRsZXdhcmUpO1xuICB9XG4gIGNvbnN0IFtfcmVmZXJlbmNlLCBfc2V0UmVmZXJlbmNlXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbX2Zsb2F0aW5nLCBfc2V0RmxvYXRpbmddID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IHNldFJlZmVyZW5jZSA9IFJlYWN0LnVzZUNhbGxiYWNrKG5vZGUgPT4ge1xuICAgIGlmIChub2RlICE9PSByZWZlcmVuY2VSZWYuY3VycmVudCkge1xuICAgICAgcmVmZXJlbmNlUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgX3NldFJlZmVyZW5jZShub2RlKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3Qgc2V0RmxvYXRpbmcgPSBSZWFjdC51c2VDYWxsYmFjayhub2RlID0+IHtcbiAgICBpZiAobm9kZSAhPT0gZmxvYXRpbmdSZWYuY3VycmVudCkge1xuICAgICAgZmxvYXRpbmdSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICBfc2V0RmxvYXRpbmcobm9kZSk7XG4gICAgfVxuICB9LCBbXSk7XG4gIGNvbnN0IHJlZmVyZW5jZUVsID0gZXh0ZXJuYWxSZWZlcmVuY2UgfHwgX3JlZmVyZW5jZTtcbiAgY29uc3QgZmxvYXRpbmdFbCA9IGV4dGVybmFsRmxvYXRpbmcgfHwgX2Zsb2F0aW5nO1xuICBjb25zdCByZWZlcmVuY2VSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGZsb2F0aW5nUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBkYXRhUmVmID0gUmVhY3QudXNlUmVmKGRhdGEpO1xuICBjb25zdCBoYXNXaGlsZUVsZW1lbnRzTW91bnRlZCA9IHdoaWxlRWxlbWVudHNNb3VudGVkICE9IG51bGw7XG4gIGNvbnN0IHdoaWxlRWxlbWVudHNNb3VudGVkUmVmID0gdXNlTGF0ZXN0UmVmKHdoaWxlRWxlbWVudHNNb3VudGVkKTtcbiAgY29uc3QgcGxhdGZvcm1SZWYgPSB1c2VMYXRlc3RSZWYocGxhdGZvcm0pO1xuICBjb25zdCBvcGVuUmVmID0gdXNlTGF0ZXN0UmVmKG9wZW4pO1xuICBjb25zdCB1cGRhdGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFyZWZlcmVuY2VSZWYuY3VycmVudCB8fCAhZmxvYXRpbmdSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBwbGFjZW1lbnQsXG4gICAgICBzdHJhdGVneSxcbiAgICAgIG1pZGRsZXdhcmU6IGxhdGVzdE1pZGRsZXdhcmVcbiAgICB9O1xuICAgIGlmIChwbGF0Zm9ybVJlZi5jdXJyZW50KSB7XG4gICAgICBjb25maWcucGxhdGZvcm0gPSBwbGF0Zm9ybVJlZi5jdXJyZW50O1xuICAgIH1cbiAgICBjb21wdXRlUG9zaXRpb24ocmVmZXJlbmNlUmVmLmN1cnJlbnQsIGZsb2F0aW5nUmVmLmN1cnJlbnQsIGNvbmZpZykudGhlbihkYXRhID0+IHtcbiAgICAgIGNvbnN0IGZ1bGxEYXRhID0ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICAvLyBUaGUgZmxvYXRpbmcgZWxlbWVudCdzIHBvc2l0aW9uIG1heSBiZSByZWNvbXB1dGVkIHdoaWxlIGl0J3MgY2xvc2VkXG4gICAgICAgIC8vIGJ1dCBzdGlsbCBtb3VudGVkIChzdWNoIGFzIHdoZW4gdHJhbnNpdGlvbmluZyBvdXQpLiBUbyBlbnN1cmVcbiAgICAgICAgLy8gYGlzUG9zaXRpb25lZGAgd2lsbCBiZSBgZmFsc2VgIGluaXRpYWxseSBvbiB0aGUgbmV4dCBvcGVuLCBhdm9pZFxuICAgICAgICAvLyBzZXR0aW5nIGl0IHRvIGB0cnVlYCB3aGVuIGBvcGVuID09PSBmYWxzZWAgKG11c3QgYmUgc3BlY2lmaWVkKS5cbiAgICAgICAgaXNQb3NpdGlvbmVkOiBvcGVuUmVmLmN1cnJlbnQgIT09IGZhbHNlXG4gICAgICB9O1xuICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50ICYmICFkZWVwRXF1YWwoZGF0YVJlZi5jdXJyZW50LCBmdWxsRGF0YSkpIHtcbiAgICAgICAgZGF0YVJlZi5jdXJyZW50ID0gZnVsbERhdGE7XG4gICAgICAgIFJlYWN0RE9NLmZsdXNoU3luYygoKSA9PiB7XG4gICAgICAgICAgc2V0RGF0YShmdWxsRGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbbGF0ZXN0TWlkZGxld2FyZSwgcGxhY2VtZW50LCBzdHJhdGVneSwgcGxhdGZvcm1SZWYsIG9wZW5SZWZdKTtcbiAgaW5kZXgoKCkgPT4ge1xuICAgIGlmIChvcGVuID09PSBmYWxzZSAmJiBkYXRhUmVmLmN1cnJlbnQuaXNQb3NpdGlvbmVkKSB7XG4gICAgICBkYXRhUmVmLmN1cnJlbnQuaXNQb3NpdGlvbmVkID0gZmFsc2U7XG4gICAgICBzZXREYXRhKGRhdGEgPT4gKHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgaXNQb3NpdGlvbmVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW29wZW5dKTtcbiAgY29uc3QgaXNNb3VudGVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgaW5kZXgoKCkgPT4ge1xuICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIGluZGV4KCgpID0+IHtcbiAgICBpZiAocmVmZXJlbmNlRWwpIHJlZmVyZW5jZVJlZi5jdXJyZW50ID0gcmVmZXJlbmNlRWw7XG4gICAgaWYgKGZsb2F0aW5nRWwpIGZsb2F0aW5nUmVmLmN1cnJlbnQgPSBmbG9hdGluZ0VsO1xuICAgIGlmIChyZWZlcmVuY2VFbCAmJiBmbG9hdGluZ0VsKSB7XG4gICAgICBpZiAod2hpbGVFbGVtZW50c01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm4gd2hpbGVFbGVtZW50c01vdW50ZWRSZWYuY3VycmVudChyZWZlcmVuY2VFbCwgZmxvYXRpbmdFbCwgdXBkYXRlKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSwgW3JlZmVyZW5jZUVsLCBmbG9hdGluZ0VsLCB1cGRhdGUsIHdoaWxlRWxlbWVudHNNb3VudGVkUmVmLCBoYXNXaGlsZUVsZW1lbnRzTW91bnRlZF0pO1xuICBjb25zdCByZWZzID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgIHJlZmVyZW5jZTogcmVmZXJlbmNlUmVmLFxuICAgIGZsb2F0aW5nOiBmbG9hdGluZ1JlZixcbiAgICBzZXRSZWZlcmVuY2UsXG4gICAgc2V0RmxvYXRpbmdcbiAgfSksIFtzZXRSZWZlcmVuY2UsIHNldEZsb2F0aW5nXSk7XG4gIGNvbnN0IGVsZW1lbnRzID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgIHJlZmVyZW5jZTogcmVmZXJlbmNlRWwsXG4gICAgZmxvYXRpbmc6IGZsb2F0aW5nRWxcbiAgfSksIFtyZWZlcmVuY2VFbCwgZmxvYXRpbmdFbF0pO1xuICBjb25zdCBmbG9hdGluZ1N0eWxlcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdHlsZXMgPSB7XG4gICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICBsZWZ0OiAwLFxuICAgICAgdG9wOiAwXG4gICAgfTtcbiAgICBpZiAoIWVsZW1lbnRzLmZsb2F0aW5nKSB7XG4gICAgICByZXR1cm4gaW5pdGlhbFN0eWxlcztcbiAgICB9XG4gICAgY29uc3QgeCA9IHJvdW5kQnlEUFIoZWxlbWVudHMuZmxvYXRpbmcsIGRhdGEueCk7XG4gICAgY29uc3QgeSA9IHJvdW5kQnlEUFIoZWxlbWVudHMuZmxvYXRpbmcsIGRhdGEueSk7XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5pdGlhbFN0eWxlcyxcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4KVwiLFxuICAgICAgICAuLi4oZ2V0RFBSKGVsZW1lbnRzLmZsb2F0aW5nKSA+PSAxLjUgJiYge1xuICAgICAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgbGVmdDogeCxcbiAgICAgIHRvcDogeVxuICAgIH07XG4gIH0sIFtzdHJhdGVneSwgdHJhbnNmb3JtLCBlbGVtZW50cy5mbG9hdGluZywgZGF0YS54LCBkYXRhLnldKTtcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICAuLi5kYXRhLFxuICAgIHVwZGF0ZSxcbiAgICByZWZzLFxuICAgIGVsZW1lbnRzLFxuICAgIGZsb2F0aW5nU3R5bGVzXG4gIH0pLCBbZGF0YSwgdXBkYXRlLCByZWZzLCBlbGVtZW50cywgZmxvYXRpbmdTdHlsZXNdKTtcbn1cblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIHBvc2l0aW9uIGFuIGlubmVyIGVsZW1lbnQgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgc28gdGhhdCBpdFxuICogYXBwZWFycyBjZW50ZXJlZCB0byB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBUaGlzIHdyYXBzIHRoZSBjb3JlIGBhcnJvd2AgbWlkZGxld2FyZSB0byBhbGxvdyBSZWFjdCByZWZzIGFzIHRoZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2Fycm93XG4gKi9cbmNvbnN0IGFycm93JDEgPSBvcHRpb25zID0+IHtcbiAgZnVuY3Rpb24gaXNSZWYodmFsdWUpIHtcbiAgICByZXR1cm4ge30uaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2N1cnJlbnQnKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdhcnJvdycsXG4gICAgb3B0aW9ucyxcbiAgICBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBlbGVtZW50LFxuICAgICAgICBwYWRkaW5nXG4gICAgICB9ID0gdHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zKHN0YXRlKSA6IG9wdGlvbnM7XG4gICAgICBpZiAoZWxlbWVudCAmJiBpc1JlZihlbGVtZW50KSkge1xuICAgICAgICBpZiAoZWxlbWVudC5jdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gYXJyb3ckMih7XG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LmN1cnJlbnQsXG4gICAgICAgICAgICBwYWRkaW5nXG4gICAgICAgICAgfSkuZm4oc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBhcnJvdyQyKHtcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIHBhZGRpbmdcbiAgICAgICAgfSkuZm4oc3RhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHBsYWNlbWVudCBieSB0cmFuc2xhdGluZyB0aGUgZmxvYXRpbmcgZWxlbWVudCBhbG9uZyB0aGVcbiAqIHNwZWNpZmllZCBheGVzLlxuICogQSBudW1iZXIgKHNob3J0aGFuZCBmb3IgYG1haW5BeGlzYCBvciBkaXN0YW5jZSksIG9yIGFuIGF4ZXMgY29uZmlndXJhdGlvblxuICogb2JqZWN0IG1heSBiZSBwYXNzZWQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvb2Zmc2V0XG4gKi9cbmNvbnN0IG9mZnNldCA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5vZmZzZXQkMShvcHRpb25zKSxcbiAgb3B0aW9uczogW29wdGlvbnMsIGRlcHNdXG59KTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgc2hpZnRpbmcgaXQgaW4gb3JkZXIgdG9cbiAqIGtlZXAgaXQgaW4gdmlldyB3aGVuIGl0IHdpbGwgb3ZlcmZsb3cgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NoaWZ0XG4gKi9cbmNvbnN0IHNoaWZ0ID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gIC4uLnNoaWZ0JDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5cbi8qKlxuICogQnVpbHQtaW4gYGxpbWl0ZXJgIHRoYXQgd2lsbCBzdG9wIGBzaGlmdCgpYCBhdCBhIGNlcnRhaW4gcG9pbnQuXG4gKi9cbmNvbnN0IGxpbWl0U2hpZnQgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4ubGltaXRTaGlmdCQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBmbGlwcGluZyB0aGUgYHBsYWNlbWVudGBcbiAqIGluIG9yZGVyIHRvIGtlZXAgaXQgaW4gdmlldyB3aGVuIHRoZSBwcmVmZXJyZWQgcGxhY2VtZW50KHMpIHdpbGwgb3ZlcmZsb3cgdGhlXG4gKiBjbGlwcGluZyBib3VuZGFyeS4gQWx0ZXJuYXRpdmUgdG8gYGF1dG9QbGFjZW1lbnRgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2ZsaXBcbiAqL1xuY29uc3QgZmxpcCA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5mbGlwJDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0aGF0IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzaXplIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IFx1MjAxNFxuICogZm9yIGluc3RhbmNlLCBwcmV2ZW50IGl0IGZyb20gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5IG9yIG1hdGNoIHRoZVxuICogd2lkdGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NpemVcbiAqL1xuY29uc3Qgc2l6ZSA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5zaXplJDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IGNob29zaW5nIHRoZSBwbGFjZW1lbnRcbiAqIHRoYXQgaGFzIHRoZSBtb3N0IHNwYWNlIGF2YWlsYWJsZSBhdXRvbWF0aWNhbGx5LCB3aXRob3V0IG5lZWRpbmcgdG8gc3BlY2lmeSBhXG4gKiBwcmVmZXJyZWQgcGxhY2VtZW50LiBBbHRlcm5hdGl2ZSB0byBgZmxpcGAuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXV0b1BsYWNlbWVudFxuICovXG5jb25zdCBhdXRvUGxhY2VtZW50ID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gIC4uLmF1dG9QbGFjZW1lbnQkMShvcHRpb25zKSxcbiAgb3B0aW9uczogW29wdGlvbnMsIGRlcHNdXG59KTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4uaGlkZSQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuXG4vKipcbiAqIFByb3ZpZGVzIGltcHJvdmVkIHBvc2l0aW9uaW5nIGZvciBpbmxpbmUgcmVmZXJlbmNlIGVsZW1lbnRzIHRoYXQgY2FuIHNwYW5cbiAqIG92ZXIgbXVsdGlwbGUgbGluZXMsIHN1Y2ggYXMgaHlwZXJsaW5rcyBvciByYW5nZSBzZWxlY3Rpb25zLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2lubGluZVxuICovXG5jb25zdCBpbmxpbmUgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4uaW5saW5lJDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBwb3NpdGlvbiBhbiBpbm5lciBlbGVtZW50IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHNvIHRoYXQgaXRcbiAqIGFwcGVhcnMgY2VudGVyZWQgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogVGhpcyB3cmFwcyB0aGUgY29yZSBgYXJyb3dgIG1pZGRsZXdhcmUgdG8gYWxsb3cgUmVhY3QgcmVmcyBhcyB0aGUgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hcnJvd1xuICovXG5jb25zdCBhcnJvdyA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5hcnJvdyQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuXG5leHBvcnQgeyBhcnJvdywgYXV0b1BsYWNlbWVudCwgZmxpcCwgaGlkZSwgaW5saW5lLCBsaW1pdFNoaWZ0LCBvZmZzZXQsIHNoaWZ0LCBzaXplLCB1c2VGbG9hdGluZyB9O1xuIiwgImltcG9ydCB7IHJlY3RUb0NsaWVudFJlY3QsIGRldGVjdE92ZXJmbG93IGFzIGRldGVjdE92ZXJmbG93JDEsIG9mZnNldCBhcyBvZmZzZXQkMSwgYXV0b1BsYWNlbWVudCBhcyBhdXRvUGxhY2VtZW50JDEsIHNoaWZ0IGFzIHNoaWZ0JDEsIGZsaXAgYXMgZmxpcCQxLCBzaXplIGFzIHNpemUkMSwgaGlkZSBhcyBoaWRlJDEsIGFycm93IGFzIGFycm93JDEsIGlubGluZSBhcyBpbmxpbmUkMSwgbGltaXRTaGlmdCBhcyBsaW1pdFNoaWZ0JDEsIGNvbXB1dGVQb3NpdGlvbiBhcyBjb21wdXRlUG9zaXRpb24kMSB9IGZyb20gJ0BmbG9hdGluZy11aS9jb3JlJztcbmltcG9ydCB7IHJvdW5kLCBjcmVhdGVDb29yZHMsIG1heCwgbWluLCBmbG9vciB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscyc7XG5pbXBvcnQgeyBnZXRDb21wdXRlZFN0eWxlLCBpc0hUTUxFbGVtZW50LCBpc0VsZW1lbnQsIGdldFdpbmRvdywgaXNXZWJLaXQsIGdldEZyYW1lRWxlbWVudCwgZ2V0Tm9kZVNjcm9sbCwgZ2V0RG9jdW1lbnRFbGVtZW50LCBpc1RvcExheWVyLCBnZXROb2RlTmFtZSwgaXNPdmVyZmxvd0VsZW1lbnQsIGdldE92ZXJmbG93QW5jZXN0b3JzLCBnZXRQYXJlbnROb2RlLCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUsIGlzQ29udGFpbmluZ0Jsb2NrLCBpc1RhYmxlRWxlbWVudCwgZ2V0Q29udGFpbmluZ0Jsb2NrIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzL2RvbSc7XG5leHBvcnQgeyBnZXRPdmVyZmxvd0FuY2VzdG9ycyB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscy9kb20nO1xuXG5mdW5jdGlvbiBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgLy8gSW4gdGVzdGluZyBlbnZpcm9ubWVudHMsIHRoZSBgd2lkdGhgIGFuZCBgaGVpZ2h0YCBwcm9wZXJ0aWVzIGFyZSBlbXB0eVxuICAvLyBzdHJpbmdzIGZvciBTVkcgZWxlbWVudHMsIHJldHVybmluZyBOYU4uIEZhbGxiYWNrIHRvIGAwYCBpbiB0aGlzIGNhc2UuXG4gIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoY3NzLndpZHRoKSB8fCAwO1xuICBsZXQgaGVpZ2h0ID0gcGFyc2VGbG9hdChjc3MuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBoYXNPZmZzZXQgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCBvZmZzZXRXaWR0aCA9IGhhc09mZnNldCA/IGVsZW1lbnQub2Zmc2V0V2lkdGggOiB3aWR0aDtcbiAgY29uc3Qgb2Zmc2V0SGVpZ2h0ID0gaGFzT2Zmc2V0ID8gZWxlbWVudC5vZmZzZXRIZWlnaHQgOiBoZWlnaHQ7XG4gIGNvbnN0IHNob3VsZEZhbGxiYWNrID0gcm91bmQod2lkdGgpICE9PSBvZmZzZXRXaWR0aCB8fCByb3VuZChoZWlnaHQpICE9PSBvZmZzZXRIZWlnaHQ7XG4gIGlmIChzaG91bGRGYWxsYmFjaykge1xuICAgIHdpZHRoID0gb2Zmc2V0V2lkdGg7XG4gICAgaGVpZ2h0ID0gb2Zmc2V0SGVpZ2h0O1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICQ6IHNob3VsZEZhbGxiYWNrXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVud3JhcEVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gIWlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgOiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBnZXRTY2FsZShlbGVtZW50KSB7XG4gIGNvbnN0IGRvbUVsZW1lbnQgPSB1bndyYXBFbGVtZW50KGVsZW1lbnQpO1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZG9tRWxlbWVudCkpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29vcmRzKDEpO1xuICB9XG4gIGNvbnN0IHJlY3QgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICRcbiAgfSA9IGdldENzc0RpbWVuc2lvbnMoZG9tRWxlbWVudCk7XG4gIGxldCB4ID0gKCQgPyByb3VuZChyZWN0LndpZHRoKSA6IHJlY3Qud2lkdGgpIC8gd2lkdGg7XG4gIGxldCB5ID0gKCQgPyByb3VuZChyZWN0LmhlaWdodCkgOiByZWN0LmhlaWdodCkgLyBoZWlnaHQ7XG5cbiAgLy8gMCwgTmFOLCBvciBJbmZpbml0eSBzaG91bGQgYWx3YXlzIGZhbGxiYWNrIHRvIDEuXG5cbiAgaWYgKCF4IHx8ICFOdW1iZXIuaXNGaW5pdGUoeCkpIHtcbiAgICB4ID0gMTtcbiAgfVxuICBpZiAoIXkgfHwgIU51bWJlci5pc0Zpbml0ZSh5KSkge1xuICAgIHkgPSAxO1xuICB9XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbmNvbnN0IG5vT2Zmc2V0cyA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb29yZHMoMCk7XG5mdW5jdGlvbiBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBpZiAoIWlzV2ViS2l0KCkgfHwgIXdpbi52aXN1YWxWaWV3cG9ydCkge1xuICAgIHJldHVybiBub09mZnNldHM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICB5OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wXG4gIH07XG59XG5mdW5jdGlvbiBzaG91bGRBZGRWaXN1YWxPZmZzZXRzKGVsZW1lbnQsIGlzRml4ZWQsIGZsb2F0aW5nT2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpc0ZpeGVkID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKCFmbG9hdGluZ09mZnNldFBhcmVudCB8fCBpc0ZpeGVkICYmIGZsb2F0aW5nT2Zmc2V0UGFyZW50ICE9PSBnZXRXaW5kb3coZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzRml4ZWQ7XG59XG5cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBpbmNsdWRlU2NhbGUsIGlzRml4ZWRTdHJhdGVneSwgb2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpbmNsdWRlU2NhbGUgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVTY2FsZSA9IGZhbHNlO1xuICB9XG4gIGlmIChpc0ZpeGVkU3RyYXRlZ3kgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWRTdHJhdGVneSA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBkb21FbGVtZW50ID0gdW53cmFwRWxlbWVudChlbGVtZW50KTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBpZiAoaW5jbHVkZVNjYWxlKSB7XG4gICAgaWYgKG9mZnNldFBhcmVudCkge1xuICAgICAgaWYgKGlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2NhbGUgPSBnZXRTY2FsZShlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgdmlzdWFsT2Zmc2V0cyA9IHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZG9tRWxlbWVudCwgaXNGaXhlZFN0cmF0ZWd5LCBvZmZzZXRQYXJlbnQpID8gZ2V0VmlzdWFsT2Zmc2V0cyhkb21FbGVtZW50KSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgbGV0IHggPSAoY2xpZW50UmVjdC5sZWZ0ICsgdmlzdWFsT2Zmc2V0cy54KSAvIHNjYWxlLng7XG4gIGxldCB5ID0gKGNsaWVudFJlY3QudG9wICsgdmlzdWFsT2Zmc2V0cy55KSAvIHNjYWxlLnk7XG4gIGxldCB3aWR0aCA9IGNsaWVudFJlY3Qud2lkdGggLyBzY2FsZS54O1xuICBsZXQgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZS55O1xuICBpZiAoZG9tRWxlbWVudCkge1xuICAgIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhkb21FbGVtZW50KTtcbiAgICBjb25zdCBvZmZzZXRXaW4gPSBvZmZzZXRQYXJlbnQgJiYgaXNFbGVtZW50KG9mZnNldFBhcmVudCkgPyBnZXRXaW5kb3cob2Zmc2V0UGFyZW50KSA6IG9mZnNldFBhcmVudDtcbiAgICBsZXQgY3VycmVudFdpbiA9IHdpbjtcbiAgICBsZXQgY3VycmVudElGcmFtZSA9IGdldEZyYW1lRWxlbWVudChjdXJyZW50V2luKTtcbiAgICB3aGlsZSAoY3VycmVudElGcmFtZSAmJiBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0V2luICE9PSBjdXJyZW50V2luKSB7XG4gICAgICBjb25zdCBpZnJhbWVTY2FsZSA9IGdldFNjYWxlKGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY29uc3QgaWZyYW1lUmVjdCA9IGN1cnJlbnRJRnJhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY29uc3QgbGVmdCA9IGlmcmFtZVJlY3QubGVmdCArIChjdXJyZW50SUZyYW1lLmNsaWVudExlZnQgKyBwYXJzZUZsb2F0KGNzcy5wYWRkaW5nTGVmdCkpICogaWZyYW1lU2NhbGUueDtcbiAgICAgIGNvbnN0IHRvcCA9IGlmcmFtZVJlY3QudG9wICsgKGN1cnJlbnRJRnJhbWUuY2xpZW50VG9wICsgcGFyc2VGbG9hdChjc3MucGFkZGluZ1RvcCkpICogaWZyYW1lU2NhbGUueTtcbiAgICAgIHggKj0gaWZyYW1lU2NhbGUueDtcbiAgICAgIHkgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgIHdpZHRoICo9IGlmcmFtZVNjYWxlLng7XG4gICAgICBoZWlnaHQgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgIHggKz0gbGVmdDtcbiAgICAgIHkgKz0gdG9wO1xuICAgICAgY3VycmVudFdpbiA9IGdldFdpbmRvdyhjdXJyZW50SUZyYW1lKTtcbiAgICAgIGN1cnJlbnRJRnJhbWUgPSBnZXRGcmFtZUVsZW1lbnQoY3VycmVudFdpbik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH0pO1xufVxuXG4vLyBJZiA8aHRtbD4gaGFzIGEgQ1NTIHdpZHRoIGdyZWF0ZXIgdGhhbiB0aGUgdmlld3BvcnQsIHRoZW4gdGhpcyB3aWxsIGJlXG4vLyBpbmNvcnJlY3QgZm9yIFJUTC5cbmZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCwgcmVjdCkge1xuICBjb25zdCBsZWZ0U2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xuICBpZiAoIXJlY3QpIHtcbiAgICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGxlZnRTY3JvbGw7XG4gIH1cbiAgcmV0dXJuIHJlY3QubGVmdCArIGxlZnRTY3JvbGw7XG59XG5cbmZ1bmN0aW9uIGdldEhUTUxPZmZzZXQoZG9jdW1lbnRFbGVtZW50LCBzY3JvbGwsIGlnbm9yZVNjcm9sbGJhclgpIHtcbiAgaWYgKGlnbm9yZVNjcm9sbGJhclggPT09IHZvaWQgMCkge1xuICAgIGlnbm9yZVNjcm9sbGJhclggPSBmYWxzZTtcbiAgfVxuICBjb25zdCBodG1sUmVjdCA9IGRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgeCA9IGh0bWxSZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIChpZ25vcmVTY3JvbGxiYXJYID8gMCA6XG4gIC8vIFJUTCA8Ym9keT4gc2Nyb2xsYmFyLlxuICBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCwgaHRtbFJlY3QpKTtcbiAgY29uc3QgeSA9IGh0bWxSZWN0LnRvcCArIHNjcm9sbC5zY3JvbGxUb3A7XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50cyxcbiAgICByZWN0LFxuICAgIG9mZnNldFBhcmVudCxcbiAgICBzdHJhdGVneVxuICB9ID0gX3JlZjtcbiAgY29uc3QgaXNGaXhlZCA9IHN0cmF0ZWd5ID09PSAnZml4ZWQnO1xuICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgY29uc3QgdG9wTGF5ZXIgPSBlbGVtZW50cyA/IGlzVG9wTGF5ZXIoZWxlbWVudHMuZmxvYXRpbmcpIDogZmFsc2U7XG4gIGlmIChvZmZzZXRQYXJlbnQgPT09IGRvY3VtZW50RWxlbWVudCB8fCB0b3BMYXllciAmJiBpc0ZpeGVkKSB7XG4gICAgcmV0dXJuIHJlY3Q7XG4gIH1cbiAgbGV0IHNjcm9sbCA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICBsZXQgc2NhbGUgPSBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IG9mZnNldHMgPSBjcmVhdGVDb29yZHMoMCk7XG4gIGNvbnN0IGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgfHwgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkKSB7XG4gICAgaWYgKGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgIT09ICdib2R5JyB8fCBpc092ZXJmbG93RWxlbWVudChkb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIGlmIChpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCkpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcbiAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIG9mZnNldHMueCA9IG9mZnNldFJlY3QueCArIG9mZnNldFBhcmVudC5jbGllbnRMZWZ0O1xuICAgICAgb2Zmc2V0cy55ID0gb2Zmc2V0UmVjdC55ICsgb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICB9XG4gIH1cbiAgY29uc3QgaHRtbE9mZnNldCA9IGRvY3VtZW50RWxlbWVudCAmJiAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQgPyBnZXRIVE1MT2Zmc2V0KGRvY3VtZW50RWxlbWVudCwgc2Nyb2xsLCB0cnVlKSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcmVjdC53aWR0aCAqIHNjYWxlLngsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodCAqIHNjYWxlLnksXG4gICAgeDogcmVjdC54ICogc2NhbGUueCAtIHNjcm9sbC5zY3JvbGxMZWZ0ICogc2NhbGUueCArIG9mZnNldHMueCArIGh0bWxPZmZzZXQueCxcbiAgICB5OiByZWN0LnkgKiBzY2FsZS55IC0gc2Nyb2xsLnNjcm9sbFRvcCAqIHNjYWxlLnkgKyBvZmZzZXRzLnkgKyBodG1sT2Zmc2V0LnlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdHMoZWxlbWVudCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmdldENsaWVudFJlY3RzKCkpO1xufVxuXG4vLyBHZXRzIHRoZSBlbnRpcmUgc2l6ZSBvZiB0aGUgc2Nyb2xsYWJsZSBkb2N1bWVudCBhcmVhLCBldmVuIGV4dGVuZGluZyBvdXRzaWRlXG4vLyBvZiB0aGUgYDxodG1sPmAgYW5kIGA8Ym9keT5gIHJlY3QgYm91bmRzIGlmIGhvcml6b250YWxseSBzY3JvbGxhYmxlLlxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRSZWN0KGVsZW1lbnQpIHtcbiAgY29uc3QgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgY29uc3Qgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KTtcbiAgY29uc3QgYm9keSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICBjb25zdCB3aWR0aCA9IG1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5LnNjcm9sbFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gbWF4KGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkuY2xpZW50SGVpZ2h0KTtcbiAgbGV0IHggPSAtc2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICBjb25zdCB5ID0gLXNjcm9sbC5zY3JvbGxUb3A7XG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKGJvZHkpLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICB4ICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKSAtIHdpZHRoO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBjb25zdCBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCB2aXN1YWxWaWV3cG9ydCA9IHdpbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IHdpZHRoID0gaHRtbC5jbGllbnRXaWR0aDtcbiAgbGV0IGhlaWdodCA9IGh0bWwuY2xpZW50SGVpZ2h0O1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgY29uc3QgdmlzdWFsVmlld3BvcnRCYXNlZCA9IGlzV2ViS2l0KCk7XG4gICAgaWYgKCF2aXN1YWxWaWV3cG9ydEJhc2VkIHx8IHZpc3VhbFZpZXdwb3J0QmFzZWQgJiYgc3RyYXRlZ3kgPT09ICdmaXhlZCcpIHtcbiAgICAgIHggPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0O1xuICAgICAgeSA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbi8vIFJldHVybnMgdGhlIGlubmVyIGNsaWVudCByZWN0LCBzdWJ0cmFjdGluZyBzY3JvbGxiYXJzIGlmIHByZXNlbnQuXG5mdW5jdGlvbiBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBzdHJhdGVneSkge1xuICBjb25zdCBjbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIHN0cmF0ZWd5ID09PSAnZml4ZWQnKTtcbiAgY29uc3QgdG9wID0gY2xpZW50UmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgY29uc3QgbGVmdCA9IGNsaWVudFJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50TGVmdDtcbiAgY29uc3Qgc2NhbGUgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0U2NhbGUoZWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IHdpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjYWxlLng7XG4gIGNvbnN0IGhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NhbGUueTtcbiAgY29uc3QgeCA9IGxlZnQgKiBzY2FsZS54O1xuICBjb25zdCB5ID0gdG9wICogc2NhbGUueTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpIHtcbiAgbGV0IHJlY3Q7XG4gIGlmIChjbGlwcGluZ0FuY2VzdG9yID09PSAndmlld3BvcnQnKSB7XG4gICAgcmVjdCA9IGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSk7XG4gIH0gZWxzZSBpZiAoY2xpcHBpbmdBbmNlc3RvciA9PT0gJ2RvY3VtZW50Jykge1xuICAgIHJlY3QgPSBnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKTtcbiAgfSBlbHNlIGlmIChpc0VsZW1lbnQoY2xpcHBpbmdBbmNlc3RvcikpIHtcbiAgICByZWN0ID0gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZpc3VhbE9mZnNldHMgPSBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpO1xuICAgIHJlY3QgPSB7XG4gICAgICB4OiBjbGlwcGluZ0FuY2VzdG9yLnggLSB2aXN1YWxPZmZzZXRzLngsXG4gICAgICB5OiBjbGlwcGluZ0FuY2VzdG9yLnkgLSB2aXN1YWxPZmZzZXRzLnksXG4gICAgICB3aWR0aDogY2xpcHBpbmdBbmNlc3Rvci53aWR0aCxcbiAgICAgIGhlaWdodDogY2xpcHBpbmdBbmNlc3Rvci5oZWlnaHRcbiAgICB9O1xuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHJlY3QpO1xufVxuZnVuY3Rpb24gaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKGVsZW1lbnQsIHN0b3BOb2RlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICBpZiAocGFyZW50Tm9kZSA9PT0gc3RvcE5vZGUgfHwgIWlzRWxlbWVudChwYXJlbnROb2RlKSB8fCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUocGFyZW50Tm9kZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUocGFyZW50Tm9kZSkucG9zaXRpb24gPT09ICdmaXhlZCcgfHwgaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKHBhcmVudE5vZGUsIHN0b3BOb2RlKTtcbn1cblxuLy8gQSBcImNsaXBwaW5nIGFuY2VzdG9yXCIgaXMgYW4gYG92ZXJmbG93YCBlbGVtZW50IHdpdGggdGhlIGNoYXJhY3RlcmlzdGljIG9mXG4vLyBjbGlwcGluZyAob3IgaGlkaW5nKSBjaGlsZCBlbGVtZW50cy4gVGhpcyByZXR1cm5zIGFsbCBjbGlwcGluZyBhbmNlc3RvcnNcbi8vIG9mIHRoZSBnaXZlbiBlbGVtZW50IHVwIHRoZSB0cmVlLlxuZnVuY3Rpb24gZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzKGVsZW1lbnQsIGNhY2hlKSB7XG4gIGNvbnN0IGNhY2hlZFJlc3VsdCA9IGNhY2hlLmdldChlbGVtZW50KTtcbiAgaWYgKGNhY2hlZFJlc3VsdCkge1xuICAgIHJldHVybiBjYWNoZWRSZXN1bHQ7XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGdldE92ZXJmbG93QW5jZXN0b3JzKGVsZW1lbnQsIFtdLCBmYWxzZSkuZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkgJiYgZ2V0Tm9kZU5hbWUoZWwpICE9PSAnYm9keScpO1xuICBsZXQgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBudWxsO1xuICBjb25zdCBlbGVtZW50SXNGaXhlZCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09ICdmaXhlZCc7XG4gIGxldCBjdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSA6IGVsZW1lbnQ7XG5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcbiAgd2hpbGUgKGlzRWxlbWVudChjdXJyZW50Tm9kZSkgJiYgIWlzTGFzdFRyYXZlcnNhYmxlTm9kZShjdXJyZW50Tm9kZSkpIHtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSk7XG4gICAgY29uc3QgY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgPSBpc0NvbnRhaW5pbmdCbG9jayhjdXJyZW50Tm9kZSk7XG4gICAgaWYgKCFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZERyb3BDdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmICFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA6ICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJyAmJiAhIWN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlICYmIFsnYWJzb2x1dGUnLCAnZml4ZWQnXS5pbmNsdWRlcyhjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZS5wb3NpdGlvbikgfHwgaXNPdmVyZmxvd0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBoYXNGaXhlZFBvc2l0aW9uQW5jZXN0b3IoZWxlbWVudCwgY3VycmVudE5vZGUpO1xuICAgIGlmIChzaG91bGREcm9wQ3VycmVudE5vZGUpIHtcbiAgICAgIC8vIERyb3Agbm9uLWNvbnRhaW5pbmcgYmxvY2tzLlxuICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihhbmNlc3RvciA9PiBhbmNlc3RvciAhPT0gY3VycmVudE5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZWNvcmQgbGFzdCBjb250YWluaW5nIGJsb2NrIGZvciBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgIGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbiAgICB9XG4gICAgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKTtcbiAgfVxuICBjYWNoZS5zZXQoZWxlbWVudCwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gR2V0cyB0aGUgbWF4aW11bSBhcmVhIHRoYXQgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBpbiBkdWUgdG8gYW55IG51bWJlciBvZlxuLy8gY2xpcHBpbmcgYW5jZXN0b3JzLlxuZnVuY3Rpb24gZ2V0Q2xpcHBpbmdSZWN0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50LFxuICAgIGJvdW5kYXJ5LFxuICAgIHJvb3RCb3VuZGFyeSxcbiAgICBzdHJhdGVneVxuICB9ID0gX3JlZjtcbiAgY29uc3QgZWxlbWVudENsaXBwaW5nQW5jZXN0b3JzID0gYm91bmRhcnkgPT09ICdjbGlwcGluZ0FuY2VzdG9ycycgPyBpc1RvcExheWVyKGVsZW1lbnQpID8gW10gOiBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnMoZWxlbWVudCwgdGhpcy5fYykgOiBbXS5jb25jYXQoYm91bmRhcnkpO1xuICBjb25zdCBjbGlwcGluZ0FuY2VzdG9ycyA9IFsuLi5lbGVtZW50Q2xpcHBpbmdBbmNlc3RvcnMsIHJvb3RCb3VuZGFyeV07XG4gIGNvbnN0IGZpcnN0Q2xpcHBpbmdBbmNlc3RvciA9IGNsaXBwaW5nQW5jZXN0b3JzWzBdO1xuICBjb25zdCBjbGlwcGluZ1JlY3QgPSBjbGlwcGluZ0FuY2VzdG9ycy5yZWR1Y2UoKGFjY1JlY3QsIGNsaXBwaW5nQW5jZXN0b3IpID0+IHtcbiAgICBjb25zdCByZWN0ID0gZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KTtcbiAgICBhY2NSZWN0LnRvcCA9IG1heChyZWN0LnRvcCwgYWNjUmVjdC50b3ApO1xuICAgIGFjY1JlY3QucmlnaHQgPSBtaW4ocmVjdC5yaWdodCwgYWNjUmVjdC5yaWdodCk7XG4gICAgYWNjUmVjdC5ib3R0b20gPSBtaW4ocmVjdC5ib3R0b20sIGFjY1JlY3QuYm90dG9tKTtcbiAgICBhY2NSZWN0LmxlZnQgPSBtYXgocmVjdC5sZWZ0LCBhY2NSZWN0LmxlZnQpO1xuICAgIHJldHVybiBhY2NSZWN0O1xuICB9LCBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgZmlyc3RDbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSkpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBjbGlwcGluZ1JlY3QucmlnaHQgLSBjbGlwcGluZ1JlY3QubGVmdCxcbiAgICBoZWlnaHQ6IGNsaXBwaW5nUmVjdC5ib3R0b20gLSBjbGlwcGluZ1JlY3QudG9wLFxuICAgIHg6IGNsaXBwaW5nUmVjdC5sZWZ0LFxuICAgIHk6IGNsaXBwaW5nUmVjdC50b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGltZW5zaW9ucyhlbGVtZW50KSB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfSA9IGdldENzc0RpbWVuc2lvbnMoZWxlbWVudCk7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFJlY3RSZWxhdGl2ZVRvT2Zmc2V0UGFyZW50KGVsZW1lbnQsIG9mZnNldFBhcmVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3QgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCBpc0ZpeGVkID0gc3RyYXRlZ3kgPT09ICdmaXhlZCc7XG4gIGNvbnN0IHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgdHJ1ZSwgaXNGaXhlZCwgb2Zmc2V0UGFyZW50KTtcbiAgbGV0IHNjcm9sbCA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICBjb25zdCBvZmZzZXRzID0gY3JlYXRlQ29vcmRzKDApO1xuICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgfHwgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkKSB7XG4gICAgaWYgKGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgIT09ICdib2R5JyB8fCBpc092ZXJmbG93RWxlbWVudChkb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCkge1xuICAgICAgY29uc3Qgb2Zmc2V0UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChvZmZzZXRQYXJlbnQsIHRydWUsIGlzRml4ZWQsIG9mZnNldFBhcmVudCk7XG4gICAgICBvZmZzZXRzLnggPSBvZmZzZXRSZWN0LnggKyBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSA9IG9mZnNldFJlY3QueSArIG9mZnNldFBhcmVudC5jbGllbnRUb3A7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIC8vIElmIHRoZSA8Ym9keT4gc2Nyb2xsYmFyIGFwcGVhcnMgb24gdGhlIGxlZnQgKGUuZy4gUlRMIHN5c3RlbXMpLiBVc2VcbiAgICAgIC8vIEZpcmVmb3ggd2l0aCBsYXlvdXQuc2Nyb2xsYmFyLnNpZGUgPSAzIGluIGFib3V0OmNvbmZpZyB0byB0ZXN0IHRoaXMuXG4gICAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGh0bWxPZmZzZXQgPSBkb2N1bWVudEVsZW1lbnQgJiYgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkID8gZ2V0SFRNTE9mZnNldChkb2N1bWVudEVsZW1lbnQsIHNjcm9sbCkgOiBjcmVhdGVDb29yZHMoMCk7XG4gIGNvbnN0IHggPSByZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIG9mZnNldHMueCAtIGh0bWxPZmZzZXQueDtcbiAgY29uc3QgeSA9IHJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcCAtIG9mZnNldHMueSAtIGh0bWxPZmZzZXQueTtcbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYyc7XG59XG5cbmZ1bmN0aW9uIGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocG9seWZpbGwpIHtcbiAgICByZXR1cm4gcG9seWZpbGwoZWxlbWVudCk7XG4gIH1cbiAgbGV0IHJhd09mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuXG4gIC8vIEZpcmVmb3ggcmV0dXJucyB0aGUgPGh0bWw+IGVsZW1lbnQgYXMgdGhlIG9mZnNldFBhcmVudCBpZiBpdCdzIG5vbi1zdGF0aWMsXG4gIC8vIHdoaWxlIENocm9tZSBhbmQgU2FmYXJpIHJldHVybiB0aGUgPGJvZHk+IGVsZW1lbnQuIFRoZSA8Ym9keT4gZWxlbWVudCBtdXN0XG4gIC8vIGJlIHVzZWQgdG8gcGVyZm9ybSB0aGUgY29ycmVjdCBjYWxjdWxhdGlvbnMgZXZlbiBpZiB0aGUgPGh0bWw+IGVsZW1lbnQgaXNcbiAgLy8gbm9uLXN0YXRpYy5cbiAgaWYgKGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSA9PT0gcmF3T2Zmc2V0UGFyZW50KSB7XG4gICAgcmF3T2Zmc2V0UGFyZW50ID0gcmF3T2Zmc2V0UGFyZW50Lm93bmVyRG9jdW1lbnQuYm9keTtcbiAgfVxuICByZXR1cm4gcmF3T2Zmc2V0UGFyZW50O1xufVxuXG4vLyBHZXRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBvc2l0aW9uZWQgZWxlbWVudC4gSGFuZGxlcyBzb21lIGVkZ2UgY2FzZXMsXG4vLyBzdWNoIGFzIHRhYmxlIGFuY2VzdG9ycyBhbmQgY3Jvc3MgYnJvd3NlciBidWdzLlxuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQsIHBvbHlmaWxsKSB7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgaWYgKGlzVG9wTGF5ZXIoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gd2luO1xuICB9XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIGxldCBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICAgIHdoaWxlIChzdmdPZmZzZXRQYXJlbnQgJiYgIWlzTGFzdFRyYXZlcnNhYmxlTm9kZShzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICBpZiAoaXNFbGVtZW50KHN2Z09mZnNldFBhcmVudCkgJiYgIWlzU3RhdGljUG9zaXRpb25lZChzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHJldHVybiBzdmdPZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKHN2Z09mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIHJldHVybiB3aW47XG4gIH1cbiAgbGV0IG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpO1xuICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIGlzVGFibGVFbGVtZW50KG9mZnNldFBhcmVudCkgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkpIHtcbiAgICBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KG9mZnNldFBhcmVudCwgcG9seWZpbGwpO1xuICB9XG4gIGlmIChvZmZzZXRQYXJlbnQgJiYgaXNMYXN0VHJhdmVyc2FibGVOb2RlKG9mZnNldFBhcmVudCkgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgJiYgIWlzQ29udGFpbmluZ0Jsb2NrKG9mZnNldFBhcmVudCkpIHtcbiAgICByZXR1cm4gd2luO1xuICB9XG4gIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHx8IHdpbjtcbn1cblxuY29uc3QgZ2V0RWxlbWVudFJlY3RzID0gYXN5bmMgZnVuY3Rpb24gKGRhdGEpIHtcbiAgY29uc3QgZ2V0T2Zmc2V0UGFyZW50Rm4gPSB0aGlzLmdldE9mZnNldFBhcmVudCB8fCBnZXRPZmZzZXRQYXJlbnQ7XG4gIGNvbnN0IGdldERpbWVuc2lvbnNGbiA9IHRoaXMuZ2V0RGltZW5zaW9ucztcbiAgY29uc3QgZmxvYXRpbmdEaW1lbnNpb25zID0gYXdhaXQgZ2V0RGltZW5zaW9uc0ZuKGRhdGEuZmxvYXRpbmcpO1xuICByZXR1cm4ge1xuICAgIHJlZmVyZW5jZTogZ2V0UmVjdFJlbGF0aXZlVG9PZmZzZXRQYXJlbnQoZGF0YS5yZWZlcmVuY2UsIGF3YWl0IGdldE9mZnNldFBhcmVudEZuKGRhdGEuZmxvYXRpbmcpLCBkYXRhLnN0cmF0ZWd5KSxcbiAgICBmbG9hdGluZzoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogZmxvYXRpbmdEaW1lbnNpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBmbG9hdGluZ0RpbWVuc2lvbnMuaGVpZ2h0XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gaXNSVEwoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXJlY3Rpb24gPT09ICdydGwnO1xufVxuXG5jb25zdCBwbGF0Zm9ybSA9IHtcbiAgY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QsXG4gIGdldERvY3VtZW50RWxlbWVudCxcbiAgZ2V0Q2xpcHBpbmdSZWN0LFxuICBnZXRPZmZzZXRQYXJlbnQsXG4gIGdldEVsZW1lbnRSZWN0cyxcbiAgZ2V0Q2xpZW50UmVjdHMsXG4gIGdldERpbWVuc2lvbnMsXG4gIGdldFNjYWxlLFxuICBpc0VsZW1lbnQsXG4gIGlzUlRMXG59O1xuXG5mdW5jdGlvbiByZWN0c0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEueCA9PT0gYi54ICYmIGEueSA9PT0gYi55ICYmIGEud2lkdGggPT09IGIud2lkdGggJiYgYS5oZWlnaHQgPT09IGIuaGVpZ2h0O1xufVxuXG4vLyBodHRwczovL3NhbXRob3IuYXUvMjAyMS9vYnNlcnZpbmctZG9tL1xuZnVuY3Rpb24gb2JzZXJ2ZU1vdmUoZWxlbWVudCwgb25Nb3ZlKSB7XG4gIGxldCBpbyA9IG51bGw7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIGNvbnN0IHJvb3QgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgdmFyIF9pbztcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAoX2lvID0gaW8pID09IG51bGwgfHwgX2lvLmRpc2Nvbm5lY3QoKTtcbiAgICBpbyA9IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gcmVmcmVzaChza2lwLCB0aHJlc2hvbGQpIHtcbiAgICBpZiAoc2tpcCA9PT0gdm9pZCAwKSB7XG4gICAgICBza2lwID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgICAgdGhyZXNob2xkID0gMTtcbiAgICB9XG4gICAgY2xlYW51cCgpO1xuICAgIGNvbnN0IGVsZW1lbnRSZWN0Rm9yUm9vdE1hcmdpbiA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qge1xuICAgICAgbGVmdCxcbiAgICAgIHRvcCxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0XG4gICAgfSA9IGVsZW1lbnRSZWN0Rm9yUm9vdE1hcmdpbjtcbiAgICBpZiAoIXNraXApIHtcbiAgICAgIG9uTW92ZSgpO1xuICAgIH1cbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5zZXRUb3AgPSBmbG9vcih0b3ApO1xuICAgIGNvbnN0IGluc2V0UmlnaHQgPSBmbG9vcihyb290LmNsaWVudFdpZHRoIC0gKGxlZnQgKyB3aWR0aCkpO1xuICAgIGNvbnN0IGluc2V0Qm90dG9tID0gZmxvb3Iocm9vdC5jbGllbnRIZWlnaHQgLSAodG9wICsgaGVpZ2h0KSk7XG4gICAgY29uc3QgaW5zZXRMZWZ0ID0gZmxvb3IobGVmdCk7XG4gICAgY29uc3Qgcm9vdE1hcmdpbiA9IC1pbnNldFRvcCArIFwicHggXCIgKyAtaW5zZXRSaWdodCArIFwicHggXCIgKyAtaW5zZXRCb3R0b20gKyBcInB4IFwiICsgLWluc2V0TGVmdCArIFwicHhcIjtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgcm9vdE1hcmdpbixcbiAgICAgIHRocmVzaG9sZDogbWF4KDAsIG1pbigxLCB0aHJlc2hvbGQpKSB8fCAxXG4gICAgfTtcbiAgICBsZXQgaXNGaXJzdFVwZGF0ZSA9IHRydWU7XG4gICAgZnVuY3Rpb24gaGFuZGxlT2JzZXJ2ZShlbnRyaWVzKSB7XG4gICAgICBjb25zdCByYXRpbyA9IGVudHJpZXNbMF0uaW50ZXJzZWN0aW9uUmF0aW87XG4gICAgICBpZiAocmF0aW8gIT09IHRocmVzaG9sZCkge1xuICAgICAgICBpZiAoIWlzRmlyc3RVcGRhdGUpIHtcbiAgICAgICAgICByZXR1cm4gcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmF0aW8pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgcmVmZXJlbmNlIGlzIGNsaXBwZWQsIHRoZSByYXRpbyBpcyAwLiBUaHJvdHRsZSB0aGUgcmVmcmVzaFxuICAgICAgICAgIC8vIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBvZiB1cGRhdGVzLlxuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVmcmVzaChmYWxzZSwgMWUtNyk7XG4gICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmcmVzaChmYWxzZSwgcmF0aW8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmF0aW8gPT09IDEgJiYgIXJlY3RzQXJlRXF1YWwoZWxlbWVudFJlY3RGb3JSb290TWFyZ2luLCBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSkge1xuICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgZXZlbiB0aG91Z2ggdGhlIHJhdGlvIGlzIHJlcG9ydGVkIGFzIDEsIHRoZVxuICAgICAgICAvLyBlbGVtZW50IGlzIG5vdCBhY3R1YWxseSBmdWxseSB3aXRoaW4gdGhlIEludGVyc2VjdGlvbk9ic2VydmVyJ3Mgcm9vdFxuICAgICAgICAvLyBhcmVhIGFueW1vcmUuIFRoaXMgY2FuIGhhcHBlbiB1bmRlciBwZXJmb3JtYW5jZSBjb25zdHJhaW50cy4gVGhpcyBtYXlcbiAgICAgICAgLy8gYmUgYSBidWcgaW4gdGhlIGJyb3dzZXIncyBJbnRlcnNlY3Rpb25PYnNlcnZlciBpbXBsZW1lbnRhdGlvbi4gVG9cbiAgICAgICAgLy8gd29yayBhcm91bmQgdGhpcywgd2UgY29tcGFyZSB0aGUgZWxlbWVudCdzIGJvdW5kaW5nIHJlY3Qgbm93IHdpdGhcbiAgICAgICAgLy8gd2hhdCBpdCB3YXMgYXQgdGhlIHRpbWUgd2UgY3JlYXRlZCB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIuIElmIHRoZXlcbiAgICAgICAgLy8gYXJlIG5vdCBlcXVhbCB0aGVuIHRoZSBlbGVtZW50IG1vdmVkLCBzbyB3ZSByZWZyZXNoLlxuICAgICAgICByZWZyZXNoKCk7XG4gICAgICB9XG4gICAgICBpc0ZpcnN0VXBkYXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gT2xkZXIgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCBhIGBkb2N1bWVudGAgYXMgdGhlIHJvb3QgYW5kIHdpbGwgdGhyb3cgYW5cbiAgICAvLyBlcnJvci5cbiAgICB0cnkge1xuICAgICAgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlT2JzZXJ2ZSwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAvLyBIYW5kbGUgPGlmcmFtZT5zXG4gICAgICAgIHJvb3Q6IHJvb3Qub3duZXJEb2N1bWVudFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlT2JzZXJ2ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlvLm9ic2VydmUoZWxlbWVudCk7XG4gIH1cbiAgcmVmcmVzaCh0cnVlKTtcbiAgcmV0dXJuIGNsZWFudXA7XG59XG5cbi8qKlxuICogQXV0b21hdGljYWxseSB1cGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCB3aGVuIG5lY2Vzc2FyeS5cbiAqIFNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuIHRoZSBmbG9hdGluZyBlbGVtZW50IGlzIG1vdW50ZWQgb24gdGhlIERPTSBvclxuICogdmlzaWJsZSBvbiB0aGUgc2NyZWVuLlxuICogQHJldHVybnMgY2xlYW51cCBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBpbnZva2VkIHdoZW4gdGhlIGZsb2F0aW5nIGVsZW1lbnQgaXNcbiAqIHJlbW92ZWQgZnJvbSB0aGUgRE9NIG9yIGhpZGRlbiBmcm9tIHRoZSBzY3JlZW4uXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXV0b1VwZGF0ZVxuICovXG5mdW5jdGlvbiBhdXRvVXBkYXRlKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBhbmNlc3RvclNjcm9sbCA9IHRydWUsXG4gICAgYW5jZXN0b3JSZXNpemUgPSB0cnVlLFxuICAgIGVsZW1lbnRSZXNpemUgPSB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicsXG4gICAgbGF5b3V0U2hpZnQgPSB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicsXG4gICAgYW5pbWF0aW9uRnJhbWUgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVmZXJlbmNlRWwgPSB1bndyYXBFbGVtZW50KHJlZmVyZW5jZSk7XG4gIGNvbnN0IGFuY2VzdG9ycyA9IGFuY2VzdG9yU2Nyb2xsIHx8IGFuY2VzdG9yUmVzaXplID8gWy4uLihyZWZlcmVuY2VFbCA/IGdldE92ZXJmbG93QW5jZXN0b3JzKHJlZmVyZW5jZUVsKSA6IFtdKSwgLi4uZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoZmxvYXRpbmcpXSA6IFtdO1xuICBhbmNlc3RvcnMuZm9yRWFjaChhbmNlc3RvciA9PiB7XG4gICAgYW5jZXN0b3JTY3JvbGwgJiYgYW5jZXN0b3IuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlLCB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG4gICAgYW5jZXN0b3JSZXNpemUgJiYgYW5jZXN0b3IuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlKTtcbiAgfSk7XG4gIGNvbnN0IGNsZWFudXBJbyA9IHJlZmVyZW5jZUVsICYmIGxheW91dFNoaWZ0ID8gb2JzZXJ2ZU1vdmUocmVmZXJlbmNlRWwsIHVwZGF0ZSkgOiBudWxsO1xuICBsZXQgcmVvYnNlcnZlRnJhbWUgPSAtMTtcbiAgbGV0IHJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgaWYgKGVsZW1lbnRSZXNpemUpIHtcbiAgICByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihfcmVmID0+IHtcbiAgICAgIGxldCBbZmlyc3RFbnRyeV0gPSBfcmVmO1xuICAgICAgaWYgKGZpcnN0RW50cnkgJiYgZmlyc3RFbnRyeS50YXJnZXQgPT09IHJlZmVyZW5jZUVsICYmIHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIC8vIFByZXZlbnQgdXBkYXRlIGxvb3BzIHdoZW4gdXNpbmcgdGhlIGBzaXplYCBtaWRkbGV3YXJlLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmxvYXRpbmctdWkvZmxvYXRpbmctdWkvaXNzdWVzLzE3NDBcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVvYnNlcnZlRnJhbWUpO1xuICAgICAgICByZW9ic2VydmVGcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgdmFyIF9yZXNpemVPYnNlcnZlcjtcbiAgICAgICAgICAoX3Jlc2l6ZU9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyLm9ic2VydmUoZmxvYXRpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZSgpO1xuICAgIH0pO1xuICAgIGlmIChyZWZlcmVuY2VFbCAmJiAhYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUocmVmZXJlbmNlRWwpO1xuICAgIH1cbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgfVxuICBsZXQgZnJhbWVJZDtcbiAgbGV0IHByZXZSZWZSZWN0ID0gYW5pbWF0aW9uRnJhbWUgPyBnZXRCb3VuZGluZ0NsaWVudFJlY3QocmVmZXJlbmNlKSA6IG51bGw7XG4gIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgIGZyYW1lTG9vcCgpO1xuICB9XG4gIGZ1bmN0aW9uIGZyYW1lTG9vcCgpIHtcbiAgICBjb25zdCBuZXh0UmVmUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChyZWZlcmVuY2UpO1xuICAgIGlmIChwcmV2UmVmUmVjdCAmJiAhcmVjdHNBcmVFcXVhbChwcmV2UmVmUmVjdCwgbmV4dFJlZlJlY3QpKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gICAgcHJldlJlZlJlY3QgPSBuZXh0UmVmUmVjdDtcbiAgICBmcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lTG9vcCk7XG4gIH1cbiAgdXBkYXRlKCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgdmFyIF9yZXNpemVPYnNlcnZlcjI7XG4gICAgYW5jZXN0b3JzLmZvckVhY2goYW5jZXN0b3IgPT4ge1xuICAgICAgYW5jZXN0b3JTY3JvbGwgJiYgYW5jZXN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlKTtcbiAgICAgIGFuY2VzdG9yUmVzaXplICYmIGFuY2VzdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZSk7XG4gICAgfSk7XG4gICAgY2xlYW51cElvID09IG51bGwgfHwgY2xlYW51cElvKCk7XG4gICAgKF9yZXNpemVPYnNlcnZlcjIgPSByZXNpemVPYnNlcnZlcikgPT0gbnVsbCB8fCBfcmVzaXplT2JzZXJ2ZXIyLmRpc2Nvbm5lY3QoKTtcbiAgICByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3Qgb2Ygb3ZlcmZsb3cgc2lkZSBvZmZzZXRzIHRoYXQgZGV0ZXJtaW5lIGhvdyBtdWNoIHRoZVxuICogZWxlbWVudCBpcyBvdmVyZmxvd2luZyBhIGdpdmVuIGNsaXBwaW5nIGJvdW5kYXJ5IG9uIGVhY2ggc2lkZS5cbiAqIC0gcG9zaXRpdmUgPSBvdmVyZmxvd2luZyB0aGUgYm91bmRhcnkgYnkgdGhhdCBudW1iZXIgb2YgcGl4ZWxzXG4gKiAtIG5lZ2F0aXZlID0gaG93IG1hbnkgcGl4ZWxzIGxlZnQgYmVmb3JlIGl0IHdpbGwgb3ZlcmZsb3dcbiAqIC0gMCA9IGxpZXMgZmx1c2ggd2l0aCB0aGUgYm91bmRhcnlcbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9kZXRlY3RPdmVyZmxvd1xuICovXG5jb25zdCBkZXRlY3RPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93JDE7XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHBsYWNlbWVudCBieSB0cmFuc2xhdGluZyB0aGUgZmxvYXRpbmcgZWxlbWVudCBhbG9uZyB0aGVcbiAqIHNwZWNpZmllZCBheGVzLlxuICogQSBudW1iZXIgKHNob3J0aGFuZCBmb3IgYG1haW5BeGlzYCBvciBkaXN0YW5jZSksIG9yIGFuIGF4ZXMgY29uZmlndXJhdGlvblxuICogb2JqZWN0IG1heSBiZSBwYXNzZWQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvb2Zmc2V0XG4gKi9cbmNvbnN0IG9mZnNldCA9IG9mZnNldCQxO1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBjaG9vc2luZyB0aGUgcGxhY2VtZW50XG4gKiB0aGF0IGhhcyB0aGUgbW9zdCBzcGFjZSBhdmFpbGFibGUgYXV0b21hdGljYWxseSwgd2l0aG91dCBuZWVkaW5nIHRvIHNwZWNpZnkgYVxuICogcHJlZmVycmVkIHBsYWNlbWVudC4gQWx0ZXJuYXRpdmUgdG8gYGZsaXBgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9QbGFjZW1lbnRcbiAqL1xuY29uc3QgYXV0b1BsYWNlbWVudCA9IGF1dG9QbGFjZW1lbnQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgc2hpZnRpbmcgaXQgaW4gb3JkZXIgdG9cbiAqIGtlZXAgaXQgaW4gdmlldyB3aGVuIGl0IHdpbGwgb3ZlcmZsb3cgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NoaWZ0XG4gKi9cbmNvbnN0IHNoaWZ0ID0gc2hpZnQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgZmxpcHBpbmcgdGhlIGBwbGFjZW1lbnRgXG4gKiBpbiBvcmRlciB0byBrZWVwIGl0IGluIHZpZXcgd2hlbiB0aGUgcHJlZmVycmVkIHBsYWNlbWVudChzKSB3aWxsIG92ZXJmbG93IHRoZVxuICogY2xpcHBpbmcgYm91bmRhcnkuIEFsdGVybmF0aXZlIHRvIGBhdXRvUGxhY2VtZW50YC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9mbGlwXG4gKi9cbmNvbnN0IGZsaXAgPSBmbGlwJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0aGF0IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzaXplIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IFx1MjAxNFxuICogZm9yIGluc3RhbmNlLCBwcmV2ZW50IGl0IGZyb20gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5IG9yIG1hdGNoIHRoZVxuICogd2lkdGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NpemVcbiAqL1xuY29uc3Qgc2l6ZSA9IHNpemUkMTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSBoaWRlJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBwb3NpdGlvbiBhbiBpbm5lciBlbGVtZW50IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHNvIHRoYXQgaXRcbiAqIGFwcGVhcnMgY2VudGVyZWQgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2Fycm93XG4gKi9cbmNvbnN0IGFycm93ID0gYXJyb3ckMTtcblxuLyoqXG4gKiBQcm92aWRlcyBpbXByb3ZlZCBwb3NpdGlvbmluZyBmb3IgaW5saW5lIHJlZmVyZW5jZSBlbGVtZW50cyB0aGF0IGNhbiBzcGFuXG4gKiBvdmVyIG11bHRpcGxlIGxpbmVzLCBzdWNoIGFzIGh5cGVybGlua3Mgb3IgcmFuZ2Ugc2VsZWN0aW9ucy5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9pbmxpbmVcbiAqL1xuY29uc3QgaW5saW5lID0gaW5saW5lJDE7XG5cbi8qKlxuICogQnVpbHQtaW4gYGxpbWl0ZXJgIHRoYXQgd2lsbCBzdG9wIGBzaGlmdCgpYCBhdCBhIGNlcnRhaW4gcG9pbnQuXG4gKi9cbmNvbnN0IGxpbWl0U2hpZnQgPSBsaW1pdFNoaWZ0JDE7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIHRoYXQgd2lsbCBwbGFjZSB0aGUgZmxvYXRpbmcgZWxlbWVudFxuICogbmV4dCB0byBhIGdpdmVuIHJlZmVyZW5jZSBlbGVtZW50LlxuICovXG5jb25zdCBjb21wdXRlUG9zaXRpb24gPSAocmVmZXJlbmNlLCBmbG9hdGluZywgb3B0aW9ucykgPT4ge1xuICAvLyBUaGlzIGNhY2hlcyB0aGUgZXhwZW5zaXZlIGBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnNgIGZ1bmN0aW9uIHNvIHRoYXRcbiAgLy8gbXVsdGlwbGUgbGlmZWN5Y2xlIHJlc2V0cyByZS11c2UgdGhlIHNhbWUgcmVzdWx0LiBJdCBvbmx5IGxpdmVzIGZvciBhXG4gIC8vIHNpbmdsZSBjYWxsLiBJZiBvdGhlciBmdW5jdGlvbnMgYmVjb21lIGV4cGVuc2l2ZSwgd2UgY2FuIGFkZCB0aGVtIGFzIHdlbGwuXG4gIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgIHBsYXRmb3JtLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgcGxhdGZvcm1XaXRoQ2FjaGUgPSB7XG4gICAgLi4ubWVyZ2VkT3B0aW9ucy5wbGF0Zm9ybSxcbiAgICBfYzogY2FjaGVcbiAgfTtcbiAgcmV0dXJuIGNvbXB1dGVQb3NpdGlvbiQxKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHtcbiAgICAuLi5tZXJnZWRPcHRpb25zLFxuICAgIHBsYXRmb3JtOiBwbGF0Zm9ybVdpdGhDYWNoZVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IGFycm93LCBhdXRvUGxhY2VtZW50LCBhdXRvVXBkYXRlLCBjb21wdXRlUG9zaXRpb24sIGRldGVjdE92ZXJmbG93LCBmbGlwLCBoaWRlLCBpbmxpbmUsIGxpbWl0U2hpZnQsIG9mZnNldCwgcGxhdGZvcm0sIHNoaWZ0LCBzaXplIH07XG4iLCAiaW1wb3J0IHsgZ2V0U2lkZUF4aXMsIGdldEFsaWdubWVudEF4aXMsIGdldEF4aXNMZW5ndGgsIGdldFNpZGUsIGdldEFsaWdubWVudCwgZXZhbHVhdGUsIGdldFBhZGRpbmdPYmplY3QsIHJlY3RUb0NsaWVudFJlY3QsIG1pbiwgY2xhbXAsIHBsYWNlbWVudHMsIGdldEFsaWdubWVudFNpZGVzLCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudCwgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQsIGdldEV4cGFuZGVkUGxhY2VtZW50cywgZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cywgc2lkZXMsIG1heCwgZ2V0T3Bwb3NpdGVBeGlzIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzJztcbmV4cG9ydCB7IHJlY3RUb0NsaWVudFJlY3QgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMnO1xuXG5mdW5jdGlvbiBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChfcmVmLCBwbGFjZW1lbnQsIHJ0bCkge1xuICBsZXQge1xuICAgIHJlZmVyZW5jZSxcbiAgICBmbG9hdGluZ1xuICB9ID0gX3JlZjtcbiAgY29uc3Qgc2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnRBeGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbkxlbmd0aCA9IGdldEF4aXNMZW5ndGgoYWxpZ25tZW50QXhpcyk7XG4gIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gIGNvbnN0IGlzVmVydGljYWwgPSBzaWRlQXhpcyA9PT0gJ3knO1xuICBjb25zdCBjb21tb25YID0gcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGggLyAyIC0gZmxvYXRpbmcud2lkdGggLyAyO1xuICBjb25zdCBjb21tb25ZID0gcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIGZsb2F0aW5nLmhlaWdodCAvIDI7XG4gIGNvbnN0IGNvbW1vbkFsaWduID0gcmVmZXJlbmNlW2FsaWduTGVuZ3RoXSAvIDIgLSBmbG9hdGluZ1thbGlnbkxlbmd0aF0gLyAyO1xuICBsZXQgY29vcmRzO1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSAtIGZsb2F0aW5nLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggLSBmbG9hdGluZy53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54LFxuICAgICAgICB5OiByZWZlcmVuY2UueVxuICAgICAgfTtcbiAgfVxuICBzd2l0Y2ggKGdldEFsaWdubWVudChwbGFjZW1lbnQpKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgICAgY29vcmRzW2FsaWdubWVudEF4aXNdIC09IGNvbW1vbkFsaWduICogKHJ0bCAmJiBpc1ZlcnRpY2FsID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2VuZCc6XG4gICAgICBjb29yZHNbYWxpZ25tZW50QXhpc10gKz0gY29tbW9uQWxpZ24gKiAocnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGNvb3Jkcztcbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgdGhhdCB3aWxsIHBsYWNlIHRoZSBmbG9hdGluZyBlbGVtZW50XG4gKiBuZXh0IHRvIGEgZ2l2ZW4gcmVmZXJlbmNlIGVsZW1lbnQuXG4gKlxuICogVGhpcyBleHBvcnQgZG9lcyBub3QgaGF2ZSBhbnkgYHBsYXRmb3JtYCBpbnRlcmZhY2UgbG9naWMuIFlvdSB3aWxsIG5lZWQgdG9cbiAqIHdyaXRlIG9uZSBmb3IgdGhlIHBsYXRmb3JtIHlvdSBhcmUgdXNpbmcgRmxvYXRpbmcgVUkgd2l0aC5cbiAqL1xuY29uc3QgY29tcHV0ZVBvc2l0aW9uID0gYXN5bmMgKHJlZmVyZW5jZSwgZmxvYXRpbmcsIGNvbmZpZykgPT4ge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50ID0gJ2JvdHRvbScsXG4gICAgc3RyYXRlZ3kgPSAnYWJzb2x1dGUnLFxuICAgIG1pZGRsZXdhcmUgPSBbXSxcbiAgICBwbGF0Zm9ybVxuICB9ID0gY29uZmlnO1xuICBjb25zdCB2YWxpZE1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChmbG9hdGluZykpO1xuICBsZXQgcmVjdHMgPSBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgIHJlZmVyZW5jZSxcbiAgICBmbG9hdGluZyxcbiAgICBzdHJhdGVneVxuICB9KTtcbiAgbGV0IHtcbiAgICB4LFxuICAgIHlcbiAgfSA9IGNvbXB1dGVDb29yZHNGcm9tUGxhY2VtZW50KHJlY3RzLCBwbGFjZW1lbnQsIHJ0bCk7XG4gIGxldCBzdGF0ZWZ1bFBsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgbGV0IG1pZGRsZXdhcmVEYXRhID0ge307XG4gIGxldCByZXNldENvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxpZE1pZGRsZXdhcmUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7XG4gICAgICBuYW1lLFxuICAgICAgZm5cbiAgICB9ID0gdmFsaWRNaWRkbGV3YXJlW2ldO1xuICAgIGNvbnN0IHtcbiAgICAgIHg6IG5leHRYLFxuICAgICAgeTogbmV4dFksXG4gICAgICBkYXRhLFxuICAgICAgcmVzZXRcbiAgICB9ID0gYXdhaXQgZm4oe1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBpbml0aWFsUGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBwbGFjZW1lbnQ6IHN0YXRlZnVsUGxhY2VtZW50LFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBtaWRkbGV3YXJlRGF0YSxcbiAgICAgIHJlY3RzLFxuICAgICAgcGxhdGZvcm0sXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgIGZsb2F0aW5nXG4gICAgICB9XG4gICAgfSk7XG4gICAgeCA9IG5leHRYICE9IG51bGwgPyBuZXh0WCA6IHg7XG4gICAgeSA9IG5leHRZICE9IG51bGwgPyBuZXh0WSA6IHk7XG4gICAgbWlkZGxld2FyZURhdGEgPSB7XG4gICAgICAuLi5taWRkbGV3YXJlRGF0YSxcbiAgICAgIFtuYW1lXToge1xuICAgICAgICAuLi5taWRkbGV3YXJlRGF0YVtuYW1lXSxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHJlc2V0ICYmIHJlc2V0Q291bnQgPD0gNTApIHtcbiAgICAgIHJlc2V0Q291bnQrKztcbiAgICAgIGlmICh0eXBlb2YgcmVzZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChyZXNldC5wbGFjZW1lbnQpIHtcbiAgICAgICAgICBzdGF0ZWZ1bFBsYWNlbWVudCA9IHJlc2V0LnBsYWNlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzZXQucmVjdHMpIHtcbiAgICAgICAgICByZWN0cyA9IHJlc2V0LnJlY3RzID09PSB0cnVlID8gYXdhaXQgcGxhdGZvcm0uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgICAgICAgIHJlZmVyZW5jZSxcbiAgICAgICAgICAgIGZsb2F0aW5nLFxuICAgICAgICAgICAgc3RyYXRlZ3lcbiAgICAgICAgICB9KSA6IHJlc2V0LnJlY3RzO1xuICAgICAgICB9XG4gICAgICAgICh7XG4gICAgICAgICAgeCxcbiAgICAgICAgICB5XG4gICAgICAgIH0gPSBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChyZWN0cywgc3RhdGVmdWxQbGFjZW1lbnQsIHJ0bCkpO1xuICAgICAgfVxuICAgICAgaSA9IC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlZnVsUGxhY2VtZW50LFxuICAgIHN0cmF0ZWd5LFxuICAgIG1pZGRsZXdhcmVEYXRhXG4gIH07XG59O1xuXG4vKipcbiAqIFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IG9mIG92ZXJmbG93IHNpZGUgb2Zmc2V0cyB0aGF0IGRldGVybWluZSBob3cgbXVjaCB0aGVcbiAqIGVsZW1lbnQgaXMgb3ZlcmZsb3dpbmcgYSBnaXZlbiBjbGlwcGluZyBib3VuZGFyeSBvbiBlYWNoIHNpZGUuXG4gKiAtIHBvc2l0aXZlID0gb3ZlcmZsb3dpbmcgdGhlIGJvdW5kYXJ5IGJ5IHRoYXQgbnVtYmVyIG9mIHBpeGVsc1xuICogLSBuZWdhdGl2ZSA9IGhvdyBtYW55IHBpeGVscyBsZWZ0IGJlZm9yZSBpdCB3aWxsIG92ZXJmbG93XG4gKiAtIDAgPSBsaWVzIGZsdXNoIHdpdGggdGhlIGJvdW5kYXJ5XG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvZGV0ZWN0T3ZlcmZsb3dcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIG9wdGlvbnMpIHtcbiAgdmFyIF9hd2FpdCRwbGF0Zm9ybSRpc0VsZTtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgeCxcbiAgICB5LFxuICAgIHBsYXRmb3JtLFxuICAgIHJlY3RzLFxuICAgIGVsZW1lbnRzLFxuICAgIHN0cmF0ZWd5XG4gIH0gPSBzdGF0ZTtcbiAgY29uc3Qge1xuICAgIGJvdW5kYXJ5ID0gJ2NsaXBwaW5nQW5jZXN0b3JzJyxcbiAgICByb290Qm91bmRhcnkgPSAndmlld3BvcnQnLFxuICAgIGVsZW1lbnRDb250ZXh0ID0gJ2Zsb2F0aW5nJyxcbiAgICBhbHRCb3VuZGFyeSA9IGZhbHNlLFxuICAgIHBhZGRpbmcgPSAwXG4gIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gIGNvbnN0IHBhZGRpbmdPYmplY3QgPSBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpO1xuICBjb25zdCBhbHRDb250ZXh0ID0gZWxlbWVudENvbnRleHQgPT09ICdmbG9hdGluZycgPyAncmVmZXJlbmNlJyA6ICdmbG9hdGluZyc7XG4gIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1thbHRCb3VuZGFyeSA/IGFsdENvbnRleHQgOiBlbGVtZW50Q29udGV4dF07XG4gIGNvbnN0IGNsaXBwaW5nQ2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QoYXdhaXQgcGxhdGZvcm0uZ2V0Q2xpcHBpbmdSZWN0KHtcbiAgICBlbGVtZW50OiAoKF9hd2FpdCRwbGF0Zm9ybSRpc0VsZSA9IGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChlbGVtZW50KSkpICE9IG51bGwgPyBfYXdhaXQkcGxhdGZvcm0kaXNFbGUgOiB0cnVlKSA/IGVsZW1lbnQgOiBlbGVtZW50LmNvbnRleHRFbGVtZW50IHx8IChhd2FpdCAocGxhdGZvcm0uZ2V0RG9jdW1lbnRFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudHMuZmxvYXRpbmcpKSksXG4gICAgYm91bmRhcnksXG4gICAgcm9vdEJvdW5kYXJ5LFxuICAgIHN0cmF0ZWd5XG4gIH0pKTtcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnRDb250ZXh0ID09PSAnZmxvYXRpbmcnID8ge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aDogcmVjdHMuZmxvYXRpbmcud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0cy5mbG9hdGluZy5oZWlnaHRcbiAgfSA6IHJlY3RzLnJlZmVyZW5jZTtcbiAgY29uc3Qgb2Zmc2V0UGFyZW50ID0gYXdhaXQgKHBsYXRmb3JtLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gIGNvbnN0IG9mZnNldFNjYWxlID0gKGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSkgPyAoYXdhaXQgKHBsYXRmb3JtLmdldFNjYWxlID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRTY2FsZShvZmZzZXRQYXJlbnQpKSkgfHwge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9IDoge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9O1xuICBjb25zdCBlbGVtZW50Q2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QocGxhdGZvcm0uY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QgPyBhd2FpdCBwbGF0Zm9ybS5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCh7XG4gICAgZWxlbWVudHMsXG4gICAgcmVjdCxcbiAgICBvZmZzZXRQYXJlbnQsXG4gICAgc3RyYXRlZ3lcbiAgfSkgOiByZWN0KTtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IChjbGlwcGluZ0NsaWVudFJlY3QudG9wIC0gZWxlbWVudENsaWVudFJlY3QudG9wICsgcGFkZGluZ09iamVjdC50b3ApIC8gb2Zmc2V0U2NhbGUueSxcbiAgICBib3R0b206IChlbGVtZW50Q2xpZW50UmVjdC5ib3R0b20gLSBjbGlwcGluZ0NsaWVudFJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20pIC8gb2Zmc2V0U2NhbGUueSxcbiAgICBsZWZ0OiAoY2xpcHBpbmdDbGllbnRSZWN0LmxlZnQgLSBlbGVtZW50Q2xpZW50UmVjdC5sZWZ0ICsgcGFkZGluZ09iamVjdC5sZWZ0KSAvIG9mZnNldFNjYWxlLngsXG4gICAgcmlnaHQ6IChlbGVtZW50Q2xpZW50UmVjdC5yaWdodCAtIGNsaXBwaW5nQ2xpZW50UmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQpIC8gb2Zmc2V0U2NhbGUueFxuICB9O1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gcG9zaXRpb24gYW4gaW5uZXIgZWxlbWVudCBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBzbyB0aGF0IGl0XG4gKiBhcHBlYXJzIGNlbnRlcmVkIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hcnJvd1xuICovXG5jb25zdCBhcnJvdyA9IG9wdGlvbnMgPT4gKHtcbiAgbmFtZTogJ2Fycm93JyxcbiAgb3B0aW9ucyxcbiAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHBsYWNlbWVudCxcbiAgICAgIHJlY3RzLFxuICAgICAgcGxhdGZvcm0sXG4gICAgICBlbGVtZW50cyxcbiAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgfSA9IHN0YXRlO1xuICAgIC8vIFNpbmNlIGBlbGVtZW50YCBpcyByZXF1aXJlZCwgd2UgZG9uJ3QgUGFydGlhbDw+IHRoZSB0eXBlLlxuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBwYWRkaW5nID0gMFxuICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSkgfHwge307XG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICB4LFxuICAgICAgeVxuICAgIH07XG4gICAgY29uc3QgYXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgICBjb25zdCBsZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGF4aXMpO1xuICAgIGNvbnN0IGFycm93RGltZW5zaW9ucyA9IGF3YWl0IHBsYXRmb3JtLmdldERpbWVuc2lvbnMoZWxlbWVudCk7XG4gICAgY29uc3QgaXNZQXhpcyA9IGF4aXMgPT09ICd5JztcbiAgICBjb25zdCBtaW5Qcm9wID0gaXNZQXhpcyA/ICd0b3AnIDogJ2xlZnQnO1xuICAgIGNvbnN0IG1heFByb3AgPSBpc1lBeGlzID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICAgIGNvbnN0IGNsaWVudFByb3AgPSBpc1lBeGlzID8gJ2NsaWVudEhlaWdodCcgOiAnY2xpZW50V2lkdGgnO1xuICAgIGNvbnN0IGVuZERpZmYgPSByZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSArIHJlY3RzLnJlZmVyZW5jZVtheGlzXSAtIGNvb3Jkc1theGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbmd0aF07XG4gICAgY29uc3Qgc3RhcnREaWZmID0gY29vcmRzW2F4aXNdIC0gcmVjdHMucmVmZXJlbmNlW2F4aXNdO1xuICAgIGNvbnN0IGFycm93T2Zmc2V0UGFyZW50ID0gYXdhaXQgKHBsYXRmb3JtLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpKTtcbiAgICBsZXQgY2xpZW50U2l6ZSA9IGFycm93T2Zmc2V0UGFyZW50ID8gYXJyb3dPZmZzZXRQYXJlbnRbY2xpZW50UHJvcF0gOiAwO1xuXG4gICAgLy8gRE9NIHBsYXRmb3JtIGNhbiByZXR1cm4gYHdpbmRvd2AgYXMgdGhlIGBvZmZzZXRQYXJlbnRgLlxuICAgIGlmICghY2xpZW50U2l6ZSB8fCAhKGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChhcnJvd09mZnNldFBhcmVudCkpKSkge1xuICAgICAgY2xpZW50U2l6ZSA9IGVsZW1lbnRzLmZsb2F0aW5nW2NsaWVudFByb3BdIHx8IHJlY3RzLmZsb2F0aW5nW2xlbmd0aF07XG4gICAgfVxuICAgIGNvbnN0IGNlbnRlclRvUmVmZXJlbmNlID0gZW5kRGlmZiAvIDIgLSBzdGFydERpZmYgLyAyO1xuXG4gICAgLy8gSWYgdGhlIHBhZGRpbmcgaXMgbGFyZ2UgZW5vdWdoIHRoYXQgaXQgY2F1c2VzIHRoZSBhcnJvdyB0byBubyBsb25nZXIgYmVcbiAgICAvLyBjZW50ZXJlZCwgbW9kaWZ5IHRoZSBwYWRkaW5nIHNvIHRoYXQgaXQgaXMgY2VudGVyZWQuXG4gICAgY29uc3QgbGFyZ2VzdFBvc3NpYmxlUGFkZGluZyA9IGNsaWVudFNpemUgLyAyIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLyAyIC0gMTtcbiAgICBjb25zdCBtaW5QYWRkaW5nID0gbWluKHBhZGRpbmdPYmplY3RbbWluUHJvcF0sIGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcpO1xuICAgIGNvbnN0IG1heFBhZGRpbmcgPSBtaW4ocGFkZGluZ09iamVjdFttYXhQcm9wXSwgbGFyZ2VzdFBvc3NpYmxlUGFkZGluZyk7XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGFycm93IGRvZXNuJ3Qgb3ZlcmZsb3cgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaWYgdGhlIGNlbnRlclxuICAgIC8vIHBvaW50IGlzIG91dHNpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQncyBib3VuZHMuXG4gICAgY29uc3QgbWluJDEgPSBtaW5QYWRkaW5nO1xuICAgIGNvbnN0IG1heCA9IGNsaWVudFNpemUgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAtIG1heFBhZGRpbmc7XG4gICAgY29uc3QgY2VudGVyID0gY2xpZW50U2l6ZSAvIDIgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAvIDIgKyBjZW50ZXJUb1JlZmVyZW5jZTtcbiAgICBjb25zdCBvZmZzZXQgPSBjbGFtcChtaW4kMSwgY2VudGVyLCBtYXgpO1xuXG4gICAgLy8gSWYgdGhlIHJlZmVyZW5jZSBpcyBzbWFsbCBlbm91Z2ggdGhhdCB0aGUgYXJyb3cncyBwYWRkaW5nIGNhdXNlcyBpdCB0b1xuICAgIC8vIHRvIHBvaW50IHRvIG5vdGhpbmcgZm9yIGFuIGFsaWduZWQgcGxhY2VtZW50LCBhZGp1c3QgdGhlIG9mZnNldCBvZiB0aGVcbiAgICAvLyBmbG9hdGluZyBlbGVtZW50IGl0c2VsZi4gVG8gZW5zdXJlIGBzaGlmdCgpYCBjb250aW51ZXMgdG8gdGFrZSBhY3Rpb24sXG4gICAgLy8gYSBzaW5nbGUgcmVzZXQgaXMgcGVyZm9ybWVkIHdoZW4gdGhpcyBpcyB0cnVlLlxuICAgIGNvbnN0IHNob3VsZEFkZE9mZnNldCA9ICFtaWRkbGV3YXJlRGF0YS5hcnJvdyAmJiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSAhPSBudWxsICYmIGNlbnRlciAhPT0gb2Zmc2V0ICYmIHJlY3RzLnJlZmVyZW5jZVtsZW5ndGhdIC8gMiAtIChjZW50ZXIgPCBtaW4kMSA/IG1pblBhZGRpbmcgOiBtYXhQYWRkaW5nKSAtIGFycm93RGltZW5zaW9uc1tsZW5ndGhdIC8gMiA8IDA7XG4gICAgY29uc3QgYWxpZ25tZW50T2Zmc2V0ID0gc2hvdWxkQWRkT2Zmc2V0ID8gY2VudGVyIDwgbWluJDEgPyBjZW50ZXIgLSBtaW4kMSA6IGNlbnRlciAtIG1heCA6IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtheGlzXTogY29vcmRzW2F4aXNdICsgYWxpZ25tZW50T2Zmc2V0LFxuICAgICAgZGF0YToge1xuICAgICAgICBbYXhpc106IG9mZnNldCxcbiAgICAgICAgY2VudGVyT2Zmc2V0OiBjZW50ZXIgLSBvZmZzZXQgLSBhbGlnbm1lbnRPZmZzZXQsXG4gICAgICAgIC4uLihzaG91bGRBZGRPZmZzZXQgJiYge1xuICAgICAgICAgIGFsaWdubWVudE9mZnNldFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlc2V0OiBzaG91bGRBZGRPZmZzZXRcbiAgICB9O1xuICB9XG59KTtcblxuZnVuY3Rpb24gZ2V0UGxhY2VtZW50TGlzdChhbGlnbm1lbnQsIGF1dG9BbGlnbm1lbnQsIGFsbG93ZWRQbGFjZW1lbnRzKSB7XG4gIGNvbnN0IGFsbG93ZWRQbGFjZW1lbnRzU29ydGVkQnlBbGlnbm1lbnQgPSBhbGlnbm1lbnQgPyBbLi4uYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSA9PT0gYWxpZ25tZW50KSwgLi4uYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSAhPT0gYWxpZ25tZW50KV0gOiBhbGxvd2VkUGxhY2VtZW50cy5maWx0ZXIocGxhY2VtZW50ID0+IGdldFNpZGUocGxhY2VtZW50KSA9PT0gcGxhY2VtZW50KTtcbiAgcmV0dXJuIGFsbG93ZWRQbGFjZW1lbnRzU29ydGVkQnlBbGlnbm1lbnQuZmlsdGVyKHBsYWNlbWVudCA9PiB7XG4gICAgaWYgKGFsaWdubWVudCkge1xuICAgICAgcmV0dXJuIGdldEFsaWdubWVudChwbGFjZW1lbnQpID09PSBhbGlnbm1lbnQgfHwgKGF1dG9BbGlnbm1lbnQgPyBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpICE9PSBwbGFjZW1lbnQgOiBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn1cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IGNob29zaW5nIHRoZSBwbGFjZW1lbnRcbiAqIHRoYXQgaGFzIHRoZSBtb3N0IHNwYWNlIGF2YWlsYWJsZSBhdXRvbWF0aWNhbGx5LCB3aXRob3V0IG5lZWRpbmcgdG8gc3BlY2lmeSBhXG4gKiBwcmVmZXJyZWQgcGxhY2VtZW50LiBBbHRlcm5hdGl2ZSB0byBgZmxpcGAuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXV0b1BsYWNlbWVudFxuICovXG5jb25zdCBhdXRvUGxhY2VtZW50ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdhdXRvUGxhY2VtZW50JyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGF1dG9QLCBfbWlkZGxld2FyZURhdGEkYXV0b1AyLCBfcGxhY2VtZW50c1RoYXRGaXRPbkU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJlY3RzLFxuICAgICAgICBtaWRkbGV3YXJlRGF0YSxcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY3Jvc3NBeGlzID0gZmFsc2UsXG4gICAgICAgIGFsaWdubWVudCxcbiAgICAgICAgYWxsb3dlZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLFxuICAgICAgICBhdXRvQWxpZ25tZW50ID0gdHJ1ZSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgcGxhY2VtZW50cyQxID0gYWxpZ25tZW50ICE9PSB1bmRlZmluZWQgfHwgYWxsb3dlZFBsYWNlbWVudHMgPT09IHBsYWNlbWVudHMgPyBnZXRQbGFjZW1lbnRMaXN0KGFsaWdubWVudCB8fCBudWxsLCBhdXRvQWxpZ25tZW50LCBhbGxvd2VkUGxhY2VtZW50cykgOiBhbGxvd2VkUGxhY2VtZW50cztcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSAoKF9taWRkbGV3YXJlRGF0YSRhdXRvUCA9IG1pZGRsZXdhcmVEYXRhLmF1dG9QbGFjZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkYXV0b1AuaW5kZXgpIHx8IDA7XG4gICAgICBjb25zdCBjdXJyZW50UGxhY2VtZW50ID0gcGxhY2VtZW50cyQxW2N1cnJlbnRJbmRleF07XG4gICAgICBpZiAoY3VycmVudFBsYWNlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFsaWdubWVudFNpZGVzID0gZ2V0QWxpZ25tZW50U2lkZXMoY3VycmVudFBsYWNlbWVudCwgcmVjdHMsIGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKSk7XG5cbiAgICAgIC8vIE1ha2UgYGNvbXB1dGVDb29yZHNgIHN0YXJ0IGZyb20gdGhlIHJpZ2h0IHBsYWNlLlxuICAgICAgaWYgKHBsYWNlbWVudCAhPT0gY3VycmVudFBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudHMkMVswXVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1cnJlbnRPdmVyZmxvd3MgPSBbb3ZlcmZsb3dbZ2V0U2lkZShjdXJyZW50UGxhY2VtZW50KV0sIG92ZXJmbG93W2FsaWdubWVudFNpZGVzWzBdXSwgb3ZlcmZsb3dbYWxpZ25tZW50U2lkZXNbMV1dXTtcbiAgICAgIGNvbnN0IGFsbE92ZXJmbG93cyA9IFsuLi4oKChfbWlkZGxld2FyZURhdGEkYXV0b1AyID0gbWlkZGxld2FyZURhdGEuYXV0b1BsYWNlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRhdXRvUDIub3ZlcmZsb3dzKSB8fCBbXSksIHtcbiAgICAgICAgcGxhY2VtZW50OiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgICBvdmVyZmxvd3M6IGN1cnJlbnRPdmVyZmxvd3NcbiAgICAgIH1dO1xuICAgICAgY29uc3QgbmV4dFBsYWNlbWVudCA9IHBsYWNlbWVudHMkMVtjdXJyZW50SW5kZXggKyAxXTtcblxuICAgICAgLy8gVGhlcmUgYXJlIG1vcmUgcGxhY2VtZW50cyB0byBjaGVjay5cbiAgICAgIGlmIChuZXh0UGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRJbmRleCArIDEsXG4gICAgICAgICAgICBvdmVyZmxvd3M6IGFsbE92ZXJmbG93c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHBsYWNlbWVudDogbmV4dFBsYWNlbWVudFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZSA9IGFsbE92ZXJmbG93cy5tYXAoZCA9PiB7XG4gICAgICAgIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChkLnBsYWNlbWVudCk7XG4gICAgICAgIHJldHVybiBbZC5wbGFjZW1lbnQsIGFsaWdubWVudCAmJiBjcm9zc0F4aXMgP1xuICAgICAgICAvLyBDaGVjayBhbG9uZyB0aGUgbWFpbkF4aXMgYW5kIG1haW4gY3Jvc3NBeGlzIHNpZGUuXG4gICAgICAgIGQub3ZlcmZsb3dzLnNsaWNlKDAsIDIpLnJlZHVjZSgoYWNjLCB2KSA9PiBhY2MgKyB2LCAwKSA6XG4gICAgICAgIC8vIENoZWNrIG9ubHkgdGhlIG1haW5BeGlzLlxuICAgICAgICBkLm92ZXJmbG93c1swXSwgZC5vdmVyZmxvd3NdO1xuICAgICAgfSkuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pO1xuICAgICAgY29uc3QgcGxhY2VtZW50c1RoYXRGaXRPbkVhY2hTaWRlID0gcGxhY2VtZW50c1NvcnRlZEJ5TW9zdFNwYWNlLmZpbHRlcihkID0+IGRbMl0uc2xpY2UoMCxcbiAgICAgIC8vIEFsaWduZWQgcGxhY2VtZW50cyBzaG91bGQgbm90IGNoZWNrIHRoZWlyIG9wcG9zaXRlIGNyb3NzQXhpc1xuICAgICAgLy8gc2lkZS5cbiAgICAgIGdldEFsaWdubWVudChkWzBdKSA/IDIgOiAzKS5ldmVyeSh2ID0+IHYgPD0gMCkpO1xuICAgICAgY29uc3QgcmVzZXRQbGFjZW1lbnQgPSAoKF9wbGFjZW1lbnRzVGhhdEZpdE9uRSA9IHBsYWNlbWVudHNUaGF0Rml0T25FYWNoU2lkZVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wbGFjZW1lbnRzVGhhdEZpdE9uRVswXSkgfHwgcGxhY2VtZW50c1NvcnRlZEJ5TW9zdFNwYWNlWzBdWzBdO1xuICAgICAgaWYgKHJlc2V0UGxhY2VtZW50ICE9PSBwbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpbmRleDogY3VycmVudEluZGV4ICsgMSxcbiAgICAgICAgICAgIG92ZXJmbG93czogYWxsT3ZlcmZsb3dzXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcGxhY2VtZW50OiByZXNldFBsYWNlbWVudFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBmbGlwcGluZyB0aGUgYHBsYWNlbWVudGBcbiAqIGluIG9yZGVyIHRvIGtlZXAgaXQgaW4gdmlldyB3aGVuIHRoZSBwcmVmZXJyZWQgcGxhY2VtZW50KHMpIHdpbGwgb3ZlcmZsb3cgdGhlXG4gKiBjbGlwcGluZyBib3VuZGFyeS4gQWx0ZXJuYXRpdmUgdG8gYGF1dG9QbGFjZW1lbnRgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2ZsaXBcbiAqL1xuY29uc3QgZmxpcCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZmxpcCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRhcnJvdywgX21pZGRsZXdhcmVEYXRhJGZsaXA7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBpbml0aWFsUGxhY2VtZW50LFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWFpbkF4aXM6IGNoZWNrTWFpbkF4aXMgPSB0cnVlLFxuICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gdHJ1ZSxcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzOiBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMsXG4gICAgICAgIGZhbGxiYWNrU3RyYXRlZ3kgPSAnYmVzdEZpdCcsXG4gICAgICAgIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gPSAnbm9uZScsXG4gICAgICAgIGZsaXBBbGlnbm1lbnQgPSB0cnVlLFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG5cbiAgICAgIC8vIElmIGEgcmVzZXQgYnkgdGhlIGFycm93IHdhcyBjYXVzZWQgZHVlIHRvIGFuIGFsaWdubWVudCBvZmZzZXQgYmVpbmdcbiAgICAgIC8vIGFkZGVkLCB3ZSBzaG91bGQgc2tpcCBhbnkgbG9naWMgbm93IHNpbmNlIGBmbGlwKClgIGhhcyBhbHJlYWR5IGRvbmUgaXRzXG4gICAgICAvLyB3b3JrLlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zsb2F0aW5nLXVpL2Zsb2F0aW5nLXVpL2lzc3Vlcy8yNTQ5I2lzc3VlY29tbWVudC0xNzE5NjAxNjQzXG4gICAgICBpZiAoKF9taWRkbGV3YXJlRGF0YSRhcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSAhPSBudWxsICYmIF9taWRkbGV3YXJlRGF0YSRhcnJvdy5hbGlnbm1lbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGluaXRpYWxTaWRlQXhpcyA9IGdldFNpZGVBeGlzKGluaXRpYWxQbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaXNCYXNlUGxhY2VtZW50ID0gZ2V0U2lkZShpbml0aWFsUGxhY2VtZW50KSA9PT0gaW5pdGlhbFBsYWNlbWVudDtcbiAgICAgIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrUGxhY2VtZW50cyA9IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyB8fCAoaXNCYXNlUGxhY2VtZW50IHx8ICFmbGlwQWxpZ25tZW50ID8gW2dldE9wcG9zaXRlUGxhY2VtZW50KGluaXRpYWxQbGFjZW1lbnQpXSA6IGdldEV4cGFuZGVkUGxhY2VtZW50cyhpbml0aWFsUGxhY2VtZW50KSk7XG4gICAgICBjb25zdCBoYXNGYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uID0gZmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiAhPT0gJ25vbmUnO1xuICAgICAgaWYgKCFzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgJiYgaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbikge1xuICAgICAgICBmYWxsYmFja1BsYWNlbWVudHMucHVzaCguLi5nZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQsIGZsaXBBbGlnbm1lbnQsIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24sIHJ0bCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGxhY2VtZW50cyA9IFtpbml0aWFsUGxhY2VtZW50LCAuLi5mYWxsYmFja1BsYWNlbWVudHNdO1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93cyA9IFtdO1xuICAgICAgbGV0IG92ZXJmbG93c0RhdGEgPSAoKF9taWRkbGV3YXJlRGF0YSRmbGlwID0gbWlkZGxld2FyZURhdGEuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRmbGlwLm92ZXJmbG93cykgfHwgW107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlXSk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3Qgc2lkZXMgPSBnZXRBbGlnbm1lbnRTaWRlcyhwbGFjZW1lbnQsIHJlY3RzLCBydGwpO1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlc1swXV0sIG92ZXJmbG93W3NpZGVzWzFdXSk7XG4gICAgICB9XG4gICAgICBvdmVyZmxvd3NEYXRhID0gWy4uLm92ZXJmbG93c0RhdGEsIHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBvdmVyZmxvd3NcbiAgICAgIH1dO1xuXG4gICAgICAvLyBPbmUgb3IgbW9yZSBzaWRlcyBpcyBvdmVyZmxvd2luZy5cbiAgICAgIGlmICghb3ZlcmZsb3dzLmV2ZXJ5KHNpZGUgPT4gc2lkZSA8PSAwKSkge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGZsaXAyLCBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXI7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9ICgoKF9taWRkbGV3YXJlRGF0YSRmbGlwMiA9IG1pZGRsZXdhcmVEYXRhLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkZmxpcDIuaW5kZXgpIHx8IDApICsgMTtcbiAgICAgICAgY29uc3QgbmV4dFBsYWNlbWVudCA9IHBsYWNlbWVudHNbbmV4dEluZGV4XTtcbiAgICAgICAgaWYgKG5leHRQbGFjZW1lbnQpIHtcbiAgICAgICAgICAvLyBUcnkgbmV4dCBwbGFjZW1lbnQgYW5kIHJlLXJ1biB0aGUgbGlmZWN5Y2xlLlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgICAgICAgIG92ZXJmbG93czogb3ZlcmZsb3dzRGF0YVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgIHBsYWNlbWVudDogbmV4dFBsYWNlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJzdCwgZmluZCB0aGUgY2FuZGlkYXRlcyB0aGF0IGZpdCBvbiB0aGUgbWFpbkF4aXMgc2lkZSBvZiBvdmVyZmxvdyxcbiAgICAgICAgLy8gdGhlbiBmaW5kIHRoZSBwbGFjZW1lbnQgdGhhdCBmaXRzIHRoZSBiZXN0IG9uIHRoZSBtYWluIGNyb3NzQXhpcyBzaWRlLlxuICAgICAgICBsZXQgcmVzZXRQbGFjZW1lbnQgPSAoX292ZXJmbG93c0RhdGEkZmlsdGVyID0gb3ZlcmZsb3dzRGF0YS5maWx0ZXIoZCA9PiBkLm92ZXJmbG93c1swXSA8PSAwKS5zb3J0KChhLCBiKSA9PiBhLm92ZXJmbG93c1sxXSAtIGIub3ZlcmZsb3dzWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJGZpbHRlci5wbGFjZW1lbnQ7XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIGZhbGxiYWNrLlxuICAgICAgICBpZiAoIXJlc2V0UGxhY2VtZW50KSB7XG4gICAgICAgICAgc3dpdGNoIChmYWxsYmFja1N0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlICdiZXN0Rml0JzpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudCA9IChfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIyID0gb3ZlcmZsb3dzRGF0YS5maWx0ZXIoZCA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhkLnBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2lkZUF4aXMgPT09IGluaXRpYWxTaWRlQXhpcyB8fFxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBiaWFzIHRvIHRoZSBgeWAgc2lkZSBheGlzIGR1ZSB0byBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWRpbmcgZGlyZWN0aW9ucyBmYXZvcmluZyBncmVhdGVyIHdpZHRoLlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2lkZUF4aXMgPT09ICd5JztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pLm1hcChkID0+IFtkLnBsYWNlbWVudCwgZC5vdmVyZmxvd3MuZmlsdGVyKG92ZXJmbG93ID0+IG92ZXJmbG93ID4gMCkucmVkdWNlKChhY2MsIG92ZXJmbG93KSA9PiBhY2MgKyBvdmVyZmxvdywgMCldKS5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIyWzBdO1xuICAgICAgICAgICAgICAgIGlmIChwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgIHJlc2V0UGxhY2VtZW50ID0gcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnaW5pdGlhbFBsYWNlbWVudCc6XG4gICAgICAgICAgICAgIHJlc2V0UGxhY2VtZW50ID0gaW5pdGlhbFBsYWNlbWVudDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwbGFjZW1lbnQgIT09IHJlc2V0UGxhY2VtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgIHBsYWNlbWVudDogcmVzZXRQbGFjZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3QpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IG92ZXJmbG93LnRvcCAtIHJlY3QuaGVpZ2h0LFxuICAgIHJpZ2h0OiBvdmVyZmxvdy5yaWdodCAtIHJlY3Qud2lkdGgsXG4gICAgYm90dG9tOiBvdmVyZmxvdy5ib3R0b20gLSByZWN0LmhlaWdodCxcbiAgICBsZWZ0OiBvdmVyZmxvdy5sZWZ0IC0gcmVjdC53aWR0aFxuICB9O1xufVxuZnVuY3Rpb24gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKG92ZXJmbG93KSB7XG4gIHJldHVybiBzaWRlcy5zb21lKHNpZGUgPT4gb3ZlcmZsb3dbc2lkZV0gPj0gMCk7XG59XG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gaGlkZSB0aGUgZmxvYXRpbmcgZWxlbWVudCBpbiBhcHBsaWNhYmxlIHNpdHVhdGlvbnMsIHN1Y2ggYXNcbiAqIHdoZW4gaXQgaXMgbm90IGluIHRoZSBzYW1lIGNsaXBwaW5nIGNvbnRleHQgYXMgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2hpZGVcbiAqL1xuY29uc3QgaGlkZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnaGlkZScsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICByZWN0c1xuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBzdHJhdGVneSA9ICdyZWZlcmVuY2VIaWRkZW4nLFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgJ3JlZmVyZW5jZUhpZGRlbic6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgICAgICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMsXG4gICAgICAgICAgICAgIGVsZW1lbnRDb250ZXh0OiAncmVmZXJlbmNlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3RzLnJlZmVyZW5jZSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlSGlkZGVuT2Zmc2V0czogb2Zmc2V0cyxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2VIaWRkZW46IGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvZmZzZXRzKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnZXNjYXBlZCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgICAgICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMsXG4gICAgICAgICAgICAgIGFsdEJvdW5kYXJ5OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldHMgPSBnZXRTaWRlT2Zmc2V0cyhvdmVyZmxvdywgcmVjdHMuZmxvYXRpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGVzY2FwZWRPZmZzZXRzOiBvZmZzZXRzLFxuICAgICAgICAgICAgICAgIGVzY2FwZWQ6IGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvZmZzZXRzKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldEJvdW5kaW5nUmVjdChyZWN0cykge1xuICBjb25zdCBtaW5YID0gbWluKC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QubGVmdCkpO1xuICBjb25zdCBtaW5ZID0gbWluKC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QudG9wKSk7XG4gIGNvbnN0IG1heFggPSBtYXgoLi4ucmVjdHMubWFwKHJlY3QgPT4gcmVjdC5yaWdodCkpO1xuICBjb25zdCBtYXhZID0gbWF4KC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QuYm90dG9tKSk7XG4gIHJldHVybiB7XG4gICAgeDogbWluWCxcbiAgICB5OiBtaW5ZLFxuICAgIHdpZHRoOiBtYXhYIC0gbWluWCxcbiAgICBoZWlnaHQ6IG1heFkgLSBtaW5ZXG4gIH07XG59XG5mdW5jdGlvbiBnZXRSZWN0c0J5TGluZShyZWN0cykge1xuICBjb25zdCBzb3J0ZWRSZWN0cyA9IHJlY3RzLnNsaWNlKCkuc29ydCgoYSwgYikgPT4gYS55IC0gYi55KTtcbiAgY29uc3QgZ3JvdXBzID0gW107XG4gIGxldCBwcmV2UmVjdCA9IG51bGw7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkUmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZWN0ID0gc29ydGVkUmVjdHNbaV07XG4gICAgaWYgKCFwcmV2UmVjdCB8fCByZWN0LnkgLSBwcmV2UmVjdC55ID4gcHJldlJlY3QuaGVpZ2h0IC8gMikge1xuICAgICAgZ3JvdXBzLnB1c2goW3JlY3RdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXS5wdXNoKHJlY3QpO1xuICAgIH1cbiAgICBwcmV2UmVjdCA9IHJlY3Q7XG4gIH1cbiAgcmV0dXJuIGdyb3Vwcy5tYXAocmVjdCA9PiByZWN0VG9DbGllbnRSZWN0KGdldEJvdW5kaW5nUmVjdChyZWN0KSkpO1xufVxuLyoqXG4gKiBQcm92aWRlcyBpbXByb3ZlZCBwb3NpdGlvbmluZyBmb3IgaW5saW5lIHJlZmVyZW5jZSBlbGVtZW50cyB0aGF0IGNhbiBzcGFuXG4gKiBvdmVyIG11bHRpcGxlIGxpbmVzLCBzdWNoIGFzIGh5cGVybGlua3Mgb3IgcmFuZ2Ugc2VsZWN0aW9ucy5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9pbmxpbmVcbiAqL1xuY29uc3QgaW5saW5lID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdpbmxpbmUnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICBzdHJhdGVneVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgLy8gQSBNb3VzZUV2ZW50J3MgY2xpZW50e1gsWX0gY29vcmRzIGNhbiBiZSB1cCB0byAyIHBpeGVscyBvZmYgYVxuICAgICAgLy8gQ2xpZW50UmVjdCdzIGJvdW5kcywgZGVzcGl0ZSB0aGUgZXZlbnQgbGlzdGVuZXIgYmVpbmcgdHJpZ2dlcmVkLiBBXG4gICAgICAvLyBwYWRkaW5nIG9mIDIgc2VlbXMgdG8gaGFuZGxlIHRoaXMgaXNzdWUuXG4gICAgICBjb25zdCB7XG4gICAgICAgIHBhZGRpbmcgPSAyLFxuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgbmF0aXZlQ2xpZW50UmVjdHMgPSBBcnJheS5mcm9tKChhd2FpdCAocGxhdGZvcm0uZ2V0Q2xpZW50UmVjdHMgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldENsaWVudFJlY3RzKGVsZW1lbnRzLnJlZmVyZW5jZSkpKSB8fCBbXSk7XG4gICAgICBjb25zdCBjbGllbnRSZWN0cyA9IGdldFJlY3RzQnlMaW5lKG5hdGl2ZUNsaWVudFJlY3RzKTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrID0gcmVjdFRvQ2xpZW50UmVjdChnZXRCb3VuZGluZ1JlY3QobmF0aXZlQ2xpZW50UmVjdHMpKTtcbiAgICAgIGNvbnN0IHBhZGRpbmdPYmplY3QgPSBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpO1xuICAgICAgZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgdHdvIHJlY3RzIGFuZCB0aGV5IGFyZSBkaXNqb2luZWQuXG4gICAgICAgIGlmIChjbGllbnRSZWN0cy5sZW5ndGggPT09IDIgJiYgY2xpZW50UmVjdHNbMF0ubGVmdCA+IGNsaWVudFJlY3RzWzFdLnJpZ2h0ICYmIHggIT0gbnVsbCAmJiB5ICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBGaW5kIHRoZSBmaXJzdCByZWN0IGluIHdoaWNoIHRoZSBwb2ludCBpcyBmdWxseSBpbnNpZGUuXG4gICAgICAgICAgcmV0dXJuIGNsaWVudFJlY3RzLmZpbmQocmVjdCA9PiB4ID4gcmVjdC5sZWZ0IC0gcGFkZGluZ09iamVjdC5sZWZ0ICYmIHggPCByZWN0LnJpZ2h0ICsgcGFkZGluZ09iamVjdC5yaWdodCAmJiB5ID4gcmVjdC50b3AgLSBwYWRkaW5nT2JqZWN0LnRvcCAmJiB5IDwgcmVjdC5ib3R0b20gKyBwYWRkaW5nT2JqZWN0LmJvdHRvbSkgfHwgZmFsbGJhY2s7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBhcmUgMiBvciBtb3JlIGNvbm5lY3RlZCByZWN0cy5cbiAgICAgICAgaWYgKGNsaWVudFJlY3RzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgaWYgKGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5Jykge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RSZWN0ID0gY2xpZW50UmVjdHNbMF07XG4gICAgICAgICAgICBjb25zdCBsYXN0UmVjdCA9IGNsaWVudFJlY3RzW2NsaWVudFJlY3RzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgaXNUb3AgPSBnZXRTaWRlKHBsYWNlbWVudCkgPT09ICd0b3AnO1xuICAgICAgICAgICAgY29uc3QgdG9wID0gZmlyc3RSZWN0LnRvcDtcbiAgICAgICAgICAgIGNvbnN0IGJvdHRvbSA9IGxhc3RSZWN0LmJvdHRvbTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBpc1RvcCA/IGZpcnN0UmVjdC5sZWZ0IDogbGFzdFJlY3QubGVmdDtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gaXNUb3AgPyBmaXJzdFJlY3QucmlnaHQgOiBsYXN0UmVjdC5yaWdodDtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICB4OiBsZWZ0LFxuICAgICAgICAgICAgICB5OiB0b3BcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGlzTGVmdFNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCkgPT09ICdsZWZ0JztcbiAgICAgICAgICBjb25zdCBtYXhSaWdodCA9IG1heCguLi5jbGllbnRSZWN0cy5tYXAocmVjdCA9PiByZWN0LnJpZ2h0KSk7XG4gICAgICAgICAgY29uc3QgbWluTGVmdCA9IG1pbiguLi5jbGllbnRSZWN0cy5tYXAocmVjdCA9PiByZWN0LmxlZnQpKTtcbiAgICAgICAgICBjb25zdCBtZWFzdXJlUmVjdHMgPSBjbGllbnRSZWN0cy5maWx0ZXIocmVjdCA9PiBpc0xlZnRTaWRlID8gcmVjdC5sZWZ0ID09PSBtaW5MZWZ0IDogcmVjdC5yaWdodCA9PT0gbWF4UmlnaHQpO1xuICAgICAgICAgIGNvbnN0IHRvcCA9IG1lYXN1cmVSZWN0c1swXS50b3A7XG4gICAgICAgICAgY29uc3QgYm90dG9tID0gbWVhc3VyZVJlY3RzW21lYXN1cmVSZWN0cy5sZW5ndGggLSAxXS5ib3R0b207XG4gICAgICAgICAgY29uc3QgbGVmdCA9IG1pbkxlZnQ7XG4gICAgICAgICAgY29uc3QgcmlnaHQgPSBtYXhSaWdodDtcbiAgICAgICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgeDogbGVmdCxcbiAgICAgICAgICAgIHk6IHRvcFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzZXRSZWN0cyA9IGF3YWl0IHBsYXRmb3JtLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgICAgIHJlZmVyZW5jZToge1xuICAgICAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICAgICAgICB9LFxuICAgICAgICBmbG9hdGluZzogZWxlbWVudHMuZmxvYXRpbmcsXG4gICAgICAgIHN0cmF0ZWd5XG4gICAgICB9KTtcbiAgICAgIGlmIChyZWN0cy5yZWZlcmVuY2UueCAhPT0gcmVzZXRSZWN0cy5yZWZlcmVuY2UueCB8fCByZWN0cy5yZWZlcmVuY2UueSAhPT0gcmVzZXRSZWN0cy5yZWZlcmVuY2UueSB8fCByZWN0cy5yZWZlcmVuY2Uud2lkdGggIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLndpZHRoIHx8IHJlY3RzLnJlZmVyZW5jZS5oZWlnaHQgIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLmhlaWdodCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICByZWN0czogcmVzZXRSZWN0c1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG4vLyBGb3IgdHlwZSBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSwgdGhlIGBPZmZzZXRPcHRpb25zYCB0eXBlIHdhcyBhbHNvXG4vLyBEZXJpdmFibGUuXG5cbmFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZVRvQ29vcmRzKHN0YXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQsXG4gICAgcGxhdGZvcm0sXG4gICAgZWxlbWVudHNcbiAgfSA9IHN0YXRlO1xuICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSA9PT0gJ3knO1xuICBjb25zdCBtYWluQXhpc011bHRpID0gWydsZWZ0JywgJ3RvcCddLmluY2x1ZGVzKHNpZGUpID8gLTEgOiAxO1xuICBjb25zdCBjcm9zc0F4aXNNdWx0aSA9IHJ0bCAmJiBpc1ZlcnRpY2FsID8gLTEgOiAxO1xuICBjb25zdCByYXdWYWx1ZSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gIGxldCB7XG4gICAgbWFpbkF4aXMsXG4gICAgY3Jvc3NBeGlzLFxuICAgIGFsaWdubWVudEF4aXNcbiAgfSA9IHR5cGVvZiByYXdWYWx1ZSA9PT0gJ251bWJlcicgPyB7XG4gICAgbWFpbkF4aXM6IHJhd1ZhbHVlLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsXG4gIH0gOiB7XG4gICAgbWFpbkF4aXM6IHJhd1ZhbHVlLm1haW5BeGlzIHx8IDAsXG4gICAgY3Jvc3NBeGlzOiByYXdWYWx1ZS5jcm9zc0F4aXMgfHwgMCxcbiAgICBhbGlnbm1lbnRBeGlzOiByYXdWYWx1ZS5hbGlnbm1lbnRBeGlzXG4gIH07XG4gIGlmIChhbGlnbm1lbnQgJiYgdHlwZW9mIGFsaWdubWVudEF4aXMgPT09ICdudW1iZXInKSB7XG4gICAgY3Jvc3NBeGlzID0gYWxpZ25tZW50ID09PSAnZW5kJyA/IGFsaWdubWVudEF4aXMgKiAtMSA6IGFsaWdubWVudEF4aXM7XG4gIH1cbiAgcmV0dXJuIGlzVmVydGljYWwgPyB7XG4gICAgeDogY3Jvc3NBeGlzICogY3Jvc3NBeGlzTXVsdGksXG4gICAgeTogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpXG4gIH0gOiB7XG4gICAgeDogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpLFxuICAgIHk6IGNyb3NzQXhpcyAqIGNyb3NzQXhpc011bHRpXG4gIH07XG59XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHBsYWNlbWVudCBieSB0cmFuc2xhdGluZyB0aGUgZmxvYXRpbmcgZWxlbWVudCBhbG9uZyB0aGVcbiAqIHNwZWNpZmllZCBheGVzLlxuICogQSBudW1iZXIgKHNob3J0aGFuZCBmb3IgYG1haW5BeGlzYCBvciBkaXN0YW5jZSksIG9yIGFuIGF4ZXMgY29uZmlndXJhdGlvblxuICogb2JqZWN0IG1heSBiZSBwYXNzZWQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvb2Zmc2V0XG4gKi9cbmNvbnN0IG9mZnNldCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0gMDtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdvZmZzZXQnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkb2Zmc2UsIF9taWRkbGV3YXJlRGF0YSRhcnJvdztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBtaWRkbGV3YXJlRGF0YVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3QgZGlmZkNvb3JkcyA9IGF3YWl0IGNvbnZlcnRWYWx1ZVRvQ29vcmRzKHN0YXRlLCBvcHRpb25zKTtcblxuICAgICAgLy8gSWYgdGhlIHBsYWNlbWVudCBpcyB0aGUgc2FtZSBhbmQgdGhlIGFycm93IGNhdXNlZCBhbiBhbGlnbm1lbnQgb2Zmc2V0XG4gICAgICAvLyB0aGVuIHdlIGRvbid0IG5lZWQgdG8gY2hhbmdlIHRoZSBwb3NpdGlvbmluZyBjb29yZGluYXRlcy5cbiAgICAgIGlmIChwbGFjZW1lbnQgPT09ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlID0gbWlkZGxld2FyZURhdGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJG9mZnNlLnBsYWNlbWVudCkgJiYgKF9taWRkbGV3YXJlRGF0YSRhcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSAhPSBudWxsICYmIF9taWRkbGV3YXJlRGF0YSRhcnJvdy5hbGlnbm1lbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCArIGRpZmZDb29yZHMueCxcbiAgICAgICAgeTogeSArIGRpZmZDb29yZHMueSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmRpZmZDb29yZHMsXG4gICAgICAgICAgcGxhY2VtZW50XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgc2hpZnRpbmcgaXQgaW4gb3JkZXIgdG9cbiAqIGtlZXAgaXQgaW4gdmlldyB3aGVuIGl0IHdpbGwgb3ZlcmZsb3cgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NoaWZ0XG4gKi9cbmNvbnN0IHNoaWZ0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdzaGlmdCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBwbGFjZW1lbnRcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWFpbkF4aXM6IGNoZWNrTWFpbkF4aXMgPSB0cnVlLFxuICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gZmFsc2UsXG4gICAgICAgIGxpbWl0ZXIgPSB7XG4gICAgICAgICAgZm46IF9yZWYgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgfSA9IF9yZWY7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICB5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9O1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IGNyb3NzQXhpcyA9IGdldFNpZGVBeGlzKGdldFNpZGUocGxhY2VtZW50KSk7XG4gICAgICBjb25zdCBtYWluQXhpcyA9IGdldE9wcG9zaXRlQXhpcyhjcm9zc0F4aXMpO1xuICAgICAgbGV0IG1haW5BeGlzQ29vcmQgPSBjb29yZHNbbWFpbkF4aXNdO1xuICAgICAgbGV0IGNyb3NzQXhpc0Nvb3JkID0gY29vcmRzW2Nyb3NzQXhpc107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBjb25zdCBtaW5TaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/ICd0b3AnIDogJ2xlZnQnO1xuICAgICAgICBjb25zdCBtYXhTaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICAgICAgY29uc3QgbWluID0gbWFpbkF4aXNDb29yZCArIG92ZXJmbG93W21pblNpZGVdO1xuICAgICAgICBjb25zdCBtYXggPSBtYWluQXhpc0Nvb3JkIC0gb3ZlcmZsb3dbbWF4U2lkZV07XG4gICAgICAgIG1haW5BeGlzQ29vcmQgPSBjbGFtcChtaW4sIG1haW5BeGlzQ29vcmQsIG1heCk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3QgbWluU2lkZSA9IGNyb3NzQXhpcyA9PT0gJ3knID8gJ3RvcCcgOiAnbGVmdCc7XG4gICAgICAgIGNvbnN0IG1heFNpZGUgPSBjcm9zc0F4aXMgPT09ICd5JyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICAgICAgY29uc3QgbWluID0gY3Jvc3NBeGlzQ29vcmQgKyBvdmVyZmxvd1ttaW5TaWRlXTtcbiAgICAgICAgY29uc3QgbWF4ID0gY3Jvc3NBeGlzQ29vcmQgLSBvdmVyZmxvd1ttYXhTaWRlXTtcbiAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBjbGFtcChtaW4sIGNyb3NzQXhpc0Nvb3JkLCBtYXgpO1xuICAgICAgfVxuICAgICAgY29uc3QgbGltaXRlZENvb3JkcyA9IGxpbWl0ZXIuZm4oe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgW21haW5BeGlzXTogbWFpbkF4aXNDb29yZCxcbiAgICAgICAgW2Nyb3NzQXhpc106IGNyb3NzQXhpc0Nvb3JkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmxpbWl0ZWRDb29yZHMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB4OiBsaW1pdGVkQ29vcmRzLnggLSB4LFxuICAgICAgICAgIHk6IGxpbWl0ZWRDb29yZHMueSAtIHksXG4gICAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgICAgW21haW5BeGlzXTogY2hlY2tNYWluQXhpcyxcbiAgICAgICAgICAgIFtjcm9zc0F4aXNdOiBjaGVja0Nyb3NzQXhpc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuLyoqXG4gKiBCdWlsdC1pbiBgbGltaXRlcmAgdGhhdCB3aWxsIHN0b3AgYHNoaWZ0KClgIGF0IGEgY2VydGFpbiBwb2ludC5cbiAqL1xuY29uc3QgbGltaXRTaGlmdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zLFxuICAgIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9mZnNldCA9IDAsXG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IHRydWVcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICAgIHgsXG4gICAgICAgIHlcbiAgICAgIH07XG4gICAgICBjb25zdCBjcm9zc0F4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgbWFpbkF4aXMgPSBnZXRPcHBvc2l0ZUF4aXMoY3Jvc3NBeGlzKTtcbiAgICAgIGxldCBtYWluQXhpc0Nvb3JkID0gY29vcmRzW21haW5BeGlzXTtcbiAgICAgIGxldCBjcm9zc0F4aXNDb29yZCA9IGNvb3Jkc1tjcm9zc0F4aXNdO1xuICAgICAgY29uc3QgcmF3T2Zmc2V0ID0gZXZhbHVhdGUob2Zmc2V0LCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb21wdXRlZE9mZnNldCA9IHR5cGVvZiByYXdPZmZzZXQgPT09ICdudW1iZXInID8ge1xuICAgICAgICBtYWluQXhpczogcmF3T2Zmc2V0LFxuICAgICAgICBjcm9zc0F4aXM6IDBcbiAgICAgIH0gOiB7XG4gICAgICAgIG1haW5BeGlzOiAwLFxuICAgICAgICBjcm9zc0F4aXM6IDAsXG4gICAgICAgIC4uLnJhd09mZnNldFxuICAgICAgfTtcbiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IG1haW5BeGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICAgIGNvbnN0IGxpbWl0TWluID0gcmVjdHMucmVmZXJlbmNlW21haW5BeGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbl0gKyBjb21wdXRlZE9mZnNldC5tYWluQXhpcztcbiAgICAgICAgY29uc3QgbGltaXRNYXggPSByZWN0cy5yZWZlcmVuY2VbbWFpbkF4aXNdICsgcmVjdHMucmVmZXJlbmNlW2xlbl0gLSBjb21wdXRlZE9mZnNldC5tYWluQXhpcztcbiAgICAgICAgaWYgKG1haW5BeGlzQ29vcmQgPCBsaW1pdE1pbikge1xuICAgICAgICAgIG1haW5BeGlzQ29vcmQgPSBsaW1pdE1pbjtcbiAgICAgICAgfSBlbHNlIGlmIChtYWluQXhpc0Nvb3JkID4gbGltaXRNYXgpIHtcbiAgICAgICAgICBtYWluQXhpc0Nvb3JkID0gbGltaXRNYXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjaGVja0Nyb3NzQXhpcykge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJG9mZnNlLCBfbWlkZGxld2FyZURhdGEkb2Zmc2UyO1xuICAgICAgICBjb25zdCBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuICAgICAgICBjb25zdCBpc09yaWdpblNpZGUgPSBbJ3RvcCcsICdsZWZ0J10uaW5jbHVkZXMoZ2V0U2lkZShwbGFjZW1lbnQpKTtcbiAgICAgICAgY29uc3QgbGltaXRNaW4gPSByZWN0cy5yZWZlcmVuY2VbY3Jvc3NBeGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbl0gKyAoaXNPcmlnaW5TaWRlID8gKChfbWlkZGxld2FyZURhdGEkb2Zmc2UgPSBtaWRkbGV3YXJlRGF0YS5vZmZzZXQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkb2Zmc2VbY3Jvc3NBeGlzXSkgfHwgMCA6IDApICsgKGlzT3JpZ2luU2lkZSA/IDAgOiBjb21wdXRlZE9mZnNldC5jcm9zc0F4aXMpO1xuICAgICAgICBjb25zdCBsaW1pdE1heCA9IHJlY3RzLnJlZmVyZW5jZVtjcm9zc0F4aXNdICsgcmVjdHMucmVmZXJlbmNlW2xlbl0gKyAoaXNPcmlnaW5TaWRlID8gMCA6ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlMiA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZTJbY3Jvc3NBeGlzXSkgfHwgMCkgLSAoaXNPcmlnaW5TaWRlID8gY29tcHV0ZWRPZmZzZXQuY3Jvc3NBeGlzIDogMCk7XG4gICAgICAgIGlmIChjcm9zc0F4aXNDb29yZCA8IGxpbWl0TWluKSB7XG4gICAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBsaW1pdE1pbjtcbiAgICAgICAgfSBlbHNlIGlmIChjcm9zc0F4aXNDb29yZCA+IGxpbWl0TWF4KSB7XG4gICAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBsaW1pdE1heDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW21haW5BeGlzXTogbWFpbkF4aXNDb29yZCxcbiAgICAgICAgW2Nyb3NzQXhpc106IGNyb3NzQXhpc0Nvb3JkXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0aGF0IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzaXplIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IFx1MjAxNFxuICogZm9yIGluc3RhbmNlLCBwcmV2ZW50IGl0IGZyb20gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5IG9yIG1hdGNoIHRoZVxuICogd2lkdGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NpemVcbiAqL1xuY29uc3Qgc2l6ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnc2l6ZScsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9zdGF0ZSRtaWRkbGV3YXJlRGF0YSwgX3N0YXRlJG1pZGRsZXdhcmVEYXRhMjtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICByZWN0cyxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGFwcGx5ID0gKCkgPT4ge30sXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBpc1lBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSA9PT0gJ3knO1xuICAgICAgY29uc3Qge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICB9ID0gcmVjdHMuZmxvYXRpbmc7XG4gICAgICBsZXQgaGVpZ2h0U2lkZTtcbiAgICAgIGxldCB3aWR0aFNpZGU7XG4gICAgICBpZiAoc2lkZSA9PT0gJ3RvcCcgfHwgc2lkZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgaGVpZ2h0U2lkZSA9IHNpZGU7XG4gICAgICAgIHdpZHRoU2lkZSA9IGFsaWdubWVudCA9PT0gKChhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSkpID8gJ3N0YXJ0JyA6ICdlbmQnKSA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aFNpZGUgPSBzaWRlO1xuICAgICAgICBoZWlnaHRTaWRlID0gYWxpZ25tZW50ID09PSAnZW5kJyA/ICd0b3AnIDogJ2JvdHRvbSc7XG4gICAgICB9XG4gICAgICBjb25zdCBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQgPSBoZWlnaHQgLSBvdmVyZmxvdy50b3AgLSBvdmVyZmxvdy5ib3R0b207XG4gICAgICBjb25zdCBtYXhpbXVtQ2xpcHBpbmdXaWR0aCA9IHdpZHRoIC0gb3ZlcmZsb3cubGVmdCAtIG92ZXJmbG93LnJpZ2h0O1xuICAgICAgY29uc3Qgb3ZlcmZsb3dBdmFpbGFibGVIZWlnaHQgPSBtaW4oaGVpZ2h0IC0gb3ZlcmZsb3dbaGVpZ2h0U2lkZV0sIG1heGltdW1DbGlwcGluZ0hlaWdodCk7XG4gICAgICBjb25zdCBvdmVyZmxvd0F2YWlsYWJsZVdpZHRoID0gbWluKHdpZHRoIC0gb3ZlcmZsb3dbd2lkdGhTaWRlXSwgbWF4aW11bUNsaXBwaW5nV2lkdGgpO1xuICAgICAgY29uc3Qgbm9TaGlmdCA9ICFzdGF0ZS5taWRkbGV3YXJlRGF0YS5zaGlmdDtcbiAgICAgIGxldCBhdmFpbGFibGVIZWlnaHQgPSBvdmVyZmxvd0F2YWlsYWJsZUhlaWdodDtcbiAgICAgIGxldCBhdmFpbGFibGVXaWR0aCA9IG92ZXJmbG93QXZhaWxhYmxlV2lkdGg7XG4gICAgICBpZiAoKF9zdGF0ZSRtaWRkbGV3YXJlRGF0YSA9IHN0YXRlLm1pZGRsZXdhcmVEYXRhLnNoaWZ0KSAhPSBudWxsICYmIF9zdGF0ZSRtaWRkbGV3YXJlRGF0YS5lbmFibGVkLngpIHtcbiAgICAgICAgYXZhaWxhYmxlV2lkdGggPSBtYXhpbXVtQ2xpcHBpbmdXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmICgoX3N0YXRlJG1pZGRsZXdhcmVEYXRhMiA9IHN0YXRlLm1pZGRsZXdhcmVEYXRhLnNoaWZ0KSAhPSBudWxsICYmIF9zdGF0ZSRtaWRkbGV3YXJlRGF0YTIuZW5hYmxlZC55KSB7XG4gICAgICAgIGF2YWlsYWJsZUhlaWdodCA9IG1heGltdW1DbGlwcGluZ0hlaWdodDtcbiAgICAgIH1cbiAgICAgIGlmIChub1NoaWZ0ICYmICFhbGlnbm1lbnQpIHtcbiAgICAgICAgY29uc3QgeE1pbiA9IG1heChvdmVyZmxvdy5sZWZ0LCAwKTtcbiAgICAgICAgY29uc3QgeE1heCA9IG1heChvdmVyZmxvdy5yaWdodCwgMCk7XG4gICAgICAgIGNvbnN0IHlNaW4gPSBtYXgob3ZlcmZsb3cudG9wLCAwKTtcbiAgICAgICAgY29uc3QgeU1heCA9IG1heChvdmVyZmxvdy5ib3R0b20sIDApO1xuICAgICAgICBpZiAoaXNZQXhpcykge1xuICAgICAgICAgIGF2YWlsYWJsZVdpZHRoID0gd2lkdGggLSAyICogKHhNaW4gIT09IDAgfHwgeE1heCAhPT0gMCA/IHhNaW4gKyB4TWF4IDogbWF4KG92ZXJmbG93LmxlZnQsIG92ZXJmbG93LnJpZ2h0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXZhaWxhYmxlSGVpZ2h0ID0gaGVpZ2h0IC0gMiAqICh5TWluICE9PSAwIHx8IHlNYXggIT09IDAgPyB5TWluICsgeU1heCA6IG1heChvdmVyZmxvdy50b3AsIG92ZXJmbG93LmJvdHRvbSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhd2FpdCBhcHBseSh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhdmFpbGFibGVXaWR0aCxcbiAgICAgICAgYXZhaWxhYmxlSGVpZ2h0XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5leHREaW1lbnNpb25zID0gYXdhaXQgcGxhdGZvcm0uZ2V0RGltZW5zaW9ucyhlbGVtZW50cy5mbG9hdGluZyk7XG4gICAgICBpZiAod2lkdGggIT09IG5leHREaW1lbnNpb25zLndpZHRoIHx8IGhlaWdodCAhPT0gbmV4dERpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHJlY3RzOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCB7IGFycm93LCBhdXRvUGxhY2VtZW50LCBjb21wdXRlUG9zaXRpb24sIGRldGVjdE92ZXJmbG93LCBmbGlwLCBoaWRlLCBpbmxpbmUsIGxpbWl0U2hpZnQsIG9mZnNldCwgc2hpZnQsIHNpemUgfTtcbiIsICIvKipcbiAqIEN1c3RvbSBwb3NpdGlvbmluZyByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy92aXJ0dWFsLWVsZW1lbnRzXG4gKi9cblxuY29uc3Qgc2lkZXMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddO1xuY29uc3QgYWxpZ25tZW50cyA9IFsnc3RhcnQnLCAnZW5kJ107XG5jb25zdCBwbGFjZW1lbnRzID0gLyojX19QVVJFX18qL3NpZGVzLnJlZHVjZSgoYWNjLCBzaWRlKSA9PiBhY2MuY29uY2F0KHNpZGUsIHNpZGUgKyBcIi1cIiArIGFsaWdubWVudHNbMF0sIHNpZGUgKyBcIi1cIiArIGFsaWdubWVudHNbMV0pLCBbXSk7XG5jb25zdCBtaW4gPSBNYXRoLm1pbjtcbmNvbnN0IG1heCA9IE1hdGgubWF4O1xuY29uc3Qgcm91bmQgPSBNYXRoLnJvdW5kO1xuY29uc3QgZmxvb3IgPSBNYXRoLmZsb29yO1xuY29uc3QgY3JlYXRlQ29vcmRzID0gdiA9PiAoe1xuICB4OiB2LFxuICB5OiB2XG59KTtcbmNvbnN0IG9wcG9zaXRlU2lkZU1hcCA9IHtcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgYm90dG9tOiAndG9wJyxcbiAgdG9wOiAnYm90dG9tJ1xufTtcbmNvbnN0IG9wcG9zaXRlQWxpZ25tZW50TWFwID0ge1xuICBzdGFydDogJ2VuZCcsXG4gIGVuZDogJ3N0YXJ0J1xufTtcbmZ1bmN0aW9uIGNsYW1wKHN0YXJ0LCB2YWx1ZSwgZW5kKSB7XG4gIHJldHVybiBtYXgoc3RhcnQsIG1pbih2YWx1ZSwgZW5kKSk7XG59XG5mdW5jdGlvbiBldmFsdWF0ZSh2YWx1ZSwgcGFyYW0pIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlKHBhcmFtKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gZ2V0U2lkZShwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUF4aXMoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnO1xufVxuZnVuY3Rpb24gZ2V0QXhpc0xlbmd0aChheGlzKSB7XG4gIHJldHVybiBheGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG59XG5mdW5jdGlvbiBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIFsndG9wJywgJ2JvdHRvbSddLmluY2x1ZGVzKGdldFNpZGUocGxhY2VtZW50KSkgPyAneScgOiAneCc7XG59XG5mdW5jdGlvbiBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCkge1xuICByZXR1cm4gZ2V0T3Bwb3NpdGVBeGlzKGdldFNpZGVBeGlzKHBsYWNlbWVudCkpO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50U2lkZXMocGxhY2VtZW50LCByZWN0cywgcnRsKSB7XG4gIGlmIChydGwgPT09IHZvaWQgMCkge1xuICAgIHJ0bCA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnRBeGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBsZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGFsaWdubWVudEF4aXMpO1xuICBsZXQgbWFpbkFsaWdubWVudFNpZGUgPSBhbGlnbm1lbnRBeGlzID09PSAneCcgPyBhbGlnbm1lbnQgPT09IChydGwgPyAnZW5kJyA6ICdzdGFydCcpID8gJ3JpZ2h0JyA6ICdsZWZ0JyA6IGFsaWdubWVudCA9PT0gJ3N0YXJ0JyA/ICdib3R0b20nIDogJ3RvcCc7XG4gIGlmIChyZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSA+IHJlY3RzLmZsb2F0aW5nW2xlbmd0aF0pIHtcbiAgICBtYWluQWxpZ25tZW50U2lkZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5BbGlnbm1lbnRTaWRlKTtcbiAgfVxuICByZXR1cm4gW21haW5BbGlnbm1lbnRTaWRlLCBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluQWxpZ25tZW50U2lkZSldO1xufVxuZnVuY3Rpb24gZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKHBsYWNlbWVudCkge1xuICBjb25zdCBvcHBvc2l0ZVBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHJldHVybiBbZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSwgb3Bwb3NpdGVQbGFjZW1lbnQsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KG9wcG9zaXRlUGxhY2VtZW50KV07XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9zdGFydHxlbmQvZywgYWxpZ25tZW50ID0+IG9wcG9zaXRlQWxpZ25tZW50TWFwW2FsaWdubWVudF0pO1xufVxuZnVuY3Rpb24gZ2V0U2lkZUxpc3Qoc2lkZSwgaXNTdGFydCwgcnRsKSB7XG4gIGNvbnN0IGxyID0gWydsZWZ0JywgJ3JpZ2h0J107XG4gIGNvbnN0IHJsID0gWydyaWdodCcsICdsZWZ0J107XG4gIGNvbnN0IHRiID0gWyd0b3AnLCAnYm90dG9tJ107XG4gIGNvbnN0IGJ0ID0gWydib3R0b20nLCAndG9wJ107XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIGlmIChydGwpIHJldHVybiBpc1N0YXJ0ID8gcmwgOiBscjtcbiAgICAgIHJldHVybiBpc1N0YXJ0ID8gbHIgOiBybDtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4gaXNTdGFydCA/IHRiIDogYnQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBbXTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cyhwbGFjZW1lbnQsIGZsaXBBbGlnbm1lbnQsIGRpcmVjdGlvbiwgcnRsKSB7XG4gIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICBsZXQgbGlzdCA9IGdldFNpZGVMaXN0KGdldFNpZGUocGxhY2VtZW50KSwgZGlyZWN0aW9uID09PSAnc3RhcnQnLCBydGwpO1xuICBpZiAoYWxpZ25tZW50KSB7XG4gICAgbGlzdCA9IGxpc3QubWFwKHNpZGUgPT4gc2lkZSArIFwiLVwiICsgYWxpZ25tZW50KTtcbiAgICBpZiAoZmxpcEFsaWdubWVudCkge1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KGxpc3QubWFwKGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0O1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIHNpZGUgPT4gb3Bwb3NpdGVTaWRlTWFwW3NpZGVdKTtcbn1cbmZ1bmN0aW9uIGV4cGFuZFBhZGRpbmdPYmplY3QocGFkZGluZykge1xuICByZXR1cm4ge1xuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMCxcbiAgICAuLi5wYWRkaW5nXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBwYWRkaW5nICE9PSAnbnVtYmVyJyA/IGV4cGFuZFBhZGRpbmdPYmplY3QocGFkZGluZykgOiB7XG4gICAgdG9wOiBwYWRkaW5nLFxuICAgIHJpZ2h0OiBwYWRkaW5nLFxuICAgIGJvdHRvbTogcGFkZGluZyxcbiAgICBsZWZ0OiBwYWRkaW5nXG4gIH07XG59XG5mdW5jdGlvbiByZWN0VG9DbGllbnRSZWN0KHJlY3QpIHtcbiAgY29uc3Qge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfSA9IHJlY3Q7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHRvcDogeSxcbiAgICBsZWZ0OiB4LFxuICAgIHJpZ2h0OiB4ICsgd2lkdGgsXG4gICAgYm90dG9tOiB5ICsgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG5leHBvcnQgeyBhbGlnbm1lbnRzLCBjbGFtcCwgY3JlYXRlQ29vcmRzLCBldmFsdWF0ZSwgZXhwYW5kUGFkZGluZ09iamVjdCwgZmxvb3IsIGdldEFsaWdubWVudCwgZ2V0QWxpZ25tZW50QXhpcywgZ2V0QWxpZ25tZW50U2lkZXMsIGdldEF4aXNMZW5ndGgsIGdldEV4cGFuZGVkUGxhY2VtZW50cywgZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQsIGdldE9wcG9zaXRlQXhpcywgZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cywgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQsIGdldFBhZGRpbmdPYmplY3QsIGdldFNpZGUsIGdldFNpZGVBeGlzLCBtYXgsIG1pbiwgcGxhY2VtZW50cywgcmVjdFRvQ2xpZW50UmVjdCwgcm91bmQsIHNpZGVzIH07XG4iLCAiZnVuY3Rpb24gaGFzV2luZG93KCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG59XG5mdW5jdGlvbiBnZXROb2RlTmFtZShub2RlKSB7XG4gIGlmIChpc05vZGUobm9kZSkpIHtcbiAgICByZXR1cm4gKG5vZGUubm9kZU5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLy8gTW9ja2VkIG5vZGVzIGluIHRlc3RpbmcgZW52aXJvbm1lbnRzIG1heSBub3QgYmUgaW5zdGFuY2VzIG9mIE5vZGUuIEJ5XG4gIC8vIHJldHVybmluZyBgI2RvY3VtZW50YCBhbiBpbmZpbml0ZSBsb29wIHdvbid0IG9jY3VyLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmxvYXRpbmctdWkvZmxvYXRpbmctdWkvaXNzdWVzLzIzMTdcbiAgcmV0dXJuICcjZG9jdW1lbnQnO1xufVxuZnVuY3Rpb24gZ2V0V2luZG93KG5vZGUpIHtcbiAgdmFyIF9ub2RlJG93bmVyRG9jdW1lbnQ7XG4gIHJldHVybiAobm9kZSA9PSBudWxsIHx8IChfbm9kZSRvd25lckRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX25vZGUkb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgfHwgd2luZG93O1xufVxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRFbGVtZW50KG5vZGUpIHtcbiAgdmFyIF9yZWY7XG4gIHJldHVybiAoX3JlZiA9IChpc05vZGUobm9kZSkgPyBub2RlLm93bmVyRG9jdW1lbnQgOiBub2RlLmRvY3VtZW50KSB8fCB3aW5kb3cuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfcmVmLmRvY3VtZW50RWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzTm9kZSh2YWx1ZSkge1xuICBpZiAoIWhhc1dpbmRvdygpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIE5vZGUgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLk5vZGU7XG59XG5mdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgaWYgKCFoYXNXaW5kb3coKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBFbGVtZW50IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5FbGVtZW50O1xufVxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudCh2YWx1ZSkge1xuICBpZiAoIWhhc1dpbmRvdygpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5IVE1MRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzU2hhZG93Um9vdCh2YWx1ZSkge1xuICBpZiAoIWhhc1dpbmRvdygpIHx8IHR5cGVvZiBTaGFkb3dSb290ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTaGFkb3dSb290IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5TaGFkb3dSb290O1xufVxuZnVuY3Rpb24gaXNPdmVyZmxvd0VsZW1lbnQoZWxlbWVudCkge1xuICBjb25zdCB7XG4gICAgb3ZlcmZsb3csXG4gICAgb3ZlcmZsb3dYLFxuICAgIG92ZXJmbG93WSxcbiAgICBkaXNwbGF5XG4gIH0gPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVufGNsaXAvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpICYmICFbJ2lubGluZScsICdjb250ZW50cyddLmluY2x1ZGVzKGRpc3BsYXkpO1xufVxuZnVuY3Rpb24gaXNUYWJsZUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gWyd0YWJsZScsICd0ZCcsICd0aCddLmluY2x1ZGVzKGdldE5vZGVOYW1lKGVsZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIGlzVG9wTGF5ZXIoZWxlbWVudCkge1xuICByZXR1cm4gWyc6cG9wb3Zlci1vcGVuJywgJzptb2RhbCddLnNvbWUoc2VsZWN0b3IgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGlzQ29udGFpbmluZ0Jsb2NrKGVsZW1lbnRPckNzcykge1xuICBjb25zdCB3ZWJraXQgPSBpc1dlYktpdCgpO1xuICBjb25zdCBjc3MgPSBpc0VsZW1lbnQoZWxlbWVudE9yQ3NzKSA/IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudE9yQ3NzKSA6IGVsZW1lbnRPckNzcztcblxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQ29udGFpbmluZ19ibG9jayNpZGVudGlmeWluZ190aGVfY29udGFpbmluZ19ibG9ja1xuICAvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXRyYW5zZm9ybXMtMi8jaW5kaXZpZHVhbC10cmFuc2Zvcm1zXG4gIHJldHVybiBbJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUnLCAnc2NhbGUnLCAncm90YXRlJywgJ3BlcnNwZWN0aXZlJ10uc29tZSh2YWx1ZSA9PiBjc3NbdmFsdWVdID8gY3NzW3ZhbHVlXSAhPT0gJ25vbmUnIDogZmFsc2UpIHx8IChjc3MuY29udGFpbmVyVHlwZSA/IGNzcy5jb250YWluZXJUeXBlICE9PSAnbm9ybWFsJyA6IGZhbHNlKSB8fCAhd2Via2l0ICYmIChjc3MuYmFja2Ryb3BGaWx0ZXIgPyBjc3MuYmFja2Ryb3BGaWx0ZXIgIT09ICdub25lJyA6IGZhbHNlKSB8fCAhd2Via2l0ICYmIChjc3MuZmlsdGVyID8gY3NzLmZpbHRlciAhPT0gJ25vbmUnIDogZmFsc2UpIHx8IFsndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZScsICdzY2FsZScsICdyb3RhdGUnLCAncGVyc3BlY3RpdmUnLCAnZmlsdGVyJ10uc29tZSh2YWx1ZSA9PiAoY3NzLndpbGxDaGFuZ2UgfHwgJycpLmluY2x1ZGVzKHZhbHVlKSkgfHwgWydwYWludCcsICdsYXlvdXQnLCAnc3RyaWN0JywgJ2NvbnRlbnQnXS5zb21lKHZhbHVlID0+IChjc3MuY29udGFpbiB8fCAnJykuaW5jbHVkZXModmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB7XG4gIGxldCBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gIHdoaWxlIChpc0hUTUxFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKGN1cnJlbnROb2RlKSkge1xuICAgIGlmIChpc0NvbnRhaW5pbmdCbG9jayhjdXJyZW50Tm9kZSkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9IGVsc2UgaWYgKGlzVG9wTGF5ZXIoY3VycmVudE5vZGUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzV2ViS2l0KCkge1xuICBpZiAodHlwZW9mIENTUyA9PT0gJ3VuZGVmaW5lZCcgfHwgIUNTUy5zdXBwb3J0cykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gQ1NTLnN1cHBvcnRzKCctd2Via2l0LWJhY2tkcm9wLWZpbHRlcicsICdub25lJyk7XG59XG5mdW5jdGlvbiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUobm9kZSkge1xuICByZXR1cm4gWydodG1sJywgJ2JvZHknLCAnI2RvY3VtZW50J10uaW5jbHVkZXMoZ2V0Tm9kZU5hbWUobm9kZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGdldE5vZGVTY3JvbGwoZWxlbWVudCkge1xuICBpZiAoaXNFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcm9sbExlZnQ6IGVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxUb3BcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxYLFxuICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxZXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYXJlbnROb2RlKG5vZGUpIHtcbiAgaWYgKGdldE5vZGVOYW1lKG5vZGUpID09PSAnaHRtbCcpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPVxuICAvLyBTdGVwIGludG8gdGhlIHNoYWRvdyBET00gb2YgdGhlIHBhcmVudCBvZiBhIHNsb3R0ZWQgbm9kZS5cbiAgbm9kZS5hc3NpZ25lZFNsb3QgfHxcbiAgLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWQuXG4gIG5vZGUucGFyZW50Tm9kZSB8fFxuICAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxuICBpc1NoYWRvd1Jvb3Qobm9kZSkgJiYgbm9kZS5ob3N0IHx8XG4gIC8vIEZhbGxiYWNrLlxuICBnZXREb2N1bWVudEVsZW1lbnQobm9kZSk7XG4gIHJldHVybiBpc1NoYWRvd1Jvb3QocmVzdWx0KSA/IHJlc3VsdC5ob3N0IDogcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0TmVhcmVzdE92ZXJmbG93QW5jZXN0b3Iobm9kZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShub2RlKTtcbiAgaWYgKGlzTGFzdFRyYXZlcnNhYmxlTm9kZShwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgPyBub2RlLm93bmVyRG9jdW1lbnQuYm9keSA6IG5vZGUuYm9keTtcbiAgfVxuICBpZiAoaXNIVE1MRWxlbWVudChwYXJlbnROb2RlKSAmJiBpc092ZXJmbG93RWxlbWVudChwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBwYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3RvcihwYXJlbnROb2RlKTtcbn1cbmZ1bmN0aW9uIGdldE92ZXJmbG93QW5jZXN0b3JzKG5vZGUsIGxpc3QsIHRyYXZlcnNlSWZyYW1lcykge1xuICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDI7XG4gIGlmIChsaXN0ID09PSB2b2lkIDApIHtcbiAgICBsaXN0ID0gW107XG4gIH1cbiAgaWYgKHRyYXZlcnNlSWZyYW1lcyA9PT0gdm9pZCAwKSB7XG4gICAgdHJhdmVyc2VJZnJhbWVzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzY3JvbGxhYmxlQW5jZXN0b3IgPSBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKTtcbiAgY29uc3QgaXNCb2R5ID0gc2Nyb2xsYWJsZUFuY2VzdG9yID09PSAoKF9ub2RlJG93bmVyRG9jdW1lbnQyID0gbm9kZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX25vZGUkb3duZXJEb2N1bWVudDIuYm9keSk7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhzY3JvbGxhYmxlQW5jZXN0b3IpO1xuICBpZiAoaXNCb2R5KSB7XG4gICAgY29uc3QgZnJhbWVFbGVtZW50ID0gZ2V0RnJhbWVFbGVtZW50KHdpbik7XG4gICAgcmV0dXJuIGxpc3QuY29uY2F0KHdpbiwgd2luLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBpc092ZXJmbG93RWxlbWVudChzY3JvbGxhYmxlQW5jZXN0b3IpID8gc2Nyb2xsYWJsZUFuY2VzdG9yIDogW10sIGZyYW1lRWxlbWVudCAmJiB0cmF2ZXJzZUlmcmFtZXMgPyBnZXRPdmVyZmxvd0FuY2VzdG9ycyhmcmFtZUVsZW1lbnQpIDogW10pO1xuICB9XG4gIHJldHVybiBsaXN0LmNvbmNhdChzY3JvbGxhYmxlQW5jZXN0b3IsIGdldE92ZXJmbG93QW5jZXN0b3JzKHNjcm9sbGFibGVBbmNlc3RvciwgW10sIHRyYXZlcnNlSWZyYW1lcykpO1xufVxuZnVuY3Rpb24gZ2V0RnJhbWVFbGVtZW50KHdpbikge1xuICByZXR1cm4gd2luLnBhcmVudCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yod2luLnBhcmVudCkgPyB3aW4uZnJhbWVFbGVtZW50IDogbnVsbDtcbn1cblxuZXhwb3J0IHsgZ2V0Q29tcHV0ZWRTdHlsZSwgZ2V0Q29udGFpbmluZ0Jsb2NrLCBnZXREb2N1bWVudEVsZW1lbnQsIGdldEZyYW1lRWxlbWVudCwgZ2V0TmVhcmVzdE92ZXJmbG93QW5jZXN0b3IsIGdldE5vZGVOYW1lLCBnZXROb2RlU2Nyb2xsLCBnZXRPdmVyZmxvd0FuY2VzdG9ycywgZ2V0UGFyZW50Tm9kZSwgZ2V0V2luZG93LCBpc0NvbnRhaW5pbmdCbG9jaywgaXNFbGVtZW50LCBpc0hUTUxFbGVtZW50LCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUsIGlzTm9kZSwgaXNPdmVyZmxvd0VsZW1lbnQsIGlzU2hhZG93Um9vdCwgaXNUYWJsZUVsZW1lbnQsIGlzVG9wTGF5ZXIsIGlzV2ViS2l0IH07XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZSc7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFycm93XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IE5BTUUgPSAnQXJyb3cnO1xuXG50eXBlIEFycm93RWxlbWVudCA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5zdmc+O1xudHlwZSBQcmltaXRpdmVTdmdQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUHJpbWl0aXZlLnN2Zz47XG5pbnRlcmZhY2UgQXJyb3dQcm9wcyBleHRlbmRzIFByaW1pdGl2ZVN2Z1Byb3BzIHt9XG5cbmNvbnN0IEFycm93ID0gUmVhY3QuZm9yd2FyZFJlZjxBcnJvd0VsZW1lbnQsIEFycm93UHJvcHM+KChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIHdpZHRoID0gMTAsIGhlaWdodCA9IDUsIC4uLmFycm93UHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxQcmltaXRpdmUuc3ZnXG4gICAgICB7Li4uYXJyb3dQcm9wc31cbiAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICB2aWV3Qm94PVwiMCAwIDMwIDEwXCJcbiAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCJcbiAgICA+XG4gICAgICB7LyogV2UgdXNlIHRoZWlyIGNoaWxkcmVuIGlmIHRoZXkncmUgc2xvdHRpbmcgdG8gcmVwbGFjZSB0aGUgd2hvbGUgc3ZnICovfVxuICAgICAge3Byb3BzLmFzQ2hpbGQgPyBjaGlsZHJlbiA6IDxwb2x5Z29uIHBvaW50cz1cIjAsMCAzMCwwIDE1LDEwXCIgLz59XG4gICAgPC9QcmltaXRpdmUuc3ZnPlxuICApO1xufSk7XG5cbkFycm93LmRpc3BsYXlOYW1lID0gTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBSb290ID0gQXJyb3c7XG5cbmV4cG9ydCB7XG4gIEFycm93LFxuICAvL1xuICBSb290LFxufTtcbmV4cG9ydCB0eXBlIHsgQXJyb3dQcm9wcyB9O1xuIiwgIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwicmVzaXplLW9ic2VydmVyLWJyb3dzZXJcIiAvPlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtdXNlLWxheW91dC1lZmZlY3QnO1xuXG5mdW5jdGlvbiB1c2VTaXplKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCkge1xuICBjb25zdCBbc2l6ZSwgc2V0U2l6ZV0gPSBSZWFjdC51c2VTdGF0ZTx7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgLy8gcHJvdmlkZSBzaXplIGFzIGVhcmx5IGFzIHBvc3NpYmxlXG4gICAgICBzZXRTaXplKHsgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgfSk7XG5cbiAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyaWVzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmNlIHdlIG9ubHkgb2JzZXJ2ZSB0aGUgb25lIGVsZW1lbnQsIHdlIGRvbid0IG5lZWQgdG8gbG9vcCBvdmVyIHRoZVxuICAgICAgICAvLyBhcnJheVxuICAgICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzWzBdO1xuICAgICAgICBsZXQgd2lkdGg6IG51bWJlcjtcbiAgICAgICAgbGV0IGhlaWdodDogbnVtYmVyO1xuXG4gICAgICAgIGlmICgnYm9yZGVyQm94U2l6ZScgaW4gZW50cnkpIHtcbiAgICAgICAgICBjb25zdCBib3JkZXJTaXplRW50cnkgPSBlbnRyeVsnYm9yZGVyQm94U2l6ZSddO1xuICAgICAgICAgIC8vIGlyb24gb3V0IGRpZmZlcmVuY2VzIGJldHdlZW4gYnJvd3NlcnNcbiAgICAgICAgICBjb25zdCBib3JkZXJTaXplID0gQXJyYXkuaXNBcnJheShib3JkZXJTaXplRW50cnkpID8gYm9yZGVyU2l6ZUVudHJ5WzBdIDogYm9yZGVyU2l6ZUVudHJ5O1xuICAgICAgICAgIHdpZHRoID0gYm9yZGVyU2l6ZVsnaW5saW5lU2l6ZSddO1xuICAgICAgICAgIGhlaWdodCA9IGJvcmRlclNpemVbJ2Jsb2NrU2l6ZSddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgYGJvcmRlckJveFNpemVgXG4gICAgICAgICAgLy8gd2UgY2FsY3VsYXRlIGl0IG91cnNlbHZlcyB0byBnZXQgdGhlIGNvcnJlY3QgYm9yZGVyIGJveC5cbiAgICAgICAgICB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTaXplKHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHsgYm94OiAnYm9yZGVyLWJveCcgfSk7XG5cbiAgICAgIHJldHVybiAoKSA9PiByZXNpemVPYnNlcnZlci51bm9ic2VydmUoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIG9ubHkgd2FudCB0byByZXNldCB0byBgdW5kZWZpbmVkYCB3aGVuIHRoZSBlbGVtZW50IGJlY29tZXMgYG51bGxgLFxuICAgICAgLy8gbm90IGlmIGl0IGNoYW5nZXMgdG8gYW5vdGhlciBlbGVtZW50LlxuICAgICAgc2V0U2l6ZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgfSwgW2VsZW1lbnRdKTtcblxuICByZXR1cm4gc2l6ZTtcbn1cblxuZXhwb3J0IHsgdXNlU2l6ZSB9O1xuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZSc7XG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtdXNlLWxheW91dC1lZmZlY3QnO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQb3J0YWxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgUE9SVEFMX05BTUUgPSAnUG9ydGFsJztcblxudHlwZSBQb3J0YWxFbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG50eXBlIFByaW1pdGl2ZURpdlByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbmludGVyZmFjZSBQb3J0YWxQcm9wcyBleHRlbmRzIFByaW1pdGl2ZURpdlByb3BzIHtcbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGNvbnRhaW5lciB3aGVyZSB0aGUgcG9ydGFsZWQgY29udGVudCBzaG91bGQgYmUgYXBwZW5kZWQuXG4gICAqL1xuICBjb250YWluZXI/OiBFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCB8IG51bGw7XG59XG5cbmNvbnN0IFBvcnRhbCA9IFJlYWN0LmZvcndhcmRSZWY8UG9ydGFsRWxlbWVudCwgUG9ydGFsUHJvcHM+KChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHsgY29udGFpbmVyOiBjb250YWluZXJQcm9wLCAuLi5wb3J0YWxQcm9wcyB9ID0gcHJvcHM7XG4gIGNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHNldE1vdW50ZWQodHJ1ZSksIFtdKTtcbiAgY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUHJvcCB8fCAobW91bnRlZCAmJiBnbG9iYWxUaGlzPy5kb2N1bWVudD8uYm9keSk7XG4gIHJldHVybiBjb250YWluZXJcbiAgICA/IFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCg8UHJpbWl0aXZlLmRpdiB7Li4ucG9ydGFsUHJvcHN9IHJlZj17Zm9yd2FyZGVkUmVmfSAvPiwgY29udGFpbmVyKVxuICAgIDogbnVsbDtcbn0pO1xuXG5Qb3J0YWwuZGlzcGxheU5hbWUgPSBQT1JUQUxfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBSb290ID0gUG9ydGFsO1xuXG5leHBvcnQge1xuICBQb3J0YWwsXG4gIC8vXG4gIFJvb3QsXG59O1xuZXhwb3J0IHR5cGUgeyBQb3J0YWxQcm9wcyB9O1xuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNhbGxiYWNrUmVmIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWYnO1xuXG50eXBlIFVzZUNvbnRyb2xsYWJsZVN0YXRlUGFyYW1zPFQ+ID0ge1xuICBwcm9wPzogVCB8IHVuZGVmaW5lZDtcbiAgZGVmYXVsdFByb3A/OiBUIHwgdW5kZWZpbmVkO1xuICBvbkNoYW5nZT86IChzdGF0ZTogVCkgPT4gdm9pZDtcbn07XG5cbnR5cGUgU2V0U3RhdGVGbjxUPiA9IChwcmV2U3RhdGU/OiBUKSA9PiBUO1xuXG5mdW5jdGlvbiB1c2VDb250cm9sbGFibGVTdGF0ZTxUPih7XG4gIHByb3AsXG4gIGRlZmF1bHRQcm9wLFxuICBvbkNoYW5nZSA9ICgpID0+IHt9LFxufTogVXNlQ29udHJvbGxhYmxlU3RhdGVQYXJhbXM8VD4pIHtcbiAgY29uc3QgW3VuY29udHJvbGxlZFByb3AsIHNldFVuY29udHJvbGxlZFByb3BdID0gdXNlVW5jb250cm9sbGVkU3RhdGUoeyBkZWZhdWx0UHJvcCwgb25DaGFuZ2UgfSk7XG4gIGNvbnN0IGlzQ29udHJvbGxlZCA9IHByb3AgIT09IHVuZGVmaW5lZDtcbiAgY29uc3QgdmFsdWUgPSBpc0NvbnRyb2xsZWQgPyBwcm9wIDogdW5jb250cm9sbGVkUHJvcDtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2tSZWYob25DaGFuZ2UpO1xuXG4gIGNvbnN0IHNldFZhbHVlOiBSZWFjdC5EaXNwYXRjaDxSZWFjdC5TZXRTdGF0ZUFjdGlvbjxUIHwgdW5kZWZpbmVkPj4gPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAobmV4dFZhbHVlKSA9PiB7XG4gICAgICBpZiAoaXNDb250cm9sbGVkKSB7XG4gICAgICAgIGNvbnN0IHNldHRlciA9IG5leHRWYWx1ZSBhcyBTZXRTdGF0ZUZuPFQ+O1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiBuZXh0VmFsdWUgPT09ICdmdW5jdGlvbicgPyBzZXR0ZXIocHJvcCkgOiBuZXh0VmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gcHJvcCkgaGFuZGxlQ2hhbmdlKHZhbHVlIGFzIFQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VW5jb250cm9sbGVkUHJvcChuZXh0VmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2lzQ29udHJvbGxlZCwgcHJvcCwgc2V0VW5jb250cm9sbGVkUHJvcCwgaGFuZGxlQ2hhbmdlXVxuICApO1xuXG4gIHJldHVybiBbdmFsdWUsIHNldFZhbHVlXSBhcyBjb25zdDtcbn1cblxuZnVuY3Rpb24gdXNlVW5jb250cm9sbGVkU3RhdGU8VD4oe1xuICBkZWZhdWx0UHJvcCxcbiAgb25DaGFuZ2UsXG59OiBPbWl0PFVzZUNvbnRyb2xsYWJsZVN0YXRlUGFyYW1zPFQ+LCAncHJvcCc+KSB7XG4gIGNvbnN0IHVuY29udHJvbGxlZFN0YXRlID0gUmVhY3QudXNlU3RhdGU8VCB8IHVuZGVmaW5lZD4oZGVmYXVsdFByb3ApO1xuICBjb25zdCBbdmFsdWVdID0gdW5jb250cm9sbGVkU3RhdGU7XG4gIGNvbnN0IHByZXZWYWx1ZVJlZiA9IFJlYWN0LnVzZVJlZih2YWx1ZSk7XG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrUmVmKG9uQ2hhbmdlKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcmV2VmFsdWVSZWYuY3VycmVudCAhPT0gdmFsdWUpIHtcbiAgICAgIGhhbmRsZUNoYW5nZSh2YWx1ZSBhcyBUKTtcbiAgICAgIHByZXZWYWx1ZVJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgfVxuICB9LCBbdmFsdWUsIHByZXZWYWx1ZVJlZiwgaGFuZGxlQ2hhbmdlXSk7XG5cbiAgcmV0dXJuIHVuY29udHJvbGxlZFN0YXRlO1xufVxuXG5leHBvcnQgeyB1c2VDb250cm9sbGFibGVTdGF0ZSB9O1xuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlUHJldmlvdXM8VD4odmFsdWU6IFQpIHtcbiAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKHsgdmFsdWUsIHByZXZpb3VzOiB2YWx1ZSB9KTtcblxuICAvLyBXZSBjb21wYXJlIHZhbHVlcyBiZWZvcmUgbWFraW5nIGFuIHVwZGF0ZSB0byBlbnN1cmUgdGhhdFxuICAvLyBhIGNoYW5nZSBoYXMgYmVlbiBtYWRlLiBUaGlzIGVuc3VyZXMgdGhlIHByZXZpb3VzIHZhbHVlIGlzXG4gIC8vIHBlcnNpc3RlZCBjb3JyZWN0bHkgYmV0d2VlbiByZW5kZXJzLlxuICByZXR1cm4gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHJlZi5jdXJyZW50LnZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgcmVmLmN1cnJlbnQucHJldmlvdXMgPSByZWYuY3VycmVudC52YWx1ZTtcbiAgICAgIHJlZi5jdXJyZW50LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZWYuY3VycmVudC5wcmV2aW91cztcbiAgfSwgW3ZhbHVlXSk7XG59XG5cbmV4cG9ydCB7IHVzZVByZXZpb3VzIH07XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZSc7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFZpc3VhbGx5SGlkZGVuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IE5BTUUgPSAnVmlzdWFsbHlIaWRkZW4nO1xuXG50eXBlIFZpc3VhbGx5SGlkZGVuRWxlbWVudCA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5zcGFuPjtcbnR5cGUgUHJpbWl0aXZlU3BhblByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuc3Bhbj47XG5pbnRlcmZhY2UgVmlzdWFsbHlIaWRkZW5Qcm9wcyBleHRlbmRzIFByaW1pdGl2ZVNwYW5Qcm9wcyB7fVxuXG5jb25zdCBWaXN1YWxseUhpZGRlbiA9IFJlYWN0LmZvcndhcmRSZWY8VmlzdWFsbHlIaWRkZW5FbGVtZW50LCBWaXN1YWxseUhpZGRlblByb3BzPihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFByaW1pdGl2ZS5zcGFuXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgcmVmPXtmb3J3YXJkZWRSZWZ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL3Njc3MvbWl4aW5zL192aXN1YWxseS1oaWRkZW4uc2Nzc1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIGJvcmRlcjogMCxcbiAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICBtYXJnaW46IC0xLFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICBjbGlwOiAncmVjdCgwLCAwLCAwLCAwKScsXG4gICAgICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICAgICAgd29yZFdyYXA6ICdub3JtYWwnLFxuICAgICAgICAgIC4uLnByb3BzLnN0eWxlLFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApO1xuICB9XG4pO1xuXG5WaXN1YWxseUhpZGRlbi5kaXNwbGF5TmFtZSA9IE5BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgUm9vdCA9IFZpc3VhbGx5SGlkZGVuO1xuXG5leHBvcnQge1xuICBWaXN1YWxseUhpZGRlbixcbiAgLy9cbiAgUm9vdCxcbn07XG5leHBvcnQgdHlwZSB7IFZpc3VhbGx5SGlkZGVuUHJvcHMgfTtcbiIsICJ2YXIgZ2V0RGVmYXVsdFBhcmVudCA9IGZ1bmN0aW9uIChvcmlnaW5hbFRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgc2FtcGxlVGFyZ2V0ID0gQXJyYXkuaXNBcnJheShvcmlnaW5hbFRhcmdldCkgPyBvcmlnaW5hbFRhcmdldFswXSA6IG9yaWdpbmFsVGFyZ2V0O1xuICAgIHJldHVybiBzYW1wbGVUYXJnZXQub3duZXJEb2N1bWVudC5ib2R5O1xufTtcbnZhciBjb3VudGVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciB1bmNvbnRyb2xsZWROb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG52YXIgbWFya2VyTWFwID0ge307XG52YXIgbG9ja0NvdW50ID0gMDtcbnZhciB1bndyYXBIb3N0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSAmJiAobm9kZS5ob3N0IHx8IHVud3JhcEhvc3Qobm9kZS5wYXJlbnROb2RlKSk7XG59O1xudmFyIGNvcnJlY3RUYXJnZXRzID0gZnVuY3Rpb24gKHBhcmVudCwgdGFyZ2V0cykge1xuICAgIHJldHVybiB0YXJnZXRzXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAocGFyZW50LmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvcnJlY3RlZFRhcmdldCA9IHVud3JhcEhvc3QodGFyZ2V0KTtcbiAgICAgICAgaWYgKGNvcnJlY3RlZFRhcmdldCAmJiBwYXJlbnQuY29udGFpbnMoY29ycmVjdGVkVGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvcnJlY3RlZFRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKCdhcmlhLWhpZGRlbicsIHRhcmdldCwgJ2luIG5vdCBjb250YWluZWQgaW5zaWRlJywgcGFyZW50LCAnLiBEb2luZyBub3RoaW5nJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0pXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEJvb2xlYW4oeCk7IH0pO1xufTtcbi8qKlxuICogTWFya3MgZXZlcnl0aGluZyBleGNlcHQgZ2l2ZW4gbm9kZShvciBub2RlcykgYXMgYXJpYS1oaWRkZW5cbiAqIEBwYXJhbSB7RWxlbWVudCB8IEVsZW1lbnRbXX0gb3JpZ2luYWxUYXJnZXQgLSBlbGVtZW50cyB0byBrZWVwIG9uIHRoZSBwYWdlXG4gKiBAcGFyYW0gW3BhcmVudE5vZGVdIC0gdG9wIGVsZW1lbnQsIGRlZmF1bHRzIHRvIGRvY3VtZW50LmJvZHlcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbWFya2VyTmFtZV0gLSBhIHNwZWNpYWwgYXR0cmlidXRlIHRvIG1hcmsgZXZlcnkgbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IFtjb250cm9sQXR0cmlidXRlXSAtIGh0bWwgQXR0cmlidXRlIHRvIGNvbnRyb2xcbiAqIEByZXR1cm4ge1VuZG99IHVuZG8gY29tbWFuZFxuICovXG52YXIgYXBwbHlBdHRyaWJ1dGVUb090aGVycyA9IGZ1bmN0aW9uIChvcmlnaW5hbFRhcmdldCwgcGFyZW50Tm9kZSwgbWFya2VyTmFtZSwgY29udHJvbEF0dHJpYnV0ZSkge1xuICAgIHZhciB0YXJnZXRzID0gY29ycmVjdFRhcmdldHMocGFyZW50Tm9kZSwgQXJyYXkuaXNBcnJheShvcmlnaW5hbFRhcmdldCkgPyBvcmlnaW5hbFRhcmdldCA6IFtvcmlnaW5hbFRhcmdldF0pO1xuICAgIGlmICghbWFya2VyTWFwW21hcmtlck5hbWVdKSB7XG4gICAgICAgIG1hcmtlck1hcFttYXJrZXJOYW1lXSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgfVxuICAgIHZhciBtYXJrZXJDb3VudGVyID0gbWFya2VyTWFwW21hcmtlck5hbWVdO1xuICAgIHZhciBoaWRkZW5Ob2RlcyA9IFtdO1xuICAgIHZhciBlbGVtZW50c1RvS2VlcCA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZWxlbWVudHNUb1N0b3AgPSBuZXcgU2V0KHRhcmdldHMpO1xuICAgIHZhciBrZWVwID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIGlmICghZWwgfHwgZWxlbWVudHNUb0tlZXAuaGFzKGVsKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzVG9LZWVwLmFkZChlbCk7XG4gICAgICAgIGtlZXAoZWwucGFyZW50Tm9kZSk7XG4gICAgfTtcbiAgICB0YXJnZXRzLmZvckVhY2goa2VlcCk7XG4gICAgdmFyIGRlZXAgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIGlmICghcGFyZW50IHx8IGVsZW1lbnRzVG9TdG9wLmhhcyhwYXJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChwYXJlbnQuY2hpbGRyZW4sIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHNUb0tlZXAuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgZGVlcChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRyID0gbm9kZS5nZXRBdHRyaWJ1dGUoY29udHJvbEF0dHJpYnV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbHJlYWR5SGlkZGVuID0gYXR0ciAhPT0gbnVsbCAmJiBhdHRyICE9PSAnZmFsc2UnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlclZhbHVlID0gKGNvdW50ZXJNYXAuZ2V0KG5vZGUpIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlclZhbHVlID0gKG1hcmtlckNvdW50ZXIuZ2V0KG5vZGUpIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlck1hcC5zZXQobm9kZSwgY291bnRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyQ291bnRlci5zZXQobm9kZSwgbWFya2VyVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBoaWRkZW5Ob2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlclZhbHVlID09PSAxICYmIGFscmVhZHlIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuY29udHJvbGxlZE5vZGVzLnNldChub2RlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyVmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG1hcmtlck5hbWUsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5SGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShjb250cm9sQXR0cmlidXRlLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2FyaWEtaGlkZGVuOiBjYW5ub3Qgb3BlcmF0ZSBvbiAnLCBub2RlLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZGVlcChwYXJlbnROb2RlKTtcbiAgICBlbGVtZW50c1RvS2VlcC5jbGVhcigpO1xuICAgIGxvY2tDb3VudCsrO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhpZGRlbk5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBjb3VudGVyVmFsdWUgPSBjb3VudGVyTWFwLmdldChub2RlKSAtIDE7XG4gICAgICAgICAgICB2YXIgbWFya2VyVmFsdWUgPSBtYXJrZXJDb3VudGVyLmdldChub2RlKSAtIDE7XG4gICAgICAgICAgICBjb3VudGVyTWFwLnNldChub2RlLCBjb3VudGVyVmFsdWUpO1xuICAgICAgICAgICAgbWFya2VyQ291bnRlci5zZXQobm9kZSwgbWFya2VyVmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFjb3VudGVyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVuY29udHJvbGxlZE5vZGVzLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShjb250cm9sQXR0cmlidXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdW5jb250cm9sbGVkTm9kZXMuZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXJrZXJWYWx1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG1hcmtlck5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbG9ja0NvdW50LS07XG4gICAgICAgIGlmICghbG9ja0NvdW50KSB7XG4gICAgICAgICAgICAvLyBjbGVhclxuICAgICAgICAgICAgY291bnRlck1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgICAgICBjb3VudGVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgICAgIHVuY29udHJvbGxlZE5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgICAgIG1hcmtlck1hcCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vKipcbiAqIE1hcmtzIGV2ZXJ5dGhpbmcgZXhjZXB0IGdpdmVuIG5vZGUob3Igbm9kZXMpIGFzIGFyaWEtaGlkZGVuXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBFbGVtZW50W119IG9yaWdpbmFsVGFyZ2V0IC0gZWxlbWVudHMgdG8ga2VlcCBvbiB0aGUgcGFnZVxuICogQHBhcmFtIFtwYXJlbnROb2RlXSAtIHRvcCBlbGVtZW50LCBkZWZhdWx0cyB0byBkb2N1bWVudC5ib2R5XG4gKiBAcGFyYW0ge1N0cmluZ30gW21hcmtlck5hbWVdIC0gYSBzcGVjaWFsIGF0dHJpYnV0ZSB0byBtYXJrIGV2ZXJ5IG5vZGVcbiAqIEByZXR1cm4ge1VuZG99IHVuZG8gY29tbWFuZFxuICovXG5leHBvcnQgdmFyIGhpZGVPdGhlcnMgPSBmdW5jdGlvbiAob3JpZ2luYWxUYXJnZXQsIHBhcmVudE5vZGUsIG1hcmtlck5hbWUpIHtcbiAgICBpZiAobWFya2VyTmFtZSA9PT0gdm9pZCAwKSB7IG1hcmtlck5hbWUgPSAnZGF0YS1hcmlhLWhpZGRlbic7IH1cbiAgICB2YXIgdGFyZ2V0cyA9IEFycmF5LmZyb20oQXJyYXkuaXNBcnJheShvcmlnaW5hbFRhcmdldCkgPyBvcmlnaW5hbFRhcmdldCA6IFtvcmlnaW5hbFRhcmdldF0pO1xuICAgIHZhciBhY3RpdmVQYXJlbnROb2RlID0gcGFyZW50Tm9kZSB8fCBnZXREZWZhdWx0UGFyZW50KG9yaWdpbmFsVGFyZ2V0KTtcbiAgICBpZiAoIWFjdGl2ZVBhcmVudE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgfVxuICAgIC8vIHdlIHNob3VsZCBub3QgaGlkZSBhcmlhTGl2ZSBlbGVtZW50cyAtIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVLYXNoZXkvYXJpYS1oaWRkZW4vaXNzdWVzLzEwXG4gICAgdGFyZ2V0cy5wdXNoLmFwcGx5KHRhcmdldHMsIEFycmF5LmZyb20oYWN0aXZlUGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbYXJpYS1saXZlXScpKSk7XG4gICAgcmV0dXJuIGFwcGx5QXR0cmlidXRlVG9PdGhlcnModGFyZ2V0cywgYWN0aXZlUGFyZW50Tm9kZSwgbWFya2VyTmFtZSwgJ2FyaWEtaGlkZGVuJyk7XG59O1xuLyoqXG4gKiBNYXJrcyBldmVyeXRoaW5nIGV4Y2VwdCBnaXZlbiBub2RlKG9yIG5vZGVzKSBhcyBpbmVydFxuICogQHBhcmFtIHtFbGVtZW50IHwgRWxlbWVudFtdfSBvcmlnaW5hbFRhcmdldCAtIGVsZW1lbnRzIHRvIGtlZXAgb24gdGhlIHBhZ2VcbiAqIEBwYXJhbSBbcGFyZW50Tm9kZV0gLSB0b3AgZWxlbWVudCwgZGVmYXVsdHMgdG8gZG9jdW1lbnQuYm9keVxuICogQHBhcmFtIHtTdHJpbmd9IFttYXJrZXJOYW1lXSAtIGEgc3BlY2lhbCBhdHRyaWJ1dGUgdG8gbWFyayBldmVyeSBub2RlXG4gKiBAcmV0dXJuIHtVbmRvfSB1bmRvIGNvbW1hbmRcbiAqL1xuZXhwb3J0IHZhciBpbmVydE90aGVycyA9IGZ1bmN0aW9uIChvcmlnaW5hbFRhcmdldCwgcGFyZW50Tm9kZSwgbWFya2VyTmFtZSkge1xuICAgIGlmIChtYXJrZXJOYW1lID09PSB2b2lkIDApIHsgbWFya2VyTmFtZSA9ICdkYXRhLWluZXJ0LWVkJzsgfVxuICAgIHZhciBhY3RpdmVQYXJlbnROb2RlID0gcGFyZW50Tm9kZSB8fCBnZXREZWZhdWx0UGFyZW50KG9yaWdpbmFsVGFyZ2V0KTtcbiAgICBpZiAoIWFjdGl2ZVBhcmVudE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgfVxuICAgIHJldHVybiBhcHBseUF0dHJpYnV0ZVRvT3RoZXJzKG9yaWdpbmFsVGFyZ2V0LCBhY3RpdmVQYXJlbnROb2RlLCBtYXJrZXJOYW1lLCAnaW5lcnQnKTtcbn07XG4vKipcbiAqIEByZXR1cm5zIGlmIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBpbmVydFxuICovXG5leHBvcnQgdmFyIHN1cHBvcnRzSW5lcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgSFRNTEVsZW1lbnQucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdpbmVydCcpO1xufTtcbi8qKlxuICogQXV0b21hdGljIGZ1bmN0aW9uIHRvIFwic3VwcHJlc3NcIiBET00gZWxlbWVudHMgLSBfaGlkZV8gb3IgX2luZXJ0XyBpbiB0aGUgYmVzdCBwb3NzaWJsZSB3YXlcbiAqIEBwYXJhbSB7RWxlbWVudCB8IEVsZW1lbnRbXX0gb3JpZ2luYWxUYXJnZXQgLSBlbGVtZW50cyB0byBrZWVwIG9uIHRoZSBwYWdlXG4gKiBAcGFyYW0gW3BhcmVudE5vZGVdIC0gdG9wIGVsZW1lbnQsIGRlZmF1bHRzIHRvIGRvY3VtZW50LmJvZHlcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbWFya2VyTmFtZV0gLSBhIHNwZWNpYWwgYXR0cmlidXRlIHRvIG1hcmsgZXZlcnkgbm9kZVxuICogQHJldHVybiB7VW5kb30gdW5kbyBjb21tYW5kXG4gKi9cbmV4cG9ydCB2YXIgc3VwcHJlc3NPdGhlcnMgPSBmdW5jdGlvbiAob3JpZ2luYWxUYXJnZXQsIHBhcmVudE5vZGUsIG1hcmtlck5hbWUpIHtcbiAgICBpZiAobWFya2VyTmFtZSA9PT0gdm9pZCAwKSB7IG1hcmtlck5hbWUgPSAnZGF0YS1zdXBwcmVzc2VkJzsgfVxuICAgIHJldHVybiAoc3VwcG9ydHNJbmVydCgpID8gaW5lcnRPdGhlcnMgOiBoaWRlT3RoZXJzKShvcmlnaW5hbFRhcmdldCwgcGFyZW50Tm9kZSwgbWFya2VyTmFtZSk7XG59O1xuIiwgImltcG9ydCBSZW1vdmVTY3JvbGwgZnJvbSAnLi9Db21iaW5hdGlvbic7XG5leHBvcnQgeyBSZW1vdmVTY3JvbGwgfTtcbiIsICJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVtb3ZlU2Nyb2xsIH0gZnJvbSAnLi9VSSc7XG5pbXBvcnQgU2lkZUNhciBmcm9tICcuL3NpZGVjYXInO1xudmFyIFJlYWN0UmVtb3ZlU2Nyb2xsID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVtb3ZlU2Nyb2xsLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgcmVmOiByZWYsIHNpZGVDYXI6IFNpZGVDYXIgfSkpKTsgfSk7XG5SZWFjdFJlbW92ZVNjcm9sbC5jbGFzc05hbWVzID0gUmVtb3ZlU2Nyb2xsLmNsYXNzTmFtZXM7XG5leHBvcnQgZGVmYXVsdCBSZWFjdFJlbW92ZVNjcm9sbDtcbiIsICIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEFzeW5jSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxudmFyIG93bktleXMgPSBmdW5jdGlvbihvKSB7XG4gIG93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBhciA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgcmV0dXJuIGFyO1xuICB9O1xuICByZXR1cm4gb3duS2V5cyhvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgdmFyIHIsIHMgPSAwO1xuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChyID0gZW52LnN0YWNrLnBvcCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIXIuYXN5bmMgJiYgcyA9PT0gMSkgcmV0dXJuIHMgPSAwLCBlbnYuc3RhY2sucHVzaChyKSwgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0KTtcbiAgICAgICAgaWYgKHIuZGlzcG9zZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByLmRpc3Bvc2UuY2FsbChyLnZhbHVlKTtcbiAgICAgICAgICBpZiAoci5hc3luYykgcmV0dXJuIHMgfD0gMiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcyB8PSAxO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMgPT09IDEpIHJldHVybiBlbnYuaGFzRXJyb3IgPyBQcm9taXNlLnJlamVjdChlbnYuZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbihwYXRoLCBwcmVzZXJ2ZUpzeCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgJiYgL15cXC5cXC4/XFwvLy50ZXN0KHBhdGgpKSB7XG4gICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC4odHN4KSR8KCg/OlxcLmQpPykoKD86XFwuW14uL10rPyk/KVxcLihbY21dPyl0cyQvaSwgZnVuY3Rpb24gKG0sIHRzeCwgZCwgZXh0LCBjbSkge1xuICAgICAgICAgIHJldHVybiB0c3ggPyBwcmVzZXJ2ZUpzeCA/IFwiLmpzeFwiIDogXCIuanNcIiA6IGQgJiYgKCFleHQgfHwgIWNtKSA/IG0gOiAoZCArIGV4dCArIFwiLlwiICsgY20udG9Mb3dlckNhc2UoKSArIFwianNcIik7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fZXNEZWNvcmF0ZSxcbiAgX19ydW5Jbml0aWFsaXplcnMsXG4gIF9fcHJvcEtleSxcbiAgX19zZXRGdW5jdGlvbk5hbWUsXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxuICBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbixcbn07XG4iLCAiaW1wb3J0IHsgX19hc3NpZ24sIF9fcmVzdCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZnVsbFdpZHRoQ2xhc3NOYW1lLCB6ZXJvUmlnaHRDbGFzc05hbWUgfSBmcm9tICdyZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9jb25zdGFudHMnO1xuaW1wb3J0IHsgdXNlTWVyZ2VSZWZzIH0gZnJvbSAndXNlLWNhbGxiYWNrLXJlZic7XG5pbXBvcnQgeyBlZmZlY3RDYXIgfSBmcm9tICcuL21lZGl1bSc7XG52YXIgbm90aGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm47XG59O1xuLyoqXG4gKiBSZW1vdmVzIHNjcm9sbGJhciBmcm9tIHRoZSBwYWdlIGFuZCBjb250YWluIHRoZSBzY3JvbGwgd2l0aGluIHRoZSBMb2NrXG4gKi9cbnZhciBSZW1vdmVTY3JvbGwgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcGFyZW50UmVmKSB7XG4gICAgdmFyIHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICB2YXIgX2EgPSBSZWFjdC51c2VTdGF0ZSh7XG4gICAgICAgIG9uU2Nyb2xsQ2FwdHVyZTogbm90aGluZyxcbiAgICAgICAgb25XaGVlbENhcHR1cmU6IG5vdGhpbmcsXG4gICAgICAgIG9uVG91Y2hNb3ZlQ2FwdHVyZTogbm90aGluZyxcbiAgICB9KSwgY2FsbGJhY2tzID0gX2FbMF0sIHNldENhbGxiYWNrcyA9IF9hWzFdO1xuICAgIHZhciBmb3J3YXJkUHJvcHMgPSBwcm9wcy5mb3J3YXJkUHJvcHMsIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSwgcmVtb3ZlU2Nyb2xsQmFyID0gcHJvcHMucmVtb3ZlU2Nyb2xsQmFyLCBlbmFibGVkID0gcHJvcHMuZW5hYmxlZCwgc2hhcmRzID0gcHJvcHMuc2hhcmRzLCBzaWRlQ2FyID0gcHJvcHMuc2lkZUNhciwgbm9Jc29sYXRpb24gPSBwcm9wcy5ub0lzb2xhdGlvbiwgaW5lcnQgPSBwcm9wcy5pbmVydCwgYWxsb3dQaW5jaFpvb20gPSBwcm9wcy5hbGxvd1BpbmNoWm9vbSwgX2IgPSBwcm9wcy5hcywgQ29udGFpbmVyID0gX2IgPT09IHZvaWQgMCA/ICdkaXYnIDogX2IsIGdhcE1vZGUgPSBwcm9wcy5nYXBNb2RlLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJmb3J3YXJkUHJvcHNcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcInJlbW92ZVNjcm9sbEJhclwiLCBcImVuYWJsZWRcIiwgXCJzaGFyZHNcIiwgXCJzaWRlQ2FyXCIsIFwibm9Jc29sYXRpb25cIiwgXCJpbmVydFwiLCBcImFsbG93UGluY2hab29tXCIsIFwiYXNcIiwgXCJnYXBNb2RlXCJdKTtcbiAgICB2YXIgU2lkZUNhciA9IHNpZGVDYXI7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IHVzZU1lcmdlUmVmcyhbcmVmLCBwYXJlbnRSZWZdKTtcbiAgICB2YXIgY29udGFpbmVyUHJvcHMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVzdCksIGNhbGxiYWNrcyk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBlbmFibGVkICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGVDYXIsIHsgc2lkZUNhcjogZWZmZWN0Q2FyLCByZW1vdmVTY3JvbGxCYXI6IHJlbW92ZVNjcm9sbEJhciwgc2hhcmRzOiBzaGFyZHMsIG5vSXNvbGF0aW9uOiBub0lzb2xhdGlvbiwgaW5lcnQ6IGluZXJ0LCBzZXRDYWxsYmFja3M6IHNldENhbGxiYWNrcywgYWxsb3dQaW5jaFpvb206ICEhYWxsb3dQaW5jaFpvb20sIGxvY2tSZWY6IHJlZiwgZ2FwTW9kZTogZ2FwTW9kZSB9KSksXG4gICAgICAgIGZvcndhcmRQcm9wcyA/IChSZWFjdC5jbG9uZUVsZW1lbnQoUmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbiksIF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb250YWluZXJQcm9wcyksIHsgcmVmOiBjb250YWluZXJSZWYgfSkpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgX19hc3NpZ24oe30sIGNvbnRhaW5lclByb3BzLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCByZWY6IGNvbnRhaW5lclJlZiB9KSwgY2hpbGRyZW4pKSkpO1xufSk7XG5SZW1vdmVTY3JvbGwuZGVmYXVsdFByb3BzID0ge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgcmVtb3ZlU2Nyb2xsQmFyOiB0cnVlLFxuICAgIGluZXJ0OiBmYWxzZSxcbn07XG5SZW1vdmVTY3JvbGwuY2xhc3NOYW1lcyA9IHtcbiAgICBmdWxsV2lkdGg6IGZ1bGxXaWR0aENsYXNzTmFtZSxcbiAgICB6ZXJvUmlnaHQ6IHplcm9SaWdodENsYXNzTmFtZSxcbn07XG5leHBvcnQgeyBSZW1vdmVTY3JvbGwgfTtcbiIsICJleHBvcnQgdmFyIHplcm9SaWdodENsYXNzTmFtZSA9ICdyaWdodC1zY3JvbGwtYmFyLXBvc2l0aW9uJztcbmV4cG9ydCB2YXIgZnVsbFdpZHRoQ2xhc3NOYW1lID0gJ3dpZHRoLWJlZm9yZS1zY3JvbGwtYmFyJztcbmV4cG9ydCB2YXIgbm9TY3JvbGxiYXJzQ2xhc3NOYW1lID0gJ3dpdGgtc2Nyb2xsLWJhcnMtaGlkZGVuJztcbi8qKlxuICogTmFtZSBvZiBhIENTUyB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBhbW91bnQgb2YgXCJoaWRkZW5cIiBzY3JvbGxiYXJcbiAqICEgbWlnaHQgYmUgdW5kZWZpbmVkICEgdXNlIHdpbGwgZmFsbGJhY2shXG4gKi9cbmV4cG9ydCB2YXIgcmVtb3ZlZEJhclNpemVWYXJpYWJsZSA9ICctLXJlbW92ZWQtYm9keS1zY3JvbGwtYmFyLXNpemUnO1xuIiwgImV4cG9ydCB7IGFzc2lnblJlZiB9IGZyb20gJy4vYXNzaWduUmVmJztcbi8vIGNhbGxiYWNrIHJlZlxuZXhwb3J0IHsgdXNlQ2FsbGJhY2tSZWYgfSBmcm9tICcuL3VzZVJlZic7XG5leHBvcnQgeyBjcmVhdGVDYWxsYmFja1JlZiB9IGZyb20gJy4vY3JlYXRlUmVmJztcbi8vIG1lcmdlIHJlZlxuZXhwb3J0IHsgbWVyZ2VSZWZzIH0gZnJvbSAnLi9tZXJnZVJlZic7XG5leHBvcnQgeyB1c2VNZXJnZVJlZnMgfSBmcm9tICcuL3VzZU1lcmdlUmVmJztcbi8vIHRyYW5zZm9ybSByZWZcbmV4cG9ydCB7IHVzZVRyYW5zZm9ybVJlZiB9IGZyb20gJy4vdXNlVHJhbnNmb3JtUmVmJztcbmV4cG9ydCB7IHRyYW5zZm9ybVJlZiB9IGZyb20gJy4vdHJhbnNmb3JtUmVmJztcbi8vIHJlZlRvQ2FsbGJhY2tcbmV4cG9ydCB7IHJlZlRvQ2FsbGJhY2ssIHVzZVJlZlRvQ2FsbGJhY2sgfSBmcm9tICcuL3JlZlRvQ2FsbGJhY2snO1xuIiwgIi8qKlxuICogQXNzaWducyBhIHZhbHVlIGZvciBhIGdpdmVuIHJlZiwgbm8gbWF0dGVyIG9mIHRoZSByZWYgZm9ybWF0XG4gKiBAcGFyYW0ge1JlZk9iamVjdH0gcmVmIC0gYSBjYWxsYmFjayBmdW5jdGlvbiBvciByZWYgb2JqZWN0XG4gKiBAcGFyYW0gdmFsdWUgLSBhIG5ldyB2YWx1ZVxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RoZUthc2hleS91c2UtY2FsbGJhY2stcmVmI2Fzc2lnbnJlZlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlZk9iamVjdCA9IHVzZVJlZigpO1xuICogY29uc3QgcmVmRm4gPSAocmVmKSA9PiB7Li4uLn1cbiAqXG4gKiBhc3NpZ25SZWYocmVmT2JqZWN0LCBcInJlZlZhbHVlXCIpO1xuICogYXNzaWduUmVmKHJlZkZuLCBcInJlZlZhbHVlXCIpO1xuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduUmVmKHJlZiwgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZWYodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWYpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZjtcbn1cbiIsICJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogY3JlYXRlcyBhIE11dGFibGVSZWYgd2l0aCByZWYgY2hhbmdlIGNhbGxiYWNrXG4gKiBAcGFyYW0gaW5pdGlhbFZhbHVlIC0gaW5pdGlhbCByZWYgdmFsdWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gYSBjYWxsYmFjayB0byBydW4gd2hlbiB2YWx1ZSBjaGFuZ2VzXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlZiA9IHVzZUNhbGxiYWNrUmVmKDAsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IGNvbnNvbGUubG9nKG9sZFZhbHVlLCAnLT4nLCBuZXdWYWx1ZSk7XG4gKiByZWYuY3VycmVudCA9IDE7XG4gKiAvLyBwcmludHMgMCAtPiAxXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvaG9va3MtcmVmZXJlbmNlLmh0bWwjdXNlcmVmXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVLYXNoZXkvdXNlLWNhbGxiYWNrLXJlZiN1c2VjYWxsYmFja3JlZi0tLXRvLXJlcGxhY2UtcmVhY3R1c2VyZWZcbiAqIEByZXR1cm5zIHtNdXRhYmxlUmVmT2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2FsbGJhY2tSZWYoaW5pdGlhbFZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciByZWYgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiAoe1xuICAgICAgICAvLyB2YWx1ZVxuICAgICAgICB2YWx1ZTogaW5pdGlhbFZhbHVlLFxuICAgICAgICAvLyBsYXN0IGNhbGxiYWNrXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgLy8gXCJtZW1vaXplZFwiIHB1YmxpYyBpbnRlcmZhY2VcbiAgICAgICAgZmFjYWRlOiB7XG4gICAgICAgICAgICBnZXQgY3VycmVudCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVmLnZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjdXJyZW50KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3QgPSByZWYudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZWYuY2FsbGJhY2sodmFsdWUsIGxhc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7IH0pWzBdO1xuICAgIC8vIHVwZGF0ZSBjYWxsYmFja1xuICAgIHJlZi5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiByZWYuZmFjYWRlO1xufVxuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGFzc2lnblJlZiB9IGZyb20gJy4vYXNzaWduUmVmJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrUmVmIH0gZnJvbSAnLi91c2VSZWYnO1xudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdDtcbnZhciBjdXJyZW50VmFsdWVzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogTWVyZ2VzIHR3byBvciBtb3JlIHJlZnMgdG9nZXRoZXIgcHJvdmlkaW5nIGEgc2luZ2xlIGludGVyZmFjZSB0byBzZXQgdGhlaXIgdmFsdWVcbiAqIEBwYXJhbSB7UmVmT2JqZWN0fFJlZn0gcmVmc1xuICogQHJldHVybnMge011dGFibGVSZWZPYmplY3R9IC0gYSBuZXcgcmVmLCB3aGljaCB0cmFuc2xhdGVzIGFsbCBjaGFuZ2VzIHRvIHtyZWZzfVxuICpcbiAqIEBzZWUge0BsaW5rIG1lcmdlUmVmc30gYSB2ZXJzaW9uIHdpdGhvdXQgYnVpdC1pbiBtZW1vaXphdGlvblxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGhlS2FzaGV5L3VzZS1jYWxsYmFjay1yZWYjdXNlbWVyZ2VyZWZzXG4gKiBAZXhhbXBsZVxuICogY29uc3QgQ29tcG9uZW50ID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICogICBjb25zdCBvd25SZWYgPSB1c2VSZWYoKTtcbiAqICAgY29uc3QgZG9tUmVmID0gdXNlTWVyZ2VSZWZzKFtyZWYsIG93blJlZl0pOyAvLyBcdUQ4M0RcdURDNDggbWVyZ2UgdG9nZXRoZXJcbiAqICAgcmV0dXJuIDxkaXYgcmVmPXtkb21SZWZ9Pi4uLjwvZGl2PlxuICogfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVyZ2VSZWZzKHJlZnMsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBjYWxsYmFja1JlZiA9IHVzZUNhbGxiYWNrUmVmKGRlZmF1bHRWYWx1ZSB8fCBudWxsLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHJlZnMuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7IHJldHVybiBhc3NpZ25SZWYocmVmLCBuZXdWYWx1ZSk7IH0pO1xuICAgIH0pO1xuICAgIC8vIGhhbmRsZSByZWZzIGNoYW5nZXMgLSBhZGRlZCBvciByZW1vdmVkXG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IGN1cnJlbnRWYWx1ZXMuZ2V0KGNhbGxiYWNrUmVmKTtcbiAgICAgICAgaWYgKG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcHJldlJlZnNfMSA9IG5ldyBTZXQob2xkVmFsdWUpO1xuICAgICAgICAgICAgdmFyIG5leHRSZWZzXzEgPSBuZXcgU2V0KHJlZnMpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRfMSA9IGNhbGxiYWNrUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBwcmV2UmVmc18xLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xuICAgICAgICAgICAgICAgIGlmICghbmV4dFJlZnNfMS5oYXMocmVmKSkge1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ25SZWYocmVmLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5leHRSZWZzXzEuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmV2UmVmc18xLmhhcyhyZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2lnblJlZihyZWYsIGN1cnJlbnRfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFZhbHVlcy5zZXQoY2FsbGJhY2tSZWYsIHJlZnMpO1xuICAgIH0sIFtyZWZzXSk7XG4gICAgcmV0dXJuIGNhbGxiYWNrUmVmO1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZVNpZGVjYXJNZWRpdW0gfSBmcm9tICd1c2Utc2lkZWNhcic7XG5leHBvcnQgdmFyIGVmZmVjdENhciA9IGNyZWF0ZVNpZGVjYXJNZWRpdW0oKTtcbiIsICJleHBvcnQgeyBzaWRlY2FyIH0gZnJvbSAnLi9ob2MnO1xuZXhwb3J0IHsgdXNlU2lkZWNhciB9IGZyb20gJy4vaG9vayc7XG5leHBvcnQgeyBzZXRDb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5leHBvcnQgeyBjcmVhdGVNZWRpdW0sIGNyZWF0ZVNpZGVjYXJNZWRpdW0gfSBmcm9tICcuL21lZGl1bSc7XG5leHBvcnQgeyByZW5kZXJDYXIgfSBmcm9tICcuL3JlbmRlclByb3AnO1xuZXhwb3J0IHsgZXhwb3J0U2lkZWNhciB9IGZyb20gJy4vZXhwb3J0cyc7XG4iLCAiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmZ1bmN0aW9uIEl0b0koYSkge1xuICAgIHJldHVybiBhO1xufVxuZnVuY3Rpb24gaW5uZXJDcmVhdGVNZWRpdW0oZGVmYXVsdHMsIG1pZGRsZXdhcmUpIHtcbiAgICBpZiAobWlkZGxld2FyZSA9PT0gdm9pZCAwKSB7IG1pZGRsZXdhcmUgPSBJdG9JOyB9XG4gICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgIHZhciBhc3NpZ25lZCA9IGZhbHNlO1xuICAgIHZhciBtZWRpdW0gPSB7XG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhc3NpZ25lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2lkZWNhcjogY291bGQgbm90IGByZWFkYCBmcm9tIGFuIGBhc3NpZ25lZGAgbWVkaXVtLiBgcmVhZGAgY291bGQgYmUgdXNlZCBvbmx5IHdpdGggYHVzZU1lZGl1bWAuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXJbYnVmZmVyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgICAgICB9LFxuICAgICAgICB1c2VNZWRpdW06IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IG1pZGRsZXdhcmUoZGF0YSwgYXNzaWduZWQpO1xuICAgICAgICAgICAgYnVmZmVyLnB1c2goaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggIT09IGl0ZW07IH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXNzaWduU3luY01lZGl1bTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBhc3NpZ25lZCA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAoYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjYnMgPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gW107XG4gICAgICAgICAgICAgICAgY2JzLmZvckVhY2goY2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0ge1xuICAgICAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uICh4KSB7IHJldHVybiBjYih4KTsgfSxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1ZmZlcjsgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGFzc2lnbk1lZGl1bTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBhc3NpZ25lZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgcGVuZGluZ1F1ZXVlID0gW107XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjYnMgPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gW107XG4gICAgICAgICAgICAgICAgY2JzLmZvckVhY2goY2IpO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdRdWV1ZSA9IGJ1ZmZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBleGVjdXRlUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNicyA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICBjYnMuZm9yRWFjaChjYik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGN5Y2xlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihleGVjdXRlUXVldWUpOyB9O1xuICAgICAgICAgICAgY3ljbGUoKTtcbiAgICAgICAgICAgIGJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICBwdXNoOiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nUXVldWUucHVzaCh4KTtcbiAgICAgICAgICAgICAgICAgICAgY3ljbGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nUXVldWUgPSBwZW5kaW5nUXVldWUuZmlsdGVyKGZpbHRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gbWVkaXVtO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1lZGl1bShkZWZhdWx0cywgbWlkZGxld2FyZSkge1xuICAgIGlmIChtaWRkbGV3YXJlID09PSB2b2lkIDApIHsgbWlkZGxld2FyZSA9IEl0b0k7IH1cbiAgICByZXR1cm4gaW5uZXJDcmVhdGVNZWRpdW0oZGVmYXVsdHMsIG1pZGRsZXdhcmUpO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaWRlY2FyTWVkaXVtKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBtZWRpdW0gPSBpbm5lckNyZWF0ZU1lZGl1bShudWxsKTtcbiAgICBtZWRpdW0ub3B0aW9ucyA9IF9fYXNzaWduKHsgYXN5bmM6IHRydWUsIHNzcjogZmFsc2UgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1lZGl1bTtcbn1cbiIsICJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZXN0IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG52YXIgU2lkZUNhciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzaWRlQ2FyID0gX2Euc2lkZUNhciwgcmVzdCA9IF9fcmVzdChfYSwgW1wic2lkZUNhclwiXSk7XG4gICAgaWYgKCFzaWRlQ2FyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2lkZWNhcjogcGxlYXNlIHByb3ZpZGUgYHNpZGVDYXJgIHByb3BlcnR5IHRvIGltcG9ydCB0aGUgcmlnaHQgY2FyJyk7XG4gICAgfVxuICAgIHZhciBUYXJnZXQgPSBzaWRlQ2FyLnJlYWQoKTtcbiAgICBpZiAoIVRhcmdldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpZGVjYXIgbWVkaXVtIG5vdCBmb3VuZCcpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYXJnZXQsIF9fYXNzaWduKHt9LCByZXN0KSk7XG59O1xuU2lkZUNhci5pc1NpZGVDYXJFeHBvcnQgPSB0cnVlO1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydFNpZGVjYXIobWVkaXVtLCBleHBvcnRlZCkge1xuICAgIG1lZGl1bS51c2VNZWRpdW0oZXhwb3J0ZWQpO1xuICAgIHJldHVybiBTaWRlQ2FyO1xufVxuIiwgImltcG9ydCB7IGV4cG9ydFNpZGVjYXIgfSBmcm9tICd1c2Utc2lkZWNhcic7XG5pbXBvcnQgeyBSZW1vdmVTY3JvbGxTaWRlQ2FyIH0gZnJvbSAnLi9TaWRlRWZmZWN0JztcbmltcG9ydCB7IGVmZmVjdENhciB9IGZyb20gJy4vbWVkaXVtJztcbmV4cG9ydCBkZWZhdWx0IGV4cG9ydFNpZGVjYXIoZWZmZWN0Q2FyLCBSZW1vdmVTY3JvbGxTaWRlQ2FyKTtcbiIsICJpbXBvcnQgeyBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZW1vdmVTY3JvbGxCYXIgfSBmcm9tICdyZWFjdC1yZW1vdmUtc2Nyb2xsLWJhcic7XG5pbXBvcnQgeyBzdHlsZVNpbmdsZXRvbiB9IGZyb20gJ3JlYWN0LXN0eWxlLXNpbmdsZXRvbic7XG5pbXBvcnQgeyBub25QYXNzaXZlIH0gZnJvbSAnLi9hZ2dyZXNpdmVDYXB0dXJlJztcbmltcG9ydCB7IGhhbmRsZVNjcm9sbCwgbG9jYXRpb25Db3VsZEJlU2Nyb2xsZWQgfSBmcm9tICcuL2hhbmRsZVNjcm9sbCc7XG5leHBvcnQgdmFyIGdldFRvdWNoWFkgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ2NoYW5nZWRUb3VjaGVzJyBpbiBldmVudCA/IFtldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLCBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZXSA6IFswLCAwXTtcbn07XG5leHBvcnQgdmFyIGdldERlbHRhWFkgPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIFtldmVudC5kZWx0YVgsIGV2ZW50LmRlbHRhWV07IH07XG52YXIgZXh0cmFjdFJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICByZXR1cm4gcmVmICYmICdjdXJyZW50JyBpbiByZWYgPyByZWYuY3VycmVudCA6IHJlZjtcbn07XG52YXIgZGVsdGFDb21wYXJlID0gZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIHhbMF0gPT09IHlbMF0gJiYgeFsxXSA9PT0geVsxXTsgfTtcbnZhciBnZW5lcmF0ZVN0eWxlID0gZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIlxcbiAgLmJsb2NrLWludGVyYWN0aXZpdHktXCIuY29uY2F0KGlkLCBcIiB7cG9pbnRlci1ldmVudHM6IG5vbmU7fVxcbiAgLmFsbG93LWludGVyYWN0aXZpdHktXCIpLmNvbmNhdChpZCwgXCIge3BvaW50ZXItZXZlbnRzOiBhbGw7fVxcblwiKTsgfTtcbnZhciBpZENvdW50ZXIgPSAwO1xudmFyIGxvY2tTdGFjayA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZVNjcm9sbFNpZGVDYXIocHJvcHMpIHtcbiAgICB2YXIgc2hvdWxkUHJldmVudFF1ZXVlID0gUmVhY3QudXNlUmVmKFtdKTtcbiAgICB2YXIgdG91Y2hTdGFydFJlZiA9IFJlYWN0LnVzZVJlZihbMCwgMF0pO1xuICAgIHZhciBhY3RpdmVBeGlzID0gUmVhY3QudXNlUmVmKCk7XG4gICAgdmFyIGlkID0gUmVhY3QudXNlU3RhdGUoaWRDb3VudGVyKyspWzBdO1xuICAgIHZhciBTdHlsZSA9IFJlYWN0LnVzZVN0YXRlKHN0eWxlU2luZ2xldG9uKVswXTtcbiAgICB2YXIgbGFzdFByb3BzID0gUmVhY3QudXNlUmVmKHByb3BzKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBsYXN0UHJvcHMuY3VycmVudCA9IHByb3BzO1xuICAgIH0sIFtwcm9wc10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChwcm9wcy5pbmVydCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiYmxvY2staW50ZXJhY3Rpdml0eS1cIi5jb25jYXQoaWQpKTtcbiAgICAgICAgICAgIHZhciBhbGxvd18xID0gX19zcHJlYWRBcnJheShbcHJvcHMubG9ja1JlZi5jdXJyZW50XSwgKHByb3BzLnNoYXJkcyB8fCBbXSkubWFwKGV4dHJhY3RSZWYpLCB0cnVlKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgICBhbGxvd18xLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5jbGFzc0xpc3QuYWRkKFwiYWxsb3ctaW50ZXJhY3Rpdml0eS1cIi5jb25jYXQoaWQpKTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImJsb2NrLWludGVyYWN0aXZpdHktXCIuY29uY2F0KGlkKSk7XG4gICAgICAgICAgICAgICAgYWxsb3dfMS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuY2xhc3NMaXN0LnJlbW92ZShcImFsbG93LWludGVyYWN0aXZpdHktXCIuY29uY2F0KGlkKSk7IH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSwgW3Byb3BzLmluZXJ0LCBwcm9wcy5sb2NrUmVmLmN1cnJlbnQsIHByb3BzLnNoYXJkc10pO1xuICAgIHZhciBzaG91bGRDYW5jZWxFdmVudCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCwgcGFyZW50KSB7XG4gICAgICAgIGlmICgoJ3RvdWNoZXMnIGluIGV2ZW50ICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyKSB8fCAoZXZlbnQudHlwZSA9PT0gJ3doZWVsJyAmJiBldmVudC5jdHJsS2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuICFsYXN0UHJvcHMuY3VycmVudC5hbGxvd1BpbmNoWm9vbTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG91Y2ggPSBnZXRUb3VjaFhZKGV2ZW50KTtcbiAgICAgICAgdmFyIHRvdWNoU3RhcnQgPSB0b3VjaFN0YXJ0UmVmLmN1cnJlbnQ7XG4gICAgICAgIHZhciBkZWx0YVggPSAnZGVsdGFYJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWCA6IHRvdWNoU3RhcnRbMF0gLSB0b3VjaFswXTtcbiAgICAgICAgdmFyIGRlbHRhWSA9ICdkZWx0YVknIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFZIDogdG91Y2hTdGFydFsxXSAtIHRvdWNoWzFdO1xuICAgICAgICB2YXIgY3VycmVudEF4aXM7XG4gICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHZhciBtb3ZlRGlyZWN0aW9uID0gTWF0aC5hYnMoZGVsdGFYKSA+IE1hdGguYWJzKGRlbHRhWSkgPyAnaCcgOiAndic7XG4gICAgICAgIC8vIGFsbG93IGhvcml6b250YWwgdG91Y2ggbW92ZSBvbiBSYW5nZSBpbnB1dHMuIFRoZXkgd2lsbCBub3QgY2F1c2UgYW55IHNjcm9sbFxuICAgICAgICBpZiAoJ3RvdWNoZXMnIGluIGV2ZW50ICYmIG1vdmVEaXJlY3Rpb24gPT09ICdoJyAmJiB0YXJnZXQudHlwZSA9PT0gJ3JhbmdlJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW5CZVNjcm9sbGVkSW5NYWluRGlyZWN0aW9uID0gbG9jYXRpb25Db3VsZEJlU2Nyb2xsZWQobW92ZURpcmVjdGlvbiwgdGFyZ2V0KTtcbiAgICAgICAgaWYgKCFjYW5CZVNjcm9sbGVkSW5NYWluRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuQmVTY3JvbGxlZEluTWFpbkRpcmVjdGlvbikge1xuICAgICAgICAgICAgY3VycmVudEF4aXMgPSBtb3ZlRGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudEF4aXMgPSBtb3ZlRGlyZWN0aW9uID09PSAndicgPyAnaCcgOiAndic7XG4gICAgICAgICAgICBjYW5CZVNjcm9sbGVkSW5NYWluRGlyZWN0aW9uID0gbG9jYXRpb25Db3VsZEJlU2Nyb2xsZWQobW92ZURpcmVjdGlvbiwgdGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIG90aGVyIGF4aXMgbWlnaHQgYmUgbm90IHNjcm9sbGFibGVcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhbkJlU2Nyb2xsZWRJbk1haW5EaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFjdGl2ZUF4aXMuY3VycmVudCAmJiAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50ICYmIChkZWx0YVggfHwgZGVsdGFZKSkge1xuICAgICAgICAgICAgYWN0aXZlQXhpcy5jdXJyZW50ID0gY3VycmVudEF4aXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjdXJyZW50QXhpcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbmNlbGluZ0F4aXMgPSBhY3RpdmVBeGlzLmN1cnJlbnQgfHwgY3VycmVudEF4aXM7XG4gICAgICAgIHJldHVybiBoYW5kbGVTY3JvbGwoY2FuY2VsaW5nQXhpcywgcGFyZW50LCBldmVudCwgY2FuY2VsaW5nQXhpcyA9PT0gJ2gnID8gZGVsdGFYIDogZGVsdGFZLCB0cnVlKTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIHNob3VsZFByZXZlbnQgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoX2V2ZW50KSB7XG4gICAgICAgIHZhciBldmVudCA9IF9ldmVudDtcbiAgICAgICAgaWYgKCFsb2NrU3RhY2subGVuZ3RoIHx8IGxvY2tTdGFja1tsb2NrU3RhY2subGVuZ3RoIC0gMV0gIT09IFN0eWxlKSB7XG4gICAgICAgICAgICAvLyBub3QgdGhlIGxhc3QgYWN0aXZlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbHRhID0gJ2RlbHRhWScgaW4gZXZlbnQgPyBnZXREZWx0YVhZKGV2ZW50KSA6IGdldFRvdWNoWFkoZXZlbnQpO1xuICAgICAgICB2YXIgc291cmNlRXZlbnQgPSBzaG91bGRQcmV2ZW50UXVldWUuY3VycmVudC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUubmFtZSA9PT0gZXZlbnQudHlwZSAmJiAoZS50YXJnZXQgPT09IGV2ZW50LnRhcmdldCB8fCBldmVudC50YXJnZXQgPT09IGUuc2hhZG93UGFyZW50KSAmJiBkZWx0YUNvbXBhcmUoZS5kZWx0YSwgZGVsdGEpOyB9KVswXTtcbiAgICAgICAgLy8gc2VsZiBldmVudCwgYW5kIHNob3VsZCBiZSBjYW5jZWxlZFxuICAgICAgICBpZiAoc291cmNlRXZlbnQgJiYgc291cmNlRXZlbnQuc2hvdWxkKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3V0c2lkZSBvciBzaGFyZCBldmVudFxuICAgICAgICBpZiAoIXNvdXJjZUV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc2hhcmROb2RlcyA9IChsYXN0UHJvcHMuY3VycmVudC5zaGFyZHMgfHwgW10pXG4gICAgICAgICAgICAgICAgLm1hcChleHRyYWN0UmVmKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7IH0pO1xuICAgICAgICAgICAgdmFyIHNob3VsZFN0b3AgPSBzaGFyZE5vZGVzLmxlbmd0aCA+IDAgPyBzaG91bGRDYW5jZWxFdmVudChldmVudCwgc2hhcmROb2Rlc1swXSkgOiAhbGFzdFByb3BzLmN1cnJlbnQubm9Jc29sYXRpb247XG4gICAgICAgICAgICBpZiAoc2hvdWxkU3RvcCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHZhciBzaG91bGRDYW5jZWwgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAobmFtZSwgZGVsdGEsIHRhcmdldCwgc2hvdWxkKSB7XG4gICAgICAgIHZhciBldmVudCA9IHsgbmFtZTogbmFtZSwgZGVsdGE6IGRlbHRhLCB0YXJnZXQ6IHRhcmdldCwgc2hvdWxkOiBzaG91bGQsIHNoYWRvd1BhcmVudDogZ2V0T3V0ZXJtb3N0U2hhZG93UGFyZW50KHRhcmdldCkgfTtcbiAgICAgICAgc2hvdWxkUHJldmVudFF1ZXVlLmN1cnJlbnQucHVzaChldmVudCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2hvdWxkUHJldmVudFF1ZXVlLmN1cnJlbnQgPSBzaG91bGRQcmV2ZW50UXVldWUuY3VycmVudC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgIT09IGV2ZW50OyB9KTtcbiAgICAgICAgfSwgMSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBzY3JvbGxUb3VjaFN0YXJ0ID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRvdWNoU3RhcnRSZWYuY3VycmVudCA9IGdldFRvdWNoWFkoZXZlbnQpO1xuICAgICAgICBhY3RpdmVBeGlzLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgfSwgW10pO1xuICAgIHZhciBzY3JvbGxXaGVlbCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBzaG91bGRDYW5jZWwoZXZlbnQudHlwZSwgZ2V0RGVsdGFYWShldmVudCksIGV2ZW50LnRhcmdldCwgc2hvdWxkQ2FuY2VsRXZlbnQoZXZlbnQsIHByb3BzLmxvY2tSZWYuY3VycmVudCkpO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc2Nyb2xsVG91Y2hNb3ZlID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHNob3VsZENhbmNlbChldmVudC50eXBlLCBnZXRUb3VjaFhZKGV2ZW50KSwgZXZlbnQudGFyZ2V0LCBzaG91bGRDYW5jZWxFdmVudChldmVudCwgcHJvcHMubG9ja1JlZi5jdXJyZW50KSk7XG4gICAgfSwgW10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvY2tTdGFjay5wdXNoKFN0eWxlKTtcbiAgICAgICAgcHJvcHMuc2V0Q2FsbGJhY2tzKHtcbiAgICAgICAgICAgIG9uU2Nyb2xsQ2FwdHVyZTogc2Nyb2xsV2hlZWwsXG4gICAgICAgICAgICBvbldoZWVsQ2FwdHVyZTogc2Nyb2xsV2hlZWwsXG4gICAgICAgICAgICBvblRvdWNoTW92ZUNhcHR1cmU6IHNjcm9sbFRvdWNoTW92ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgc2hvdWxkUHJldmVudCwgbm9uUGFzc2l2ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNob3VsZFByZXZlbnQsIG5vblBhc3NpdmUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2Nyb2xsVG91Y2hTdGFydCwgbm9uUGFzc2l2ZSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2NrU3RhY2sgPSBsb2NrU3RhY2suZmlsdGVyKGZ1bmN0aW9uIChpbnN0KSB7IHJldHVybiBpbnN0ICE9PSBTdHlsZTsgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHNob3VsZFByZXZlbnQsIG5vblBhc3NpdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgc2hvdWxkUHJldmVudCwgbm9uUGFzc2l2ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2Nyb2xsVG91Y2hTdGFydCwgbm9uUGFzc2l2ZSk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHZhciByZW1vdmVTY3JvbGxCYXIgPSBwcm9wcy5yZW1vdmVTY3JvbGxCYXIsIGluZXJ0ID0gcHJvcHMuaW5lcnQ7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBpbmVydCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGUsIHsgc3R5bGVzOiBnZW5lcmF0ZVN0eWxlKGlkKSB9KSA6IG51bGwsXG4gICAgICAgIHJlbW92ZVNjcm9sbEJhciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVtb3ZlU2Nyb2xsQmFyLCB7IGdhcE1vZGU6IHByb3BzLmdhcE1vZGUgfSkgOiBudWxsKSk7XG59XG5mdW5jdGlvbiBnZXRPdXRlcm1vc3RTaGFkb3dQYXJlbnQobm9kZSkge1xuICAgIHZhciBzaGFkb3dQYXJlbnQgPSBudWxsO1xuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuICAgICAgICAgICAgc2hhZG93UGFyZW50ID0gbm9kZS5ob3N0O1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gc2hhZG93UGFyZW50O1xufVxuIiwgImltcG9ydCB7IFJlbW92ZVNjcm9sbEJhciB9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IHplcm9SaWdodENsYXNzTmFtZSwgZnVsbFdpZHRoQ2xhc3NOYW1lLCBub1Njcm9sbGJhcnNDbGFzc05hbWUsIHJlbW92ZWRCYXJTaXplVmFyaWFibGUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRHYXBXaWR0aCB9IGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IHsgUmVtb3ZlU2Nyb2xsQmFyLCB6ZXJvUmlnaHRDbGFzc05hbWUsIGZ1bGxXaWR0aENsYXNzTmFtZSwgbm9TY3JvbGxiYXJzQ2xhc3NOYW1lLCByZW1vdmVkQmFyU2l6ZVZhcmlhYmxlLCBnZXRHYXBXaWR0aCwgfTtcbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdHlsZVNpbmdsZXRvbiB9IGZyb20gJ3JlYWN0LXN0eWxlLXNpbmdsZXRvbic7XG5pbXBvcnQgeyBmdWxsV2lkdGhDbGFzc05hbWUsIHplcm9SaWdodENsYXNzTmFtZSwgbm9TY3JvbGxiYXJzQ2xhc3NOYW1lLCByZW1vdmVkQmFyU2l6ZVZhcmlhYmxlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0R2FwV2lkdGggfSBmcm9tICcuL3V0aWxzJztcbnZhciBTdHlsZSA9IHN0eWxlU2luZ2xldG9uKCk7XG5leHBvcnQgdmFyIGxvY2tBdHRyaWJ1dGUgPSAnZGF0YS1zY3JvbGwtbG9ja2VkJztcbi8vIGltcG9ydGFudCB0aXAgLSBvbmNlIHdlIG1lYXN1cmUgc2Nyb2xsQmFyIHdpZHRoIGFuZCByZW1vdmUgdGhlbVxuLy8gd2UgY291bGQgbm90IHJlcGVhdCB0aGlzIG9wZXJhdGlvblxuLy8gdGh1cyB3ZSBhcmUgdXNpbmcgc3R5bGUtc2luZ2xldG9uIC0gb25seSB0aGUgZmlyc3QgXCJ5ZXQgY29ycmVjdFwiIHN0eWxlIHdpbGwgYmUgYXBwbGllZC5cbnZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbiAoX2EsIGFsbG93UmVsYXRpdmUsIGdhcE1vZGUsIGltcG9ydGFudCkge1xuICAgIHZhciBsZWZ0ID0gX2EubGVmdCwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBnYXAgPSBfYS5nYXA7XG4gICAgaWYgKGdhcE1vZGUgPT09IHZvaWQgMCkgeyBnYXBNb2RlID0gJ21hcmdpbic7IH1cbiAgICByZXR1cm4gXCJcXG4gIC5cIi5jb25jYXQobm9TY3JvbGxiYXJzQ2xhc3NOYW1lLCBcIiB7XFxuICAgb3ZlcmZsb3c6IGhpZGRlbiBcIikuY29uY2F0KGltcG9ydGFudCwgXCI7XFxuICAgcGFkZGluZy1yaWdodDogXCIpLmNvbmNhdChnYXAsIFwicHggXCIpLmNvbmNhdChpbXBvcnRhbnQsIFwiO1xcbiAgfVxcbiAgYm9keVtcIikuY29uY2F0KGxvY2tBdHRyaWJ1dGUsIFwiXSB7XFxuICAgIG92ZXJmbG93OiBoaWRkZW4gXCIpLmNvbmNhdChpbXBvcnRhbnQsIFwiO1xcbiAgICBvdmVyc2Nyb2xsLWJlaGF2aW9yOiBjb250YWluO1xcbiAgICBcIikuY29uY2F0KFtcbiAgICAgICAgYWxsb3dSZWxhdGl2ZSAmJiBcInBvc2l0aW9uOiByZWxhdGl2ZSBcIi5jb25jYXQoaW1wb3J0YW50LCBcIjtcIiksXG4gICAgICAgIGdhcE1vZGUgPT09ICdtYXJnaW4nICYmXG4gICAgICAgICAgICBcIlxcbiAgICBwYWRkaW5nLWxlZnQ6IFwiLmNvbmNhdChsZWZ0LCBcInB4O1xcbiAgICBwYWRkaW5nLXRvcDogXCIpLmNvbmNhdCh0b3AsIFwicHg7XFxuICAgIHBhZGRpbmctcmlnaHQ6IFwiKS5jb25jYXQocmlnaHQsIFwicHg7XFxuICAgIG1hcmdpbi1sZWZ0OjA7XFxuICAgIG1hcmdpbi10b3A6MDtcXG4gICAgbWFyZ2luLXJpZ2h0OiBcIikuY29uY2F0KGdhcCwgXCJweCBcIikuY29uY2F0KGltcG9ydGFudCwgXCI7XFxuICAgIFwiKSxcbiAgICAgICAgZ2FwTW9kZSA9PT0gJ3BhZGRpbmcnICYmIFwicGFkZGluZy1yaWdodDogXCIuY29uY2F0KGdhcCwgXCJweCBcIikuY29uY2F0KGltcG9ydGFudCwgXCI7XCIpLFxuICAgIF1cbiAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAuam9pbignJyksIFwiXFxuICB9XFxuICBcXG4gIC5cIikuY29uY2F0KHplcm9SaWdodENsYXNzTmFtZSwgXCIge1xcbiAgICByaWdodDogXCIpLmNvbmNhdChnYXAsIFwicHggXCIpLmNvbmNhdChpbXBvcnRhbnQsIFwiO1xcbiAgfVxcbiAgXFxuICAuXCIpLmNvbmNhdChmdWxsV2lkdGhDbGFzc05hbWUsIFwiIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiBcIikuY29uY2F0KGdhcCwgXCJweCBcIikuY29uY2F0KGltcG9ydGFudCwgXCI7XFxuICB9XFxuICBcXG4gIC5cIikuY29uY2F0KHplcm9SaWdodENsYXNzTmFtZSwgXCIgLlwiKS5jb25jYXQoemVyb1JpZ2h0Q2xhc3NOYW1lLCBcIiB7XFxuICAgIHJpZ2h0OiAwIFwiKS5jb25jYXQoaW1wb3J0YW50LCBcIjtcXG4gIH1cXG4gIFxcbiAgLlwiKS5jb25jYXQoZnVsbFdpZHRoQ2xhc3NOYW1lLCBcIiAuXCIpLmNvbmNhdChmdWxsV2lkdGhDbGFzc05hbWUsIFwiIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwIFwiKS5jb25jYXQoaW1wb3J0YW50LCBcIjtcXG4gIH1cXG4gIFxcbiAgYm9keVtcIikuY29uY2F0KGxvY2tBdHRyaWJ1dGUsIFwiXSB7XFxuICAgIFwiKS5jb25jYXQocmVtb3ZlZEJhclNpemVWYXJpYWJsZSwgXCI6IFwiKS5jb25jYXQoZ2FwLCBcInB4O1xcbiAgfVxcblwiKTtcbn07XG52YXIgZ2V0Q3VycmVudFVzZUNvdW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvdW50ZXIgPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZShsb2NrQXR0cmlidXRlKSB8fCAnMCcsIDEwKTtcbiAgICByZXR1cm4gaXNGaW5pdGUoY291bnRlcikgPyBjb3VudGVyIDogMDtcbn07XG5leHBvcnQgdmFyIHVzZUxvY2tBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUobG9ja0F0dHJpYnV0ZSwgKGdldEN1cnJlbnRVc2VDb3VudGVyKCkgKyAxKS50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdDb3VudGVyID0gZ2V0Q3VycmVudFVzZUNvdW50ZXIoKSAtIDE7XG4gICAgICAgICAgICBpZiAobmV3Q291bnRlciA8PSAwKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUobG9ja0F0dHJpYnV0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZShsb2NrQXR0cmlidXRlLCBuZXdDb3VudGVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbn07XG4vKipcbiAqIFJlbW92ZXMgcGFnZSBzY3JvbGxiYXIgYW5kIGJsb2NrcyBwYWdlIHNjcm9sbCB3aGVuIG1vdW50ZWRcbiAqL1xuZXhwb3J0IHZhciBSZW1vdmVTY3JvbGxCYXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgbm9SZWxhdGl2ZSA9IF9hLm5vUmVsYXRpdmUsIG5vSW1wb3J0YW50ID0gX2Eubm9JbXBvcnRhbnQsIF9iID0gX2EuZ2FwTW9kZSwgZ2FwTW9kZSA9IF9iID09PSB2b2lkIDAgPyAnbWFyZ2luJyA6IF9iO1xuICAgIHVzZUxvY2tBdHRyaWJ1dGUoKTtcbiAgICAvKlxuICAgICBnYXAgd2lsbCBiZSBtZWFzdXJlZCBvbiBldmVyeSBjb21wb25lbnQgbW91bnRcbiAgICAgaG93ZXZlciBpdCB3aWxsIGJlIHVzZWQgb25seSBieSB0aGUgXCJmaXJzdFwiIGludm9jYXRpb25cbiAgICAgZHVlIHRvIHNpbmdsZXRvbiBuYXR1cmUgb2YgPFN0eWxlXG4gICAgICovXG4gICAgdmFyIGdhcCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0R2FwV2lkdGgoZ2FwTW9kZSk7IH0sIFtnYXBNb2RlXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGUsIHsgc3R5bGVzOiBnZXRTdHlsZXMoZ2FwLCAhbm9SZWxhdGl2ZSwgZ2FwTW9kZSwgIW5vSW1wb3J0YW50ID8gJyFpbXBvcnRhbnQnIDogJycpIH0pO1xufTtcbiIsICJleHBvcnQgeyBzdHlsZVNpbmdsZXRvbiB9IGZyb20gJy4vY29tcG9uZW50JztcbmV4cG9ydCB7IHN0eWxlc2hlZXRTaW5nbGV0b24gfSBmcm9tICcuL3NpbmdsZXRvbic7XG5leHBvcnQgeyBzdHlsZUhvb2tTaW5nbGV0b24gfSBmcm9tICcuL2hvb2snO1xuIiwgImltcG9ydCB7IHN0eWxlSG9va1NpbmdsZXRvbiB9IGZyb20gJy4vaG9vayc7XG4vKipcbiAqIGNyZWF0ZSBhIENvbXBvbmVudCB0byBhZGQgc3R5bGVzIG9uIGRlbWFuZFxuICogLSBzdHlsZXMgYXJlIGFkZGVkIHdoZW4gZmlyc3QgaW5zdGFuY2UgaXMgbW91bnRlZFxuICogLSBzdHlsZXMgYXJlIHJlbW92ZWQgd2hlbiB0aGUgbGFzdCBpbnN0YW5jZSBpcyB1bm1vdW50ZWRcbiAqIC0gY2hhbmdpbmcgc3R5bGVzIGluIHJ1bnRpbWUgZG9lcyBub3RoaW5nIHVubGVzcyBkeW5hbWljIGlzIHNldC4gQnV0IHdpdGggbXVsdGlwbGUgY29tcG9uZW50cyB0aGF0IGNhbiBsZWFkIHRvIHRoZSB1bmRlZmluZWQgYmVoYXZpb3JcbiAqL1xuZXhwb3J0IHZhciBzdHlsZVNpbmdsZXRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdXNlU3R5bGUgPSBzdHlsZUhvb2tTaW5nbGV0b24oKTtcbiAgICB2YXIgU2hlZXQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IF9hLnN0eWxlcywgZHluYW1pYyA9IF9hLmR5bmFtaWM7XG4gICAgICAgIHVzZVN0eWxlKHN0eWxlcywgZHluYW1pYyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFNoZWV0O1xufTtcbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdHlsZXNoZWV0U2luZ2xldG9uIH0gZnJvbSAnLi9zaW5nbGV0b24nO1xuLyoqXG4gKiBjcmVhdGVzIGEgaG9vayB0byBjb250cm9sIHN0eWxlIHNpbmdsZXRvblxuICogQHNlZSB7QGxpbmsgc3R5bGVTaW5nbGV0b259IGZvciBhIHNhZmVyIGNvbXBvbmVudCB2ZXJzaW9uXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBjb25zdCB1c2VTdHlsZSA9IHN0eWxlSG9va1NpbmdsZXRvbigpO1xuICogLy8vXG4gKiB1c2VTdHlsZSgnYm9keSB7IG92ZXJmbG93OiBoaWRkZW59Jyk7XG4gKi9cbmV4cG9ydCB2YXIgc3R5bGVIb29rU2luZ2xldG9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaGVldCA9IHN0eWxlc2hlZXRTaW5nbGV0b24oKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0eWxlcywgaXNEeW5hbWljKSB7XG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzaGVldC5hZGQoc3R5bGVzKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2hlZXQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBbc3R5bGVzICYmIGlzRHluYW1pY10pO1xuICAgIH07XG59O1xuIiwgImltcG9ydCB7IGdldE5vbmNlIH0gZnJvbSAnZ2V0LW5vbmNlJztcbmZ1bmN0aW9uIG1ha2VTdHlsZVRhZygpIHtcbiAgICBpZiAoIWRvY3VtZW50KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICB0YWcudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgdmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcbiAgICBpZiAobm9uY2UpIHtcbiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgfVxuICAgIHJldHVybiB0YWc7XG59XG5mdW5jdGlvbiBpbmplY3RTdHlsZXModGFnLCBjc3MpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHRhZy5zdHlsZVNoZWV0KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGFnLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnRTdHlsZVRhZyh0YWcpIHtcbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBoZWFkLmFwcGVuZENoaWxkKHRhZyk7XG59XG5leHBvcnQgdmFyIHN0eWxlc2hlZXRTaW5nbGV0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvdW50ZXIgPSAwO1xuICAgIHZhciBzdHlsZXNoZWV0ID0gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICgoc3R5bGVzaGVldCA9IG1ha2VTdHlsZVRhZygpKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RTdHlsZXMoc3R5bGVzaGVldCwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRTdHlsZVRhZyhzdHlsZXNoZWV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY291bnRlci0tO1xuICAgICAgICAgICAgaWYgKCFjb3VudGVyICYmIHN0eWxlc2hlZXQ